const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-rVzkkR5u.js","assets/isAddressEqual-wxI-f8LD.js","assets/index-CZhaPLV9.js","assets/hooks.module-DhrcrWhw.js","assets/index-BI3mwhUJ.js","assets/tslib.es6-B2dMZmZB.js","assets/index.lazy-Wh4_wIZF.js","assets/button-DozeTWs7.js","assets/card-Tz-lKvdZ.js","assets/avatar-C84QqmcH.js","assets/hover-card-x6lvMhaP.js","assets/index-CwtAhLPf.js","assets/use-media-query-Cf0MutE6.js","assets/index-_9ZZbDRV.js","assets/index-mOVHbD_D.js","assets/Soulbound-CmR8Z5qD.js","assets/book-open-check-DwnNmHnZ.js","assets/isGridVisibleAtom-Bkn7bP2W.js","assets/animatedGrid-3x5fjIRb.css","assets/index.lazy-BxnGBo98.js","assets/input-CXhnvB7y.js","assets/useAccount-B-fxn6Ea.js","assets/index.lazy-DTOdq7D4.js","assets/table-CKfJyGe1.js","assets/index-DybL32Wp.js","assets/index-BrckPf8Z.js","assets/secp256k1-FgJ0brOx.js","assets/useQuery-Bk9H9nyS.js","assets/dialog-RdzZ4cFy.js","assets/MarkdownEditor-BxHBmKSR.js","assets/markdown-editor-C_h4p6BX.js","assets/markdown-editor-xvRdqs7o.css","assets/index-Cvzteuwi.css","assets/index.lazy-C0dBNFpY.js","assets/index.lazy-BVYyAVot.js","assets/_user.lazy-CKh0m5F6.js","assets/index-BRRQBQIQ.js","assets/gql-DHmsBT2a.js","assets/carousel-Dgf8_bUl.js","assets/_id.lazy-BbDSj5wQ.js","assets/index.lazy-CnmOQA3y.js","assets/index-DyKbFqM3.css"])))=>i.map(i=>d[i]);
var mA=Object.defineProperty;var d6=Fn=>{throw TypeError(Fn)};var wA=(Fn,Mn,io)=>Mn in Fn?mA(Fn,Mn,{enumerable:!0,configurable:!0,writable:!0,value:io}):Fn[Mn]=io;var tp=(Fn,Mn,io)=>wA(Fn,typeof Mn!="symbol"?Mn+"":Mn,io),s$=(Fn,Mn,io)=>Mn.has(Fn)||d6("Cannot "+io);var cp=(Fn,Mn,io)=>(s$(Fn,Mn,"read from private field"),io?io.call(Fn):Mn.get(Fn)),a1=(Fn,Mn,io)=>Mn.has(Fn)?d6("Cannot add the same private member more than once"):Mn instanceof WeakSet?Mn.add(Fn):Mn.set(Fn,io),Zp=(Fn,Mn,io,fo)=>(s$(Fn,Mn,"write to private field"),fo?fo.call(Fn,io):Mn.set(Fn,io),io),q1=(Fn,Mn,io)=>(s$(Fn,Mn,"access private method"),io);var q2=(Fn,Mn,io,fo)=>({set _(mo){Zp(Fn,Mn,mo,io)},get _(){return cp(Fn,Mn,fo)}});function _mergeNamespaces(Fn,Mn){for(var io=0;io<Mn.length;io++){const fo=Mn[io];if(typeof fo!="string"&&!Array.isArray(fo)){for(const mo in fo)if(mo!=="default"&&!(mo in Fn)){const $o=Object.getOwnPropertyDescriptor(fo,mo);$o&&Object.defineProperty(Fn,mo,$o.get?$o:{enumerable:!0,get:()=>fo[mo]})}}}return Object.freeze(Object.defineProperty(Fn,Symbol.toStringTag,{value:"Module"}))}(function(){const Mn=document.createElement("link").relList;if(Mn&&Mn.supports&&Mn.supports("modulepreload"))return;for(const mo of document.querySelectorAll('link[rel="modulepreload"]'))fo(mo);new MutationObserver(mo=>{for(const $o of mo)if($o.type==="childList")for(const Ao of $o.addedNodes)Ao.tagName==="LINK"&&Ao.rel==="modulepreload"&&fo(Ao)}).observe(document,{childList:!0,subtree:!0});function io(mo){const $o={};return mo.integrity&&($o.integrity=mo.integrity),mo.referrerPolicy&&($o.referrerPolicy=mo.referrerPolicy),mo.crossOrigin==="use-credentials"?$o.credentials="include":mo.crossOrigin==="anonymous"?$o.credentials="omit":$o.credentials="same-origin",$o}function fo(mo){if(mo.ep)return;mo.ep=!0;const $o=io(mo);fetch(mo.href,$o)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(Fn){return Fn&&Fn.__esModule&&Object.prototype.hasOwnProperty.call(Fn,"default")?Fn.default:Fn}function getAugmentedNamespace(Fn){if(Fn.__esModule)return Fn;var Mn=Fn.default;if(typeof Mn=="function"){var io=function fo(){return this instanceof fo?Reflect.construct(Mn,arguments,this.constructor):Mn.apply(this,arguments)};io.prototype=Mn.prototype}else io={};return Object.defineProperty(io,"__esModule",{value:!0}),Object.keys(Fn).forEach(function(fo){var mo=Object.getOwnPropertyDescriptor(Fn,fo);Object.defineProperty(io,fo,mo.get?mo:{enumerable:!0,get:function(){return Fn[fo]}})}),io}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$b=Symbol.for("react.element"),n$l=Symbol.for("react.portal"),p$c=Symbol.for("react.fragment"),q$4=Symbol.for("react.strict_mode"),r$m=Symbol.for("react.profiler"),t$a=Symbol.for("react.provider"),u$9=Symbol.for("react.context"),v$a=Symbol.for("react.forward_ref"),w$6=Symbol.for("react.suspense"),x$6=Symbol.for("react.memo"),y$9=Symbol.for("react.lazy"),z$9=Symbol.iterator;function A$6(Fn){return Fn===null||typeof Fn!="object"?null:(Fn=z$9&&Fn[z$9]||Fn["@@iterator"],typeof Fn=="function"?Fn:null)}var B$4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$6=Object.assign,D$4={};function E$6(Fn,Mn,io){this.props=Fn,this.context=Mn,this.refs=D$4,this.updater=io||B$4}E$6.prototype.isReactComponent={};E$6.prototype.setState=function(Fn,Mn){if(typeof Fn!="object"&&typeof Fn!="function"&&Fn!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Fn,Mn,"setState")};E$6.prototype.forceUpdate=function(Fn){this.updater.enqueueForceUpdate(this,Fn,"forceUpdate")};function F$3(){}F$3.prototype=E$6.prototype;function G$3(Fn,Mn,io){this.props=Fn,this.context=Mn,this.refs=D$4,this.updater=io||B$4}var H$3=G$3.prototype=new F$3;H$3.constructor=G$3;C$6(H$3,E$6.prototype);H$3.isPureReactComponent=!0;var I$6=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$4={current:null},L$5={key:!0,ref:!0,__self:!0,__source:!0};function M$6(Fn,Mn,io){var fo,mo={},$o=null,Ao=null;if(Mn!=null)for(fo in Mn.ref!==void 0&&(Ao=Mn.ref),Mn.key!==void 0&&($o=""+Mn.key),Mn)J$1.call(Mn,fo)&&!L$5.hasOwnProperty(fo)&&(mo[fo]=Mn[fo]);var Lo=arguments.length-2;if(Lo===1)mo.children=io;else if(1<Lo){for(var Wo=Array(Lo),jo=0;jo<Lo;jo++)Wo[jo]=arguments[jo+2];mo.children=Wo}if(Fn&&Fn.defaultProps)for(fo in Lo=Fn.defaultProps,Lo)mo[fo]===void 0&&(mo[fo]=Lo[fo]);return{$$typeof:l$b,type:Fn,key:$o,ref:Ao,props:mo,_owner:K$4.current}}function N$4(Fn,Mn){return{$$typeof:l$b,type:Fn.type,key:Mn,ref:Fn.ref,props:Fn.props,_owner:Fn._owner}}function O$7(Fn){return typeof Fn=="object"&&Fn!==null&&Fn.$$typeof===l$b}function escape(Fn){var Mn={"=":"=0",":":"=2"};return"$"+Fn.replace(/[=:]/g,function(io){return Mn[io]})}var P$6=/\/+/g;function Q$4(Fn,Mn){return typeof Fn=="object"&&Fn!==null&&Fn.key!=null?escape(""+Fn.key):Mn.toString(36)}function R$5(Fn,Mn,io,fo,mo){var $o=typeof Fn;($o==="undefined"||$o==="boolean")&&(Fn=null);var Ao=!1;if(Fn===null)Ao=!0;else switch($o){case"string":case"number":Ao=!0;break;case"object":switch(Fn.$$typeof){case l$b:case n$l:Ao=!0}}if(Ao)return Ao=Fn,mo=mo(Ao),Fn=fo===""?"."+Q$4(Ao,0):fo,I$6(mo)?(io="",Fn!=null&&(io=Fn.replace(P$6,"$&/")+"/"),R$5(mo,Mn,io,"",function(jo){return jo})):mo!=null&&(O$7(mo)&&(mo=N$4(mo,io+(!mo.key||Ao&&Ao.key===mo.key?"":(""+mo.key).replace(P$6,"$&/")+"/")+Fn)),Mn.push(mo)),1;if(Ao=0,fo=fo===""?".":fo+":",I$6(Fn))for(var Lo=0;Lo<Fn.length;Lo++){$o=Fn[Lo];var Wo=fo+Q$4($o,Lo);Ao+=R$5($o,Mn,io,Wo,mo)}else if(Wo=A$6(Fn),typeof Wo=="function")for(Fn=Wo.call(Fn),Lo=0;!($o=Fn.next()).done;)$o=$o.value,Wo=fo+Q$4($o,Lo++),Ao+=R$5($o,Mn,io,Wo,mo);else if($o==="object")throw Mn=String(Fn),Error("Objects are not valid as a React child (found: "+(Mn==="[object Object]"?"object with keys {"+Object.keys(Fn).join(", ")+"}":Mn)+"). If you meant to render a collection of children, use an array instead.");return Ao}function S$9(Fn,Mn,io){if(Fn==null)return Fn;var fo=[],mo=0;return R$5(Fn,fo,"","",function($o){return Mn.call(io,$o,mo++)}),fo}function T$7(Fn){if(Fn._status===-1){var Mn=Fn._result;Mn=Mn(),Mn.then(function(io){(Fn._status===0||Fn._status===-1)&&(Fn._status=1,Fn._result=io)},function(io){(Fn._status===0||Fn._status===-1)&&(Fn._status=2,Fn._result=io)}),Fn._status===-1&&(Fn._status=0,Fn._result=Mn)}if(Fn._status===1)return Fn._result.default;throw Fn._result}var U$3={current:null},V$5={transition:null},W$2={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$5,ReactCurrentOwner:K$4};function X$3(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$9,forEach:function(Fn,Mn,io){S$9(Fn,function(){Mn.apply(this,arguments)},io)},count:function(Fn){var Mn=0;return S$9(Fn,function(){Mn++}),Mn},toArray:function(Fn){return S$9(Fn,function(Mn){return Mn})||[]},only:function(Fn){if(!O$7(Fn))throw Error("React.Children.only expected to receive a single React element child.");return Fn}};react_production_min.Component=E$6;react_production_min.Fragment=p$c;react_production_min.Profiler=r$m;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$4;react_production_min.Suspense=w$6;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$3;react_production_min.cloneElement=function(Fn,Mn,io){if(Fn==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Fn+".");var fo=C$6({},Fn.props),mo=Fn.key,$o=Fn.ref,Ao=Fn._owner;if(Mn!=null){if(Mn.ref!==void 0&&($o=Mn.ref,Ao=K$4.current),Mn.key!==void 0&&(mo=""+Mn.key),Fn.type&&Fn.type.defaultProps)var Lo=Fn.type.defaultProps;for(Wo in Mn)J$1.call(Mn,Wo)&&!L$5.hasOwnProperty(Wo)&&(fo[Wo]=Mn[Wo]===void 0&&Lo!==void 0?Lo[Wo]:Mn[Wo])}var Wo=arguments.length-2;if(Wo===1)fo.children=io;else if(1<Wo){Lo=Array(Wo);for(var jo=0;jo<Wo;jo++)Lo[jo]=arguments[jo+2];fo.children=Lo}return{$$typeof:l$b,type:Fn.type,key:mo,ref:$o,props:fo,_owner:Ao}};react_production_min.createContext=function(Fn){return Fn={$$typeof:u$9,_currentValue:Fn,_currentValue2:Fn,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Fn.Provider={$$typeof:t$a,_context:Fn},Fn.Consumer=Fn};react_production_min.createElement=M$6;react_production_min.createFactory=function(Fn){var Mn=M$6.bind(null,Fn);return Mn.type=Fn,Mn};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(Fn){return{$$typeof:v$a,render:Fn}};react_production_min.isValidElement=O$7;react_production_min.lazy=function(Fn){return{$$typeof:y$9,_payload:{_status:-1,_result:Fn},_init:T$7}};react_production_min.memo=function(Fn,Mn){return{$$typeof:x$6,type:Fn,compare:Mn===void 0?null:Mn}};react_production_min.startTransition=function(Fn){var Mn=V$5.transition;V$5.transition={};try{Fn()}finally{V$5.transition=Mn}};react_production_min.unstable_act=X$3;react_production_min.useCallback=function(Fn,Mn){return U$3.current.useCallback(Fn,Mn)};react_production_min.useContext=function(Fn){return U$3.current.useContext(Fn)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(Fn){return U$3.current.useDeferredValue(Fn)};react_production_min.useEffect=function(Fn,Mn){return U$3.current.useEffect(Fn,Mn)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(Fn,Mn,io){return U$3.current.useImperativeHandle(Fn,Mn,io)};react_production_min.useInsertionEffect=function(Fn,Mn){return U$3.current.useInsertionEffect(Fn,Mn)};react_production_min.useLayoutEffect=function(Fn,Mn){return U$3.current.useLayoutEffect(Fn,Mn)};react_production_min.useMemo=function(Fn,Mn){return U$3.current.useMemo(Fn,Mn)};react_production_min.useReducer=function(Fn,Mn,io){return U$3.current.useReducer(Fn,Mn,io)};react_production_min.useRef=function(Fn){return U$3.current.useRef(Fn)};react_production_min.useState=function(Fn){return U$3.current.useState(Fn)};react_production_min.useSyncExternalStore=function(Fn,Mn,io){return U$3.current.useSyncExternalStore(Fn,Mn,io)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$d=reactExports,k$5=Symbol.for("react.element"),l$a=Symbol.for("react.fragment"),m$6=Object.prototype.hasOwnProperty,n$k=f$d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$b={key:!0,ref:!0,__self:!0,__source:!0};function q$3(Fn,Mn,io){var fo,mo={},$o=null,Ao=null;io!==void 0&&($o=""+io),Mn.key!==void 0&&($o=""+Mn.key),Mn.ref!==void 0&&(Ao=Mn.ref);for(fo in Mn)m$6.call(Mn,fo)&&!p$b.hasOwnProperty(fo)&&(mo[fo]=Mn[fo]);if(Fn&&Fn.defaultProps)for(fo in Mn=Fn.defaultProps,Mn)mo[fo]===void 0&&(mo[fo]=Mn[fo]);return{$$typeof:k$5,type:Fn,key:$o,ref:Ao,props:mo,_owner:n$k.current}}reactJsxRuntime_production_min.Fragment=l$a;reactJsxRuntime_production_min.jsx=q$3;reactJsxRuntime_production_min.jsxs=q$3;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(Fn){function Mn(Sl,Tl){var hs=Sl.length;Sl.push(Tl);e:for(;0<hs;){var yl=hs-1>>>1,Fl=Sl[yl];if(0<mo(Fl,Tl))Sl[yl]=Tl,Sl[hs]=Fl,hs=yl;else break e}}function io(Sl){return Sl.length===0?null:Sl[0]}function fo(Sl){if(Sl.length===0)return null;var Tl=Sl[0],hs=Sl.pop();if(hs!==Tl){Sl[0]=hs;e:for(var yl=0,Fl=Sl.length,Xl=Fl>>>1;yl<Xl;){var bu=2*(yl+1)-1,Ul=Sl[bu],yu=bu+1,Vl=Sl[yu];if(0>mo(Ul,hs))yu<Fl&&0>mo(Vl,Ul)?(Sl[yl]=Vl,Sl[yu]=hs,yl=yu):(Sl[yl]=Ul,Sl[bu]=hs,yl=bu);else if(yu<Fl&&0>mo(Vl,hs))Sl[yl]=Vl,Sl[yu]=hs,yl=yu;else break e}}return Tl}function mo(Sl,Tl){var hs=Sl.sortIndex-Tl.sortIndex;return hs!==0?hs:Sl.id-Tl.id}if(typeof performance=="object"&&typeof performance.now=="function"){var $o=performance;Fn.unstable_now=function(){return $o.now()}}else{var Ao=Date,Lo=Ao.now();Fn.unstable_now=function(){return Ao.now()-Lo}}var Wo=[],jo=[],zo=1,Vo=null,Go=3,Jo=!1,Qo=!1,os=!1,Cl=typeof setTimeout=="function"?setTimeout:null,xl=typeof clearTimeout=="function"?clearTimeout:null,ds=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _c(Sl){for(var Tl=io(jo);Tl!==null;){if(Tl.callback===null)fo(jo);else if(Tl.startTime<=Sl)fo(jo),Tl.sortIndex=Tl.expirationTime,Mn(Wo,Tl);else break;Tl=io(jo)}}function $l(Sl){if(os=!1,_c(Sl),!Qo)if(io(Wo)!==null)Qo=!0,El(Al);else{var Tl=io(jo);Tl!==null&&Pl($l,Tl.startTime-Sl)}}function Al(Sl,Tl){Qo=!1,os&&(os=!1,xl(ps),ps=-1),Jo=!0;var hs=Go;try{for(_c(Tl),Vo=io(Wo);Vo!==null&&(!(Vo.expirationTime>Tl)||Sl&&!Nl());){var yl=Vo.callback;if(typeof yl=="function"){Vo.callback=null,Go=Vo.priorityLevel;var Fl=yl(Vo.expirationTime<=Tl);Tl=Fn.unstable_now(),typeof Fl=="function"?Vo.callback=Fl:Vo===io(Wo)&&fo(Wo),_c(Tl)}else fo(Wo);Vo=io(Wo)}if(Vo!==null)var Xl=!0;else{var bu=io(jo);bu!==null&&Pl($l,bu.startTime-Tl),Xl=!1}return Xl}finally{Vo=null,Go=hs,Jo=!1}}var Il=!1,us=null,ps=-1,Rl=5,Wl=-1;function Nl(){return!(Fn.unstable_now()-Wl<Rl)}function wl(){if(us!==null){var Sl=Fn.unstable_now();Wl=Sl;var Tl=!0;try{Tl=us(!0,Sl)}finally{Tl?Xo():(Il=!1,us=null)}}else Il=!1}var Xo;if(typeof ds=="function")Xo=function(){ds(wl)};else if(typeof MessageChannel<"u"){var rs=new MessageChannel,as=rs.port2;rs.port1.onmessage=wl,Xo=function(){as.postMessage(null)}}else Xo=function(){Cl(wl,0)};function El(Sl){us=Sl,Il||(Il=!0,Xo())}function Pl(Sl,Tl){ps=Cl(function(){Sl(Fn.unstable_now())},Tl)}Fn.unstable_IdlePriority=5,Fn.unstable_ImmediatePriority=1,Fn.unstable_LowPriority=4,Fn.unstable_NormalPriority=3,Fn.unstable_Profiling=null,Fn.unstable_UserBlockingPriority=2,Fn.unstable_cancelCallback=function(Sl){Sl.callback=null},Fn.unstable_continueExecution=function(){Qo||Jo||(Qo=!0,El(Al))},Fn.unstable_forceFrameRate=function(Sl){0>Sl||125<Sl?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Rl=0<Sl?Math.floor(1e3/Sl):5},Fn.unstable_getCurrentPriorityLevel=function(){return Go},Fn.unstable_getFirstCallbackNode=function(){return io(Wo)},Fn.unstable_next=function(Sl){switch(Go){case 1:case 2:case 3:var Tl=3;break;default:Tl=Go}var hs=Go;Go=Tl;try{return Sl()}finally{Go=hs}},Fn.unstable_pauseExecution=function(){},Fn.unstable_requestPaint=function(){},Fn.unstable_runWithPriority=function(Sl,Tl){switch(Sl){case 1:case 2:case 3:case 4:case 5:break;default:Sl=3}var hs=Go;Go=Sl;try{return Tl()}finally{Go=hs}},Fn.unstable_scheduleCallback=function(Sl,Tl,hs){var yl=Fn.unstable_now();switch(typeof hs=="object"&&hs!==null?(hs=hs.delay,hs=typeof hs=="number"&&0<hs?yl+hs:yl):hs=yl,Sl){case 1:var Fl=-1;break;case 2:Fl=250;break;case 5:Fl=1073741823;break;case 4:Fl=1e4;break;default:Fl=5e3}return Fl=hs+Fl,Sl={id:zo++,callback:Tl,priorityLevel:Sl,startTime:hs,expirationTime:Fl,sortIndex:-1},hs>yl?(Sl.sortIndex=hs,Mn(jo,Sl),io(Wo)===null&&Sl===io(jo)&&(os?(xl(ps),ps=-1):os=!0,Pl($l,hs-yl))):(Sl.sortIndex=Fl,Mn(Wo,Sl),Qo||Jo||(Qo=!0,El(Al))),Sl},Fn.unstable_shouldYield=Nl,Fn.unstable_wrapCallback=function(Sl){var Tl=Go;return function(){var hs=Go;Go=Tl;try{return Sl.apply(this,arguments)}finally{Go=hs}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports,ca$1=schedulerExports;function p$a(Fn){for(var Mn="https://reactjs.org/docs/error-decoder.html?invariant="+Fn,io=1;io<arguments.length;io++)Mn+="&args[]="+encodeURIComponent(arguments[io]);return"Minified React error #"+Fn+"; visit "+Mn+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$1=new Set,ea$1={};function fa$1(Fn,Mn){ha$1(Fn,Mn),ha$1(Fn+"Capture",Mn)}function ha$1(Fn,Mn){for(ea$1[Fn]=Mn,Fn=0;Fn<Mn.length;Fn++)da$1.add(Mn[Fn])}var ia$1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja$1=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la$1={},ma$1={};function oa$1(Fn){return ja$1.call(ma$1,Fn)?!0:ja$1.call(la$1,Fn)?!1:ka$1.test(Fn)?ma$1[Fn]=!0:(la$1[Fn]=!0,!1)}function pa$1(Fn,Mn,io,fo){if(io!==null&&io.type===0)return!1;switch(typeof Mn){case"function":case"symbol":return!0;case"boolean":return fo?!1:io!==null?!io.acceptsBooleans:(Fn=Fn.toLowerCase().slice(0,5),Fn!=="data-"&&Fn!=="aria-");default:return!1}}function qa$2(Fn,Mn,io,fo){if(Mn===null||typeof Mn>"u"||pa$1(Fn,Mn,io,fo))return!0;if(fo)return!1;if(io!==null)switch(io.type){case 3:return!Mn;case 4:return Mn===!1;case 5:return isNaN(Mn);case 6:return isNaN(Mn)||1>Mn}return!1}function v$9(Fn,Mn,io,fo,mo,$o,Ao){this.acceptsBooleans=Mn===2||Mn===3||Mn===4,this.attributeName=fo,this.attributeNamespace=mo,this.mustUseProperty=io,this.propertyName=Fn,this.type=Mn,this.sanitizeURL=$o,this.removeEmptyString=Ao}var z$8={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(Fn){z$8[Fn]=new v$9(Fn,0,!1,Fn,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(Fn){var Mn=Fn[0];z$8[Mn]=new v$9(Mn,1,!1,Fn[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(Fn){z$8[Fn]=new v$9(Fn,2,!1,Fn.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(Fn){z$8[Fn]=new v$9(Fn,2,!1,Fn,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(Fn){z$8[Fn]=new v$9(Fn,3,!1,Fn.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(Fn){z$8[Fn]=new v$9(Fn,3,!0,Fn,null,!1,!1)});["capture","download"].forEach(function(Fn){z$8[Fn]=new v$9(Fn,4,!1,Fn,null,!1,!1)});["cols","rows","size","span"].forEach(function(Fn){z$8[Fn]=new v$9(Fn,6,!1,Fn,null,!1,!1)});["rowSpan","start"].forEach(function(Fn){z$8[Fn]=new v$9(Fn,5,!1,Fn.toLowerCase(),null,!1,!1)});var ra$1=/[\-:]([a-z])/g;function sa$1(Fn){return Fn[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(Fn){var Mn=Fn.replace(ra$1,sa$1);z$8[Mn]=new v$9(Mn,1,!1,Fn,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(Fn){var Mn=Fn.replace(ra$1,sa$1);z$8[Mn]=new v$9(Mn,1,!1,Fn,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(Fn){var Mn=Fn.replace(ra$1,sa$1);z$8[Mn]=new v$9(Mn,1,!1,Fn,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(Fn){z$8[Fn]=new v$9(Fn,1,!1,Fn.toLowerCase(),null,!1,!1)});z$8.xlinkHref=new v$9("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(Fn){z$8[Fn]=new v$9(Fn,1,!1,Fn.toLowerCase(),null,!0,!0)});function ta$1(Fn,Mn,io,fo){var mo=z$8.hasOwnProperty(Mn)?z$8[Mn]:null;(mo!==null?mo.type!==0:fo||!(2<Mn.length)||Mn[0]!=="o"&&Mn[0]!=="O"||Mn[1]!=="n"&&Mn[1]!=="N")&&(qa$2(Mn,io,mo,fo)&&(io=null),fo||mo===null?oa$1(Mn)&&(io===null?Fn.removeAttribute(Mn):Fn.setAttribute(Mn,""+io)):mo.mustUseProperty?Fn[mo.propertyName]=io===null?mo.type===3?!1:"":io:(Mn=mo.attributeName,fo=mo.attributeNamespace,io===null?Fn.removeAttribute(Mn):(mo=mo.type,io=mo===3||mo===4&&io===!0?"":""+io,fo?Fn.setAttributeNS(fo,Mn,io):Fn.setAttribute(Mn,io))))}var ua$1=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$1=Symbol.for("react.element"),wa$1=Symbol.for("react.portal"),ya$2=Symbol.for("react.fragment"),za$1=Symbol.for("react.strict_mode"),Aa$1=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca$1=Symbol.for("react.context"),Da$2=Symbol.for("react.forward_ref"),Ea$1=Symbol.for("react.suspense"),Fa$2=Symbol.for("react.suspense_list"),Ga$1=Symbol.for("react.memo"),Ha$2=Symbol.for("react.lazy"),Ia$1=Symbol.for("react.offscreen"),Ja$1=Symbol.iterator;function Ka$1(Fn){return Fn===null||typeof Fn!="object"?null:(Fn=Ja$1&&Fn[Ja$1]||Fn["@@iterator"],typeof Fn=="function"?Fn:null)}var A$5=Object.assign,La$2;function Ma$1(Fn){if(La$2===void 0)try{throw Error()}catch(io){var Mn=io.stack.trim().match(/\n( *(at )?)/);La$2=Mn&&Mn[1]||""}return`
`+La$2+Fn}var Na$2=!1;function Oa$2(Fn,Mn){if(!Fn||Na$2)return"";Na$2=!0;var io=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(Mn)if(Mn=function(){throw Error()},Object.defineProperty(Mn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Mn,[])}catch(jo){var fo=jo}Reflect.construct(Fn,[],Mn)}else{try{Mn.call()}catch(jo){fo=jo}Fn.call(Mn.prototype)}else{try{throw Error()}catch(jo){fo=jo}Fn()}}catch(jo){if(jo&&fo&&typeof jo.stack=="string"){for(var mo=jo.stack.split(`
`),$o=fo.stack.split(`
`),Ao=mo.length-1,Lo=$o.length-1;1<=Ao&&0<=Lo&&mo[Ao]!==$o[Lo];)Lo--;for(;1<=Ao&&0<=Lo;Ao--,Lo--)if(mo[Ao]!==$o[Lo]){if(Ao!==1||Lo!==1)do if(Ao--,Lo--,0>Lo||mo[Ao]!==$o[Lo]){var Wo=`
`+mo[Ao].replace(" at new "," at ");return Fn.displayName&&Wo.includes("<anonymous>")&&(Wo=Wo.replace("<anonymous>",Fn.displayName)),Wo}while(1<=Ao&&0<=Lo);break}}}finally{Na$2=!1,Error.prepareStackTrace=io}return(Fn=Fn?Fn.displayName||Fn.name:"")?Ma$1(Fn):""}function Pa$1(Fn){switch(Fn.tag){case 5:return Ma$1(Fn.type);case 16:return Ma$1("Lazy");case 13:return Ma$1("Suspense");case 19:return Ma$1("SuspenseList");case 0:case 2:case 15:return Fn=Oa$2(Fn.type,!1),Fn;case 11:return Fn=Oa$2(Fn.type.render,!1),Fn;case 1:return Fn=Oa$2(Fn.type,!0),Fn;default:return""}}function Qa$1(Fn){if(Fn==null)return null;if(typeof Fn=="function")return Fn.displayName||Fn.name||null;if(typeof Fn=="string")return Fn;switch(Fn){case ya$2:return"Fragment";case wa$1:return"Portal";case Aa$1:return"Profiler";case za$1:return"StrictMode";case Ea$1:return"Suspense";case Fa$2:return"SuspenseList"}if(typeof Fn=="object")switch(Fn.$$typeof){case Ca$1:return(Fn.displayName||"Context")+".Consumer";case Ba$1:return(Fn._context.displayName||"Context")+".Provider";case Da$2:var Mn=Fn.render;return Fn=Fn.displayName,Fn||(Fn=Mn.displayName||Mn.name||"",Fn=Fn!==""?"ForwardRef("+Fn+")":"ForwardRef"),Fn;case Ga$1:return Mn=Fn.displayName||null,Mn!==null?Mn:Qa$1(Fn.type)||"Memo";case Ha$2:Mn=Fn._payload,Fn=Fn._init;try{return Qa$1(Fn(Mn))}catch{}}return null}function Ra$2(Fn){var Mn=Fn.type;switch(Fn.tag){case 24:return"Cache";case 9:return(Mn.displayName||"Context")+".Consumer";case 10:return(Mn._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return Fn=Mn.render,Fn=Fn.displayName||Fn.name||"",Mn.displayName||(Fn!==""?"ForwardRef("+Fn+")":"ForwardRef");case 7:return"Fragment";case 5:return Mn;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$1(Mn);case 8:return Mn===za$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof Mn=="function")return Mn.displayName||Mn.name||null;if(typeof Mn=="string")return Mn}return null}function Sa$2(Fn){switch(typeof Fn){case"boolean":case"number":case"string":case"undefined":return Fn;case"object":return Fn;default:return""}}function Ta$2(Fn){var Mn=Fn.type;return(Fn=Fn.nodeName)&&Fn.toLowerCase()==="input"&&(Mn==="checkbox"||Mn==="radio")}function Ua$2(Fn){var Mn=Ta$2(Fn)?"checked":"value",io=Object.getOwnPropertyDescriptor(Fn.constructor.prototype,Mn),fo=""+Fn[Mn];if(!Fn.hasOwnProperty(Mn)&&typeof io<"u"&&typeof io.get=="function"&&typeof io.set=="function"){var mo=io.get,$o=io.set;return Object.defineProperty(Fn,Mn,{configurable:!0,get:function(){return mo.call(this)},set:function(Ao){fo=""+Ao,$o.call(this,Ao)}}),Object.defineProperty(Fn,Mn,{enumerable:io.enumerable}),{getValue:function(){return fo},setValue:function(Ao){fo=""+Ao},stopTracking:function(){Fn._valueTracker=null,delete Fn[Mn]}}}}function Va$1(Fn){Fn._valueTracker||(Fn._valueTracker=Ua$2(Fn))}function Wa$2(Fn){if(!Fn)return!1;var Mn=Fn._valueTracker;if(!Mn)return!0;var io=Mn.getValue(),fo="";return Fn&&(fo=Ta$2(Fn)?Fn.checked?"true":"false":Fn.value),Fn=fo,Fn!==io?(Mn.setValue(Fn),!0):!1}function Xa$1(Fn){if(Fn=Fn||(typeof document<"u"?document:void 0),typeof Fn>"u")return null;try{return Fn.activeElement||Fn.body}catch{return Fn.body}}function Ya$1(Fn,Mn){var io=Mn.checked;return A$5({},Mn,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:io??Fn._wrapperState.initialChecked})}function Za$1(Fn,Mn){var io=Mn.defaultValue==null?"":Mn.defaultValue,fo=Mn.checked!=null?Mn.checked:Mn.defaultChecked;io=Sa$2(Mn.value!=null?Mn.value:io),Fn._wrapperState={initialChecked:fo,initialValue:io,controlled:Mn.type==="checkbox"||Mn.type==="radio"?Mn.checked!=null:Mn.value!=null}}function ab(Fn,Mn){Mn=Mn.checked,Mn!=null&&ta$1(Fn,"checked",Mn,!1)}function bb(Fn,Mn){ab(Fn,Mn);var io=Sa$2(Mn.value),fo=Mn.type;if(io!=null)fo==="number"?(io===0&&Fn.value===""||Fn.value!=io)&&(Fn.value=""+io):Fn.value!==""+io&&(Fn.value=""+io);else if(fo==="submit"||fo==="reset"){Fn.removeAttribute("value");return}Mn.hasOwnProperty("value")?cb(Fn,Mn.type,io):Mn.hasOwnProperty("defaultValue")&&cb(Fn,Mn.type,Sa$2(Mn.defaultValue)),Mn.checked==null&&Mn.defaultChecked!=null&&(Fn.defaultChecked=!!Mn.defaultChecked)}function db(Fn,Mn,io){if(Mn.hasOwnProperty("value")||Mn.hasOwnProperty("defaultValue")){var fo=Mn.type;if(!(fo!=="submit"&&fo!=="reset"||Mn.value!==void 0&&Mn.value!==null))return;Mn=""+Fn._wrapperState.initialValue,io||Mn===Fn.value||(Fn.value=Mn),Fn.defaultValue=Mn}io=Fn.name,io!==""&&(Fn.name=""),Fn.defaultChecked=!!Fn._wrapperState.initialChecked,io!==""&&(Fn.name=io)}function cb(Fn,Mn,io){(Mn!=="number"||Xa$1(Fn.ownerDocument)!==Fn)&&(io==null?Fn.defaultValue=""+Fn._wrapperState.initialValue:Fn.defaultValue!==""+io&&(Fn.defaultValue=""+io))}var eb=Array.isArray;function fb(Fn,Mn,io,fo){if(Fn=Fn.options,Mn){Mn={};for(var mo=0;mo<io.length;mo++)Mn["$"+io[mo]]=!0;for(io=0;io<Fn.length;io++)mo=Mn.hasOwnProperty("$"+Fn[io].value),Fn[io].selected!==mo&&(Fn[io].selected=mo),mo&&fo&&(Fn[io].defaultSelected=!0)}else{for(io=""+Sa$2(io),Mn=null,mo=0;mo<Fn.length;mo++){if(Fn[mo].value===io){Fn[mo].selected=!0,fo&&(Fn[mo].defaultSelected=!0);return}Mn!==null||Fn[mo].disabled||(Mn=Fn[mo])}Mn!==null&&(Mn.selected=!0)}}function gb(Fn,Mn){if(Mn.dangerouslySetInnerHTML!=null)throw Error(p$a(91));return A$5({},Mn,{value:void 0,defaultValue:void 0,children:""+Fn._wrapperState.initialValue})}function hb(Fn,Mn){var io=Mn.value;if(io==null){if(io=Mn.children,Mn=Mn.defaultValue,io!=null){if(Mn!=null)throw Error(p$a(92));if(eb(io)){if(1<io.length)throw Error(p$a(93));io=io[0]}Mn=io}Mn==null&&(Mn=""),io=Mn}Fn._wrapperState={initialValue:Sa$2(io)}}function ib(Fn,Mn){var io=Sa$2(Mn.value),fo=Sa$2(Mn.defaultValue);io!=null&&(io=""+io,io!==Fn.value&&(Fn.value=io),Mn.defaultValue==null&&Fn.defaultValue!==io&&(Fn.defaultValue=io)),fo!=null&&(Fn.defaultValue=""+fo)}function jb(Fn){var Mn=Fn.textContent;Mn===Fn._wrapperState.initialValue&&Mn!==""&&Mn!==null&&(Fn.value=Mn)}function kb(Fn){switch(Fn){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(Fn,Mn){return Fn==null||Fn==="http://www.w3.org/1999/xhtml"?kb(Mn):Fn==="http://www.w3.org/2000/svg"&&Mn==="foreignObject"?"http://www.w3.org/1999/xhtml":Fn}var mb,nb=function(Fn){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(Mn,io,fo,mo){MSApp.execUnsafeLocalFunction(function(){return Fn(Mn,io,fo,mo)})}:Fn}(function(Fn,Mn){if(Fn.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in Fn)Fn.innerHTML=Mn;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+Mn.valueOf().toString()+"</svg>",Mn=mb.firstChild;Fn.firstChild;)Fn.removeChild(Fn.firstChild);for(;Mn.firstChild;)Fn.appendChild(Mn.firstChild)}});function ob(Fn,Mn){if(Mn){var io=Fn.firstChild;if(io&&io===Fn.lastChild&&io.nodeType===3){io.nodeValue=Mn;return}}Fn.textContent=Mn}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(Fn){qb.forEach(function(Mn){Mn=Mn+Fn.charAt(0).toUpperCase()+Fn.substring(1),pb[Mn]=pb[Fn]})});function rb(Fn,Mn,io){return Mn==null||typeof Mn=="boolean"||Mn===""?"":io||typeof Mn!="number"||Mn===0||pb.hasOwnProperty(Fn)&&pb[Fn]?(""+Mn).trim():Mn+"px"}function sb(Fn,Mn){Fn=Fn.style;for(var io in Mn)if(Mn.hasOwnProperty(io)){var fo=io.indexOf("--")===0,mo=rb(io,Mn[io],fo);io==="float"&&(io="cssFloat"),fo?Fn.setProperty(io,mo):Fn[io]=mo}}var tb=A$5({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(Fn,Mn){if(Mn){if(tb[Fn]&&(Mn.children!=null||Mn.dangerouslySetInnerHTML!=null))throw Error(p$a(137,Fn));if(Mn.dangerouslySetInnerHTML!=null){if(Mn.children!=null)throw Error(p$a(60));if(typeof Mn.dangerouslySetInnerHTML!="object"||!("__html"in Mn.dangerouslySetInnerHTML))throw Error(p$a(61))}if(Mn.style!=null&&typeof Mn.style!="object")throw Error(p$a(62))}}function vb(Fn,Mn){if(Fn.indexOf("-")===-1)return typeof Mn.is=="string";switch(Fn){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(Fn){return Fn=Fn.target||Fn.srcElement||window,Fn.correspondingUseElement&&(Fn=Fn.correspondingUseElement),Fn.nodeType===3?Fn.parentNode:Fn}var yb=null,zb=null,Ab=null;function Bb(Fn){if(Fn=Cb(Fn)){if(typeof yb!="function")throw Error(p$a(280));var Mn=Fn.stateNode;Mn&&(Mn=Db(Mn),yb(Fn.stateNode,Fn.type,Mn))}}function Eb(Fn){zb?Ab?Ab.push(Fn):Ab=[Fn]:zb=Fn}function Fb(){if(zb){var Fn=zb,Mn=Ab;if(Ab=zb=null,Bb(Fn),Mn)for(Fn=0;Fn<Mn.length;Fn++)Bb(Mn[Fn])}}function Gb(Fn,Mn){return Fn(Mn)}function Hb(){}var Ib=!1;function Jb(Fn,Mn,io){if(Ib)return Fn(Mn,io);Ib=!0;try{return Gb(Fn,Mn,io)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(Fn,Mn){var io=Fn.stateNode;if(io===null)return null;var fo=Db(io);if(fo===null)return null;io=fo[Mn];e:switch(Mn){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(fo=!fo.disabled)||(Fn=Fn.type,fo=!(Fn==="button"||Fn==="input"||Fn==="select"||Fn==="textarea")),Fn=!fo;break e;default:Fn=!1}if(Fn)return null;if(io&&typeof io!="function")throw Error(p$a(231,Mn,typeof io));return io}var Lb=!1;if(ia$1)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(Fn,Mn,io,fo,mo,$o,Ao,Lo,Wo){var jo=Array.prototype.slice.call(arguments,3);try{Mn.apply(io,jo)}catch(zo){this.onError(zo)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(Fn){Ob=!0,Pb=Fn}};function Tb(Fn,Mn,io,fo,mo,$o,Ao,Lo,Wo){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(Fn,Mn,io,fo,mo,$o,Ao,Lo,Wo){if(Tb.apply(this,arguments),Ob){if(Ob){var jo=Pb;Ob=!1,Pb=null}else throw Error(p$a(198));Qb||(Qb=!0,Rb=jo)}}function Vb(Fn){var Mn=Fn,io=Fn;if(Fn.alternate)for(;Mn.return;)Mn=Mn.return;else{Fn=Mn;do Mn=Fn,Mn.flags&4098&&(io=Mn.return),Fn=Mn.return;while(Fn)}return Mn.tag===3?io:null}function Wb(Fn){if(Fn.tag===13){var Mn=Fn.memoizedState;if(Mn===null&&(Fn=Fn.alternate,Fn!==null&&(Mn=Fn.memoizedState)),Mn!==null)return Mn.dehydrated}return null}function Xb(Fn){if(Vb(Fn)!==Fn)throw Error(p$a(188))}function Yb(Fn){var Mn=Fn.alternate;if(!Mn){if(Mn=Vb(Fn),Mn===null)throw Error(p$a(188));return Mn!==Fn?null:Fn}for(var io=Fn,fo=Mn;;){var mo=io.return;if(mo===null)break;var $o=mo.alternate;if($o===null){if(fo=mo.return,fo!==null){io=fo;continue}break}if(mo.child===$o.child){for($o=mo.child;$o;){if($o===io)return Xb(mo),Fn;if($o===fo)return Xb(mo),Mn;$o=$o.sibling}throw Error(p$a(188))}if(io.return!==fo.return)io=mo,fo=$o;else{for(var Ao=!1,Lo=mo.child;Lo;){if(Lo===io){Ao=!0,io=mo,fo=$o;break}if(Lo===fo){Ao=!0,fo=mo,io=$o;break}Lo=Lo.sibling}if(!Ao){for(Lo=$o.child;Lo;){if(Lo===io){Ao=!0,io=$o,fo=mo;break}if(Lo===fo){Ao=!0,fo=$o,io=mo;break}Lo=Lo.sibling}if(!Ao)throw Error(p$a(189))}}if(io.alternate!==fo)throw Error(p$a(190))}if(io.tag!==3)throw Error(p$a(188));return io.stateNode.current===io?Fn:Mn}function Zb(Fn){return Fn=Yb(Fn),Fn!==null?$b(Fn):null}function $b(Fn){if(Fn.tag===5||Fn.tag===6)return Fn;for(Fn=Fn.child;Fn!==null;){var Mn=$b(Fn);if(Mn!==null)return Mn;Fn=Fn.sibling}return null}var ac=ca$1.unstable_scheduleCallback,bc=ca$1.unstable_cancelCallback,cc=ca$1.unstable_shouldYield,dc=ca$1.unstable_requestPaint,B$3=ca$1.unstable_now,ec$1=ca$1.unstable_getCurrentPriorityLevel,fc=ca$1.unstable_ImmediatePriority,gc=ca$1.unstable_UserBlockingPriority,hc=ca$1.unstable_NormalPriority,ic=ca$1.unstable_LowPriority,jc=ca$1.unstable_IdlePriority,kc=null,lc=null;function mc(Fn){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,Fn,void 0,(Fn.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(Fn){return Fn>>>=0,Fn===0?32:31-(pc(Fn)/qc|0)|0}var rc=64,sc=4194304;function tc(Fn){switch(Fn&-Fn){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Fn&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return Fn&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return Fn}}function uc(Fn,Mn){var io=Fn.pendingLanes;if(io===0)return 0;var fo=0,mo=Fn.suspendedLanes,$o=Fn.pingedLanes,Ao=io&268435455;if(Ao!==0){var Lo=Ao&~mo;Lo!==0?fo=tc(Lo):($o&=Ao,$o!==0&&(fo=tc($o)))}else Ao=io&~mo,Ao!==0?fo=tc(Ao):$o!==0&&(fo=tc($o));if(fo===0)return 0;if(Mn!==0&&Mn!==fo&&!(Mn&mo)&&(mo=fo&-fo,$o=Mn&-Mn,mo>=$o||mo===16&&($o&4194240)!==0))return Mn;if(fo&4&&(fo|=io&16),Mn=Fn.entangledLanes,Mn!==0)for(Fn=Fn.entanglements,Mn&=fo;0<Mn;)io=31-oc(Mn),mo=1<<io,fo|=Fn[io],Mn&=~mo;return fo}function vc(Fn,Mn){switch(Fn){case 1:case 2:case 4:return Mn+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Mn+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(Fn,Mn){for(var io=Fn.suspendedLanes,fo=Fn.pingedLanes,mo=Fn.expirationTimes,$o=Fn.pendingLanes;0<$o;){var Ao=31-oc($o),Lo=1<<Ao,Wo=mo[Ao];Wo===-1?(!(Lo&io)||Lo&fo)&&(mo[Ao]=vc(Lo,Mn)):Wo<=Mn&&(Fn.expiredLanes|=Lo),$o&=~Lo}}function xc(Fn){return Fn=Fn.pendingLanes&-1073741825,Fn!==0?Fn:Fn&1073741824?1073741824:0}function yc(){var Fn=rc;return rc<<=1,!(rc&4194240)&&(rc=64),Fn}function zc(Fn){for(var Mn=[],io=0;31>io;io++)Mn.push(Fn);return Mn}function Ac(Fn,Mn,io){Fn.pendingLanes|=Mn,Mn!==536870912&&(Fn.suspendedLanes=0,Fn.pingedLanes=0),Fn=Fn.eventTimes,Mn=31-oc(Mn),Fn[Mn]=io}function Bc(Fn,Mn){var io=Fn.pendingLanes&~Mn;Fn.pendingLanes=Mn,Fn.suspendedLanes=0,Fn.pingedLanes=0,Fn.expiredLanes&=Mn,Fn.mutableReadLanes&=Mn,Fn.entangledLanes&=Mn,Mn=Fn.entanglements;var fo=Fn.eventTimes;for(Fn=Fn.expirationTimes;0<io;){var mo=31-oc(io),$o=1<<mo;Mn[mo]=0,fo[mo]=-1,Fn[mo]=-1,io&=~$o}}function Cc(Fn,Mn){var io=Fn.entangledLanes|=Mn;for(Fn=Fn.entanglements;io;){var fo=31-oc(io),mo=1<<fo;mo&Mn|Fn[fo]&Mn&&(Fn[fo]|=Mn),io&=~mo}}var C$5=0;function Dc(Fn){return Fn&=-Fn,1<Fn?4<Fn?Fn&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(Fn,Mn){switch(Fn){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(Mn.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(Mn.pointerId)}}function Tc(Fn,Mn,io,fo,mo,$o){return Fn===null||Fn.nativeEvent!==$o?(Fn={blockedOn:Mn,domEventName:io,eventSystemFlags:fo,nativeEvent:$o,targetContainers:[mo]},Mn!==null&&(Mn=Cb(Mn),Mn!==null&&Fc(Mn)),Fn):(Fn.eventSystemFlags|=fo,Mn=Fn.targetContainers,mo!==null&&Mn.indexOf(mo)===-1&&Mn.push(mo),Fn)}function Uc(Fn,Mn,io,fo,mo){switch(Mn){case"focusin":return Lc=Tc(Lc,Fn,Mn,io,fo,mo),!0;case"dragenter":return Mc=Tc(Mc,Fn,Mn,io,fo,mo),!0;case"mouseover":return Nc=Tc(Nc,Fn,Mn,io,fo,mo),!0;case"pointerover":var $o=mo.pointerId;return Oc.set($o,Tc(Oc.get($o)||null,Fn,Mn,io,fo,mo)),!0;case"gotpointercapture":return $o=mo.pointerId,Pc.set($o,Tc(Pc.get($o)||null,Fn,Mn,io,fo,mo)),!0}return!1}function Vc(Fn){var Mn=Wc(Fn.target);if(Mn!==null){var io=Vb(Mn);if(io!==null){if(Mn=io.tag,Mn===13){if(Mn=Wb(io),Mn!==null){Fn.blockedOn=Mn,Ic(Fn.priority,function(){Gc(io)});return}}else if(Mn===3&&io.stateNode.current.memoizedState.isDehydrated){Fn.blockedOn=io.tag===3?io.stateNode.containerInfo:null;return}}}Fn.blockedOn=null}function Xc(Fn){if(Fn.blockedOn!==null)return!1;for(var Mn=Fn.targetContainers;0<Mn.length;){var io=Yc(Fn.domEventName,Fn.eventSystemFlags,Mn[0],Fn.nativeEvent);if(io===null){io=Fn.nativeEvent;var fo=new io.constructor(io.type,io);wb=fo,io.target.dispatchEvent(fo),wb=null}else return Mn=Cb(io),Mn!==null&&Fc(Mn),Fn.blockedOn=io,!1;Mn.shift()}return!0}function Zc(Fn,Mn,io){Xc(Fn)&&io.delete(Mn)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(Fn,Mn){Fn.blockedOn===Mn&&(Fn.blockedOn=null,Jc||(Jc=!0,ca$1.unstable_scheduleCallback(ca$1.unstable_NormalPriority,$c)))}function bd(Fn){function Mn(mo){return ad(mo,Fn)}if(0<Kc.length){ad(Kc[0],Fn);for(var io=1;io<Kc.length;io++){var fo=Kc[io];fo.blockedOn===Fn&&(fo.blockedOn=null)}}for(Lc!==null&&ad(Lc,Fn),Mc!==null&&ad(Mc,Fn),Nc!==null&&ad(Nc,Fn),Oc.forEach(Mn),Pc.forEach(Mn),io=0;io<Qc.length;io++)fo=Qc[io],fo.blockedOn===Fn&&(fo.blockedOn=null);for(;0<Qc.length&&(io=Qc[0],io.blockedOn===null);)Vc(io),io.blockedOn===null&&Qc.shift()}var cd=ua$1.ReactCurrentBatchConfig,dd=!0;function ed(Fn,Mn,io,fo){var mo=C$5,$o=cd.transition;cd.transition=null;try{C$5=1,fd(Fn,Mn,io,fo)}finally{C$5=mo,cd.transition=$o}}function gd(Fn,Mn,io,fo){var mo=C$5,$o=cd.transition;cd.transition=null;try{C$5=4,fd(Fn,Mn,io,fo)}finally{C$5=mo,cd.transition=$o}}function fd(Fn,Mn,io,fo){if(dd){var mo=Yc(Fn,Mn,io,fo);if(mo===null)hd(Fn,Mn,fo,id,io),Sc(Fn,fo);else if(Uc(mo,Fn,Mn,io,fo))fo.stopPropagation();else if(Sc(Fn,fo),Mn&4&&-1<Rc.indexOf(Fn)){for(;mo!==null;){var $o=Cb(mo);if($o!==null&&Ec($o),$o=Yc(Fn,Mn,io,fo),$o===null&&hd(Fn,Mn,fo,id,io),$o===mo)break;mo=$o}mo!==null&&fo.stopPropagation()}else hd(Fn,Mn,fo,null,io)}}var id=null;function Yc(Fn,Mn,io,fo){if(id=null,Fn=xb(fo),Fn=Wc(Fn),Fn!==null)if(Mn=Vb(Fn),Mn===null)Fn=null;else if(io=Mn.tag,io===13){if(Fn=Wb(Mn),Fn!==null)return Fn;Fn=null}else if(io===3){if(Mn.stateNode.current.memoizedState.isDehydrated)return Mn.tag===3?Mn.stateNode.containerInfo:null;Fn=null}else Mn!==Fn&&(Fn=null);return id=Fn,null}function jd(Fn){switch(Fn){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var Fn,Mn=ld,io=Mn.length,fo,mo="value"in kd?kd.value:kd.textContent,$o=mo.length;for(Fn=0;Fn<io&&Mn[Fn]===mo[Fn];Fn++);var Ao=io-Fn;for(fo=1;fo<=Ao&&Mn[io-fo]===mo[$o-fo];fo++);return md=mo.slice(Fn,1<fo?1-fo:void 0)}function od(Fn){var Mn=Fn.keyCode;return"charCode"in Fn?(Fn=Fn.charCode,Fn===0&&Mn===13&&(Fn=13)):Fn=Mn,Fn===10&&(Fn=13),32<=Fn||Fn===13?Fn:0}function pd(){return!0}function qd(){return!1}function rd(Fn){function Mn(io,fo,mo,$o,Ao){this._reactName=io,this._targetInst=mo,this.type=fo,this.nativeEvent=$o,this.target=Ao,this.currentTarget=null;for(var Lo in Fn)Fn.hasOwnProperty(Lo)&&(io=Fn[Lo],this[Lo]=io?io($o):$o[Lo]);return this.isDefaultPrevented=($o.defaultPrevented!=null?$o.defaultPrevented:$o.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$5(Mn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var io=this.nativeEvent;io&&(io.preventDefault?io.preventDefault():typeof io.returnValue!="unknown"&&(io.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var io=this.nativeEvent;io&&(io.stopPropagation?io.stopPropagation():typeof io.cancelBubble!="unknown"&&(io.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),Mn}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(Fn){return Fn.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$5({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$5({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(Fn){return Fn.relatedTarget===void 0?Fn.fromElement===Fn.srcElement?Fn.toElement:Fn.fromElement:Fn.relatedTarget},movementX:function(Fn){return"movementX"in Fn?Fn.movementX:(Fn!==yd&&(yd&&Fn.type==="mousemove"?(wd=Fn.screenX-yd.screenX,xd=Fn.screenY-yd.screenY):xd=wd=0,yd=Fn),wd)},movementY:function(Fn){return"movementY"in Fn?Fn.movementY:xd}}),Bd=rd(Ad),Cd=A$5({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$5({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$5({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$5({},sd,{clipboardData:function(Fn){return"clipboardData"in Fn?Fn.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$5({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(Fn){var Mn=this.nativeEvent;return Mn.getModifierState?Mn.getModifierState(Fn):(Fn=Od[Fn])?!!Mn[Fn]:!1}function zd(){return Pd}var Qd=A$5({},ud,{key:function(Fn){if(Fn.key){var Mn=Md[Fn.key]||Fn.key;if(Mn!=="Unidentified")return Mn}return Fn.type==="keypress"?(Fn=od(Fn),Fn===13?"Enter":String.fromCharCode(Fn)):Fn.type==="keydown"||Fn.type==="keyup"?Nd[Fn.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(Fn){return Fn.type==="keypress"?od(Fn):0},keyCode:function(Fn){return Fn.type==="keydown"||Fn.type==="keyup"?Fn.keyCode:0},which:function(Fn){return Fn.type==="keypress"?od(Fn):Fn.type==="keydown"||Fn.type==="keyup"?Fn.keyCode:0}}),Rd=rd(Qd),Sd=A$5({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$5({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$5({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$5({},Ad,{deltaX:function(Fn){return"deltaX"in Fn?Fn.deltaX:"wheelDeltaX"in Fn?-Fn.wheelDeltaX:0},deltaY:function(Fn){return"deltaY"in Fn?Fn.deltaY:"wheelDeltaY"in Fn?-Fn.wheelDeltaY:"wheelDelta"in Fn?-Fn.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$4=ia$1&&"CompositionEvent"in window,be$4=null;ia$1&&"documentMode"in document&&(be$4=document.documentMode);var ce$3=ia$1&&"TextEvent"in window&&!be$4,de$3=ia$1&&(!ae$4||be$4&&8<be$4&&11>=be$4),ee$3=" ",fe$3=!1;function ge$2(Fn,Mn){switch(Fn){case"keyup":return $d.indexOf(Mn.keyCode)!==-1;case"keydown":return Mn.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$2(Fn){return Fn=Fn.detail,typeof Fn=="object"&&"data"in Fn?Fn.data:null}var ie$2=!1;function je(Fn,Mn){switch(Fn){case"compositionend":return he$2(Mn);case"keypress":return Mn.which!==32?null:(fe$3=!0,ee$3);case"textInput":return Fn=Mn.data,Fn===ee$3&&fe$3?null:Fn;default:return null}}function ke(Fn,Mn){if(ie$2)return Fn==="compositionend"||!ae$4&&ge$2(Fn,Mn)?(Fn=nd(),md=ld=kd=null,ie$2=!1,Fn):null;switch(Fn){case"paste":return null;case"keypress":if(!(Mn.ctrlKey||Mn.altKey||Mn.metaKey)||Mn.ctrlKey&&Mn.altKey){if(Mn.char&&1<Mn.char.length)return Mn.char;if(Mn.which)return String.fromCharCode(Mn.which)}return null;case"compositionend":return de$3&&Mn.locale!=="ko"?null:Mn.data;default:return null}}var le$3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$2(Fn){var Mn=Fn&&Fn.nodeName&&Fn.nodeName.toLowerCase();return Mn==="input"?!!le$3[Fn.type]:Mn==="textarea"}function ne$4(Fn,Mn,io,fo){Eb(fo),Mn=oe$4(Mn,"onChange"),0<Mn.length&&(io=new td("onChange","change",null,io,fo),Fn.push({event:io,listeners:Mn}))}var pe$2=null,qe=null;function re$3(Fn){se$3(Fn,0)}function te$2(Fn){var Mn=ue$2(Fn);if(Wa$2(Mn))return Fn}function ve$3(Fn,Mn){if(Fn==="change")return Mn}var we$3=!1;if(ia$1){var xe$3;if(ia$1){var ye$3="oninput"in document;if(!ye$3){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$3=typeof ze$1.oninput=="function"}xe$3=ye$3}else xe$3=!1;we$3=xe$3&&(!document.documentMode||9<document.documentMode)}function Ae$3(){pe$2&&(pe$2.detachEvent("onpropertychange",Be$2),qe=pe$2=null)}function Be$2(Fn){if(Fn.propertyName==="value"&&te$2(qe)){var Mn=[];ne$4(Mn,qe,Fn,xb(Fn)),Jb(re$3,Mn)}}function Ce$3(Fn,Mn,io){Fn==="focusin"?(Ae$3(),pe$2=Mn,qe=io,pe$2.attachEvent("onpropertychange",Be$2)):Fn==="focusout"&&Ae$3()}function De(Fn){if(Fn==="selectionchange"||Fn==="keyup"||Fn==="keydown")return te$2(qe)}function Ee$2(Fn,Mn){if(Fn==="click")return te$2(Mn)}function Fe(Fn,Mn){if(Fn==="input"||Fn==="change")return te$2(Mn)}function Ge(Fn,Mn){return Fn===Mn&&(Fn!==0||1/Fn===1/Mn)||Fn!==Fn&&Mn!==Mn}var He=typeof Object.is=="function"?Object.is:Ge;function Ie$2(Fn,Mn){if(He(Fn,Mn))return!0;if(typeof Fn!="object"||Fn===null||typeof Mn!="object"||Mn===null)return!1;var io=Object.keys(Fn),fo=Object.keys(Mn);if(io.length!==fo.length)return!1;for(fo=0;fo<io.length;fo++){var mo=io[fo];if(!ja$1.call(Mn,mo)||!He(Fn[mo],Mn[mo]))return!1}return!0}function Je(Fn){for(;Fn&&Fn.firstChild;)Fn=Fn.firstChild;return Fn}function Ke(Fn,Mn){var io=Je(Fn);Fn=0;for(var fo;io;){if(io.nodeType===3){if(fo=Fn+io.textContent.length,Fn<=Mn&&fo>=Mn)return{node:io,offset:Mn-Fn};Fn=fo}e:{for(;io;){if(io.nextSibling){io=io.nextSibling;break e}io=io.parentNode}io=void 0}io=Je(io)}}function Le$1(Fn,Mn){return Fn&&Mn?Fn===Mn?!0:Fn&&Fn.nodeType===3?!1:Mn&&Mn.nodeType===3?Le$1(Fn,Mn.parentNode):"contains"in Fn?Fn.contains(Mn):Fn.compareDocumentPosition?!!(Fn.compareDocumentPosition(Mn)&16):!1:!1}function Me(){for(var Fn=window,Mn=Xa$1();Mn instanceof Fn.HTMLIFrameElement;){try{var io=typeof Mn.contentWindow.location.href=="string"}catch{io=!1}if(io)Fn=Mn.contentWindow;else break;Mn=Xa$1(Fn.document)}return Mn}function Ne(Fn){var Mn=Fn&&Fn.nodeName&&Fn.nodeName.toLowerCase();return Mn&&(Mn==="input"&&(Fn.type==="text"||Fn.type==="search"||Fn.type==="tel"||Fn.type==="url"||Fn.type==="password")||Mn==="textarea"||Fn.contentEditable==="true")}function Oe$1(Fn){var Mn=Me(),io=Fn.focusedElem,fo=Fn.selectionRange;if(Mn!==io&&io&&io.ownerDocument&&Le$1(io.ownerDocument.documentElement,io)){if(fo!==null&&Ne(io)){if(Mn=fo.start,Fn=fo.end,Fn===void 0&&(Fn=Mn),"selectionStart"in io)io.selectionStart=Mn,io.selectionEnd=Math.min(Fn,io.value.length);else if(Fn=(Mn=io.ownerDocument||document)&&Mn.defaultView||window,Fn.getSelection){Fn=Fn.getSelection();var mo=io.textContent.length,$o=Math.min(fo.start,mo);fo=fo.end===void 0?$o:Math.min(fo.end,mo),!Fn.extend&&$o>fo&&(mo=fo,fo=$o,$o=mo),mo=Ke(io,$o);var Ao=Ke(io,fo);mo&&Ao&&(Fn.rangeCount!==1||Fn.anchorNode!==mo.node||Fn.anchorOffset!==mo.offset||Fn.focusNode!==Ao.node||Fn.focusOffset!==Ao.offset)&&(Mn=Mn.createRange(),Mn.setStart(mo.node,mo.offset),Fn.removeAllRanges(),$o>fo?(Fn.addRange(Mn),Fn.extend(Ao.node,Ao.offset)):(Mn.setEnd(Ao.node,Ao.offset),Fn.addRange(Mn)))}}for(Mn=[],Fn=io;Fn=Fn.parentNode;)Fn.nodeType===1&&Mn.push({element:Fn,left:Fn.scrollLeft,top:Fn.scrollTop});for(typeof io.focus=="function"&&io.focus(),io=0;io<Mn.length;io++)Fn=Mn[io],Fn.element.scrollLeft=Fn.left,Fn.element.scrollTop=Fn.top}}var Pe$1=ia$1&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$2=null,Se$1=null,Te$2=!1;function Ue(Fn,Mn,io){var fo=io.window===io?io.document:io.nodeType===9?io:io.ownerDocument;Te$2||Qe$1==null||Qe$1!==Xa$1(fo)||(fo=Qe$1,"selectionStart"in fo&&Ne(fo)?fo={start:fo.selectionStart,end:fo.selectionEnd}:(fo=(fo.ownerDocument&&fo.ownerDocument.defaultView||window).getSelection(),fo={anchorNode:fo.anchorNode,anchorOffset:fo.anchorOffset,focusNode:fo.focusNode,focusOffset:fo.focusOffset}),Se$1&&Ie$2(Se$1,fo)||(Se$1=fo,fo=oe$4(Re$2,"onSelect"),0<fo.length&&(Mn=new td("onSelect","select",null,Mn,io),Fn.push({event:Mn,listeners:fo}),Mn.target=Qe$1)))}function Ve(Fn,Mn){var io={};return io[Fn.toLowerCase()]=Mn.toLowerCase(),io["Webkit"+Fn]="webkit"+Mn,io["Moz"+Fn]="moz"+Mn,io}var We$1={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe$2={},Ye={};ia$1&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$2(Fn){if(Xe$2[Fn])return Xe$2[Fn];if(!We$1[Fn])return Fn;var Mn=We$1[Fn],io;for(io in Mn)if(Mn.hasOwnProperty(io)&&io in Ye)return Xe$2[Fn]=Mn[io];return Fn}var $e$1=Ze$2("animationend"),af$1=Ze$2("animationiteration"),bf$1=Ze$2("animationstart"),cf$1=Ze$2("transitionend"),df$1=new Map,ef$1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff$1(Fn,Mn){df$1.set(Fn,Mn),fa$1(Mn,[Fn])}for(var gf$1=0;gf$1<ef$1.length;gf$1++){var hf$1=ef$1[gf$1],jf$1=hf$1.toLowerCase(),kf$1=hf$1[0].toUpperCase()+hf$1.slice(1);ff$1(jf$1,"on"+kf$1)}ff$1($e$1,"onAnimationEnd");ff$1(af$1,"onAnimationIteration");ff$1(bf$1,"onAnimationStart");ff$1("dblclick","onDoubleClick");ff$1("focusin","onFocus");ff$1("focusout","onBlur");ff$1(cf$1,"onTransitionEnd");ha$1("onMouseEnter",["mouseout","mouseover"]);ha$1("onMouseLeave",["mouseout","mouseover"]);ha$1("onPointerEnter",["pointerout","pointerover"]);ha$1("onPointerLeave",["pointerout","pointerover"]);fa$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$1("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf$1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf$1=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf$1));function nf$1(Fn,Mn,io){var fo=Fn.type||"unknown-event";Fn.currentTarget=io,Ub(fo,Mn,void 0,Fn),Fn.currentTarget=null}function se$3(Fn,Mn){Mn=(Mn&4)!==0;for(var io=0;io<Fn.length;io++){var fo=Fn[io],mo=fo.event;fo=fo.listeners;e:{var $o=void 0;if(Mn)for(var Ao=fo.length-1;0<=Ao;Ao--){var Lo=fo[Ao],Wo=Lo.instance,jo=Lo.currentTarget;if(Lo=Lo.listener,Wo!==$o&&mo.isPropagationStopped())break e;nf$1(mo,Lo,jo),$o=Wo}else for(Ao=0;Ao<fo.length;Ao++){if(Lo=fo[Ao],Wo=Lo.instance,jo=Lo.currentTarget,Lo=Lo.listener,Wo!==$o&&mo.isPropagationStopped())break e;nf$1(mo,Lo,jo),$o=Wo}}}if(Qb)throw Fn=Rb,Qb=!1,Rb=null,Fn}function D$3(Fn,Mn){var io=Mn[of$1];io===void 0&&(io=Mn[of$1]=new Set);var fo=Fn+"__bubble";io.has(fo)||(pf$1(Mn,Fn,2,!1),io.add(fo))}function qf$1(Fn,Mn,io){var fo=0;Mn&&(fo|=4),pf$1(io,Fn,fo,Mn)}var rf$1="_reactListening"+Math.random().toString(36).slice(2);function sf(Fn){if(!Fn[rf$1]){Fn[rf$1]=!0,da$1.forEach(function(io){io!=="selectionchange"&&(mf$1.has(io)||qf$1(io,!1,Fn),qf$1(io,!0,Fn))});var Mn=Fn.nodeType===9?Fn:Fn.ownerDocument;Mn===null||Mn[rf$1]||(Mn[rf$1]=!0,qf$1("selectionchange",!1,Mn))}}function pf$1(Fn,Mn,io,fo){switch(jd(Mn)){case 1:var mo=ed;break;case 4:mo=gd;break;default:mo=fd}io=mo.bind(null,Mn,io,Fn),mo=void 0,!Lb||Mn!=="touchstart"&&Mn!=="touchmove"&&Mn!=="wheel"||(mo=!0),fo?mo!==void 0?Fn.addEventListener(Mn,io,{capture:!0,passive:mo}):Fn.addEventListener(Mn,io,!0):mo!==void 0?Fn.addEventListener(Mn,io,{passive:mo}):Fn.addEventListener(Mn,io,!1)}function hd(Fn,Mn,io,fo,mo){var $o=fo;if(!(Mn&1)&&!(Mn&2)&&fo!==null)e:for(;;){if(fo===null)return;var Ao=fo.tag;if(Ao===3||Ao===4){var Lo=fo.stateNode.containerInfo;if(Lo===mo||Lo.nodeType===8&&Lo.parentNode===mo)break;if(Ao===4)for(Ao=fo.return;Ao!==null;){var Wo=Ao.tag;if((Wo===3||Wo===4)&&(Wo=Ao.stateNode.containerInfo,Wo===mo||Wo.nodeType===8&&Wo.parentNode===mo))return;Ao=Ao.return}for(;Lo!==null;){if(Ao=Wc(Lo),Ao===null)return;if(Wo=Ao.tag,Wo===5||Wo===6){fo=$o=Ao;continue e}Lo=Lo.parentNode}}fo=fo.return}Jb(function(){var jo=$o,zo=xb(io),Vo=[];e:{var Go=df$1.get(Fn);if(Go!==void 0){var Jo=td,Qo=Fn;switch(Fn){case"keypress":if(od(io)===0)break e;case"keydown":case"keyup":Jo=Rd;break;case"focusin":Qo="focus",Jo=Fd;break;case"focusout":Qo="blur",Jo=Fd;break;case"beforeblur":case"afterblur":Jo=Fd;break;case"click":if(io.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Jo=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Jo=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Jo=Vd;break;case $e$1:case af$1:case bf$1:Jo=Hd;break;case cf$1:Jo=Xd;break;case"scroll":Jo=vd;break;case"wheel":Jo=Zd;break;case"copy":case"cut":case"paste":Jo=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Jo=Td}var os=(Mn&4)!==0,Cl=!os&&Fn==="scroll",xl=os?Go!==null?Go+"Capture":null:Go;os=[];for(var ds=jo,_c;ds!==null;){_c=ds;var $l=_c.stateNode;if(_c.tag===5&&$l!==null&&(_c=$l,xl!==null&&($l=Kb(ds,xl),$l!=null&&os.push(tf$1(ds,$l,_c)))),Cl)break;ds=ds.return}0<os.length&&(Go=new Jo(Go,Qo,null,io,zo),Vo.push({event:Go,listeners:os}))}}if(!(Mn&7)){e:{if(Go=Fn==="mouseover"||Fn==="pointerover",Jo=Fn==="mouseout"||Fn==="pointerout",Go&&io!==wb&&(Qo=io.relatedTarget||io.fromElement)&&(Wc(Qo)||Qo[uf]))break e;if((Jo||Go)&&(Go=zo.window===zo?zo:(Go=zo.ownerDocument)?Go.defaultView||Go.parentWindow:window,Jo?(Qo=io.relatedTarget||io.toElement,Jo=jo,Qo=Qo?Wc(Qo):null,Qo!==null&&(Cl=Vb(Qo),Qo!==Cl||Qo.tag!==5&&Qo.tag!==6)&&(Qo=null)):(Jo=null,Qo=jo),Jo!==Qo)){if(os=Bd,$l="onMouseLeave",xl="onMouseEnter",ds="mouse",(Fn==="pointerout"||Fn==="pointerover")&&(os=Td,$l="onPointerLeave",xl="onPointerEnter",ds="pointer"),Cl=Jo==null?Go:ue$2(Jo),_c=Qo==null?Go:ue$2(Qo),Go=new os($l,ds+"leave",Jo,io,zo),Go.target=Cl,Go.relatedTarget=_c,$l=null,Wc(zo)===jo&&(os=new os(xl,ds+"enter",Qo,io,zo),os.target=_c,os.relatedTarget=Cl,$l=os),Cl=$l,Jo&&Qo)t:{for(os=Jo,xl=Qo,ds=0,_c=os;_c;_c=vf$1(_c))ds++;for(_c=0,$l=xl;$l;$l=vf$1($l))_c++;for(;0<ds-_c;)os=vf$1(os),ds--;for(;0<_c-ds;)xl=vf$1(xl),_c--;for(;ds--;){if(os===xl||xl!==null&&os===xl.alternate)break t;os=vf$1(os),xl=vf$1(xl)}os=null}else os=null;Jo!==null&&wf$1(Vo,Go,Jo,os,!1),Qo!==null&&Cl!==null&&wf$1(Vo,Cl,Qo,os,!0)}}e:{if(Go=jo?ue$2(jo):window,Jo=Go.nodeName&&Go.nodeName.toLowerCase(),Jo==="select"||Jo==="input"&&Go.type==="file")var Al=ve$3;else if(me$2(Go))if(we$3)Al=Fe;else{Al=De;var Il=Ce$3}else(Jo=Go.nodeName)&&Jo.toLowerCase()==="input"&&(Go.type==="checkbox"||Go.type==="radio")&&(Al=Ee$2);if(Al&&(Al=Al(Fn,jo))){ne$4(Vo,Al,io,zo);break e}Il&&Il(Fn,Go,jo),Fn==="focusout"&&(Il=Go._wrapperState)&&Il.controlled&&Go.type==="number"&&cb(Go,"number",Go.value)}switch(Il=jo?ue$2(jo):window,Fn){case"focusin":(me$2(Il)||Il.contentEditable==="true")&&(Qe$1=Il,Re$2=jo,Se$1=null);break;case"focusout":Se$1=Re$2=Qe$1=null;break;case"mousedown":Te$2=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$2=!1,Ue(Vo,io,zo);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue(Vo,io,zo)}var us;if(ae$4)e:{switch(Fn){case"compositionstart":var ps="onCompositionStart";break e;case"compositionend":ps="onCompositionEnd";break e;case"compositionupdate":ps="onCompositionUpdate";break e}ps=void 0}else ie$2?ge$2(Fn,io)&&(ps="onCompositionEnd"):Fn==="keydown"&&io.keyCode===229&&(ps="onCompositionStart");ps&&(de$3&&io.locale!=="ko"&&(ie$2||ps!=="onCompositionStart"?ps==="onCompositionEnd"&&ie$2&&(us=nd()):(kd=zo,ld="value"in kd?kd.value:kd.textContent,ie$2=!0)),Il=oe$4(jo,ps),0<Il.length&&(ps=new Ld(ps,Fn,null,io,zo),Vo.push({event:ps,listeners:Il}),us?ps.data=us:(us=he$2(io),us!==null&&(ps.data=us)))),(us=ce$3?je(Fn,io):ke(Fn,io))&&(jo=oe$4(jo,"onBeforeInput"),0<jo.length&&(zo=new Ld("onBeforeInput","beforeinput",null,io,zo),Vo.push({event:zo,listeners:jo}),zo.data=us))}se$3(Vo,Mn)})}function tf$1(Fn,Mn,io){return{instance:Fn,listener:Mn,currentTarget:io}}function oe$4(Fn,Mn){for(var io=Mn+"Capture",fo=[];Fn!==null;){var mo=Fn,$o=mo.stateNode;mo.tag===5&&$o!==null&&(mo=$o,$o=Kb(Fn,io),$o!=null&&fo.unshift(tf$1(Fn,$o,mo)),$o=Kb(Fn,Mn),$o!=null&&fo.push(tf$1(Fn,$o,mo))),Fn=Fn.return}return fo}function vf$1(Fn){if(Fn===null)return null;do Fn=Fn.return;while(Fn&&Fn.tag!==5);return Fn||null}function wf$1(Fn,Mn,io,fo,mo){for(var $o=Mn._reactName,Ao=[];io!==null&&io!==fo;){var Lo=io,Wo=Lo.alternate,jo=Lo.stateNode;if(Wo!==null&&Wo===fo)break;Lo.tag===5&&jo!==null&&(Lo=jo,mo?(Wo=Kb(io,$o),Wo!=null&&Ao.unshift(tf$1(io,Wo,Lo))):mo||(Wo=Kb(io,$o),Wo!=null&&Ao.push(tf$1(io,Wo,Lo)))),io=io.return}Ao.length!==0&&Fn.push({event:Mn,listeners:Ao})}var xf$1=/\r\n?/g,yf$1=/\u0000|\uFFFD/g;function zf$1(Fn){return(typeof Fn=="string"?Fn:""+Fn).replace(xf$1,`
`).replace(yf$1,"")}function Af$1(Fn,Mn,io){if(Mn=zf$1(Mn),zf$1(Fn)!==Mn&&io)throw Error(p$a(425))}function Bf$1(){}var Cf$1=null,Df$1=null;function Ef$1(Fn,Mn){return Fn==="textarea"||Fn==="noscript"||typeof Mn.children=="string"||typeof Mn.children=="number"||typeof Mn.dangerouslySetInnerHTML=="object"&&Mn.dangerouslySetInnerHTML!==null&&Mn.dangerouslySetInnerHTML.__html!=null}var Ff$1=typeof setTimeout=="function"?setTimeout:void 0,Gf$1=typeof clearTimeout=="function"?clearTimeout:void 0,Hf$1=typeof Promise=="function"?Promise:void 0,Jf$1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf$1<"u"?function(Fn){return Hf$1.resolve(null).then(Fn).catch(If$1)}:Ff$1;function If$1(Fn){setTimeout(function(){throw Fn})}function Kf$1(Fn,Mn){var io=Mn,fo=0;do{var mo=io.nextSibling;if(Fn.removeChild(io),mo&&mo.nodeType===8)if(io=mo.data,io==="/$"){if(fo===0){Fn.removeChild(mo),bd(Mn);return}fo--}else io!=="$"&&io!=="$?"&&io!=="$!"||fo++;io=mo}while(io);bd(Mn)}function Lf$1(Fn){for(;Fn!=null;Fn=Fn.nextSibling){var Mn=Fn.nodeType;if(Mn===1||Mn===3)break;if(Mn===8){if(Mn=Fn.data,Mn==="$"||Mn==="$!"||Mn==="$?")break;if(Mn==="/$")return null}}return Fn}function Mf$1(Fn){Fn=Fn.previousSibling;for(var Mn=0;Fn;){if(Fn.nodeType===8){var io=Fn.data;if(io==="$"||io==="$!"||io==="$?"){if(Mn===0)return Fn;Mn--}else io==="/$"&&Mn++}Fn=Fn.previousSibling}return null}var Nf$1=Math.random().toString(36).slice(2),Of$1="__reactFiber$"+Nf$1,Pf$1="__reactProps$"+Nf$1,uf="__reactContainer$"+Nf$1,of$1="__reactEvents$"+Nf$1,Qf$1="__reactListeners$"+Nf$1,Rf$1="__reactHandles$"+Nf$1;function Wc(Fn){var Mn=Fn[Of$1];if(Mn)return Mn;for(var io=Fn.parentNode;io;){if(Mn=io[uf]||io[Of$1]){if(io=Mn.alternate,Mn.child!==null||io!==null&&io.child!==null)for(Fn=Mf$1(Fn);Fn!==null;){if(io=Fn[Of$1])return io;Fn=Mf$1(Fn)}return Mn}Fn=io,io=Fn.parentNode}return null}function Cb(Fn){return Fn=Fn[Of$1]||Fn[uf],!Fn||Fn.tag!==5&&Fn.tag!==6&&Fn.tag!==13&&Fn.tag!==3?null:Fn}function ue$2(Fn){if(Fn.tag===5||Fn.tag===6)return Fn.stateNode;throw Error(p$a(33))}function Db(Fn){return Fn[Pf$1]||null}var Sf$1=[],Tf$1=-1;function Uf$1(Fn){return{current:Fn}}function E$5(Fn){0>Tf$1||(Fn.current=Sf$1[Tf$1],Sf$1[Tf$1]=null,Tf$1--)}function G$2(Fn,Mn){Tf$1++,Sf$1[Tf$1]=Fn.current,Fn.current=Mn}var Vf$1={},H$2=Uf$1(Vf$1),Wf$1=Uf$1(!1),Xf=Vf$1;function Yf$1(Fn,Mn){var io=Fn.type.contextTypes;if(!io)return Vf$1;var fo=Fn.stateNode;if(fo&&fo.__reactInternalMemoizedUnmaskedChildContext===Mn)return fo.__reactInternalMemoizedMaskedChildContext;var mo={},$o;for($o in io)mo[$o]=Mn[$o];return fo&&(Fn=Fn.stateNode,Fn.__reactInternalMemoizedUnmaskedChildContext=Mn,Fn.__reactInternalMemoizedMaskedChildContext=mo),mo}function Zf(Fn){return Fn=Fn.childContextTypes,Fn!=null}function $f(){E$5(Wf$1),E$5(H$2)}function ag(Fn,Mn,io){if(H$2.current!==Vf$1)throw Error(p$a(168));G$2(H$2,Mn),G$2(Wf$1,io)}function bg(Fn,Mn,io){var fo=Fn.stateNode;if(Mn=Mn.childContextTypes,typeof fo.getChildContext!="function")return io;fo=fo.getChildContext();for(var mo in fo)if(!(mo in Mn))throw Error(p$a(108,Ra$2(Fn)||"Unknown",mo));return A$5({},io,fo)}function cg(Fn){return Fn=(Fn=Fn.stateNode)&&Fn.__reactInternalMemoizedMergedChildContext||Vf$1,Xf=H$2.current,G$2(H$2,Fn),G$2(Wf$1,Wf$1.current),!0}function dg(Fn,Mn,io){var fo=Fn.stateNode;if(!fo)throw Error(p$a(169));io?(Fn=bg(Fn,Mn,Xf),fo.__reactInternalMemoizedMergedChildContext=Fn,E$5(Wf$1),E$5(H$2),G$2(H$2,Fn)):E$5(Wf$1),G$2(Wf$1,io)}var eg=null,fg=!1,gg=!1;function hg(Fn){eg===null?eg=[Fn]:eg.push(Fn)}function ig(Fn){fg=!0,hg(Fn)}function jg$1(){if(!gg&&eg!==null){gg=!0;var Fn=0,Mn=C$5;try{var io=eg;for(C$5=1;Fn<io.length;Fn++){var fo=io[Fn];do fo=fo(!0);while(fo!==null)}eg=null,fg=!1}catch(mo){throw eg!==null&&(eg=eg.slice(Fn+1)),ac(fc,jg$1),mo}finally{C$5=Mn,gg=!1}}return null}var kg$1=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(Fn,Mn){kg$1[lg++]=ng,kg$1[lg++]=mg,mg=Fn,ng=Mn}function ug(Fn,Mn,io){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=Fn;var fo=rg;Fn=sg;var mo=32-oc(fo)-1;fo&=~(1<<mo),io+=1;var $o=32-oc(Mn)+mo;if(30<$o){var Ao=mo-mo%5;$o=(fo&(1<<Ao)-1).toString(32),fo>>=Ao,mo-=Ao,rg=1<<32-oc(Mn)+mo|io<<mo|fo,sg=$o+Fn}else rg=1<<$o|io<<mo|fo,sg=Fn}function vg(Fn){Fn.return!==null&&(tg(Fn,1),ug(Fn,1,0))}function wg(Fn){for(;Fn===mg;)mg=kg$1[--lg],kg$1[lg]=null,ng=kg$1[--lg],kg$1[lg]=null;for(;Fn===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$5=!1,zg=null;function Ag(Fn,Mn){var io=Bg(5,null,null,0);io.elementType="DELETED",io.stateNode=Mn,io.return=Fn,Mn=Fn.deletions,Mn===null?(Fn.deletions=[io],Fn.flags|=16):Mn.push(io)}function Cg(Fn,Mn){switch(Fn.tag){case 5:var io=Fn.type;return Mn=Mn.nodeType!==1||io.toLowerCase()!==Mn.nodeName.toLowerCase()?null:Mn,Mn!==null?(Fn.stateNode=Mn,xg=Fn,yg=Lf$1(Mn.firstChild),!0):!1;case 6:return Mn=Fn.pendingProps===""||Mn.nodeType!==3?null:Mn,Mn!==null?(Fn.stateNode=Mn,xg=Fn,yg=null,!0):!1;case 13:return Mn=Mn.nodeType!==8?null:Mn,Mn!==null?(io=qg!==null?{id:rg,overflow:sg}:null,Fn.memoizedState={dehydrated:Mn,treeContext:io,retryLane:1073741824},io=Bg(18,null,null,0),io.stateNode=Mn,io.return=Fn,Fn.child=io,xg=Fn,yg=null,!0):!1;default:return!1}}function Dg(Fn){return(Fn.mode&1)!==0&&(Fn.flags&128)===0}function Eg(Fn){if(I$5){var Mn=yg;if(Mn){var io=Mn;if(!Cg(Fn,Mn)){if(Dg(Fn))throw Error(p$a(418));Mn=Lf$1(io.nextSibling);var fo=xg;Mn&&Cg(Fn,Mn)?Ag(fo,io):(Fn.flags=Fn.flags&-4097|2,I$5=!1,xg=Fn)}}else{if(Dg(Fn))throw Error(p$a(418));Fn.flags=Fn.flags&-4097|2,I$5=!1,xg=Fn}}}function Fg(Fn){for(Fn=Fn.return;Fn!==null&&Fn.tag!==5&&Fn.tag!==3&&Fn.tag!==13;)Fn=Fn.return;xg=Fn}function Gg(Fn){if(Fn!==xg)return!1;if(!I$5)return Fg(Fn),I$5=!0,!1;var Mn;if((Mn=Fn.tag!==3)&&!(Mn=Fn.tag!==5)&&(Mn=Fn.type,Mn=Mn!=="head"&&Mn!=="body"&&!Ef$1(Fn.type,Fn.memoizedProps)),Mn&&(Mn=yg)){if(Dg(Fn))throw Hg(),Error(p$a(418));for(;Mn;)Ag(Fn,Mn),Mn=Lf$1(Mn.nextSibling)}if(Fg(Fn),Fn.tag===13){if(Fn=Fn.memoizedState,Fn=Fn!==null?Fn.dehydrated:null,!Fn)throw Error(p$a(317));e:{for(Fn=Fn.nextSibling,Mn=0;Fn;){if(Fn.nodeType===8){var io=Fn.data;if(io==="/$"){if(Mn===0){yg=Lf$1(Fn.nextSibling);break e}Mn--}else io!=="$"&&io!=="$!"&&io!=="$?"||Mn++}Fn=Fn.nextSibling}yg=null}}else yg=xg?Lf$1(Fn.stateNode.nextSibling):null;return!0}function Hg(){for(var Fn=yg;Fn;)Fn=Lf$1(Fn.nextSibling)}function Ig(){yg=xg=null,I$5=!1}function Jg$1(Fn){zg===null?zg=[Fn]:zg.push(Fn)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg(Fn,Mn,io){if(Fn=io.ref,Fn!==null&&typeof Fn!="function"&&typeof Fn!="object"){if(io._owner){if(io=io._owner,io){if(io.tag!==1)throw Error(p$a(309));var fo=io.stateNode}if(!fo)throw Error(p$a(147,Fn));var mo=fo,$o=""+Fn;return Mn!==null&&Mn.ref!==null&&typeof Mn.ref=="function"&&Mn.ref._stringRef===$o?Mn.ref:(Mn=function(Ao){var Lo=mo.refs;Ao===null?delete Lo[$o]:Lo[$o]=Ao},Mn._stringRef=$o,Mn)}if(typeof Fn!="string")throw Error(p$a(284));if(!io._owner)throw Error(p$a(290,Fn))}return Fn}function Mg$1(Fn,Mn){throw Fn=Object.prototype.toString.call(Mn),Error(p$a(31,Fn==="[object Object]"?"object with keys {"+Object.keys(Mn).join(", ")+"}":Fn))}function Ng(Fn){var Mn=Fn._init;return Mn(Fn._payload)}function Og(Fn){function Mn(xl,ds){if(Fn){var _c=xl.deletions;_c===null?(xl.deletions=[ds],xl.flags|=16):_c.push(ds)}}function io(xl,ds){if(!Fn)return null;for(;ds!==null;)Mn(xl,ds),ds=ds.sibling;return null}function fo(xl,ds){for(xl=new Map;ds!==null;)ds.key!==null?xl.set(ds.key,ds):xl.set(ds.index,ds),ds=ds.sibling;return xl}function mo(xl,ds){return xl=Pg(xl,ds),xl.index=0,xl.sibling=null,xl}function $o(xl,ds,_c){return xl.index=_c,Fn?(_c=xl.alternate,_c!==null?(_c=_c.index,_c<ds?(xl.flags|=2,ds):_c):(xl.flags|=2,ds)):(xl.flags|=1048576,ds)}function Ao(xl){return Fn&&xl.alternate===null&&(xl.flags|=2),xl}function Lo(xl,ds,_c,$l){return ds===null||ds.tag!==6?(ds=Qg$1(_c,xl.mode,$l),ds.return=xl,ds):(ds=mo(ds,_c),ds.return=xl,ds)}function Wo(xl,ds,_c,$l){var Al=_c.type;return Al===ya$2?zo(xl,ds,_c.props.children,$l,_c.key):ds!==null&&(ds.elementType===Al||typeof Al=="object"&&Al!==null&&Al.$$typeof===Ha$2&&Ng(Al)===ds.type)?($l=mo(ds,_c.props),$l.ref=Lg(xl,ds,_c),$l.return=xl,$l):($l=Rg(_c.type,_c.key,_c.props,null,xl.mode,$l),$l.ref=Lg(xl,ds,_c),$l.return=xl,$l)}function jo(xl,ds,_c,$l){return ds===null||ds.tag!==4||ds.stateNode.containerInfo!==_c.containerInfo||ds.stateNode.implementation!==_c.implementation?(ds=Sg(_c,xl.mode,$l),ds.return=xl,ds):(ds=mo(ds,_c.children||[]),ds.return=xl,ds)}function zo(xl,ds,_c,$l,Al){return ds===null||ds.tag!==7?(ds=Tg(_c,xl.mode,$l,Al),ds.return=xl,ds):(ds=mo(ds,_c),ds.return=xl,ds)}function Vo(xl,ds,_c){if(typeof ds=="string"&&ds!==""||typeof ds=="number")return ds=Qg$1(""+ds,xl.mode,_c),ds.return=xl,ds;if(typeof ds=="object"&&ds!==null){switch(ds.$$typeof){case va$1:return _c=Rg(ds.type,ds.key,ds.props,null,xl.mode,_c),_c.ref=Lg(xl,null,ds),_c.return=xl,_c;case wa$1:return ds=Sg(ds,xl.mode,_c),ds.return=xl,ds;case Ha$2:var $l=ds._init;return Vo(xl,$l(ds._payload),_c)}if(eb(ds)||Ka$1(ds))return ds=Tg(ds,xl.mode,_c,null),ds.return=xl,ds;Mg$1(xl,ds)}return null}function Go(xl,ds,_c,$l){var Al=ds!==null?ds.key:null;if(typeof _c=="string"&&_c!==""||typeof _c=="number")return Al!==null?null:Lo(xl,ds,""+_c,$l);if(typeof _c=="object"&&_c!==null){switch(_c.$$typeof){case va$1:return _c.key===Al?Wo(xl,ds,_c,$l):null;case wa$1:return _c.key===Al?jo(xl,ds,_c,$l):null;case Ha$2:return Al=_c._init,Go(xl,ds,Al(_c._payload),$l)}if(eb(_c)||Ka$1(_c))return Al!==null?null:zo(xl,ds,_c,$l,null);Mg$1(xl,_c)}return null}function Jo(xl,ds,_c,$l,Al){if(typeof $l=="string"&&$l!==""||typeof $l=="number")return xl=xl.get(_c)||null,Lo(ds,xl,""+$l,Al);if(typeof $l=="object"&&$l!==null){switch($l.$$typeof){case va$1:return xl=xl.get($l.key===null?_c:$l.key)||null,Wo(ds,xl,$l,Al);case wa$1:return xl=xl.get($l.key===null?_c:$l.key)||null,jo(ds,xl,$l,Al);case Ha$2:var Il=$l._init;return Jo(xl,ds,_c,Il($l._payload),Al)}if(eb($l)||Ka$1($l))return xl=xl.get(_c)||null,zo(ds,xl,$l,Al,null);Mg$1(ds,$l)}return null}function Qo(xl,ds,_c,$l){for(var Al=null,Il=null,us=ds,ps=ds=0,Rl=null;us!==null&&ps<_c.length;ps++){us.index>ps?(Rl=us,us=null):Rl=us.sibling;var Wl=Go(xl,us,_c[ps],$l);if(Wl===null){us===null&&(us=Rl);break}Fn&&us&&Wl.alternate===null&&Mn(xl,us),ds=$o(Wl,ds,ps),Il===null?Al=Wl:Il.sibling=Wl,Il=Wl,us=Rl}if(ps===_c.length)return io(xl,us),I$5&&tg(xl,ps),Al;if(us===null){for(;ps<_c.length;ps++)us=Vo(xl,_c[ps],$l),us!==null&&(ds=$o(us,ds,ps),Il===null?Al=us:Il.sibling=us,Il=us);return I$5&&tg(xl,ps),Al}for(us=fo(xl,us);ps<_c.length;ps++)Rl=Jo(us,xl,ps,_c[ps],$l),Rl!==null&&(Fn&&Rl.alternate!==null&&us.delete(Rl.key===null?ps:Rl.key),ds=$o(Rl,ds,ps),Il===null?Al=Rl:Il.sibling=Rl,Il=Rl);return Fn&&us.forEach(function(Nl){return Mn(xl,Nl)}),I$5&&tg(xl,ps),Al}function os(xl,ds,_c,$l){var Al=Ka$1(_c);if(typeof Al!="function")throw Error(p$a(150));if(_c=Al.call(_c),_c==null)throw Error(p$a(151));for(var Il=Al=null,us=ds,ps=ds=0,Rl=null,Wl=_c.next();us!==null&&!Wl.done;ps++,Wl=_c.next()){us.index>ps?(Rl=us,us=null):Rl=us.sibling;var Nl=Go(xl,us,Wl.value,$l);if(Nl===null){us===null&&(us=Rl);break}Fn&&us&&Nl.alternate===null&&Mn(xl,us),ds=$o(Nl,ds,ps),Il===null?Al=Nl:Il.sibling=Nl,Il=Nl,us=Rl}if(Wl.done)return io(xl,us),I$5&&tg(xl,ps),Al;if(us===null){for(;!Wl.done;ps++,Wl=_c.next())Wl=Vo(xl,Wl.value,$l),Wl!==null&&(ds=$o(Wl,ds,ps),Il===null?Al=Wl:Il.sibling=Wl,Il=Wl);return I$5&&tg(xl,ps),Al}for(us=fo(xl,us);!Wl.done;ps++,Wl=_c.next())Wl=Jo(us,xl,ps,Wl.value,$l),Wl!==null&&(Fn&&Wl.alternate!==null&&us.delete(Wl.key===null?ps:Wl.key),ds=$o(Wl,ds,ps),Il===null?Al=Wl:Il.sibling=Wl,Il=Wl);return Fn&&us.forEach(function(wl){return Mn(xl,wl)}),I$5&&tg(xl,ps),Al}function Cl(xl,ds,_c,$l){if(typeof _c=="object"&&_c!==null&&_c.type===ya$2&&_c.key===null&&(_c=_c.props.children),typeof _c=="object"&&_c!==null){switch(_c.$$typeof){case va$1:e:{for(var Al=_c.key,Il=ds;Il!==null;){if(Il.key===Al){if(Al=_c.type,Al===ya$2){if(Il.tag===7){io(xl,Il.sibling),ds=mo(Il,_c.props.children),ds.return=xl,xl=ds;break e}}else if(Il.elementType===Al||typeof Al=="object"&&Al!==null&&Al.$$typeof===Ha$2&&Ng(Al)===Il.type){io(xl,Il.sibling),ds=mo(Il,_c.props),ds.ref=Lg(xl,Il,_c),ds.return=xl,xl=ds;break e}io(xl,Il);break}else Mn(xl,Il);Il=Il.sibling}_c.type===ya$2?(ds=Tg(_c.props.children,xl.mode,$l,_c.key),ds.return=xl,xl=ds):($l=Rg(_c.type,_c.key,_c.props,null,xl.mode,$l),$l.ref=Lg(xl,ds,_c),$l.return=xl,xl=$l)}return Ao(xl);case wa$1:e:{for(Il=_c.key;ds!==null;){if(ds.key===Il)if(ds.tag===4&&ds.stateNode.containerInfo===_c.containerInfo&&ds.stateNode.implementation===_c.implementation){io(xl,ds.sibling),ds=mo(ds,_c.children||[]),ds.return=xl,xl=ds;break e}else{io(xl,ds);break}else Mn(xl,ds);ds=ds.sibling}ds=Sg(_c,xl.mode,$l),ds.return=xl,xl=ds}return Ao(xl);case Ha$2:return Il=_c._init,Cl(xl,ds,Il(_c._payload),$l)}if(eb(_c))return Qo(xl,ds,_c,$l);if(Ka$1(_c))return os(xl,ds,_c,$l);Mg$1(xl,_c)}return typeof _c=="string"&&_c!==""||typeof _c=="number"?(_c=""+_c,ds!==null&&ds.tag===6?(io(xl,ds.sibling),ds=mo(ds,_c),ds.return=xl,xl=ds):(io(xl,ds),ds=Qg$1(_c,xl.mode,$l),ds.return=xl,xl=ds),Ao(xl)):io(xl,ds)}return Cl}var Ug=Og(!0),Vg$1=Og(!1),Wg=Uf$1(null),Xg$1=null,Yg$1=null,Zg$1=null;function $g(){Zg$1=Yg$1=Xg$1=null}function ah(Fn){var Mn=Wg.current;E$5(Wg),Fn._currentValue=Mn}function bh$1(Fn,Mn,io){for(;Fn!==null;){var fo=Fn.alternate;if((Fn.childLanes&Mn)!==Mn?(Fn.childLanes|=Mn,fo!==null&&(fo.childLanes|=Mn)):fo!==null&&(fo.childLanes&Mn)!==Mn&&(fo.childLanes|=Mn),Fn===io)break;Fn=Fn.return}}function ch$1(Fn,Mn){Xg$1=Fn,Zg$1=Yg$1=null,Fn=Fn.dependencies,Fn!==null&&Fn.firstContext!==null&&(Fn.lanes&Mn&&(dh$1=!0),Fn.firstContext=null)}function eh(Fn){var Mn=Fn._currentValue;if(Zg$1!==Fn)if(Fn={context:Fn,memoizedValue:Mn,next:null},Yg$1===null){if(Xg$1===null)throw Error(p$a(308));Yg$1=Fn,Xg$1.dependencies={lanes:0,firstContext:Fn}}else Yg$1=Yg$1.next=Fn;return Mn}var fh=null;function gh$1(Fn){fh===null?fh=[Fn]:fh.push(Fn)}function hh$1(Fn,Mn,io,fo){var mo=Mn.interleaved;return mo===null?(io.next=io,gh$1(Mn)):(io.next=mo.next,mo.next=io),Mn.interleaved=io,ih(Fn,fo)}function ih(Fn,Mn){Fn.lanes|=Mn;var io=Fn.alternate;for(io!==null&&(io.lanes|=Mn),io=Fn,Fn=Fn.return;Fn!==null;)Fn.childLanes|=Mn,io=Fn.alternate,io!==null&&(io.childLanes|=Mn),io=Fn,Fn=Fn.return;return io.tag===3?io.stateNode:null}var jh=!1;function kh(Fn){Fn.updateQueue={baseState:Fn.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh$1(Fn,Mn){Fn=Fn.updateQueue,Mn.updateQueue===Fn&&(Mn.updateQueue={baseState:Fn.baseState,firstBaseUpdate:Fn.firstBaseUpdate,lastBaseUpdate:Fn.lastBaseUpdate,shared:Fn.shared,effects:Fn.effects})}function mh$1(Fn,Mn){return{eventTime:Fn,lane:Mn,tag:0,payload:null,callback:null,next:null}}function nh(Fn,Mn,io){var fo=Fn.updateQueue;if(fo===null)return null;if(fo=fo.shared,K$3&2){var mo=fo.pending;return mo===null?Mn.next=Mn:(Mn.next=mo.next,mo.next=Mn),fo.pending=Mn,ih(Fn,io)}return mo=fo.interleaved,mo===null?(Mn.next=Mn,gh$1(fo)):(Mn.next=mo.next,mo.next=Mn),fo.interleaved=Mn,ih(Fn,io)}function oh(Fn,Mn,io){if(Mn=Mn.updateQueue,Mn!==null&&(Mn=Mn.shared,(io&4194240)!==0)){var fo=Mn.lanes;fo&=Fn.pendingLanes,io|=fo,Mn.lanes=io,Cc(Fn,io)}}function ph$1(Fn,Mn){var io=Fn.updateQueue,fo=Fn.alternate;if(fo!==null&&(fo=fo.updateQueue,io===fo)){var mo=null,$o=null;if(io=io.firstBaseUpdate,io!==null){do{var Ao={eventTime:io.eventTime,lane:io.lane,tag:io.tag,payload:io.payload,callback:io.callback,next:null};$o===null?mo=$o=Ao:$o=$o.next=Ao,io=io.next}while(io!==null);$o===null?mo=$o=Mn:$o=$o.next=Mn}else mo=$o=Mn;io={baseState:fo.baseState,firstBaseUpdate:mo,lastBaseUpdate:$o,shared:fo.shared,effects:fo.effects},Fn.updateQueue=io;return}Fn=io.lastBaseUpdate,Fn===null?io.firstBaseUpdate=Mn:Fn.next=Mn,io.lastBaseUpdate=Mn}function qh(Fn,Mn,io,fo){var mo=Fn.updateQueue;jh=!1;var $o=mo.firstBaseUpdate,Ao=mo.lastBaseUpdate,Lo=mo.shared.pending;if(Lo!==null){mo.shared.pending=null;var Wo=Lo,jo=Wo.next;Wo.next=null,Ao===null?$o=jo:Ao.next=jo,Ao=Wo;var zo=Fn.alternate;zo!==null&&(zo=zo.updateQueue,Lo=zo.lastBaseUpdate,Lo!==Ao&&(Lo===null?zo.firstBaseUpdate=jo:Lo.next=jo,zo.lastBaseUpdate=Wo))}if($o!==null){var Vo=mo.baseState;Ao=0,zo=jo=Wo=null,Lo=$o;do{var Go=Lo.lane,Jo=Lo.eventTime;if((fo&Go)===Go){zo!==null&&(zo=zo.next={eventTime:Jo,lane:0,tag:Lo.tag,payload:Lo.payload,callback:Lo.callback,next:null});e:{var Qo=Fn,os=Lo;switch(Go=Mn,Jo=io,os.tag){case 1:if(Qo=os.payload,typeof Qo=="function"){Vo=Qo.call(Jo,Vo,Go);break e}Vo=Qo;break e;case 3:Qo.flags=Qo.flags&-65537|128;case 0:if(Qo=os.payload,Go=typeof Qo=="function"?Qo.call(Jo,Vo,Go):Qo,Go==null)break e;Vo=A$5({},Vo,Go);break e;case 2:jh=!0}}Lo.callback!==null&&Lo.lane!==0&&(Fn.flags|=64,Go=mo.effects,Go===null?mo.effects=[Lo]:Go.push(Lo))}else Jo={eventTime:Jo,lane:Go,tag:Lo.tag,payload:Lo.payload,callback:Lo.callback,next:null},zo===null?(jo=zo=Jo,Wo=Vo):zo=zo.next=Jo,Ao|=Go;if(Lo=Lo.next,Lo===null){if(Lo=mo.shared.pending,Lo===null)break;Go=Lo,Lo=Go.next,Go.next=null,mo.lastBaseUpdate=Go,mo.shared.pending=null}}while(!0);if(zo===null&&(Wo=Vo),mo.baseState=Wo,mo.firstBaseUpdate=jo,mo.lastBaseUpdate=zo,Mn=mo.shared.interleaved,Mn!==null){mo=Mn;do Ao|=mo.lane,mo=mo.next;while(mo!==Mn)}else $o===null&&(mo.shared.lanes=0);rh$1|=Ao,Fn.lanes=Ao,Fn.memoizedState=Vo}}function sh$1(Fn,Mn,io){if(Fn=Mn.effects,Mn.effects=null,Fn!==null)for(Mn=0;Mn<Fn.length;Mn++){var fo=Fn[Mn],mo=fo.callback;if(mo!==null){if(fo.callback=null,fo=io,typeof mo!="function")throw Error(p$a(191,mo));mo.call(fo)}}}var th={},uh$1=Uf$1(th),vh$1=Uf$1(th),wh$1=Uf$1(th);function xh$1(Fn){if(Fn===th)throw Error(p$a(174));return Fn}function yh$1(Fn,Mn){switch(G$2(wh$1,Mn),G$2(vh$1,Fn),G$2(uh$1,th),Fn=Mn.nodeType,Fn){case 9:case 11:Mn=(Mn=Mn.documentElement)?Mn.namespaceURI:lb(null,"");break;default:Fn=Fn===8?Mn.parentNode:Mn,Mn=Fn.namespaceURI||null,Fn=Fn.tagName,Mn=lb(Mn,Fn)}E$5(uh$1),G$2(uh$1,Mn)}function zh(){E$5(uh$1),E$5(vh$1),E$5(wh$1)}function Ah$1(Fn){xh$1(wh$1.current);var Mn=xh$1(uh$1.current),io=lb(Mn,Fn.type);Mn!==io&&(G$2(vh$1,Fn),G$2(uh$1,io))}function Bh$1(Fn){vh$1.current===Fn&&(E$5(uh$1),E$5(vh$1))}var L$4=Uf$1(0);function Ch$1(Fn){for(var Mn=Fn;Mn!==null;){if(Mn.tag===13){var io=Mn.memoizedState;if(io!==null&&(io=io.dehydrated,io===null||io.data==="$?"||io.data==="$!"))return Mn}else if(Mn.tag===19&&Mn.memoizedProps.revealOrder!==void 0){if(Mn.flags&128)return Mn}else if(Mn.child!==null){Mn.child.return=Mn,Mn=Mn.child;continue}if(Mn===Fn)break;for(;Mn.sibling===null;){if(Mn.return===null||Mn.return===Fn)return null;Mn=Mn.return}Mn.sibling.return=Mn.return,Mn=Mn.sibling}return null}var Dh=[];function Eh$1(){for(var Fn=0;Fn<Dh.length;Fn++)Dh[Fn]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua$1.ReactCurrentDispatcher,Gh=ua$1.ReactCurrentBatchConfig,Hh=0,M$5=null,N$3=null,O$6=null,Ih$1=!1,Jh=!1,Kh$1=0,Lh=0;function P$5(){throw Error(p$a(321))}function Mh$1(Fn,Mn){if(Mn===null)return!1;for(var io=0;io<Mn.length&&io<Fn.length;io++)if(!He(Fn[io],Mn[io]))return!1;return!0}function Nh$1(Fn,Mn,io,fo,mo,$o){if(Hh=$o,M$5=Mn,Mn.memoizedState=null,Mn.updateQueue=null,Mn.lanes=0,Fh.current=Fn===null||Fn.memoizedState===null?Oh:Ph,Fn=io(fo,mo),Jh){$o=0;do{if(Jh=!1,Kh$1=0,25<=$o)throw Error(p$a(301));$o+=1,O$6=N$3=null,Mn.updateQueue=null,Fh.current=Qh,Fn=io(fo,mo)}while(Jh)}if(Fh.current=Rh$1,Mn=N$3!==null&&N$3.next!==null,Hh=0,O$6=N$3=M$5=null,Ih$1=!1,Mn)throw Error(p$a(300));return Fn}function Sh$1(){var Fn=Kh$1!==0;return Kh$1=0,Fn}function Th(){var Fn={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$6===null?M$5.memoizedState=O$6=Fn:O$6=O$6.next=Fn,O$6}function Uh(){if(N$3===null){var Fn=M$5.alternate;Fn=Fn!==null?Fn.memoizedState:null}else Fn=N$3.next;var Mn=O$6===null?M$5.memoizedState:O$6.next;if(Mn!==null)O$6=Mn,N$3=Fn;else{if(Fn===null)throw Error(p$a(310));N$3=Fn,Fn={memoizedState:N$3.memoizedState,baseState:N$3.baseState,baseQueue:N$3.baseQueue,queue:N$3.queue,next:null},O$6===null?M$5.memoizedState=O$6=Fn:O$6=O$6.next=Fn}return O$6}function Vh(Fn,Mn){return typeof Mn=="function"?Mn(Fn):Mn}function Wh(Fn){var Mn=Uh(),io=Mn.queue;if(io===null)throw Error(p$a(311));io.lastRenderedReducer=Fn;var fo=N$3,mo=fo.baseQueue,$o=io.pending;if($o!==null){if(mo!==null){var Ao=mo.next;mo.next=$o.next,$o.next=Ao}fo.baseQueue=mo=$o,io.pending=null}if(mo!==null){$o=mo.next,fo=fo.baseState;var Lo=Ao=null,Wo=null,jo=$o;do{var zo=jo.lane;if((Hh&zo)===zo)Wo!==null&&(Wo=Wo.next={lane:0,action:jo.action,hasEagerState:jo.hasEagerState,eagerState:jo.eagerState,next:null}),fo=jo.hasEagerState?jo.eagerState:Fn(fo,jo.action);else{var Vo={lane:zo,action:jo.action,hasEagerState:jo.hasEagerState,eagerState:jo.eagerState,next:null};Wo===null?(Lo=Wo=Vo,Ao=fo):Wo=Wo.next=Vo,M$5.lanes|=zo,rh$1|=zo}jo=jo.next}while(jo!==null&&jo!==$o);Wo===null?Ao=fo:Wo.next=Lo,He(fo,Mn.memoizedState)||(dh$1=!0),Mn.memoizedState=fo,Mn.baseState=Ao,Mn.baseQueue=Wo,io.lastRenderedState=fo}if(Fn=io.interleaved,Fn!==null){mo=Fn;do $o=mo.lane,M$5.lanes|=$o,rh$1|=$o,mo=mo.next;while(mo!==Fn)}else mo===null&&(io.lanes=0);return[Mn.memoizedState,io.dispatch]}function Xh(Fn){var Mn=Uh(),io=Mn.queue;if(io===null)throw Error(p$a(311));io.lastRenderedReducer=Fn;var fo=io.dispatch,mo=io.pending,$o=Mn.memoizedState;if(mo!==null){io.pending=null;var Ao=mo=mo.next;do $o=Fn($o,Ao.action),Ao=Ao.next;while(Ao!==mo);He($o,Mn.memoizedState)||(dh$1=!0),Mn.memoizedState=$o,Mn.baseQueue===null&&(Mn.baseState=$o),io.lastRenderedState=$o}return[$o,fo]}function Yh(){}function Zh(Fn,Mn){var io=M$5,fo=Uh(),mo=Mn(),$o=!He(fo.memoizedState,mo);if($o&&(fo.memoizedState=mo,dh$1=!0),fo=fo.queue,$h(ai$1.bind(null,io,fo,Fn),[Fn]),fo.getSnapshot!==Mn||$o||O$6!==null&&O$6.memoizedState.tag&1){if(io.flags|=2048,bi$2(9,ci$1.bind(null,io,fo,mo,Mn),void 0,null),Q$3===null)throw Error(p$a(349));Hh&30||di$1(io,Mn,mo)}return mo}function di$1(Fn,Mn,io){Fn.flags|=16384,Fn={getSnapshot:Mn,value:io},Mn=M$5.updateQueue,Mn===null?(Mn={lastEffect:null,stores:null},M$5.updateQueue=Mn,Mn.stores=[Fn]):(io=Mn.stores,io===null?Mn.stores=[Fn]:io.push(Fn))}function ci$1(Fn,Mn,io,fo){Mn.value=io,Mn.getSnapshot=fo,ei$1(Mn)&&fi$1(Fn)}function ai$1(Fn,Mn,io){return io(function(){ei$1(Mn)&&fi$1(Fn)})}function ei$1(Fn){var Mn=Fn.getSnapshot;Fn=Fn.value;try{var io=Mn();return!He(Fn,io)}catch{return!0}}function fi$1(Fn){var Mn=ih(Fn,1);Mn!==null&&gi$1(Mn,Fn,1,-1)}function hi$1(Fn){var Mn=Th();return typeof Fn=="function"&&(Fn=Fn()),Mn.memoizedState=Mn.baseState=Fn,Fn={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:Fn},Mn.queue=Fn,Fn=Fn.dispatch=ii$1.bind(null,M$5,Fn),[Mn.memoizedState,Fn]}function bi$2(Fn,Mn,io,fo){return Fn={tag:Fn,create:Mn,destroy:io,deps:fo,next:null},Mn=M$5.updateQueue,Mn===null?(Mn={lastEffect:null,stores:null},M$5.updateQueue=Mn,Mn.lastEffect=Fn.next=Fn):(io=Mn.lastEffect,io===null?Mn.lastEffect=Fn.next=Fn:(fo=io.next,io.next=Fn,Fn.next=fo,Mn.lastEffect=Fn)),Fn}function ji$1(){return Uh().memoizedState}function ki$1(Fn,Mn,io,fo){var mo=Th();M$5.flags|=Fn,mo.memoizedState=bi$2(1|Mn,io,void 0,fo===void 0?null:fo)}function li$3(Fn,Mn,io,fo){var mo=Uh();fo=fo===void 0?null:fo;var $o=void 0;if(N$3!==null){var Ao=N$3.memoizedState;if($o=Ao.destroy,fo!==null&&Mh$1(fo,Ao.deps)){mo.memoizedState=bi$2(Mn,io,$o,fo);return}}M$5.flags|=Fn,mo.memoizedState=bi$2(1|Mn,io,$o,fo)}function mi$1(Fn,Mn){return ki$1(8390656,8,Fn,Mn)}function $h(Fn,Mn){return li$3(2048,8,Fn,Mn)}function ni$1(Fn,Mn){return li$3(4,2,Fn,Mn)}function oi$1(Fn,Mn){return li$3(4,4,Fn,Mn)}function pi$1(Fn,Mn){if(typeof Mn=="function")return Fn=Fn(),Mn(Fn),function(){Mn(null)};if(Mn!=null)return Fn=Fn(),Mn.current=Fn,function(){Mn.current=null}}function qi$2(Fn,Mn,io){return io=io!=null?io.concat([Fn]):null,li$3(4,4,pi$1.bind(null,Mn,Fn),io)}function ri$1(){}function si$1(Fn,Mn){var io=Uh();Mn=Mn===void 0?null:Mn;var fo=io.memoizedState;return fo!==null&&Mn!==null&&Mh$1(Mn,fo[1])?fo[0]:(io.memoizedState=[Fn,Mn],Fn)}function ti$1(Fn,Mn){var io=Uh();Mn=Mn===void 0?null:Mn;var fo=io.memoizedState;return fo!==null&&Mn!==null&&Mh$1(Mn,fo[1])?fo[0]:(Fn=Fn(),io.memoizedState=[Fn,Mn],Fn)}function ui$1(Fn,Mn,io){return Hh&21?(He(io,Mn)||(io=yc(),M$5.lanes|=io,rh$1|=io,Fn.baseState=!0),Mn):(Fn.baseState&&(Fn.baseState=!1,dh$1=!0),Fn.memoizedState=io)}function vi(Fn,Mn){var io=C$5;C$5=io!==0&&4>io?io:4,Fn(!0);var fo=Gh.transition;Gh.transition={};try{Fn(!1),Mn()}finally{C$5=io,Gh.transition=fo}}function wi(){return Uh().memoizedState}function xi$1(Fn,Mn,io){var fo=yi$2(Fn);if(io={lane:fo,action:io,hasEagerState:!1,eagerState:null,next:null},zi$1(Fn))Ai(Mn,io);else if(io=hh$1(Fn,Mn,io,fo),io!==null){var mo=R$4();gi$1(io,Fn,fo,mo),Bi$2(io,Mn,fo)}}function ii$1(Fn,Mn,io){var fo=yi$2(Fn),mo={lane:fo,action:io,hasEagerState:!1,eagerState:null,next:null};if(zi$1(Fn))Ai(Mn,mo);else{var $o=Fn.alternate;if(Fn.lanes===0&&($o===null||$o.lanes===0)&&($o=Mn.lastRenderedReducer,$o!==null))try{var Ao=Mn.lastRenderedState,Lo=$o(Ao,io);if(mo.hasEagerState=!0,mo.eagerState=Lo,He(Lo,Ao)){var Wo=Mn.interleaved;Wo===null?(mo.next=mo,gh$1(Mn)):(mo.next=Wo.next,Wo.next=mo),Mn.interleaved=mo;return}}catch{}finally{}io=hh$1(Fn,Mn,mo,fo),io!==null&&(mo=R$4(),gi$1(io,Fn,fo,mo),Bi$2(io,Mn,fo))}}function zi$1(Fn){var Mn=Fn.alternate;return Fn===M$5||Mn!==null&&Mn===M$5}function Ai(Fn,Mn){Jh=Ih$1=!0;var io=Fn.pending;io===null?Mn.next=Mn:(Mn.next=io.next,io.next=Mn),Fn.pending=Mn}function Bi$2(Fn,Mn,io){if(io&4194240){var fo=Mn.lanes;fo&=Fn.pendingLanes,io|=fo,Mn.lanes=io,Cc(Fn,io)}}var Rh$1={readContext:eh,useCallback:P$5,useContext:P$5,useEffect:P$5,useImperativeHandle:P$5,useInsertionEffect:P$5,useLayoutEffect:P$5,useMemo:P$5,useReducer:P$5,useRef:P$5,useState:P$5,useDebugValue:P$5,useDeferredValue:P$5,useTransition:P$5,useMutableSource:P$5,useSyncExternalStore:P$5,useId:P$5,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(Fn,Mn){return Th().memoizedState=[Fn,Mn===void 0?null:Mn],Fn},useContext:eh,useEffect:mi$1,useImperativeHandle:function(Fn,Mn,io){return io=io!=null?io.concat([Fn]):null,ki$1(4194308,4,pi$1.bind(null,Mn,Fn),io)},useLayoutEffect:function(Fn,Mn){return ki$1(4194308,4,Fn,Mn)},useInsertionEffect:function(Fn,Mn){return ki$1(4,2,Fn,Mn)},useMemo:function(Fn,Mn){var io=Th();return Mn=Mn===void 0?null:Mn,Fn=Fn(),io.memoizedState=[Fn,Mn],Fn},useReducer:function(Fn,Mn,io){var fo=Th();return Mn=io!==void 0?io(Mn):Mn,fo.memoizedState=fo.baseState=Mn,Fn={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fn,lastRenderedState:Mn},fo.queue=Fn,Fn=Fn.dispatch=xi$1.bind(null,M$5,Fn),[fo.memoizedState,Fn]},useRef:function(Fn){var Mn=Th();return Fn={current:Fn},Mn.memoizedState=Fn},useState:hi$1,useDebugValue:ri$1,useDeferredValue:function(Fn){return Th().memoizedState=Fn},useTransition:function(){var Fn=hi$1(!1),Mn=Fn[0];return Fn=vi.bind(null,Fn[1]),Th().memoizedState=Fn,[Mn,Fn]},useMutableSource:function(){},useSyncExternalStore:function(Fn,Mn,io){var fo=M$5,mo=Th();if(I$5){if(io===void 0)throw Error(p$a(407));io=io()}else{if(io=Mn(),Q$3===null)throw Error(p$a(349));Hh&30||di$1(fo,Mn,io)}mo.memoizedState=io;var $o={value:io,getSnapshot:Mn};return mo.queue=$o,mi$1(ai$1.bind(null,fo,$o,Fn),[Fn]),fo.flags|=2048,bi$2(9,ci$1.bind(null,fo,$o,io,Mn),void 0,null),io},useId:function(){var Fn=Th(),Mn=Q$3.identifierPrefix;if(I$5){var io=sg,fo=rg;io=(fo&~(1<<32-oc(fo)-1)).toString(32)+io,Mn=":"+Mn+"R"+io,io=Kh$1++,0<io&&(Mn+="H"+io.toString(32)),Mn+=":"}else io=Lh++,Mn=":"+Mn+"r"+io.toString(32)+":";return Fn.memoizedState=Mn},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si$1,useContext:eh,useEffect:$h,useImperativeHandle:qi$2,useInsertionEffect:ni$1,useLayoutEffect:oi$1,useMemo:ti$1,useReducer:Wh,useRef:ji$1,useState:function(){return Wh(Vh)},useDebugValue:ri$1,useDeferredValue:function(Fn){var Mn=Uh();return ui$1(Mn,N$3.memoizedState,Fn)},useTransition:function(){var Fn=Wh(Vh)[0],Mn=Uh().memoizedState;return[Fn,Mn]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si$1,useContext:eh,useEffect:$h,useImperativeHandle:qi$2,useInsertionEffect:ni$1,useLayoutEffect:oi$1,useMemo:ti$1,useReducer:Xh,useRef:ji$1,useState:function(){return Xh(Vh)},useDebugValue:ri$1,useDeferredValue:function(Fn){var Mn=Uh();return N$3===null?Mn.memoizedState=Fn:ui$1(Mn,N$3.memoizedState,Fn)},useTransition:function(){var Fn=Xh(Vh)[0],Mn=Uh().memoizedState;return[Fn,Mn]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci$1(Fn,Mn){if(Fn&&Fn.defaultProps){Mn=A$5({},Mn),Fn=Fn.defaultProps;for(var io in Fn)Mn[io]===void 0&&(Mn[io]=Fn[io]);return Mn}return Mn}function Di$2(Fn,Mn,io,fo){Mn=Fn.memoizedState,io=io(fo,Mn),io=io==null?Mn:A$5({},Mn,io),Fn.memoizedState=io,Fn.lanes===0&&(Fn.updateQueue.baseState=io)}var Ei$1={isMounted:function(Fn){return(Fn=Fn._reactInternals)?Vb(Fn)===Fn:!1},enqueueSetState:function(Fn,Mn,io){Fn=Fn._reactInternals;var fo=R$4(),mo=yi$2(Fn),$o=mh$1(fo,mo);$o.payload=Mn,io!=null&&($o.callback=io),Mn=nh(Fn,$o,mo),Mn!==null&&(gi$1(Mn,Fn,mo,fo),oh(Mn,Fn,mo))},enqueueReplaceState:function(Fn,Mn,io){Fn=Fn._reactInternals;var fo=R$4(),mo=yi$2(Fn),$o=mh$1(fo,mo);$o.tag=1,$o.payload=Mn,io!=null&&($o.callback=io),Mn=nh(Fn,$o,mo),Mn!==null&&(gi$1(Mn,Fn,mo,fo),oh(Mn,Fn,mo))},enqueueForceUpdate:function(Fn,Mn){Fn=Fn._reactInternals;var io=R$4(),fo=yi$2(Fn),mo=mh$1(io,fo);mo.tag=2,Mn!=null&&(mo.callback=Mn),Mn=nh(Fn,mo,fo),Mn!==null&&(gi$1(Mn,Fn,fo,io),oh(Mn,Fn,fo))}};function Fi$2(Fn,Mn,io,fo,mo,$o,Ao){return Fn=Fn.stateNode,typeof Fn.shouldComponentUpdate=="function"?Fn.shouldComponentUpdate(fo,$o,Ao):Mn.prototype&&Mn.prototype.isPureReactComponent?!Ie$2(io,fo)||!Ie$2(mo,$o):!0}function Gi$1(Fn,Mn,io){var fo=!1,mo=Vf$1,$o=Mn.contextType;return typeof $o=="object"&&$o!==null?$o=eh($o):(mo=Zf(Mn)?Xf:H$2.current,fo=Mn.contextTypes,$o=(fo=fo!=null)?Yf$1(Fn,mo):Vf$1),Mn=new Mn(io,$o),Fn.memoizedState=Mn.state!==null&&Mn.state!==void 0?Mn.state:null,Mn.updater=Ei$1,Fn.stateNode=Mn,Mn._reactInternals=Fn,fo&&(Fn=Fn.stateNode,Fn.__reactInternalMemoizedUnmaskedChildContext=mo,Fn.__reactInternalMemoizedMaskedChildContext=$o),Mn}function Hi$1(Fn,Mn,io,fo){Fn=Mn.state,typeof Mn.componentWillReceiveProps=="function"&&Mn.componentWillReceiveProps(io,fo),typeof Mn.UNSAFE_componentWillReceiveProps=="function"&&Mn.UNSAFE_componentWillReceiveProps(io,fo),Mn.state!==Fn&&Ei$1.enqueueReplaceState(Mn,Mn.state,null)}function Ii$1(Fn,Mn,io,fo){var mo=Fn.stateNode;mo.props=io,mo.state=Fn.memoizedState,mo.refs={},kh(Fn);var $o=Mn.contextType;typeof $o=="object"&&$o!==null?mo.context=eh($o):($o=Zf(Mn)?Xf:H$2.current,mo.context=Yf$1(Fn,$o)),mo.state=Fn.memoizedState,$o=Mn.getDerivedStateFromProps,typeof $o=="function"&&(Di$2(Fn,Mn,$o,io),mo.state=Fn.memoizedState),typeof Mn.getDerivedStateFromProps=="function"||typeof mo.getSnapshotBeforeUpdate=="function"||typeof mo.UNSAFE_componentWillMount!="function"&&typeof mo.componentWillMount!="function"||(Mn=mo.state,typeof mo.componentWillMount=="function"&&mo.componentWillMount(),typeof mo.UNSAFE_componentWillMount=="function"&&mo.UNSAFE_componentWillMount(),Mn!==mo.state&&Ei$1.enqueueReplaceState(mo,mo.state,null),qh(Fn,io,mo,fo),mo.state=Fn.memoizedState),typeof mo.componentDidMount=="function"&&(Fn.flags|=4194308)}function Ji$1(Fn,Mn){try{var io="",fo=Mn;do io+=Pa$1(fo),fo=fo.return;while(fo);var mo=io}catch($o){mo=`
Error generating stack: `+$o.message+`
`+$o.stack}return{value:Fn,source:Mn,stack:mo,digest:null}}function Ki$1(Fn,Mn,io){return{value:Fn,source:null,stack:io??null,digest:Mn??null}}function Li$1(Fn,Mn){try{console.error(Mn.value)}catch(io){setTimeout(function(){throw io})}}var Mi$2=typeof WeakMap=="function"?WeakMap:Map;function Ni$1(Fn,Mn,io){io=mh$1(-1,io),io.tag=3,io.payload={element:null};var fo=Mn.value;return io.callback=function(){Oi$1||(Oi$1=!0,Pi$1=fo),Li$1(Fn,Mn)},io}function Qi$1(Fn,Mn,io){io=mh$1(-1,io),io.tag=3;var fo=Fn.type.getDerivedStateFromError;if(typeof fo=="function"){var mo=Mn.value;io.payload=function(){return fo(mo)},io.callback=function(){Li$1(Fn,Mn)}}var $o=Fn.stateNode;return $o!==null&&typeof $o.componentDidCatch=="function"&&(io.callback=function(){Li$1(Fn,Mn),typeof fo!="function"&&(Ri$1===null?Ri$1=new Set([this]):Ri$1.add(this));var Ao=Mn.stack;this.componentDidCatch(Mn.value,{componentStack:Ao!==null?Ao:""})}),io}function Si$1(Fn,Mn,io){var fo=Fn.pingCache;if(fo===null){fo=Fn.pingCache=new Mi$2;var mo=new Set;fo.set(Mn,mo)}else mo=fo.get(Mn),mo===void 0&&(mo=new Set,fo.set(Mn,mo));mo.has(io)||(mo.add(io),Fn=Ti$1.bind(null,Fn,Mn,io),Mn.then(Fn,Fn))}function Ui$1(Fn){do{var Mn;if((Mn=Fn.tag===13)&&(Mn=Fn.memoizedState,Mn=Mn!==null?Mn.dehydrated!==null:!0),Mn)return Fn;Fn=Fn.return}while(Fn!==null);return null}function Vi$1(Fn,Mn,io,fo,mo){return Fn.mode&1?(Fn.flags|=65536,Fn.lanes=mo,Fn):(Fn===Mn?Fn.flags|=65536:(Fn.flags|=128,io.flags|=131072,io.flags&=-52805,io.tag===1&&(io.alternate===null?io.tag=17:(Mn=mh$1(-1,1),Mn.tag=2,nh(io,Mn,1))),io.lanes|=1),Fn)}var Wi$2=ua$1.ReactCurrentOwner,dh$1=!1;function Xi$1(Fn,Mn,io,fo){Mn.child=Fn===null?Vg$1(Mn,null,io,fo):Ug(Mn,Fn.child,io,fo)}function Yi$1(Fn,Mn,io,fo,mo){io=io.render;var $o=Mn.ref;return ch$1(Mn,mo),fo=Nh$1(Fn,Mn,io,fo,$o,mo),io=Sh$1(),Fn!==null&&!dh$1?(Mn.updateQueue=Fn.updateQueue,Mn.flags&=-2053,Fn.lanes&=~mo,Zi$1(Fn,Mn,mo)):(I$5&&io&&vg(Mn),Mn.flags|=1,Xi$1(Fn,Mn,fo,mo),Mn.child)}function $i$1(Fn,Mn,io,fo,mo){if(Fn===null){var $o=io.type;return typeof $o=="function"&&!aj($o)&&$o.defaultProps===void 0&&io.compare===null&&io.defaultProps===void 0?(Mn.tag=15,Mn.type=$o,bj(Fn,Mn,$o,fo,mo)):(Fn=Rg(io.type,null,fo,Mn,Mn.mode,mo),Fn.ref=Mn.ref,Fn.return=Mn,Mn.child=Fn)}if($o=Fn.child,!(Fn.lanes&mo)){var Ao=$o.memoizedProps;if(io=io.compare,io=io!==null?io:Ie$2,io(Ao,fo)&&Fn.ref===Mn.ref)return Zi$1(Fn,Mn,mo)}return Mn.flags|=1,Fn=Pg($o,fo),Fn.ref=Mn.ref,Fn.return=Mn,Mn.child=Fn}function bj(Fn,Mn,io,fo,mo){if(Fn!==null){var $o=Fn.memoizedProps;if(Ie$2($o,fo)&&Fn.ref===Mn.ref)if(dh$1=!1,Mn.pendingProps=fo=$o,(Fn.lanes&mo)!==0)Fn.flags&131072&&(dh$1=!0);else return Mn.lanes=Fn.lanes,Zi$1(Fn,Mn,mo)}return cj(Fn,Mn,io,fo,mo)}function dj(Fn,Mn,io){var fo=Mn.pendingProps,mo=fo.children,$o=Fn!==null?Fn.memoizedState:null;if(fo.mode==="hidden")if(!(Mn.mode&1))Mn.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=io;else{if(!(io&1073741824))return Fn=$o!==null?$o.baseLanes|io:io,Mn.lanes=Mn.childLanes=1073741824,Mn.memoizedState={baseLanes:Fn,cachePool:null,transitions:null},Mn.updateQueue=null,G$2(ej,fj),fj|=Fn,null;Mn.memoizedState={baseLanes:0,cachePool:null,transitions:null},fo=$o!==null?$o.baseLanes:io,G$2(ej,fj),fj|=fo}else $o!==null?(fo=$o.baseLanes|io,Mn.memoizedState=null):fo=io,G$2(ej,fj),fj|=fo;return Xi$1(Fn,Mn,mo,io),Mn.child}function gj(Fn,Mn){var io=Mn.ref;(Fn===null&&io!==null||Fn!==null&&Fn.ref!==io)&&(Mn.flags|=512,Mn.flags|=2097152)}function cj(Fn,Mn,io,fo,mo){var $o=Zf(io)?Xf:H$2.current;return $o=Yf$1(Mn,$o),ch$1(Mn,mo),io=Nh$1(Fn,Mn,io,fo,$o,mo),fo=Sh$1(),Fn!==null&&!dh$1?(Mn.updateQueue=Fn.updateQueue,Mn.flags&=-2053,Fn.lanes&=~mo,Zi$1(Fn,Mn,mo)):(I$5&&fo&&vg(Mn),Mn.flags|=1,Xi$1(Fn,Mn,io,mo),Mn.child)}function hj(Fn,Mn,io,fo,mo){if(Zf(io)){var $o=!0;cg(Mn)}else $o=!1;if(ch$1(Mn,mo),Mn.stateNode===null)ij(Fn,Mn),Gi$1(Mn,io,fo),Ii$1(Mn,io,fo,mo),fo=!0;else if(Fn===null){var Ao=Mn.stateNode,Lo=Mn.memoizedProps;Ao.props=Lo;var Wo=Ao.context,jo=io.contextType;typeof jo=="object"&&jo!==null?jo=eh(jo):(jo=Zf(io)?Xf:H$2.current,jo=Yf$1(Mn,jo));var zo=io.getDerivedStateFromProps,Vo=typeof zo=="function"||typeof Ao.getSnapshotBeforeUpdate=="function";Vo||typeof Ao.UNSAFE_componentWillReceiveProps!="function"&&typeof Ao.componentWillReceiveProps!="function"||(Lo!==fo||Wo!==jo)&&Hi$1(Mn,Ao,fo,jo),jh=!1;var Go=Mn.memoizedState;Ao.state=Go,qh(Mn,fo,Ao,mo),Wo=Mn.memoizedState,Lo!==fo||Go!==Wo||Wf$1.current||jh?(typeof zo=="function"&&(Di$2(Mn,io,zo,fo),Wo=Mn.memoizedState),(Lo=jh||Fi$2(Mn,io,Lo,fo,Go,Wo,jo))?(Vo||typeof Ao.UNSAFE_componentWillMount!="function"&&typeof Ao.componentWillMount!="function"||(typeof Ao.componentWillMount=="function"&&Ao.componentWillMount(),typeof Ao.UNSAFE_componentWillMount=="function"&&Ao.UNSAFE_componentWillMount()),typeof Ao.componentDidMount=="function"&&(Mn.flags|=4194308)):(typeof Ao.componentDidMount=="function"&&(Mn.flags|=4194308),Mn.memoizedProps=fo,Mn.memoizedState=Wo),Ao.props=fo,Ao.state=Wo,Ao.context=jo,fo=Lo):(typeof Ao.componentDidMount=="function"&&(Mn.flags|=4194308),fo=!1)}else{Ao=Mn.stateNode,lh$1(Fn,Mn),Lo=Mn.memoizedProps,jo=Mn.type===Mn.elementType?Lo:Ci$1(Mn.type,Lo),Ao.props=jo,Vo=Mn.pendingProps,Go=Ao.context,Wo=io.contextType,typeof Wo=="object"&&Wo!==null?Wo=eh(Wo):(Wo=Zf(io)?Xf:H$2.current,Wo=Yf$1(Mn,Wo));var Jo=io.getDerivedStateFromProps;(zo=typeof Jo=="function"||typeof Ao.getSnapshotBeforeUpdate=="function")||typeof Ao.UNSAFE_componentWillReceiveProps!="function"&&typeof Ao.componentWillReceiveProps!="function"||(Lo!==Vo||Go!==Wo)&&Hi$1(Mn,Ao,fo,Wo),jh=!1,Go=Mn.memoizedState,Ao.state=Go,qh(Mn,fo,Ao,mo);var Qo=Mn.memoizedState;Lo!==Vo||Go!==Qo||Wf$1.current||jh?(typeof Jo=="function"&&(Di$2(Mn,io,Jo,fo),Qo=Mn.memoizedState),(jo=jh||Fi$2(Mn,io,jo,fo,Go,Qo,Wo)||!1)?(zo||typeof Ao.UNSAFE_componentWillUpdate!="function"&&typeof Ao.componentWillUpdate!="function"||(typeof Ao.componentWillUpdate=="function"&&Ao.componentWillUpdate(fo,Qo,Wo),typeof Ao.UNSAFE_componentWillUpdate=="function"&&Ao.UNSAFE_componentWillUpdate(fo,Qo,Wo)),typeof Ao.componentDidUpdate=="function"&&(Mn.flags|=4),typeof Ao.getSnapshotBeforeUpdate=="function"&&(Mn.flags|=1024)):(typeof Ao.componentDidUpdate!="function"||Lo===Fn.memoizedProps&&Go===Fn.memoizedState||(Mn.flags|=4),typeof Ao.getSnapshotBeforeUpdate!="function"||Lo===Fn.memoizedProps&&Go===Fn.memoizedState||(Mn.flags|=1024),Mn.memoizedProps=fo,Mn.memoizedState=Qo),Ao.props=fo,Ao.state=Qo,Ao.context=Wo,fo=jo):(typeof Ao.componentDidUpdate!="function"||Lo===Fn.memoizedProps&&Go===Fn.memoizedState||(Mn.flags|=4),typeof Ao.getSnapshotBeforeUpdate!="function"||Lo===Fn.memoizedProps&&Go===Fn.memoizedState||(Mn.flags|=1024),fo=!1)}return jj(Fn,Mn,io,fo,$o,mo)}function jj(Fn,Mn,io,fo,mo,$o){gj(Fn,Mn);var Ao=(Mn.flags&128)!==0;if(!fo&&!Ao)return mo&&dg(Mn,io,!1),Zi$1(Fn,Mn,$o);fo=Mn.stateNode,Wi$2.current=Mn;var Lo=Ao&&typeof io.getDerivedStateFromError!="function"?null:fo.render();return Mn.flags|=1,Fn!==null&&Ao?(Mn.child=Ug(Mn,Fn.child,null,$o),Mn.child=Ug(Mn,null,Lo,$o)):Xi$1(Fn,Mn,Lo,$o),Mn.memoizedState=fo.state,mo&&dg(Mn,io,!0),Mn.child}function kj(Fn){var Mn=Fn.stateNode;Mn.pendingContext?ag(Fn,Mn.pendingContext,Mn.pendingContext!==Mn.context):Mn.context&&ag(Fn,Mn.context,!1),yh$1(Fn,Mn.containerInfo)}function lj(Fn,Mn,io,fo,mo){return Ig(),Jg$1(mo),Mn.flags|=256,Xi$1(Fn,Mn,io,fo),Mn.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(Fn){return{baseLanes:Fn,cachePool:null,transitions:null}}function oj(Fn,Mn,io){var fo=Mn.pendingProps,mo=L$4.current,$o=!1,Ao=(Mn.flags&128)!==0,Lo;if((Lo=Ao)||(Lo=Fn!==null&&Fn.memoizedState===null?!1:(mo&2)!==0),Lo?($o=!0,Mn.flags&=-129):(Fn===null||Fn.memoizedState!==null)&&(mo|=1),G$2(L$4,mo&1),Fn===null)return Eg(Mn),Fn=Mn.memoizedState,Fn!==null&&(Fn=Fn.dehydrated,Fn!==null)?(Mn.mode&1?Fn.data==="$!"?Mn.lanes=8:Mn.lanes=1073741824:Mn.lanes=1,null):(Ao=fo.children,Fn=fo.fallback,$o?(fo=Mn.mode,$o=Mn.child,Ao={mode:"hidden",children:Ao},!(fo&1)&&$o!==null?($o.childLanes=0,$o.pendingProps=Ao):$o=pj(Ao,fo,0,null),Fn=Tg(Fn,fo,io,null),$o.return=Mn,Fn.return=Mn,$o.sibling=Fn,Mn.child=$o,Mn.child.memoizedState=nj(io),Mn.memoizedState=mj,Fn):qj(Mn,Ao));if(mo=Fn.memoizedState,mo!==null&&(Lo=mo.dehydrated,Lo!==null))return rj(Fn,Mn,Ao,fo,Lo,mo,io);if($o){$o=fo.fallback,Ao=Mn.mode,mo=Fn.child,Lo=mo.sibling;var Wo={mode:"hidden",children:fo.children};return!(Ao&1)&&Mn.child!==mo?(fo=Mn.child,fo.childLanes=0,fo.pendingProps=Wo,Mn.deletions=null):(fo=Pg(mo,Wo),fo.subtreeFlags=mo.subtreeFlags&14680064),Lo!==null?$o=Pg(Lo,$o):($o=Tg($o,Ao,io,null),$o.flags|=2),$o.return=Mn,fo.return=Mn,fo.sibling=$o,Mn.child=fo,fo=$o,$o=Mn.child,Ao=Fn.child.memoizedState,Ao=Ao===null?nj(io):{baseLanes:Ao.baseLanes|io,cachePool:null,transitions:Ao.transitions},$o.memoizedState=Ao,$o.childLanes=Fn.childLanes&~io,Mn.memoizedState=mj,fo}return $o=Fn.child,Fn=$o.sibling,fo=Pg($o,{mode:"visible",children:fo.children}),!(Mn.mode&1)&&(fo.lanes=io),fo.return=Mn,fo.sibling=null,Fn!==null&&(io=Mn.deletions,io===null?(Mn.deletions=[Fn],Mn.flags|=16):io.push(Fn)),Mn.child=fo,Mn.memoizedState=null,fo}function qj(Fn,Mn){return Mn=pj({mode:"visible",children:Mn},Fn.mode,0,null),Mn.return=Fn,Fn.child=Mn}function sj(Fn,Mn,io,fo){return fo!==null&&Jg$1(fo),Ug(Mn,Fn.child,null,io),Fn=qj(Mn,Mn.pendingProps.children),Fn.flags|=2,Mn.memoizedState=null,Fn}function rj(Fn,Mn,io,fo,mo,$o,Ao){if(io)return Mn.flags&256?(Mn.flags&=-257,fo=Ki$1(Error(p$a(422))),sj(Fn,Mn,Ao,fo)):Mn.memoizedState!==null?(Mn.child=Fn.child,Mn.flags|=128,null):($o=fo.fallback,mo=Mn.mode,fo=pj({mode:"visible",children:fo.children},mo,0,null),$o=Tg($o,mo,Ao,null),$o.flags|=2,fo.return=Mn,$o.return=Mn,fo.sibling=$o,Mn.child=fo,Mn.mode&1&&Ug(Mn,Fn.child,null,Ao),Mn.child.memoizedState=nj(Ao),Mn.memoizedState=mj,$o);if(!(Mn.mode&1))return sj(Fn,Mn,Ao,null);if(mo.data==="$!"){if(fo=mo.nextSibling&&mo.nextSibling.dataset,fo)var Lo=fo.dgst;return fo=Lo,$o=Error(p$a(419)),fo=Ki$1($o,fo,void 0),sj(Fn,Mn,Ao,fo)}if(Lo=(Ao&Fn.childLanes)!==0,dh$1||Lo){if(fo=Q$3,fo!==null){switch(Ao&-Ao){case 4:mo=2;break;case 16:mo=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:mo=32;break;case 536870912:mo=268435456;break;default:mo=0}mo=mo&(fo.suspendedLanes|Ao)?0:mo,mo!==0&&mo!==$o.retryLane&&($o.retryLane=mo,ih(Fn,mo),gi$1(fo,Fn,mo,-1))}return tj(),fo=Ki$1(Error(p$a(421))),sj(Fn,Mn,Ao,fo)}return mo.data==="$?"?(Mn.flags|=128,Mn.child=Fn.child,Mn=uj.bind(null,Fn),mo._reactRetry=Mn,null):(Fn=$o.treeContext,yg=Lf$1(mo.nextSibling),xg=Mn,I$5=!0,zg=null,Fn!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=Fn.id,sg=Fn.overflow,qg=Mn),Mn=qj(Mn,fo.children),Mn.flags|=4096,Mn)}function vj(Fn,Mn,io){Fn.lanes|=Mn;var fo=Fn.alternate;fo!==null&&(fo.lanes|=Mn),bh$1(Fn.return,Mn,io)}function wj(Fn,Mn,io,fo,mo){var $o=Fn.memoizedState;$o===null?Fn.memoizedState={isBackwards:Mn,rendering:null,renderingStartTime:0,last:fo,tail:io,tailMode:mo}:($o.isBackwards=Mn,$o.rendering=null,$o.renderingStartTime=0,$o.last=fo,$o.tail=io,$o.tailMode=mo)}function xj(Fn,Mn,io){var fo=Mn.pendingProps,mo=fo.revealOrder,$o=fo.tail;if(Xi$1(Fn,Mn,fo.children,io),fo=L$4.current,fo&2)fo=fo&1|2,Mn.flags|=128;else{if(Fn!==null&&Fn.flags&128)e:for(Fn=Mn.child;Fn!==null;){if(Fn.tag===13)Fn.memoizedState!==null&&vj(Fn,io,Mn);else if(Fn.tag===19)vj(Fn,io,Mn);else if(Fn.child!==null){Fn.child.return=Fn,Fn=Fn.child;continue}if(Fn===Mn)break e;for(;Fn.sibling===null;){if(Fn.return===null||Fn.return===Mn)break e;Fn=Fn.return}Fn.sibling.return=Fn.return,Fn=Fn.sibling}fo&=1}if(G$2(L$4,fo),!(Mn.mode&1))Mn.memoizedState=null;else switch(mo){case"forwards":for(io=Mn.child,mo=null;io!==null;)Fn=io.alternate,Fn!==null&&Ch$1(Fn)===null&&(mo=io),io=io.sibling;io=mo,io===null?(mo=Mn.child,Mn.child=null):(mo=io.sibling,io.sibling=null),wj(Mn,!1,mo,io,$o);break;case"backwards":for(io=null,mo=Mn.child,Mn.child=null;mo!==null;){if(Fn=mo.alternate,Fn!==null&&Ch$1(Fn)===null){Mn.child=mo;break}Fn=mo.sibling,mo.sibling=io,io=mo,mo=Fn}wj(Mn,!0,io,null,$o);break;case"together":wj(Mn,!1,null,null,void 0);break;default:Mn.memoizedState=null}return Mn.child}function ij(Fn,Mn){!(Mn.mode&1)&&Fn!==null&&(Fn.alternate=null,Mn.alternate=null,Mn.flags|=2)}function Zi$1(Fn,Mn,io){if(Fn!==null&&(Mn.dependencies=Fn.dependencies),rh$1|=Mn.lanes,!(io&Mn.childLanes))return null;if(Fn!==null&&Mn.child!==Fn.child)throw Error(p$a(153));if(Mn.child!==null){for(Fn=Mn.child,io=Pg(Fn,Fn.pendingProps),Mn.child=io,io.return=Mn;Fn.sibling!==null;)Fn=Fn.sibling,io=io.sibling=Pg(Fn,Fn.pendingProps),io.return=Mn;io.sibling=null}return Mn.child}function yj(Fn,Mn,io){switch(Mn.tag){case 3:kj(Mn),Ig();break;case 5:Ah$1(Mn);break;case 1:Zf(Mn.type)&&cg(Mn);break;case 4:yh$1(Mn,Mn.stateNode.containerInfo);break;case 10:var fo=Mn.type._context,mo=Mn.memoizedProps.value;G$2(Wg,fo._currentValue),fo._currentValue=mo;break;case 13:if(fo=Mn.memoizedState,fo!==null)return fo.dehydrated!==null?(G$2(L$4,L$4.current&1),Mn.flags|=128,null):io&Mn.child.childLanes?oj(Fn,Mn,io):(G$2(L$4,L$4.current&1),Fn=Zi$1(Fn,Mn,io),Fn!==null?Fn.sibling:null);G$2(L$4,L$4.current&1);break;case 19:if(fo=(io&Mn.childLanes)!==0,Fn.flags&128){if(fo)return xj(Fn,Mn,io);Mn.flags|=128}if(mo=Mn.memoizedState,mo!==null&&(mo.rendering=null,mo.tail=null,mo.lastEffect=null),G$2(L$4,L$4.current),fo)break;return null;case 22:case 23:return Mn.lanes=0,dj(Fn,Mn,io)}return Zi$1(Fn,Mn,io)}var zj,Aj,Bj,Cj;zj=function(Fn,Mn){for(var io=Mn.child;io!==null;){if(io.tag===5||io.tag===6)Fn.appendChild(io.stateNode);else if(io.tag!==4&&io.child!==null){io.child.return=io,io=io.child;continue}if(io===Mn)break;for(;io.sibling===null;){if(io.return===null||io.return===Mn)return;io=io.return}io.sibling.return=io.return,io=io.sibling}};Aj=function(){};Bj=function(Fn,Mn,io,fo){var mo=Fn.memoizedProps;if(mo!==fo){Fn=Mn.stateNode,xh$1(uh$1.current);var $o=null;switch(io){case"input":mo=Ya$1(Fn,mo),fo=Ya$1(Fn,fo),$o=[];break;case"select":mo=A$5({},mo,{value:void 0}),fo=A$5({},fo,{value:void 0}),$o=[];break;case"textarea":mo=gb(Fn,mo),fo=gb(Fn,fo),$o=[];break;default:typeof mo.onClick!="function"&&typeof fo.onClick=="function"&&(Fn.onclick=Bf$1)}ub(io,fo);var Ao;io=null;for(jo in mo)if(!fo.hasOwnProperty(jo)&&mo.hasOwnProperty(jo)&&mo[jo]!=null)if(jo==="style"){var Lo=mo[jo];for(Ao in Lo)Lo.hasOwnProperty(Ao)&&(io||(io={}),io[Ao]="")}else jo!=="dangerouslySetInnerHTML"&&jo!=="children"&&jo!=="suppressContentEditableWarning"&&jo!=="suppressHydrationWarning"&&jo!=="autoFocus"&&(ea$1.hasOwnProperty(jo)?$o||($o=[]):($o=$o||[]).push(jo,null));for(jo in fo){var Wo=fo[jo];if(Lo=mo!=null?mo[jo]:void 0,fo.hasOwnProperty(jo)&&Wo!==Lo&&(Wo!=null||Lo!=null))if(jo==="style")if(Lo){for(Ao in Lo)!Lo.hasOwnProperty(Ao)||Wo&&Wo.hasOwnProperty(Ao)||(io||(io={}),io[Ao]="");for(Ao in Wo)Wo.hasOwnProperty(Ao)&&Lo[Ao]!==Wo[Ao]&&(io||(io={}),io[Ao]=Wo[Ao])}else io||($o||($o=[]),$o.push(jo,io)),io=Wo;else jo==="dangerouslySetInnerHTML"?(Wo=Wo?Wo.__html:void 0,Lo=Lo?Lo.__html:void 0,Wo!=null&&Lo!==Wo&&($o=$o||[]).push(jo,Wo)):jo==="children"?typeof Wo!="string"&&typeof Wo!="number"||($o=$o||[]).push(jo,""+Wo):jo!=="suppressContentEditableWarning"&&jo!=="suppressHydrationWarning"&&(ea$1.hasOwnProperty(jo)?(Wo!=null&&jo==="onScroll"&&D$3("scroll",Fn),$o||Lo===Wo||($o=[])):($o=$o||[]).push(jo,Wo))}io&&($o=$o||[]).push("style",io);var jo=$o;(Mn.updateQueue=jo)&&(Mn.flags|=4)}};Cj=function(Fn,Mn,io,fo){io!==fo&&(Mn.flags|=4)};function Dj(Fn,Mn){if(!I$5)switch(Fn.tailMode){case"hidden":Mn=Fn.tail;for(var io=null;Mn!==null;)Mn.alternate!==null&&(io=Mn),Mn=Mn.sibling;io===null?Fn.tail=null:io.sibling=null;break;case"collapsed":io=Fn.tail;for(var fo=null;io!==null;)io.alternate!==null&&(fo=io),io=io.sibling;fo===null?Mn||Fn.tail===null?Fn.tail=null:Fn.tail.sibling=null:fo.sibling=null}}function S$8(Fn){var Mn=Fn.alternate!==null&&Fn.alternate.child===Fn.child,io=0,fo=0;if(Mn)for(var mo=Fn.child;mo!==null;)io|=mo.lanes|mo.childLanes,fo|=mo.subtreeFlags&14680064,fo|=mo.flags&14680064,mo.return=Fn,mo=mo.sibling;else for(mo=Fn.child;mo!==null;)io|=mo.lanes|mo.childLanes,fo|=mo.subtreeFlags,fo|=mo.flags,mo.return=Fn,mo=mo.sibling;return Fn.subtreeFlags|=fo,Fn.childLanes=io,Mn}function Ej(Fn,Mn,io){var fo=Mn.pendingProps;switch(wg(Mn),Mn.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$8(Mn),null;case 1:return Zf(Mn.type)&&$f(),S$8(Mn),null;case 3:return fo=Mn.stateNode,zh(),E$5(Wf$1),E$5(H$2),Eh$1(),fo.pendingContext&&(fo.context=fo.pendingContext,fo.pendingContext=null),(Fn===null||Fn.child===null)&&(Gg(Mn)?Mn.flags|=4:Fn===null||Fn.memoizedState.isDehydrated&&!(Mn.flags&256)||(Mn.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(Fn,Mn),S$8(Mn),null;case 5:Bh$1(Mn);var mo=xh$1(wh$1.current);if(io=Mn.type,Fn!==null&&Mn.stateNode!=null)Bj(Fn,Mn,io,fo,mo),Fn.ref!==Mn.ref&&(Mn.flags|=512,Mn.flags|=2097152);else{if(!fo){if(Mn.stateNode===null)throw Error(p$a(166));return S$8(Mn),null}if(Fn=xh$1(uh$1.current),Gg(Mn)){fo=Mn.stateNode,io=Mn.type;var $o=Mn.memoizedProps;switch(fo[Of$1]=Mn,fo[Pf$1]=$o,Fn=(Mn.mode&1)!==0,io){case"dialog":D$3("cancel",fo),D$3("close",fo);break;case"iframe":case"object":case"embed":D$3("load",fo);break;case"video":case"audio":for(mo=0;mo<lf$1.length;mo++)D$3(lf$1[mo],fo);break;case"source":D$3("error",fo);break;case"img":case"image":case"link":D$3("error",fo),D$3("load",fo);break;case"details":D$3("toggle",fo);break;case"input":Za$1(fo,$o),D$3("invalid",fo);break;case"select":fo._wrapperState={wasMultiple:!!$o.multiple},D$3("invalid",fo);break;case"textarea":hb(fo,$o),D$3("invalid",fo)}ub(io,$o),mo=null;for(var Ao in $o)if($o.hasOwnProperty(Ao)){var Lo=$o[Ao];Ao==="children"?typeof Lo=="string"?fo.textContent!==Lo&&($o.suppressHydrationWarning!==!0&&Af$1(fo.textContent,Lo,Fn),mo=["children",Lo]):typeof Lo=="number"&&fo.textContent!==""+Lo&&($o.suppressHydrationWarning!==!0&&Af$1(fo.textContent,Lo,Fn),mo=["children",""+Lo]):ea$1.hasOwnProperty(Ao)&&Lo!=null&&Ao==="onScroll"&&D$3("scroll",fo)}switch(io){case"input":Va$1(fo),db(fo,$o,!0);break;case"textarea":Va$1(fo),jb(fo);break;case"select":case"option":break;default:typeof $o.onClick=="function"&&(fo.onclick=Bf$1)}fo=mo,Mn.updateQueue=fo,fo!==null&&(Mn.flags|=4)}else{Ao=mo.nodeType===9?mo:mo.ownerDocument,Fn==="http://www.w3.org/1999/xhtml"&&(Fn=kb(io)),Fn==="http://www.w3.org/1999/xhtml"?io==="script"?(Fn=Ao.createElement("div"),Fn.innerHTML="<script><\/script>",Fn=Fn.removeChild(Fn.firstChild)):typeof fo.is=="string"?Fn=Ao.createElement(io,{is:fo.is}):(Fn=Ao.createElement(io),io==="select"&&(Ao=Fn,fo.multiple?Ao.multiple=!0:fo.size&&(Ao.size=fo.size))):Fn=Ao.createElementNS(Fn,io),Fn[Of$1]=Mn,Fn[Pf$1]=fo,zj(Fn,Mn,!1,!1),Mn.stateNode=Fn;e:{switch(Ao=vb(io,fo),io){case"dialog":D$3("cancel",Fn),D$3("close",Fn),mo=fo;break;case"iframe":case"object":case"embed":D$3("load",Fn),mo=fo;break;case"video":case"audio":for(mo=0;mo<lf$1.length;mo++)D$3(lf$1[mo],Fn);mo=fo;break;case"source":D$3("error",Fn),mo=fo;break;case"img":case"image":case"link":D$3("error",Fn),D$3("load",Fn),mo=fo;break;case"details":D$3("toggle",Fn),mo=fo;break;case"input":Za$1(Fn,fo),mo=Ya$1(Fn,fo),D$3("invalid",Fn);break;case"option":mo=fo;break;case"select":Fn._wrapperState={wasMultiple:!!fo.multiple},mo=A$5({},fo,{value:void 0}),D$3("invalid",Fn);break;case"textarea":hb(Fn,fo),mo=gb(Fn,fo),D$3("invalid",Fn);break;default:mo=fo}ub(io,mo),Lo=mo;for($o in Lo)if(Lo.hasOwnProperty($o)){var Wo=Lo[$o];$o==="style"?sb(Fn,Wo):$o==="dangerouslySetInnerHTML"?(Wo=Wo?Wo.__html:void 0,Wo!=null&&nb(Fn,Wo)):$o==="children"?typeof Wo=="string"?(io!=="textarea"||Wo!=="")&&ob(Fn,Wo):typeof Wo=="number"&&ob(Fn,""+Wo):$o!=="suppressContentEditableWarning"&&$o!=="suppressHydrationWarning"&&$o!=="autoFocus"&&(ea$1.hasOwnProperty($o)?Wo!=null&&$o==="onScroll"&&D$3("scroll",Fn):Wo!=null&&ta$1(Fn,$o,Wo,Ao))}switch(io){case"input":Va$1(Fn),db(Fn,fo,!1);break;case"textarea":Va$1(Fn),jb(Fn);break;case"option":fo.value!=null&&Fn.setAttribute("value",""+Sa$2(fo.value));break;case"select":Fn.multiple=!!fo.multiple,$o=fo.value,$o!=null?fb(Fn,!!fo.multiple,$o,!1):fo.defaultValue!=null&&fb(Fn,!!fo.multiple,fo.defaultValue,!0);break;default:typeof mo.onClick=="function"&&(Fn.onclick=Bf$1)}switch(io){case"button":case"input":case"select":case"textarea":fo=!!fo.autoFocus;break e;case"img":fo=!0;break e;default:fo=!1}}fo&&(Mn.flags|=4)}Mn.ref!==null&&(Mn.flags|=512,Mn.flags|=2097152)}return S$8(Mn),null;case 6:if(Fn&&Mn.stateNode!=null)Cj(Fn,Mn,Fn.memoizedProps,fo);else{if(typeof fo!="string"&&Mn.stateNode===null)throw Error(p$a(166));if(io=xh$1(wh$1.current),xh$1(uh$1.current),Gg(Mn)){if(fo=Mn.stateNode,io=Mn.memoizedProps,fo[Of$1]=Mn,($o=fo.nodeValue!==io)&&(Fn=xg,Fn!==null))switch(Fn.tag){case 3:Af$1(fo.nodeValue,io,(Fn.mode&1)!==0);break;case 5:Fn.memoizedProps.suppressHydrationWarning!==!0&&Af$1(fo.nodeValue,io,(Fn.mode&1)!==0)}$o&&(Mn.flags|=4)}else fo=(io.nodeType===9?io:io.ownerDocument).createTextNode(fo),fo[Of$1]=Mn,Mn.stateNode=fo}return S$8(Mn),null;case 13:if(E$5(L$4),fo=Mn.memoizedState,Fn===null||Fn.memoizedState!==null&&Fn.memoizedState.dehydrated!==null){if(I$5&&yg!==null&&Mn.mode&1&&!(Mn.flags&128))Hg(),Ig(),Mn.flags|=98560,$o=!1;else if($o=Gg(Mn),fo!==null&&fo.dehydrated!==null){if(Fn===null){if(!$o)throw Error(p$a(318));if($o=Mn.memoizedState,$o=$o!==null?$o.dehydrated:null,!$o)throw Error(p$a(317));$o[Of$1]=Mn}else Ig(),!(Mn.flags&128)&&(Mn.memoizedState=null),Mn.flags|=4;S$8(Mn),$o=!1}else zg!==null&&(Fj(zg),zg=null),$o=!0;if(!$o)return Mn.flags&65536?Mn:null}return Mn.flags&128?(Mn.lanes=io,Mn):(fo=fo!==null,fo!==(Fn!==null&&Fn.memoizedState!==null)&&fo&&(Mn.child.flags|=8192,Mn.mode&1&&(Fn===null||L$4.current&1?T$6===0&&(T$6=3):tj())),Mn.updateQueue!==null&&(Mn.flags|=4),S$8(Mn),null);case 4:return zh(),Aj(Fn,Mn),Fn===null&&sf(Mn.stateNode.containerInfo),S$8(Mn),null;case 10:return ah(Mn.type._context),S$8(Mn),null;case 17:return Zf(Mn.type)&&$f(),S$8(Mn),null;case 19:if(E$5(L$4),$o=Mn.memoizedState,$o===null)return S$8(Mn),null;if(fo=(Mn.flags&128)!==0,Ao=$o.rendering,Ao===null)if(fo)Dj($o,!1);else{if(T$6!==0||Fn!==null&&Fn.flags&128)for(Fn=Mn.child;Fn!==null;){if(Ao=Ch$1(Fn),Ao!==null){for(Mn.flags|=128,Dj($o,!1),fo=Ao.updateQueue,fo!==null&&(Mn.updateQueue=fo,Mn.flags|=4),Mn.subtreeFlags=0,fo=io,io=Mn.child;io!==null;)$o=io,Fn=fo,$o.flags&=14680066,Ao=$o.alternate,Ao===null?($o.childLanes=0,$o.lanes=Fn,$o.child=null,$o.subtreeFlags=0,$o.memoizedProps=null,$o.memoizedState=null,$o.updateQueue=null,$o.dependencies=null,$o.stateNode=null):($o.childLanes=Ao.childLanes,$o.lanes=Ao.lanes,$o.child=Ao.child,$o.subtreeFlags=0,$o.deletions=null,$o.memoizedProps=Ao.memoizedProps,$o.memoizedState=Ao.memoizedState,$o.updateQueue=Ao.updateQueue,$o.type=Ao.type,Fn=Ao.dependencies,$o.dependencies=Fn===null?null:{lanes:Fn.lanes,firstContext:Fn.firstContext}),io=io.sibling;return G$2(L$4,L$4.current&1|2),Mn.child}Fn=Fn.sibling}$o.tail!==null&&B$3()>Gj&&(Mn.flags|=128,fo=!0,Dj($o,!1),Mn.lanes=4194304)}else{if(!fo)if(Fn=Ch$1(Ao),Fn!==null){if(Mn.flags|=128,fo=!0,io=Fn.updateQueue,io!==null&&(Mn.updateQueue=io,Mn.flags|=4),Dj($o,!0),$o.tail===null&&$o.tailMode==="hidden"&&!Ao.alternate&&!I$5)return S$8(Mn),null}else 2*B$3()-$o.renderingStartTime>Gj&&io!==1073741824&&(Mn.flags|=128,fo=!0,Dj($o,!1),Mn.lanes=4194304);$o.isBackwards?(Ao.sibling=Mn.child,Mn.child=Ao):(io=$o.last,io!==null?io.sibling=Ao:Mn.child=Ao,$o.last=Ao)}return $o.tail!==null?(Mn=$o.tail,$o.rendering=Mn,$o.tail=Mn.sibling,$o.renderingStartTime=B$3(),Mn.sibling=null,io=L$4.current,G$2(L$4,fo?io&1|2:io&1),Mn):(S$8(Mn),null);case 22:case 23:return Hj(),fo=Mn.memoizedState!==null,Fn!==null&&Fn.memoizedState!==null!==fo&&(Mn.flags|=8192),fo&&Mn.mode&1?fj&1073741824&&(S$8(Mn),Mn.subtreeFlags&6&&(Mn.flags|=8192)):S$8(Mn),null;case 24:return null;case 25:return null}throw Error(p$a(156,Mn.tag))}function Ij(Fn,Mn){switch(wg(Mn),Mn.tag){case 1:return Zf(Mn.type)&&$f(),Fn=Mn.flags,Fn&65536?(Mn.flags=Fn&-65537|128,Mn):null;case 3:return zh(),E$5(Wf$1),E$5(H$2),Eh$1(),Fn=Mn.flags,Fn&65536&&!(Fn&128)?(Mn.flags=Fn&-65537|128,Mn):null;case 5:return Bh$1(Mn),null;case 13:if(E$5(L$4),Fn=Mn.memoizedState,Fn!==null&&Fn.dehydrated!==null){if(Mn.alternate===null)throw Error(p$a(340));Ig()}return Fn=Mn.flags,Fn&65536?(Mn.flags=Fn&-65537|128,Mn):null;case 19:return E$5(L$4),null;case 4:return zh(),null;case 10:return ah(Mn.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$2=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$4=null;function Lj(Fn,Mn){var io=Fn.ref;if(io!==null)if(typeof io=="function")try{io(null)}catch(fo){W$1(Fn,Mn,fo)}else io.current=null}function Mj(Fn,Mn,io){try{io()}catch(fo){W$1(Fn,Mn,fo)}}var Nj=!1;function Oj(Fn,Mn){if(Cf$1=dd,Fn=Me(),Ne(Fn)){if("selectionStart"in Fn)var io={start:Fn.selectionStart,end:Fn.selectionEnd};else e:{io=(io=Fn.ownerDocument)&&io.defaultView||window;var fo=io.getSelection&&io.getSelection();if(fo&&fo.rangeCount!==0){io=fo.anchorNode;var mo=fo.anchorOffset,$o=fo.focusNode;fo=fo.focusOffset;try{io.nodeType,$o.nodeType}catch{io=null;break e}var Ao=0,Lo=-1,Wo=-1,jo=0,zo=0,Vo=Fn,Go=null;t:for(;;){for(var Jo;Vo!==io||mo!==0&&Vo.nodeType!==3||(Lo=Ao+mo),Vo!==$o||fo!==0&&Vo.nodeType!==3||(Wo=Ao+fo),Vo.nodeType===3&&(Ao+=Vo.nodeValue.length),(Jo=Vo.firstChild)!==null;)Go=Vo,Vo=Jo;for(;;){if(Vo===Fn)break t;if(Go===io&&++jo===mo&&(Lo=Ao),Go===$o&&++zo===fo&&(Wo=Ao),(Jo=Vo.nextSibling)!==null)break;Vo=Go,Go=Vo.parentNode}Vo=Jo}io=Lo===-1||Wo===-1?null:{start:Lo,end:Wo}}else io=null}io=io||{start:0,end:0}}else io=null;for(Df$1={focusedElem:Fn,selectionRange:io},dd=!1,V$4=Mn;V$4!==null;)if(Mn=V$4,Fn=Mn.child,(Mn.subtreeFlags&1028)!==0&&Fn!==null)Fn.return=Mn,V$4=Fn;else for(;V$4!==null;){Mn=V$4;try{var Qo=Mn.alternate;if(Mn.flags&1024)switch(Mn.tag){case 0:case 11:case 15:break;case 1:if(Qo!==null){var os=Qo.memoizedProps,Cl=Qo.memoizedState,xl=Mn.stateNode,ds=xl.getSnapshotBeforeUpdate(Mn.elementType===Mn.type?os:Ci$1(Mn.type,os),Cl);xl.__reactInternalSnapshotBeforeUpdate=ds}break;case 3:var _c=Mn.stateNode.containerInfo;_c.nodeType===1?_c.textContent="":_c.nodeType===9&&_c.documentElement&&_c.removeChild(_c.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$a(163))}}catch($l){W$1(Mn,Mn.return,$l)}if(Fn=Mn.sibling,Fn!==null){Fn.return=Mn.return,V$4=Fn;break}V$4=Mn.return}return Qo=Nj,Nj=!1,Qo}function Pj(Fn,Mn,io){var fo=Mn.updateQueue;if(fo=fo!==null?fo.lastEffect:null,fo!==null){var mo=fo=fo.next;do{if((mo.tag&Fn)===Fn){var $o=mo.destroy;mo.destroy=void 0,$o!==void 0&&Mj(Mn,io,$o)}mo=mo.next}while(mo!==fo)}}function Qj(Fn,Mn){if(Mn=Mn.updateQueue,Mn=Mn!==null?Mn.lastEffect:null,Mn!==null){var io=Mn=Mn.next;do{if((io.tag&Fn)===Fn){var fo=io.create;io.destroy=fo()}io=io.next}while(io!==Mn)}}function Rj(Fn){var Mn=Fn.ref;if(Mn!==null){var io=Fn.stateNode;switch(Fn.tag){case 5:Fn=io;break;default:Fn=io}typeof Mn=="function"?Mn(Fn):Mn.current=Fn}}function Sj(Fn){var Mn=Fn.alternate;Mn!==null&&(Fn.alternate=null,Sj(Mn)),Fn.child=null,Fn.deletions=null,Fn.sibling=null,Fn.tag===5&&(Mn=Fn.stateNode,Mn!==null&&(delete Mn[Of$1],delete Mn[Pf$1],delete Mn[of$1],delete Mn[Qf$1],delete Mn[Rf$1])),Fn.stateNode=null,Fn.return=null,Fn.dependencies=null,Fn.memoizedProps=null,Fn.memoizedState=null,Fn.pendingProps=null,Fn.stateNode=null,Fn.updateQueue=null}function Tj(Fn){return Fn.tag===5||Fn.tag===3||Fn.tag===4}function Uj(Fn){e:for(;;){for(;Fn.sibling===null;){if(Fn.return===null||Tj(Fn.return))return null;Fn=Fn.return}for(Fn.sibling.return=Fn.return,Fn=Fn.sibling;Fn.tag!==5&&Fn.tag!==6&&Fn.tag!==18;){if(Fn.flags&2||Fn.child===null||Fn.tag===4)continue e;Fn.child.return=Fn,Fn=Fn.child}if(!(Fn.flags&2))return Fn.stateNode}}function Vj(Fn,Mn,io){var fo=Fn.tag;if(fo===5||fo===6)Fn=Fn.stateNode,Mn?io.nodeType===8?io.parentNode.insertBefore(Fn,Mn):io.insertBefore(Fn,Mn):(io.nodeType===8?(Mn=io.parentNode,Mn.insertBefore(Fn,io)):(Mn=io,Mn.appendChild(Fn)),io=io._reactRootContainer,io!=null||Mn.onclick!==null||(Mn.onclick=Bf$1));else if(fo!==4&&(Fn=Fn.child,Fn!==null))for(Vj(Fn,Mn,io),Fn=Fn.sibling;Fn!==null;)Vj(Fn,Mn,io),Fn=Fn.sibling}function Wj(Fn,Mn,io){var fo=Fn.tag;if(fo===5||fo===6)Fn=Fn.stateNode,Mn?io.insertBefore(Fn,Mn):io.appendChild(Fn);else if(fo!==4&&(Fn=Fn.child,Fn!==null))for(Wj(Fn,Mn,io),Fn=Fn.sibling;Fn!==null;)Wj(Fn,Mn,io),Fn=Fn.sibling}var X$2=null,Xj=!1;function Yj(Fn,Mn,io){for(io=io.child;io!==null;)Zj(Fn,Mn,io),io=io.sibling}function Zj(Fn,Mn,io){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,io)}catch{}switch(io.tag){case 5:U$2||Lj(io,Mn);case 6:var fo=X$2,mo=Xj;X$2=null,Yj(Fn,Mn,io),X$2=fo,Xj=mo,X$2!==null&&(Xj?(Fn=X$2,io=io.stateNode,Fn.nodeType===8?Fn.parentNode.removeChild(io):Fn.removeChild(io)):X$2.removeChild(io.stateNode));break;case 18:X$2!==null&&(Xj?(Fn=X$2,io=io.stateNode,Fn.nodeType===8?Kf$1(Fn.parentNode,io):Fn.nodeType===1&&Kf$1(Fn,io),bd(Fn)):Kf$1(X$2,io.stateNode));break;case 4:fo=X$2,mo=Xj,X$2=io.stateNode.containerInfo,Xj=!0,Yj(Fn,Mn,io),X$2=fo,Xj=mo;break;case 0:case 11:case 14:case 15:if(!U$2&&(fo=io.updateQueue,fo!==null&&(fo=fo.lastEffect,fo!==null))){mo=fo=fo.next;do{var $o=mo,Ao=$o.destroy;$o=$o.tag,Ao!==void 0&&($o&2||$o&4)&&Mj(io,Mn,Ao),mo=mo.next}while(mo!==fo)}Yj(Fn,Mn,io);break;case 1:if(!U$2&&(Lj(io,Mn),fo=io.stateNode,typeof fo.componentWillUnmount=="function"))try{fo.props=io.memoizedProps,fo.state=io.memoizedState,fo.componentWillUnmount()}catch(Lo){W$1(io,Mn,Lo)}Yj(Fn,Mn,io);break;case 21:Yj(Fn,Mn,io);break;case 22:io.mode&1?(U$2=(fo=U$2)||io.memoizedState!==null,Yj(Fn,Mn,io),U$2=fo):Yj(Fn,Mn,io);break;default:Yj(Fn,Mn,io)}}function ak(Fn){var Mn=Fn.updateQueue;if(Mn!==null){Fn.updateQueue=null;var io=Fn.stateNode;io===null&&(io=Fn.stateNode=new Kj),Mn.forEach(function(fo){var mo=bk.bind(null,Fn,fo);io.has(fo)||(io.add(fo),fo.then(mo,mo))})}}function ck(Fn,Mn){var io=Mn.deletions;if(io!==null)for(var fo=0;fo<io.length;fo++){var mo=io[fo];try{var $o=Fn,Ao=Mn,Lo=Ao;e:for(;Lo!==null;){switch(Lo.tag){case 5:X$2=Lo.stateNode,Xj=!1;break e;case 3:X$2=Lo.stateNode.containerInfo,Xj=!0;break e;case 4:X$2=Lo.stateNode.containerInfo,Xj=!0;break e}Lo=Lo.return}if(X$2===null)throw Error(p$a(160));Zj($o,Ao,mo),X$2=null,Xj=!1;var Wo=mo.alternate;Wo!==null&&(Wo.return=null),mo.return=null}catch(jo){W$1(mo,Mn,jo)}}if(Mn.subtreeFlags&12854)for(Mn=Mn.child;Mn!==null;)dk(Mn,Fn),Mn=Mn.sibling}function dk(Fn,Mn){var io=Fn.alternate,fo=Fn.flags;switch(Fn.tag){case 0:case 11:case 14:case 15:if(ck(Mn,Fn),ek(Fn),fo&4){try{Pj(3,Fn,Fn.return),Qj(3,Fn)}catch(os){W$1(Fn,Fn.return,os)}try{Pj(5,Fn,Fn.return)}catch(os){W$1(Fn,Fn.return,os)}}break;case 1:ck(Mn,Fn),ek(Fn),fo&512&&io!==null&&Lj(io,io.return);break;case 5:if(ck(Mn,Fn),ek(Fn),fo&512&&io!==null&&Lj(io,io.return),Fn.flags&32){var mo=Fn.stateNode;try{ob(mo,"")}catch(os){W$1(Fn,Fn.return,os)}}if(fo&4&&(mo=Fn.stateNode,mo!=null)){var $o=Fn.memoizedProps,Ao=io!==null?io.memoizedProps:$o,Lo=Fn.type,Wo=Fn.updateQueue;if(Fn.updateQueue=null,Wo!==null)try{Lo==="input"&&$o.type==="radio"&&$o.name!=null&&ab(mo,$o),vb(Lo,Ao);var jo=vb(Lo,$o);for(Ao=0;Ao<Wo.length;Ao+=2){var zo=Wo[Ao],Vo=Wo[Ao+1];zo==="style"?sb(mo,Vo):zo==="dangerouslySetInnerHTML"?nb(mo,Vo):zo==="children"?ob(mo,Vo):ta$1(mo,zo,Vo,jo)}switch(Lo){case"input":bb(mo,$o);break;case"textarea":ib(mo,$o);break;case"select":var Go=mo._wrapperState.wasMultiple;mo._wrapperState.wasMultiple=!!$o.multiple;var Jo=$o.value;Jo!=null?fb(mo,!!$o.multiple,Jo,!1):Go!==!!$o.multiple&&($o.defaultValue!=null?fb(mo,!!$o.multiple,$o.defaultValue,!0):fb(mo,!!$o.multiple,$o.multiple?[]:"",!1))}mo[Pf$1]=$o}catch(os){W$1(Fn,Fn.return,os)}}break;case 6:if(ck(Mn,Fn),ek(Fn),fo&4){if(Fn.stateNode===null)throw Error(p$a(162));mo=Fn.stateNode,$o=Fn.memoizedProps;try{mo.nodeValue=$o}catch(os){W$1(Fn,Fn.return,os)}}break;case 3:if(ck(Mn,Fn),ek(Fn),fo&4&&io!==null&&io.memoizedState.isDehydrated)try{bd(Mn.containerInfo)}catch(os){W$1(Fn,Fn.return,os)}break;case 4:ck(Mn,Fn),ek(Fn);break;case 13:ck(Mn,Fn),ek(Fn),mo=Fn.child,mo.flags&8192&&($o=mo.memoizedState!==null,mo.stateNode.isHidden=$o,!$o||mo.alternate!==null&&mo.alternate.memoizedState!==null||(fk=B$3())),fo&4&&ak(Fn);break;case 22:if(zo=io!==null&&io.memoizedState!==null,Fn.mode&1?(U$2=(jo=U$2)||zo,ck(Mn,Fn),U$2=jo):ck(Mn,Fn),ek(Fn),fo&8192){if(jo=Fn.memoizedState!==null,(Fn.stateNode.isHidden=jo)&&!zo&&Fn.mode&1)for(V$4=Fn,zo=Fn.child;zo!==null;){for(Vo=V$4=zo;V$4!==null;){switch(Go=V$4,Jo=Go.child,Go.tag){case 0:case 11:case 14:case 15:Pj(4,Go,Go.return);break;case 1:Lj(Go,Go.return);var Qo=Go.stateNode;if(typeof Qo.componentWillUnmount=="function"){fo=Go,io=Go.return;try{Mn=fo,Qo.props=Mn.memoizedProps,Qo.state=Mn.memoizedState,Qo.componentWillUnmount()}catch(os){W$1(fo,io,os)}}break;case 5:Lj(Go,Go.return);break;case 22:if(Go.memoizedState!==null){gk(Vo);continue}}Jo!==null?(Jo.return=Go,V$4=Jo):gk(Vo)}zo=zo.sibling}e:for(zo=null,Vo=Fn;;){if(Vo.tag===5){if(zo===null){zo=Vo;try{mo=Vo.stateNode,jo?($o=mo.style,typeof $o.setProperty=="function"?$o.setProperty("display","none","important"):$o.display="none"):(Lo=Vo.stateNode,Wo=Vo.memoizedProps.style,Ao=Wo!=null&&Wo.hasOwnProperty("display")?Wo.display:null,Lo.style.display=rb("display",Ao))}catch(os){W$1(Fn,Fn.return,os)}}}else if(Vo.tag===6){if(zo===null)try{Vo.stateNode.nodeValue=jo?"":Vo.memoizedProps}catch(os){W$1(Fn,Fn.return,os)}}else if((Vo.tag!==22&&Vo.tag!==23||Vo.memoizedState===null||Vo===Fn)&&Vo.child!==null){Vo.child.return=Vo,Vo=Vo.child;continue}if(Vo===Fn)break e;for(;Vo.sibling===null;){if(Vo.return===null||Vo.return===Fn)break e;zo===Vo&&(zo=null),Vo=Vo.return}zo===Vo&&(zo=null),Vo.sibling.return=Vo.return,Vo=Vo.sibling}}break;case 19:ck(Mn,Fn),ek(Fn),fo&4&&ak(Fn);break;case 21:break;default:ck(Mn,Fn),ek(Fn)}}function ek(Fn){var Mn=Fn.flags;if(Mn&2){try{e:{for(var io=Fn.return;io!==null;){if(Tj(io)){var fo=io;break e}io=io.return}throw Error(p$a(160))}switch(fo.tag){case 5:var mo=fo.stateNode;fo.flags&32&&(ob(mo,""),fo.flags&=-33);var $o=Uj(Fn);Wj(Fn,$o,mo);break;case 3:case 4:var Ao=fo.stateNode.containerInfo,Lo=Uj(Fn);Vj(Fn,Lo,Ao);break;default:throw Error(p$a(161))}}catch(Wo){W$1(Fn,Fn.return,Wo)}Fn.flags&=-3}Mn&4096&&(Fn.flags&=-4097)}function hk(Fn,Mn,io){V$4=Fn,ik(Fn)}function ik(Fn,Mn,io){for(var fo=(Fn.mode&1)!==0;V$4!==null;){var mo=V$4,$o=mo.child;if(mo.tag===22&&fo){var Ao=mo.memoizedState!==null||Jj;if(!Ao){var Lo=mo.alternate,Wo=Lo!==null&&Lo.memoizedState!==null||U$2;Lo=Jj;var jo=U$2;if(Jj=Ao,(U$2=Wo)&&!jo)for(V$4=mo;V$4!==null;)Ao=V$4,Wo=Ao.child,Ao.tag===22&&Ao.memoizedState!==null?jk(mo):Wo!==null?(Wo.return=Ao,V$4=Wo):jk(mo);for(;$o!==null;)V$4=$o,ik($o),$o=$o.sibling;V$4=mo,Jj=Lo,U$2=jo}kk(Fn)}else mo.subtreeFlags&8772&&$o!==null?($o.return=mo,V$4=$o):kk(Fn)}}function kk(Fn){for(;V$4!==null;){var Mn=V$4;if(Mn.flags&8772){var io=Mn.alternate;try{if(Mn.flags&8772)switch(Mn.tag){case 0:case 11:case 15:U$2||Qj(5,Mn);break;case 1:var fo=Mn.stateNode;if(Mn.flags&4&&!U$2)if(io===null)fo.componentDidMount();else{var mo=Mn.elementType===Mn.type?io.memoizedProps:Ci$1(Mn.type,io.memoizedProps);fo.componentDidUpdate(mo,io.memoizedState,fo.__reactInternalSnapshotBeforeUpdate)}var $o=Mn.updateQueue;$o!==null&&sh$1(Mn,$o,fo);break;case 3:var Ao=Mn.updateQueue;if(Ao!==null){if(io=null,Mn.child!==null)switch(Mn.child.tag){case 5:io=Mn.child.stateNode;break;case 1:io=Mn.child.stateNode}sh$1(Mn,Ao,io)}break;case 5:var Lo=Mn.stateNode;if(io===null&&Mn.flags&4){io=Lo;var Wo=Mn.memoizedProps;switch(Mn.type){case"button":case"input":case"select":case"textarea":Wo.autoFocus&&io.focus();break;case"img":Wo.src&&(io.src=Wo.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(Mn.memoizedState===null){var jo=Mn.alternate;if(jo!==null){var zo=jo.memoizedState;if(zo!==null){var Vo=zo.dehydrated;Vo!==null&&bd(Vo)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$a(163))}U$2||Mn.flags&512&&Rj(Mn)}catch(Go){W$1(Mn,Mn.return,Go)}}if(Mn===Fn){V$4=null;break}if(io=Mn.sibling,io!==null){io.return=Mn.return,V$4=io;break}V$4=Mn.return}}function gk(Fn){for(;V$4!==null;){var Mn=V$4;if(Mn===Fn){V$4=null;break}var io=Mn.sibling;if(io!==null){io.return=Mn.return,V$4=io;break}V$4=Mn.return}}function jk(Fn){for(;V$4!==null;){var Mn=V$4;try{switch(Mn.tag){case 0:case 11:case 15:var io=Mn.return;try{Qj(4,Mn)}catch(Wo){W$1(Mn,io,Wo)}break;case 1:var fo=Mn.stateNode;if(typeof fo.componentDidMount=="function"){var mo=Mn.return;try{fo.componentDidMount()}catch(Wo){W$1(Mn,mo,Wo)}}var $o=Mn.return;try{Rj(Mn)}catch(Wo){W$1(Mn,$o,Wo)}break;case 5:var Ao=Mn.return;try{Rj(Mn)}catch(Wo){W$1(Mn,Ao,Wo)}}}catch(Wo){W$1(Mn,Mn.return,Wo)}if(Mn===Fn){V$4=null;break}var Lo=Mn.sibling;if(Lo!==null){Lo.return=Mn.return,V$4=Lo;break}V$4=Mn.return}}var lk=Math.ceil,mk=ua$1.ReactCurrentDispatcher,nk=ua$1.ReactCurrentOwner,ok$1=ua$1.ReactCurrentBatchConfig,K$3=0,Q$3=null,Y$1=null,Z$2=0,fj=0,ej=Uf$1(0),T$6=0,pk=null,rh$1=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi$1=!1,Pi$1=null,Ri$1=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$4(){return K$3&6?B$3():Ak!==-1?Ak:Ak=B$3()}function yi$2(Fn){return Fn.mode&1?K$3&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(Fn=C$5,Fn!==0||(Fn=window.event,Fn=Fn===void 0?16:jd(Fn.type)),Fn):1}function gi$1(Fn,Mn,io,fo){if(50<yk)throw yk=0,zk=null,Error(p$a(185));Ac(Fn,io,fo),(!(K$3&2)||Fn!==Q$3)&&(Fn===Q$3&&(!(K$3&2)&&(qk|=io),T$6===4&&Ck(Fn,Z$2)),Dk(Fn,fo),io===1&&K$3===0&&!(Mn.mode&1)&&(Gj=B$3()+500,fg&&jg$1()))}function Dk(Fn,Mn){var io=Fn.callbackNode;wc(Fn,Mn);var fo=uc(Fn,Fn===Q$3?Z$2:0);if(fo===0)io!==null&&bc(io),Fn.callbackNode=null,Fn.callbackPriority=0;else if(Mn=fo&-fo,Fn.callbackPriority!==Mn){if(io!=null&&bc(io),Mn===1)Fn.tag===0?ig(Ek.bind(null,Fn)):hg(Ek.bind(null,Fn)),Jf$1(function(){!(K$3&6)&&jg$1()}),io=null;else{switch(Dc(fo)){case 1:io=fc;break;case 4:io=gc;break;case 16:io=hc;break;case 536870912:io=jc;break;default:io=hc}io=Fk(io,Gk.bind(null,Fn))}Fn.callbackPriority=Mn,Fn.callbackNode=io}}function Gk(Fn,Mn){if(Ak=-1,Bk=0,K$3&6)throw Error(p$a(327));var io=Fn.callbackNode;if(Hk()&&Fn.callbackNode!==io)return null;var fo=uc(Fn,Fn===Q$3?Z$2:0);if(fo===0)return null;if(fo&30||fo&Fn.expiredLanes||Mn)Mn=Ik(Fn,fo);else{Mn=fo;var mo=K$3;K$3|=2;var $o=Jk();(Q$3!==Fn||Z$2!==Mn)&&(uk=null,Gj=B$3()+500,Kk(Fn,Mn));do try{Lk();break}catch(Lo){Mk(Fn,Lo)}while(!0);$g(),mk.current=$o,K$3=mo,Y$1!==null?Mn=0:(Q$3=null,Z$2=0,Mn=T$6)}if(Mn!==0){if(Mn===2&&(mo=xc(Fn),mo!==0&&(fo=mo,Mn=Nk(Fn,mo))),Mn===1)throw io=pk,Kk(Fn,0),Ck(Fn,fo),Dk(Fn,B$3()),io;if(Mn===6)Ck(Fn,fo);else{if(mo=Fn.current.alternate,!(fo&30)&&!Ok(mo)&&(Mn=Ik(Fn,fo),Mn===2&&($o=xc(Fn),$o!==0&&(fo=$o,Mn=Nk(Fn,$o))),Mn===1))throw io=pk,Kk(Fn,0),Ck(Fn,fo),Dk(Fn,B$3()),io;switch(Fn.finishedWork=mo,Fn.finishedLanes=fo,Mn){case 0:case 1:throw Error(p$a(345));case 2:Pk(Fn,tk,uk);break;case 3:if(Ck(Fn,fo),(fo&130023424)===fo&&(Mn=fk+500-B$3(),10<Mn)){if(uc(Fn,0)!==0)break;if(mo=Fn.suspendedLanes,(mo&fo)!==fo){R$4(),Fn.pingedLanes|=Fn.suspendedLanes&mo;break}Fn.timeoutHandle=Ff$1(Pk.bind(null,Fn,tk,uk),Mn);break}Pk(Fn,tk,uk);break;case 4:if(Ck(Fn,fo),(fo&4194240)===fo)break;for(Mn=Fn.eventTimes,mo=-1;0<fo;){var Ao=31-oc(fo);$o=1<<Ao,Ao=Mn[Ao],Ao>mo&&(mo=Ao),fo&=~$o}if(fo=mo,fo=B$3()-fo,fo=(120>fo?120:480>fo?480:1080>fo?1080:1920>fo?1920:3e3>fo?3e3:4320>fo?4320:1960*lk(fo/1960))-fo,10<fo){Fn.timeoutHandle=Ff$1(Pk.bind(null,Fn,tk,uk),fo);break}Pk(Fn,tk,uk);break;case 5:Pk(Fn,tk,uk);break;default:throw Error(p$a(329))}}}return Dk(Fn,B$3()),Fn.callbackNode===io?Gk.bind(null,Fn):null}function Nk(Fn,Mn){var io=sk;return Fn.current.memoizedState.isDehydrated&&(Kk(Fn,Mn).flags|=256),Fn=Ik(Fn,Mn),Fn!==2&&(Mn=tk,tk=io,Mn!==null&&Fj(Mn)),Fn}function Fj(Fn){tk===null?tk=Fn:tk.push.apply(tk,Fn)}function Ok(Fn){for(var Mn=Fn;;){if(Mn.flags&16384){var io=Mn.updateQueue;if(io!==null&&(io=io.stores,io!==null))for(var fo=0;fo<io.length;fo++){var mo=io[fo],$o=mo.getSnapshot;mo=mo.value;try{if(!He($o(),mo))return!1}catch{return!1}}}if(io=Mn.child,Mn.subtreeFlags&16384&&io!==null)io.return=Mn,Mn=io;else{if(Mn===Fn)break;for(;Mn.sibling===null;){if(Mn.return===null||Mn.return===Fn)return!0;Mn=Mn.return}Mn.sibling.return=Mn.return,Mn=Mn.sibling}}return!0}function Ck(Fn,Mn){for(Mn&=~rk,Mn&=~qk,Fn.suspendedLanes|=Mn,Fn.pingedLanes&=~Mn,Fn=Fn.expirationTimes;0<Mn;){var io=31-oc(Mn),fo=1<<io;Fn[io]=-1,Mn&=~fo}}function Ek(Fn){if(K$3&6)throw Error(p$a(327));Hk();var Mn=uc(Fn,0);if(!(Mn&1))return Dk(Fn,B$3()),null;var io=Ik(Fn,Mn);if(Fn.tag!==0&&io===2){var fo=xc(Fn);fo!==0&&(Mn=fo,io=Nk(Fn,fo))}if(io===1)throw io=pk,Kk(Fn,0),Ck(Fn,Mn),Dk(Fn,B$3()),io;if(io===6)throw Error(p$a(345));return Fn.finishedWork=Fn.current.alternate,Fn.finishedLanes=Mn,Pk(Fn,tk,uk),Dk(Fn,B$3()),null}function Qk(Fn,Mn){var io=K$3;K$3|=1;try{return Fn(Mn)}finally{K$3=io,K$3===0&&(Gj=B$3()+500,fg&&jg$1())}}function Rk(Fn){wk!==null&&wk.tag===0&&!(K$3&6)&&Hk();var Mn=K$3;K$3|=1;var io=ok$1.transition,fo=C$5;try{if(ok$1.transition=null,C$5=1,Fn)return Fn()}finally{C$5=fo,ok$1.transition=io,K$3=Mn,!(K$3&6)&&jg$1()}}function Hj(){fj=ej.current,E$5(ej)}function Kk(Fn,Mn){Fn.finishedWork=null,Fn.finishedLanes=0;var io=Fn.timeoutHandle;if(io!==-1&&(Fn.timeoutHandle=-1,Gf$1(io)),Y$1!==null)for(io=Y$1.return;io!==null;){var fo=io;switch(wg(fo),fo.tag){case 1:fo=fo.type.childContextTypes,fo!=null&&$f();break;case 3:zh(),E$5(Wf$1),E$5(H$2),Eh$1();break;case 5:Bh$1(fo);break;case 4:zh();break;case 13:E$5(L$4);break;case 19:E$5(L$4);break;case 10:ah(fo.type._context);break;case 22:case 23:Hj()}io=io.return}if(Q$3=Fn,Y$1=Fn=Pg(Fn.current,null),Z$2=fj=Mn,T$6=0,pk=null,rk=qk=rh$1=0,tk=sk=null,fh!==null){for(Mn=0;Mn<fh.length;Mn++)if(io=fh[Mn],fo=io.interleaved,fo!==null){io.interleaved=null;var mo=fo.next,$o=io.pending;if($o!==null){var Ao=$o.next;$o.next=mo,fo.next=Ao}io.pending=fo}fh=null}return Fn}function Mk(Fn,Mn){do{var io=Y$1;try{if($g(),Fh.current=Rh$1,Ih$1){for(var fo=M$5.memoizedState;fo!==null;){var mo=fo.queue;mo!==null&&(mo.pending=null),fo=fo.next}Ih$1=!1}if(Hh=0,O$6=N$3=M$5=null,Jh=!1,Kh$1=0,nk.current=null,io===null||io.return===null){T$6=1,pk=Mn,Y$1=null;break}e:{var $o=Fn,Ao=io.return,Lo=io,Wo=Mn;if(Mn=Z$2,Lo.flags|=32768,Wo!==null&&typeof Wo=="object"&&typeof Wo.then=="function"){var jo=Wo,zo=Lo,Vo=zo.tag;if(!(zo.mode&1)&&(Vo===0||Vo===11||Vo===15)){var Go=zo.alternate;Go?(zo.updateQueue=Go.updateQueue,zo.memoizedState=Go.memoizedState,zo.lanes=Go.lanes):(zo.updateQueue=null,zo.memoizedState=null)}var Jo=Ui$1(Ao);if(Jo!==null){Jo.flags&=-257,Vi$1(Jo,Ao,Lo,$o,Mn),Jo.mode&1&&Si$1($o,jo,Mn),Mn=Jo,Wo=jo;var Qo=Mn.updateQueue;if(Qo===null){var os=new Set;os.add(Wo),Mn.updateQueue=os}else Qo.add(Wo);break e}else{if(!(Mn&1)){Si$1($o,jo,Mn),tj();break e}Wo=Error(p$a(426))}}else if(I$5&&Lo.mode&1){var Cl=Ui$1(Ao);if(Cl!==null){!(Cl.flags&65536)&&(Cl.flags|=256),Vi$1(Cl,Ao,Lo,$o,Mn),Jg$1(Ji$1(Wo,Lo));break e}}$o=Wo=Ji$1(Wo,Lo),T$6!==4&&(T$6=2),sk===null?sk=[$o]:sk.push($o),$o=Ao;do{switch($o.tag){case 3:$o.flags|=65536,Mn&=-Mn,$o.lanes|=Mn;var xl=Ni$1($o,Wo,Mn);ph$1($o,xl);break e;case 1:Lo=Wo;var ds=$o.type,_c=$o.stateNode;if(!($o.flags&128)&&(typeof ds.getDerivedStateFromError=="function"||_c!==null&&typeof _c.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(_c)))){$o.flags|=65536,Mn&=-Mn,$o.lanes|=Mn;var $l=Qi$1($o,Lo,Mn);ph$1($o,$l);break e}}$o=$o.return}while($o!==null)}Sk(io)}catch(Al){Mn=Al,Y$1===io&&io!==null&&(Y$1=io=io.return);continue}break}while(!0)}function Jk(){var Fn=mk.current;return mk.current=Rh$1,Fn===null?Rh$1:Fn}function tj(){(T$6===0||T$6===3||T$6===2)&&(T$6=4),Q$3===null||!(rh$1&268435455)&&!(qk&268435455)||Ck(Q$3,Z$2)}function Ik(Fn,Mn){var io=K$3;K$3|=2;var fo=Jk();(Q$3!==Fn||Z$2!==Mn)&&(uk=null,Kk(Fn,Mn));do try{Tk();break}catch(mo){Mk(Fn,mo)}while(!0);if($g(),K$3=io,mk.current=fo,Y$1!==null)throw Error(p$a(261));return Q$3=null,Z$2=0,T$6}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(Fn){var Mn=Vk(Fn.alternate,Fn,fj);Fn.memoizedProps=Fn.pendingProps,Mn===null?Sk(Fn):Y$1=Mn,nk.current=null}function Sk(Fn){var Mn=Fn;do{var io=Mn.alternate;if(Fn=Mn.return,Mn.flags&32768){if(io=Ij(io,Mn),io!==null){io.flags&=32767,Y$1=io;return}if(Fn!==null)Fn.flags|=32768,Fn.subtreeFlags=0,Fn.deletions=null;else{T$6=6,Y$1=null;return}}else if(io=Ej(io,Mn,fj),io!==null){Y$1=io;return}if(Mn=Mn.sibling,Mn!==null){Y$1=Mn;return}Y$1=Mn=Fn}while(Mn!==null);T$6===0&&(T$6=5)}function Pk(Fn,Mn,io){var fo=C$5,mo=ok$1.transition;try{ok$1.transition=null,C$5=1,Wk(Fn,Mn,io,fo)}finally{ok$1.transition=mo,C$5=fo}return null}function Wk(Fn,Mn,io,fo){do Hk();while(wk!==null);if(K$3&6)throw Error(p$a(327));io=Fn.finishedWork;var mo=Fn.finishedLanes;if(io===null)return null;if(Fn.finishedWork=null,Fn.finishedLanes=0,io===Fn.current)throw Error(p$a(177));Fn.callbackNode=null,Fn.callbackPriority=0;var $o=io.lanes|io.childLanes;if(Bc(Fn,$o),Fn===Q$3&&(Y$1=Q$3=null,Z$2=0),!(io.subtreeFlags&2064)&&!(io.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),$o=(io.flags&15990)!==0,io.subtreeFlags&15990||$o){$o=ok$1.transition,ok$1.transition=null;var Ao=C$5;C$5=1;var Lo=K$3;K$3|=4,nk.current=null,Oj(Fn,io),dk(io,Fn),Oe$1(Df$1),dd=!!Cf$1,Df$1=Cf$1=null,Fn.current=io,hk(io),dc(),K$3=Lo,C$5=Ao,ok$1.transition=$o}else Fn.current=io;if(vk&&(vk=!1,wk=Fn,xk=mo),$o=Fn.pendingLanes,$o===0&&(Ri$1=null),mc(io.stateNode),Dk(Fn,B$3()),Mn!==null)for(fo=Fn.onRecoverableError,io=0;io<Mn.length;io++)mo=Mn[io],fo(mo.value,{componentStack:mo.stack,digest:mo.digest});if(Oi$1)throw Oi$1=!1,Fn=Pi$1,Pi$1=null,Fn;return xk&1&&Fn.tag!==0&&Hk(),$o=Fn.pendingLanes,$o&1?Fn===zk?yk++:(yk=0,zk=Fn):yk=0,jg$1(),null}function Hk(){if(wk!==null){var Fn=Dc(xk),Mn=ok$1.transition,io=C$5;try{if(ok$1.transition=null,C$5=16>Fn?16:Fn,wk===null)var fo=!1;else{if(Fn=wk,wk=null,xk=0,K$3&6)throw Error(p$a(331));var mo=K$3;for(K$3|=4,V$4=Fn.current;V$4!==null;){var $o=V$4,Ao=$o.child;if(V$4.flags&16){var Lo=$o.deletions;if(Lo!==null){for(var Wo=0;Wo<Lo.length;Wo++){var jo=Lo[Wo];for(V$4=jo;V$4!==null;){var zo=V$4;switch(zo.tag){case 0:case 11:case 15:Pj(8,zo,$o)}var Vo=zo.child;if(Vo!==null)Vo.return=zo,V$4=Vo;else for(;V$4!==null;){zo=V$4;var Go=zo.sibling,Jo=zo.return;if(Sj(zo),zo===jo){V$4=null;break}if(Go!==null){Go.return=Jo,V$4=Go;break}V$4=Jo}}}var Qo=$o.alternate;if(Qo!==null){var os=Qo.child;if(os!==null){Qo.child=null;do{var Cl=os.sibling;os.sibling=null,os=Cl}while(os!==null)}}V$4=$o}}if($o.subtreeFlags&2064&&Ao!==null)Ao.return=$o,V$4=Ao;else e:for(;V$4!==null;){if($o=V$4,$o.flags&2048)switch($o.tag){case 0:case 11:case 15:Pj(9,$o,$o.return)}var xl=$o.sibling;if(xl!==null){xl.return=$o.return,V$4=xl;break e}V$4=$o.return}}var ds=Fn.current;for(V$4=ds;V$4!==null;){Ao=V$4;var _c=Ao.child;if(Ao.subtreeFlags&2064&&_c!==null)_c.return=Ao,V$4=_c;else e:for(Ao=ds;V$4!==null;){if(Lo=V$4,Lo.flags&2048)try{switch(Lo.tag){case 0:case 11:case 15:Qj(9,Lo)}}catch(Al){W$1(Lo,Lo.return,Al)}if(Lo===Ao){V$4=null;break e}var $l=Lo.sibling;if($l!==null){$l.return=Lo.return,V$4=$l;break e}V$4=Lo.return}}if(K$3=mo,jg$1(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,Fn)}catch{}fo=!0}return fo}finally{C$5=io,ok$1.transition=Mn}}return!1}function Xk(Fn,Mn,io){Mn=Ji$1(io,Mn),Mn=Ni$1(Fn,Mn,1),Fn=nh(Fn,Mn,1),Mn=R$4(),Fn!==null&&(Ac(Fn,1,Mn),Dk(Fn,Mn))}function W$1(Fn,Mn,io){if(Fn.tag===3)Xk(Fn,Fn,io);else for(;Mn!==null;){if(Mn.tag===3){Xk(Mn,Fn,io);break}else if(Mn.tag===1){var fo=Mn.stateNode;if(typeof Mn.type.getDerivedStateFromError=="function"||typeof fo.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(fo))){Fn=Ji$1(io,Fn),Fn=Qi$1(Mn,Fn,1),Mn=nh(Mn,Fn,1),Fn=R$4(),Mn!==null&&(Ac(Mn,1,Fn),Dk(Mn,Fn));break}}Mn=Mn.return}}function Ti$1(Fn,Mn,io){var fo=Fn.pingCache;fo!==null&&fo.delete(Mn),Mn=R$4(),Fn.pingedLanes|=Fn.suspendedLanes&io,Q$3===Fn&&(Z$2&io)===io&&(T$6===4||T$6===3&&(Z$2&130023424)===Z$2&&500>B$3()-fk?Kk(Fn,0):rk|=io),Dk(Fn,Mn)}function Yk(Fn,Mn){Mn===0&&(Fn.mode&1?(Mn=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):Mn=1);var io=R$4();Fn=ih(Fn,Mn),Fn!==null&&(Ac(Fn,Mn,io),Dk(Fn,io))}function uj(Fn){var Mn=Fn.memoizedState,io=0;Mn!==null&&(io=Mn.retryLane),Yk(Fn,io)}function bk(Fn,Mn){var io=0;switch(Fn.tag){case 13:var fo=Fn.stateNode,mo=Fn.memoizedState;mo!==null&&(io=mo.retryLane);break;case 19:fo=Fn.stateNode;break;default:throw Error(p$a(314))}fo!==null&&fo.delete(Mn),Yk(Fn,io)}var Vk;Vk=function(Fn,Mn,io){if(Fn!==null)if(Fn.memoizedProps!==Mn.pendingProps||Wf$1.current)dh$1=!0;else{if(!(Fn.lanes&io)&&!(Mn.flags&128))return dh$1=!1,yj(Fn,Mn,io);dh$1=!!(Fn.flags&131072)}else dh$1=!1,I$5&&Mn.flags&1048576&&ug(Mn,ng,Mn.index);switch(Mn.lanes=0,Mn.tag){case 2:var fo=Mn.type;ij(Fn,Mn),Fn=Mn.pendingProps;var mo=Yf$1(Mn,H$2.current);ch$1(Mn,io),mo=Nh$1(null,Mn,fo,Fn,mo,io);var $o=Sh$1();return Mn.flags|=1,typeof mo=="object"&&mo!==null&&typeof mo.render=="function"&&mo.$$typeof===void 0?(Mn.tag=1,Mn.memoizedState=null,Mn.updateQueue=null,Zf(fo)?($o=!0,cg(Mn)):$o=!1,Mn.memoizedState=mo.state!==null&&mo.state!==void 0?mo.state:null,kh(Mn),mo.updater=Ei$1,Mn.stateNode=mo,mo._reactInternals=Mn,Ii$1(Mn,fo,Fn,io),Mn=jj(null,Mn,fo,!0,$o,io)):(Mn.tag=0,I$5&&$o&&vg(Mn),Xi$1(null,Mn,mo,io),Mn=Mn.child),Mn;case 16:fo=Mn.elementType;e:{switch(ij(Fn,Mn),Fn=Mn.pendingProps,mo=fo._init,fo=mo(fo._payload),Mn.type=fo,mo=Mn.tag=Zk(fo),Fn=Ci$1(fo,Fn),mo){case 0:Mn=cj(null,Mn,fo,Fn,io);break e;case 1:Mn=hj(null,Mn,fo,Fn,io);break e;case 11:Mn=Yi$1(null,Mn,fo,Fn,io);break e;case 14:Mn=$i$1(null,Mn,fo,Ci$1(fo.type,Fn),io);break e}throw Error(p$a(306,fo,""))}return Mn;case 0:return fo=Mn.type,mo=Mn.pendingProps,mo=Mn.elementType===fo?mo:Ci$1(fo,mo),cj(Fn,Mn,fo,mo,io);case 1:return fo=Mn.type,mo=Mn.pendingProps,mo=Mn.elementType===fo?mo:Ci$1(fo,mo),hj(Fn,Mn,fo,mo,io);case 3:e:{if(kj(Mn),Fn===null)throw Error(p$a(387));fo=Mn.pendingProps,$o=Mn.memoizedState,mo=$o.element,lh$1(Fn,Mn),qh(Mn,fo,null,io);var Ao=Mn.memoizedState;if(fo=Ao.element,$o.isDehydrated)if($o={element:fo,isDehydrated:!1,cache:Ao.cache,pendingSuspenseBoundaries:Ao.pendingSuspenseBoundaries,transitions:Ao.transitions},Mn.updateQueue.baseState=$o,Mn.memoizedState=$o,Mn.flags&256){mo=Ji$1(Error(p$a(423)),Mn),Mn=lj(Fn,Mn,fo,io,mo);break e}else if(fo!==mo){mo=Ji$1(Error(p$a(424)),Mn),Mn=lj(Fn,Mn,fo,io,mo);break e}else for(yg=Lf$1(Mn.stateNode.containerInfo.firstChild),xg=Mn,I$5=!0,zg=null,io=Vg$1(Mn,null,fo,io),Mn.child=io;io;)io.flags=io.flags&-3|4096,io=io.sibling;else{if(Ig(),fo===mo){Mn=Zi$1(Fn,Mn,io);break e}Xi$1(Fn,Mn,fo,io)}Mn=Mn.child}return Mn;case 5:return Ah$1(Mn),Fn===null&&Eg(Mn),fo=Mn.type,mo=Mn.pendingProps,$o=Fn!==null?Fn.memoizedProps:null,Ao=mo.children,Ef$1(fo,mo)?Ao=null:$o!==null&&Ef$1(fo,$o)&&(Mn.flags|=32),gj(Fn,Mn),Xi$1(Fn,Mn,Ao,io),Mn.child;case 6:return Fn===null&&Eg(Mn),null;case 13:return oj(Fn,Mn,io);case 4:return yh$1(Mn,Mn.stateNode.containerInfo),fo=Mn.pendingProps,Fn===null?Mn.child=Ug(Mn,null,fo,io):Xi$1(Fn,Mn,fo,io),Mn.child;case 11:return fo=Mn.type,mo=Mn.pendingProps,mo=Mn.elementType===fo?mo:Ci$1(fo,mo),Yi$1(Fn,Mn,fo,mo,io);case 7:return Xi$1(Fn,Mn,Mn.pendingProps,io),Mn.child;case 8:return Xi$1(Fn,Mn,Mn.pendingProps.children,io),Mn.child;case 12:return Xi$1(Fn,Mn,Mn.pendingProps.children,io),Mn.child;case 10:e:{if(fo=Mn.type._context,mo=Mn.pendingProps,$o=Mn.memoizedProps,Ao=mo.value,G$2(Wg,fo._currentValue),fo._currentValue=Ao,$o!==null)if(He($o.value,Ao)){if($o.children===mo.children&&!Wf$1.current){Mn=Zi$1(Fn,Mn,io);break e}}else for($o=Mn.child,$o!==null&&($o.return=Mn);$o!==null;){var Lo=$o.dependencies;if(Lo!==null){Ao=$o.child;for(var Wo=Lo.firstContext;Wo!==null;){if(Wo.context===fo){if($o.tag===1){Wo=mh$1(-1,io&-io),Wo.tag=2;var jo=$o.updateQueue;if(jo!==null){jo=jo.shared;var zo=jo.pending;zo===null?Wo.next=Wo:(Wo.next=zo.next,zo.next=Wo),jo.pending=Wo}}$o.lanes|=io,Wo=$o.alternate,Wo!==null&&(Wo.lanes|=io),bh$1($o.return,io,Mn),Lo.lanes|=io;break}Wo=Wo.next}}else if($o.tag===10)Ao=$o.type===Mn.type?null:$o.child;else if($o.tag===18){if(Ao=$o.return,Ao===null)throw Error(p$a(341));Ao.lanes|=io,Lo=Ao.alternate,Lo!==null&&(Lo.lanes|=io),bh$1(Ao,io,Mn),Ao=$o.sibling}else Ao=$o.child;if(Ao!==null)Ao.return=$o;else for(Ao=$o;Ao!==null;){if(Ao===Mn){Ao=null;break}if($o=Ao.sibling,$o!==null){$o.return=Ao.return,Ao=$o;break}Ao=Ao.return}$o=Ao}Xi$1(Fn,Mn,mo.children,io),Mn=Mn.child}return Mn;case 9:return mo=Mn.type,fo=Mn.pendingProps.children,ch$1(Mn,io),mo=eh(mo),fo=fo(mo),Mn.flags|=1,Xi$1(Fn,Mn,fo,io),Mn.child;case 14:return fo=Mn.type,mo=Ci$1(fo,Mn.pendingProps),mo=Ci$1(fo.type,mo),$i$1(Fn,Mn,fo,mo,io);case 15:return bj(Fn,Mn,Mn.type,Mn.pendingProps,io);case 17:return fo=Mn.type,mo=Mn.pendingProps,mo=Mn.elementType===fo?mo:Ci$1(fo,mo),ij(Fn,Mn),Mn.tag=1,Zf(fo)?(Fn=!0,cg(Mn)):Fn=!1,ch$1(Mn,io),Gi$1(Mn,fo,mo),Ii$1(Mn,fo,mo,io),jj(null,Mn,fo,!0,Fn,io);case 19:return xj(Fn,Mn,io);case 22:return dj(Fn,Mn,io)}throw Error(p$a(156,Mn.tag))};function Fk(Fn,Mn){return ac(Fn,Mn)}function $k(Fn,Mn,io,fo){this.tag=Fn,this.key=io,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=Mn,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=fo,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(Fn,Mn,io,fo){return new $k(Fn,Mn,io,fo)}function aj(Fn){return Fn=Fn.prototype,!(!Fn||!Fn.isReactComponent)}function Zk(Fn){if(typeof Fn=="function")return aj(Fn)?1:0;if(Fn!=null){if(Fn=Fn.$$typeof,Fn===Da$2)return 11;if(Fn===Ga$1)return 14}return 2}function Pg(Fn,Mn){var io=Fn.alternate;return io===null?(io=Bg(Fn.tag,Mn,Fn.key,Fn.mode),io.elementType=Fn.elementType,io.type=Fn.type,io.stateNode=Fn.stateNode,io.alternate=Fn,Fn.alternate=io):(io.pendingProps=Mn,io.type=Fn.type,io.flags=0,io.subtreeFlags=0,io.deletions=null),io.flags=Fn.flags&14680064,io.childLanes=Fn.childLanes,io.lanes=Fn.lanes,io.child=Fn.child,io.memoizedProps=Fn.memoizedProps,io.memoizedState=Fn.memoizedState,io.updateQueue=Fn.updateQueue,Mn=Fn.dependencies,io.dependencies=Mn===null?null:{lanes:Mn.lanes,firstContext:Mn.firstContext},io.sibling=Fn.sibling,io.index=Fn.index,io.ref=Fn.ref,io}function Rg(Fn,Mn,io,fo,mo,$o){var Ao=2;if(fo=Fn,typeof Fn=="function")aj(Fn)&&(Ao=1);else if(typeof Fn=="string")Ao=5;else e:switch(Fn){case ya$2:return Tg(io.children,mo,$o,Mn);case za$1:Ao=8,mo|=8;break;case Aa$1:return Fn=Bg(12,io,Mn,mo|2),Fn.elementType=Aa$1,Fn.lanes=$o,Fn;case Ea$1:return Fn=Bg(13,io,Mn,mo),Fn.elementType=Ea$1,Fn.lanes=$o,Fn;case Fa$2:return Fn=Bg(19,io,Mn,mo),Fn.elementType=Fa$2,Fn.lanes=$o,Fn;case Ia$1:return pj(io,mo,$o,Mn);default:if(typeof Fn=="object"&&Fn!==null)switch(Fn.$$typeof){case Ba$1:Ao=10;break e;case Ca$1:Ao=9;break e;case Da$2:Ao=11;break e;case Ga$1:Ao=14;break e;case Ha$2:Ao=16,fo=null;break e}throw Error(p$a(130,Fn==null?Fn:typeof Fn,""))}return Mn=Bg(Ao,io,Mn,mo),Mn.elementType=Fn,Mn.type=fo,Mn.lanes=$o,Mn}function Tg(Fn,Mn,io,fo){return Fn=Bg(7,Fn,fo,Mn),Fn.lanes=io,Fn}function pj(Fn,Mn,io,fo){return Fn=Bg(22,Fn,fo,Mn),Fn.elementType=Ia$1,Fn.lanes=io,Fn.stateNode={isHidden:!1},Fn}function Qg$1(Fn,Mn,io){return Fn=Bg(6,Fn,null,Mn),Fn.lanes=io,Fn}function Sg(Fn,Mn,io){return Mn=Bg(4,Fn.children!==null?Fn.children:[],Fn.key,Mn),Mn.lanes=io,Mn.stateNode={containerInfo:Fn.containerInfo,pendingChildren:null,implementation:Fn.implementation},Mn}function al(Fn,Mn,io,fo,mo){this.tag=Mn,this.containerInfo=Fn,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=fo,this.onRecoverableError=mo,this.mutableSourceEagerHydrationData=null}function bl(Fn,Mn,io,fo,mo,$o,Ao,Lo,Wo){return Fn=new al(Fn,Mn,io,Lo,Wo),Mn===1?(Mn=1,$o===!0&&(Mn|=8)):Mn=0,$o=Bg(3,null,null,Mn),Fn.current=$o,$o.stateNode=Fn,$o.memoizedState={element:fo,isDehydrated:io,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh($o),Fn}function cl(Fn,Mn,io){var fo=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$1,key:fo==null?null:""+fo,children:Fn,containerInfo:Mn,implementation:io}}function dl(Fn){if(!Fn)return Vf$1;Fn=Fn._reactInternals;e:{if(Vb(Fn)!==Fn||Fn.tag!==1)throw Error(p$a(170));var Mn=Fn;do{switch(Mn.tag){case 3:Mn=Mn.stateNode.context;break e;case 1:if(Zf(Mn.type)){Mn=Mn.stateNode.__reactInternalMemoizedMergedChildContext;break e}}Mn=Mn.return}while(Mn!==null);throw Error(p$a(171))}if(Fn.tag===1){var io=Fn.type;if(Zf(io))return bg(Fn,io,Mn)}return Mn}function el(Fn,Mn,io,fo,mo,$o,Ao,Lo,Wo){return Fn=bl(io,fo,!0,Fn,mo,$o,Ao,Lo,Wo),Fn.context=dl(null),io=Fn.current,fo=R$4(),mo=yi$2(io),$o=mh$1(fo,mo),$o.callback=Mn??null,nh(io,$o,mo),Fn.current.lanes=mo,Ac(Fn,mo,fo),Dk(Fn,fo),Fn}function fl(Fn,Mn,io,fo){var mo=Mn.current,$o=R$4(),Ao=yi$2(mo);return io=dl(io),Mn.context===null?Mn.context=io:Mn.pendingContext=io,Mn=mh$1($o,Ao),Mn.payload={element:Fn},fo=fo===void 0?null:fo,fo!==null&&(Mn.callback=fo),Fn=nh(mo,Mn,Ao),Fn!==null&&(gi$1(Fn,mo,Ao,$o),oh(Fn,mo,Ao)),Ao}function gl(Fn){if(Fn=Fn.current,!Fn.child)return null;switch(Fn.child.tag){case 5:return Fn.child.stateNode;default:return Fn.child.stateNode}}function hl(Fn,Mn){if(Fn=Fn.memoizedState,Fn!==null&&Fn.dehydrated!==null){var io=Fn.retryLane;Fn.retryLane=io!==0&&io<Mn?io:Mn}}function il(Fn,Mn){hl(Fn,Mn),(Fn=Fn.alternate)&&hl(Fn,Mn)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(Fn){console.error(Fn)};function ll(Fn){this._internalRoot=Fn}ml.prototype.render=ll.prototype.render=function(Fn){var Mn=this._internalRoot;if(Mn===null)throw Error(p$a(409));fl(Fn,Mn,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var Fn=this._internalRoot;if(Fn!==null){this._internalRoot=null;var Mn=Fn.containerInfo;Rk(function(){fl(null,Fn,null,null)}),Mn[uf]=null}};function ml(Fn){this._internalRoot=Fn}ml.prototype.unstable_scheduleHydration=function(Fn){if(Fn){var Mn=Hc();Fn={blockedOn:null,target:Fn,priority:Mn};for(var io=0;io<Qc.length&&Mn!==0&&Mn<Qc[io].priority;io++);Qc.splice(io,0,Fn),io===0&&Vc(Fn)}};function nl(Fn){return!(!Fn||Fn.nodeType!==1&&Fn.nodeType!==9&&Fn.nodeType!==11)}function ol(Fn){return!(!Fn||Fn.nodeType!==1&&Fn.nodeType!==9&&Fn.nodeType!==11&&(Fn.nodeType!==8||Fn.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(Fn,Mn,io,fo,mo){if(mo){if(typeof fo=="function"){var $o=fo;fo=function(){var jo=gl(Ao);$o.call(jo)}}var Ao=el(Mn,fo,Fn,0,null,!1,!1,"",pl);return Fn._reactRootContainer=Ao,Fn[uf]=Ao.current,sf(Fn.nodeType===8?Fn.parentNode:Fn),Rk(),Ao}for(;mo=Fn.lastChild;)Fn.removeChild(mo);if(typeof fo=="function"){var Lo=fo;fo=function(){var jo=gl(Wo);Lo.call(jo)}}var Wo=bl(Fn,0,!1,null,null,!1,!1,"",pl);return Fn._reactRootContainer=Wo,Fn[uf]=Wo.current,sf(Fn.nodeType===8?Fn.parentNode:Fn),Rk(function(){fl(Mn,Wo,io,fo)}),Wo}function rl(Fn,Mn,io,fo,mo){var $o=io._reactRootContainer;if($o){var Ao=$o;if(typeof mo=="function"){var Lo=mo;mo=function(){var Wo=gl(Ao);Lo.call(Wo)}}fl(Mn,Ao,Fn,mo)}else Ao=ql(io,Mn,Fn,mo,fo);return gl(Ao)}Ec=function(Fn){switch(Fn.tag){case 3:var Mn=Fn.stateNode;if(Mn.current.memoizedState.isDehydrated){var io=tc(Mn.pendingLanes);io!==0&&(Cc(Mn,io|1),Dk(Mn,B$3()),!(K$3&6)&&(Gj=B$3()+500,jg$1()))}break;case 13:Rk(function(){var fo=ih(Fn,1);if(fo!==null){var mo=R$4();gi$1(fo,Fn,1,mo)}}),il(Fn,1)}};Fc=function(Fn){if(Fn.tag===13){var Mn=ih(Fn,134217728);if(Mn!==null){var io=R$4();gi$1(Mn,Fn,134217728,io)}il(Fn,134217728)}};Gc=function(Fn){if(Fn.tag===13){var Mn=yi$2(Fn),io=ih(Fn,Mn);if(io!==null){var fo=R$4();gi$1(io,Fn,Mn,fo)}il(Fn,Mn)}};Hc=function(){return C$5};Ic=function(Fn,Mn){var io=C$5;try{return C$5=Fn,Mn()}finally{C$5=io}};yb=function(Fn,Mn,io){switch(Mn){case"input":if(bb(Fn,io),Mn=io.name,io.type==="radio"&&Mn!=null){for(io=Fn;io.parentNode;)io=io.parentNode;for(io=io.querySelectorAll("input[name="+JSON.stringify(""+Mn)+'][type="radio"]'),Mn=0;Mn<io.length;Mn++){var fo=io[Mn];if(fo!==Fn&&fo.form===Fn.form){var mo=Db(fo);if(!mo)throw Error(p$a(90));Wa$2(fo),bb(fo,mo)}}}break;case"textarea":ib(Fn,io);break;case"select":Mn=io.value,Mn!=null&&fb(Fn,!!io.multiple,Mn,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$2,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(Fn){return Fn=Zb(Fn),Fn===null?null:Fn.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(Fn,Mn){var io=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(Mn))throw Error(p$a(200));return cl(Fn,Mn,null,io)};reactDom_production_min.createRoot=function(Fn,Mn){if(!nl(Fn))throw Error(p$a(299));var io=!1,fo="",mo=kl;return Mn!=null&&(Mn.unstable_strictMode===!0&&(io=!0),Mn.identifierPrefix!==void 0&&(fo=Mn.identifierPrefix),Mn.onRecoverableError!==void 0&&(mo=Mn.onRecoverableError)),Mn=bl(Fn,1,!1,null,null,io,!1,fo,mo),Fn[uf]=Mn.current,sf(Fn.nodeType===8?Fn.parentNode:Fn),new ll(Mn)};reactDom_production_min.findDOMNode=function(Fn){if(Fn==null)return null;if(Fn.nodeType===1)return Fn;var Mn=Fn._reactInternals;if(Mn===void 0)throw typeof Fn.render=="function"?Error(p$a(188)):(Fn=Object.keys(Fn).join(","),Error(p$a(268,Fn)));return Fn=Zb(Mn),Fn=Fn===null?null:Fn.stateNode,Fn};reactDom_production_min.flushSync=function(Fn){return Rk(Fn)};reactDom_production_min.hydrate=function(Fn,Mn,io){if(!ol(Mn))throw Error(p$a(200));return rl(null,Fn,Mn,!0,io)};reactDom_production_min.hydrateRoot=function(Fn,Mn,io){if(!nl(Fn))throw Error(p$a(405));var fo=io!=null&&io.hydratedSources||null,mo=!1,$o="",Ao=kl;if(io!=null&&(io.unstable_strictMode===!0&&(mo=!0),io.identifierPrefix!==void 0&&($o=io.identifierPrefix),io.onRecoverableError!==void 0&&(Ao=io.onRecoverableError)),Mn=el(Mn,null,Fn,1,io??null,mo,!1,$o,Ao),Fn[uf]=Mn.current,sf(Fn),fo)for(Fn=0;Fn<fo.length;Fn++)io=fo[Fn],mo=io._getVersion,mo=mo(io._source),Mn.mutableSourceEagerHydrationData==null?Mn.mutableSourceEagerHydrationData=[io,mo]:Mn.mutableSourceEagerHydrationData.push(io,mo);return new ml(Mn)};reactDom_production_min.render=function(Fn,Mn,io){if(!ol(Mn))throw Error(p$a(200));return rl(null,Fn,Mn,!1,io)};reactDom_production_min.unmountComponentAtNode=function(Fn){if(!ol(Fn))throw Error(p$a(40));return Fn._reactRootContainer?(Rk(function(){rl(null,null,Fn,!1,function(){Fn._reactRootContainer=null,Fn[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(Fn,Mn,io,fo){if(!ol(io))throw Error(p$a(200));if(Fn==null||Fn._reactInternals===void 0)throw Error(p$a(38));return rl(Fn,Mn,io,!1,fo)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(Fn){console.error(Fn)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var createRoot,m$5=reactDomExports;createRoot=m$5.createRoot,m$5.hydrateRoot;const scriptRel="modulepreload",assetsURL=function(Fn){return"/"+Fn},seen={},__vitePreload=function(Mn,io,fo){let mo=Promise.resolve();if(io&&io.length>0){document.getElementsByTagName("link");const Ao=document.querySelector("meta[property=csp-nonce]"),Lo=(Ao==null?void 0:Ao.nonce)||(Ao==null?void 0:Ao.getAttribute("nonce"));mo=Promise.allSettled(io.map(Wo=>{if(Wo=assetsURL(Wo),Wo in seen)return;seen[Wo]=!0;const jo=Wo.endsWith(".css"),zo=jo?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${Wo}"]${zo}`))return;const Vo=document.createElement("link");if(Vo.rel=jo?"stylesheet":scriptRel,jo||(Vo.as="script"),Vo.crossOrigin="",Vo.href=Wo,Lo&&Vo.setAttribute("nonce",Lo),document.head.appendChild(Vo),jo)return new Promise((Go,Jo)=>{Vo.addEventListener("load",Go),Vo.addEventListener("error",()=>Jo(new Error(`Unable to preload CSS for ${Wo}`)))})}))}function $o(Ao){const Lo=new Event("vite:preloadError",{cancelable:!0});if(Lo.payload=Ao,window.dispatchEvent(Lo),!Lo.defaultPrevented)throw Ao}return mo.then(Ao=>{for(const Lo of Ao||[])Lo.status==="rejected"&&$o(Lo.reason);return Mn().catch($o)})},t$9=Symbol(),s$9=Object.getPrototypeOf,c$c=new WeakMap,l$9=Fn=>Fn&&(c$c.has(Fn)?c$c.get(Fn):s$9(Fn)===Object.prototype||s$9(Fn)===Array.prototype),y$8=Fn=>l$9(Fn)&&Fn[t$9]||null,h$f=(Fn,Mn=!0)=>{c$c.set(Fn,Mn)},__vite_import_meta_env__$2={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APPKIT_PROJECT_ID:"e68f5aaf8852a7276013760c5323852a",VITE_THE_GRAPH_QUEST_CHAINS_URL:"https://api.studio.thegraph.com/query/71457/quest-chains-optimism/version/latest",VITE_UCAN_DELEGATOR:"https://ucan.dacade.my/ucan"},isObject=Fn=>typeof Fn=="object"&&Fn!==null,proxyStateMap=new WeakMap,refSet=new WeakSet,buildProxyFunction=(Fn=Object.is,Mn=(jo,zo)=>new Proxy(jo,zo),io=jo=>isObject(jo)&&!refSet.has(jo)&&(Array.isArray(jo)||!(Symbol.iterator in jo))&&!(jo instanceof WeakMap)&&!(jo instanceof WeakSet)&&!(jo instanceof Error)&&!(jo instanceof Number)&&!(jo instanceof Date)&&!(jo instanceof String)&&!(jo instanceof RegExp)&&!(jo instanceof ArrayBuffer),fo=jo=>{switch(jo.status){case"fulfilled":return jo.value;case"rejected":throw jo.reason;default:throw jo}},mo=new WeakMap,$o=(jo,zo,Vo=fo)=>{const Go=mo.get(jo);if((Go==null?void 0:Go[0])===zo)return Go[1];const Jo=Array.isArray(jo)?[]:Object.create(Object.getPrototypeOf(jo));return h$f(Jo,!0),mo.set(jo,[zo,Jo]),Reflect.ownKeys(jo).forEach(Qo=>{if(Object.getOwnPropertyDescriptor(Jo,Qo))return;const os=Reflect.get(jo,Qo),Cl={value:os,enumerable:!0,configurable:!0};if(refSet.has(os))h$f(os,!1);else if(os instanceof Promise)delete Cl.value,Cl.get=()=>Vo(os);else if(proxyStateMap.has(os)){const[xl,ds]=proxyStateMap.get(os);Cl.value=$o(xl,ds(),Vo)}Object.defineProperty(Jo,Qo,Cl)}),Object.preventExtensions(Jo)},Ao=new WeakMap,Lo=[1,1],Wo=jo=>{if(!isObject(jo))throw new Error("object required");const zo=Ao.get(jo);if(zo)return zo;let Vo=Lo[0];const Go=new Set,Jo=(Rl,Wl=++Lo[0])=>{Vo!==Wl&&(Vo=Wl,Go.forEach(Nl=>Nl(Rl,Wl)))};let Qo=Lo[1];const os=(Rl=++Lo[1])=>(Qo!==Rl&&!Go.size&&(Qo=Rl,xl.forEach(([Wl])=>{const Nl=Wl[1](Rl);Nl>Vo&&(Vo=Nl)})),Vo),Cl=Rl=>(Wl,Nl)=>{const wl=[...Wl];wl[1]=[Rl,...wl[1]],Jo(wl,Nl)},xl=new Map,ds=(Rl,Wl)=>{if((__vite_import_meta_env__$2?"production":void 0)!=="production"&&xl.has(Rl))throw new Error("prop listener already exists");if(Go.size){const Nl=Wl[3](Cl(Rl));xl.set(Rl,[Wl,Nl])}else xl.set(Rl,[Wl])},_c=Rl=>{var Wl;const Nl=xl.get(Rl);Nl&&(xl.delete(Rl),(Wl=Nl[1])==null||Wl.call(Nl))},$l=Rl=>(Go.add(Rl),Go.size===1&&xl.forEach(([Nl,wl],Xo)=>{if((__vite_import_meta_env__$2?"production":void 0)!=="production"&&wl)throw new Error("remove already exists");const rs=Nl[3](Cl(Xo));xl.set(Xo,[Nl,rs])}),()=>{Go.delete(Rl),Go.size===0&&xl.forEach(([Nl,wl],Xo)=>{wl&&(wl(),xl.set(Xo,[Nl]))})}),Al=Array.isArray(jo)?[]:Object.create(Object.getPrototypeOf(jo)),us=Mn(Al,{deleteProperty(Rl,Wl){const Nl=Reflect.get(Rl,Wl);_c(Wl);const wl=Reflect.deleteProperty(Rl,Wl);return wl&&Jo(["delete",[Wl],Nl]),wl},set(Rl,Wl,Nl,wl){const Xo=Reflect.has(Rl,Wl),rs=Reflect.get(Rl,Wl,wl);if(Xo&&(Fn(rs,Nl)||Ao.has(Nl)&&Fn(rs,Ao.get(Nl))))return!0;_c(Wl),isObject(Nl)&&(Nl=y$8(Nl)||Nl);let as=Nl;if(Nl instanceof Promise)Nl.then(El=>{Nl.status="fulfilled",Nl.value=El,Jo(["resolve",[Wl],El])}).catch(El=>{Nl.status="rejected",Nl.reason=El,Jo(["reject",[Wl],El])});else{!proxyStateMap.has(Nl)&&io(Nl)&&(as=Wo(Nl));const El=!refSet.has(as)&&proxyStateMap.get(as);El&&ds(Wl,El)}return Reflect.set(Rl,Wl,as,wl),Jo(["set",[Wl],Nl,rs]),!0}});Ao.set(jo,us);const ps=[Al,os,$o,$l];return proxyStateMap.set(us,ps),Reflect.ownKeys(jo).forEach(Rl=>{const Wl=Object.getOwnPropertyDescriptor(jo,Rl);"value"in Wl&&(us[Rl]=jo[Rl],delete Wl.value,delete Wl.writable),Object.defineProperty(Al,Rl,Wl)}),us})=>[Wo,proxyStateMap,refSet,Fn,Mn,io,fo,mo,$o,Ao,Lo],[defaultProxyFunction]=buildProxyFunction();function proxy(Fn={}){return defaultProxyFunction(Fn)}function subscribe(Fn,Mn,io){const fo=proxyStateMap.get(Fn);(__vite_import_meta_env__$2?"production":void 0)!=="production"&&!fo&&console.warn("Please use proxy object");let mo;const $o=[],Ao=fo[3];let Lo=!1;const jo=Ao(zo=>{$o.push(zo),mo||(mo=Promise.resolve().then(()=>{mo=void 0,Lo&&Mn($o.splice(0))}))});return Lo=!0,()=>{Lo=!1,jo()}}function snapshot(Fn,Mn){const io=proxyStateMap.get(Fn);(__vite_import_meta_env__$2?"production":void 0)!=="production"&&!io&&console.warn("Please use proxy object");const[fo,mo,$o]=io;return $o(fo,mo(),Mn)}function ref(Fn){return refSet.add(Fn),Fn}function subscribeKey(Fn,Mn,io,fo){let mo=Fn[Mn];return subscribe(Fn,()=>{const $o=Fn[Mn];Object.is(mo,$o)||io(mo=$o)})}function proxyMap(Fn){const Mn=proxy({data:Array.from([]),has(io){return this.data.some(fo=>fo[0]===io)},set(io,fo){const mo=this.data.find($o=>$o[0]===io);return mo?mo[1]=fo:this.data.push([io,fo]),this},get(io){var fo;return(fo=this.data.find(mo=>mo[0]===io))==null?void 0:fo[1]},delete(io){const fo=this.data.findIndex(mo=>mo[0]===io);return fo===-1?!1:(this.data.splice(fo,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(io){this.data.forEach(fo=>{io(fo[1],fo[0],this)})},keys(){return this.data.map(io=>io[0]).values()},values(){return this.data.map(io=>io[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(Mn,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(Mn),Mn}var dayjs_min={exports:{}};(function(Fn,Mn){(function(io,fo){Fn.exports=fo()})(commonjsGlobal,function(){var io=1e3,fo=6e4,mo=36e5,$o="millisecond",Ao="second",Lo="minute",Wo="hour",jo="day",zo="week",Vo="month",Go="quarter",Jo="year",Qo="date",os="Invalid Date",Cl=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,xl=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ds={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(rs){var as=["th","st","nd","rd"],El=rs%100;return"["+rs+(as[(El-20)%10]||as[El]||as[0])+"]"}},_c=function(rs,as,El){var Pl=String(rs);return!Pl||Pl.length>=as?rs:""+Array(as+1-Pl.length).join(El)+rs},$l={s:_c,z:function(rs){var as=-rs.utcOffset(),El=Math.abs(as),Pl=Math.floor(El/60),Sl=El%60;return(as<=0?"+":"-")+_c(Pl,2,"0")+":"+_c(Sl,2,"0")},m:function rs(as,El){if(as.date()<El.date())return-rs(El,as);var Pl=12*(El.year()-as.year())+(El.month()-as.month()),Sl=as.clone().add(Pl,Vo),Tl=El-Sl<0,hs=as.clone().add(Pl+(Tl?-1:1),Vo);return+(-(Pl+(El-Sl)/(Tl?Sl-hs:hs-Sl))||0)},a:function(rs){return rs<0?Math.ceil(rs)||0:Math.floor(rs)},p:function(rs){return{M:Vo,y:Jo,w:zo,d:jo,D:Qo,h:Wo,m:Lo,s:Ao,ms:$o,Q:Go}[rs]||String(rs||"").toLowerCase().replace(/s$/,"")},u:function(rs){return rs===void 0}},Al="en",Il={};Il[Al]=ds;var us="$isDayjsObject",ps=function(rs){return rs instanceof wl||!(!rs||!rs[us])},Rl=function rs(as,El,Pl){var Sl;if(!as)return Al;if(typeof as=="string"){var Tl=as.toLowerCase();Il[Tl]&&(Sl=Tl),El&&(Il[Tl]=El,Sl=Tl);var hs=as.split("-");if(!Sl&&hs.length>1)return rs(hs[0])}else{var yl=as.name;Il[yl]=as,Sl=yl}return!Pl&&Sl&&(Al=Sl),Sl||!Pl&&Al},Wl=function(rs,as){if(ps(rs))return rs.clone();var El=typeof as=="object"?as:{};return El.date=rs,El.args=arguments,new wl(El)},Nl=$l;Nl.l=Rl,Nl.i=ps,Nl.w=function(rs,as){return Wl(rs,{locale:as.$L,utc:as.$u,x:as.$x,$offset:as.$offset})};var wl=function(){function rs(El){this.$L=Rl(El.locale,null,!0),this.parse(El),this.$x=this.$x||El.x||{},this[us]=!0}var as=rs.prototype;return as.parse=function(El){this.$d=function(Pl){var Sl=Pl.date,Tl=Pl.utc;if(Sl===null)return new Date(NaN);if(Nl.u(Sl))return new Date;if(Sl instanceof Date)return new Date(Sl);if(typeof Sl=="string"&&!/Z$/i.test(Sl)){var hs=Sl.match(Cl);if(hs){var yl=hs[2]-1||0,Fl=(hs[7]||"0").substring(0,3);return Tl?new Date(Date.UTC(hs[1],yl,hs[3]||1,hs[4]||0,hs[5]||0,hs[6]||0,Fl)):new Date(hs[1],yl,hs[3]||1,hs[4]||0,hs[5]||0,hs[6]||0,Fl)}}return new Date(Sl)}(El),this.init()},as.init=function(){var El=this.$d;this.$y=El.getFullYear(),this.$M=El.getMonth(),this.$D=El.getDate(),this.$W=El.getDay(),this.$H=El.getHours(),this.$m=El.getMinutes(),this.$s=El.getSeconds(),this.$ms=El.getMilliseconds()},as.$utils=function(){return Nl},as.isValid=function(){return this.$d.toString()!==os},as.isSame=function(El,Pl){var Sl=Wl(El);return this.startOf(Pl)<=Sl&&Sl<=this.endOf(Pl)},as.isAfter=function(El,Pl){return Wl(El)<this.startOf(Pl)},as.isBefore=function(El,Pl){return this.endOf(Pl)<Wl(El)},as.$g=function(El,Pl,Sl){return Nl.u(El)?this[Pl]:this.set(Sl,El)},as.unix=function(){return Math.floor(this.valueOf()/1e3)},as.valueOf=function(){return this.$d.getTime()},as.startOf=function(El,Pl){var Sl=this,Tl=!!Nl.u(Pl)||Pl,hs=Nl.p(El),yl=function(Ql,Ol){var Zl=Nl.w(Sl.$u?Date.UTC(Sl.$y,Ol,Ql):new Date(Sl.$y,Ol,Ql),Sl);return Tl?Zl:Zl.endOf(jo)},Fl=function(Ql,Ol){return Nl.w(Sl.toDate()[Ql].apply(Sl.toDate("s"),(Tl?[0,0,0,0]:[23,59,59,999]).slice(Ol)),Sl)},Xl=this.$W,bu=this.$M,Ul=this.$D,yu="set"+(this.$u?"UTC":"");switch(hs){case Jo:return Tl?yl(1,0):yl(31,11);case Vo:return Tl?yl(1,bu):yl(0,bu+1);case zo:var Vl=this.$locale().weekStart||0,Jl=(Xl<Vl?Xl+7:Xl)-Vl;return yl(Tl?Ul-Jl:Ul+(6-Jl),bu);case jo:case Qo:return Fl(yu+"Hours",0);case Wo:return Fl(yu+"Minutes",1);case Lo:return Fl(yu+"Seconds",2);case Ao:return Fl(yu+"Milliseconds",3);default:return this.clone()}},as.endOf=function(El){return this.startOf(El,!1)},as.$set=function(El,Pl){var Sl,Tl=Nl.p(El),hs="set"+(this.$u?"UTC":""),yl=(Sl={},Sl[jo]=hs+"Date",Sl[Qo]=hs+"Date",Sl[Vo]=hs+"Month",Sl[Jo]=hs+"FullYear",Sl[Wo]=hs+"Hours",Sl[Lo]=hs+"Minutes",Sl[Ao]=hs+"Seconds",Sl[$o]=hs+"Milliseconds",Sl)[Tl],Fl=Tl===jo?this.$D+(Pl-this.$W):Pl;if(Tl===Vo||Tl===Jo){var Xl=this.clone().set(Qo,1);Xl.$d[yl](Fl),Xl.init(),this.$d=Xl.set(Qo,Math.min(this.$D,Xl.daysInMonth())).$d}else yl&&this.$d[yl](Fl);return this.init(),this},as.set=function(El,Pl){return this.clone().$set(El,Pl)},as.get=function(El){return this[Nl.p(El)]()},as.add=function(El,Pl){var Sl,Tl=this;El=Number(El);var hs=Nl.p(Pl),yl=function(bu){var Ul=Wl(Tl);return Nl.w(Ul.date(Ul.date()+Math.round(bu*El)),Tl)};if(hs===Vo)return this.set(Vo,this.$M+El);if(hs===Jo)return this.set(Jo,this.$y+El);if(hs===jo)return yl(1);if(hs===zo)return yl(7);var Fl=(Sl={},Sl[Lo]=fo,Sl[Wo]=mo,Sl[Ao]=io,Sl)[hs]||1,Xl=this.$d.getTime()+El*Fl;return Nl.w(Xl,this)},as.subtract=function(El,Pl){return this.add(-1*El,Pl)},as.format=function(El){var Pl=this,Sl=this.$locale();if(!this.isValid())return Sl.invalidDate||os;var Tl=El||"YYYY-MM-DDTHH:mm:ssZ",hs=Nl.z(this),yl=this.$H,Fl=this.$m,Xl=this.$M,bu=Sl.weekdays,Ul=Sl.months,yu=Sl.meridiem,Vl=function(Ol,Zl,rp,op){return Ol&&(Ol[Zl]||Ol(Pl,Tl))||rp[Zl].slice(0,op)},Jl=function(Ol){return Nl.s(yl%12||12,Ol,"0")},Ql=yu||function(Ol,Zl,rp){var op=Ol<12?"AM":"PM";return rp?op.toLowerCase():op};return Tl.replace(xl,function(Ol,Zl){return Zl||function(rp){switch(rp){case"YY":return String(Pl.$y).slice(-2);case"YYYY":return Nl.s(Pl.$y,4,"0");case"M":return Xl+1;case"MM":return Nl.s(Xl+1,2,"0");case"MMM":return Vl(Sl.monthsShort,Xl,Ul,3);case"MMMM":return Vl(Ul,Xl);case"D":return Pl.$D;case"DD":return Nl.s(Pl.$D,2,"0");case"d":return String(Pl.$W);case"dd":return Vl(Sl.weekdaysMin,Pl.$W,bu,2);case"ddd":return Vl(Sl.weekdaysShort,Pl.$W,bu,3);case"dddd":return bu[Pl.$W];case"H":return String(yl);case"HH":return Nl.s(yl,2,"0");case"h":return Jl(1);case"hh":return Jl(2);case"a":return Ql(yl,Fl,!0);case"A":return Ql(yl,Fl,!1);case"m":return String(Fl);case"mm":return Nl.s(Fl,2,"0");case"s":return String(Pl.$s);case"ss":return Nl.s(Pl.$s,2,"0");case"SSS":return Nl.s(Pl.$ms,3,"0");case"Z":return hs}return null}(Ol)||hs.replace(":","")})},as.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},as.diff=function(El,Pl,Sl){var Tl,hs=this,yl=Nl.p(Pl),Fl=Wl(El),Xl=(Fl.utcOffset()-this.utcOffset())*fo,bu=this-Fl,Ul=function(){return Nl.m(hs,Fl)};switch(yl){case Jo:Tl=Ul()/12;break;case Vo:Tl=Ul();break;case Go:Tl=Ul()/3;break;case zo:Tl=(bu-Xl)/6048e5;break;case jo:Tl=(bu-Xl)/864e5;break;case Wo:Tl=bu/mo;break;case Lo:Tl=bu/fo;break;case Ao:Tl=bu/io;break;default:Tl=bu}return Sl?Tl:Nl.a(Tl)},as.daysInMonth=function(){return this.endOf(Vo).$D},as.$locale=function(){return Il[this.$L]},as.locale=function(El,Pl){if(!El)return this.$L;var Sl=this.clone(),Tl=Rl(El,Pl,!0);return Tl&&(Sl.$L=Tl),Sl},as.clone=function(){return Nl.w(this.$d,this)},as.toDate=function(){return new Date(this.valueOf())},as.toJSON=function(){return this.isValid()?this.toISOString():null},as.toISOString=function(){return this.$d.toISOString()},as.toString=function(){return this.$d.toUTCString()},rs}(),Xo=wl.prototype;return Wl.prototype=Xo,[["$ms",$o],["$s",Ao],["$m",Lo],["$H",Wo],["$W",jo],["$M",Vo],["$y",Jo],["$D",Qo]].forEach(function(rs){Xo[rs[1]]=function(as){return this.$g(as,rs[0],rs[1])}}),Wl.extend=function(rs,as){return rs.$i||(rs(as,wl,Wl),rs.$i=!0),Wl},Wl.locale=Rl,Wl.isDayjs=ps,Wl.unix=function(rs){return Wl(1e3*rs)},Wl.en=Il[Al],Wl.Ls=Il,Wl.p={},Wl})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);var en$2={exports:{}};(function(Fn,Mn){(function(io,fo){Fn.exports=fo()})(commonjsGlobal,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(io){var fo=["th","st","nd","rd"],mo=io%100;return"["+io+(fo[(mo-20)%10]||fo[mo]||fo[0])+"]"}}})})(en$2);var enExports=en$2.exports;const englishLocale=getDefaultExportFromCjs(enExports);var relativeTime$1={exports:{}};(function(Fn,Mn){(function(io,fo){Fn.exports=fo()})(commonjsGlobal,function(){return function(io,fo,mo){io=io||{};var $o=fo.prototype,Ao={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Lo(jo,zo,Vo,Go){return $o.fromToBase(jo,zo,Vo,Go)}mo.en.relativeTime=Ao,$o.fromToBase=function(jo,zo,Vo,Go,Jo){for(var Qo,os,Cl,xl=Vo.$locale().relativeTime||Ao,ds=io.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],_c=ds.length,$l=0;$l<_c;$l+=1){var Al=ds[$l];Al.d&&(Qo=Go?mo(jo).diff(Vo,Al.d,!0):Vo.diff(jo,Al.d,!0));var Il=(io.rounding||Math.round)(Math.abs(Qo));if(Cl=Qo>0,Il<=Al.r||!Al.r){Il<=1&&$l>0&&(Al=ds[$l-1]);var us=xl[Al.l];Jo&&(Il=Jo(""+Il)),os=typeof us=="string"?us.replace("%d",Il):us(Il,zo,Al.l,Cl);break}}if(zo)return os;var ps=Cl?xl.future:xl.past;return typeof ps=="function"?ps(os):ps.replace("%s",os)},$o.to=function(jo,zo){return Lo(jo,zo,this,!0)},$o.from=function(jo,zo){return Lo(jo,zo,this)};var Wo=function(jo){return jo.$u?mo.utc():mo()};$o.toNow=function(jo){return this.to(Wo(this),jo)},$o.fromNow=function(jo){return this.from(Wo(this),jo)}}})})(relativeTime$1);var relativeTimeExports=relativeTime$1.exports;const relativeTime=getDefaultExportFromCjs(relativeTimeExports);var updateLocale$1={exports:{}};(function(Fn,Mn){(function(io,fo){Fn.exports=fo()})(commonjsGlobal,function(){return function(io,fo,mo){mo.updateLocale=function($o,Ao){var Lo=mo.Ls[$o];if(Lo)return(Ao?Object.keys(Ao):[]).forEach(function(Wo){Lo[Wo]=Ao[Wo]}),Lo}}})})(updateLocale$1);var updateLocaleExports=updateLocale$1.exports;const updateLocale=getDefaultExportFromCjs(updateLocaleExports);dayjs.extend(relativeTime);dayjs.extend(updateLocale);const localeObject={...englishLocale,name:"en-web3-modal",relativeTime:{future:"in %s",past:"%s ago",s:"%d sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}};dayjs.locale("en-web3-modal",localeObject);const DateUtil={getYear(Fn=new Date().toISOString()){return dayjs(Fn).year()},getRelativeDateFromNow(Fn){return dayjs(Fn).locale("en-web3-modal").fromNow(!0)},formatDate(Fn,Mn="DD MMM"){return dayjs(Fn).format(Mn)}},NetworkUtil={caipNetworkIdToNumber(Fn){return Fn?Number(Fn.split(":")[1]):void 0},parseEvmChainId(Fn){return typeof Fn=="string"?this.caipNetworkIdToNumber(Fn):Fn}};var isNumeric=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,mathceil=Math.ceil,mathfloor=Math.floor,bignumberError="[BigNumber Error] ",tooManyDigits=bignumberError+"Number primitive has more than 15 significant digits: ",BASE=1e14,LOG_BASE=14,MAX_SAFE_INTEGER=9007199254740991,POWS_TEN=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],SQRT_BASE=1e7,MAX=1e9;function clone(Fn){var Mn,io,fo,mo=ds.prototype={constructor:ds,toString:null,valueOf:null},$o=new ds(1),Ao=20,Lo=4,Wo=-7,jo=21,zo=-1e7,Vo=1e7,Go=!1,Jo=1,Qo=0,os={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Cl="0123456789abcdefghijklmnopqrstuvwxyz",xl=!0;function ds(ps,Rl){var Wl,Nl,wl,Xo,rs,as,El,Pl,Sl=this;if(!(Sl instanceof ds))return new ds(ps,Rl);if(Rl==null){if(ps&&ps._isBigNumber===!0){Sl.s=ps.s,!ps.c||ps.e>Vo?Sl.c=Sl.e=null:ps.e<zo?Sl.c=[Sl.e=0]:(Sl.e=ps.e,Sl.c=ps.c.slice());return}if((as=typeof ps=="number")&&ps*0==0){if(Sl.s=1/ps<0?(ps=-ps,-1):1,ps===~~ps){for(Xo=0,rs=ps;rs>=10;rs/=10,Xo++);Xo>Vo?Sl.c=Sl.e=null:(Sl.e=Xo,Sl.c=[ps]);return}Pl=String(ps)}else{if(!isNumeric.test(Pl=String(ps)))return fo(Sl,Pl,as);Sl.s=Pl.charCodeAt(0)==45?(Pl=Pl.slice(1),-1):1}(Xo=Pl.indexOf("."))>-1&&(Pl=Pl.replace(".","")),(rs=Pl.search(/e/i))>0?(Xo<0&&(Xo=rs),Xo+=+Pl.slice(rs+1),Pl=Pl.substring(0,rs)):Xo<0&&(Xo=Pl.length)}else{if(intCheck(Rl,2,Cl.length,"Base"),Rl==10&&xl)return Sl=new ds(ps),Il(Sl,Ao+Sl.e+1,Lo);if(Pl=String(ps),as=typeof ps=="number"){if(ps*0!=0)return fo(Sl,Pl,as,Rl);if(Sl.s=1/ps<0?(Pl=Pl.slice(1),-1):1,ds.DEBUG&&Pl.replace(/^0\.0*|\./,"").length>15)throw Error(tooManyDigits+ps)}else Sl.s=Pl.charCodeAt(0)===45?(Pl=Pl.slice(1),-1):1;for(Wl=Cl.slice(0,Rl),Xo=rs=0,El=Pl.length;rs<El;rs++)if(Wl.indexOf(Nl=Pl.charAt(rs))<0){if(Nl=="."){if(rs>Xo){Xo=El;continue}}else if(!wl&&(Pl==Pl.toUpperCase()&&(Pl=Pl.toLowerCase())||Pl==Pl.toLowerCase()&&(Pl=Pl.toUpperCase()))){wl=!0,rs=-1,Xo=0;continue}return fo(Sl,String(ps),as,Rl)}as=!1,Pl=io(Pl,Rl,10,Sl.s),(Xo=Pl.indexOf("."))>-1?Pl=Pl.replace(".",""):Xo=Pl.length}for(rs=0;Pl.charCodeAt(rs)===48;rs++);for(El=Pl.length;Pl.charCodeAt(--El)===48;);if(Pl=Pl.slice(rs,++El)){if(El-=rs,as&&ds.DEBUG&&El>15&&(ps>MAX_SAFE_INTEGER||ps!==mathfloor(ps)))throw Error(tooManyDigits+Sl.s*ps);if((Xo=Xo-rs-1)>Vo)Sl.c=Sl.e=null;else if(Xo<zo)Sl.c=[Sl.e=0];else{if(Sl.e=Xo,Sl.c=[],rs=(Xo+1)%LOG_BASE,Xo<0&&(rs+=LOG_BASE),rs<El){for(rs&&Sl.c.push(+Pl.slice(0,rs)),El-=LOG_BASE;rs<El;)Sl.c.push(+Pl.slice(rs,rs+=LOG_BASE));rs=LOG_BASE-(Pl=Pl.slice(rs)).length}else rs-=El;for(;rs--;Pl+="0");Sl.c.push(+Pl)}}else Sl.c=[Sl.e=0]}ds.clone=clone,ds.ROUND_UP=0,ds.ROUND_DOWN=1,ds.ROUND_CEIL=2,ds.ROUND_FLOOR=3,ds.ROUND_HALF_UP=4,ds.ROUND_HALF_DOWN=5,ds.ROUND_HALF_EVEN=6,ds.ROUND_HALF_CEIL=7,ds.ROUND_HALF_FLOOR=8,ds.EUCLID=9,ds.config=ds.set=function(ps){var Rl,Wl;if(ps!=null)if(typeof ps=="object"){if(ps.hasOwnProperty(Rl="DECIMAL_PLACES")&&(Wl=ps[Rl],intCheck(Wl,0,MAX,Rl),Ao=Wl),ps.hasOwnProperty(Rl="ROUNDING_MODE")&&(Wl=ps[Rl],intCheck(Wl,0,8,Rl),Lo=Wl),ps.hasOwnProperty(Rl="EXPONENTIAL_AT")&&(Wl=ps[Rl],Wl&&Wl.pop?(intCheck(Wl[0],-MAX,0,Rl),intCheck(Wl[1],0,MAX,Rl),Wo=Wl[0],jo=Wl[1]):(intCheck(Wl,-MAX,MAX,Rl),Wo=-(jo=Wl<0?-Wl:Wl))),ps.hasOwnProperty(Rl="RANGE"))if(Wl=ps[Rl],Wl&&Wl.pop)intCheck(Wl[0],-MAX,-1,Rl),intCheck(Wl[1],1,MAX,Rl),zo=Wl[0],Vo=Wl[1];else if(intCheck(Wl,-MAX,MAX,Rl),Wl)zo=-(Vo=Wl<0?-Wl:Wl);else throw Error(bignumberError+Rl+" cannot be zero: "+Wl);if(ps.hasOwnProperty(Rl="CRYPTO"))if(Wl=ps[Rl],Wl===!!Wl)if(Wl)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Go=Wl;else throw Go=!Wl,Error(bignumberError+"crypto unavailable");else Go=Wl;else throw Error(bignumberError+Rl+" not true or false: "+Wl);if(ps.hasOwnProperty(Rl="MODULO_MODE")&&(Wl=ps[Rl],intCheck(Wl,0,9,Rl),Jo=Wl),ps.hasOwnProperty(Rl="POW_PRECISION")&&(Wl=ps[Rl],intCheck(Wl,0,MAX,Rl),Qo=Wl),ps.hasOwnProperty(Rl="FORMAT"))if(Wl=ps[Rl],typeof Wl=="object")os=Wl;else throw Error(bignumberError+Rl+" not an object: "+Wl);if(ps.hasOwnProperty(Rl="ALPHABET"))if(Wl=ps[Rl],typeof Wl=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(Wl))xl=Wl.slice(0,10)=="0123456789",Cl=Wl;else throw Error(bignumberError+Rl+" invalid: "+Wl)}else throw Error(bignumberError+"Object expected: "+ps);return{DECIMAL_PLACES:Ao,ROUNDING_MODE:Lo,EXPONENTIAL_AT:[Wo,jo],RANGE:[zo,Vo],CRYPTO:Go,MODULO_MODE:Jo,POW_PRECISION:Qo,FORMAT:os,ALPHABET:Cl}},ds.isBigNumber=function(ps){if(!ps||ps._isBigNumber!==!0)return!1;if(!ds.DEBUG)return!0;var Rl,Wl,Nl=ps.c,wl=ps.e,Xo=ps.s;e:if({}.toString.call(Nl)=="[object Array]"){if((Xo===1||Xo===-1)&&wl>=-MAX&&wl<=MAX&&wl===mathfloor(wl)){if(Nl[0]===0){if(wl===0&&Nl.length===1)return!0;break e}if(Rl=(wl+1)%LOG_BASE,Rl<1&&(Rl+=LOG_BASE),String(Nl[0]).length==Rl){for(Rl=0;Rl<Nl.length;Rl++)if(Wl=Nl[Rl],Wl<0||Wl>=BASE||Wl!==mathfloor(Wl))break e;if(Wl!==0)return!0}}}else if(Nl===null&&wl===null&&(Xo===null||Xo===1||Xo===-1))return!0;throw Error(bignumberError+"Invalid BigNumber: "+ps)},ds.maximum=ds.max=function(){return $l(arguments,-1)},ds.minimum=ds.min=function(){return $l(arguments,1)},ds.random=function(){var ps=9007199254740992,Rl=Math.random()*ps&2097151?function(){return mathfloor(Math.random()*ps)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(Wl){var Nl,wl,Xo,rs,as,El=0,Pl=[],Sl=new ds($o);if(Wl==null?Wl=Ao:intCheck(Wl,0,MAX),rs=mathceil(Wl/LOG_BASE),Go)if(crypto.getRandomValues){for(Nl=crypto.getRandomValues(new Uint32Array(rs*=2));El<rs;)as=Nl[El]*131072+(Nl[El+1]>>>11),as>=9e15?(wl=crypto.getRandomValues(new Uint32Array(2)),Nl[El]=wl[0],Nl[El+1]=wl[1]):(Pl.push(as%1e14),El+=2);El=rs/2}else if(crypto.randomBytes){for(Nl=crypto.randomBytes(rs*=7);El<rs;)as=(Nl[El]&31)*281474976710656+Nl[El+1]*1099511627776+Nl[El+2]*4294967296+Nl[El+3]*16777216+(Nl[El+4]<<16)+(Nl[El+5]<<8)+Nl[El+6],as>=9e15?crypto.randomBytes(7).copy(Nl,El):(Pl.push(as%1e14),El+=7);El=rs/7}else throw Go=!1,Error(bignumberError+"crypto unavailable");if(!Go)for(;El<rs;)as=Rl(),as<9e15&&(Pl[El++]=as%1e14);for(rs=Pl[--El],Wl%=LOG_BASE,rs&&Wl&&(as=POWS_TEN[LOG_BASE-Wl],Pl[El]=mathfloor(rs/as)*as);Pl[El]===0;Pl.pop(),El--);if(El<0)Pl=[Xo=0];else{for(Xo=-1;Pl[0]===0;Pl.splice(0,1),Xo-=LOG_BASE);for(El=1,as=Pl[0];as>=10;as/=10,El++);El<LOG_BASE&&(Xo-=LOG_BASE-El)}return Sl.e=Xo,Sl.c=Pl,Sl}}(),ds.sum=function(){for(var ps=1,Rl=arguments,Wl=new ds(Rl[0]);ps<Rl.length;)Wl=Wl.plus(Rl[ps++]);return Wl},io=function(){var ps="0123456789";function Rl(Wl,Nl,wl,Xo){for(var rs,as=[0],El,Pl=0,Sl=Wl.length;Pl<Sl;){for(El=as.length;El--;as[El]*=Nl);for(as[0]+=Xo.indexOf(Wl.charAt(Pl++)),rs=0;rs<as.length;rs++)as[rs]>wl-1&&(as[rs+1]==null&&(as[rs+1]=0),as[rs+1]+=as[rs]/wl|0,as[rs]%=wl)}return as.reverse()}return function(Wl,Nl,wl,Xo,rs){var as,El,Pl,Sl,Tl,hs,yl,Fl,Xl=Wl.indexOf("."),bu=Ao,Ul=Lo;for(Xl>=0&&(Sl=Qo,Qo=0,Wl=Wl.replace(".",""),Fl=new ds(Nl),hs=Fl.pow(Wl.length-Xl),Qo=Sl,Fl.c=Rl(toFixedPoint(coeffToString(hs.c),hs.e,"0"),10,wl,ps),Fl.e=Fl.c.length),yl=Rl(Wl,Nl,wl,rs?(as=Cl,ps):(as=ps,Cl)),Pl=Sl=yl.length;yl[--Sl]==0;yl.pop());if(!yl[0])return as.charAt(0);if(Xl<0?--Pl:(hs.c=yl,hs.e=Pl,hs.s=Xo,hs=Mn(hs,Fl,bu,Ul,wl),yl=hs.c,Tl=hs.r,Pl=hs.e),El=Pl+bu+1,Xl=yl[El],Sl=wl/2,Tl=Tl||El<0||yl[El+1]!=null,Tl=Ul<4?(Xl!=null||Tl)&&(Ul==0||Ul==(hs.s<0?3:2)):Xl>Sl||Xl==Sl&&(Ul==4||Tl||Ul==6&&yl[El-1]&1||Ul==(hs.s<0?8:7)),El<1||!yl[0])Wl=Tl?toFixedPoint(as.charAt(1),-bu,as.charAt(0)):as.charAt(0);else{if(yl.length=El,Tl)for(--wl;++yl[--El]>wl;)yl[El]=0,El||(++Pl,yl=[1].concat(yl));for(Sl=yl.length;!yl[--Sl];);for(Xl=0,Wl="";Xl<=Sl;Wl+=as.charAt(yl[Xl++]));Wl=toFixedPoint(Wl,Pl,as.charAt(0))}return Wl}}(),Mn=function(){function ps(Nl,wl,Xo){var rs,as,El,Pl,Sl=0,Tl=Nl.length,hs=wl%SQRT_BASE,yl=wl/SQRT_BASE|0;for(Nl=Nl.slice();Tl--;)El=Nl[Tl]%SQRT_BASE,Pl=Nl[Tl]/SQRT_BASE|0,rs=yl*El+Pl*hs,as=hs*El+rs%SQRT_BASE*SQRT_BASE+Sl,Sl=(as/Xo|0)+(rs/SQRT_BASE|0)+yl*Pl,Nl[Tl]=as%Xo;return Sl&&(Nl=[Sl].concat(Nl)),Nl}function Rl(Nl,wl,Xo,rs){var as,El;if(Xo!=rs)El=Xo>rs?1:-1;else for(as=El=0;as<Xo;as++)if(Nl[as]!=wl[as]){El=Nl[as]>wl[as]?1:-1;break}return El}function Wl(Nl,wl,Xo,rs){for(var as=0;Xo--;)Nl[Xo]-=as,as=Nl[Xo]<wl[Xo]?1:0,Nl[Xo]=as*rs+Nl[Xo]-wl[Xo];for(;!Nl[0]&&Nl.length>1;Nl.splice(0,1));}return function(Nl,wl,Xo,rs,as){var El,Pl,Sl,Tl,hs,yl,Fl,Xl,bu,Ul,yu,Vl,Jl,Ql,Ol,Zl,rp,op=Nl.s==wl.s?1:-1,lp=Nl.c,hp=wl.c;if(!lp||!lp[0]||!hp||!hp[0])return new ds(!Nl.s||!wl.s||(lp?hp&&lp[0]==hp[0]:!hp)?NaN:lp&&lp[0]==0||!hp?op*0:op/0);for(Xl=new ds(op),bu=Xl.c=[],Pl=Nl.e-wl.e,op=Xo+Pl+1,as||(as=BASE,Pl=bitFloor(Nl.e/LOG_BASE)-bitFloor(wl.e/LOG_BASE),op=op/LOG_BASE|0),Sl=0;hp[Sl]==(lp[Sl]||0);Sl++);if(hp[Sl]>(lp[Sl]||0)&&Pl--,op<0)bu.push(1),Tl=!0;else{for(Ql=lp.length,Zl=hp.length,Sl=0,op+=2,hs=mathfloor(as/(hp[0]+1)),hs>1&&(hp=ps(hp,hs,as),lp=ps(lp,hs,as),Zl=hp.length,Ql=lp.length),Jl=Zl,Ul=lp.slice(0,Zl),yu=Ul.length;yu<Zl;Ul[yu++]=0);rp=hp.slice(),rp=[0].concat(rp),Ol=hp[0],hp[1]>=as/2&&Ol++;do{if(hs=0,El=Rl(hp,Ul,Zl,yu),El<0){if(Vl=Ul[0],Zl!=yu&&(Vl=Vl*as+(Ul[1]||0)),hs=mathfloor(Vl/Ol),hs>1)for(hs>=as&&(hs=as-1),yl=ps(hp,hs,as),Fl=yl.length,yu=Ul.length;Rl(yl,Ul,Fl,yu)==1;)hs--,Wl(yl,Zl<Fl?rp:hp,Fl,as),Fl=yl.length,El=1;else hs==0&&(El=hs=1),yl=hp.slice(),Fl=yl.length;if(Fl<yu&&(yl=[0].concat(yl)),Wl(Ul,yl,yu,as),yu=Ul.length,El==-1)for(;Rl(hp,Ul,Zl,yu)<1;)hs++,Wl(Ul,Zl<yu?rp:hp,yu,as),yu=Ul.length}else El===0&&(hs++,Ul=[0]);bu[Sl++]=hs,Ul[0]?Ul[yu++]=lp[Jl]||0:(Ul=[lp[Jl]],yu=1)}while((Jl++<Ql||Ul[0]!=null)&&op--);Tl=Ul[0]!=null,bu[0]||bu.splice(0,1)}if(as==BASE){for(Sl=1,op=bu[0];op>=10;op/=10,Sl++);Il(Xl,Xo+(Xl.e=Sl+Pl*LOG_BASE-1)+1,rs,Tl)}else Xl.e=Pl,Xl.r=+Tl;return Xl}}();function _c(ps,Rl,Wl,Nl){var wl,Xo,rs,as,El;if(Wl==null?Wl=Lo:intCheck(Wl,0,8),!ps.c)return ps.toString();if(wl=ps.c[0],rs=ps.e,Rl==null)El=coeffToString(ps.c),El=Nl==1||Nl==2&&(rs<=Wo||rs>=jo)?toExponential(El,rs):toFixedPoint(El,rs,"0");else if(ps=Il(new ds(ps),Rl,Wl),Xo=ps.e,El=coeffToString(ps.c),as=El.length,Nl==1||Nl==2&&(Rl<=Xo||Xo<=Wo)){for(;as<Rl;El+="0",as++);El=toExponential(El,Xo)}else if(Rl-=rs,El=toFixedPoint(El,Xo,"0"),Xo+1>as){if(--Rl>0)for(El+=".";Rl--;El+="0");}else if(Rl+=Xo-as,Rl>0)for(Xo+1==as&&(El+=".");Rl--;El+="0");return ps.s<0&&wl?"-"+El:El}function $l(ps,Rl){for(var Wl,Nl,wl=1,Xo=new ds(ps[0]);wl<ps.length;wl++)Nl=new ds(ps[wl]),(!Nl.s||(Wl=compare$3(Xo,Nl))===Rl||Wl===0&&Xo.s===Rl)&&(Xo=Nl);return Xo}function Al(ps,Rl,Wl){for(var Nl=1,wl=Rl.length;!Rl[--wl];Rl.pop());for(wl=Rl[0];wl>=10;wl/=10,Nl++);return(Wl=Nl+Wl*LOG_BASE-1)>Vo?ps.c=ps.e=null:Wl<zo?ps.c=[ps.e=0]:(ps.e=Wl,ps.c=Rl),ps}fo=function(){var ps=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Rl=/^([^.]+)\.$/,Wl=/^\.([^.]+)$/,Nl=/^-?(Infinity|NaN)$/,wl=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Xo,rs,as,El){var Pl,Sl=as?rs:rs.replace(wl,"");if(Nl.test(Sl))Xo.s=isNaN(Sl)?null:Sl<0?-1:1;else{if(!as&&(Sl=Sl.replace(ps,function(Tl,hs,yl){return Pl=(yl=yl.toLowerCase())=="x"?16:yl=="b"?2:8,!El||El==Pl?hs:Tl}),El&&(Pl=El,Sl=Sl.replace(Rl,"$1").replace(Wl,"0.$1")),rs!=Sl))return new ds(Sl,Pl);if(ds.DEBUG)throw Error(bignumberError+"Not a"+(El?" base "+El:"")+" number: "+rs);Xo.s=null}Xo.c=Xo.e=null}}();function Il(ps,Rl,Wl,Nl){var wl,Xo,rs,as,El,Pl,Sl,Tl=ps.c,hs=POWS_TEN;if(Tl){e:{for(wl=1,as=Tl[0];as>=10;as/=10,wl++);if(Xo=Rl-wl,Xo<0)Xo+=LOG_BASE,rs=Rl,El=Tl[Pl=0],Sl=mathfloor(El/hs[wl-rs-1]%10);else if(Pl=mathceil((Xo+1)/LOG_BASE),Pl>=Tl.length)if(Nl){for(;Tl.length<=Pl;Tl.push(0));El=Sl=0,wl=1,Xo%=LOG_BASE,rs=Xo-LOG_BASE+1}else break e;else{for(El=as=Tl[Pl],wl=1;as>=10;as/=10,wl++);Xo%=LOG_BASE,rs=Xo-LOG_BASE+wl,Sl=rs<0?0:mathfloor(El/hs[wl-rs-1]%10)}if(Nl=Nl||Rl<0||Tl[Pl+1]!=null||(rs<0?El:El%hs[wl-rs-1]),Nl=Wl<4?(Sl||Nl)&&(Wl==0||Wl==(ps.s<0?3:2)):Sl>5||Sl==5&&(Wl==4||Nl||Wl==6&&(Xo>0?rs>0?El/hs[wl-rs]:0:Tl[Pl-1])%10&1||Wl==(ps.s<0?8:7)),Rl<1||!Tl[0])return Tl.length=0,Nl?(Rl-=ps.e+1,Tl[0]=hs[(LOG_BASE-Rl%LOG_BASE)%LOG_BASE],ps.e=-Rl||0):Tl[0]=ps.e=0,ps;if(Xo==0?(Tl.length=Pl,as=1,Pl--):(Tl.length=Pl+1,as=hs[LOG_BASE-Xo],Tl[Pl]=rs>0?mathfloor(El/hs[wl-rs]%hs[rs])*as:0),Nl)for(;;)if(Pl==0){for(Xo=1,rs=Tl[0];rs>=10;rs/=10,Xo++);for(rs=Tl[0]+=as,as=1;rs>=10;rs/=10,as++);Xo!=as&&(ps.e++,Tl[0]==BASE&&(Tl[0]=1));break}else{if(Tl[Pl]+=as,Tl[Pl]!=BASE)break;Tl[Pl--]=0,as=1}for(Xo=Tl.length;Tl[--Xo]===0;Tl.pop());}ps.e>Vo?ps.c=ps.e=null:ps.e<zo&&(ps.c=[ps.e=0])}return ps}function us(ps){var Rl,Wl=ps.e;return Wl===null?ps.toString():(Rl=coeffToString(ps.c),Rl=Wl<=Wo||Wl>=jo?toExponential(Rl,Wl):toFixedPoint(Rl,Wl,"0"),ps.s<0?"-"+Rl:Rl)}return mo.absoluteValue=mo.abs=function(){var ps=new ds(this);return ps.s<0&&(ps.s=1),ps},mo.comparedTo=function(ps,Rl){return compare$3(this,new ds(ps,Rl))},mo.decimalPlaces=mo.dp=function(ps,Rl){var Wl,Nl,wl,Xo=this;if(ps!=null)return intCheck(ps,0,MAX),Rl==null?Rl=Lo:intCheck(Rl,0,8),Il(new ds(Xo),ps+Xo.e+1,Rl);if(!(Wl=Xo.c))return null;if(Nl=((wl=Wl.length-1)-bitFloor(this.e/LOG_BASE))*LOG_BASE,wl=Wl[wl])for(;wl%10==0;wl/=10,Nl--);return Nl<0&&(Nl=0),Nl},mo.dividedBy=mo.div=function(ps,Rl){return Mn(this,new ds(ps,Rl),Ao,Lo)},mo.dividedToIntegerBy=mo.idiv=function(ps,Rl){return Mn(this,new ds(ps,Rl),0,1)},mo.exponentiatedBy=mo.pow=function(ps,Rl){var Wl,Nl,wl,Xo,rs,as,El,Pl,Sl,Tl=this;if(ps=new ds(ps),ps.c&&!ps.isInteger())throw Error(bignumberError+"Exponent not an integer: "+us(ps));if(Rl!=null&&(Rl=new ds(Rl)),as=ps.e>14,!Tl.c||!Tl.c[0]||Tl.c[0]==1&&!Tl.e&&Tl.c.length==1||!ps.c||!ps.c[0])return Sl=new ds(Math.pow(+us(Tl),as?ps.s*(2-isOdd(ps)):+us(ps))),Rl?Sl.mod(Rl):Sl;if(El=ps.s<0,Rl){if(Rl.c?!Rl.c[0]:!Rl.s)return new ds(NaN);Nl=!El&&Tl.isInteger()&&Rl.isInteger(),Nl&&(Tl=Tl.mod(Rl))}else{if(ps.e>9&&(Tl.e>0||Tl.e<-1||(Tl.e==0?Tl.c[0]>1||as&&Tl.c[1]>=24e7:Tl.c[0]<8e13||as&&Tl.c[0]<=9999975e7)))return Xo=Tl.s<0&&isOdd(ps)?-0:0,Tl.e>-1&&(Xo=1/Xo),new ds(El?1/Xo:Xo);Qo&&(Xo=mathceil(Qo/LOG_BASE+2))}for(as?(Wl=new ds(.5),El&&(ps.s=1),Pl=isOdd(ps)):(wl=Math.abs(+us(ps)),Pl=wl%2),Sl=new ds($o);;){if(Pl){if(Sl=Sl.times(Tl),!Sl.c)break;Xo?Sl.c.length>Xo&&(Sl.c.length=Xo):Nl&&(Sl=Sl.mod(Rl))}if(wl){if(wl=mathfloor(wl/2),wl===0)break;Pl=wl%2}else if(ps=ps.times(Wl),Il(ps,ps.e+1,1),ps.e>14)Pl=isOdd(ps);else{if(wl=+us(ps),wl===0)break;Pl=wl%2}Tl=Tl.times(Tl),Xo?Tl.c&&Tl.c.length>Xo&&(Tl.c.length=Xo):Nl&&(Tl=Tl.mod(Rl))}return Nl?Sl:(El&&(Sl=$o.div(Sl)),Rl?Sl.mod(Rl):Xo?Il(Sl,Qo,Lo,rs):Sl)},mo.integerValue=function(ps){var Rl=new ds(this);return ps==null?ps=Lo:intCheck(ps,0,8),Il(Rl,Rl.e+1,ps)},mo.isEqualTo=mo.eq=function(ps,Rl){return compare$3(this,new ds(ps,Rl))===0},mo.isFinite=function(){return!!this.c},mo.isGreaterThan=mo.gt=function(ps,Rl){return compare$3(this,new ds(ps,Rl))>0},mo.isGreaterThanOrEqualTo=mo.gte=function(ps,Rl){return(Rl=compare$3(this,new ds(ps,Rl)))===1||Rl===0},mo.isInteger=function(){return!!this.c&&bitFloor(this.e/LOG_BASE)>this.c.length-2},mo.isLessThan=mo.lt=function(ps,Rl){return compare$3(this,new ds(ps,Rl))<0},mo.isLessThanOrEqualTo=mo.lte=function(ps,Rl){return(Rl=compare$3(this,new ds(ps,Rl)))===-1||Rl===0},mo.isNaN=function(){return!this.s},mo.isNegative=function(){return this.s<0},mo.isPositive=function(){return this.s>0},mo.isZero=function(){return!!this.c&&this.c[0]==0},mo.minus=function(ps,Rl){var Wl,Nl,wl,Xo,rs=this,as=rs.s;if(ps=new ds(ps,Rl),Rl=ps.s,!as||!Rl)return new ds(NaN);if(as!=Rl)return ps.s=-Rl,rs.plus(ps);var El=rs.e/LOG_BASE,Pl=ps.e/LOG_BASE,Sl=rs.c,Tl=ps.c;if(!El||!Pl){if(!Sl||!Tl)return Sl?(ps.s=-Rl,ps):new ds(Tl?rs:NaN);if(!Sl[0]||!Tl[0])return Tl[0]?(ps.s=-Rl,ps):new ds(Sl[0]?rs:Lo==3?-0:0)}if(El=bitFloor(El),Pl=bitFloor(Pl),Sl=Sl.slice(),as=El-Pl){for((Xo=as<0)?(as=-as,wl=Sl):(Pl=El,wl=Tl),wl.reverse(),Rl=as;Rl--;wl.push(0));wl.reverse()}else for(Nl=(Xo=(as=Sl.length)<(Rl=Tl.length))?as:Rl,as=Rl=0;Rl<Nl;Rl++)if(Sl[Rl]!=Tl[Rl]){Xo=Sl[Rl]<Tl[Rl];break}if(Xo&&(wl=Sl,Sl=Tl,Tl=wl,ps.s=-ps.s),Rl=(Nl=Tl.length)-(Wl=Sl.length),Rl>0)for(;Rl--;Sl[Wl++]=0);for(Rl=BASE-1;Nl>as;){if(Sl[--Nl]<Tl[Nl]){for(Wl=Nl;Wl&&!Sl[--Wl];Sl[Wl]=Rl);--Sl[Wl],Sl[Nl]+=BASE}Sl[Nl]-=Tl[Nl]}for(;Sl[0]==0;Sl.splice(0,1),--Pl);return Sl[0]?Al(ps,Sl,Pl):(ps.s=Lo==3?-1:1,ps.c=[ps.e=0],ps)},mo.modulo=mo.mod=function(ps,Rl){var Wl,Nl,wl=this;return ps=new ds(ps,Rl),!wl.c||!ps.s||ps.c&&!ps.c[0]?new ds(NaN):!ps.c||wl.c&&!wl.c[0]?new ds(wl):(Jo==9?(Nl=ps.s,ps.s=1,Wl=Mn(wl,ps,0,3),ps.s=Nl,Wl.s*=Nl):Wl=Mn(wl,ps,0,Jo),ps=wl.minus(Wl.times(ps)),!ps.c[0]&&Jo==1&&(ps.s=wl.s),ps)},mo.multipliedBy=mo.times=function(ps,Rl){var Wl,Nl,wl,Xo,rs,as,El,Pl,Sl,Tl,hs,yl,Fl,Xl,bu,Ul=this,yu=Ul.c,Vl=(ps=new ds(ps,Rl)).c;if(!yu||!Vl||!yu[0]||!Vl[0])return!Ul.s||!ps.s||yu&&!yu[0]&&!Vl||Vl&&!Vl[0]&&!yu?ps.c=ps.e=ps.s=null:(ps.s*=Ul.s,!yu||!Vl?ps.c=ps.e=null:(ps.c=[0],ps.e=0)),ps;for(Nl=bitFloor(Ul.e/LOG_BASE)+bitFloor(ps.e/LOG_BASE),ps.s*=Ul.s,El=yu.length,Tl=Vl.length,El<Tl&&(Fl=yu,yu=Vl,Vl=Fl,wl=El,El=Tl,Tl=wl),wl=El+Tl,Fl=[];wl--;Fl.push(0));for(Xl=BASE,bu=SQRT_BASE,wl=Tl;--wl>=0;){for(Wl=0,hs=Vl[wl]%bu,yl=Vl[wl]/bu|0,rs=El,Xo=wl+rs;Xo>wl;)Pl=yu[--rs]%bu,Sl=yu[rs]/bu|0,as=yl*Pl+Sl*hs,Pl=hs*Pl+as%bu*bu+Fl[Xo]+Wl,Wl=(Pl/Xl|0)+(as/bu|0)+yl*Sl,Fl[Xo--]=Pl%Xl;Fl[Xo]=Wl}return Wl?++Nl:Fl.splice(0,1),Al(ps,Fl,Nl)},mo.negated=function(){var ps=new ds(this);return ps.s=-ps.s||null,ps},mo.plus=function(ps,Rl){var Wl,Nl=this,wl=Nl.s;if(ps=new ds(ps,Rl),Rl=ps.s,!wl||!Rl)return new ds(NaN);if(wl!=Rl)return ps.s=-Rl,Nl.minus(ps);var Xo=Nl.e/LOG_BASE,rs=ps.e/LOG_BASE,as=Nl.c,El=ps.c;if(!Xo||!rs){if(!as||!El)return new ds(wl/0);if(!as[0]||!El[0])return El[0]?ps:new ds(as[0]?Nl:wl*0)}if(Xo=bitFloor(Xo),rs=bitFloor(rs),as=as.slice(),wl=Xo-rs){for(wl>0?(rs=Xo,Wl=El):(wl=-wl,Wl=as),Wl.reverse();wl--;Wl.push(0));Wl.reverse()}for(wl=as.length,Rl=El.length,wl-Rl<0&&(Wl=El,El=as,as=Wl,Rl=wl),wl=0;Rl;)wl=(as[--Rl]=as[Rl]+El[Rl]+wl)/BASE|0,as[Rl]=BASE===as[Rl]?0:as[Rl]%BASE;return wl&&(as=[wl].concat(as),++rs),Al(ps,as,rs)},mo.precision=mo.sd=function(ps,Rl){var Wl,Nl,wl,Xo=this;if(ps!=null&&ps!==!!ps)return intCheck(ps,1,MAX),Rl==null?Rl=Lo:intCheck(Rl,0,8),Il(new ds(Xo),ps,Rl);if(!(Wl=Xo.c))return null;if(wl=Wl.length-1,Nl=wl*LOG_BASE+1,wl=Wl[wl]){for(;wl%10==0;wl/=10,Nl--);for(wl=Wl[0];wl>=10;wl/=10,Nl++);}return ps&&Xo.e+1>Nl&&(Nl=Xo.e+1),Nl},mo.shiftedBy=function(ps){return intCheck(ps,-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER),this.times("1e"+ps)},mo.squareRoot=mo.sqrt=function(){var ps,Rl,Wl,Nl,wl,Xo=this,rs=Xo.c,as=Xo.s,El=Xo.e,Pl=Ao+4,Sl=new ds("0.5");if(as!==1||!rs||!rs[0])return new ds(!as||as<0&&(!rs||rs[0])?NaN:rs?Xo:1/0);if(as=Math.sqrt(+us(Xo)),as==0||as==1/0?(Rl=coeffToString(rs),(Rl.length+El)%2==0&&(Rl+="0"),as=Math.sqrt(+Rl),El=bitFloor((El+1)/2)-(El<0||El%2),as==1/0?Rl="5e"+El:(Rl=as.toExponential(),Rl=Rl.slice(0,Rl.indexOf("e")+1)+El),Wl=new ds(Rl)):Wl=new ds(as+""),Wl.c[0]){for(El=Wl.e,as=El+Pl,as<3&&(as=0);;)if(wl=Wl,Wl=Sl.times(wl.plus(Mn(Xo,wl,Pl,1))),coeffToString(wl.c).slice(0,as)===(Rl=coeffToString(Wl.c)).slice(0,as))if(Wl.e<El&&--as,Rl=Rl.slice(as-3,as+1),Rl=="9999"||!Nl&&Rl=="4999"){if(!Nl&&(Il(wl,wl.e+Ao+2,0),wl.times(wl).eq(Xo))){Wl=wl;break}Pl+=4,as+=4,Nl=1}else{(!+Rl||!+Rl.slice(1)&&Rl.charAt(0)=="5")&&(Il(Wl,Wl.e+Ao+2,1),ps=!Wl.times(Wl).eq(Xo));break}}return Il(Wl,Wl.e+Ao+1,Lo,ps)},mo.toExponential=function(ps,Rl){return ps!=null&&(intCheck(ps,0,MAX),ps++),_c(this,ps,Rl,1)},mo.toFixed=function(ps,Rl){return ps!=null&&(intCheck(ps,0,MAX),ps=ps+this.e+1),_c(this,ps,Rl)},mo.toFormat=function(ps,Rl,Wl){var Nl,wl=this;if(Wl==null)ps!=null&&Rl&&typeof Rl=="object"?(Wl=Rl,Rl=null):ps&&typeof ps=="object"?(Wl=ps,ps=Rl=null):Wl=os;else if(typeof Wl!="object")throw Error(bignumberError+"Argument not an object: "+Wl);if(Nl=wl.toFixed(ps,Rl),wl.c){var Xo,rs=Nl.split("."),as=+Wl.groupSize,El=+Wl.secondaryGroupSize,Pl=Wl.groupSeparator||"",Sl=rs[0],Tl=rs[1],hs=wl.s<0,yl=hs?Sl.slice(1):Sl,Fl=yl.length;if(El&&(Xo=as,as=El,El=Xo,Fl-=Xo),as>0&&Fl>0){for(Xo=Fl%as||as,Sl=yl.substr(0,Xo);Xo<Fl;Xo+=as)Sl+=Pl+yl.substr(Xo,as);El>0&&(Sl+=Pl+yl.slice(Xo)),hs&&(Sl="-"+Sl)}Nl=Tl?Sl+(Wl.decimalSeparator||"")+((El=+Wl.fractionGroupSize)?Tl.replace(new RegExp("\\d{"+El+"}\\B","g"),"$&"+(Wl.fractionGroupSeparator||"")):Tl):Sl}return(Wl.prefix||"")+Nl+(Wl.suffix||"")},mo.toFraction=function(ps){var Rl,Wl,Nl,wl,Xo,rs,as,El,Pl,Sl,Tl,hs,yl=this,Fl=yl.c;if(ps!=null&&(as=new ds(ps),!as.isInteger()&&(as.c||as.s!==1)||as.lt($o)))throw Error(bignumberError+"Argument "+(as.isInteger()?"out of range: ":"not an integer: ")+us(as));if(!Fl)return new ds(yl);for(Rl=new ds($o),Pl=Wl=new ds($o),Nl=El=new ds($o),hs=coeffToString(Fl),Xo=Rl.e=hs.length-yl.e-1,Rl.c[0]=POWS_TEN[(rs=Xo%LOG_BASE)<0?LOG_BASE+rs:rs],ps=!ps||as.comparedTo(Rl)>0?Xo>0?Rl:Pl:as,rs=Vo,Vo=1/0,as=new ds(hs),El.c[0]=0;Sl=Mn(as,Rl,0,1),wl=Wl.plus(Sl.times(Nl)),wl.comparedTo(ps)!=1;)Wl=Nl,Nl=wl,Pl=El.plus(Sl.times(wl=Pl)),El=wl,Rl=as.minus(Sl.times(wl=Rl)),as=wl;return wl=Mn(ps.minus(Wl),Nl,0,1),El=El.plus(wl.times(Pl)),Wl=Wl.plus(wl.times(Nl)),El.s=Pl.s=yl.s,Xo=Xo*2,Tl=Mn(Pl,Nl,Xo,Lo).minus(yl).abs().comparedTo(Mn(El,Wl,Xo,Lo).minus(yl).abs())<1?[Pl,Nl]:[El,Wl],Vo=rs,Tl},mo.toNumber=function(){return+us(this)},mo.toPrecision=function(ps,Rl){return ps!=null&&intCheck(ps,1,MAX),_c(this,ps,Rl,2)},mo.toString=function(ps){var Rl,Wl=this,Nl=Wl.s,wl=Wl.e;return wl===null?Nl?(Rl="Infinity",Nl<0&&(Rl="-"+Rl)):Rl="NaN":(ps==null?Rl=wl<=Wo||wl>=jo?toExponential(coeffToString(Wl.c),wl):toFixedPoint(coeffToString(Wl.c),wl,"0"):ps===10&&xl?(Wl=Il(new ds(Wl),Ao+wl+1,Lo),Rl=toFixedPoint(coeffToString(Wl.c),Wl.e,"0")):(intCheck(ps,2,Cl.length,"Base"),Rl=io(toFixedPoint(coeffToString(Wl.c),wl,"0"),10,ps,Nl,!0)),Nl<0&&Wl.c[0]&&(Rl="-"+Rl)),Rl},mo.valueOf=mo.toJSON=function(){return us(this)},mo._isBigNumber=!0,mo[Symbol.toStringTag]="BigNumber",mo[Symbol.for("nodejs.util.inspect.custom")]=mo.valueOf,Fn!=null&&ds.set(Fn),ds}function bitFloor(Fn){var Mn=Fn|0;return Fn>0||Fn===Mn?Mn:Mn-1}function coeffToString(Fn){for(var Mn,io,fo=1,mo=Fn.length,$o=Fn[0]+"";fo<mo;){for(Mn=Fn[fo++]+"",io=LOG_BASE-Mn.length;io--;Mn="0"+Mn);$o+=Mn}for(mo=$o.length;$o.charCodeAt(--mo)===48;);return $o.slice(0,mo+1||1)}function compare$3(Fn,Mn){var io,fo,mo=Fn.c,$o=Mn.c,Ao=Fn.s,Lo=Mn.s,Wo=Fn.e,jo=Mn.e;if(!Ao||!Lo)return null;if(io=mo&&!mo[0],fo=$o&&!$o[0],io||fo)return io?fo?0:-Lo:Ao;if(Ao!=Lo)return Ao;if(io=Ao<0,fo=Wo==jo,!mo||!$o)return fo?0:!mo^io?1:-1;if(!fo)return Wo>jo^io?1:-1;for(Lo=(Wo=mo.length)<(jo=$o.length)?Wo:jo,Ao=0;Ao<Lo;Ao++)if(mo[Ao]!=$o[Ao])return mo[Ao]>$o[Ao]^io?1:-1;return Wo==jo?0:Wo>jo^io?1:-1}function intCheck(Fn,Mn,io,fo){if(Fn<Mn||Fn>io||Fn!==mathfloor(Fn))throw Error(bignumberError+(fo||"Argument")+(typeof Fn=="number"?Fn<Mn||Fn>io?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Fn))}function isOdd(Fn){var Mn=Fn.c.length-1;return bitFloor(Fn.e/LOG_BASE)==Mn&&Fn.c[Mn]%2!=0}function toExponential(Fn,Mn){return(Fn.length>1?Fn.charAt(0)+"."+Fn.slice(1):Fn)+(Mn<0?"e":"e+")+Mn}function toFixedPoint(Fn,Mn,io){var fo,mo;if(Mn<0){for(mo=io+".";++Mn;mo+=io);Fn=mo+Fn}else if(fo=Fn.length,++Mn>fo){for(mo=io,Mn-=fo;--Mn;mo+=io);Fn+=mo}else Mn<fo&&(Fn=Fn.slice(0,Mn)+"."+Fn.slice(Mn));return Fn}var BigNumber=clone();const NumberUtil={bigNumber(Fn){return new BigNumber(Fn)},multiply(Fn,Mn){if(Fn===void 0||Mn===void 0)return BigNumber(0);const io=new BigNumber(Fn),fo=new BigNumber(Mn);return io.multipliedBy(fo)},formatNumberToLocalString(Fn,Mn=2){return Fn===void 0?"0.00":typeof Fn=="number"?Fn.toLocaleString("en-US",{maximumFractionDigits:Mn,minimumFractionDigits:Mn}):parseFloat(Fn).toLocaleString("en-US",{maximumFractionDigits:Mn,minimumFractionDigits:Mn})}},InputUtil={numericInputKeyDown(Fn,Mn,io){const fo=["Backspace","Meta","Ctrl","a","A","c","C","x","X","v","V","ArrowLeft","ArrowRight","Tab"],mo=Fn.metaKey||Fn.ctrlKey,$o=Fn.key,Ao=$o.toLocaleLowerCase(),Lo=Ao==="a",Wo=Ao==="c",jo=Ao==="v",zo=Ao==="x",Vo=$o===",",Go=$o===".",Jo=$o>="0"&&$o<="9";!mo&&(Lo||Wo||jo||zo)&&Fn.preventDefault(),Mn==="0"&&!Vo&&!Go&&$o==="0"&&Fn.preventDefault(),Mn==="0"&&Jo&&(io($o),Fn.preventDefault()),(Vo||Go)&&(Mn||(io("0."),Fn.preventDefault()),(Mn!=null&&Mn.includes(".")||Mn!=null&&Mn.includes(","))&&Fn.preventDefault()),!Jo&&!fo.includes($o)&&!Go&&!Vo&&Fn.preventDefault()}},erc20ABI=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],usdtABI=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],ConstantsUtil$3={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot"},CHAIN_NAME_MAP:{eip155:"Ethereum",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"]},ContractUtil={getERC20Abi:Fn=>ConstantsUtil$3.USDT_CONTRACT_ADDRESSES.includes(Fn)?usdtABI:erc20ABI},NavigationUtil={URLS:{FAQ:"https://walletconnect.com/faq"}},SafeLocalStorageKeys={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_CONNECTOR:"@appkit/connected_connector",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit/connected_social_username",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",CONNECTED_NAMESPACE:"@appkit/connected_namespace"},SafeLocalStorage={setItem(Fn,Mn){isSafe$1()&&localStorage.setItem(Fn,Mn)},getItem(Fn){if(isSafe$1())return localStorage.getItem(Fn)||void 0},removeItem(Fn){isSafe$1()&&localStorage.removeItem(Fn)},clear(){isSafe$1()&&localStorage.clear()}};function isSafe$1(){return typeof window<"u"&&typeof localStorage<"u"}function getW3mThemeVariables(Fn,Mn){return Mn==="light"?{"--w3m-accent":(Fn==null?void 0:Fn["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(Fn==null?void 0:Fn["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}function isReownName(Fn){return(Fn==null?void 0:Fn.endsWith(ConstantsUtil$3.WC_NAME_SUFFIX_LEGACY))||(Fn==null?void 0:Fn.endsWith(ConstantsUtil$3.WC_NAME_SUFFIX))}const SECURE_SITE="https://secure.walletconnect.org",ONRAMP_PROVIDERS=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],MELD_PROD_PUBLIC_KEY="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",ConstantsUtil$2={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE,SECURE_SITE_DASHBOARD:`${SECURE_SITE}/dashboard`,SECURE_SITE_FAVICON:`${SECURE_SITE}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1}},CoreHelperUtil={isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(Fn,Mn=""){return Fn==null?void 0:Fn.caipNetworkId.toLocaleLowerCase().includes(Mn.toLowerCase())},isAndroid(){const Fn=window.navigator.userAgent.toLowerCase();return CoreHelperUtil.isMobile()&&Fn.includes("android")},isIos(){const Fn=window.navigator.userAgent.toLowerCase();return CoreHelperUtil.isMobile()&&(Fn.includes("iphone")||Fn.includes("ipad"))},isClient(){return typeof window<"u"},isPairingExpired(Fn){return Fn?Fn-Date.now()<=ConstantsUtil$2.TEN_SEC_MS:!0},isAllowedRetry(Fn,Mn=ConstantsUtil$2.ONE_SEC_MS){return Date.now()-Fn>=Mn},copyToClopboard(Fn){navigator.clipboard.writeText(Fn)},getPairingExpiry(){return Date.now()+ConstantsUtil$2.FOUR_MINUTES_MS},getNetworkId(Fn){return Fn==null?void 0:Fn.split(":")[1]},getPlainAddress(Fn){return Fn==null?void 0:Fn.split(":")[2]},async wait(Fn){return new Promise(Mn=>{setTimeout(Mn,Fn)})},debounce(Fn,Mn=500){let io;return(...fo)=>{function mo(){Fn(...fo)}io&&clearTimeout(io),io=setTimeout(mo,Mn)}},isHttpUrl(Fn){return Fn.startsWith("http://")||Fn.startsWith("https://")},formatNativeUrl(Fn,Mn){if(CoreHelperUtil.isHttpUrl(Fn))return this.formatUniversalUrl(Fn,Mn);let io=Fn;io.includes("://")||(io=Fn.replaceAll("/","").replaceAll(":",""),io=`${io}://`),io.endsWith("/")||(io=`${io}/`),this.isTelegram()&&this.isAndroid()&&(Mn=encodeURIComponent(Mn));const fo=encodeURIComponent(Mn);return{redirect:`${io}wc?uri=${fo}`,href:io}},formatUniversalUrl(Fn,Mn){if(!CoreHelperUtil.isHttpUrl(Fn))return this.formatNativeUrl(Fn,Mn);let io=Fn;io.endsWith("/")||(io=`${io}/`);const fo=encodeURIComponent(Mn);return{redirect:`${io}wc?uri=${fo}`,href:io}},getOpenTargetForPlatform(Fn){return this.isTelegram()?"_blank":Fn},openHref(Fn,Mn,io){window.open(Fn,this.getOpenTargetForPlatform(Mn),io||"noreferrer noopener")},returnOpenHref(Fn,Mn,io){return window.open(Fn,this.getOpenTargetForPlatform(Mn),io||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},async preloadImage(Fn){const Mn=new Promise((io,fo)=>{const mo=new Image;mo.onload=io,mo.onerror=fo,mo.crossOrigin="anonymous",mo.src=Fn});return Promise.race([Mn,CoreHelperUtil.wait(2e3)])},formatBalance(Fn,Mn){let io="0.000";if(typeof Fn=="string"){const fo=Number(Fn);if(fo){const mo=Math.floor(fo*1e3)/1e3;mo&&(io=mo.toString())}}return`${io}${Mn?` ${Mn}`:""}`},formatBalance2(Fn,Mn){var fo;let io;if(Fn==="0")io="0";else if(typeof Fn=="string"){const mo=Number(Fn);mo&&(io=(fo=mo.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:fo[0])}return{value:io??"0",rest:io==="0"?"000":"",symbol:Mn}},getApiUrl(){return ConstantsUtil$3.W3M_API_URL},getBlockchainApiUrl(){return ConstantsUtil$3.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return ConstantsUtil$3.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,Fn=>{const Mn=Math.random()*16|0;return(Fn==="x"?Mn:Mn&3|8).toString(16)})},parseError(Fn){var Mn,io;return typeof Fn=="string"?Fn:typeof((io=(Mn=Fn==null?void 0:Fn.issues)==null?void 0:Mn[0])==null?void 0:io.message)=="string"?Fn.issues[0].message:Fn instanceof Error?Fn.message:"Unknown error"},sortRequestedNetworks(Fn,Mn=[]){const io={};return Mn&&Fn&&(Fn.forEach((fo,mo)=>{io[fo]=mo}),Mn.sort((fo,mo)=>{const $o=io[fo.id],Ao=io[mo.id];return $o!==void 0&&Ao!==void 0?$o-Ao:$o!==void 0?-1:Ao!==void 0?1:0})),Mn},calculateBalance(Fn){let Mn=0;for(const io of Fn)Mn+=io.value??0;return Mn},formatTokenBalance(Fn){const Mn=Fn.toFixed(2),[io,fo]=Mn.split(".");return{dollars:io,pennies:fo}},isAddress(Fn,Mn="eip155"){switch(Mn){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(Fn)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(Fn)||/^(?:0x)?[0-9A-F]{40}$/iu.test(Fn))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(Fn);default:return!1}},uniqueBy(Fn,Mn){const io=new Set;return Fn.filter(fo=>{const mo=fo[Mn];return io.has(mo)?!1:(io.add(mo),!0)})},generateSdkVersion(Fn,Mn,io){const mo=Fn.length===0?"universal":Fn.map($o=>$o.adapterType).join(",");return`${Mn}-${mo}-${io}`}};async function fetchData(...Fn){const Mn=await fetch(...Fn);if(!Mn.ok)throw new Error(`HTTP status code: ${Mn.status}`,{cause:Mn});return Mn}class FetchUtil{constructor({baseUrl:Mn,clientId:io}){this.baseUrl=Mn,this.clientId=io}async get({headers:Mn,signal:io,cache:fo,...mo}){const $o=this.createUrl(mo);return(await fetchData($o,{method:"GET",headers:Mn,signal:io,cache:fo})).json()}async getBlob({headers:Mn,signal:io,...fo}){const mo=this.createUrl(fo);return(await fetchData(mo,{method:"GET",headers:Mn,signal:io})).blob()}async post({body:Mn,headers:io,signal:fo,...mo}){const $o=this.createUrl(mo);return(await fetchData($o,{method:"POST",headers:io,body:Mn?JSON.stringify(Mn):void 0,signal:fo})).json()}async put({body:Mn,headers:io,signal:fo,...mo}){const $o=this.createUrl(mo);return(await fetchData($o,{method:"PUT",headers:io,body:Mn?JSON.stringify(Mn):void 0,signal:fo})).json()}async delete({body:Mn,headers:io,signal:fo,...mo}){const $o=this.createUrl(mo);return(await fetchData($o,{method:"DELETE",headers:io,body:Mn?JSON.stringify(Mn):void 0,signal:fo})).json()}createUrl({path:Mn,params:io}){const fo=new URL(Mn,this.baseUrl);return io&&Object.entries(io).forEach(([mo,$o])=>{$o&&fo.searchParams.append(mo,$o)}),this.clientId&&fo.searchParams.append("clientId",this.clientId),fo}}const state$l=proxy({features:ConstantsUtil$2.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined"}),OptionsController={state:state$l,subscribeKey(Fn,Mn){return subscribeKey(state$l,Fn,Mn)},setOptions(Fn){Object.assign(state$l,Fn)},setFeatures(Fn){Fn&&Object.entries(Fn).forEach(([Mn,io])=>{state$l.features||(state$l.features=ConstantsUtil$2.DEFAULT_FEATURES),Mn in state$l.features&&(state$l.features[Mn]=io)})},setProjectId(Fn){state$l.projectId=Fn},setAllWallets(Fn){state$l.allWallets=Fn},setIncludeWalletIds(Fn){state$l.includeWalletIds=Fn},setExcludeWalletIds(Fn){state$l.excludeWalletIds=Fn},setFeaturedWalletIds(Fn){state$l.featuredWalletIds=Fn},setTokens(Fn){state$l.tokens=Fn},setTermsConditionsUrl(Fn){state$l.termsConditionsUrl=Fn},setPrivacyPolicyUrl(Fn){state$l.privacyPolicyUrl=Fn},setCustomWallets(Fn){state$l.customWallets=Fn},setIsSiweEnabled(Fn){state$l.isSiweEnabled=Fn},setIsUniversalProvider(Fn){state$l.isUniversalProvider=Fn},setSdkVersion(Fn){state$l.sdkVersion=Fn},setMetadata(Fn){state$l.metadata=Fn},setDisableAppend(Fn){state$l.disableAppend=Fn},setEIP6963Enabled(Fn){state$l.enableEIP6963=Fn},setDebug(Fn){state$l.debug=Fn},setEnableWalletConnect(Fn){state$l.enableWalletConnect=Fn},setEnableWallets(Fn){state$l.enableWallets=Fn},setHasMultipleAddresses(Fn){state$l.hasMultipleAddresses=Fn},setSIWX(Fn){state$l.siwx=Fn}},DEFAULT_OPTIONS={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},baseUrl$2=CoreHelperUtil.getBlockchainApiUrl(),state$k=proxy({clientId:null,api:new FetchUtil({baseUrl:baseUrl$2,clientId:null})}),BlockchainApiController={state:state$k,fetchIdentity({address:Fn}){return state$k.api.get({path:`/v1/identity/${Fn}`,params:{projectId:OptionsController.state.projectId,sender:ChainController.state.activeCaipAddress?CoreHelperUtil.getPlainAddress(ChainController.state.activeCaipAddress):void 0}})},fetchTransactions({account:Fn,projectId:Mn,cursor:io,onramp:fo,signal:mo,cache:$o,chainId:Ao}){return state$k.api.get({path:`/v1/account/${Fn}/history`,params:{projectId:Mn,cursor:io,onramp:fo,chainId:Ao},signal:mo,cache:$o})},fetchSwapQuote({projectId:Fn,amount:Mn,userAddress:io,from:fo,to:mo,gasPrice:$o}){return state$k.api.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{projectId:Fn,amount:Mn,userAddress:io,from:fo,to:mo,gasPrice:$o}})},fetchSwapTokens({projectId:Fn,chainId:Mn}){return state$k.api.get({path:"/v1/convert/tokens",params:{projectId:Fn,chainId:Mn}})},fetchTokenPrice({projectId:Fn,addresses:Mn}){return state$k.api.post({path:"/v1/fungible/price",body:{projectId:Fn,currency:"usd",addresses:Mn},headers:{"Content-Type":"application/json"}})},fetchSwapAllowance({projectId:Fn,tokenAddress:Mn,userAddress:io}){const{sdkType:fo,sdkVersion:mo}=OptionsController.state;return state$k.api.get({path:"/v1/convert/allowance",params:{projectId:Fn,tokenAddress:Mn,userAddress:io},headers:{"Content-Type":"application/json","x-sdk-type":fo,"x-sdk-version":mo||"html-wagmi-4.2.2"}})},fetchGasPrice({projectId:Fn,chainId:Mn}){const{sdkType:io,sdkVersion:fo}=OptionsController.state;return state$k.api.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json","x-sdk-type":io,"x-sdk-version":fo||"html-wagmi-4.2.2"},params:{projectId:Fn,chainId:Mn}})},generateSwapCalldata({amount:Fn,from:Mn,projectId:io,to:fo,userAddress:mo}){return state$k.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:Fn,eip155:{slippage:ConstantsUtil$2.CONVERT_SLIPPAGE_TOLERANCE},from:Mn,projectId:io,to:fo,userAddress:mo}})},generateApproveCalldata({from:Fn,projectId:Mn,to:io,userAddress:fo}){const{sdkType:mo,sdkVersion:$o}=OptionsController.state;return state$k.api.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json","x-sdk-type":mo,"x-sdk-version":$o||"html-wagmi-4.2.2"},params:{projectId:Mn,userAddress:fo,from:Fn,to:io}})},async getBalance(Fn,Mn,io){const{sdkType:fo,sdkVersion:mo}=OptionsController.state;return state$k.api.get({path:`/v1/account/${Fn}/balance`,headers:{"x-sdk-type":fo,"x-sdk-version":mo||"html-wagmi-4.2.2"},params:{currency:"usd",projectId:OptionsController.state.projectId,chainId:Mn,forceUpdate:io}})},async lookupEnsName(Fn){return state$k.api.get({path:`/v1/profile/account/${Fn}`,params:{projectId:OptionsController.state.projectId,apiVersion:"2"}})},async reverseLookupEnsName({address:Fn}){return state$k.api.get({path:`/v1/profile/reverse/${Fn}`,params:{sender:AccountController.state.address,projectId:OptionsController.state.projectId,apiVersion:"2"}})},async getEnsNameSuggestions(Fn){return state$k.api.get({path:`/v1/profile/suggestions/${Fn}`,params:{projectId:OptionsController.state.projectId,zone:"reown.id"}})},async registerEnsName({coinType:Fn,address:Mn,message:io,signature:fo}){return state$k.api.post({path:"/v1/profile/account",body:{coin_type:Fn,address:Mn,message:io,signature:fo},headers:{"Content-Type":"application/json"}})},async generateOnRampURL({destinationWallets:Fn,partnerUserId:Mn,defaultNetwork:io,purchaseAmount:fo,paymentAmount:mo}){return(await state$k.api.post({path:"/v1/generators/onrampurl",params:{projectId:OptionsController.state.projectId},body:{destinationWallets:Fn,defaultNetwork:io,partnerUserId:Mn,defaultExperience:"buy",presetCryptoAmount:fo,presetFiatAmount:mo}})).url},async getOnrampOptions(){try{return await state$k.api.get({path:"/v1/onramp/options",params:{projectId:OptionsController.state.projectId}})}catch{return DEFAULT_OPTIONS}},async getOnrampQuote({purchaseCurrency:Fn,paymentCurrency:Mn,amount:io,network:fo}){try{return await state$k.api.post({path:"/v1/onramp/quote",params:{projectId:OptionsController.state.projectId},body:{purchaseCurrency:Fn,paymentCurrency:Mn,amount:io,network:fo}})}catch{return{coinbaseFee:{amount:io,currency:Mn.id},networkFee:{amount:io,currency:Mn.id},paymentSubtotal:{amount:io,currency:Mn.id},paymentTotal:{amount:io,currency:Mn.id},purchaseAmount:{amount:io,currency:Mn.id},quoteId:"mocked-quote-id"}}},getSmartSessions(Fn){return state$k.api.get({path:`/v1/sessions/${Fn}`,params:{projectId:OptionsController.state.projectId}})},revokeSmartSession(Fn,Mn,io){return state$k.api.post({path:`/v1/sessions/${Fn}/revoke`,params:{projectId:OptionsController.state.projectId},body:{pci:Mn,signature:io}})},setClientId(Fn){state$k.clientId=Fn,state$k.api=new FetchUtil({baseUrl:baseUrl$2,clientId:Fn})}},state$j=proxy({message:"",variant:"success",svg:void 0,open:!1}),SnackController={state:state$j,subscribeKey(Fn,Mn){return subscribeKey(state$j,Fn,Mn)},showLoading(Fn){this._showMessage({message:Fn,variant:"loading"})},showSuccess(Fn){this._showMessage({message:Fn,variant:"success"})},showSvg(Fn,Mn){this._showMessage({message:Fn,svg:Mn})},showError(Fn){const Mn=CoreHelperUtil.parseError(Fn);this._showMessage({message:Mn,variant:"error"})},hide(){state$j.open=!1},_showMessage({message:Fn,svg:Mn,variant:io="success"}){state$j.open?(state$j.open=!1,setTimeout(()=>{state$j.message=Fn,state$j.variant=io,state$j.svg=Mn,state$j.open=!0},150)):(state$j.message=Fn,state$j.variant=io,state$j.svg=Mn,state$j.open=!0)}},baseUrl$1=CoreHelperUtil.getAnalyticsUrl(),api$2=new FetchUtil({baseUrl:baseUrl$1,clientId:null}),excluded=["MODAL_CREATED"],state$i=proxy({timestamp:Date.now(),data:{type:"track",event:"MODAL_CREATED"}}),EventsController={state:state$i,subscribe(Fn){return subscribe(state$i,()=>Fn(state$i))},_getApiHeaders(){const{projectId:Fn,sdkType:Mn,sdkVersion:io}=OptionsController.state;return{"x-project-id":Fn,"x-sdk-type":Mn,"x-sdk-version":io||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(Fn){try{if(excluded.includes(Fn.data.event)||typeof window>"u")return;await api$2.post({path:"/e",headers:EventsController._getApiHeaders(),body:{eventId:CoreHelperUtil.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Fn.timestamp,props:Fn.data}})}catch{}},sendEvent(Fn){var Mn;state$i.timestamp=Date.now(),state$i.data=Fn,(Mn=OptionsController.state.features)!=null&&Mn.analytics&&EventsController._sendAnalyticsEvent(state$i)}};var buffer$3={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup$1=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code$i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$d=0,len=code$i.length;i$d<len;++i$d)lookup$1[i$d]=code$i[i$d],revLookup[code$i.charCodeAt(i$d)]=i$d;revLookup[45]=62;revLookup[95]=63;function getLens(Fn){var Mn=Fn.length;if(Mn%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var io=Fn.indexOf("=");io===-1&&(io=Mn);var fo=io===Mn?0:4-io%4;return[io,fo]}function byteLength(Fn){var Mn=getLens(Fn),io=Mn[0],fo=Mn[1];return(io+fo)*3/4-fo}function _byteLength(Fn,Mn,io){return(Mn+io)*3/4-io}function toByteArray(Fn){var Mn,io=getLens(Fn),fo=io[0],mo=io[1],$o=new Arr(_byteLength(Fn,fo,mo)),Ao=0,Lo=mo>0?fo-4:fo,Wo;for(Wo=0;Wo<Lo;Wo+=4)Mn=revLookup[Fn.charCodeAt(Wo)]<<18|revLookup[Fn.charCodeAt(Wo+1)]<<12|revLookup[Fn.charCodeAt(Wo+2)]<<6|revLookup[Fn.charCodeAt(Wo+3)],$o[Ao++]=Mn>>16&255,$o[Ao++]=Mn>>8&255,$o[Ao++]=Mn&255;return mo===2&&(Mn=revLookup[Fn.charCodeAt(Wo)]<<2|revLookup[Fn.charCodeAt(Wo+1)]>>4,$o[Ao++]=Mn&255),mo===1&&(Mn=revLookup[Fn.charCodeAt(Wo)]<<10|revLookup[Fn.charCodeAt(Wo+1)]<<4|revLookup[Fn.charCodeAt(Wo+2)]>>2,$o[Ao++]=Mn>>8&255,$o[Ao++]=Mn&255),$o}function tripletToBase64(Fn){return lookup$1[Fn>>18&63]+lookup$1[Fn>>12&63]+lookup$1[Fn>>6&63]+lookup$1[Fn&63]}function encodeChunk(Fn,Mn,io){for(var fo,mo=[],$o=Mn;$o<io;$o+=3)fo=(Fn[$o]<<16&16711680)+(Fn[$o+1]<<8&65280)+(Fn[$o+2]&255),mo.push(tripletToBase64(fo));return mo.join("")}function fromByteArray(Fn){for(var Mn,io=Fn.length,fo=io%3,mo=[],$o=16383,Ao=0,Lo=io-fo;Ao<Lo;Ao+=$o)mo.push(encodeChunk(Fn,Ao,Ao+$o>Lo?Lo:Ao+$o));return fo===1?(Mn=Fn[io-1],mo.push(lookup$1[Mn>>2]+lookup$1[Mn<<4&63]+"==")):fo===2&&(Mn=(Fn[io-2]<<8)+Fn[io-1],mo.push(lookup$1[Mn>>10]+lookup$1[Mn>>4&63]+lookup$1[Mn<<2&63]+"=")),mo.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(Fn,Mn,io,fo,mo){var $o,Ao,Lo=mo*8-fo-1,Wo=(1<<Lo)-1,jo=Wo>>1,zo=-7,Vo=io?mo-1:0,Go=io?-1:1,Jo=Fn[Mn+Vo];for(Vo+=Go,$o=Jo&(1<<-zo)-1,Jo>>=-zo,zo+=Lo;zo>0;$o=$o*256+Fn[Mn+Vo],Vo+=Go,zo-=8);for(Ao=$o&(1<<-zo)-1,$o>>=-zo,zo+=fo;zo>0;Ao=Ao*256+Fn[Mn+Vo],Vo+=Go,zo-=8);if($o===0)$o=1-jo;else{if($o===Wo)return Ao?NaN:(Jo?-1:1)*(1/0);Ao=Ao+Math.pow(2,fo),$o=$o-jo}return(Jo?-1:1)*Ao*Math.pow(2,$o-fo)};ieee754.write=function(Fn,Mn,io,fo,mo,$o){var Ao,Lo,Wo,jo=$o*8-mo-1,zo=(1<<jo)-1,Vo=zo>>1,Go=mo===23?Math.pow(2,-24)-Math.pow(2,-77):0,Jo=fo?0:$o-1,Qo=fo?1:-1,os=Mn<0||Mn===0&&1/Mn<0?1:0;for(Mn=Math.abs(Mn),isNaN(Mn)||Mn===1/0?(Lo=isNaN(Mn)?1:0,Ao=zo):(Ao=Math.floor(Math.log(Mn)/Math.LN2),Mn*(Wo=Math.pow(2,-Ao))<1&&(Ao--,Wo*=2),Ao+Vo>=1?Mn+=Go/Wo:Mn+=Go*Math.pow(2,1-Vo),Mn*Wo>=2&&(Ao++,Wo/=2),Ao+Vo>=zo?(Lo=0,Ao=zo):Ao+Vo>=1?(Lo=(Mn*Wo-1)*Math.pow(2,mo),Ao=Ao+Vo):(Lo=Mn*Math.pow(2,Vo-1)*Math.pow(2,mo),Ao=0));mo>=8;Fn[io+Jo]=Lo&255,Jo+=Qo,Lo/=256,mo-=8);for(Ao=Ao<<mo|Lo,jo+=mo;jo>0;Fn[io+Jo]=Ao&255,Jo+=Qo,Ao/=256,jo-=8);Fn[io+Jo-Qo]|=os*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(Fn){const Mn=base64Js,io=ieee754,fo=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Fn.Buffer=Lo,Fn.SlowBuffer=ds,Fn.INSPECT_MAX_BYTES=50;const mo=2147483647;Fn.kMaxLength=mo,Lo.TYPED_ARRAY_SUPPORT=$o(),!Lo.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function $o(){try{const zl=new Uint8Array(1),Dl={foo:function(){return 42}};return Object.setPrototypeOf(Dl,Uint8Array.prototype),Object.setPrototypeOf(zl,Dl),zl.foo()===42}catch{return!1}}Object.defineProperty(Lo.prototype,"parent",{enumerable:!0,get:function(){if(Lo.isBuffer(this))return this.buffer}}),Object.defineProperty(Lo.prototype,"offset",{enumerable:!0,get:function(){if(Lo.isBuffer(this))return this.byteOffset}});function Ao(zl){if(zl>mo)throw new RangeError('The value "'+zl+'" is invalid for option "size"');const Dl=new Uint8Array(zl);return Object.setPrototypeOf(Dl,Lo.prototype),Dl}function Lo(zl,Dl,Ll){if(typeof zl=="number"){if(typeof Dl=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Vo(zl)}return Wo(zl,Dl,Ll)}Lo.poolSize=8192;function Wo(zl,Dl,Ll){if(typeof zl=="string")return Go(zl,Dl);if(ArrayBuffer.isView(zl))return Qo(zl);if(zl==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof zl);if(wp(zl,ArrayBuffer)||zl&&wp(zl.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(wp(zl,SharedArrayBuffer)||zl&&wp(zl.buffer,SharedArrayBuffer)))return os(zl,Dl,Ll);if(typeof zl=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Gl=zl.valueOf&&zl.valueOf();if(Gl!=null&&Gl!==zl)return Lo.from(Gl,Dl,Ll);const fu=Cl(zl);if(fu)return fu;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof zl[Symbol.toPrimitive]=="function")return Lo.from(zl[Symbol.toPrimitive]("string"),Dl,Ll);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof zl)}Lo.from=function(zl,Dl,Ll){return Wo(zl,Dl,Ll)},Object.setPrototypeOf(Lo.prototype,Uint8Array.prototype),Object.setPrototypeOf(Lo,Uint8Array);function jo(zl){if(typeof zl!="number")throw new TypeError('"size" argument must be of type number');if(zl<0)throw new RangeError('The value "'+zl+'" is invalid for option "size"')}function zo(zl,Dl,Ll){return jo(zl),zl<=0?Ao(zl):Dl!==void 0?typeof Ll=="string"?Ao(zl).fill(Dl,Ll):Ao(zl).fill(Dl):Ao(zl)}Lo.alloc=function(zl,Dl,Ll){return zo(zl,Dl,Ll)};function Vo(zl){return jo(zl),Ao(zl<0?0:xl(zl)|0)}Lo.allocUnsafe=function(zl){return Vo(zl)},Lo.allocUnsafeSlow=function(zl){return Vo(zl)};function Go(zl,Dl){if((typeof Dl!="string"||Dl==="")&&(Dl="utf8"),!Lo.isEncoding(Dl))throw new TypeError("Unknown encoding: "+Dl);const Ll=_c(zl,Dl)|0;let Gl=Ao(Ll);const fu=Gl.write(zl,Dl);return fu!==Ll&&(Gl=Gl.slice(0,fu)),Gl}function Jo(zl){const Dl=zl.length<0?0:xl(zl.length)|0,Ll=Ao(Dl);for(let Gl=0;Gl<Dl;Gl+=1)Ll[Gl]=zl[Gl]&255;return Ll}function Qo(zl){if(wp(zl,Uint8Array)){const Dl=new Uint8Array(zl);return os(Dl.buffer,Dl.byteOffset,Dl.byteLength)}return Jo(zl)}function os(zl,Dl,Ll){if(Dl<0||zl.byteLength<Dl)throw new RangeError('"offset" is outside of buffer bounds');if(zl.byteLength<Dl+(Ll||0))throw new RangeError('"length" is outside of buffer bounds');let Gl;return Dl===void 0&&Ll===void 0?Gl=new Uint8Array(zl):Ll===void 0?Gl=new Uint8Array(zl,Dl):Gl=new Uint8Array(zl,Dl,Ll),Object.setPrototypeOf(Gl,Lo.prototype),Gl}function Cl(zl){if(Lo.isBuffer(zl)){const Dl=xl(zl.length)|0,Ll=Ao(Dl);return Ll.length===0||zl.copy(Ll,0,0,Dl),Ll}if(zl.length!==void 0)return typeof zl.length!="number"||Cp(zl.length)?Ao(0):Jo(zl);if(zl.type==="Buffer"&&Array.isArray(zl.data))return Jo(zl.data)}function xl(zl){if(zl>=mo)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+mo.toString(16)+" bytes");return zl|0}function ds(zl){return+zl!=zl&&(zl=0),Lo.alloc(+zl)}Lo.isBuffer=function(Dl){return Dl!=null&&Dl._isBuffer===!0&&Dl!==Lo.prototype},Lo.compare=function(Dl,Ll){if(wp(Dl,Uint8Array)&&(Dl=Lo.from(Dl,Dl.offset,Dl.byteLength)),wp(Ll,Uint8Array)&&(Ll=Lo.from(Ll,Ll.offset,Ll.byteLength)),!Lo.isBuffer(Dl)||!Lo.isBuffer(Ll))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Dl===Ll)return 0;let Gl=Dl.length,fu=Ll.length;for(let _d=0,sp=Math.min(Gl,fu);_d<sp;++_d)if(Dl[_d]!==Ll[_d]){Gl=Dl[_d],fu=Ll[_d];break}return Gl<fu?-1:fu<Gl?1:0},Lo.isEncoding=function(Dl){switch(String(Dl).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Lo.concat=function(Dl,Ll){if(!Array.isArray(Dl))throw new TypeError('"list" argument must be an Array of Buffers');if(Dl.length===0)return Lo.alloc(0);let Gl;if(Ll===void 0)for(Ll=0,Gl=0;Gl<Dl.length;++Gl)Ll+=Dl[Gl].length;const fu=Lo.allocUnsafe(Ll);let _d=0;for(Gl=0;Gl<Dl.length;++Gl){let sp=Dl[Gl];if(wp(sp,Uint8Array))_d+sp.length>fu.length?(Lo.isBuffer(sp)||(sp=Lo.from(sp)),sp.copy(fu,_d)):Uint8Array.prototype.set.call(fu,sp,_d);else if(Lo.isBuffer(sp))sp.copy(fu,_d);else throw new TypeError('"list" argument must be an Array of Buffers');_d+=sp.length}return fu};function _c(zl,Dl){if(Lo.isBuffer(zl))return zl.length;if(ArrayBuffer.isView(zl)||wp(zl,ArrayBuffer))return zl.byteLength;if(typeof zl!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof zl);const Ll=zl.length,Gl=arguments.length>2&&arguments[2]===!0;if(!Gl&&Ll===0)return 0;let fu=!1;for(;;)switch(Dl){case"ascii":case"latin1":case"binary":return Ll;case"utf8":case"utf-8":return Ip(zl).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ll*2;case"hex":return Ll>>>1;case"base64":return Tp(zl).length;default:if(fu)return Gl?-1:Ip(zl).length;Dl=(""+Dl).toLowerCase(),fu=!0}}Lo.byteLength=_c;function $l(zl,Dl,Ll){let Gl=!1;if((Dl===void 0||Dl<0)&&(Dl=0),Dl>this.length||((Ll===void 0||Ll>this.length)&&(Ll=this.length),Ll<=0)||(Ll>>>=0,Dl>>>=0,Ll<=Dl))return"";for(zl||(zl="utf8");;)switch(zl){case"hex":return Tl(this,Dl,Ll);case"utf8":case"utf-8":return rs(this,Dl,Ll);case"ascii":return Pl(this,Dl,Ll);case"latin1":case"binary":return Sl(this,Dl,Ll);case"base64":return Xo(this,Dl,Ll);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return hs(this,Dl,Ll);default:if(Gl)throw new TypeError("Unknown encoding: "+zl);zl=(zl+"").toLowerCase(),Gl=!0}}Lo.prototype._isBuffer=!0;function Al(zl,Dl,Ll){const Gl=zl[Dl];zl[Dl]=zl[Ll],zl[Ll]=Gl}Lo.prototype.swap16=function(){const Dl=this.length;if(Dl%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Ll=0;Ll<Dl;Ll+=2)Al(this,Ll,Ll+1);return this},Lo.prototype.swap32=function(){const Dl=this.length;if(Dl%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Ll=0;Ll<Dl;Ll+=4)Al(this,Ll,Ll+3),Al(this,Ll+1,Ll+2);return this},Lo.prototype.swap64=function(){const Dl=this.length;if(Dl%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Ll=0;Ll<Dl;Ll+=8)Al(this,Ll,Ll+7),Al(this,Ll+1,Ll+6),Al(this,Ll+2,Ll+5),Al(this,Ll+3,Ll+4);return this},Lo.prototype.toString=function(){const Dl=this.length;return Dl===0?"":arguments.length===0?rs(this,0,Dl):$l.apply(this,arguments)},Lo.prototype.toLocaleString=Lo.prototype.toString,Lo.prototype.equals=function(Dl){if(!Lo.isBuffer(Dl))throw new TypeError("Argument must be a Buffer");return this===Dl?!0:Lo.compare(this,Dl)===0},Lo.prototype.inspect=function(){let Dl="";const Ll=Fn.INSPECT_MAX_BYTES;return Dl=this.toString("hex",0,Ll).replace(/(.{2})/g,"$1 ").trim(),this.length>Ll&&(Dl+=" ... "),"<Buffer "+Dl+">"},fo&&(Lo.prototype[fo]=Lo.prototype.inspect),Lo.prototype.compare=function(Dl,Ll,Gl,fu,_d){if(wp(Dl,Uint8Array)&&(Dl=Lo.from(Dl,Dl.offset,Dl.byteLength)),!Lo.isBuffer(Dl))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Dl);if(Ll===void 0&&(Ll=0),Gl===void 0&&(Gl=Dl?Dl.length:0),fu===void 0&&(fu=0),_d===void 0&&(_d=this.length),Ll<0||Gl>Dl.length||fu<0||_d>this.length)throw new RangeError("out of range index");if(fu>=_d&&Ll>=Gl)return 0;if(fu>=_d)return-1;if(Ll>=Gl)return 1;if(Ll>>>=0,Gl>>>=0,fu>>>=0,_d>>>=0,this===Dl)return 0;let sp=_d-fu,fp=Gl-Ll;const _p=Math.min(sp,fp),Mp=this.slice(fu,_d),Sp=Dl.slice(Ll,Gl);for(let Bp=0;Bp<_p;++Bp)if(Mp[Bp]!==Sp[Bp]){sp=Mp[Bp],fp=Sp[Bp];break}return sp<fp?-1:fp<sp?1:0};function Il(zl,Dl,Ll,Gl,fu){if(zl.length===0)return-1;if(typeof Ll=="string"?(Gl=Ll,Ll=0):Ll>2147483647?Ll=2147483647:Ll<-2147483648&&(Ll=-2147483648),Ll=+Ll,Cp(Ll)&&(Ll=fu?0:zl.length-1),Ll<0&&(Ll=zl.length+Ll),Ll>=zl.length){if(fu)return-1;Ll=zl.length-1}else if(Ll<0)if(fu)Ll=0;else return-1;if(typeof Dl=="string"&&(Dl=Lo.from(Dl,Gl)),Lo.isBuffer(Dl))return Dl.length===0?-1:us(zl,Dl,Ll,Gl,fu);if(typeof Dl=="number")return Dl=Dl&255,typeof Uint8Array.prototype.indexOf=="function"?fu?Uint8Array.prototype.indexOf.call(zl,Dl,Ll):Uint8Array.prototype.lastIndexOf.call(zl,Dl,Ll):us(zl,[Dl],Ll,Gl,fu);throw new TypeError("val must be string, number or Buffer")}function us(zl,Dl,Ll,Gl,fu){let _d=1,sp=zl.length,fp=Dl.length;if(Gl!==void 0&&(Gl=String(Gl).toLowerCase(),Gl==="ucs2"||Gl==="ucs-2"||Gl==="utf16le"||Gl==="utf-16le")){if(zl.length<2||Dl.length<2)return-1;_d=2,sp/=2,fp/=2,Ll/=2}function _p(Sp,Bp){return _d===1?Sp[Bp]:Sp.readUInt16BE(Bp*_d)}let Mp;if(fu){let Sp=-1;for(Mp=Ll;Mp<sp;Mp++)if(_p(zl,Mp)===_p(Dl,Sp===-1?0:Mp-Sp)){if(Sp===-1&&(Sp=Mp),Mp-Sp+1===fp)return Sp*_d}else Sp!==-1&&(Mp-=Mp-Sp),Sp=-1}else for(Ll+fp>sp&&(Ll=sp-fp),Mp=Ll;Mp>=0;Mp--){let Sp=!0;for(let Bp=0;Bp<fp;Bp++)if(_p(zl,Mp+Bp)!==_p(Dl,Bp)){Sp=!1;break}if(Sp)return Mp}return-1}Lo.prototype.includes=function(Dl,Ll,Gl){return this.indexOf(Dl,Ll,Gl)!==-1},Lo.prototype.indexOf=function(Dl,Ll,Gl){return Il(this,Dl,Ll,Gl,!0)},Lo.prototype.lastIndexOf=function(Dl,Ll,Gl){return Il(this,Dl,Ll,Gl,!1)};function ps(zl,Dl,Ll,Gl){Ll=Number(Ll)||0;const fu=zl.length-Ll;Gl?(Gl=Number(Gl),Gl>fu&&(Gl=fu)):Gl=fu;const _d=Dl.length;Gl>_d/2&&(Gl=_d/2);let sp;for(sp=0;sp<Gl;++sp){const fp=parseInt(Dl.substr(sp*2,2),16);if(Cp(fp))return sp;zl[Ll+sp]=fp}return sp}function Rl(zl,Dl,Ll,Gl){return Ap(Ip(Dl,zl.length-Ll),zl,Ll,Gl)}function Wl(zl,Dl,Ll,Gl){return Ap(Ep(Dl),zl,Ll,Gl)}function Nl(zl,Dl,Ll,Gl){return Ap(Tp(Dl),zl,Ll,Gl)}function wl(zl,Dl,Ll,Gl){return Ap(vp(Dl,zl.length-Ll),zl,Ll,Gl)}Lo.prototype.write=function(Dl,Ll,Gl,fu){if(Ll===void 0)fu="utf8",Gl=this.length,Ll=0;else if(Gl===void 0&&typeof Ll=="string")fu=Ll,Gl=this.length,Ll=0;else if(isFinite(Ll))Ll=Ll>>>0,isFinite(Gl)?(Gl=Gl>>>0,fu===void 0&&(fu="utf8")):(fu=Gl,Gl=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const _d=this.length-Ll;if((Gl===void 0||Gl>_d)&&(Gl=_d),Dl.length>0&&(Gl<0||Ll<0)||Ll>this.length)throw new RangeError("Attempt to write outside buffer bounds");fu||(fu="utf8");let sp=!1;for(;;)switch(fu){case"hex":return ps(this,Dl,Ll,Gl);case"utf8":case"utf-8":return Rl(this,Dl,Ll,Gl);case"ascii":case"latin1":case"binary":return Wl(this,Dl,Ll,Gl);case"base64":return Nl(this,Dl,Ll,Gl);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wl(this,Dl,Ll,Gl);default:if(sp)throw new TypeError("Unknown encoding: "+fu);fu=(""+fu).toLowerCase(),sp=!0}},Lo.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Xo(zl,Dl,Ll){return Dl===0&&Ll===zl.length?Mn.fromByteArray(zl):Mn.fromByteArray(zl.slice(Dl,Ll))}function rs(zl,Dl,Ll){Ll=Math.min(zl.length,Ll);const Gl=[];let fu=Dl;for(;fu<Ll;){const _d=zl[fu];let sp=null,fp=_d>239?4:_d>223?3:_d>191?2:1;if(fu+fp<=Ll){let _p,Mp,Sp,Bp;switch(fp){case 1:_d<128&&(sp=_d);break;case 2:_p=zl[fu+1],(_p&192)===128&&(Bp=(_d&31)<<6|_p&63,Bp>127&&(sp=Bp));break;case 3:_p=zl[fu+1],Mp=zl[fu+2],(_p&192)===128&&(Mp&192)===128&&(Bp=(_d&15)<<12|(_p&63)<<6|Mp&63,Bp>2047&&(Bp<55296||Bp>57343)&&(sp=Bp));break;case 4:_p=zl[fu+1],Mp=zl[fu+2],Sp=zl[fu+3],(_p&192)===128&&(Mp&192)===128&&(Sp&192)===128&&(Bp=(_d&15)<<18|(_p&63)<<12|(Mp&63)<<6|Sp&63,Bp>65535&&Bp<1114112&&(sp=Bp))}}sp===null?(sp=65533,fp=1):sp>65535&&(sp-=65536,Gl.push(sp>>>10&1023|55296),sp=56320|sp&1023),Gl.push(sp),fu+=fp}return El(Gl)}const as=4096;function El(zl){const Dl=zl.length;if(Dl<=as)return String.fromCharCode.apply(String,zl);let Ll="",Gl=0;for(;Gl<Dl;)Ll+=String.fromCharCode.apply(String,zl.slice(Gl,Gl+=as));return Ll}function Pl(zl,Dl,Ll){let Gl="";Ll=Math.min(zl.length,Ll);for(let fu=Dl;fu<Ll;++fu)Gl+=String.fromCharCode(zl[fu]&127);return Gl}function Sl(zl,Dl,Ll){let Gl="";Ll=Math.min(zl.length,Ll);for(let fu=Dl;fu<Ll;++fu)Gl+=String.fromCharCode(zl[fu]);return Gl}function Tl(zl,Dl,Ll){const Gl=zl.length;(!Dl||Dl<0)&&(Dl=0),(!Ll||Ll<0||Ll>Gl)&&(Ll=Gl);let fu="";for(let _d=Dl;_d<Ll;++_d)fu+=Rp[zl[_d]];return fu}function hs(zl,Dl,Ll){const Gl=zl.slice(Dl,Ll);let fu="";for(let _d=0;_d<Gl.length-1;_d+=2)fu+=String.fromCharCode(Gl[_d]+Gl[_d+1]*256);return fu}Lo.prototype.slice=function(Dl,Ll){const Gl=this.length;Dl=~~Dl,Ll=Ll===void 0?Gl:~~Ll,Dl<0?(Dl+=Gl,Dl<0&&(Dl=0)):Dl>Gl&&(Dl=Gl),Ll<0?(Ll+=Gl,Ll<0&&(Ll=0)):Ll>Gl&&(Ll=Gl),Ll<Dl&&(Ll=Dl);const fu=this.subarray(Dl,Ll);return Object.setPrototypeOf(fu,Lo.prototype),fu};function yl(zl,Dl,Ll){if(zl%1!==0||zl<0)throw new RangeError("offset is not uint");if(zl+Dl>Ll)throw new RangeError("Trying to access beyond buffer length")}Lo.prototype.readUintLE=Lo.prototype.readUIntLE=function(Dl,Ll,Gl){Dl=Dl>>>0,Ll=Ll>>>0,Gl||yl(Dl,Ll,this.length);let fu=this[Dl],_d=1,sp=0;for(;++sp<Ll&&(_d*=256);)fu+=this[Dl+sp]*_d;return fu},Lo.prototype.readUintBE=Lo.prototype.readUIntBE=function(Dl,Ll,Gl){Dl=Dl>>>0,Ll=Ll>>>0,Gl||yl(Dl,Ll,this.length);let fu=this[Dl+--Ll],_d=1;for(;Ll>0&&(_d*=256);)fu+=this[Dl+--Ll]*_d;return fu},Lo.prototype.readUint8=Lo.prototype.readUInt8=function(Dl,Ll){return Dl=Dl>>>0,Ll||yl(Dl,1,this.length),this[Dl]},Lo.prototype.readUint16LE=Lo.prototype.readUInt16LE=function(Dl,Ll){return Dl=Dl>>>0,Ll||yl(Dl,2,this.length),this[Dl]|this[Dl+1]<<8},Lo.prototype.readUint16BE=Lo.prototype.readUInt16BE=function(Dl,Ll){return Dl=Dl>>>0,Ll||yl(Dl,2,this.length),this[Dl]<<8|this[Dl+1]},Lo.prototype.readUint32LE=Lo.prototype.readUInt32LE=function(Dl,Ll){return Dl=Dl>>>0,Ll||yl(Dl,4,this.length),(this[Dl]|this[Dl+1]<<8|this[Dl+2]<<16)+this[Dl+3]*16777216},Lo.prototype.readUint32BE=Lo.prototype.readUInt32BE=function(Dl,Ll){return Dl=Dl>>>0,Ll||yl(Dl,4,this.length),this[Dl]*16777216+(this[Dl+1]<<16|this[Dl+2]<<8|this[Dl+3])},Lo.prototype.readBigUInt64LE=yp(function(Dl){Dl=Dl>>>0,op(Dl,"offset");const Ll=this[Dl],Gl=this[Dl+7];(Ll===void 0||Gl===void 0)&&lp(Dl,this.length-8);const fu=Ll+this[++Dl]*2**8+this[++Dl]*2**16+this[++Dl]*2**24,_d=this[++Dl]+this[++Dl]*2**8+this[++Dl]*2**16+Gl*2**24;return BigInt(fu)+(BigInt(_d)<<BigInt(32))}),Lo.prototype.readBigUInt64BE=yp(function(Dl){Dl=Dl>>>0,op(Dl,"offset");const Ll=this[Dl],Gl=this[Dl+7];(Ll===void 0||Gl===void 0)&&lp(Dl,this.length-8);const fu=Ll*2**24+this[++Dl]*2**16+this[++Dl]*2**8+this[++Dl],_d=this[++Dl]*2**24+this[++Dl]*2**16+this[++Dl]*2**8+Gl;return(BigInt(fu)<<BigInt(32))+BigInt(_d)}),Lo.prototype.readIntLE=function(Dl,Ll,Gl){Dl=Dl>>>0,Ll=Ll>>>0,Gl||yl(Dl,Ll,this.length);let fu=this[Dl],_d=1,sp=0;for(;++sp<Ll&&(_d*=256);)fu+=this[Dl+sp]*_d;return _d*=128,fu>=_d&&(fu-=Math.pow(2,8*Ll)),fu},Lo.prototype.readIntBE=function(Dl,Ll,Gl){Dl=Dl>>>0,Ll=Ll>>>0,Gl||yl(Dl,Ll,this.length);let fu=Ll,_d=1,sp=this[Dl+--fu];for(;fu>0&&(_d*=256);)sp+=this[Dl+--fu]*_d;return _d*=128,sp>=_d&&(sp-=Math.pow(2,8*Ll)),sp},Lo.prototype.readInt8=function(Dl,Ll){return Dl=Dl>>>0,Ll||yl(Dl,1,this.length),this[Dl]&128?(255-this[Dl]+1)*-1:this[Dl]},Lo.prototype.readInt16LE=function(Dl,Ll){Dl=Dl>>>0,Ll||yl(Dl,2,this.length);const Gl=this[Dl]|this[Dl+1]<<8;return Gl&32768?Gl|4294901760:Gl},Lo.prototype.readInt16BE=function(Dl,Ll){Dl=Dl>>>0,Ll||yl(Dl,2,this.length);const Gl=this[Dl+1]|this[Dl]<<8;return Gl&32768?Gl|4294901760:Gl},Lo.prototype.readInt32LE=function(Dl,Ll){return Dl=Dl>>>0,Ll||yl(Dl,4,this.length),this[Dl]|this[Dl+1]<<8|this[Dl+2]<<16|this[Dl+3]<<24},Lo.prototype.readInt32BE=function(Dl,Ll){return Dl=Dl>>>0,Ll||yl(Dl,4,this.length),this[Dl]<<24|this[Dl+1]<<16|this[Dl+2]<<8|this[Dl+3]},Lo.prototype.readBigInt64LE=yp(function(Dl){Dl=Dl>>>0,op(Dl,"offset");const Ll=this[Dl],Gl=this[Dl+7];(Ll===void 0||Gl===void 0)&&lp(Dl,this.length-8);const fu=this[Dl+4]+this[Dl+5]*2**8+this[Dl+6]*2**16+(Gl<<24);return(BigInt(fu)<<BigInt(32))+BigInt(Ll+this[++Dl]*2**8+this[++Dl]*2**16+this[++Dl]*2**24)}),Lo.prototype.readBigInt64BE=yp(function(Dl){Dl=Dl>>>0,op(Dl,"offset");const Ll=this[Dl],Gl=this[Dl+7];(Ll===void 0||Gl===void 0)&&lp(Dl,this.length-8);const fu=(Ll<<24)+this[++Dl]*2**16+this[++Dl]*2**8+this[++Dl];return(BigInt(fu)<<BigInt(32))+BigInt(this[++Dl]*2**24+this[++Dl]*2**16+this[++Dl]*2**8+Gl)}),Lo.prototype.readFloatLE=function(Dl,Ll){return Dl=Dl>>>0,Ll||yl(Dl,4,this.length),io.read(this,Dl,!0,23,4)},Lo.prototype.readFloatBE=function(Dl,Ll){return Dl=Dl>>>0,Ll||yl(Dl,4,this.length),io.read(this,Dl,!1,23,4)},Lo.prototype.readDoubleLE=function(Dl,Ll){return Dl=Dl>>>0,Ll||yl(Dl,8,this.length),io.read(this,Dl,!0,52,8)},Lo.prototype.readDoubleBE=function(Dl,Ll){return Dl=Dl>>>0,Ll||yl(Dl,8,this.length),io.read(this,Dl,!1,52,8)};function Fl(zl,Dl,Ll,Gl,fu,_d){if(!Lo.isBuffer(zl))throw new TypeError('"buffer" argument must be a Buffer instance');if(Dl>fu||Dl<_d)throw new RangeError('"value" argument is out of bounds');if(Ll+Gl>zl.length)throw new RangeError("Index out of range")}Lo.prototype.writeUintLE=Lo.prototype.writeUIntLE=function(Dl,Ll,Gl,fu){if(Dl=+Dl,Ll=Ll>>>0,Gl=Gl>>>0,!fu){const fp=Math.pow(2,8*Gl)-1;Fl(this,Dl,Ll,Gl,fp,0)}let _d=1,sp=0;for(this[Ll]=Dl&255;++sp<Gl&&(_d*=256);)this[Ll+sp]=Dl/_d&255;return Ll+Gl},Lo.prototype.writeUintBE=Lo.prototype.writeUIntBE=function(Dl,Ll,Gl,fu){if(Dl=+Dl,Ll=Ll>>>0,Gl=Gl>>>0,!fu){const fp=Math.pow(2,8*Gl)-1;Fl(this,Dl,Ll,Gl,fp,0)}let _d=Gl-1,sp=1;for(this[Ll+_d]=Dl&255;--_d>=0&&(sp*=256);)this[Ll+_d]=Dl/sp&255;return Ll+Gl},Lo.prototype.writeUint8=Lo.prototype.writeUInt8=function(Dl,Ll,Gl){return Dl=+Dl,Ll=Ll>>>0,Gl||Fl(this,Dl,Ll,1,255,0),this[Ll]=Dl&255,Ll+1},Lo.prototype.writeUint16LE=Lo.prototype.writeUInt16LE=function(Dl,Ll,Gl){return Dl=+Dl,Ll=Ll>>>0,Gl||Fl(this,Dl,Ll,2,65535,0),this[Ll]=Dl&255,this[Ll+1]=Dl>>>8,Ll+2},Lo.prototype.writeUint16BE=Lo.prototype.writeUInt16BE=function(Dl,Ll,Gl){return Dl=+Dl,Ll=Ll>>>0,Gl||Fl(this,Dl,Ll,2,65535,0),this[Ll]=Dl>>>8,this[Ll+1]=Dl&255,Ll+2},Lo.prototype.writeUint32LE=Lo.prototype.writeUInt32LE=function(Dl,Ll,Gl){return Dl=+Dl,Ll=Ll>>>0,Gl||Fl(this,Dl,Ll,4,4294967295,0),this[Ll+3]=Dl>>>24,this[Ll+2]=Dl>>>16,this[Ll+1]=Dl>>>8,this[Ll]=Dl&255,Ll+4},Lo.prototype.writeUint32BE=Lo.prototype.writeUInt32BE=function(Dl,Ll,Gl){return Dl=+Dl,Ll=Ll>>>0,Gl||Fl(this,Dl,Ll,4,4294967295,0),this[Ll]=Dl>>>24,this[Ll+1]=Dl>>>16,this[Ll+2]=Dl>>>8,this[Ll+3]=Dl&255,Ll+4};function Xl(zl,Dl,Ll,Gl,fu){rp(Dl,Gl,fu,zl,Ll,7);let _d=Number(Dl&BigInt(4294967295));zl[Ll++]=_d,_d=_d>>8,zl[Ll++]=_d,_d=_d>>8,zl[Ll++]=_d,_d=_d>>8,zl[Ll++]=_d;let sp=Number(Dl>>BigInt(32)&BigInt(4294967295));return zl[Ll++]=sp,sp=sp>>8,zl[Ll++]=sp,sp=sp>>8,zl[Ll++]=sp,sp=sp>>8,zl[Ll++]=sp,Ll}function bu(zl,Dl,Ll,Gl,fu){rp(Dl,Gl,fu,zl,Ll,7);let _d=Number(Dl&BigInt(4294967295));zl[Ll+7]=_d,_d=_d>>8,zl[Ll+6]=_d,_d=_d>>8,zl[Ll+5]=_d,_d=_d>>8,zl[Ll+4]=_d;let sp=Number(Dl>>BigInt(32)&BigInt(4294967295));return zl[Ll+3]=sp,sp=sp>>8,zl[Ll+2]=sp,sp=sp>>8,zl[Ll+1]=sp,sp=sp>>8,zl[Ll]=sp,Ll+8}Lo.prototype.writeBigUInt64LE=yp(function(Dl,Ll=0){return Xl(this,Dl,Ll,BigInt(0),BigInt("0xffffffffffffffff"))}),Lo.prototype.writeBigUInt64BE=yp(function(Dl,Ll=0){return bu(this,Dl,Ll,BigInt(0),BigInt("0xffffffffffffffff"))}),Lo.prototype.writeIntLE=function(Dl,Ll,Gl,fu){if(Dl=+Dl,Ll=Ll>>>0,!fu){const _p=Math.pow(2,8*Gl-1);Fl(this,Dl,Ll,Gl,_p-1,-_p)}let _d=0,sp=1,fp=0;for(this[Ll]=Dl&255;++_d<Gl&&(sp*=256);)Dl<0&&fp===0&&this[Ll+_d-1]!==0&&(fp=1),this[Ll+_d]=(Dl/sp>>0)-fp&255;return Ll+Gl},Lo.prototype.writeIntBE=function(Dl,Ll,Gl,fu){if(Dl=+Dl,Ll=Ll>>>0,!fu){const _p=Math.pow(2,8*Gl-1);Fl(this,Dl,Ll,Gl,_p-1,-_p)}let _d=Gl-1,sp=1,fp=0;for(this[Ll+_d]=Dl&255;--_d>=0&&(sp*=256);)Dl<0&&fp===0&&this[Ll+_d+1]!==0&&(fp=1),this[Ll+_d]=(Dl/sp>>0)-fp&255;return Ll+Gl},Lo.prototype.writeInt8=function(Dl,Ll,Gl){return Dl=+Dl,Ll=Ll>>>0,Gl||Fl(this,Dl,Ll,1,127,-128),Dl<0&&(Dl=255+Dl+1),this[Ll]=Dl&255,Ll+1},Lo.prototype.writeInt16LE=function(Dl,Ll,Gl){return Dl=+Dl,Ll=Ll>>>0,Gl||Fl(this,Dl,Ll,2,32767,-32768),this[Ll]=Dl&255,this[Ll+1]=Dl>>>8,Ll+2},Lo.prototype.writeInt16BE=function(Dl,Ll,Gl){return Dl=+Dl,Ll=Ll>>>0,Gl||Fl(this,Dl,Ll,2,32767,-32768),this[Ll]=Dl>>>8,this[Ll+1]=Dl&255,Ll+2},Lo.prototype.writeInt32LE=function(Dl,Ll,Gl){return Dl=+Dl,Ll=Ll>>>0,Gl||Fl(this,Dl,Ll,4,2147483647,-2147483648),this[Ll]=Dl&255,this[Ll+1]=Dl>>>8,this[Ll+2]=Dl>>>16,this[Ll+3]=Dl>>>24,Ll+4},Lo.prototype.writeInt32BE=function(Dl,Ll,Gl){return Dl=+Dl,Ll=Ll>>>0,Gl||Fl(this,Dl,Ll,4,2147483647,-2147483648),Dl<0&&(Dl=4294967295+Dl+1),this[Ll]=Dl>>>24,this[Ll+1]=Dl>>>16,this[Ll+2]=Dl>>>8,this[Ll+3]=Dl&255,Ll+4},Lo.prototype.writeBigInt64LE=yp(function(Dl,Ll=0){return Xl(this,Dl,Ll,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Lo.prototype.writeBigInt64BE=yp(function(Dl,Ll=0){return bu(this,Dl,Ll,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ul(zl,Dl,Ll,Gl,fu,_d){if(Ll+Gl>zl.length)throw new RangeError("Index out of range");if(Ll<0)throw new RangeError("Index out of range")}function yu(zl,Dl,Ll,Gl,fu){return Dl=+Dl,Ll=Ll>>>0,fu||Ul(zl,Dl,Ll,4),io.write(zl,Dl,Ll,Gl,23,4),Ll+4}Lo.prototype.writeFloatLE=function(Dl,Ll,Gl){return yu(this,Dl,Ll,!0,Gl)},Lo.prototype.writeFloatBE=function(Dl,Ll,Gl){return yu(this,Dl,Ll,!1,Gl)};function Vl(zl,Dl,Ll,Gl,fu){return Dl=+Dl,Ll=Ll>>>0,fu||Ul(zl,Dl,Ll,8),io.write(zl,Dl,Ll,Gl,52,8),Ll+8}Lo.prototype.writeDoubleLE=function(Dl,Ll,Gl){return Vl(this,Dl,Ll,!0,Gl)},Lo.prototype.writeDoubleBE=function(Dl,Ll,Gl){return Vl(this,Dl,Ll,!1,Gl)},Lo.prototype.copy=function(Dl,Ll,Gl,fu){if(!Lo.isBuffer(Dl))throw new TypeError("argument should be a Buffer");if(Gl||(Gl=0),!fu&&fu!==0&&(fu=this.length),Ll>=Dl.length&&(Ll=Dl.length),Ll||(Ll=0),fu>0&&fu<Gl&&(fu=Gl),fu===Gl||Dl.length===0||this.length===0)return 0;if(Ll<0)throw new RangeError("targetStart out of bounds");if(Gl<0||Gl>=this.length)throw new RangeError("Index out of range");if(fu<0)throw new RangeError("sourceEnd out of bounds");fu>this.length&&(fu=this.length),Dl.length-Ll<fu-Gl&&(fu=Dl.length-Ll+Gl);const _d=fu-Gl;return this===Dl&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ll,Gl,fu):Uint8Array.prototype.set.call(Dl,this.subarray(Gl,fu),Ll),_d},Lo.prototype.fill=function(Dl,Ll,Gl,fu){if(typeof Dl=="string"){if(typeof Ll=="string"?(fu=Ll,Ll=0,Gl=this.length):typeof Gl=="string"&&(fu=Gl,Gl=this.length),fu!==void 0&&typeof fu!="string")throw new TypeError("encoding must be a string");if(typeof fu=="string"&&!Lo.isEncoding(fu))throw new TypeError("Unknown encoding: "+fu);if(Dl.length===1){const sp=Dl.charCodeAt(0);(fu==="utf8"&&sp<128||fu==="latin1")&&(Dl=sp)}}else typeof Dl=="number"?Dl=Dl&255:typeof Dl=="boolean"&&(Dl=Number(Dl));if(Ll<0||this.length<Ll||this.length<Gl)throw new RangeError("Out of range index");if(Gl<=Ll)return this;Ll=Ll>>>0,Gl=Gl===void 0?this.length:Gl>>>0,Dl||(Dl=0);let _d;if(typeof Dl=="number")for(_d=Ll;_d<Gl;++_d)this[_d]=Dl;else{const sp=Lo.isBuffer(Dl)?Dl:Lo.from(Dl,fu),fp=sp.length;if(fp===0)throw new TypeError('The value "'+Dl+'" is invalid for argument "value"');for(_d=0;_d<Gl-Ll;++_d)this[_d+Ll]=sp[_d%fp]}return this};const Jl={};function Ql(zl,Dl,Ll){Jl[zl]=class extends Ll{constructor(){super(),Object.defineProperty(this,"message",{value:Dl.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${zl}]`,this.stack,delete this.name}get code(){return zl}set code(fu){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:fu,writable:!0})}toString(){return`${this.name} [${zl}]: ${this.message}`}}}Ql("ERR_BUFFER_OUT_OF_BOUNDS",function(zl){return zl?`${zl} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ql("ERR_INVALID_ARG_TYPE",function(zl,Dl){return`The "${zl}" argument must be of type number. Received type ${typeof Dl}`},TypeError),Ql("ERR_OUT_OF_RANGE",function(zl,Dl,Ll){let Gl=`The value of "${zl}" is out of range.`,fu=Ll;return Number.isInteger(Ll)&&Math.abs(Ll)>2**32?fu=Ol(String(Ll)):typeof Ll=="bigint"&&(fu=String(Ll),(Ll>BigInt(2)**BigInt(32)||Ll<-(BigInt(2)**BigInt(32)))&&(fu=Ol(fu)),fu+="n"),Gl+=` It must be ${Dl}. Received ${fu}`,Gl},RangeError);function Ol(zl){let Dl="",Ll=zl.length;const Gl=zl[0]==="-"?1:0;for(;Ll>=Gl+4;Ll-=3)Dl=`_${zl.slice(Ll-3,Ll)}${Dl}`;return`${zl.slice(0,Ll)}${Dl}`}function Zl(zl,Dl,Ll){op(Dl,"offset"),(zl[Dl]===void 0||zl[Dl+Ll]===void 0)&&lp(Dl,zl.length-(Ll+1))}function rp(zl,Dl,Ll,Gl,fu,_d){if(zl>Ll||zl<Dl){const sp=typeof Dl=="bigint"?"n":"";let fp;throw Dl===0||Dl===BigInt(0)?fp=`>= 0${sp} and < 2${sp} ** ${(_d+1)*8}${sp}`:fp=`>= -(2${sp} ** ${(_d+1)*8-1}${sp}) and < 2 ** ${(_d+1)*8-1}${sp}`,new Jl.ERR_OUT_OF_RANGE("value",fp,zl)}Zl(Gl,fu,_d)}function op(zl,Dl){if(typeof zl!="number")throw new Jl.ERR_INVALID_ARG_TYPE(Dl,"number",zl)}function lp(zl,Dl,Ll){throw Math.floor(zl)!==zl?(op(zl,Ll),new Jl.ERR_OUT_OF_RANGE("offset","an integer",zl)):Dl<0?new Jl.ERR_BUFFER_OUT_OF_BOUNDS:new Jl.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Dl}`,zl)}const hp=/[^+/0-9A-Za-z-_]/g;function xp(zl){if(zl=zl.split("=")[0],zl=zl.trim().replace(hp,""),zl.length<2)return"";for(;zl.length%4!==0;)zl=zl+"=";return zl}function Ip(zl,Dl){Dl=Dl||1/0;let Ll;const Gl=zl.length;let fu=null;const _d=[];for(let sp=0;sp<Gl;++sp){if(Ll=zl.charCodeAt(sp),Ll>55295&&Ll<57344){if(!fu){if(Ll>56319){(Dl-=3)>-1&&_d.push(239,191,189);continue}else if(sp+1===Gl){(Dl-=3)>-1&&_d.push(239,191,189);continue}fu=Ll;continue}if(Ll<56320){(Dl-=3)>-1&&_d.push(239,191,189),fu=Ll;continue}Ll=(fu-55296<<10|Ll-56320)+65536}else fu&&(Dl-=3)>-1&&_d.push(239,191,189);if(fu=null,Ll<128){if((Dl-=1)<0)break;_d.push(Ll)}else if(Ll<2048){if((Dl-=2)<0)break;_d.push(Ll>>6|192,Ll&63|128)}else if(Ll<65536){if((Dl-=3)<0)break;_d.push(Ll>>12|224,Ll>>6&63|128,Ll&63|128)}else if(Ll<1114112){if((Dl-=4)<0)break;_d.push(Ll>>18|240,Ll>>12&63|128,Ll>>6&63|128,Ll&63|128)}else throw new Error("Invalid code point")}return _d}function Ep(zl){const Dl=[];for(let Ll=0;Ll<zl.length;++Ll)Dl.push(zl.charCodeAt(Ll)&255);return Dl}function vp(zl,Dl){let Ll,Gl,fu;const _d=[];for(let sp=0;sp<zl.length&&!((Dl-=2)<0);++sp)Ll=zl.charCodeAt(sp),Gl=Ll>>8,fu=Ll%256,_d.push(fu),_d.push(Gl);return _d}function Tp(zl){return Mn.toByteArray(xp(zl))}function Ap(zl,Dl,Ll,Gl){let fu;for(fu=0;fu<Gl&&!(fu+Ll>=Dl.length||fu>=zl.length);++fu)Dl[fu+Ll]=zl[fu];return fu}function wp(zl,Dl){return zl instanceof Dl||zl!=null&&zl.constructor!=null&&zl.constructor.name!=null&&zl.constructor.name===Dl.name}function Cp(zl){return zl!==zl}const Rp=function(){const zl="0123456789abcdef",Dl=new Array(256);for(let Ll=0;Ll<16;++Ll){const Gl=Ll*16;for(let fu=0;fu<16;++fu)Dl[Gl+fu]=zl[Ll]+zl[fu]}return Dl}();function yp(zl){return typeof BigInt>"u"?Pp:zl}function Pp(){throw new Error("BigInt not supported")}})(buffer$3);var h6;typeof window<"u"&&(window.Buffer||(window.Buffer=buffer$3.Buffer),window.global||(window.global=window),window.process||(window.process={}),(h6=window.process)!=null&&h6.env||(window.process={env:{}}));var define_process_env_default$2={};const SECURE_SITE_SDK=define_process_env_default$2.NEXT_PUBLIC_SECURE_SITE_SDK_URL||"https://secure.walletconnect.org/sdk",DEFAULT_LOG_LEVEL=define_process_env_default$2.NEXT_PUBLIC_DEFAULT_LOG_LEVEL||"error",SECURE_SITE_SDK_VERSION=define_process_env_default$2.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION||2,W3mFrameConstants={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},W3mFrameRpcConstants={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}};var util$5;(function(Fn){Fn.assertEqual=mo=>mo;function Mn(mo){}Fn.assertIs=Mn;function io(mo){throw new Error}Fn.assertNever=io,Fn.arrayToEnum=mo=>{const $o={};for(const Ao of mo)$o[Ao]=Ao;return $o},Fn.getValidEnumValues=mo=>{const $o=Fn.objectKeys(mo).filter(Lo=>typeof mo[mo[Lo]]!="number"),Ao={};for(const Lo of $o)Ao[Lo]=mo[Lo];return Fn.objectValues(Ao)},Fn.objectValues=mo=>Fn.objectKeys(mo).map(function($o){return mo[$o]}),Fn.objectKeys=typeof Object.keys=="function"?mo=>Object.keys(mo):mo=>{const $o=[];for(const Ao in mo)Object.prototype.hasOwnProperty.call(mo,Ao)&&$o.push(Ao);return $o},Fn.find=(mo,$o)=>{for(const Ao of mo)if($o(Ao))return Ao},Fn.isInteger=typeof Number.isInteger=="function"?mo=>Number.isInteger(mo):mo=>typeof mo=="number"&&isFinite(mo)&&Math.floor(mo)===mo;function fo(mo,$o=" | "){return mo.map(Ao=>typeof Ao=="string"?`'${Ao}'`:Ao).join($o)}Fn.joinValues=fo,Fn.jsonStringifyReplacer=(mo,$o)=>typeof $o=="bigint"?$o.toString():$o})(util$5||(util$5={}));var objectUtil;(function(Fn){Fn.mergeShapes=(Mn,io)=>({...Mn,...io})})(objectUtil||(objectUtil={}));const ZodParsedType=util$5.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=Fn=>{switch(typeof Fn){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(Fn)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(Fn)?ZodParsedType.array:Fn===null?ZodParsedType.null:Fn.then&&typeof Fn.then=="function"&&Fn.catch&&typeof Fn.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&Fn instanceof Map?ZodParsedType.map:typeof Set<"u"&&Fn instanceof Set?ZodParsedType.set:typeof Date<"u"&&Fn instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util$5.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=Fn=>JSON.stringify(Fn,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(Mn){super(),this.issues=[],this.addIssue=fo=>{this.issues=[...this.issues,fo]},this.addIssues=(fo=[])=>{this.issues=[...this.issues,...fo]};const io=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,io):this.__proto__=io,this.name="ZodError",this.issues=Mn}get errors(){return this.issues}format(Mn){const io=Mn||function($o){return $o.message},fo={_errors:[]},mo=$o=>{for(const Ao of $o.issues)if(Ao.code==="invalid_union")Ao.unionErrors.map(mo);else if(Ao.code==="invalid_return_type")mo(Ao.returnTypeError);else if(Ao.code==="invalid_arguments")mo(Ao.argumentsError);else if(Ao.path.length===0)fo._errors.push(io(Ao));else{let Lo=fo,Wo=0;for(;Wo<Ao.path.length;){const jo=Ao.path[Wo];Wo===Ao.path.length-1?(Lo[jo]=Lo[jo]||{_errors:[]},Lo[jo]._errors.push(io(Ao))):Lo[jo]=Lo[jo]||{_errors:[]},Lo=Lo[jo],Wo++}}};return mo(this),fo}toString(){return this.message}get message(){return JSON.stringify(this.issues,util$5.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(Mn=io=>io.message){const io={},fo=[];for(const mo of this.issues)mo.path.length>0?(io[mo.path[0]]=io[mo.path[0]]||[],io[mo.path[0]].push(Mn(mo))):fo.push(Mn(mo));return{formErrors:fo,fieldErrors:io}}get formErrors(){return this.flatten()}}ZodError.create=Fn=>new ZodError(Fn);const errorMap=(Fn,Mn)=>{let io;switch(Fn.code){case ZodIssueCode.invalid_type:Fn.received===ZodParsedType.undefined?io="Required":io=`Expected ${Fn.expected}, received ${Fn.received}`;break;case ZodIssueCode.invalid_literal:io=`Invalid literal value, expected ${JSON.stringify(Fn.expected,util$5.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:io=`Unrecognized key(s) in object: ${util$5.joinValues(Fn.keys,", ")}`;break;case ZodIssueCode.invalid_union:io="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:io=`Invalid discriminator value. Expected ${util$5.joinValues(Fn.options)}`;break;case ZodIssueCode.invalid_enum_value:io=`Invalid enum value. Expected ${util$5.joinValues(Fn.options)}, received '${Fn.received}'`;break;case ZodIssueCode.invalid_arguments:io="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:io="Invalid function return type";break;case ZodIssueCode.invalid_date:io="Invalid date";break;case ZodIssueCode.invalid_string:typeof Fn.validation=="object"?"includes"in Fn.validation?(io=`Invalid input: must include "${Fn.validation.includes}"`,typeof Fn.validation.position=="number"&&(io=`${io} at one or more positions greater than or equal to ${Fn.validation.position}`)):"startsWith"in Fn.validation?io=`Invalid input: must start with "${Fn.validation.startsWith}"`:"endsWith"in Fn.validation?io=`Invalid input: must end with "${Fn.validation.endsWith}"`:util$5.assertNever(Fn.validation):Fn.validation!=="regex"?io=`Invalid ${Fn.validation}`:io="Invalid";break;case ZodIssueCode.too_small:Fn.type==="array"?io=`Array must contain ${Fn.exact?"exactly":Fn.inclusive?"at least":"more than"} ${Fn.minimum} element(s)`:Fn.type==="string"?io=`String must contain ${Fn.exact?"exactly":Fn.inclusive?"at least":"over"} ${Fn.minimum} character(s)`:Fn.type==="number"?io=`Number must be ${Fn.exact?"exactly equal to ":Fn.inclusive?"greater than or equal to ":"greater than "}${Fn.minimum}`:Fn.type==="date"?io=`Date must be ${Fn.exact?"exactly equal to ":Fn.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(Fn.minimum))}`:io="Invalid input";break;case ZodIssueCode.too_big:Fn.type==="array"?io=`Array must contain ${Fn.exact?"exactly":Fn.inclusive?"at most":"less than"} ${Fn.maximum} element(s)`:Fn.type==="string"?io=`String must contain ${Fn.exact?"exactly":Fn.inclusive?"at most":"under"} ${Fn.maximum} character(s)`:Fn.type==="number"?io=`Number must be ${Fn.exact?"exactly":Fn.inclusive?"less than or equal to":"less than"} ${Fn.maximum}`:Fn.type==="bigint"?io=`BigInt must be ${Fn.exact?"exactly":Fn.inclusive?"less than or equal to":"less than"} ${Fn.maximum}`:Fn.type==="date"?io=`Date must be ${Fn.exact?"exactly":Fn.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(Fn.maximum))}`:io="Invalid input";break;case ZodIssueCode.custom:io="Invalid input";break;case ZodIssueCode.invalid_intersection_types:io="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:io=`Number must be a multiple of ${Fn.multipleOf}`;break;case ZodIssueCode.not_finite:io="Number must be finite";break;default:io=Mn.defaultError,util$5.assertNever(Fn)}return{message:io}};let overrideErrorMap=errorMap;function setErrorMap(Fn){overrideErrorMap=Fn}function getErrorMap(){return overrideErrorMap}const makeIssue=Fn=>{const{data:Mn,path:io,errorMaps:fo,issueData:mo}=Fn,$o=[...io,...mo.path||[]],Ao={...mo,path:$o};let Lo="";const Wo=fo.filter(jo=>!!jo).slice().reverse();for(const jo of Wo)Lo=jo(Ao,{data:Mn,defaultError:Lo}).message;return{...mo,path:$o,message:mo.message||Lo}},EMPTY_PATH=[];function addIssueToContext(Fn,Mn){const io=makeIssue({issueData:Mn,data:Fn.data,path:Fn.path,errorMaps:[Fn.common.contextualErrorMap,Fn.schemaErrorMap,getErrorMap(),errorMap].filter(fo=>!!fo)});Fn.common.issues.push(io)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(Mn,io){const fo=[];for(const mo of io){if(mo.status==="aborted")return INVALID;mo.status==="dirty"&&Mn.dirty(),fo.push(mo.value)}return{status:Mn.value,value:fo}}static async mergeObjectAsync(Mn,io){const fo=[];for(const mo of io)fo.push({key:await mo.key,value:await mo.value});return ParseStatus.mergeObjectSync(Mn,fo)}static mergeObjectSync(Mn,io){const fo={};for(const mo of io){const{key:$o,value:Ao}=mo;if($o.status==="aborted"||Ao.status==="aborted")return INVALID;$o.status==="dirty"&&Mn.dirty(),Ao.status==="dirty"&&Mn.dirty(),$o.value!=="__proto__"&&(typeof Ao.value<"u"||mo.alwaysSet)&&(fo[$o.value]=Ao.value)}return{status:Mn.value,value:fo}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=Fn=>({status:"dirty",value:Fn}),OK=Fn=>({status:"valid",value:Fn}),isAborted=Fn=>Fn.status==="aborted",isDirty=Fn=>Fn.status==="dirty",isValid=Fn=>Fn.status==="valid",isAsync$1=Fn=>typeof Promise<"u"&&Fn instanceof Promise;var errorUtil;(function(Fn){Fn.errToObj=Mn=>typeof Mn=="string"?{message:Mn}:Mn||{},Fn.toString=Mn=>typeof Mn=="string"?Mn:Mn==null?void 0:Mn.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(Mn,io,fo,mo){this._cachedPath=[],this.parent=Mn,this.data=io,this._path=fo,this._key=mo}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(Fn,Mn)=>{if(isValid(Mn))return{success:!0,data:Mn.value};if(!Fn.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const io=new ZodError(Fn.common.issues);return this._error=io,this._error}}};function processCreateParams(Fn){if(!Fn)return{};const{errorMap:Mn,invalid_type_error:io,required_error:fo,description:mo}=Fn;if(Mn&&(io||fo))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return Mn?{errorMap:Mn,description:mo}:{errorMap:(Ao,Lo)=>Ao.code!=="invalid_type"?{message:Lo.defaultError}:typeof Lo.data>"u"?{message:fo??Lo.defaultError}:{message:io??Lo.defaultError},description:mo}}class ZodType{constructor(Mn){this.spa=this.safeParseAsync,this._def=Mn,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(Mn){return getParsedType(Mn.data)}_getOrReturnCtx(Mn,io){return io||{common:Mn.parent.common,data:Mn.data,parsedType:getParsedType(Mn.data),schemaErrorMap:this._def.errorMap,path:Mn.path,parent:Mn.parent}}_processInputParams(Mn){return{status:new ParseStatus,ctx:{common:Mn.parent.common,data:Mn.data,parsedType:getParsedType(Mn.data),schemaErrorMap:this._def.errorMap,path:Mn.path,parent:Mn.parent}}}_parseSync(Mn){const io=this._parse(Mn);if(isAsync$1(io))throw new Error("Synchronous parse encountered promise.");return io}_parseAsync(Mn){const io=this._parse(Mn);return Promise.resolve(io)}parse(Mn,io){const fo=this.safeParse(Mn,io);if(fo.success)return fo.data;throw fo.error}safeParse(Mn,io){var fo;const mo={common:{issues:[],async:(fo=io==null?void 0:io.async)!==null&&fo!==void 0?fo:!1,contextualErrorMap:io==null?void 0:io.errorMap},path:(io==null?void 0:io.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:Mn,parsedType:getParsedType(Mn)},$o=this._parseSync({data:Mn,path:mo.path,parent:mo});return handleResult(mo,$o)}async parseAsync(Mn,io){const fo=await this.safeParseAsync(Mn,io);if(fo.success)return fo.data;throw fo.error}async safeParseAsync(Mn,io){const fo={common:{issues:[],contextualErrorMap:io==null?void 0:io.errorMap,async:!0},path:(io==null?void 0:io.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:Mn,parsedType:getParsedType(Mn)},mo=this._parse({data:Mn,path:fo.path,parent:fo}),$o=await(isAsync$1(mo)?mo:Promise.resolve(mo));return handleResult(fo,$o)}refine(Mn,io){const fo=mo=>typeof io=="string"||typeof io>"u"?{message:io}:typeof io=="function"?io(mo):io;return this._refinement((mo,$o)=>{const Ao=Mn(mo),Lo=()=>$o.addIssue({code:ZodIssueCode.custom,...fo(mo)});return typeof Promise<"u"&&Ao instanceof Promise?Ao.then(Wo=>Wo?!0:(Lo(),!1)):Ao?!0:(Lo(),!1)})}refinement(Mn,io){return this._refinement((fo,mo)=>Mn(fo)?!0:(mo.addIssue(typeof io=="function"?io(fo,mo):io),!1))}_refinement(Mn){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:Mn}})}superRefine(Mn){return this._refinement(Mn)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(Mn){return ZodUnion.create([this,Mn],this._def)}and(Mn){return ZodIntersection.create(this,Mn,this._def)}transform(Mn){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:Mn}})}default(Mn){const io=typeof Mn=="function"?Mn:()=>Mn;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:io,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(Mn){const io=typeof Mn=="function"?Mn:()=>Mn;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:io,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(Mn){const io=this.constructor;return new io({...this._def,description:Mn})}pipe(Mn){return ZodPipeline.create(this,Mn)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[a-z][a-z0-9]*$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,datetimeRegex=Fn=>Fn.precision?Fn.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${Fn.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${Fn.precision}}Z$`):Fn.precision===0?Fn.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):Fn.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function isValidIP(Fn,Mn){return!!((Mn==="v4"||!Mn)&&ipv4Regex.test(Fn)||(Mn==="v6"||!Mn)&&ipv6Regex.test(Fn))}class ZodString extends ZodType{_parse(Mn){if(this._def.coerce&&(Mn.data=String(Mn.data)),this._getType(Mn)!==ZodParsedType.string){const $o=this._getOrReturnCtx(Mn);return addIssueToContext($o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:$o.parsedType}),INVALID}const fo=new ParseStatus;let mo;for(const $o of this._def.checks)if($o.kind==="min")Mn.data.length<$o.value&&(mo=this._getOrReturnCtx(Mn,mo),addIssueToContext(mo,{code:ZodIssueCode.too_small,minimum:$o.value,type:"string",inclusive:!0,exact:!1,message:$o.message}),fo.dirty());else if($o.kind==="max")Mn.data.length>$o.value&&(mo=this._getOrReturnCtx(Mn,mo),addIssueToContext(mo,{code:ZodIssueCode.too_big,maximum:$o.value,type:"string",inclusive:!0,exact:!1,message:$o.message}),fo.dirty());else if($o.kind==="length"){const Ao=Mn.data.length>$o.value,Lo=Mn.data.length<$o.value;(Ao||Lo)&&(mo=this._getOrReturnCtx(Mn,mo),Ao?addIssueToContext(mo,{code:ZodIssueCode.too_big,maximum:$o.value,type:"string",inclusive:!0,exact:!0,message:$o.message}):Lo&&addIssueToContext(mo,{code:ZodIssueCode.too_small,minimum:$o.value,type:"string",inclusive:!0,exact:!0,message:$o.message}),fo.dirty())}else if($o.kind==="email")emailRegex.test(Mn.data)||(mo=this._getOrReturnCtx(Mn,mo),addIssueToContext(mo,{validation:"email",code:ZodIssueCode.invalid_string,message:$o.message}),fo.dirty());else if($o.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(Mn.data)||(mo=this._getOrReturnCtx(Mn,mo),addIssueToContext(mo,{validation:"emoji",code:ZodIssueCode.invalid_string,message:$o.message}),fo.dirty());else if($o.kind==="uuid")uuidRegex.test(Mn.data)||(mo=this._getOrReturnCtx(Mn,mo),addIssueToContext(mo,{validation:"uuid",code:ZodIssueCode.invalid_string,message:$o.message}),fo.dirty());else if($o.kind==="cuid")cuidRegex.test(Mn.data)||(mo=this._getOrReturnCtx(Mn,mo),addIssueToContext(mo,{validation:"cuid",code:ZodIssueCode.invalid_string,message:$o.message}),fo.dirty());else if($o.kind==="cuid2")cuid2Regex.test(Mn.data)||(mo=this._getOrReturnCtx(Mn,mo),addIssueToContext(mo,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:$o.message}),fo.dirty());else if($o.kind==="ulid")ulidRegex.test(Mn.data)||(mo=this._getOrReturnCtx(Mn,mo),addIssueToContext(mo,{validation:"ulid",code:ZodIssueCode.invalid_string,message:$o.message}),fo.dirty());else if($o.kind==="url")try{new URL(Mn.data)}catch{mo=this._getOrReturnCtx(Mn,mo),addIssueToContext(mo,{validation:"url",code:ZodIssueCode.invalid_string,message:$o.message}),fo.dirty()}else $o.kind==="regex"?($o.regex.lastIndex=0,$o.regex.test(Mn.data)||(mo=this._getOrReturnCtx(Mn,mo),addIssueToContext(mo,{validation:"regex",code:ZodIssueCode.invalid_string,message:$o.message}),fo.dirty())):$o.kind==="trim"?Mn.data=Mn.data.trim():$o.kind==="includes"?Mn.data.includes($o.value,$o.position)||(mo=this._getOrReturnCtx(Mn,mo),addIssueToContext(mo,{code:ZodIssueCode.invalid_string,validation:{includes:$o.value,position:$o.position},message:$o.message}),fo.dirty()):$o.kind==="toLowerCase"?Mn.data=Mn.data.toLowerCase():$o.kind==="toUpperCase"?Mn.data=Mn.data.toUpperCase():$o.kind==="startsWith"?Mn.data.startsWith($o.value)||(mo=this._getOrReturnCtx(Mn,mo),addIssueToContext(mo,{code:ZodIssueCode.invalid_string,validation:{startsWith:$o.value},message:$o.message}),fo.dirty()):$o.kind==="endsWith"?Mn.data.endsWith($o.value)||(mo=this._getOrReturnCtx(Mn,mo),addIssueToContext(mo,{code:ZodIssueCode.invalid_string,validation:{endsWith:$o.value},message:$o.message}),fo.dirty()):$o.kind==="datetime"?datetimeRegex($o).test(Mn.data)||(mo=this._getOrReturnCtx(Mn,mo),addIssueToContext(mo,{code:ZodIssueCode.invalid_string,validation:"datetime",message:$o.message}),fo.dirty()):$o.kind==="ip"?isValidIP(Mn.data,$o.version)||(mo=this._getOrReturnCtx(Mn,mo),addIssueToContext(mo,{validation:"ip",code:ZodIssueCode.invalid_string,message:$o.message}),fo.dirty()):util$5.assertNever($o);return{status:fo.value,value:Mn.data}}_regex(Mn,io,fo){return this.refinement(mo=>Mn.test(mo),{validation:io,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(fo)})}_addCheck(Mn){return new ZodString({...this._def,checks:[...this._def.checks,Mn]})}email(Mn){return this._addCheck({kind:"email",...errorUtil.errToObj(Mn)})}url(Mn){return this._addCheck({kind:"url",...errorUtil.errToObj(Mn)})}emoji(Mn){return this._addCheck({kind:"emoji",...errorUtil.errToObj(Mn)})}uuid(Mn){return this._addCheck({kind:"uuid",...errorUtil.errToObj(Mn)})}cuid(Mn){return this._addCheck({kind:"cuid",...errorUtil.errToObj(Mn)})}cuid2(Mn){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(Mn)})}ulid(Mn){return this._addCheck({kind:"ulid",...errorUtil.errToObj(Mn)})}ip(Mn){return this._addCheck({kind:"ip",...errorUtil.errToObj(Mn)})}datetime(Mn){var io;return typeof Mn=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:Mn}):this._addCheck({kind:"datetime",precision:typeof(Mn==null?void 0:Mn.precision)>"u"?null:Mn==null?void 0:Mn.precision,offset:(io=Mn==null?void 0:Mn.offset)!==null&&io!==void 0?io:!1,...errorUtil.errToObj(Mn==null?void 0:Mn.message)})}regex(Mn,io){return this._addCheck({kind:"regex",regex:Mn,...errorUtil.errToObj(io)})}includes(Mn,io){return this._addCheck({kind:"includes",value:Mn,position:io==null?void 0:io.position,...errorUtil.errToObj(io==null?void 0:io.message)})}startsWith(Mn,io){return this._addCheck({kind:"startsWith",value:Mn,...errorUtil.errToObj(io)})}endsWith(Mn,io){return this._addCheck({kind:"endsWith",value:Mn,...errorUtil.errToObj(io)})}min(Mn,io){return this._addCheck({kind:"min",value:Mn,...errorUtil.errToObj(io)})}max(Mn,io){return this._addCheck({kind:"max",value:Mn,...errorUtil.errToObj(io)})}length(Mn,io){return this._addCheck({kind:"length",value:Mn,...errorUtil.errToObj(io)})}nonempty(Mn){return this.min(1,errorUtil.errToObj(Mn))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(Mn=>Mn.kind==="datetime")}get isEmail(){return!!this._def.checks.find(Mn=>Mn.kind==="email")}get isURL(){return!!this._def.checks.find(Mn=>Mn.kind==="url")}get isEmoji(){return!!this._def.checks.find(Mn=>Mn.kind==="emoji")}get isUUID(){return!!this._def.checks.find(Mn=>Mn.kind==="uuid")}get isCUID(){return!!this._def.checks.find(Mn=>Mn.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(Mn=>Mn.kind==="cuid2")}get isULID(){return!!this._def.checks.find(Mn=>Mn.kind==="ulid")}get isIP(){return!!this._def.checks.find(Mn=>Mn.kind==="ip")}get minLength(){let Mn=null;for(const io of this._def.checks)io.kind==="min"&&(Mn===null||io.value>Mn)&&(Mn=io.value);return Mn}get maxLength(){let Mn=null;for(const io of this._def.checks)io.kind==="max"&&(Mn===null||io.value<Mn)&&(Mn=io.value);return Mn}}ZodString.create=Fn=>{var Mn;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(Mn=Fn==null?void 0:Fn.coerce)!==null&&Mn!==void 0?Mn:!1,...processCreateParams(Fn)})};function floatSafeRemainder(Fn,Mn){const io=(Fn.toString().split(".")[1]||"").length,fo=(Mn.toString().split(".")[1]||"").length,mo=io>fo?io:fo,$o=parseInt(Fn.toFixed(mo).replace(".","")),Ao=parseInt(Mn.toFixed(mo).replace(".",""));return $o%Ao/Math.pow(10,mo)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(Mn){if(this._def.coerce&&(Mn.data=Number(Mn.data)),this._getType(Mn)!==ZodParsedType.number){const $o=this._getOrReturnCtx(Mn);return addIssueToContext($o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:$o.parsedType}),INVALID}let fo;const mo=new ParseStatus;for(const $o of this._def.checks)$o.kind==="int"?util$5.isInteger(Mn.data)||(fo=this._getOrReturnCtx(Mn,fo),addIssueToContext(fo,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:$o.message}),mo.dirty()):$o.kind==="min"?($o.inclusive?Mn.data<$o.value:Mn.data<=$o.value)&&(fo=this._getOrReturnCtx(Mn,fo),addIssueToContext(fo,{code:ZodIssueCode.too_small,minimum:$o.value,type:"number",inclusive:$o.inclusive,exact:!1,message:$o.message}),mo.dirty()):$o.kind==="max"?($o.inclusive?Mn.data>$o.value:Mn.data>=$o.value)&&(fo=this._getOrReturnCtx(Mn,fo),addIssueToContext(fo,{code:ZodIssueCode.too_big,maximum:$o.value,type:"number",inclusive:$o.inclusive,exact:!1,message:$o.message}),mo.dirty()):$o.kind==="multipleOf"?floatSafeRemainder(Mn.data,$o.value)!==0&&(fo=this._getOrReturnCtx(Mn,fo),addIssueToContext(fo,{code:ZodIssueCode.not_multiple_of,multipleOf:$o.value,message:$o.message}),mo.dirty()):$o.kind==="finite"?Number.isFinite(Mn.data)||(fo=this._getOrReturnCtx(Mn,fo),addIssueToContext(fo,{code:ZodIssueCode.not_finite,message:$o.message}),mo.dirty()):util$5.assertNever($o);return{status:mo.value,value:Mn.data}}gte(Mn,io){return this.setLimit("min",Mn,!0,errorUtil.toString(io))}gt(Mn,io){return this.setLimit("min",Mn,!1,errorUtil.toString(io))}lte(Mn,io){return this.setLimit("max",Mn,!0,errorUtil.toString(io))}lt(Mn,io){return this.setLimit("max",Mn,!1,errorUtil.toString(io))}setLimit(Mn,io,fo,mo){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:Mn,value:io,inclusive:fo,message:errorUtil.toString(mo)}]})}_addCheck(Mn){return new ZodNumber({...this._def,checks:[...this._def.checks,Mn]})}int(Mn){return this._addCheck({kind:"int",message:errorUtil.toString(Mn)})}positive(Mn){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(Mn)})}negative(Mn){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(Mn)})}nonpositive(Mn){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(Mn)})}nonnegative(Mn){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(Mn)})}multipleOf(Mn,io){return this._addCheck({kind:"multipleOf",value:Mn,message:errorUtil.toString(io)})}finite(Mn){return this._addCheck({kind:"finite",message:errorUtil.toString(Mn)})}safe(Mn){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(Mn)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(Mn)})}get minValue(){let Mn=null;for(const io of this._def.checks)io.kind==="min"&&(Mn===null||io.value>Mn)&&(Mn=io.value);return Mn}get maxValue(){let Mn=null;for(const io of this._def.checks)io.kind==="max"&&(Mn===null||io.value<Mn)&&(Mn=io.value);return Mn}get isInt(){return!!this._def.checks.find(Mn=>Mn.kind==="int"||Mn.kind==="multipleOf"&&util$5.isInteger(Mn.value))}get isFinite(){let Mn=null,io=null;for(const fo of this._def.checks){if(fo.kind==="finite"||fo.kind==="int"||fo.kind==="multipleOf")return!0;fo.kind==="min"?(io===null||fo.value>io)&&(io=fo.value):fo.kind==="max"&&(Mn===null||fo.value<Mn)&&(Mn=fo.value)}return Number.isFinite(io)&&Number.isFinite(Mn)}}ZodNumber.create=Fn=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(Fn==null?void 0:Fn.coerce)||!1,...processCreateParams(Fn)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(Mn){if(this._def.coerce&&(Mn.data=BigInt(Mn.data)),this._getType(Mn)!==ZodParsedType.bigint){const $o=this._getOrReturnCtx(Mn);return addIssueToContext($o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:$o.parsedType}),INVALID}let fo;const mo=new ParseStatus;for(const $o of this._def.checks)$o.kind==="min"?($o.inclusive?Mn.data<$o.value:Mn.data<=$o.value)&&(fo=this._getOrReturnCtx(Mn,fo),addIssueToContext(fo,{code:ZodIssueCode.too_small,type:"bigint",minimum:$o.value,inclusive:$o.inclusive,message:$o.message}),mo.dirty()):$o.kind==="max"?($o.inclusive?Mn.data>$o.value:Mn.data>=$o.value)&&(fo=this._getOrReturnCtx(Mn,fo),addIssueToContext(fo,{code:ZodIssueCode.too_big,type:"bigint",maximum:$o.value,inclusive:$o.inclusive,message:$o.message}),mo.dirty()):$o.kind==="multipleOf"?Mn.data%$o.value!==BigInt(0)&&(fo=this._getOrReturnCtx(Mn,fo),addIssueToContext(fo,{code:ZodIssueCode.not_multiple_of,multipleOf:$o.value,message:$o.message}),mo.dirty()):util$5.assertNever($o);return{status:mo.value,value:Mn.data}}gte(Mn,io){return this.setLimit("min",Mn,!0,errorUtil.toString(io))}gt(Mn,io){return this.setLimit("min",Mn,!1,errorUtil.toString(io))}lte(Mn,io){return this.setLimit("max",Mn,!0,errorUtil.toString(io))}lt(Mn,io){return this.setLimit("max",Mn,!1,errorUtil.toString(io))}setLimit(Mn,io,fo,mo){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:Mn,value:io,inclusive:fo,message:errorUtil.toString(mo)}]})}_addCheck(Mn){return new ZodBigInt({...this._def,checks:[...this._def.checks,Mn]})}positive(Mn){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(Mn)})}negative(Mn){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(Mn)})}nonpositive(Mn){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(Mn)})}nonnegative(Mn){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(Mn)})}multipleOf(Mn,io){return this._addCheck({kind:"multipleOf",value:Mn,message:errorUtil.toString(io)})}get minValue(){let Mn=null;for(const io of this._def.checks)io.kind==="min"&&(Mn===null||io.value>Mn)&&(Mn=io.value);return Mn}get maxValue(){let Mn=null;for(const io of this._def.checks)io.kind==="max"&&(Mn===null||io.value<Mn)&&(Mn=io.value);return Mn}}ZodBigInt.create=Fn=>{var Mn;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(Mn=Fn==null?void 0:Fn.coerce)!==null&&Mn!==void 0?Mn:!1,...processCreateParams(Fn)})};class ZodBoolean extends ZodType{_parse(Mn){if(this._def.coerce&&(Mn.data=!!Mn.data),this._getType(Mn)!==ZodParsedType.boolean){const fo=this._getOrReturnCtx(Mn);return addIssueToContext(fo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:fo.parsedType}),INVALID}return OK(Mn.data)}}ZodBoolean.create=Fn=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(Fn==null?void 0:Fn.coerce)||!1,...processCreateParams(Fn)});class ZodDate extends ZodType{_parse(Mn){if(this._def.coerce&&(Mn.data=new Date(Mn.data)),this._getType(Mn)!==ZodParsedType.date){const $o=this._getOrReturnCtx(Mn);return addIssueToContext($o,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:$o.parsedType}),INVALID}if(isNaN(Mn.data.getTime())){const $o=this._getOrReturnCtx(Mn);return addIssueToContext($o,{code:ZodIssueCode.invalid_date}),INVALID}const fo=new ParseStatus;let mo;for(const $o of this._def.checks)$o.kind==="min"?Mn.data.getTime()<$o.value&&(mo=this._getOrReturnCtx(Mn,mo),addIssueToContext(mo,{code:ZodIssueCode.too_small,message:$o.message,inclusive:!0,exact:!1,minimum:$o.value,type:"date"}),fo.dirty()):$o.kind==="max"?Mn.data.getTime()>$o.value&&(mo=this._getOrReturnCtx(Mn,mo),addIssueToContext(mo,{code:ZodIssueCode.too_big,message:$o.message,inclusive:!0,exact:!1,maximum:$o.value,type:"date"}),fo.dirty()):util$5.assertNever($o);return{status:fo.value,value:new Date(Mn.data.getTime())}}_addCheck(Mn){return new ZodDate({...this._def,checks:[...this._def.checks,Mn]})}min(Mn,io){return this._addCheck({kind:"min",value:Mn.getTime(),message:errorUtil.toString(io)})}max(Mn,io){return this._addCheck({kind:"max",value:Mn.getTime(),message:errorUtil.toString(io)})}get minDate(){let Mn=null;for(const io of this._def.checks)io.kind==="min"&&(Mn===null||io.value>Mn)&&(Mn=io.value);return Mn!=null?new Date(Mn):null}get maxDate(){let Mn=null;for(const io of this._def.checks)io.kind==="max"&&(Mn===null||io.value<Mn)&&(Mn=io.value);return Mn!=null?new Date(Mn):null}}ZodDate.create=Fn=>new ZodDate({checks:[],coerce:(Fn==null?void 0:Fn.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(Fn)});class ZodSymbol extends ZodType{_parse(Mn){if(this._getType(Mn)!==ZodParsedType.symbol){const fo=this._getOrReturnCtx(Mn);return addIssueToContext(fo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:fo.parsedType}),INVALID}return OK(Mn.data)}}ZodSymbol.create=Fn=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(Fn)});class ZodUndefined extends ZodType{_parse(Mn){if(this._getType(Mn)!==ZodParsedType.undefined){const fo=this._getOrReturnCtx(Mn);return addIssueToContext(fo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:fo.parsedType}),INVALID}return OK(Mn.data)}}ZodUndefined.create=Fn=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(Fn)});class ZodNull extends ZodType{_parse(Mn){if(this._getType(Mn)!==ZodParsedType.null){const fo=this._getOrReturnCtx(Mn);return addIssueToContext(fo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:fo.parsedType}),INVALID}return OK(Mn.data)}}ZodNull.create=Fn=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(Fn)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(Mn){return OK(Mn.data)}}ZodAny.create=Fn=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(Fn)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(Mn){return OK(Mn.data)}}ZodUnknown.create=Fn=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(Fn)});class ZodNever extends ZodType{_parse(Mn){const io=this._getOrReturnCtx(Mn);return addIssueToContext(io,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:io.parsedType}),INVALID}}ZodNever.create=Fn=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(Fn)});class ZodVoid extends ZodType{_parse(Mn){if(this._getType(Mn)!==ZodParsedType.undefined){const fo=this._getOrReturnCtx(Mn);return addIssueToContext(fo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:fo.parsedType}),INVALID}return OK(Mn.data)}}ZodVoid.create=Fn=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(Fn)});class ZodArray extends ZodType{_parse(Mn){const{ctx:io,status:fo}=this._processInputParams(Mn),mo=this._def;if(io.parsedType!==ZodParsedType.array)return addIssueToContext(io,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:io.parsedType}),INVALID;if(mo.exactLength!==null){const Ao=io.data.length>mo.exactLength.value,Lo=io.data.length<mo.exactLength.value;(Ao||Lo)&&(addIssueToContext(io,{code:Ao?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:Lo?mo.exactLength.value:void 0,maximum:Ao?mo.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:mo.exactLength.message}),fo.dirty())}if(mo.minLength!==null&&io.data.length<mo.minLength.value&&(addIssueToContext(io,{code:ZodIssueCode.too_small,minimum:mo.minLength.value,type:"array",inclusive:!0,exact:!1,message:mo.minLength.message}),fo.dirty()),mo.maxLength!==null&&io.data.length>mo.maxLength.value&&(addIssueToContext(io,{code:ZodIssueCode.too_big,maximum:mo.maxLength.value,type:"array",inclusive:!0,exact:!1,message:mo.maxLength.message}),fo.dirty()),io.common.async)return Promise.all([...io.data].map((Ao,Lo)=>mo.type._parseAsync(new ParseInputLazyPath(io,Ao,io.path,Lo)))).then(Ao=>ParseStatus.mergeArray(fo,Ao));const $o=[...io.data].map((Ao,Lo)=>mo.type._parseSync(new ParseInputLazyPath(io,Ao,io.path,Lo)));return ParseStatus.mergeArray(fo,$o)}get element(){return this._def.type}min(Mn,io){return new ZodArray({...this._def,minLength:{value:Mn,message:errorUtil.toString(io)}})}max(Mn,io){return new ZodArray({...this._def,maxLength:{value:Mn,message:errorUtil.toString(io)}})}length(Mn,io){return new ZodArray({...this._def,exactLength:{value:Mn,message:errorUtil.toString(io)}})}nonempty(Mn){return this.min(1,Mn)}}ZodArray.create=(Fn,Mn)=>new ZodArray({type:Fn,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(Mn)});function deepPartialify(Fn){if(Fn instanceof ZodObject){const Mn={};for(const io in Fn.shape){const fo=Fn.shape[io];Mn[io]=ZodOptional.create(deepPartialify(fo))}return new ZodObject({...Fn._def,shape:()=>Mn})}else return Fn instanceof ZodArray?new ZodArray({...Fn._def,type:deepPartialify(Fn.element)}):Fn instanceof ZodOptional?ZodOptional.create(deepPartialify(Fn.unwrap())):Fn instanceof ZodNullable?ZodNullable.create(deepPartialify(Fn.unwrap())):Fn instanceof ZodTuple?ZodTuple.create(Fn.items.map(Mn=>deepPartialify(Mn))):Fn}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const Mn=this._def.shape(),io=util$5.objectKeys(Mn);return this._cached={shape:Mn,keys:io}}_parse(Mn){if(this._getType(Mn)!==ZodParsedType.object){const jo=this._getOrReturnCtx(Mn);return addIssueToContext(jo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:jo.parsedType}),INVALID}const{status:fo,ctx:mo}=this._processInputParams(Mn),{shape:$o,keys:Ao}=this._getCached(),Lo=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const jo in mo.data)Ao.includes(jo)||Lo.push(jo);const Wo=[];for(const jo of Ao){const zo=$o[jo],Vo=mo.data[jo];Wo.push({key:{status:"valid",value:jo},value:zo._parse(new ParseInputLazyPath(mo,Vo,mo.path,jo)),alwaysSet:jo in mo.data})}if(this._def.catchall instanceof ZodNever){const jo=this._def.unknownKeys;if(jo==="passthrough")for(const zo of Lo)Wo.push({key:{status:"valid",value:zo},value:{status:"valid",value:mo.data[zo]}});else if(jo==="strict")Lo.length>0&&(addIssueToContext(mo,{code:ZodIssueCode.unrecognized_keys,keys:Lo}),fo.dirty());else if(jo!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const jo=this._def.catchall;for(const zo of Lo){const Vo=mo.data[zo];Wo.push({key:{status:"valid",value:zo},value:jo._parse(new ParseInputLazyPath(mo,Vo,mo.path,zo)),alwaysSet:zo in mo.data})}}return mo.common.async?Promise.resolve().then(async()=>{const jo=[];for(const zo of Wo){const Vo=await zo.key;jo.push({key:Vo,value:await zo.value,alwaysSet:zo.alwaysSet})}return jo}).then(jo=>ParseStatus.mergeObjectSync(fo,jo)):ParseStatus.mergeObjectSync(fo,Wo)}get shape(){return this._def.shape()}strict(Mn){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...Mn!==void 0?{errorMap:(io,fo)=>{var mo,$o,Ao,Lo;const Wo=(Ao=($o=(mo=this._def).errorMap)===null||$o===void 0?void 0:$o.call(mo,io,fo).message)!==null&&Ao!==void 0?Ao:fo.defaultError;return io.code==="unrecognized_keys"?{message:(Lo=errorUtil.errToObj(Mn).message)!==null&&Lo!==void 0?Lo:Wo}:{message:Wo}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(Mn){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...Mn})})}merge(Mn){return new ZodObject({unknownKeys:Mn._def.unknownKeys,catchall:Mn._def.catchall,shape:()=>({...this._def.shape(),...Mn._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(Mn,io){return this.augment({[Mn]:io})}catchall(Mn){return new ZodObject({...this._def,catchall:Mn})}pick(Mn){const io={};return util$5.objectKeys(Mn).forEach(fo=>{Mn[fo]&&this.shape[fo]&&(io[fo]=this.shape[fo])}),new ZodObject({...this._def,shape:()=>io})}omit(Mn){const io={};return util$5.objectKeys(this.shape).forEach(fo=>{Mn[fo]||(io[fo]=this.shape[fo])}),new ZodObject({...this._def,shape:()=>io})}deepPartial(){return deepPartialify(this)}partial(Mn){const io={};return util$5.objectKeys(this.shape).forEach(fo=>{const mo=this.shape[fo];Mn&&!Mn[fo]?io[fo]=mo:io[fo]=mo.optional()}),new ZodObject({...this._def,shape:()=>io})}required(Mn){const io={};return util$5.objectKeys(this.shape).forEach(fo=>{if(Mn&&!Mn[fo])io[fo]=this.shape[fo];else{let $o=this.shape[fo];for(;$o instanceof ZodOptional;)$o=$o._def.innerType;io[fo]=$o}}),new ZodObject({...this._def,shape:()=>io})}keyof(){return createZodEnum(util$5.objectKeys(this.shape))}}ZodObject.create=(Fn,Mn)=>new ZodObject({shape:()=>Fn,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(Mn)});ZodObject.strictCreate=(Fn,Mn)=>new ZodObject({shape:()=>Fn,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(Mn)});ZodObject.lazycreate=(Fn,Mn)=>new ZodObject({shape:Fn,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(Mn)});class ZodUnion extends ZodType{_parse(Mn){const{ctx:io}=this._processInputParams(Mn),fo=this._def.options;function mo($o){for(const Lo of $o)if(Lo.result.status==="valid")return Lo.result;for(const Lo of $o)if(Lo.result.status==="dirty")return io.common.issues.push(...Lo.ctx.common.issues),Lo.result;const Ao=$o.map(Lo=>new ZodError(Lo.ctx.common.issues));return addIssueToContext(io,{code:ZodIssueCode.invalid_union,unionErrors:Ao}),INVALID}if(io.common.async)return Promise.all(fo.map(async $o=>{const Ao={...io,common:{...io.common,issues:[]},parent:null};return{result:await $o._parseAsync({data:io.data,path:io.path,parent:Ao}),ctx:Ao}})).then(mo);{let $o;const Ao=[];for(const Wo of fo){const jo={...io,common:{...io.common,issues:[]},parent:null},zo=Wo._parseSync({data:io.data,path:io.path,parent:jo});if(zo.status==="valid")return zo;zo.status==="dirty"&&!$o&&($o={result:zo,ctx:jo}),jo.common.issues.length&&Ao.push(jo.common.issues)}if($o)return io.common.issues.push(...$o.ctx.common.issues),$o.result;const Lo=Ao.map(Wo=>new ZodError(Wo));return addIssueToContext(io,{code:ZodIssueCode.invalid_union,unionErrors:Lo}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(Fn,Mn)=>new ZodUnion({options:Fn,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(Mn)});const getDiscriminator=Fn=>Fn instanceof ZodLazy?getDiscriminator(Fn.schema):Fn instanceof ZodEffects?getDiscriminator(Fn.innerType()):Fn instanceof ZodLiteral?[Fn.value]:Fn instanceof ZodEnum?Fn.options:Fn instanceof ZodNativeEnum?Object.keys(Fn.enum):Fn instanceof ZodDefault?getDiscriminator(Fn._def.innerType):Fn instanceof ZodUndefined?[void 0]:Fn instanceof ZodNull?[null]:null;class ZodDiscriminatedUnion extends ZodType{_parse(Mn){const{ctx:io}=this._processInputParams(Mn);if(io.parsedType!==ZodParsedType.object)return addIssueToContext(io,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:io.parsedType}),INVALID;const fo=this.discriminator,mo=io.data[fo],$o=this.optionsMap.get(mo);return $o?io.common.async?$o._parseAsync({data:io.data,path:io.path,parent:io}):$o._parseSync({data:io.data,path:io.path,parent:io}):(addIssueToContext(io,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[fo]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(Mn,io,fo){const mo=new Map;for(const $o of io){const Ao=getDiscriminator($o.shape[Mn]);if(!Ao)throw new Error(`A discriminator value for key \`${Mn}\` could not be extracted from all schema options`);for(const Lo of Ao){if(mo.has(Lo))throw new Error(`Discriminator property ${String(Mn)} has duplicate value ${String(Lo)}`);mo.set(Lo,$o)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:Mn,options:io,optionsMap:mo,...processCreateParams(fo)})}}function mergeValues(Fn,Mn){const io=getParsedType(Fn),fo=getParsedType(Mn);if(Fn===Mn)return{valid:!0,data:Fn};if(io===ZodParsedType.object&&fo===ZodParsedType.object){const mo=util$5.objectKeys(Mn),$o=util$5.objectKeys(Fn).filter(Lo=>mo.indexOf(Lo)!==-1),Ao={...Fn,...Mn};for(const Lo of $o){const Wo=mergeValues(Fn[Lo],Mn[Lo]);if(!Wo.valid)return{valid:!1};Ao[Lo]=Wo.data}return{valid:!0,data:Ao}}else if(io===ZodParsedType.array&&fo===ZodParsedType.array){if(Fn.length!==Mn.length)return{valid:!1};const mo=[];for(let $o=0;$o<Fn.length;$o++){const Ao=Fn[$o],Lo=Mn[$o],Wo=mergeValues(Ao,Lo);if(!Wo.valid)return{valid:!1};mo.push(Wo.data)}return{valid:!0,data:mo}}else return io===ZodParsedType.date&&fo===ZodParsedType.date&&+Fn==+Mn?{valid:!0,data:Fn}:{valid:!1}}class ZodIntersection extends ZodType{_parse(Mn){const{status:io,ctx:fo}=this._processInputParams(Mn),mo=($o,Ao)=>{if(isAborted($o)||isAborted(Ao))return INVALID;const Lo=mergeValues($o.value,Ao.value);return Lo.valid?((isDirty($o)||isDirty(Ao))&&io.dirty(),{status:io.value,value:Lo.data}):(addIssueToContext(fo,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return fo.common.async?Promise.all([this._def.left._parseAsync({data:fo.data,path:fo.path,parent:fo}),this._def.right._parseAsync({data:fo.data,path:fo.path,parent:fo})]).then(([$o,Ao])=>mo($o,Ao)):mo(this._def.left._parseSync({data:fo.data,path:fo.path,parent:fo}),this._def.right._parseSync({data:fo.data,path:fo.path,parent:fo}))}}ZodIntersection.create=(Fn,Mn,io)=>new ZodIntersection({left:Fn,right:Mn,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(io)});class ZodTuple extends ZodType{_parse(Mn){const{status:io,ctx:fo}=this._processInputParams(Mn);if(fo.parsedType!==ZodParsedType.array)return addIssueToContext(fo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:fo.parsedType}),INVALID;if(fo.data.length<this._def.items.length)return addIssueToContext(fo,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&fo.data.length>this._def.items.length&&(addIssueToContext(fo,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),io.dirty());const $o=[...fo.data].map((Ao,Lo)=>{const Wo=this._def.items[Lo]||this._def.rest;return Wo?Wo._parse(new ParseInputLazyPath(fo,Ao,fo.path,Lo)):null}).filter(Ao=>!!Ao);return fo.common.async?Promise.all($o).then(Ao=>ParseStatus.mergeArray(io,Ao)):ParseStatus.mergeArray(io,$o)}get items(){return this._def.items}rest(Mn){return new ZodTuple({...this._def,rest:Mn})}}ZodTuple.create=(Fn,Mn)=>{if(!Array.isArray(Fn))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:Fn,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(Mn)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(Mn){const{status:io,ctx:fo}=this._processInputParams(Mn);if(fo.parsedType!==ZodParsedType.object)return addIssueToContext(fo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:fo.parsedType}),INVALID;const mo=[],$o=this._def.keyType,Ao=this._def.valueType;for(const Lo in fo.data)mo.push({key:$o._parse(new ParseInputLazyPath(fo,Lo,fo.path,Lo)),value:Ao._parse(new ParseInputLazyPath(fo,fo.data[Lo],fo.path,Lo))});return fo.common.async?ParseStatus.mergeObjectAsync(io,mo):ParseStatus.mergeObjectSync(io,mo)}get element(){return this._def.valueType}static create(Mn,io,fo){return io instanceof ZodType?new ZodRecord({keyType:Mn,valueType:io,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(fo)}):new ZodRecord({keyType:ZodString.create(),valueType:Mn,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(io)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(Mn){const{status:io,ctx:fo}=this._processInputParams(Mn);if(fo.parsedType!==ZodParsedType.map)return addIssueToContext(fo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:fo.parsedType}),INVALID;const mo=this._def.keyType,$o=this._def.valueType,Ao=[...fo.data.entries()].map(([Lo,Wo],jo)=>({key:mo._parse(new ParseInputLazyPath(fo,Lo,fo.path,[jo,"key"])),value:$o._parse(new ParseInputLazyPath(fo,Wo,fo.path,[jo,"value"]))}));if(fo.common.async){const Lo=new Map;return Promise.resolve().then(async()=>{for(const Wo of Ao){const jo=await Wo.key,zo=await Wo.value;if(jo.status==="aborted"||zo.status==="aborted")return INVALID;(jo.status==="dirty"||zo.status==="dirty")&&io.dirty(),Lo.set(jo.value,zo.value)}return{status:io.value,value:Lo}})}else{const Lo=new Map;for(const Wo of Ao){const jo=Wo.key,zo=Wo.value;if(jo.status==="aborted"||zo.status==="aborted")return INVALID;(jo.status==="dirty"||zo.status==="dirty")&&io.dirty(),Lo.set(jo.value,zo.value)}return{status:io.value,value:Lo}}}}ZodMap.create=(Fn,Mn,io)=>new ZodMap({valueType:Mn,keyType:Fn,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(io)});class ZodSet extends ZodType{_parse(Mn){const{status:io,ctx:fo}=this._processInputParams(Mn);if(fo.parsedType!==ZodParsedType.set)return addIssueToContext(fo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:fo.parsedType}),INVALID;const mo=this._def;mo.minSize!==null&&fo.data.size<mo.minSize.value&&(addIssueToContext(fo,{code:ZodIssueCode.too_small,minimum:mo.minSize.value,type:"set",inclusive:!0,exact:!1,message:mo.minSize.message}),io.dirty()),mo.maxSize!==null&&fo.data.size>mo.maxSize.value&&(addIssueToContext(fo,{code:ZodIssueCode.too_big,maximum:mo.maxSize.value,type:"set",inclusive:!0,exact:!1,message:mo.maxSize.message}),io.dirty());const $o=this._def.valueType;function Ao(Wo){const jo=new Set;for(const zo of Wo){if(zo.status==="aborted")return INVALID;zo.status==="dirty"&&io.dirty(),jo.add(zo.value)}return{status:io.value,value:jo}}const Lo=[...fo.data.values()].map((Wo,jo)=>$o._parse(new ParseInputLazyPath(fo,Wo,fo.path,jo)));return fo.common.async?Promise.all(Lo).then(Wo=>Ao(Wo)):Ao(Lo)}min(Mn,io){return new ZodSet({...this._def,minSize:{value:Mn,message:errorUtil.toString(io)}})}max(Mn,io){return new ZodSet({...this._def,maxSize:{value:Mn,message:errorUtil.toString(io)}})}size(Mn,io){return this.min(Mn,io).max(Mn,io)}nonempty(Mn){return this.min(1,Mn)}}ZodSet.create=(Fn,Mn)=>new ZodSet({valueType:Fn,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(Mn)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(Mn){const{ctx:io}=this._processInputParams(Mn);if(io.parsedType!==ZodParsedType.function)return addIssueToContext(io,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:io.parsedType}),INVALID;function fo(Lo,Wo){return makeIssue({data:Lo,path:io.path,errorMaps:[io.common.contextualErrorMap,io.schemaErrorMap,getErrorMap(),errorMap].filter(jo=>!!jo),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:Wo}})}function mo(Lo,Wo){return makeIssue({data:Lo,path:io.path,errorMaps:[io.common.contextualErrorMap,io.schemaErrorMap,getErrorMap(),errorMap].filter(jo=>!!jo),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:Wo}})}const $o={errorMap:io.common.contextualErrorMap},Ao=io.data;if(this._def.returns instanceof ZodPromise){const Lo=this;return OK(async function(...Wo){const jo=new ZodError([]),zo=await Lo._def.args.parseAsync(Wo,$o).catch(Jo=>{throw jo.addIssue(fo(Wo,Jo)),jo}),Vo=await Reflect.apply(Ao,this,zo);return await Lo._def.returns._def.type.parseAsync(Vo,$o).catch(Jo=>{throw jo.addIssue(mo(Vo,Jo)),jo})})}else{const Lo=this;return OK(function(...Wo){const jo=Lo._def.args.safeParse(Wo,$o);if(!jo.success)throw new ZodError([fo(Wo,jo.error)]);const zo=Reflect.apply(Ao,this,jo.data),Vo=Lo._def.returns.safeParse(zo,$o);if(!Vo.success)throw new ZodError([mo(zo,Vo.error)]);return Vo.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...Mn){return new ZodFunction({...this._def,args:ZodTuple.create(Mn).rest(ZodUnknown.create())})}returns(Mn){return new ZodFunction({...this._def,returns:Mn})}implement(Mn){return this.parse(Mn)}strictImplement(Mn){return this.parse(Mn)}static create(Mn,io,fo){return new ZodFunction({args:Mn||ZodTuple.create([]).rest(ZodUnknown.create()),returns:io||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(fo)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(Mn){const{ctx:io}=this._processInputParams(Mn);return this._def.getter()._parse({data:io.data,path:io.path,parent:io})}}ZodLazy.create=(Fn,Mn)=>new ZodLazy({getter:Fn,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(Mn)});class ZodLiteral extends ZodType{_parse(Mn){if(Mn.data!==this._def.value){const io=this._getOrReturnCtx(Mn);return addIssueToContext(io,{received:io.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:Mn.data}}get value(){return this._def.value}}ZodLiteral.create=(Fn,Mn)=>new ZodLiteral({value:Fn,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(Mn)});function createZodEnum(Fn,Mn){return new ZodEnum({values:Fn,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(Mn)})}class ZodEnum extends ZodType{_parse(Mn){if(typeof Mn.data!="string"){const io=this._getOrReturnCtx(Mn),fo=this._def.values;return addIssueToContext(io,{expected:util$5.joinValues(fo),received:io.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._def.values.indexOf(Mn.data)===-1){const io=this._getOrReturnCtx(Mn),fo=this._def.values;return addIssueToContext(io,{received:io.data,code:ZodIssueCode.invalid_enum_value,options:fo}),INVALID}return OK(Mn.data)}get options(){return this._def.values}get enum(){const Mn={};for(const io of this._def.values)Mn[io]=io;return Mn}get Values(){const Mn={};for(const io of this._def.values)Mn[io]=io;return Mn}get Enum(){const Mn={};for(const io of this._def.values)Mn[io]=io;return Mn}extract(Mn){return ZodEnum.create(Mn)}exclude(Mn){return ZodEnum.create(this.options.filter(io=>!Mn.includes(io)))}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(Mn){const io=util$5.getValidEnumValues(this._def.values),fo=this._getOrReturnCtx(Mn);if(fo.parsedType!==ZodParsedType.string&&fo.parsedType!==ZodParsedType.number){const mo=util$5.objectValues(io);return addIssueToContext(fo,{expected:util$5.joinValues(mo),received:fo.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(io.indexOf(Mn.data)===-1){const mo=util$5.objectValues(io);return addIssueToContext(fo,{received:fo.data,code:ZodIssueCode.invalid_enum_value,options:mo}),INVALID}return OK(Mn.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(Fn,Mn)=>new ZodNativeEnum({values:Fn,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(Mn)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(Mn){const{ctx:io}=this._processInputParams(Mn);if(io.parsedType!==ZodParsedType.promise&&io.common.async===!1)return addIssueToContext(io,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:io.parsedType}),INVALID;const fo=io.parsedType===ZodParsedType.promise?io.data:Promise.resolve(io.data);return OK(fo.then(mo=>this._def.type.parseAsync(mo,{path:io.path,errorMap:io.common.contextualErrorMap})))}}ZodPromise.create=(Fn,Mn)=>new ZodPromise({type:Fn,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(Mn)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(Mn){const{status:io,ctx:fo}=this._processInputParams(Mn),mo=this._def.effect||null,$o={addIssue:Ao=>{addIssueToContext(fo,Ao),Ao.fatal?io.abort():io.dirty()},get path(){return fo.path}};if($o.addIssue=$o.addIssue.bind($o),mo.type==="preprocess"){const Ao=mo.transform(fo.data,$o);return fo.common.issues.length?{status:"dirty",value:fo.data}:fo.common.async?Promise.resolve(Ao).then(Lo=>this._def.schema._parseAsync({data:Lo,path:fo.path,parent:fo})):this._def.schema._parseSync({data:Ao,path:fo.path,parent:fo})}if(mo.type==="refinement"){const Ao=Lo=>{const Wo=mo.refinement(Lo,$o);if(fo.common.async)return Promise.resolve(Wo);if(Wo instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return Lo};if(fo.common.async===!1){const Lo=this._def.schema._parseSync({data:fo.data,path:fo.path,parent:fo});return Lo.status==="aborted"?INVALID:(Lo.status==="dirty"&&io.dirty(),Ao(Lo.value),{status:io.value,value:Lo.value})}else return this._def.schema._parseAsync({data:fo.data,path:fo.path,parent:fo}).then(Lo=>Lo.status==="aborted"?INVALID:(Lo.status==="dirty"&&io.dirty(),Ao(Lo.value).then(()=>({status:io.value,value:Lo.value}))))}if(mo.type==="transform")if(fo.common.async===!1){const Ao=this._def.schema._parseSync({data:fo.data,path:fo.path,parent:fo});if(!isValid(Ao))return Ao;const Lo=mo.transform(Ao.value,$o);if(Lo instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:io.value,value:Lo}}else return this._def.schema._parseAsync({data:fo.data,path:fo.path,parent:fo}).then(Ao=>isValid(Ao)?Promise.resolve(mo.transform(Ao.value,$o)).then(Lo=>({status:io.value,value:Lo})):Ao);util$5.assertNever(mo)}}ZodEffects.create=(Fn,Mn,io)=>new ZodEffects({schema:Fn,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:Mn,...processCreateParams(io)});ZodEffects.createWithPreprocess=(Fn,Mn,io)=>new ZodEffects({schema:Mn,effect:{type:"preprocess",transform:Fn},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(io)});class ZodOptional extends ZodType{_parse(Mn){return this._getType(Mn)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(Mn)}unwrap(){return this._def.innerType}}ZodOptional.create=(Fn,Mn)=>new ZodOptional({innerType:Fn,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(Mn)});class ZodNullable extends ZodType{_parse(Mn){return this._getType(Mn)===ZodParsedType.null?OK(null):this._def.innerType._parse(Mn)}unwrap(){return this._def.innerType}}ZodNullable.create=(Fn,Mn)=>new ZodNullable({innerType:Fn,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(Mn)});class ZodDefault extends ZodType{_parse(Mn){const{ctx:io}=this._processInputParams(Mn);let fo=io.data;return io.parsedType===ZodParsedType.undefined&&(fo=this._def.defaultValue()),this._def.innerType._parse({data:fo,path:io.path,parent:io})}removeDefault(){return this._def.innerType}}ZodDefault.create=(Fn,Mn)=>new ZodDefault({innerType:Fn,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof Mn.default=="function"?Mn.default:()=>Mn.default,...processCreateParams(Mn)});class ZodCatch extends ZodType{_parse(Mn){const{ctx:io}=this._processInputParams(Mn),fo={...io,common:{...io.common,issues:[]}},mo=this._def.innerType._parse({data:fo.data,path:fo.path,parent:{...fo}});return isAsync$1(mo)?mo.then($o=>({status:"valid",value:$o.status==="valid"?$o.value:this._def.catchValue({get error(){return new ZodError(fo.common.issues)},input:fo.data})})):{status:"valid",value:mo.status==="valid"?mo.value:this._def.catchValue({get error(){return new ZodError(fo.common.issues)},input:fo.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(Fn,Mn)=>new ZodCatch({innerType:Fn,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof Mn.catch=="function"?Mn.catch:()=>Mn.catch,...processCreateParams(Mn)});class ZodNaN extends ZodType{_parse(Mn){if(this._getType(Mn)!==ZodParsedType.nan){const fo=this._getOrReturnCtx(Mn);return addIssueToContext(fo,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:fo.parsedType}),INVALID}return{status:"valid",value:Mn.data}}}ZodNaN.create=Fn=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(Fn)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(Mn){const{ctx:io}=this._processInputParams(Mn),fo=io.data;return this._def.type._parse({data:fo,path:io.path,parent:io})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(Mn){const{status:io,ctx:fo}=this._processInputParams(Mn);if(fo.common.async)return(async()=>{const $o=await this._def.in._parseAsync({data:fo.data,path:fo.path,parent:fo});return $o.status==="aborted"?INVALID:$o.status==="dirty"?(io.dirty(),DIRTY($o.value)):this._def.out._parseAsync({data:$o.value,path:fo.path,parent:fo})})();{const mo=this._def.in._parseSync({data:fo.data,path:fo.path,parent:fo});return mo.status==="aborted"?INVALID:mo.status==="dirty"?(io.dirty(),{status:"dirty",value:mo.value}):this._def.out._parseSync({data:mo.value,path:fo.path,parent:fo})}}static create(Mn,io){return new ZodPipeline({in:Mn,out:io,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(Mn){const io=this._def.innerType._parse(Mn);return isValid(io)&&(io.value=Object.freeze(io.value)),io}}ZodReadonly.create=(Fn,Mn)=>new ZodReadonly({innerType:Fn,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(Mn)});const custom$1=(Fn,Mn={},io)=>Fn?ZodAny.create().superRefine((fo,mo)=>{var $o,Ao;if(!Fn(fo)){const Lo=typeof Mn=="function"?Mn(fo):typeof Mn=="string"?{message:Mn}:Mn,Wo=(Ao=($o=Lo.fatal)!==null&&$o!==void 0?$o:io)!==null&&Ao!==void 0?Ao:!0,jo=typeof Lo=="string"?{message:Lo}:Lo;mo.addIssue({code:"custom",...jo,fatal:Wo})}}):ZodAny.create(),late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(Fn){Fn.ZodString="ZodString",Fn.ZodNumber="ZodNumber",Fn.ZodNaN="ZodNaN",Fn.ZodBigInt="ZodBigInt",Fn.ZodBoolean="ZodBoolean",Fn.ZodDate="ZodDate",Fn.ZodSymbol="ZodSymbol",Fn.ZodUndefined="ZodUndefined",Fn.ZodNull="ZodNull",Fn.ZodAny="ZodAny",Fn.ZodUnknown="ZodUnknown",Fn.ZodNever="ZodNever",Fn.ZodVoid="ZodVoid",Fn.ZodArray="ZodArray",Fn.ZodObject="ZodObject",Fn.ZodUnion="ZodUnion",Fn.ZodDiscriminatedUnion="ZodDiscriminatedUnion",Fn.ZodIntersection="ZodIntersection",Fn.ZodTuple="ZodTuple",Fn.ZodRecord="ZodRecord",Fn.ZodMap="ZodMap",Fn.ZodSet="ZodSet",Fn.ZodFunction="ZodFunction",Fn.ZodLazy="ZodLazy",Fn.ZodLiteral="ZodLiteral",Fn.ZodEnum="ZodEnum",Fn.ZodEffects="ZodEffects",Fn.ZodNativeEnum="ZodNativeEnum",Fn.ZodOptional="ZodOptional",Fn.ZodNullable="ZodNullable",Fn.ZodDefault="ZodDefault",Fn.ZodCatch="ZodCatch",Fn.ZodPromise="ZodPromise",Fn.ZodBranded="ZodBranded",Fn.ZodPipeline="ZodPipeline",Fn.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(Fn,Mn={message:`Input not instance of ${Fn.name}`})=>custom$1(io=>io instanceof Fn,Mn),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce$f={string:Fn=>ZodString.create({...Fn,coerce:!0}),number:Fn=>ZodNumber.create({...Fn,coerce:!0}),boolean:Fn=>ZodBoolean.create({...Fn,coerce:!0}),bigint:Fn=>ZodBigInt.create({...Fn,coerce:!0}),date:Fn=>ZodDate.create({...Fn,coerce:!0})},NEVER=INVALID;var z$7=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync:isAsync$1,get util(){return util$5},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom:custom$1,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce:coerce$f,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const zError=z$7.object({message:z$7.string()});function zType(Fn){return z$7.literal(W3mFrameConstants[Fn])}z$7.object({accessList:z$7.array(z$7.string()),blockHash:z$7.string().nullable(),blockNumber:z$7.string().nullable(),chainId:z$7.string().or(z$7.number()),from:z$7.string(),gas:z$7.string(),hash:z$7.string(),input:z$7.string().nullable(),maxFeePerGas:z$7.string(),maxPriorityFeePerGas:z$7.string(),nonce:z$7.string(),r:z$7.string(),s:z$7.string(),to:z$7.string(),transactionIndex:z$7.string().nullable(),type:z$7.string(),v:z$7.string(),value:z$7.string()});const AppSwitchNetworkRequest=z$7.object({chainId:z$7.string().or(z$7.number())}),AppConnectEmailRequest=z$7.object({email:z$7.string().email()}),AppConnectOtpRequest=z$7.object({otp:z$7.string()}),AppConnectSocialRequest=z$7.object({uri:z$7.string()}),AppGetUserRequest=z$7.object({chainId:z$7.optional(z$7.string().or(z$7.number())),preferredAccountType:z$7.optional(z$7.string())}),AppGetSocialRedirectUriRequest=z$7.object({provider:z$7.enum(["google","github","apple","facebook","x","discord"])}),AppUpdateEmailRequest=z$7.object({email:z$7.string().email()}),AppUpdateEmailPrimaryOtpRequest=z$7.object({otp:z$7.string()}),AppUpdateEmailSecondaryOtpRequest=z$7.object({otp:z$7.string()}),AppSyncThemeRequest=z$7.object({themeMode:z$7.optional(z$7.enum(["light","dark"])),themeVariables:z$7.optional(z$7.record(z$7.string(),z$7.string().or(z$7.number()))),w3mThemeVariables:z$7.optional(z$7.record(z$7.string(),z$7.string()))}),AppSyncDappDataRequest=z$7.object({metadata:z$7.object({name:z$7.string(),description:z$7.string(),url:z$7.string(),icons:z$7.array(z$7.string())}).optional(),sdkVersion:z$7.string().optional(),sdkType:z$7.string().optional(),projectId:z$7.string()}),AppSetPreferredAccountRequest=z$7.object({type:z$7.string()}),FrameConnectEmailResponse=z$7.object({action:z$7.enum(["VERIFY_DEVICE","VERIFY_OTP"])}),FrameGetFarcasterUriResponse=z$7.object({url:z$7.string()}),FrameConnectFarcasterResponse=z$7.object({userName:z$7.string()}),FrameConnectSocialResponse=z$7.object({email:z$7.string(),address:z$7.string(),chainId:z$7.string().or(z$7.number()),accounts:z$7.array(z$7.object({address:z$7.string(),type:z$7.enum([W3mFrameRpcConstants.ACCOUNT_TYPES.EOA,W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:z$7.string().optional()}),FrameUpdateEmailResponse=z$7.object({action:z$7.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),FrameGetUserResponse=z$7.object({email:z$7.string().email().optional().nullable(),address:z$7.string(),chainId:z$7.string().or(z$7.number()),smartAccountDeployed:z$7.optional(z$7.boolean()),accounts:z$7.array(z$7.object({address:z$7.string(),type:z$7.enum([W3mFrameRpcConstants.ACCOUNT_TYPES.EOA,W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:z$7.optional(z$7.string())}),FrameGetSocialRedirectUriResponse=z$7.object({uri:z$7.string()}),FrameIsConnectedResponse=z$7.object({isConnected:z$7.boolean()}),FrameGetChainIdResponse=z$7.object({chainId:z$7.string().or(z$7.number())}),FrameSwitchNetworkResponse=z$7.object({chainId:z$7.string().or(z$7.number())}),FrameUpdateEmailSecondaryOtpResponse=z$7.object({newEmail:z$7.string().email()}),FrameGetSmartAccountEnabledNetworksResponse=z$7.object({smartAccountEnabledNetworks:z$7.array(z$7.number())});z$7.object({address:z$7.string(),isDeployed:z$7.boolean()});const FrameReadyResponse=z$7.object({version:z$7.string().optional()}),FrameSetPreferredAccountResponse=z$7.object({type:z$7.string(),address:z$7.string()}),RpcResponse=z$7.any(),RpcEthAccountsRequest=z$7.object({method:z$7.literal("eth_accounts")}),RpcEthBlockNumber=z$7.object({method:z$7.literal("eth_blockNumber")}),RpcEthCall=z$7.object({method:z$7.literal("eth_call"),params:z$7.array(z$7.any())}),RpcEthChainId=z$7.object({method:z$7.literal("eth_chainId")}),RpcEthEstimateGas=z$7.object({method:z$7.literal("eth_estimateGas"),params:z$7.array(z$7.any())}),RpcEthFeeHistory=z$7.object({method:z$7.literal("eth_feeHistory"),params:z$7.array(z$7.any())}),RpcEthGasPrice=z$7.object({method:z$7.literal("eth_gasPrice")}),RpcEthGetAccount=z$7.object({method:z$7.literal("eth_getAccount"),params:z$7.array(z$7.any())}),RpcEthGetBalance=z$7.object({method:z$7.literal("eth_getBalance"),params:z$7.array(z$7.any())}),RpcEthGetBlockyByHash=z$7.object({method:z$7.literal("eth_getBlockByHash"),params:z$7.array(z$7.any())}),RpcEthGetBlockByNumber=z$7.object({method:z$7.literal("eth_getBlockByNumber"),params:z$7.array(z$7.any())}),RpcEthGetBlockReceipts=z$7.object({method:z$7.literal("eth_getBlockReceipts"),params:z$7.array(z$7.any())}),RcpEthGetBlockTransactionCountByHash=z$7.object({method:z$7.literal("eth_getBlockTransactionCountByHash"),params:z$7.array(z$7.any())}),RcpEthGetBlockTransactionCountByNumber=z$7.object({method:z$7.literal("eth_getBlockTransactionCountByNumber"),params:z$7.array(z$7.any())}),RpcEthGetCode=z$7.object({method:z$7.literal("eth_getCode"),params:z$7.array(z$7.any())}),RpcEthGetFilter=z$7.object({method:z$7.literal("eth_getFilterChanges"),params:z$7.array(z$7.any())}),RpcEthGetFilterLogs=z$7.object({method:z$7.literal("eth_getFilterLogs"),params:z$7.array(z$7.any())}),RpcEthGetLogs=z$7.object({method:z$7.literal("eth_getLogs"),params:z$7.array(z$7.any())}),RpcEthGetProof=z$7.object({method:z$7.literal("eth_getProof"),params:z$7.array(z$7.any())}),RpcEthGetStorageAt=z$7.object({method:z$7.literal("eth_getStorageAt"),params:z$7.array(z$7.any())}),RpcEthGetTransactionByBlockHashAndIndex=z$7.object({method:z$7.literal("eth_getTransactionByBlockHashAndIndex"),params:z$7.array(z$7.any())}),RpcEthGetTransactionByBlockNumberAndIndex=z$7.object({method:z$7.literal("eth_getTransactionByBlockNumberAndIndex"),params:z$7.array(z$7.any())}),RpcEthGetTransactionByHash=z$7.object({method:z$7.literal("eth_getTransactionByHash"),params:z$7.array(z$7.any())}),RpcEthGetTransactionCount=z$7.object({method:z$7.literal("eth_getTransactionCount"),params:z$7.array(z$7.any())}),RpcEthGetTransactionReceipt=z$7.object({method:z$7.literal("eth_getTransactionReceipt"),params:z$7.array(z$7.any())}),RpcEthGetUncleCountByBlockHash=z$7.object({method:z$7.literal("eth_getUncleCountByBlockHash"),params:z$7.array(z$7.any())}),RpcEthGetUncleCountByBlockNumber=z$7.object({method:z$7.literal("eth_getUncleCountByBlockNumber"),params:z$7.array(z$7.any())}),RpcEthMaxPriorityFeePerGas=z$7.object({method:z$7.literal("eth_maxPriorityFeePerGas")}),RpcEthNewBlockFilter=z$7.object({method:z$7.literal("eth_newBlockFilter")}),RpcEthNewFilter=z$7.object({method:z$7.literal("eth_newFilter"),params:z$7.array(z$7.any())}),RpcEthNewPendingTransactionFilter=z$7.object({method:z$7.literal("eth_newPendingTransactionFilter")}),RpcEthSendRawTransaction=z$7.object({method:z$7.literal("eth_sendRawTransaction"),params:z$7.array(z$7.any())}),RpcEthSyncing=z$7.object({method:z$7.literal("eth_syncing"),params:z$7.array(z$7.any())}),RpcUnistallFilter=z$7.object({method:z$7.literal("eth_uninstallFilter"),params:z$7.array(z$7.any())}),RpcPersonalSignRequest=z$7.object({method:z$7.literal("personal_sign"),params:z$7.array(z$7.any())}),RpcEthSignTypedDataV4=z$7.object({method:z$7.literal("eth_signTypedData_v4"),params:z$7.array(z$7.any())}),RpcEthSendTransactionRequest=z$7.object({method:z$7.literal("eth_sendTransaction"),params:z$7.array(z$7.any())}),RpcSolanaSignMessageRequest=z$7.object({method:z$7.literal("solana_signMessage"),params:z$7.object({message:z$7.string(),pubkey:z$7.string()})}),RpcSolanaSignTransactionRequest=z$7.object({method:z$7.literal("solana_signTransaction"),params:z$7.object({transaction:z$7.string()})}),RpcSolanaSignAllTransactionsRequest=z$7.object({method:z$7.literal("solana_signAllTransactions"),params:z$7.object({transactions:z$7.array(z$7.string())})}),RpcSolanaSignAndSendTransactionRequest=z$7.object({method:z$7.literal("solana_signAndSendTransaction"),params:z$7.object({transaction:z$7.string(),options:z$7.object({skipPreflight:z$7.boolean().optional(),preflightCommitment:z$7.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:z$7.number().optional(),minContextSlot:z$7.number().optional()}).optional()})}),WalletSendCallsRequest=z$7.object({method:z$7.literal("wallet_sendCalls"),params:z$7.array(z$7.object({chainId:z$7.string().or(z$7.number()).optional(),from:z$7.string().optional(),version:z$7.string().optional(),capabilities:z$7.any().optional(),calls:z$7.array(z$7.object({to:z$7.string().startsWith("0x"),data:z$7.string().startsWith("0x").optional(),value:z$7.string().optional()}))}))}),WalletGetCallsReceiptRequest=z$7.object({method:z$7.literal("wallet_getCallsStatus"),params:z$7.array(z$7.string())}),WalletGetCapabilitiesRequest=z$7.object({method:z$7.literal("wallet_getCapabilities")}),WalletGrantPermissionsRequest=z$7.object({method:z$7.literal("wallet_grantPermissions"),params:z$7.array(z$7.any())}),WalletRevokePermissionsRequest=z$7.object({method:z$7.literal("wallet_revokePermissions"),params:z$7.any()}),FrameSession=z$7.object({token:z$7.string()}),EventSchema=z$7.object({id:z$7.string().optional()}),W3mFrameSchema={appEvent:EventSchema.extend({type:zType("APP_SWITCH_NETWORK"),payload:AppSwitchNetworkRequest}).or(EventSchema.extend({type:zType("APP_CONNECT_EMAIL"),payload:AppConnectEmailRequest})).or(EventSchema.extend({type:zType("APP_CONNECT_DEVICE")})).or(EventSchema.extend({type:zType("APP_CONNECT_OTP"),payload:AppConnectOtpRequest})).or(EventSchema.extend({type:zType("APP_CONNECT_SOCIAL"),payload:AppConnectSocialRequest})).or(EventSchema.extend({type:zType("APP_GET_FARCASTER_URI")})).or(EventSchema.extend({type:zType("APP_CONNECT_FARCASTER")})).or(EventSchema.extend({type:zType("APP_GET_USER"),payload:z$7.optional(AppGetUserRequest)})).or(EventSchema.extend({type:zType("APP_GET_SOCIAL_REDIRECT_URI"),payload:AppGetSocialRedirectUriRequest})).or(EventSchema.extend({type:zType("APP_SIGN_OUT")})).or(EventSchema.extend({type:zType("APP_IS_CONNECTED"),payload:z$7.optional(FrameSession)})).or(EventSchema.extend({type:zType("APP_GET_CHAIN_ID")})).or(EventSchema.extend({type:zType("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(EventSchema.extend({type:zType("APP_INIT_SMART_ACCOUNT")})).or(EventSchema.extend({type:zType("APP_SET_PREFERRED_ACCOUNT"),payload:AppSetPreferredAccountRequest})).or(EventSchema.extend({type:zType("APP_RPC_REQUEST"),payload:RpcPersonalSignRequest.or(RpcEthSendTransactionRequest).or(RpcEthAccountsRequest).or(RpcEthBlockNumber).or(RpcEthCall).or(RpcEthChainId).or(RpcEthEstimateGas).or(RpcEthFeeHistory).or(RpcEthGasPrice).or(RpcEthGetAccount).or(RpcEthGetBalance).or(RpcEthGetBlockyByHash).or(RpcEthGetBlockByNumber).or(RpcEthGetBlockReceipts).or(RcpEthGetBlockTransactionCountByHash).or(RcpEthGetBlockTransactionCountByNumber).or(RpcEthGetCode).or(RpcEthGetFilter).or(RpcEthGetFilterLogs).or(RpcEthGetLogs).or(RpcEthGetProof).or(RpcEthGetStorageAt).or(RpcEthGetTransactionByBlockHashAndIndex).or(RpcEthGetTransactionByBlockNumberAndIndex).or(RpcEthGetTransactionByHash).or(RpcEthGetTransactionCount).or(RpcEthGetTransactionReceipt).or(RpcEthGetUncleCountByBlockHash).or(RpcEthGetUncleCountByBlockNumber).or(RpcEthMaxPriorityFeePerGas).or(RpcEthNewBlockFilter).or(RpcEthNewFilter).or(RpcEthNewPendingTransactionFilter).or(RpcEthSendRawTransaction).or(RpcEthSyncing).or(RpcUnistallFilter).or(RpcPersonalSignRequest).or(RpcEthSignTypedDataV4).or(RpcEthSendTransactionRequest).or(RpcSolanaSignMessageRequest).or(RpcSolanaSignTransactionRequest).or(RpcSolanaSignAllTransactionsRequest).or(RpcSolanaSignAndSendTransactionRequest).or(WalletGetCallsReceiptRequest).or(WalletSendCallsRequest).or(WalletGetCapabilitiesRequest).or(WalletGrantPermissionsRequest).or(WalletRevokePermissionsRequest)})).or(EventSchema.extend({type:zType("APP_UPDATE_EMAIL"),payload:AppUpdateEmailRequest})).or(EventSchema.extend({type:zType("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:AppUpdateEmailPrimaryOtpRequest})).or(EventSchema.extend({type:zType("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:AppUpdateEmailSecondaryOtpRequest})).or(EventSchema.extend({type:zType("APP_SYNC_THEME"),payload:AppSyncThemeRequest})).or(EventSchema.extend({type:zType("APP_SYNC_DAPP_DATA"),payload:AppSyncDappDataRequest})),frameEvent:EventSchema.extend({type:zType("FRAME_SWITCH_NETWORK_ERROR"),payload:zError}).or(EventSchema.extend({type:zType("FRAME_SWITCH_NETWORK_SUCCESS"),payload:FrameSwitchNetworkResponse})).or(EventSchema.extend({type:zType("FRAME_CONNECT_EMAIL_SUCCESS"),payload:FrameConnectEmailResponse})).or(EventSchema.extend({type:zType("FRAME_CONNECT_EMAIL_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:FrameGetFarcasterUriResponse})).or(EventSchema.extend({type:zType("FRAME_GET_FARCASTER_URI_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:FrameConnectFarcasterResponse})).or(EventSchema.extend({type:zType("FRAME_CONNECT_FARCASTER_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_CONNECT_OTP_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_CONNECT_OTP_SUCCESS")})).or(EventSchema.extend({type:zType("FRAME_CONNECT_DEVICE_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_CONNECT_DEVICE_SUCCESS")})).or(EventSchema.extend({type:zType("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:FrameConnectSocialResponse})).or(EventSchema.extend({type:zType("FRAME_CONNECT_SOCIAL_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_GET_USER_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_GET_USER_SUCCESS"),payload:FrameGetUserResponse})).or(EventSchema.extend({type:zType("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:FrameGetSocialRedirectUriResponse})).or(EventSchema.extend({type:zType("FRAME_SIGN_OUT_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_SIGN_OUT_SUCCESS")})).or(EventSchema.extend({type:zType("FRAME_IS_CONNECTED_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_IS_CONNECTED_SUCCESS"),payload:FrameIsConnectedResponse})).or(EventSchema.extend({type:zType("FRAME_GET_CHAIN_ID_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_GET_CHAIN_ID_SUCCESS"),payload:FrameGetChainIdResponse})).or(EventSchema.extend({type:zType("FRAME_RPC_REQUEST_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_RPC_REQUEST_SUCCESS"),payload:RpcResponse})).or(EventSchema.extend({type:zType("FRAME_SESSION_UPDATE"),payload:FrameSession})).or(EventSchema.extend({type:zType("FRAME_UPDATE_EMAIL_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_UPDATE_EMAIL_SUCCESS"),payload:FrameUpdateEmailResponse})).or(EventSchema.extend({type:zType("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(EventSchema.extend({type:zType("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:FrameUpdateEmailSecondaryOtpResponse})).or(EventSchema.extend({type:zType("FRAME_SYNC_THEME_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_SYNC_THEME_SUCCESS")})).or(EventSchema.extend({type:zType("FRAME_SYNC_DAPP_DATA_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(EventSchema.extend({type:zType("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:FrameGetSmartAccountEnabledNetworksResponse})).or(EventSchema.extend({type:zType("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:FrameSetPreferredAccountResponse})).or(EventSchema.extend({type:zType("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:zError})).or(EventSchema.extend({type:zType("FRAME_READY"),payload:FrameReadyResponse}))},W3mFrameStorage={set(Fn,Mn){W3mFrameHelpers.isClient&&localStorage.setItem(`${W3mFrameConstants.STORAGE_KEY}${Fn}`,Mn)},get(Fn){return W3mFrameHelpers.isClient?localStorage.getItem(`${W3mFrameConstants.STORAGE_KEY}${Fn}`):null},delete(Fn,Mn){W3mFrameHelpers.isClient&&(Mn?localStorage.removeItem(Fn):localStorage.removeItem(`${W3mFrameConstants.STORAGE_KEY}${Fn}`))}},RegexUtil={address:/^0x(?:[A-Fa-f0-9]{40})$/u,transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},EMAIL_MINIMUM_TIMEOUT=30*1e3,W3mFrameHelpers={checkIfAllowedToTriggerEmail(){const Fn=W3mFrameStorage.get(W3mFrameConstants.LAST_EMAIL_LOGIN_TIME);if(Fn){const Mn=Date.now()-Number(Fn);if(Mn<EMAIL_MINIMUM_TIMEOUT){const io=Math.ceil((EMAIL_MINIMUM_TIMEOUT-Mn)/1e3);throw new Error(`Please try again after ${io} seconds`)}}},getTimeToNextEmailLogin(){const Fn=W3mFrameStorage.get(W3mFrameConstants.LAST_EMAIL_LOGIN_TIME);if(Fn){const Mn=Date.now()-Number(Fn);if(Mn<EMAIL_MINIMUM_TIMEOUT)return Math.ceil((EMAIL_MINIMUM_TIMEOUT-Mn)/1e3)}return 0},checkIfRequestExists(Fn){return W3mFrameRpcConstants.NOT_SAFE_RPC_METHODS.includes(Fn.method)||W3mFrameRpcConstants.SAFE_RPC_METHODS.includes(Fn.method)},getResponseType(Fn){return typeof Fn=="string"&&((Fn==null?void 0:Fn.match(RegexUtil.transactionHash))||(Fn==null?void 0:Fn.match(RegexUtil.signedMessage)))?W3mFrameConstants.RPC_RESPONSE_TYPE_TX:W3mFrameConstants.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(Fn){return W3mFrameRpcConstants.SAFE_RPC_METHODS.includes(Fn.method)},isClient:typeof window<"u"};class W3mFrame{constructor(Mn,io=!1,fo="eip155:1"){if(this.iframe=null,this.rpcUrl=ConstantsUtil$3.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const mo=document.getElementById("w3m-iframe");this.iframe&&!mo&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(mo,$o,Ao)=>{function Lo({data:Wo}){if(typeof Wo.type!="string"||!Wo.type.includes(W3mFrameConstants.FRAME_EVENT_KEY))return;const jo=W3mFrameSchema.frameEvent.parse(Wo);jo.id===mo&&($o(jo),window.removeEventListener("message",Lo))}W3mFrameHelpers.isClient&&(window.addEventListener("message",Lo),Ao.addEventListener("abort",()=>{window.removeEventListener("message",Lo)}))},onFrameEvent:mo=>{W3mFrameHelpers.isClient&&window.addEventListener("message",({data:$o})=>{if(typeof $o.type!="string"||!$o.type.includes(W3mFrameConstants.FRAME_EVENT_KEY))return;const Ao=W3mFrameSchema.frameEvent.parse($o);mo(Ao)})},onAppEvent:mo=>{W3mFrameHelpers.isClient&&window.addEventListener("message",({data:$o})=>{if(typeof $o.type!="string"||!$o.type.includes(W3mFrameConstants.APP_EVENT_KEY))return;const Ao=W3mFrameSchema.appEvent.parse($o);mo(Ao)})},postAppEvent:mo=>{var $o;if(W3mFrameHelpers.isClient){if(!(($o=this.iframe)!=null&&$o.contentWindow))throw new Error("W3mFrame: iframe is not set");W3mFrameSchema.appEvent.parse(mo),this.iframe.contentWindow.postMessage(mo,"*")}},postFrameEvent:mo=>{if(W3mFrameHelpers.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");W3mFrameSchema.frameEvent.parse(mo),parent.postMessage(mo,"*")}}},this.projectId=Mn,this.frameLoadPromise=new Promise((mo,$o)=>{this.frameLoadPromiseResolver={resolve:mo,reject:$o}}),io&&(this.frameLoadPromise=new Promise((mo,$o)=>{this.frameLoadPromiseResolver={resolve:mo,reject:$o}}),W3mFrameHelpers.isClient)){const mo=document.createElement("iframe");mo.id="w3m-iframe",mo.src=`${SECURE_SITE_SDK}?projectId=${Mn}&chainId=${fo}&version=${SECURE_SITE_SDK_VERSION}`,mo.name="w3m-secure-iframe",mo.style.position="fixed",mo.style.zIndex="999999",mo.style.display="none",mo.style.animationDelay="0s, 50ms",mo.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",mo.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=mo,this.iframe.onerror=()=>{var $o;($o=this.frameLoadPromiseResolver)==null||$o.reject("Unable to load email login dependency")},this.events.onFrameEvent($o=>{var Ao;$o.type==="@w3m-frame/READY"&&((Ao=this.frameLoadPromiseResolver)==null||Ao.resolve(void 0))})}}get networks(){const Mn=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(io=>({[io]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${io}&projectId=${this.projectId}`,chainId:io}}));return Object.assign({},...Mn)}}function tryStringify(Fn){try{return JSON.stringify(Fn)}catch{return'"[Circular]"'}}var quickFormatUnescaped=format$g;function format$g(Fn,Mn,io){var fo=io&&io.stringify||tryStringify,mo=1;if(typeof Fn=="object"&&Fn!==null){var $o=Mn.length+mo;if($o===1)return Fn;var Ao=new Array($o);Ao[0]=fo(Fn);for(var Lo=1;Lo<$o;Lo++)Ao[Lo]=fo(Mn[Lo]);return Ao.join(" ")}if(typeof Fn!="string")return Fn;var Wo=Mn.length;if(Wo===0)return Fn;for(var jo="",zo=1-mo,Vo=-1,Go=Fn&&Fn.length||0,Jo=0;Jo<Go;){if(Fn.charCodeAt(Jo)===37&&Jo+1<Go){switch(Vo=Vo>-1?Vo:0,Fn.charCodeAt(Jo+1)){case 100:case 102:if(zo>=Wo||Mn[zo]==null)break;Vo<Jo&&(jo+=Fn.slice(Vo,Jo)),jo+=Number(Mn[zo]),Vo=Jo+2,Jo++;break;case 105:if(zo>=Wo||Mn[zo]==null)break;Vo<Jo&&(jo+=Fn.slice(Vo,Jo)),jo+=Math.floor(Number(Mn[zo])),Vo=Jo+2,Jo++;break;case 79:case 111:case 106:if(zo>=Wo||Mn[zo]===void 0)break;Vo<Jo&&(jo+=Fn.slice(Vo,Jo));var Qo=typeof Mn[zo];if(Qo==="string"){jo+="'"+Mn[zo]+"'",Vo=Jo+2,Jo++;break}if(Qo==="function"){jo+=Mn[zo].name||"<anonymous>",Vo=Jo+2,Jo++;break}jo+=fo(Mn[zo]),Vo=Jo+2,Jo++;break;case 115:if(zo>=Wo)break;Vo<Jo&&(jo+=Fn.slice(Vo,Jo)),jo+=String(Mn[zo]),Vo=Jo+2,Jo++;break;case 37:Vo<Jo&&(jo+=Fn.slice(Vo,Jo)),jo+="%",Vo=Jo+2,Jo++,zo--;break}++zo}++Jo}return Vo===-1?Fn:(Vo<Go&&(jo+=Fn.slice(Vo)),jo)}const format$f=quickFormatUnescaped;var browser$2=pino;const _console=pfGlobalThisOrFallback().console||{},stdSerializers={mapHttpRequest:mock,mapHttpResponse:mock,wrapRequestSerializer:passthrough,wrapResponseSerializer:passthrough,wrapErrorSerializer:passthrough,req:mock,res:mock,err:asErrValue};function shouldSerialize(Fn,Mn){return Array.isArray(Fn)?Fn.filter(function(fo){return fo!=="!stdSerializers.err"}):Fn===!0?Object.keys(Mn):!1}function pino(Fn){Fn=Fn||{},Fn.browser=Fn.browser||{};const Mn=Fn.browser.transmit;if(Mn&&typeof Mn.send!="function")throw Error("pino: transmit option must have a send function");const io=Fn.browser.write||_console;Fn.browser.write&&(Fn.browser.asObject=!0);const fo=Fn.serializers||{},mo=shouldSerialize(Fn.browser.serialize,fo);let $o=Fn.browser.serialize;Array.isArray(Fn.browser.serialize)&&Fn.browser.serialize.indexOf("!stdSerializers.err")>-1&&($o=!1);const Ao=["error","fatal","warn","info","debug","trace"];typeof io=="function"&&(io.error=io.fatal=io.warn=io.info=io.debug=io.trace=io),Fn.enabled===!1&&(Fn.level="silent");const Lo=Fn.level||"info",Wo=Object.create(io);Wo.log||(Wo.log=noop$3),Object.defineProperty(Wo,"levelVal",{get:zo}),Object.defineProperty(Wo,"level",{get:Vo,set:Go});const jo={transmit:Mn,serialize:mo,asObject:Fn.browser.asObject,levels:Ao,timestamp:getTimeFunction(Fn)};Wo.levels=pino.levels,Wo.level=Lo,Wo.setMaxListeners=Wo.getMaxListeners=Wo.emit=Wo.addListener=Wo.on=Wo.prependListener=Wo.once=Wo.prependOnceListener=Wo.removeListener=Wo.removeAllListeners=Wo.listeners=Wo.listenerCount=Wo.eventNames=Wo.write=Wo.flush=noop$3,Wo.serializers=fo,Wo._serialize=mo,Wo._stdErrSerialize=$o,Wo.child=Jo,Mn&&(Wo._logEvent=createLogEventShape());function zo(){return this.level==="silent"?1/0:this.levels.values[this.level]}function Vo(){return this._level}function Go(Qo){if(Qo!=="silent"&&!this.levels.values[Qo])throw Error("unknown level "+Qo);this._level=Qo,set$7(jo,Wo,"error","log"),set$7(jo,Wo,"fatal","error"),set$7(jo,Wo,"warn","error"),set$7(jo,Wo,"info","log"),set$7(jo,Wo,"debug","log"),set$7(jo,Wo,"trace","log")}function Jo(Qo,os){if(!Qo)throw new Error("missing bindings for child Pino");os=os||{},mo&&Qo.serializers&&(os.serializers=Qo.serializers);const Cl=os.serializers;if(mo&&Cl){var xl=Object.assign({},fo,Cl),ds=Fn.browser.serialize===!0?Object.keys(xl):mo;delete Qo.serializers,applySerializers([Qo],ds,xl,this._stdErrSerialize)}function _c($l){this._childLevel=($l._childLevel|0)+1,this.error=bind($l,Qo,"error"),this.fatal=bind($l,Qo,"fatal"),this.warn=bind($l,Qo,"warn"),this.info=bind($l,Qo,"info"),this.debug=bind($l,Qo,"debug"),this.trace=bind($l,Qo,"trace"),xl&&(this.serializers=xl,this._serialize=ds),Mn&&(this._logEvent=createLogEventShape([].concat($l._logEvent.bindings,Qo)))}return _c.prototype=this,new _c(this)}return Wo}pino.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};pino.stdSerializers=stdSerializers;pino.stdTimeFunctions=Object.assign({},{nullTime,epochTime,unixTime,isoTime});function set$7(Fn,Mn,io,fo){const mo=Object.getPrototypeOf(Mn);Mn[io]=Mn.levelVal>Mn.levels.values[io]?noop$3:mo[io]?mo[io]:_console[io]||_console[fo]||noop$3,wrap(Fn,Mn,io)}function wrap(Fn,Mn,io){!Fn.transmit&&Mn[io]===noop$3||(Mn[io]=function(fo){return function(){const $o=Fn.timestamp(),Ao=new Array(arguments.length),Lo=Object.getPrototypeOf&&Object.getPrototypeOf(this)===_console?_console:this;for(var Wo=0;Wo<Ao.length;Wo++)Ao[Wo]=arguments[Wo];if(Fn.serialize&&!Fn.asObject&&applySerializers(Ao,this._serialize,this.serializers,this._stdErrSerialize),Fn.asObject?fo.call(Lo,asObject(this,io,Ao,$o)):fo.apply(Lo,Ao),Fn.transmit){const jo=Fn.transmit.level||Mn.level,zo=pino.levels.values[jo],Vo=pino.levels.values[io];if(Vo<zo)return;transmit(this,{ts:$o,methodLevel:io,methodValue:Vo,transmitLevel:jo,transmitValue:pino.levels.values[Fn.transmit.level||Mn.level],send:Fn.transmit.send,val:Mn.levelVal},Ao)}}}(Mn[io]))}function asObject(Fn,Mn,io,fo){Fn._serialize&&applySerializers(io,Fn._serialize,Fn.serializers,Fn._stdErrSerialize);const mo=io.slice();let $o=mo[0];const Ao={};fo&&(Ao.time=fo),Ao.level=pino.levels.values[Mn];let Lo=(Fn._childLevel|0)+1;if(Lo<1&&(Lo=1),$o!==null&&typeof $o=="object"){for(;Lo--&&typeof mo[0]=="object";)Object.assign(Ao,mo.shift());$o=mo.length?format$f(mo.shift(),mo):void 0}else typeof $o=="string"&&($o=format$f(mo.shift(),mo));return $o!==void 0&&(Ao.msg=$o),Ao}function applySerializers(Fn,Mn,io,fo){for(const mo in Fn)if(fo&&Fn[mo]instanceof Error)Fn[mo]=pino.stdSerializers.err(Fn[mo]);else if(typeof Fn[mo]=="object"&&!Array.isArray(Fn[mo]))for(const $o in Fn[mo])Mn&&Mn.indexOf($o)>-1&&$o in io&&(Fn[mo][$o]=io[$o](Fn[mo][$o]))}function bind(Fn,Mn,io){return function(){const fo=new Array(1+arguments.length);fo[0]=Mn;for(var mo=1;mo<fo.length;mo++)fo[mo]=arguments[mo-1];return Fn[io].apply(this,fo)}}function transmit(Fn,Mn,io){const fo=Mn.send,mo=Mn.ts,$o=Mn.methodLevel,Ao=Mn.methodValue,Lo=Mn.val,Wo=Fn._logEvent.bindings;applySerializers(io,Fn._serialize||Object.keys(Fn.serializers),Fn.serializers,Fn._stdErrSerialize===void 0?!0:Fn._stdErrSerialize),Fn._logEvent.ts=mo,Fn._logEvent.messages=io.filter(function(jo){return Wo.indexOf(jo)===-1}),Fn._logEvent.level.label=$o,Fn._logEvent.level.value=Ao,fo($o,Fn._logEvent,Lo),Fn._logEvent=createLogEventShape(Wo)}function createLogEventShape(Fn){return{ts:0,messages:[],bindings:Fn||[],level:{label:"",value:0}}}function asErrValue(Fn){const Mn={type:Fn.constructor.name,msg:Fn.message,stack:Fn.stack};for(const io in Fn)Mn[io]===void 0&&(Mn[io]=Fn[io]);return Mn}function getTimeFunction(Fn){return typeof Fn.timestamp=="function"?Fn.timestamp:Fn.timestamp===!1?nullTime:epochTime}function mock(){return{}}function passthrough(Fn){return Fn}function noop$3(){}function nullTime(){return!1}function epochTime(){return Date.now()}function unixTime(){return Math.round(Date.now()/1e3)}function isoTime(){return new Date(Date.now()).toISOString()}function pfGlobalThisOrFallback(){function Fn(Mn){return typeof Mn<"u"&&Mn}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return Fn(self)||Fn(window)||Fn(this)||{}}}const Mg=getDefaultExportFromCjs(browser$2),JSONStringify=Fn=>JSON.stringify(Fn,(Mn,io)=>typeof io=="bigint"?io.toString()+"n":io),JSONParse=Fn=>{const Mn=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,io=Fn.replace(Mn,'$1"$2n"$3');return JSON.parse(io,(fo,mo)=>typeof mo=="string"&&mo.match(/^\d+n$/)?BigInt(mo.substring(0,mo.length-1)):mo)};function safeJsonParse(Fn){if(typeof Fn!="string")throw new Error(`Cannot safe json parse value of type ${typeof Fn}`);try{return JSONParse(Fn)}catch{return Fn}}function safeJsonStringify(Fn){return typeof Fn=="string"?Fn:JSONStringify(Fn)||""}const c$b={level:"info"},n$j="custom_context",l$8=1e3*1024;let O$5=class{constructor(Mn){this.nodeValue=Mn,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},d$7=class{constructor(Mn){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=Mn,this.sizeInBytes=0}append(Mn){const io=new O$5(Mn);if(io.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${Mn} with size ${io.size}`);for(;this.size+io.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=io),this.tail=io):(this.head=io,this.tail=io),this.lengthInNodes++,this.sizeInBytes+=io.size}shift(){if(!this.head)return;const Mn=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=Mn.size}toArray(){const Mn=[];let io=this.head;for(;io!==null;)Mn.push(io.value),io=io.next;return Mn}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let Mn=this.head;return{next:()=>{if(!Mn)return{done:!0,value:null};const io=Mn.value;return Mn=Mn.next,{done:!1,value:io}}}}},L$3=class{constructor(Mn,io=l$8){this.level=Mn??"error",this.levelValue=browser$2.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=io,this.logs=new d$7(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(Mn,io){io===browser$2.levels.values.error?console.error(Mn):io===browser$2.levels.values.warn?console.warn(Mn):io===browser$2.levels.values.debug?console.debug(Mn):io===browser$2.levels.values.trace?console.trace(Mn):console.log(Mn)}appendToLogs(Mn){this.logs.append(safeJsonStringify({timestamp:new Date().toISOString(),log:Mn}));const io=typeof Mn=="string"?JSON.parse(Mn).level:Mn.level;io>=this.levelValue&&this.forwardToConsole(Mn,io)}getLogs(){return this.logs}clearLogs(){this.logs=new d$7(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(Mn){const io=this.getLogArray();return io.push(safeJsonStringify({extraMetadata:Mn})),new Blob(io,{type:"application/json"})}},m$4=class{constructor(Mn,io=l$8){this.baseChunkLogger=new L$3(Mn,io)}write(Mn){this.baseChunkLogger.appendToLogs(Mn)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(Mn){return this.baseChunkLogger.logsToBlob(Mn)}downloadLogsBlobInBrowser(Mn){const io=URL.createObjectURL(this.logsToBlob(Mn)),fo=document.createElement("a");fo.href=io,fo.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(fo),fo.click(),document.body.removeChild(fo),URL.revokeObjectURL(io)}},B$2=class{constructor(Mn,io=l$8){this.baseChunkLogger=new L$3(Mn,io)}write(Mn){this.baseChunkLogger.appendToLogs(Mn)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(Mn){return this.baseChunkLogger.logsToBlob(Mn)}};var x$5=Object.defineProperty,S$7=Object.defineProperties,_$5=Object.getOwnPropertyDescriptors,p$9=Object.getOwnPropertySymbols,T$5=Object.prototype.hasOwnProperty,z$6=Object.prototype.propertyIsEnumerable,f$c=(Fn,Mn,io)=>Mn in Fn?x$5(Fn,Mn,{enumerable:!0,configurable:!0,writable:!0,value:io}):Fn[Mn]=io,i$c=(Fn,Mn)=>{for(var io in Mn||(Mn={}))T$5.call(Mn,io)&&f$c(Fn,io,Mn[io]);if(p$9)for(var io of p$9(Mn))z$6.call(Mn,io)&&f$c(Fn,io,Mn[io]);return Fn},g$5=(Fn,Mn)=>S$7(Fn,_$5(Mn));function k$4(Fn){return g$5(i$c({},Fn),{level:(Fn==null?void 0:Fn.level)||c$b.level})}function v$8(Fn,Mn=n$j){return Fn[Mn]||""}function b$5(Fn,Mn,io=n$j){return Fn[io]=Mn,Fn}function y$7(Fn,Mn=n$j){let io="";return typeof Fn.bindings>"u"?io=v$8(Fn,Mn):io=Fn.bindings().context||"",io}function w$5(Fn,Mn,io=n$j){const fo=y$7(Fn,io);return fo.trim()?`${fo}/${Mn}`:Mn}function E$4(Fn,Mn,io=n$j){const fo=w$5(Fn,Mn,io),mo=Fn.child({context:fo});return b$5(mo,fo,io)}function C$4(Fn){var Mn,io;const fo=new m$4((Mn=Fn.opts)==null?void 0:Mn.level,Fn.maxSizeInBytes);return{logger:Mg(g$5(i$c({},Fn.opts),{level:"trace",browser:g$5(i$c({},(io=Fn.opts)==null?void 0:io.browser),{write:mo=>fo.write(mo)})})),chunkLoggerController:fo}}function I$4(Fn){var Mn;const io=new B$2((Mn=Fn.opts)==null?void 0:Mn.level,Fn.maxSizeInBytes);return{logger:Mg(g$5(i$c({},Fn.opts),{level:"trace"}),io),chunkLoggerController:io}}function A$4(Fn){return typeof Fn.loggerOverride<"u"&&typeof Fn.loggerOverride!="string"?{logger:Fn.loggerOverride,chunkLoggerController:null}:typeof window<"u"?C$4(Fn):I$4(Fn)}class W3mFrameLogger{constructor(Mn){var $o;const io=k$4({level:DEFAULT_LOG_LEVEL}),{logger:fo,chunkLoggerController:mo}=A$4({opts:io});this.logger=E$4(fo,this.constructor.name),this.chunkLoggerController=mo,typeof window<"u"&&(($o=this.chunkLoggerController)!=null&&$o.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var Ao;(Ao=this.chunkLoggerController)!=null&&Ao.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:Mn})})}}class W3mFrameProvider{constructor({projectId:Mn,chainId:io,onTimeout:fo}){this.openRpcRequests=[],this.w3mLogger=new W3mFrameLogger(Mn),this.w3mFrame=new W3mFrame(Mn,!0,io),this.onTimeout=fo,this.getLoginEmailUsed()&&this.w3mFrame.initFrame()}getLoginEmailUsed(){return!!W3mFrameStorage.get(W3mFrameConstants.EMAIL_LOGIN_USED_KEY)}getEmail(){return W3mFrameStorage.get(W3mFrameConstants.EMAIL)}async connectEmail(Mn){try{W3mFrameHelpers.checkIfAllowedToTriggerEmail(),this.w3mFrame.initFrame();const io=await this.appEvent({type:W3mFrameConstants.APP_CONNECT_EMAIL,payload:Mn});return this.setNewLastEmailLoginTime(),io}catch(io){throw this.w3mLogger.logger.error({error:io},"Error connecting email"),io}}async connectDevice(){try{return this.appEvent({type:W3mFrameConstants.APP_CONNECT_DEVICE})}catch(Mn){throw this.w3mLogger.logger.error({error:Mn},"Error connecting device"),Mn}}async connectOtp(Mn){try{return this.appEvent({type:W3mFrameConstants.APP_CONNECT_OTP,payload:Mn})}catch(io){throw this.w3mLogger.logger.error({error:io},"Error connecting otp"),io}}async isConnected(){try{const Mn=await this.appEvent({type:W3mFrameConstants.APP_IS_CONNECTED});return Mn.isConnected||this.deleteAuthLoginCache(),Mn}catch(Mn){throw this.deleteAuthLoginCache(),this.w3mLogger.logger.error({error:Mn},"Error checking connection"),Mn}}async getChainId(){try{const Mn=await this.appEvent({type:W3mFrameConstants.APP_GET_CHAIN_ID});return this.setLastUsedChainId(Mn.chainId),Mn}catch(Mn){throw this.w3mLogger.logger.error({error:Mn},"Error getting chain id"),Mn}}async getSocialRedirectUri(Mn){try{return this.w3mFrame.initFrame(),this.appEvent({type:W3mFrameConstants.APP_GET_SOCIAL_REDIRECT_URI,payload:Mn})}catch(io){throw this.w3mLogger.logger.error({error:io},"Error getting social redirect uri"),io}}async updateEmail(Mn){try{const io=await this.appEvent({type:W3mFrameConstants.APP_UPDATE_EMAIL,payload:Mn});return this.setNewLastEmailLoginTime(),io}catch(io){throw this.w3mLogger.logger.error({error:io},"Error updating email"),io}}async updateEmailPrimaryOtp(Mn){try{return this.appEvent({type:W3mFrameConstants.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:Mn})}catch(io){throw this.w3mLogger.logger.error({error:io},"Error updating email primary otp"),io}}async updateEmailSecondaryOtp(Mn){try{const io=await this.appEvent({type:W3mFrameConstants.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:Mn});return this.setLoginSuccess(io.newEmail),io}catch(io){throw this.w3mLogger.logger.error({error:io},"Error updating email secondary otp"),io}}async syncTheme(Mn){try{return this.appEvent({type:W3mFrameConstants.APP_SYNC_THEME,payload:Mn})}catch(io){throw this.w3mLogger.logger.error({error:io},"Error syncing theme"),io}}async syncDappData(Mn){try{return this.appEvent({type:W3mFrameConstants.APP_SYNC_DAPP_DATA,payload:Mn})}catch(io){throw this.w3mLogger.logger.error({error:io},"Error syncing dapp data"),io}}async getSmartAccountEnabledNetworks(){try{const Mn=await this.appEvent({type:W3mFrameConstants.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(Mn.smartAccountEnabledNetworks),Mn}catch(Mn){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger.logger.error({error:Mn},"Error getting smart account enabled networks"),Mn}}async setPreferredAccount(Mn){try{return this.appEvent({type:W3mFrameConstants.APP_SET_PREFERRED_ACCOUNT,payload:{type:Mn}})}catch(io){throw this.w3mLogger.logger.error({error:io},"Error setting preferred account"),io}}async connect(Mn){try{const io=(Mn==null?void 0:Mn.chainId)||this.getLastUsedChainId()||1,fo=await this.appEvent({type:W3mFrameConstants.APP_GET_USER,payload:{...Mn,chainId:io}});return this.setLoginSuccess(fo.email),this.setLastUsedChainId(fo.chainId),fo}catch(io){throw this.w3mLogger.logger.error({error:io},"Error connecting"),io}}async getUser(Mn){try{const io=(Mn==null?void 0:Mn.chainId)||this.getLastUsedChainId()||1;return await this.appEvent({type:W3mFrameConstants.APP_GET_USER,payload:{...Mn,chainId:io}})}catch(io){throw this.w3mLogger.logger.error({error:io},"Error connecting"),io}}async connectSocial(Mn){try{const io=await this.appEvent({type:W3mFrameConstants.APP_CONNECT_SOCIAL,payload:{uri:Mn}});return io.userName&&this.setSocialLoginSuccess(io.userName),io}catch(io){throw this.w3mLogger.logger.error({error:io},"Error connecting social"),io}}async getFarcasterUri(){try{return this.w3mFrame.initFrame(),await this.appEvent({type:W3mFrameConstants.APP_GET_FARCASTER_URI})}catch(Mn){throw this.w3mLogger.logger.error({error:Mn},"Error getting farcaster uri"),Mn}}async connectFarcaster(){try{const Mn=await this.appEvent({type:W3mFrameConstants.APP_CONNECT_FARCASTER});return Mn.userName&&this.setSocialLoginSuccess(Mn.userName),Mn}catch(Mn){throw this.w3mLogger.logger.error({error:Mn},"Error connecting farcaster"),Mn}}async switchNetwork(Mn){try{const io=await this.appEvent({type:W3mFrameConstants.APP_SWITCH_NETWORK,payload:{chainId:Mn}});return this.setLastUsedChainId(io.chainId),io}catch(io){throw this.w3mLogger.logger.error({error:io},"Error switching network"),io}}async disconnect(){try{const Mn=await this.appEvent({type:W3mFrameConstants.APP_SIGN_OUT});return this.deleteAuthLoginCache(),Mn}catch(Mn){throw this.w3mLogger.logger.error({error:Mn},"Error disconnecting"),Mn}}async request(Mn){var io,fo,mo;try{if(W3mFrameRpcConstants.GET_CHAIN_ID===Mn.method)return this.getLastUsedChainId();(io=this.rpcRequestHandler)==null||io.call(this,Mn);const $o=await this.appEvent({type:W3mFrameConstants.APP_RPC_REQUEST,payload:Mn});return(fo=this.rpcSuccessHandler)==null||fo.call(this,$o,Mn),$o}catch($o){throw(mo=this.rpcErrorHandler)==null||mo.call(this,$o,Mn),this.w3mLogger.logger.error({error:$o},"Error requesting"),$o}}onRpcRequest(Mn){this.rpcRequestHandler=Mn}onRpcSuccess(Mn){this.rpcSuccessHandler=Mn}onRpcError(Mn){this.rpcErrorHandler=Mn}onIsConnected(Mn){this.w3mFrame.events.onFrameEvent(io=>{io.type===W3mFrameConstants.FRAME_IS_CONNECTED_SUCCESS&&io.payload.isConnected&&Mn()})}onNotConnected(Mn){this.w3mFrame.events.onFrameEvent(io=>{io.type===W3mFrameConstants.FRAME_IS_CONNECTED_ERROR&&Mn(),io.type===W3mFrameConstants.FRAME_IS_CONNECTED_SUCCESS&&!io.payload.isConnected&&Mn()})}onConnect(Mn){this.w3mFrame.events.onFrameEvent(io=>{io.type===W3mFrameConstants.FRAME_GET_USER_SUCCESS&&Mn(io.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(Mn){this.w3mFrame.events.onFrameEvent(io=>{io.type===W3mFrameConstants.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?Mn(io.payload):io.type===W3mFrameConstants.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&Mn({type:W3mFrameRpcConstants.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(Mn){this.w3mFrame.events.onFrameEvent(io=>{io.type===W3mFrameConstants.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?Mn(io.payload.smartAccountEnabledNetworks):io.type===W3mFrameConstants.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&Mn([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){try{this.openRpcRequests.forEach(({abortController:Mn,method:io})=>{W3mFrameRpcConstants.SAFE_RPC_METHODS.includes(io)||Mn.abort()}),this.openRpcRequests=[]}catch(Mn){this.w3mLogger.logger.error({error:Mn},"Error aborting RPC request")}}async appEvent(Mn){await this.w3mFrame.frameLoadPromise;let io;function fo(Lo){return Lo.replace("@w3m-app/","")}const mo=new AbortController,$o=fo(Mn.type);return[W3mFrameConstants.APP_CONNECT_EMAIL,W3mFrameConstants.APP_CONNECT_DEVICE,W3mFrameConstants.APP_CONNECT_OTP,W3mFrameConstants.APP_CONNECT_SOCIAL,W3mFrameConstants.APP_GET_SOCIAL_REDIRECT_URI,W3mFrameConstants.APP_GET_FARCASTER_URI].map(fo).includes($o)&&(io=setTimeout(()=>{var Lo;(Lo=this.onTimeout)==null||Lo.call(this),mo.abort()},3e4)),new Promise((Lo,Wo)=>{var Vo,Go;const jo=Math.random().toString(36).substring(7);if((Go=(Vo=this.w3mLogger.logger).info)==null||Go.call(Vo,{event:Mn,id:jo},"Sending app event"),this.w3mFrame.events.postAppEvent({...Mn,id:jo}),$o==="RPC_REQUEST"){const Jo=Mn;this.openRpcRequests=[...this.openRpcRequests,{...Jo.payload,abortController:mo}]}mo.signal.addEventListener("abort",()=>{Wo($o==="RPC_REQUEST"?new Error("Request was aborted"):new Error("Something went wrong"))});function zo(Jo,Qo){var os,Cl,xl;Jo.id===jo&&((Cl=(os=Qo.logger).info)==null||Cl.call(os,{framEvent:Jo,id:jo},"Received frame response"),Jo.type===`@w3m-frame/${$o}_SUCCESS`?(io&&clearTimeout(io),"payload"in Jo&&Lo(Jo.payload),Lo(void 0)):Jo.type===`@w3m-frame/${$o}_ERROR`&&(io&&clearTimeout(io),"payload"in Jo&&Wo(new Error(((xl=Jo.payload)==null?void 0:xl.message)||"An error occurred")),Wo(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(jo,Jo=>zo(Jo,this.w3mLogger),mo.signal)})}setNewLastEmailLoginTime(){W3mFrameStorage.set(W3mFrameConstants.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(Mn){W3mFrameStorage.set(W3mFrameConstants.SOCIAL_USERNAME,Mn)}setLoginSuccess(Mn){Mn&&W3mFrameStorage.set(W3mFrameConstants.EMAIL,Mn),W3mFrameStorage.set(W3mFrameConstants.EMAIL_LOGIN_USED_KEY,"true"),W3mFrameStorage.delete(W3mFrameConstants.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){W3mFrameStorage.delete(W3mFrameConstants.EMAIL_LOGIN_USED_KEY),W3mFrameStorage.delete(W3mFrameConstants.EMAIL),W3mFrameStorage.delete(W3mFrameConstants.LAST_USED_CHAIN_KEY),W3mFrameStorage.delete(W3mFrameConstants.SOCIAL_USERNAME)}setLastUsedChainId(Mn){Mn&&W3mFrameStorage.set(W3mFrameConstants.LAST_USED_CHAIN_KEY,String(Mn))}getLastUsedChainId(){return Number(W3mFrameStorage.get(W3mFrameConstants.LAST_USED_CHAIN_KEY))}persistSmartAccountEnabledNetworks(Mn){W3mFrameStorage.set(W3mFrameConstants.SMART_ACCOUNT_ENABLED_NETWORKS,Mn.join(","))}}const state$h=proxy({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),TransactionsController={state:state$h,subscribe(Fn){return subscribe(state$h,()=>Fn(state$h))},setLastNetworkInView(Fn){state$h.lastNetworkInView=Fn},async fetchTransactions(Fn,Mn){var fo;const{projectId:io}=OptionsController.state;if(!io||!Fn)throw new Error("Transactions can't be fetched without a projectId and an accountAddress");state$h.loading=!0;try{const mo=await BlockchainApiController.fetchTransactions({account:Fn,projectId:io,cursor:state$h.next,onramp:Mn,cache:Mn==="coinbase"?"no-cache":void 0,chainId:(fo=ChainController.state.activeCaipNetwork)==null?void 0:fo.caipNetworkId}),$o=this.filterSpamTransactions(mo.data),Ao=this.filterByConnectedChain($o),Lo=[...state$h.transactions,...Ao];state$h.loading=!1,Mn==="coinbase"?state$h.coinbaseTransactions=this.groupTransactionsByYearAndMonth(state$h.coinbaseTransactions,mo.data):(state$h.transactions=Lo,state$h.transactionsByYear=this.groupTransactionsByYearAndMonth(state$h.transactionsByYear,Ao)),state$h.empty=Lo.length===0,state$h.next=mo.next?mo.next:void 0}catch{EventsController.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:Fn,projectId:io,cursor:state$h.next,isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT}}),SnackController.showError("Failed to fetch transactions"),state$h.loading=!1,state$h.empty=!0,state$h.next=void 0}},groupTransactionsByYearAndMonth(Fn={},Mn=[]){const io=Fn;return Mn.forEach(fo=>{const mo=new Date(fo.metadata.minedAt).getFullYear(),$o=new Date(fo.metadata.minedAt).getMonth(),Ao=io[mo]??{},Wo=(Ao[$o]??[]).filter(jo=>jo.id!==fo.id);io[mo]={...Ao,[$o]:[...Wo,fo].sort((jo,zo)=>new Date(zo.metadata.minedAt).getTime()-new Date(jo.metadata.minedAt).getTime())}}),io},filterSpamTransactions(Fn){return Fn.filter(Mn=>!Mn.transfers.every(fo=>{var mo;return((mo=fo.nft_info)==null?void 0:mo.flags.is_spam)===!0}))},filterByConnectedChain(Fn){var fo;const Mn=(fo=ChainController.state.activeCaipNetwork)==null?void 0:fo.caipNetworkId;return Fn.filter(mo=>mo.metadata.chain===Mn)},clearCursor(){state$h.next=void 0},resetTransactions(){state$h.transactions=[],state$h.transactionsByYear={},state$h.lastNetworkInView=void 0,state$h.loading=!1,state$h.empty=!1,state$h.next=void 0}},state$g=proxy({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),ThemeController={state:state$g,subscribe(Fn){return subscribe(state$g,()=>Fn(state$g))},setThemeMode(Fn){state$g.themeMode=Fn;try{const Mn=ConnectorController.getAuthConnector();if(Mn){const io=ThemeController.getSnapshot().themeVariables;Mn.provider.syncTheme({themeMode:Fn,themeVariables:io,w3mThemeVariables:getW3mThemeVariables(io,Fn)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(Fn){state$g.themeVariables={...state$g.themeVariables,...Fn};try{const Mn=ConnectorController.getAuthConnector();if(Mn){const io=ThemeController.getSnapshot().themeVariables;Mn.provider.syncTheme({themeVariables:io,w3mThemeVariables:getW3mThemeVariables(state$g.themeVariables,state$g.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return snapshot(state$g)}},state$f=proxy({allConnectors:[],connectors:[]}),ConnectorController={state:state$f,subscribeKey(Fn,Mn){return subscribeKey(state$f,Fn,Mn)},setConnectors(Fn){Fn.filter(io=>!state$f.allConnectors.some(fo=>fo.id===io.id&&this.getConnectorName(fo.name)===this.getConnectorName(io.name)&&fo.chain===io.chain)).forEach(io=>{state$f.allConnectors.push(ref(io))}),state$f.connectors=this.mergeMultiChainConnectors(state$f.allConnectors)},mergeMultiChainConnectors(Fn){const Mn=this.generateConnectorMapByName(Fn),io=[];return Mn.forEach(fo=>{const mo=fo[0],$o=(mo==null?void 0:mo.id)==="ID_AUTH";fo.length>1?io.push({name:mo==null?void 0:mo.name,imageUrl:mo==null?void 0:mo.imageUrl,imageId:mo==null?void 0:mo.imageId,connectors:[...fo],type:$o?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(mo==null?void 0:mo.id)||""}):mo&&io.push(mo)}),io},generateConnectorMapByName(Fn){const Mn=new Map;return Fn.forEach(io=>{const{name:fo}=io,mo=this.getConnectorName(fo);if(!mo)return;const $o=Mn.get(mo)||[];$o.find(Lo=>Lo.chain===io.chain)||$o.push(io),Mn.set(mo,$o)}),Mn},getConnectorName(Fn){return Fn&&({"Trust Wallet":"Trust"}[Fn]||Fn)},getUniqueConnectorsByName(Fn){const Mn=[];return Fn.forEach(io=>{Mn.find(fo=>fo.chain===io.chain)||Mn.push(io)}),Mn},addConnector(Fn){var Mn,io;if(Fn.id==="ID_AUTH"){const fo=Fn,mo=snapshot(OptionsController.state),$o=ThemeController.getSnapshot().themeMode,Ao=ThemeController.getSnapshot().themeVariables;(io=(Mn=fo==null?void 0:fo.provider)==null?void 0:Mn.syncDappData)==null||io.call(Mn,{metadata:mo.metadata,sdkVersion:mo.sdkVersion,projectId:mo.projectId,sdkType:mo.sdkType}),fo.provider.syncTheme({themeMode:$o,themeVariables:Ao,w3mThemeVariables:getW3mThemeVariables(Ao,$o)}),this.setConnectors([Fn])}else this.setConnectors([Fn])},getAuthConnector(){var io;const Fn=ChainController.state.activeChain,Mn=state$f.connectors.find(fo=>fo.id==="ID_AUTH");if(Mn)return(io=Mn==null?void 0:Mn.connectors)!=null&&io.length?Mn.connectors.find(mo=>mo.chain===Fn):Mn},getAnnouncedConnectorRdns(){return state$f.connectors.filter(Fn=>Fn.type==="ANNOUNCED").map(Fn=>{var Mn;return(Mn=Fn.info)==null?void 0:Mn.rdns})},getConnectors(){return state$f.connectors},getConnector(Fn,Mn){return state$f.connectors.find(io=>{var fo;return io.explorerId===Fn||((fo=io.info)==null?void 0:fo.rdns)===Mn})},syncIfAuthConnector(Fn){var $o,Ao;if(Fn.id!=="ID_AUTH")return;const Mn=Fn,io=snapshot(OptionsController.state),fo=ThemeController.getSnapshot().themeMode,mo=ThemeController.getSnapshot().themeVariables;(Ao=($o=Mn==null?void 0:Mn.provider)==null?void 0:$o.syncDappData)==null||Ao.call($o,{metadata:io.metadata,sdkVersion:io.sdkVersion,sdkType:io.sdkType,projectId:io.projectId}),Mn.provider.syncTheme({themeMode:fo,themeVariables:mo,w3mThemeVariables:getW3mThemeVariables(mo,fo)})}},state$e=proxy({wcError:!1,buffering:!1,status:"disconnected"});let wcConnectionPromise;const ConnectionController={state:state$e,subscribeKey(Fn,Mn){return subscribeKey(state$e,Fn,Mn)},_getClient(){return state$e._client},setClient(Fn){state$e._client=ref(Fn)},async connectWalletConnect(){var Fn,Mn;if(StorageUtil.setConnectedConnector("WALLET_CONNECT"),CoreHelperUtil.isTelegram()){if(wcConnectionPromise){try{await wcConnectionPromise}catch{}wcConnectionPromise=void 0;return}if(!CoreHelperUtil.isPairingExpired(state$e==null?void 0:state$e.wcPairingExpiry)){const io=state$e.wcUri;state$e.wcUri=io;return}wcConnectionPromise=new Promise(async(io,fo)=>{var mo,$o;await(($o=(mo=this._getClient())==null?void 0:mo.connectWalletConnect)==null?void 0:$o.call(mo,Ao=>{state$e.wcUri=Ao,state$e.wcPairingExpiry=CoreHelperUtil.getPairingExpiry()}).catch(fo)),io()}),this.state.status="connecting",await wcConnectionPromise,wcConnectionPromise=void 0,state$e.wcPairingExpiry=void 0,this.state.status="connected"}else await((Mn=(Fn=this._getClient())==null?void 0:Fn.connectWalletConnect)==null?void 0:Mn.call(Fn,io=>{state$e.wcUri=io,state$e.wcPairingExpiry=CoreHelperUtil.getPairingExpiry()}))},async connectExternal(Fn,Mn,io=!0){var fo,mo;await((mo=(fo=this._getClient())==null?void 0:fo.connectExternal)==null?void 0:mo.call(fo,Fn)),io&&ChainController.setActiveNamespace(Mn)},async reconnectExternal(Fn){var Mn,io;await((io=(Mn=this._getClient())==null?void 0:Mn.reconnectExternal)==null?void 0:io.call(Mn,Fn)),StorageUtil.setConnectedConnector(Fn.type==="AUTH"?"ID_AUTH":Fn.type)},async setPreferredAccountType(Fn){var io;ModalController.setLoading(!0);const Mn=ConnectorController.getAuthConnector();Mn&&(await(Mn==null?void 0:Mn.provider.setPreferredAccount(Fn)),await this.reconnectExternal(Mn),ModalController.setLoading(!1),EventsController.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:Fn,network:((io=ChainController.state.activeCaipNetwork)==null?void 0:io.caipNetworkId)||""}}))},async signMessage(Fn){var Mn;return(Mn=this._getClient())==null?void 0:Mn.signMessage(Fn)},parseUnits(Fn,Mn){var io;return(io=this._getClient())==null?void 0:io.parseUnits(Fn,Mn)},formatUnits(Fn,Mn){var io;return(io=this._getClient())==null?void 0:io.formatUnits(Fn,Mn)},async sendTransaction(Fn){var Mn;return(Mn=this._getClient())==null?void 0:Mn.sendTransaction(Fn)},async getCapabilities(Fn){var Mn;return(Mn=this._getClient())==null?void 0:Mn.getCapabilities(Fn)},async grantPermissions(Fn){var Mn;return(Mn=this._getClient())==null?void 0:Mn.grantPermissions(Fn)},async estimateGas(Fn){var Mn;return(Mn=this._getClient())==null?void 0:Mn.estimateGas(Fn)},async writeContract(Fn){var Mn;return(Mn=this._getClient())==null?void 0:Mn.writeContract(Fn)},async getEnsAddress(Fn){var Mn;return(Mn=this._getClient())==null?void 0:Mn.getEnsAddress(Fn)},async getEnsAvatar(Fn){var Mn;return(Mn=this._getClient())==null?void 0:Mn.getEnsAvatar(Fn)},checkInstalled(Fn){var Mn,io;return((io=(Mn=this._getClient())==null?void 0:Mn.checkInstalled)==null?void 0:io.call(Mn,Fn))||!1},resetWcConnection(){state$e.wcUri=void 0,state$e.wcPairingExpiry=void 0,state$e.wcLinking=void 0,state$e.recentWallet=void 0,state$e.status="disconnected",TransactionsController.resetTransactions(),StorageUtil.deleteWalletConnectDeepLink()},setWcLinking(Fn){state$e.wcLinking=Fn},setWcError(Fn){state$e.wcError=Fn,state$e.buffering=!1},setRecentWallet(Fn){state$e.recentWallet=Fn},setBuffering(Fn){state$e.buffering=Fn},setStatus(Fn){state$e.status=Fn},async disconnect(){try{const Fn=this._getClient(),Mn=OptionsController.state.siwx;if(Mn){const io=ChainController.getActiveCaipNetwork(),fo=CoreHelperUtil.getPlainAddress(ChainController.getActiveCaipAddress());io&&fo&&await Mn.revokeSession(io.caipNetworkId,fo)}await(Fn==null?void 0:Fn.disconnect()),this.resetWcConnection()}catch{throw new Error("Failed to disconnect")}}},SwapApiUtil={async getTokenList(){var fo;const Fn=ChainController.state.activeCaipNetwork,Mn=await BlockchainApiController.fetchSwapTokens({chainId:Fn==null?void 0:Fn.caipNetworkId,projectId:OptionsController.state.projectId});return((fo=Mn==null?void 0:Mn.tokens)==null?void 0:fo.map(mo=>({...mo,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var io;const Fn=OptionsController.state.projectId,Mn=ChainController.state.activeCaipNetwork;if(!Mn)return null;try{switch(Mn.chainNamespace){case"solana":const fo=(io=await(ConnectionController==null?void 0:ConnectionController.estimateGas({chainNamespace:"solana"})))==null?void 0:io.toString();return{standard:fo,fast:fo,instant:fo};case"eip155":default:return await BlockchainApiController.fetchGasPrice({projectId:Fn,chainId:Mn.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:Fn,userAddress:Mn,sourceTokenAmount:io,sourceTokenDecimals:fo}){const mo=OptionsController.state.projectId,$o=await BlockchainApiController.fetchSwapAllowance({projectId:mo,tokenAddress:Fn,userAddress:Mn});if($o!=null&&$o.allowance&&io&&fo){const Ao=ConnectionController.parseUnits(io,fo)||0;return BigInt($o.allowance)>=Ao}return!1},async getMyTokensWithBalance(Fn){const Mn=AccountController.state.address,io=ChainController.state.activeCaipNetwork;if(!Mn||!io)return[];const mo=(await BlockchainApiController.getBalance(Mn,io.caipNetworkId,Fn)).balances.filter($o=>$o.quantity.decimals!=="0");return AccountController.setTokenBalance(mo,ChainController.state.activeChain),this.mapBalancesToSwapTokens(mo)},mapBalancesToSwapTokens(Fn){return(Fn==null?void 0:Fn.map(Mn=>({...Mn,address:Mn!=null&&Mn.address?Mn.address:ChainController.getActiveNetworkTokenAddress(),decimals:parseInt(Mn.quantity.decimals,10),logoUri:Mn.iconUrl,eip2612:!1})))||[]}},state$d=proxy({view:"Connect",history:["Connect"],transactionStack:[]}),RouterController={state:state$d,subscribeKey(Fn,Mn){return subscribeKey(state$d,Fn,Mn)},pushTransactionStack(Fn){state$d.transactionStack.push(Fn)},popTransactionStack(Fn){var io,fo;const Mn=state$d.transactionStack.pop();if(Mn)if(Fn)this.goBack(),(io=Mn==null?void 0:Mn.onCancel)==null||io.call(Mn);else{if(Mn.goBack)this.goBack();else if(Mn.replace){const $o=state$d.history.indexOf("ConnectingSiwe");$o>0?this.goBackToIndex($o-1):(ModalController.close(),state$d.history=[])}else Mn.view&&this.reset(Mn.view);(fo=Mn==null?void 0:Mn.onSuccess)==null||fo.call(Mn)}},push(Fn,Mn){Fn!==state$d.view&&(state$d.view=Fn,state$d.history.push(Fn),state$d.data=Mn)},reset(Fn){state$d.view=Fn,state$d.history=[Fn]},replace(Fn,Mn){state$d.history.at(-1)===Fn||(state$d.view=Fn,state$d.history[state$d.history.length-1]=Fn,state$d.data=Mn)},goBack(){if(state$d.history.length>1&&!state$d.history.includes("UnsupportedChain")){state$d.history.pop();const[Fn]=state$d.history.slice(-1);Fn&&(state$d.view=Fn)}else ModalController.close()},goBackToIndex(Fn){if(state$d.history.length>1){state$d.history=state$d.history.slice(0,Fn+1);const[Mn]=state$d.history.slice(-1);Mn&&(state$d.view=Mn)}}},SwapCalculationUtil={getGasPriceInEther(Fn,Mn){const io=Mn*Fn;return Number(io)/1e18},getGasPriceInUSD(Fn,Mn,io){const fo=SwapCalculationUtil.getGasPriceInEther(Mn,io);return NumberUtil.bigNumber(Fn).multipliedBy(fo).toNumber()},getPriceImpact({sourceTokenAmount:Fn,sourceTokenPriceInUSD:Mn,toTokenPriceInUSD:io,toTokenAmount:fo}){const mo=NumberUtil.bigNumber(Fn).multipliedBy(Mn),$o=NumberUtil.bigNumber(fo).multipliedBy(io);return mo.minus($o).dividedBy(mo).multipliedBy(100).toNumber()},getMaxSlippage(Fn,Mn){const io=NumberUtil.bigNumber(Fn).dividedBy(100);return NumberUtil.multiply(Mn,io).toNumber()},getProviderFee(Fn,Mn=.0085){return NumberUtil.bigNumber(Fn).multipliedBy(Mn).toString()},isInsufficientNetworkTokenForGas(Fn,Mn){const io=Mn||"0";return NumberUtil.bigNumber(Fn).isZero()?!0:NumberUtil.bigNumber(NumberUtil.bigNumber(io)).isGreaterThan(Fn)},isInsufficientSourceTokenForSwap(Fn,Mn,io){var $o,Ao;const fo=(Ao=($o=io==null?void 0:io.find(Lo=>Lo.address===Mn))==null?void 0:$o.quantity)==null?void 0:Ao.numeric;return NumberUtil.bigNumber(fo||"0").isLessThan(Fn)},getToTokenAmount({sourceToken:Fn,toToken:Mn,sourceTokenPrice:io,toTokenPrice:fo,sourceTokenAmount:mo}){if(mo==="0"||!Fn||!Mn)return"0";const $o=Fn.decimals,Ao=io,Lo=Mn.decimals,Wo=fo;if(Wo<=0)return"0";const jo=NumberUtil.bigNumber(mo).multipliedBy(.0085),Vo=NumberUtil.bigNumber(mo).minus(jo).multipliedBy(NumberUtil.bigNumber(10).pow($o)),Go=NumberUtil.bigNumber(Ao).dividedBy(Wo),Jo=$o-Lo;return Vo.multipliedBy(Go).dividedBy(NumberUtil.bigNumber(10).pow(Jo)).dividedBy(NumberUtil.bigNumber(10).pow(Lo)).toFixed(Lo).toString()}},INITIAL_GAS_LIMIT=15e4,TO_AMOUNT_DECIMALS=6,initialState={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:ConstantsUtil$2.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0},state$c=proxy(initialState),SwapController={state:state$c,subscribe(Fn){return subscribe(state$c,()=>Fn(state$c))},subscribeKey(Fn,Mn){return subscribeKey(state$c,Fn,Mn)},getParams(){var Lo,Wo,jo,zo,Vo,Go,Jo,Qo;const Fn=ChainController.state.activeCaipAddress,Mn=CoreHelperUtil.getPlainAddress(Fn),io=ChainController.getActiveNetworkTokenAddress(),fo=StorageUtil.getConnectedConnector();if(!Mn)throw new Error("No address found to swap the tokens from.");const mo=!((Lo=state$c.toToken)!=null&&Lo.address)||!((Wo=state$c.toToken)!=null&&Wo.decimals),$o=!((jo=state$c.sourceToken)!=null&&jo.address)||!((zo=state$c.sourceToken)!=null&&zo.decimals)||!NumberUtil.bigNumber(state$c.sourceTokenAmount).isGreaterThan(0),Ao=!state$c.sourceTokenAmount;return{networkAddress:io,fromAddress:Mn,fromCaipAddress:Fn,sourceTokenAddress:(Vo=state$c.sourceToken)==null?void 0:Vo.address,toTokenAddress:(Go=state$c.toToken)==null?void 0:Go.address,toTokenAmount:state$c.toTokenAmount,toTokenDecimals:(Jo=state$c.toToken)==null?void 0:Jo.decimals,sourceTokenAmount:state$c.sourceTokenAmount,sourceTokenDecimals:(Qo=state$c.sourceToken)==null?void 0:Qo.decimals,invalidToToken:mo,invalidSourceToken:$o,invalidSourceTokenAmount:Ao,availableToSwap:Fn&&!mo&&!$o&&!Ao,isAuthConnector:fo==="ID_AUTH"}},setSourceToken(Fn){if(!Fn){state$c.sourceToken=Fn,state$c.sourceTokenAmount="",state$c.sourceTokenPriceInUSD=0;return}state$c.sourceToken=Fn,this.setTokenPrice(Fn.address,"sourceToken")},setSourceTokenAmount(Fn){state$c.sourceTokenAmount=Fn},setToToken(Fn){if(!Fn){state$c.toToken=Fn,state$c.toTokenAmount="",state$c.toTokenPriceInUSD=0;return}state$c.toToken=Fn,this.setTokenPrice(Fn.address,"toToken")},setToTokenAmount(Fn){state$c.toTokenAmount=Fn?NumberUtil.formatNumberToLocalString(Fn,TO_AMOUNT_DECIMALS):""},async setTokenPrice(Fn,Mn){const{availableToSwap:io}=this.getParams();let fo=state$c.tokensPriceMap[Fn]||0;fo||(state$c.loadingPrices=!0,fo=await this.getAddressPrice(Fn)),Mn==="sourceToken"?state$c.sourceTokenPriceInUSD=fo:Mn==="toToken"&&(state$c.toTokenPriceInUSD=fo),state$c.loadingPrices&&(state$c.loadingPrices=!1,io&&this.swapTokens())},switchTokens(){if(state$c.initializing||!state$c.initialized)return;const Fn=state$c.toToken?{...state$c.toToken}:void 0,Mn=state$c.sourceToken?{...state$c.sourceToken}:void 0,io=Fn&&state$c.toTokenAmount===""?"1":state$c.toTokenAmount;this.setSourceToken(Fn),this.setToToken(Mn),this.setSourceTokenAmount(io),this.setToTokenAmount(""),this.swapTokens()},resetState(){state$c.myTokensWithBalance=initialState.myTokensWithBalance,state$c.tokensPriceMap=initialState.tokensPriceMap,state$c.initialized=initialState.initialized,state$c.sourceToken=initialState.sourceToken,state$c.sourceTokenAmount=initialState.sourceTokenAmount,state$c.sourceTokenPriceInUSD=initialState.sourceTokenPriceInUSD,state$c.toToken=initialState.toToken,state$c.toTokenAmount=initialState.toTokenAmount,state$c.toTokenPriceInUSD=initialState.toTokenPriceInUSD,state$c.networkPrice=initialState.networkPrice,state$c.networkTokenSymbol=initialState.networkTokenSymbol,state$c.networkBalanceInUSD=initialState.networkBalanceInUSD,state$c.inputError=initialState.inputError},resetValues(){var io;const{networkAddress:Fn}=this.getParams(),Mn=(io=state$c.tokens)==null?void 0:io.find(fo=>fo.address===Fn);this.setSourceToken(Mn),this.setToToken(void 0)},getApprovalLoadingState(){return state$c.loadingApprovalTransaction},clearError(){state$c.transactionError=void 0},async initializeState(){if(!state$c.initializing){if(state$c.initializing=!0,!state$c.initialized)try{await this.fetchTokens(),state$c.initialized=!0}catch{state$c.initialized=!1,SnackController.showError("Failed to initialize swap"),RouterController.goBack()}state$c.initializing=!1}},async fetchTokens(){var io;const{networkAddress:Fn}=this.getParams();await this.getTokenList(),await this.getNetworkTokenPrice(),await this.getMyTokensWithBalance();const Mn=(io=state$c.tokens)==null?void 0:io.find(fo=>fo.address===Fn);Mn&&(state$c.networkTokenSymbol=Mn.symbol,this.setSourceToken(Mn),this.setSourceTokenAmount("1"))},async getTokenList(){const Fn=await SwapApiUtil.getTokenList();state$c.tokens=Fn,state$c.popularTokens=Fn.sort((Mn,io)=>Mn.symbol<io.symbol?-1:Mn.symbol>io.symbol?1:0),state$c.suggestedTokens=Fn.filter(Mn=>!!ConstantsUtil$2.SWAP_SUGGESTED_TOKENS.includes(Mn.symbol),{})},async getAddressPrice(Fn){var Wo,jo;const Mn=state$c.tokensPriceMap[Fn];if(Mn)return Mn;const fo=(await BlockchainApiController.fetchTokenPrice({projectId:OptionsController.state.projectId,addresses:[Fn]})).fungibles||[],mo=[...state$c.tokens||[],...state$c.myTokensWithBalance||[]],$o=(Wo=mo==null?void 0:mo.find(zo=>zo.address===Fn))==null?void 0:Wo.symbol,Ao=((jo=fo.find(zo=>zo.symbol.toLowerCase()===($o==null?void 0:$o.toLowerCase())))==null?void 0:jo.price)||0,Lo=parseFloat(Ao.toString());return state$c.tokensPriceMap[Fn]=Lo,Lo},async getNetworkTokenPrice(){var mo;const{networkAddress:Fn}=this.getParams(),io=(mo=(await BlockchainApiController.fetchTokenPrice({projectId:OptionsController.state.projectId,addresses:[Fn]}).catch(()=>(SnackController.showError("Failed to fetch network token price"),{fungibles:[]}))).fungibles)==null?void 0:mo[0],fo=(io==null?void 0:io.price.toString())||"0";state$c.tokensPriceMap[Fn]=parseFloat(fo),state$c.networkTokenSymbol=(io==null?void 0:io.symbol)||"",state$c.networkPrice=fo},async getMyTokensWithBalance(Fn){const Mn=await SwapApiUtil.getMyTokensWithBalance(Fn);Mn&&(await this.getInitialGasPrice(),this.setBalances(Mn))},setBalances(Fn){const{networkAddress:Mn}=this.getParams(),io=ChainController.state.activeCaipNetwork;if(!io)return;const fo=Fn.find(mo=>mo.address===Mn);Fn.forEach(mo=>{state$c.tokensPriceMap[mo.address]=mo.price||0}),state$c.myTokensWithBalance=Fn.filter(mo=>mo.address.startsWith(io.caipNetworkId)),state$c.networkBalanceInUSD=fo?NumberUtil.multiply(fo.quantity.numeric,fo.price).toString():"0"},async getInitialGasPrice(){var Mn,io;const Fn=await SwapApiUtil.fetchGasPrice();if(!Fn)return{gasPrice:null,gasPriceInUSD:null};switch((io=(Mn=ChainController.state)==null?void 0:Mn.activeCaipNetwork)==null?void 0:io.chainNamespace){case"solana":return state$c.gasFee=Fn.standard??"0",state$c.gasPriceInUSD=NumberUtil.multiply(Fn.standard,state$c.networkPrice).dividedBy(1e9).toNumber(),{gasPrice:BigInt(state$c.gasFee),gasPriceInUSD:Number(state$c.gasPriceInUSD)};case"eip155":default:const fo=Fn.standard??"0",mo=BigInt(fo),$o=BigInt(INITIAL_GAS_LIMIT),Ao=SwapCalculationUtil.getGasPriceInUSD(state$c.networkPrice,$o,mo);return state$c.gasFee=fo,state$c.gasPriceInUSD=Ao,{gasPrice:mo,gasPriceInUSD:Ao}}},async swapTokens(){var jo,zo;const Fn=AccountController.state.address,Mn=state$c.sourceToken,io=state$c.toToken,fo=NumberUtil.bigNumber(state$c.sourceTokenAmount).isGreaterThan(0);if(!io||!Mn||state$c.loadingPrices||!fo)return;state$c.loadingQuote=!0;const mo=NumberUtil.bigNumber(state$c.sourceTokenAmount).multipliedBy(10**Mn.decimals).integerValue(),$o=await BlockchainApiController.fetchSwapQuote({userAddress:Fn,projectId:OptionsController.state.projectId,from:Mn.address,to:io.address,gasPrice:state$c.gasFee,amount:mo.toString()});state$c.loadingQuote=!1;const Ao=(zo=(jo=$o==null?void 0:$o.quotes)==null?void 0:jo[0])==null?void 0:zo.toAmount;if(!Ao)return;const Lo=NumberUtil.bigNumber(Ao).dividedBy(10**io.decimals).toString();this.setToTokenAmount(Lo),this.hasInsufficientToken(state$c.sourceTokenAmount,Mn.address)?state$c.inputError="Insufficient balance":(state$c.inputError=void 0,this.setTransactionDetails())},async getTransaction(){const{fromCaipAddress:Fn,availableToSwap:Mn}=this.getParams(),io=state$c.sourceToken,fo=state$c.toToken;if(!(!Fn||!Mn||!io||!fo||state$c.loadingQuote))try{state$c.loadingBuildTransaction=!0;const mo=await SwapApiUtil.fetchSwapAllowance({userAddress:Fn,tokenAddress:io.address,sourceTokenAmount:state$c.sourceTokenAmount,sourceTokenDecimals:io.decimals});let $o;return mo?$o=await this.createSwapTransaction():$o=await this.createAllowanceTransaction(),state$c.loadingBuildTransaction=!1,state$c.fetchError=!1,$o}catch{RouterController.goBack(),SnackController.showError("Failed to check allowance"),state$c.loadingBuildTransaction=!1,state$c.approvalTransaction=void 0,state$c.swapTransaction=void 0,state$c.fetchError=!0;return}},async createAllowanceTransaction(){const{fromCaipAddress:Fn,fromAddress:Mn,sourceTokenAddress:io,toTokenAddress:fo}=this.getParams();if(!(!Fn||!fo)){if(!io)throw new Error("createAllowanceTransaction - No source token address found.");try{const mo=await BlockchainApiController.generateApproveCalldata({projectId:OptionsController.state.projectId,from:io,to:fo,userAddress:Fn}),$o=await ConnectionController.estimateGas({address:Mn,to:CoreHelperUtil.getPlainAddress(mo.tx.to),data:mo.tx.data}),Ao={data:mo.tx.data,to:CoreHelperUtil.getPlainAddress(mo.tx.from),gas:$o,gasPrice:BigInt(mo.tx.eip155.gasPrice),value:BigInt(mo.tx.value),toAmount:state$c.toTokenAmount};return state$c.swapTransaction=void 0,state$c.approvalTransaction={data:Ao.data,to:Ao.to,gas:Ao.gas??BigInt(0),gasPrice:Ao.gasPrice,value:Ao.value,toAmount:Ao.toAmount},{data:Ao.data,to:Ao.to,gas:Ao.gas??BigInt(0),gasPrice:Ao.gasPrice,value:Ao.value,toAmount:Ao.toAmount}}catch{RouterController.goBack(),SnackController.showError("Failed to create approval transaction"),state$c.approvalTransaction=void 0,state$c.swapTransaction=void 0,state$c.fetchError=!0;return}}},async createSwapTransaction(){var Ao;const{networkAddress:Fn,fromCaipAddress:Mn,sourceTokenAmount:io}=this.getParams(),fo=state$c.sourceToken,mo=state$c.toToken;if(!Mn||!io||!fo||!mo)return;const $o=(Ao=ConnectionController.parseUnits(io,fo.decimals))==null?void 0:Ao.toString();try{const Lo=await BlockchainApiController.generateSwapCalldata({projectId:OptionsController.state.projectId,userAddress:Mn,from:fo.address,to:mo.address,amount:$o}),Wo=fo.address===Fn,jo=BigInt(Lo.tx.eip155.gas),zo=BigInt(Lo.tx.eip155.gasPrice),Vo={data:Lo.tx.data,to:CoreHelperUtil.getPlainAddress(Lo.tx.to),gas:jo,gasPrice:zo,value:BigInt(Wo?$o??"0":"0"),toAmount:state$c.toTokenAmount};return state$c.gasPriceInUSD=SwapCalculationUtil.getGasPriceInUSD(state$c.networkPrice,jo,zo),state$c.approvalTransaction=void 0,state$c.swapTransaction=Vo,Vo}catch{RouterController.goBack(),SnackController.showError("Failed to create transaction"),state$c.approvalTransaction=void 0,state$c.swapTransaction=void 0,state$c.fetchError=!0;return}},async sendTransactionForApproval(Fn){const{fromAddress:Mn,isAuthConnector:io}=this.getParams();state$c.loadingApprovalTransaction=!0;const fo="Approve limit increase in your wallet";io?RouterController.pushTransactionStack({view:null,goBack:!0,onSuccess(){SnackController.showLoading(fo)}}):SnackController.showLoading(fo);try{await ConnectionController.sendTransaction({address:Mn,to:Fn.to,data:Fn.data,value:BigInt(Fn.value),gasPrice:BigInt(Fn.gasPrice),chainNamespace:"eip155"}),await this.swapTokens(),await this.getTransaction(),state$c.approvalTransaction=void 0,state$c.loadingApprovalTransaction=!1}catch(mo){const $o=mo;state$c.transactionError=$o==null?void 0:$o.shortMessage,state$c.loadingApprovalTransaction=!1,SnackController.showError(($o==null?void 0:$o.shortMessage)||"Transaction error")}},async sendTransactionForSwap(Fn){var Ao,Lo,Wo,jo,zo,Vo,Go,Jo,Qo,os,Cl,xl;if(!Fn)return;const{fromAddress:Mn,toTokenAmount:io,isAuthConnector:fo}=this.getParams();state$c.loadingTransaction=!0;const mo=`Swapping ${(Ao=state$c.sourceToken)==null?void 0:Ao.symbol} to ${NumberUtil.formatNumberToLocalString(io,3)} ${(Lo=state$c.toToken)==null?void 0:Lo.symbol}`,$o=`Swapped ${(Wo=state$c.sourceToken)==null?void 0:Wo.symbol} to ${NumberUtil.formatNumberToLocalString(io,3)} ${(jo=state$c.toToken)==null?void 0:jo.symbol}`;fo?RouterController.pushTransactionStack({view:"Account",goBack:!1,onSuccess(){SnackController.showLoading(mo),SwapController.resetState()}}):SnackController.showLoading("Confirm transaction in your wallet");try{const ds=[(zo=state$c.sourceToken)==null?void 0:zo.address,(Vo=state$c.toToken)==null?void 0:Vo.address].join(","),_c=await ConnectionController.sendTransaction({address:Mn,to:Fn.to,data:Fn.data,gas:Fn.gas,gasPrice:BigInt(Fn.gasPrice),value:Fn.value,chainNamespace:"eip155"});return state$c.loadingTransaction=!1,SnackController.showSuccess($o),EventsController.sendEvent({type:"track",event:"SWAP_SUCCESS",properties:{network:((Go=ChainController.state.activeCaipNetwork)==null?void 0:Go.caipNetworkId)||"",swapFromToken:((Jo=this.state.sourceToken)==null?void 0:Jo.symbol)||"",swapToToken:((Qo=this.state.toToken)==null?void 0:Qo.symbol)||"",swapFromAmount:this.state.sourceTokenAmount||"",swapToAmount:this.state.toTokenAmount||"",isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT}}),SwapController.resetState(),fo||RouterController.replace("Account"),SwapController.getMyTokensWithBalance(ds),_c}catch(ds){const _c=ds;state$c.transactionError=_c==null?void 0:_c.shortMessage,state$c.loadingTransaction=!1,SnackController.showError((_c==null?void 0:_c.shortMessage)||"Transaction error"),EventsController.sendEvent({type:"track",event:"SWAP_ERROR",properties:{message:(_c==null?void 0:_c.shortMessage)||(_c==null?void 0:_c.message)||"Unknown",network:((os=ChainController.state.activeCaipNetwork)==null?void 0:os.caipNetworkId)||"",swapFromToken:((Cl=this.state.sourceToken)==null?void 0:Cl.symbol)||"",swapToToken:((xl=this.state.toToken)==null?void 0:xl.symbol)||"",swapFromAmount:this.state.sourceTokenAmount||"",swapToAmount:this.state.toTokenAmount||"",isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT}});return}},hasInsufficientToken(Fn,Mn){const io=SwapCalculationUtil.isInsufficientSourceTokenForSwap(Fn,Mn,state$c.myTokensWithBalance);let fo=!0;return AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT?fo=!1:fo=SwapCalculationUtil.isInsufficientNetworkTokenForGas(state$c.networkBalanceInUSD,state$c.gasPriceInUSD),fo||io},setTransactionDetails(){const{toTokenAddress:Fn,toTokenDecimals:Mn}=this.getParams();!Fn||!Mn||(state$c.gasPriceInUSD=SwapCalculationUtil.getGasPriceInUSD(state$c.networkPrice,BigInt(state$c.gasFee),BigInt(INITIAL_GAS_LIMIT)),state$c.priceImpact=SwapCalculationUtil.getPriceImpact({sourceTokenAmount:state$c.sourceTokenAmount,sourceTokenPriceInUSD:state$c.sourceTokenPriceInUSD,toTokenPriceInUSD:state$c.toTokenPriceInUSD,toTokenAmount:state$c.toTokenAmount}),state$c.maxSlippage=SwapCalculationUtil.getMaxSlippage(state$c.slippage,state$c.toTokenAmount),state$c.providerFee=SwapCalculationUtil.getProviderFee(state$c.sourceTokenAmount))}},state$b=proxy({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),AccountController={state:state$b,replaceState(Fn){Fn&&Object.assign(state$b,ref(Fn))},subscribe(Fn){return ChainController.subscribeChainProp("accountState",Mn=>{if(Mn)return Fn(Mn)})},subscribeKey(Fn,Mn,io){let fo;return ChainController.subscribeChainProp("accountState",mo=>{if(mo){const $o=mo[Fn];fo!==$o&&(fo=$o,Mn($o))}},io)},setStatus(Fn,Mn){ChainController.setAccountProp("status",Fn,Mn)},getCaipAddress(Fn){return ChainController.getAccountProp("caipAddress",Fn)},setProvider(Fn,Mn){Fn&&ChainController.setAccountProp("provider",Fn,Mn)},setCaipAddress(Fn,Mn){const io=Fn?CoreHelperUtil.getPlainAddress(Fn):void 0;Mn===ChainController.state.activeChain&&(ChainController.state.activeCaipAddress=Fn),ChainController.setAccountProp("caipAddress",Fn,Mn),ChainController.setAccountProp("address",io,Mn)},setBalance(Fn,Mn,io){ChainController.setAccountProp("balance",Fn,io),ChainController.setAccountProp("balanceSymbol",Mn,io)},setProfileName(Fn,Mn){ChainController.setAccountProp("profileName",Fn,Mn)},setProfileImage(Fn,Mn){ChainController.setAccountProp("profileImage",Fn,Mn)},setAddressExplorerUrl(Fn,Mn){ChainController.setAccountProp("addressExplorerUrl",Fn,Mn)},setSmartAccountDeployed(Fn,Mn){ChainController.setAccountProp("smartAccountDeployed",Fn,Mn)},setCurrentTab(Fn){ChainController.setAccountProp("currentTab",Fn,ChainController.state.activeChain)},setTokenBalance(Fn,Mn){Fn&&ChainController.setAccountProp("tokenBalance",Fn,Mn)},setShouldUpdateToAddress(Fn,Mn){ChainController.setAccountProp("shouldUpdateToAddress",Fn,Mn)},setAllAccounts(Fn,Mn){ChainController.setAccountProp("allAccounts",Fn,Mn)},addAddressLabel(Fn,Mn,io){const fo=ChainController.getAccountProp("addressLabels",io)||new Map;fo.set(Fn,Mn),ChainController.setAccountProp("addressLabels",fo,io)},removeAddressLabel(Fn,Mn){const io=ChainController.getAccountProp("addressLabels",Mn)||new Map;io.delete(Fn),ChainController.setAccountProp("addressLabels",io,Mn)},setConnectedWalletInfo(Fn,Mn){ChainController.setAccountProp("connectedWalletInfo",Fn,Mn,!1)},setPreferredAccountType(Fn,Mn){ChainController.setAccountProp("preferredAccountType",Fn,Mn)},setSocialProvider(Fn,Mn){Fn&&ChainController.setAccountProp("socialProvider",Fn,Mn)},setSocialWindow(Fn,Mn){Fn&&ChainController.setAccountProp("socialWindow",ref(Fn),Mn)},setFarcasterUrl(Fn,Mn){Fn&&ChainController.setAccountProp("farcasterUrl",Fn,Mn)},async fetchTokenBalance(){var mo,$o;const Fn=(mo=ChainController.state.activeCaipNetwork)==null?void 0:mo.caipNetworkId,Mn=($o=ChainController.state.activeCaipNetwork)==null?void 0:$o.chainNamespace,io=ChainController.state.activeCaipAddress,fo=io?CoreHelperUtil.getPlainAddress(io):void 0;if(!(state$b.lastRetry&&!CoreHelperUtil.isAllowedRetry(state$b.lastRetry,30*ConstantsUtil$2.ONE_SEC_MS)))try{if(fo&&Fn&&Mn){const Ao=await BlockchainApiController.getBalance(fo,Fn),Lo=Ao.balances.filter(Wo=>Wo.quantity.decimals!=="0");this.setTokenBalance(Lo,Mn),SwapController.setBalances(SwapApiUtil.mapBalancesToSwapTokens(Ao.balances)),state$b.lastRetry=void 0}}catch{state$b.lastRetry=Date.now(),SnackController.showError("Token Balance Unavailable")}},resetAccount(Fn){ChainController.resetAccount(Fn)}},state$a=proxy({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0}),PublicStateController={state:state$a,subscribe(Fn){return subscribe(state$a,()=>Fn(state$a))},set(Fn){Object.assign(state$a,{...state$a,...Fn})}},accountState$1={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]},networkState$1={supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},state$9=proxy({chains:proxyMap(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0}}),ChainController={state:state$9,subscribe(Fn){return subscribe(state$9,()=>{Fn(state$9)})},subscribeKey(Fn,Mn){return subscribeKey(state$9,Fn,Mn)},subscribeChainProp(Fn,Mn,io){let fo;return subscribe(state$9.chains,()=>{var $o;const mo=io||state$9.activeChain;if(mo){const Ao=($o=state$9.chains.get(mo))==null?void 0:$o[Fn];fo!==Ao&&(fo=Ao,Mn(Ao))}})},initialize(Fn){const Mn=Fn==null?void 0:Fn[0];((Fn==null?void 0:Fn.length)===0||!Mn)&&(state$9.noAdapters=!0),state$9.noAdapters||(state$9.activeChain=Mn==null?void 0:Mn.namespace,PublicStateController.set({activeChain:Mn==null?void 0:Mn.namespace}),Fn.forEach(io=>{state$9.chains.set(io.namespace,{namespace:io.namespace,connectionControllerClient:io.connectionControllerClient,networkControllerClient:io.networkControllerClient,adapterType:io.adapterType,accountState:accountState$1,networkState:networkState$1,caipNetworks:io.caipNetworks})}))},setAdapterNetworkState(Fn,Mn){const io=state$9.chains.get(Fn);io&&(io.networkState=ref({...io.networkState,...Mn}),state$9.chains.set(Fn,ref(io)))},setChainAccountData(Fn,Mn,io=!0){if(!Fn)throw new Error("Chain is required to update chain account data");const fo=state$9.chains.get(Fn);fo&&(fo.accountState=ref({...fo.accountState,...Mn}),state$9.chains.set(Fn,fo),(state$9.chains.size===1||state$9.activeChain===Fn)&&(Mn.caipAddress&&(state$9.activeCaipAddress=Mn.caipAddress),AccountController.replaceState(fo.accountState)))},setAccountProp(Fn,Mn,io,fo=!0){this.setChainAccountData(io,{[Fn]:Mn},fo)},setActiveNamespace(Fn){var fo,mo;state$9.activeChain=Fn;const Mn=Fn?state$9.chains.get(Fn):void 0,io=(fo=Mn==null?void 0:Mn.networkState)==null?void 0:fo.caipNetwork;io!=null&&io.id&&(state$9.activeCaipAddress=(mo=Mn==null?void 0:Mn.accountState)==null?void 0:mo.caipAddress,state$9.activeCaipNetwork=io,SafeLocalStorage.setItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID,io==null?void 0:io.caipNetworkId),PublicStateController.set({activeChain:Fn,selectedNetworkId:io==null?void 0:io.caipNetworkId}))},setActiveCaipNetwork(Fn){var fo,mo;if(!Fn)return;const Mn=state$9.chains.get(Fn.chainNamespace);state$9.activeChain=Fn.chainNamespace,state$9.activeCaipNetwork=Fn,state$9.activeCaipAddress=(fo=Mn==null?void 0:Mn.accountState)==null?void 0:fo.caipAddress,Mn&&AccountController.replaceState(Mn.accountState),PublicStateController.set({activeChain:state$9.activeChain,selectedNetworkId:(mo=state$9.activeCaipNetwork)==null?void 0:mo.caipNetworkId}),SafeLocalStorage.setItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID,Fn.caipNetworkId),this.checkIfSupportedNetwork(Fn.chainNamespace)||this.showUnsupportedChainUI()},addCaipNetwork(Fn){var io;if(!Fn)return;const Mn=state$9.chains.get(Fn.chainNamespace);Mn&&((io=Mn==null?void 0:Mn.caipNetworks)==null||io.push(Fn))},async switchActiveNetwork(Fn){const Mn=this.getNetworkControllerClient(Fn.chainNamespace);Mn&&await Mn.switchCaipNetwork(Fn),this.setActiveCaipNetwork(Fn),Fn&&EventsController.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:Fn.caipNetworkId}})},setActiveConnector(Fn){Fn&&(state$9.activeConnector=ref(Fn))},getNetworkControllerClient(Fn){const Mn=Fn||state$9.activeChain,io=state$9.chains.get(Mn);if(!io)throw new Error("Chain adapter not found");if(!io.networkControllerClient)throw new Error("NetworkController client not set");return io.networkControllerClient},getConnectionControllerClient(Fn){const Mn=Fn||state$9.activeChain;if(!Mn)throw new Error("Chain is required to get connection controller client");const io=state$9.chains.get(Mn);if(!(io!=null&&io.connectionControllerClient))throw new Error("ConnectionController client not set");return io.connectionControllerClient},getAccountProp(Fn,Mn){var mo;let io=state$9.activeChain;if(Mn&&(io=Mn),!io)return;const fo=(mo=state$9.chains.get(io))==null?void 0:mo.accountState;if(fo)return fo[Fn]},getNetworkProp(Fn,Mn){var fo;const io=(fo=state$9.chains.get(Mn))==null?void 0:fo.networkState;if(io)return io[Fn]},getRequestedCaipNetworks(Fn){const Mn=state$9.chains.get(Fn),{approvedCaipNetworkIds:io=[],requestedCaipNetworks:fo=[]}=(Mn==null?void 0:Mn.networkState)||{};return CoreHelperUtil.sortRequestedNetworks(io,fo)},getAllRequestedCaipNetworks(){const Fn=[];return state$9.chains.forEach(Mn=>{const io=this.getRequestedCaipNetworks(Mn.namespace);Fn.push(...io)}),Fn},setRequestedCaipNetworks(Fn,Mn){this.setAdapterNetworkState(Mn,{requestedCaipNetworks:Fn})},getAllApprovedCaipNetworkIds(){const Fn=[];return state$9.chains.forEach(Mn=>{const io=this.getApprovedCaipNetworkIds(Mn.namespace);Fn.push(...io)}),Fn},getActiveCaipNetwork(){return state$9.activeCaipNetwork},getActiveCaipAddress(){return state$9.activeCaipAddress},getApprovedCaipNetworkIds(Fn){var fo;const Mn=state$9.chains.get(Fn);return((fo=Mn==null?void 0:Mn.networkState)==null?void 0:fo.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(Fn){const Mn=this.getNetworkControllerClient(),io=await(Mn==null?void 0:Mn.getApprovedCaipNetworksData());this.setAdapterNetworkState(Fn,{approvedCaipNetworkIds:io==null?void 0:io.approvedCaipNetworkIds,supportsAllNetworks:io==null?void 0:io.supportsAllNetworks})},checkIfSupportedNetwork(Fn){const Mn=this.state.activeCaipNetwork,io=this.getRequestedCaipNetworks(Fn);return io.length?io==null?void 0:io.some(fo=>fo.id===(Mn==null?void 0:Mn.id)):!0},checkIfSupportedChainId(Fn){if(!this.state.activeChain)return!0;const Mn=this.getRequestedCaipNetworks(this.state.activeChain);return Mn==null?void 0:Mn.some(io=>io.id===Fn)},setSmartAccountEnabledNetworks(Fn,Mn){this.setAdapterNetworkState(Mn,{smartAccountEnabledNetworks:Fn})},checkIfSmartAccountEnabled(){var fo;const Fn=NetworkUtil.caipNetworkIdToNumber((fo=state$9.activeCaipNetwork)==null?void 0:fo.caipNetworkId),Mn=this.state.activeChain;if(!Mn||!Fn)return!1;const io=this.getNetworkProp("smartAccountEnabledNetworks",Mn);return!!(io!=null&&io.includes(Number(Fn)))},getActiveNetworkTokenAddress(){var fo,mo;const Fn=((fo=this.state.activeCaipNetwork)==null?void 0:fo.chainNamespace)||"eip155",Mn=((mo=this.state.activeCaipNetwork)==null?void 0:mo.id)||1,io=ConstantsUtil$2.NATIVE_TOKEN_ADDRESS[Fn];return`${Fn}:${Mn}:${io}`},showUnsupportedChainUI(){setTimeout(()=>{ModalController.open({view:"UnsupportedChain"})},300)},checkIfNamesSupported(){const Fn=state$9.activeCaipNetwork;return!!(Fn!=null&&Fn.chainNamespace&&ConstantsUtil$2.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(Fn.chainNamespace))},resetNetwork(Fn){this.setAdapterNetworkState(Fn,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(Fn){const Mn=Fn;if(!Mn)throw new Error("Chain is required to set account prop");this.state.activeCaipAddress=void 0,this.setChainAccountData(Mn,ref({smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,provider:void 0}))}},StorageUtil={setWalletConnectDeepLink({name:Fn,href:Mn}){try{SafeLocalStorage.setItem(SafeLocalStorageKeys.DEEPLINK_CHOICE,JSON.stringify({href:Mn,name:Fn}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const Fn=SafeLocalStorage.getItem(SafeLocalStorageKeys.DEEPLINK_CHOICE);if(Fn)return JSON.parse(Fn)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{SafeLocalStorage.removeItem(SafeLocalStorageKeys.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setAppKitRecent(Fn){try{const Mn=StorageUtil.getRecentWallets();Mn.find(fo=>fo.id===Fn.id)||(Mn.unshift(Fn),Mn.length>2&&Mn.pop(),SafeLocalStorage.setItem(SafeLocalStorageKeys.RECENT_WALLETS,JSON.stringify(Mn)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const Fn=SafeLocalStorage.getItem(SafeLocalStorageKeys.RECENT_WALLETS);return Fn?JSON.parse(Fn):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnector(Fn){try{SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTED_CONNECTOR,Fn)}catch{console.info("Unable to set Connected Connector")}},setConnectedNamespace(Fn){try{SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTED_NAMESPACE,Fn)}catch{console.info("Unable to set Connected Namespace")}},getConnectedConnector(){try{return SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_CONNECTOR)}catch{console.info("Unable to get Connected Connector")}},setConnectedSocialProvider(Fn){try{SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTED_SOCIAL,Fn)}catch{console.info("Unable to set Connected Social Provider")}},getConnectedSocialProvider(){try{return SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_SOCIAL)}catch{console.info("Unable to get Connected Social Provider")}},getConnectedSocialUsername(){try{return SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get Connected Social Username")}},getStoredActiveCaipNetwork(){const Fn=SafeLocalStorage.getItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID),Mn=ChainController.getAllRequestedCaipNetworks();return Mn==null?void 0:Mn.find(fo=>fo.caipNetworkId===Fn)}},state$8=proxy({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),AssetController={state:state$8,subscribeNetworkImages(Fn){return subscribe(state$8.networkImages,()=>Fn(state$8.networkImages))},subscribeKey(Fn,Mn){return subscribeKey(state$8,Fn,Mn)},subscribe(Fn){return subscribe(state$8,()=>Fn(state$8))},setWalletImage(Fn,Mn){state$8.walletImages[Fn]=Mn},setNetworkImage(Fn,Mn){state$8.networkImages[Fn]=Mn},setChainImage(Fn,Mn){state$8.chainImages[Fn]=Mn},setConnectorImage(Fn,Mn){state$8.connectorImages[Fn]=Mn},setTokenImage(Fn,Mn){state$8.tokenImages[Fn]=Mn},setCurrencyImage(Fn,Mn){state$8.currencyImages[Fn]=Mn}},baseUrl=CoreHelperUtil.getApiUrl(),api$1=new FetchUtil({baseUrl,clientId:null}),entries$2="40",recommendedEntries="4",imageCountToFetch=20,state$7=proxy({page:1,count:0,featured:[],recommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedRDNS:[]}),ApiController={state:state$7,subscribeKey(Fn,Mn){return subscribeKey(state$7,Fn,Mn)},_getSdkProperties(){const{projectId:Fn,sdkType:Mn,sdkVersion:io}=OptionsController.state;return{projectId:Fn,st:Mn||"appkit",sv:io||"html-wagmi-4.2.2"}},_filterOutExtensions(Fn){return OptionsController.state.isUniversalProvider?Fn.filter(Mn=>!!(Mn.mobile_link||Mn.desktop_link||Mn.webapp_link)):Fn},async _fetchWalletImage(Fn){const Mn=`${api$1.baseUrl}/getWalletImage/${Fn}`,io=await api$1.getBlob({path:Mn,params:ApiController._getSdkProperties()});AssetController.setWalletImage(Fn,URL.createObjectURL(io))},async _fetchNetworkImage(Fn){const Mn=`${api$1.baseUrl}/public/getAssetImage/${Fn}`,io=await api$1.getBlob({path:Mn,params:ApiController._getSdkProperties()});AssetController.setNetworkImage(Fn,URL.createObjectURL(io))},async _fetchConnectorImage(Fn){const Mn=`${api$1.baseUrl}/public/getAssetImage/${Fn}`,io=await api$1.getBlob({path:Mn,params:ApiController._getSdkProperties()});AssetController.setConnectorImage(Fn,URL.createObjectURL(io))},async _fetchCurrencyImage(Fn){const Mn=`${api$1.baseUrl}/public/getCurrencyImage/${Fn}`,io=await api$1.getBlob({path:Mn,params:ApiController._getSdkProperties()});AssetController.setCurrencyImage(Fn,URL.createObjectURL(io))},async _fetchTokenImage(Fn){const Mn=`${api$1.baseUrl}/public/getTokenImage/${Fn}`,io=await api$1.getBlob({path:Mn,params:ApiController._getSdkProperties()});AssetController.setTokenImage(Fn,URL.createObjectURL(io))},async fetchNetworkImages(){const Fn=ChainController.getAllRequestedCaipNetworks(),Mn=Fn==null?void 0:Fn.map(({assets:io})=>io==null?void 0:io.imageId).filter(Boolean);Mn&&await Promise.allSettled(Mn.map(io=>ApiController._fetchNetworkImage(io)))},async fetchConnectorImages(){const{connectors:Fn}=ConnectorController.state,Mn=Fn.map(({imageId:io})=>io).filter(Boolean);await Promise.allSettled(Mn.map(io=>ApiController._fetchConnectorImage(io)))},async fetchCurrencyImages(Fn=[]){await Promise.allSettled(Fn.map(Mn=>ApiController._fetchCurrencyImage(Mn)))},async fetchTokenImages(Fn=[]){await Promise.allSettled(Fn.map(Mn=>ApiController._fetchTokenImage(Mn)))},async fetchFeaturedWallets(){const{featuredWalletIds:Fn}=OptionsController.state;if(Fn!=null&&Fn.length){const{data:Mn}=await api$1.get({path:"/getWallets",params:{...ApiController._getSdkProperties(),page:"1",entries:Fn!=null&&Fn.length?String(Fn.length):recommendedEntries,include:Fn==null?void 0:Fn.join(",")}});Mn.sort((fo,mo)=>Fn.indexOf(fo.id)-Fn.indexOf(mo.id));const io=Mn.map(fo=>fo.image_id).filter(Boolean);await Promise.allSettled(io.map(fo=>ApiController._fetchWalletImage(fo))),state$7.featured=Mn}},async fetchRecommendedWallets(){var Fn;try{const{includeWalletIds:Mn,excludeWalletIds:io,featuredWalletIds:fo}=OptionsController.state,mo=[...io??[],...fo??[]].filter(Boolean),{data:$o,count:Ao}=await api$1.get({path:"/getWallets",params:{...ApiController._getSdkProperties(),page:"1",chains:(Fn=ChainController.state.activeCaipNetwork)==null?void 0:Fn.caipNetworkId,entries:recommendedEntries,include:Mn==null?void 0:Mn.join(","),exclude:mo==null?void 0:mo.join(",")}}),Lo=StorageUtil.getRecentWallets(),Wo=$o.map(zo=>zo.image_id).filter(Boolean),jo=Lo.map(zo=>zo.image_id).filter(Boolean);await Promise.allSettled([...Wo,...jo].map(zo=>ApiController._fetchWalletImage(zo))),state$7.recommended=$o,state$7.count=Ao??0}catch{}},async fetchWallets({page:Fn}){var Wo;const{includeWalletIds:Mn,excludeWalletIds:io,featuredWalletIds:fo}=OptionsController.state,mo=[...state$7.recommended.map(({id:jo})=>jo),...io??[],...fo??[]].filter(Boolean),{data:$o,count:Ao}=await api$1.get({path:"/getWallets",params:{...ApiController._getSdkProperties(),page:String(Fn),entries:entries$2,chains:(Wo=ChainController.state.activeCaipNetwork)==null?void 0:Wo.caipNetworkId,include:Mn==null?void 0:Mn.join(","),exclude:mo.join(",")}}),Lo=$o.slice(0,imageCountToFetch).map(jo=>jo.image_id).filter(Boolean);await Promise.allSettled(Lo.map(jo=>ApiController._fetchWalletImage(jo))),state$7.wallets=CoreHelperUtil.uniqueBy([...state$7.wallets,...ApiController._filterOutExtensions($o)],"id"),state$7.count=Ao>state$7.count?Ao:state$7.count,state$7.page=Fn},async searchWalletByIds({ids:Fn}){var io;const{data:Mn}=await api$1.get({path:"/getWallets",params:{...ApiController._getSdkProperties(),page:"1",entries:String(Fn.length),chains:(io=ChainController.state.activeCaipNetwork)==null?void 0:io.caipNetworkId,include:Fn==null?void 0:Fn.join(",")}});Mn&&Mn.forEach(fo=>{fo!=null&&fo.rdns&&state$7.excludedRDNS.push(fo.rdns)})},async searchWallet({search:Fn,badge:Mn}){var Ao;const{includeWalletIds:io,excludeWalletIds:fo}=OptionsController.state;state$7.search=[];const{data:mo}=await api$1.get({path:"/getWallets",params:{...ApiController._getSdkProperties(),page:"1",entries:"100",search:Fn==null?void 0:Fn.trim(),badge_type:Mn,chains:(Ao=ChainController.state.activeCaipNetwork)==null?void 0:Ao.caipNetworkId,include:io==null?void 0:io.join(","),exclude:fo==null?void 0:fo.join(",")}});EventsController.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:Mn??"",search:Fn??""}});const $o=mo.map(Lo=>Lo.image_id).filter(Boolean);await Promise.allSettled([...$o.map(Lo=>ApiController._fetchWalletImage(Lo)),CoreHelperUtil.wait(300)]),state$7.search=ApiController._filterOutExtensions(mo)},async reFetchWallets(){state$7.page=1,state$7.wallets=[],await ApiController.fetchFeaturedWallets(),await ApiController.fetchRecommendedWallets()},prefetch(){var Mn;const Fn=[ApiController.fetchFeaturedWallets(),ApiController.fetchRecommendedWallets(),ApiController.fetchNetworkImages(),ApiController.fetchConnectorImages()];(Mn=OptionsController.state.features)!=null&&Mn.analytics&&Fn.push(ApiController.fetchAnalyticsConfig()),state$7.prefetchPromise=Promise.race([Promise.allSettled(Fn)])},async fetchAnalyticsConfig(){const{isAnalyticsEnabled:Fn}=await api$1.get({path:"/getAnalyticsConfig",params:ApiController._getSdkProperties()});OptionsController.setFeatures({analytics:Fn})}},state$6=proxy({loading:!1,open:!1,shake:!1}),ModalController={state:state$6,subscribe(Fn){return subscribe(state$6,()=>Fn(state$6))},subscribeKey(Fn,Mn){return subscribeKey(state$6,Fn,Mn)},async open(Fn){await ApiController.state.prefetchPromise;const Mn=ChainController.state.activeCaipAddress,io=ChainController.state.noAdapters;Fn!=null&&Fn.view?RouterController.reset(Fn.view):Mn?RouterController.reset("Account"):io&&!CoreHelperUtil.isMobile()?RouterController.reset("ConnectingWalletConnect"):RouterController.reset("Connect"),state$6.open=!0,PublicStateController.set({open:!0}),EventsController.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!Mn}})},close(){const Fn=!!ChainController.state.activeCaipAddress;state$6.open=!1,PublicStateController.set({open:!1}),EventsController.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:Fn}})},setLoading(Fn){state$6.loading=Fn,PublicStateController.set({loading:Fn})},shake(){state$6.shake||(state$6.shake=!0,setTimeout(()=>{state$6.shake=!1},500))}},USDC_CURRENCY_DEFAULT={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},USD_CURRENCY_DEFAULT={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},defaultState={providers:ONRAMP_PROVIDERS,selectedProvider:null,error:null,purchaseCurrency:USDC_CURRENCY_DEFAULT,paymentCurrency:USD_CURRENCY_DEFAULT,purchaseCurrencies:[USDC_CURRENCY_DEFAULT],paymentCurrencies:[],quotesLoading:!1},state$5=proxy(defaultState),OnRampController={state:state$5,subscribe(Fn){return subscribe(state$5,()=>Fn(state$5))},subscribeKey(Fn,Mn){return subscribeKey(state$5,Fn,Mn)},setSelectedProvider(Fn){if(Fn&&Fn.name==="meld"){const Mn=MELD_PROD_PUBLIC_KEY,io=ChainController.state.activeChain===ConstantsUtil$3.CHAIN.SOLANA?"SOL":"USDC",fo=AccountController.state.address??"",mo=new URL(Fn.url);mo.searchParams.append("publicKey",Mn),mo.searchParams.append("destinationCurrencyCode",io),mo.searchParams.append("walletAddress",fo),Fn.url=mo.toString()}state$5.selectedProvider=Fn},setPurchaseCurrency(Fn){state$5.purchaseCurrency=Fn},setPaymentCurrency(Fn){state$5.paymentCurrency=Fn},setPurchaseAmount(Fn){this.state.purchaseAmount=Fn},setPaymentAmount(Fn){this.state.paymentAmount=Fn},async getAvailableCurrencies(){const Fn=await BlockchainApiController.getOnrampOptions();state$5.purchaseCurrencies=Fn.purchaseCurrencies,state$5.paymentCurrencies=Fn.paymentCurrencies,state$5.paymentCurrency=Fn.paymentCurrencies[0]||USD_CURRENCY_DEFAULT,state$5.purchaseCurrency=Fn.purchaseCurrencies[0]||USDC_CURRENCY_DEFAULT,await ApiController.fetchCurrencyImages(Fn.paymentCurrencies.map(Mn=>Mn.id)),await ApiController.fetchTokenImages(Fn.purchaseCurrencies.map(Mn=>Mn.symbol))},async getQuote(){var Fn,Mn;state$5.quotesLoading=!0;try{const io=await BlockchainApiController.getOnrampQuote({purchaseCurrency:state$5.purchaseCurrency,paymentCurrency:state$5.paymentCurrency,amount:((Fn=state$5.paymentAmount)==null?void 0:Fn.toString())||"0",network:(Mn=state$5.purchaseCurrency)==null?void 0:Mn.symbol});return state$5.quotesLoading=!1,state$5.purchaseAmount=Number(io.purchaseAmount.amount),io}catch(io){return state$5.error=io.message,state$5.quotesLoading=!1,null}finally{state$5.quotesLoading=!1}},resetState(){state$5.providers=ONRAMP_PROVIDERS,state$5.selectedProvider=null,state$5.error=null,state$5.purchaseCurrency=USDC_CURRENCY_DEFAULT,state$5.paymentCurrency=USD_CURRENCY_DEFAULT,state$5.purchaseCurrencies=[USDC_CURRENCY_DEFAULT],state$5.paymentCurrencies=[],state$5.paymentAmount=void 0,state$5.purchaseAmount=void 0,state$5.quotesLoading=!1}},state$4=proxy({loading:!1}),SendController={state:state$4,subscribe(Fn){return subscribe(state$4,()=>Fn(state$4))},subscribeKey(Fn,Mn){return subscribeKey(state$4,Fn,Mn)},setToken(Fn){Fn&&(state$4.token=ref(Fn))},setTokenAmount(Fn){state$4.sendTokenAmount=Fn},setReceiverAddress(Fn){state$4.receiverAddress=Fn},setReceiverProfileImageUrl(Fn){state$4.receiverProfileImageUrl=Fn},setReceiverProfileName(Fn){state$4.receiverProfileName=Fn},setGasPrice(Fn){state$4.gasPrice=Fn},setGasPriceInUsd(Fn){state$4.gasPriceInUSD=Fn},setLoading(Fn){state$4.loading=Fn},sendToken(){var Fn;switch((Fn=ChainController.state.activeCaipNetwork)==null?void 0:Fn.chainNamespace){case"eip155":this.sendEvmToken();return;case"solana":this.sendSolanaToken();return;default:throw new Error("Unsupported chain")}},sendEvmToken(){var Fn,Mn,io,fo,mo;(Fn=this.state.token)!=null&&Fn.address&&this.state.sendTokenAmount&&this.state.receiverAddress?(EventsController.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:((Mn=ChainController.state.activeCaipNetwork)==null?void 0:Mn.caipNetworkId)||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&((io=this.state.token)!=null&&io.quantity.decimals)&&(EventsController.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:(fo=this.state.token)==null?void 0:fo.symbol,amount:this.state.sendTokenAmount,network:((mo=ChainController.state.activeCaipNetwork)==null?void 0:mo.caipNetworkId)||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals}))},async sendNativeToken(Fn){var $o,Ao,Lo,Wo;RouterController.pushTransactionStack({view:"Account",goBack:!1});const Mn=Fn.receiverAddress,io=AccountController.state.address,fo=ConnectionController.parseUnits(Fn.sendTokenAmount.toString(),Number(Fn.decimals)),mo="0x";try{await ConnectionController.sendTransaction({chainNamespace:"eip155",to:Mn,address:io,data:mo,value:fo??BigInt(0),gasPrice:Fn.gasPrice}),SnackController.showSuccess("Transaction started"),EventsController.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:(($o=this.state.token)==null?void 0:$o.symbol)||"",amount:Fn.sendTokenAmount,network:((Ao=ChainController.state.activeCaipNetwork)==null?void 0:Ao.caipNetworkId)||""}}),this.resetSend()}catch{EventsController.sendEvent({type:"track",event:"SEND_ERROR",properties:{isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,token:((Lo=this.state.token)==null?void 0:Lo.symbol)||"",amount:Fn.sendTokenAmount,network:((Wo=ChainController.state.activeCaipNetwork)==null?void 0:Wo.caipNetworkId)||""}}),SnackController.showError("Something went wrong")}},async sendERC20Token(Fn){RouterController.pushTransactionStack({view:"Account",goBack:!1});const Mn=ConnectionController.parseUnits(Fn.sendTokenAmount.toString(),Number(Fn.decimals));try{if(AccountController.state.address&&Fn.sendTokenAmount&&Fn.receiverAddress&&Fn.tokenAddress){const io=CoreHelperUtil.getPlainAddress(Fn.tokenAddress);await ConnectionController.writeContract({fromAddress:AccountController.state.address,tokenAddress:io,receiverAddress:Fn.receiverAddress,tokenAmount:Mn??BigInt(0),method:"transfer",abi:ContractUtil.getERC20Abi(io)}),SnackController.showSuccess("Transaction started"),this.resetSend()}}catch{SnackController.showError("Something went wrong")}},sendSolanaToken(){if(!this.state.sendTokenAmount||!this.state.receiverAddress){SnackController.showError("Please enter a valid amount and receiver address");return}RouterController.pushTransactionStack({view:"Account",goBack:!1}),ConnectionController.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then(()=>{this.resetSend(),AccountController.fetchTokenBalance()}).catch(Fn=>{SnackController.showError("Failed to send transaction. Please try again."),console.error("SendController:sendToken - failed to send solana transaction",Fn)})},resetSend(){state$4.token=void 0,state$4.sendTokenAmount=void 0,state$4.receiverAddress=void 0,state$4.receiverProfileImageUrl=void 0,state$4.receiverProfileName=void 0,state$4.loading=!1}},state$3=proxy({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),TooltipController={state:state$3,subscribe(Fn){return subscribe(state$3,()=>Fn(state$3))},subscribeKey(Fn,Mn){return subscribeKey(state$3,Fn,Mn)},showTooltip({message:Fn,triggerRect:Mn,variant:io}){state$3.open=!0,state$3.message=Fn,state$3.triggerRect=Mn,state$3.variant=io},hide(){state$3.open=!1,state$3.message="",state$3.triggerRect={width:0,height:0,top:0,left:0}}},SLIP44_MSB=2147483648,EnsUtil={convertEVMChainIdToCoinType(Fn){if(Fn>=SLIP44_MSB)throw new Error("Invalid chainId");return(SLIP44_MSB|Fn)>>>0}},state$2=proxy({suggestions:[],loading:!1}),EnsController={state:state$2,subscribe(Fn){return subscribe(state$2,()=>Fn(state$2))},subscribeKey(Fn,Mn){return subscribeKey(state$2,Fn,Mn)},async resolveName(Fn){var Mn,io;try{return await BlockchainApiController.lookupEnsName(Fn)}catch(fo){const mo=fo;throw new Error(((io=(Mn=mo==null?void 0:mo.reasons)==null?void 0:Mn[0])==null?void 0:io.description)||"Error resolving name")}},async isNameRegistered(Fn){try{return await BlockchainApiController.lookupEnsName(Fn),!0}catch{return!1}},async getSuggestions(Fn){try{state$2.loading=!0,state$2.suggestions=[];const Mn=await BlockchainApiController.getEnsNameSuggestions(Fn);return state$2.suggestions=Mn.suggestions.map(io=>({...io,name:io.name}))||[],state$2.suggestions}catch(Mn){const io=this.parseEnsApiError(Mn,"Error fetching name suggestions");throw new Error(io)}finally{state$2.loading=!1}},async getNamesForAddress(Fn){try{return ChainController.state.activeCaipNetwork?await BlockchainApiController.reverseLookupEnsName({address:Fn}):[]}catch(Mn){const io=this.parseEnsApiError(Mn,"Error fetching names for address");throw new Error(io)}},async registerName(Fn){const Mn=ChainController.state.activeCaipNetwork;if(!Mn)throw new Error("Network not found");const io=AccountController.state.address,fo=ConnectorController.getAuthConnector();if(!io||!fo)throw new Error("Address or auth connector not found");state$2.loading=!0;try{const mo=JSON.stringify({name:Fn,attributes:{},timestamp:Math.floor(Date.now()/1e3)});RouterController.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){state$2.loading=!1}});const $o=await ConnectionController.signMessage(mo),Ao=Mn.id;if(!Ao)throw new Error("Network not found");const Lo=EnsUtil.convertEVMChainIdToCoinType(Number(Ao));await BlockchainApiController.registerEnsName({coinType:Lo,address:io,signature:$o,message:mo}),AccountController.setProfileName(Fn,Mn.chainNamespace),RouterController.replace("RegisterAccountNameSuccess")}catch(mo){const $o=this.parseEnsApiError(mo,`Error registering name ${Fn}`);throw RouterController.replace("RegisterAccountName"),new Error($o)}finally{state$2.loading=!1}},validateName(Fn){return/^[a-zA-Z0-9-]{4,}$/u.test(Fn)},parseEnsApiError(Fn,Mn){var fo,mo;const io=Fn;return((mo=(fo=io==null?void 0:io.reasons)==null?void 0:fo[0])==null?void 0:mo.description)||Mn}},state$1=proxy({message:"",variant:"info",open:!1}),AlertController={state:state$1,subscribeKey(Fn,Mn){return subscribeKey(state$1,Fn,Mn)},open(Fn,Mn){const{debug:io}=OptionsController.state,{shortMessage:fo,longMessage:mo}=Fn;io&&(state$1.message=fo,state$1.variant=Mn,state$1.open=!0),mo&&console.error(typeof mo=="function"?mo():mo)},close(){state$1.open=!1,state$1.message="",state$1.variant="info"}},namespaceImageIds={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:""},AssetUtil={async fetchWalletImage(Fn){if(Fn)return await ApiController._fetchWalletImage(Fn),this.getWalletImageById(Fn)},getWalletImageById(Fn){if(Fn)return AssetController.state.walletImages[Fn]},getWalletImage(Fn){if(Fn!=null&&Fn.image_url)return Fn==null?void 0:Fn.image_url;if(Fn!=null&&Fn.image_id)return AssetController.state.walletImages[Fn.image_id]},getNetworkImage(Fn){var Mn,io,fo;if((Mn=Fn==null?void 0:Fn.assets)!=null&&Mn.imageUrl)return(io=Fn==null?void 0:Fn.assets)==null?void 0:io.imageUrl;if((fo=Fn==null?void 0:Fn.assets)!=null&&fo.imageId)return AssetController.state.networkImages[Fn.assets.imageId]},getNetworkImageById(Fn){if(Fn)return AssetController.state.networkImages[Fn]},getConnectorImage(Fn){if(Fn!=null&&Fn.imageUrl)return Fn.imageUrl;if(Fn!=null&&Fn.imageId)return AssetController.state.connectorImages[Fn.imageId]},getChainImage(Fn){return AssetController.state.networkImages[namespaceImageIds[Fn]]}};var events={exports:{}},R$3=typeof Reflect=="object"?Reflect:null,ReflectApply=R$3&&typeof R$3.apply=="function"?R$3.apply:function(Mn,io,fo){return Function.prototype.apply.call(Mn,io,fo)},ReflectOwnKeys;R$3&&typeof R$3.ownKeys=="function"?ReflectOwnKeys=R$3.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(Mn){return Object.getOwnPropertyNames(Mn).concat(Object.getOwnPropertySymbols(Mn))}:ReflectOwnKeys=function(Mn){return Object.getOwnPropertyNames(Mn)};function ProcessEmitWarning(Fn){console&&console.warn&&console.warn(Fn)}var NumberIsNaN=Number.isNaN||function(Mn){return Mn!==Mn};function EventEmitter$2(){EventEmitter$2.init.call(this)}events.exports=EventEmitter$2;events.exports.once=once;EventEmitter$2.EventEmitter=EventEmitter$2;EventEmitter$2.prototype._events=void 0;EventEmitter$2.prototype._eventsCount=0;EventEmitter$2.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(Fn){if(typeof Fn!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Fn)}Object.defineProperty(EventEmitter$2,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(Fn){if(typeof Fn!="number"||Fn<0||NumberIsNaN(Fn))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Fn+".");defaultMaxListeners=Fn}});EventEmitter$2.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter$2.prototype.setMaxListeners=function(Mn){if(typeof Mn!="number"||Mn<0||NumberIsNaN(Mn))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Mn+".");return this._maxListeners=Mn,this};function _getMaxListeners(Fn){return Fn._maxListeners===void 0?EventEmitter$2.defaultMaxListeners:Fn._maxListeners}EventEmitter$2.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter$2.prototype.emit=function(Mn){for(var io=[],fo=1;fo<arguments.length;fo++)io.push(arguments[fo]);var mo=Mn==="error",$o=this._events;if($o!==void 0)mo=mo&&$o.error===void 0;else if(!mo)return!1;if(mo){var Ao;if(io.length>0&&(Ao=io[0]),Ao instanceof Error)throw Ao;var Lo=new Error("Unhandled error."+(Ao?" ("+Ao.message+")":""));throw Lo.context=Ao,Lo}var Wo=$o[Mn];if(Wo===void 0)return!1;if(typeof Wo=="function")ReflectApply(Wo,this,io);else for(var jo=Wo.length,zo=arrayClone(Wo,jo),fo=0;fo<jo;++fo)ReflectApply(zo[fo],this,io);return!0};function _addListener(Fn,Mn,io,fo){var mo,$o,Ao;if(checkListener(io),$o=Fn._events,$o===void 0?($o=Fn._events=Object.create(null),Fn._eventsCount=0):($o.newListener!==void 0&&(Fn.emit("newListener",Mn,io.listener?io.listener:io),$o=Fn._events),Ao=$o[Mn]),Ao===void 0)Ao=$o[Mn]=io,++Fn._eventsCount;else if(typeof Ao=="function"?Ao=$o[Mn]=fo?[io,Ao]:[Ao,io]:fo?Ao.unshift(io):Ao.push(io),mo=_getMaxListeners(Fn),mo>0&&Ao.length>mo&&!Ao.warned){Ao.warned=!0;var Lo=new Error("Possible EventEmitter memory leak detected. "+Ao.length+" "+String(Mn)+" listeners added. Use emitter.setMaxListeners() to increase limit");Lo.name="MaxListenersExceededWarning",Lo.emitter=Fn,Lo.type=Mn,Lo.count=Ao.length,ProcessEmitWarning(Lo)}return Fn}EventEmitter$2.prototype.addListener=function(Mn,io){return _addListener(this,Mn,io,!1)};EventEmitter$2.prototype.on=EventEmitter$2.prototype.addListener;EventEmitter$2.prototype.prependListener=function(Mn,io){return _addListener(this,Mn,io,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(Fn,Mn,io){var fo={fired:!1,wrapFn:void 0,target:Fn,type:Mn,listener:io},mo=onceWrapper.bind(fo);return mo.listener=io,fo.wrapFn=mo,mo}EventEmitter$2.prototype.once=function(Mn,io){return checkListener(io),this.on(Mn,_onceWrap(this,Mn,io)),this};EventEmitter$2.prototype.prependOnceListener=function(Mn,io){return checkListener(io),this.prependListener(Mn,_onceWrap(this,Mn,io)),this};EventEmitter$2.prototype.removeListener=function(Mn,io){var fo,mo,$o,Ao,Lo;if(checkListener(io),mo=this._events,mo===void 0)return this;if(fo=mo[Mn],fo===void 0)return this;if(fo===io||fo.listener===io)--this._eventsCount===0?this._events=Object.create(null):(delete mo[Mn],mo.removeListener&&this.emit("removeListener",Mn,fo.listener||io));else if(typeof fo!="function"){for($o=-1,Ao=fo.length-1;Ao>=0;Ao--)if(fo[Ao]===io||fo[Ao].listener===io){Lo=fo[Ao].listener,$o=Ao;break}if($o<0)return this;$o===0?fo.shift():spliceOne(fo,$o),fo.length===1&&(mo[Mn]=fo[0]),mo.removeListener!==void 0&&this.emit("removeListener",Mn,Lo||io)}return this};EventEmitter$2.prototype.off=EventEmitter$2.prototype.removeListener;EventEmitter$2.prototype.removeAllListeners=function(Mn){var io,fo,mo;if(fo=this._events,fo===void 0)return this;if(fo.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):fo[Mn]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete fo[Mn]),this;if(arguments.length===0){var $o=Object.keys(fo),Ao;for(mo=0;mo<$o.length;++mo)Ao=$o[mo],Ao!=="removeListener"&&this.removeAllListeners(Ao);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(io=fo[Mn],typeof io=="function")this.removeListener(Mn,io);else if(io!==void 0)for(mo=io.length-1;mo>=0;mo--)this.removeListener(Mn,io[mo]);return this};function _listeners(Fn,Mn,io){var fo=Fn._events;if(fo===void 0)return[];var mo=fo[Mn];return mo===void 0?[]:typeof mo=="function"?io?[mo.listener||mo]:[mo]:io?unwrapListeners(mo):arrayClone(mo,mo.length)}EventEmitter$2.prototype.listeners=function(Mn){return _listeners(this,Mn,!0)};EventEmitter$2.prototype.rawListeners=function(Mn){return _listeners(this,Mn,!1)};EventEmitter$2.listenerCount=function(Fn,Mn){return typeof Fn.listenerCount=="function"?Fn.listenerCount(Mn):listenerCount.call(Fn,Mn)};EventEmitter$2.prototype.listenerCount=listenerCount;function listenerCount(Fn){var Mn=this._events;if(Mn!==void 0){var io=Mn[Fn];if(typeof io=="function")return 1;if(io!==void 0)return io.length}return 0}EventEmitter$2.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(Fn,Mn){for(var io=new Array(Mn),fo=0;fo<Mn;++fo)io[fo]=Fn[fo];return io}function spliceOne(Fn,Mn){for(;Mn+1<Fn.length;Mn++)Fn[Mn]=Fn[Mn+1];Fn.pop()}function unwrapListeners(Fn){for(var Mn=new Array(Fn.length),io=0;io<Mn.length;++io)Mn[io]=Fn[io].listener||Fn[io];return Mn}function once(Fn,Mn){return new Promise(function(io,fo){function mo(Ao){Fn.removeListener(Mn,$o),fo(Ao)}function $o(){typeof Fn.removeListener=="function"&&Fn.removeListener("error",mo),io([].slice.call(arguments))}eventTargetAgnosticAddListener(Fn,Mn,$o,{once:!0}),Mn!=="error"&&addErrorHandlerIfEventEmitter(Fn,mo,{once:!0})})}function addErrorHandlerIfEventEmitter(Fn,Mn,io){typeof Fn.on=="function"&&eventTargetAgnosticAddListener(Fn,"error",Mn,io)}function eventTargetAgnosticAddListener(Fn,Mn,io,fo){if(typeof Fn.on=="function")fo.once?Fn.once(Mn,io):Fn.on(Mn,io);else if(typeof Fn.addEventListener=="function")Fn.addEventListener(Mn,function mo($o){fo.once&&Fn.removeEventListener(Mn,mo),io($o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Fn)}var eventsExports=events.exports;const Jg=getDefaultExportFromCjs(eventsExports);var cjs$3={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(Fn,Mn){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(io,fo){io.__proto__=fo}||function(io,fo){for(var mo in fo)fo.hasOwnProperty(mo)&&(io[mo]=fo[mo])},extendStatics$1(Fn,Mn)};function __extends$1(Fn,Mn){extendStatics$1(Fn,Mn);function io(){this.constructor=Fn}Fn.prototype=Mn===null?Object.create(Mn):(io.prototype=Mn.prototype,new io)}var __assign$1=function(){return __assign$1=Object.assign||function(Mn){for(var io,fo=1,mo=arguments.length;fo<mo;fo++){io=arguments[fo];for(var $o in io)Object.prototype.hasOwnProperty.call(io,$o)&&(Mn[$o]=io[$o])}return Mn},__assign$1.apply(this,arguments)};function __rest$1(Fn,Mn){var io={};for(var fo in Fn)Object.prototype.hasOwnProperty.call(Fn,fo)&&Mn.indexOf(fo)<0&&(io[fo]=Fn[fo]);if(Fn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var mo=0,fo=Object.getOwnPropertySymbols(Fn);mo<fo.length;mo++)Mn.indexOf(fo[mo])<0&&Object.prototype.propertyIsEnumerable.call(Fn,fo[mo])&&(io[fo[mo]]=Fn[fo[mo]]);return io}function __decorate$2Y(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o}function __param$1(Fn,Mn){return function(io,fo){Mn(io,fo,Fn)}}function __metadata$1(Fn,Mn){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Fn,Mn)}function __awaiter$1(Fn,Mn,io,fo){function mo($o){return $o instanceof io?$o:new io(function(Ao){Ao($o)})}return new(io||(io=Promise))(function($o,Ao){function Lo(zo){try{jo(fo.next(zo))}catch(Vo){Ao(Vo)}}function Wo(zo){try{jo(fo.throw(zo))}catch(Vo){Ao(Vo)}}function jo(zo){zo.done?$o(zo.value):mo(zo.value).then(Lo,Wo)}jo((fo=fo.apply(Fn,Mn||[])).next())})}function __generator$1(Fn,Mn){var io={label:0,sent:function(){if($o[0]&1)throw $o[1];return $o[1]},trys:[],ops:[]},fo,mo,$o,Ao;return Ao={next:Lo(0),throw:Lo(1),return:Lo(2)},typeof Symbol=="function"&&(Ao[Symbol.iterator]=function(){return this}),Ao;function Lo(jo){return function(zo){return Wo([jo,zo])}}function Wo(jo){if(fo)throw new TypeError("Generator is already executing.");for(;io;)try{if(fo=1,mo&&($o=jo[0]&2?mo.return:jo[0]?mo.throw||(($o=mo.return)&&$o.call(mo),0):mo.next)&&!($o=$o.call(mo,jo[1])).done)return $o;switch(mo=0,$o&&(jo=[jo[0]&2,$o.value]),jo[0]){case 0:case 1:$o=jo;break;case 4:return io.label++,{value:jo[1],done:!1};case 5:io.label++,mo=jo[1],jo=[0];continue;case 7:jo=io.ops.pop(),io.trys.pop();continue;default:if($o=io.trys,!($o=$o.length>0&&$o[$o.length-1])&&(jo[0]===6||jo[0]===2)){io=0;continue}if(jo[0]===3&&(!$o||jo[1]>$o[0]&&jo[1]<$o[3])){io.label=jo[1];break}if(jo[0]===6&&io.label<$o[1]){io.label=$o[1],$o=jo;break}if($o&&io.label<$o[2]){io.label=$o[2],io.ops.push(jo);break}$o[2]&&io.ops.pop(),io.trys.pop();continue}jo=Mn.call(Fn,io)}catch(zo){jo=[6,zo],mo=0}finally{fo=$o=0}if(jo[0]&5)throw jo[1];return{value:jo[0]?jo[1]:void 0,done:!0}}}function __createBinding$1(Fn,Mn,io,fo){fo===void 0&&(fo=io),Fn[fo]=Mn[io]}function __exportStar$1(Fn,Mn){for(var io in Fn)io!=="default"&&!Mn.hasOwnProperty(io)&&(Mn[io]=Fn[io])}function __values$1(Fn){var Mn=typeof Symbol=="function"&&Symbol.iterator,io=Mn&&Fn[Mn],fo=0;if(io)return io.call(Fn);if(Fn&&typeof Fn.length=="number")return{next:function(){return Fn&&fo>=Fn.length&&(Fn=void 0),{value:Fn&&Fn[fo++],done:!Fn}}};throw new TypeError(Mn?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$1(Fn,Mn){var io=typeof Symbol=="function"&&Fn[Symbol.iterator];if(!io)return Fn;var fo=io.call(Fn),mo,$o=[],Ao;try{for(;(Mn===void 0||Mn-- >0)&&!(mo=fo.next()).done;)$o.push(mo.value)}catch(Lo){Ao={error:Lo}}finally{try{mo&&!mo.done&&(io=fo.return)&&io.call(fo)}finally{if(Ao)throw Ao.error}}return $o}function __spread$1(){for(var Fn=[],Mn=0;Mn<arguments.length;Mn++)Fn=Fn.concat(__read$1(arguments[Mn]));return Fn}function __spreadArrays$1(){for(var Fn=0,Mn=0,io=arguments.length;Mn<io;Mn++)Fn+=arguments[Mn].length;for(var fo=Array(Fn),mo=0,Mn=0;Mn<io;Mn++)for(var $o=arguments[Mn],Ao=0,Lo=$o.length;Ao<Lo;Ao++,mo++)fo[mo]=$o[Ao];return fo}function __await$1(Fn){return this instanceof __await$1?(this.v=Fn,this):new __await$1(Fn)}function __asyncGenerator$1(Fn,Mn,io){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fo=io.apply(Fn,Mn||[]),mo,$o=[];return mo={},Ao("next"),Ao("throw"),Ao("return"),mo[Symbol.asyncIterator]=function(){return this},mo;function Ao(Go){fo[Go]&&(mo[Go]=function(Jo){return new Promise(function(Qo,os){$o.push([Go,Jo,Qo,os])>1||Lo(Go,Jo)})})}function Lo(Go,Jo){try{Wo(fo[Go](Jo))}catch(Qo){Vo($o[0][3],Qo)}}function Wo(Go){Go.value instanceof __await$1?Promise.resolve(Go.value.v).then(jo,zo):Vo($o[0][2],Go)}function jo(Go){Lo("next",Go)}function zo(Go){Lo("throw",Go)}function Vo(Go,Jo){Go(Jo),$o.shift(),$o.length&&Lo($o[0][0],$o[0][1])}}function __asyncDelegator$1(Fn){var Mn,io;return Mn={},fo("next"),fo("throw",function(mo){throw mo}),fo("return"),Mn[Symbol.iterator]=function(){return this},Mn;function fo(mo,$o){Mn[mo]=Fn[mo]?function(Ao){return(io=!io)?{value:__await$1(Fn[mo](Ao)),done:mo==="return"}:$o?$o(Ao):Ao}:$o}}function __asyncValues$1(Fn){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Mn=Fn[Symbol.asyncIterator],io;return Mn?Mn.call(Fn):(Fn=typeof __values$1=="function"?__values$1(Fn):Fn[Symbol.iterator](),io={},fo("next"),fo("throw"),fo("return"),io[Symbol.asyncIterator]=function(){return this},io);function fo($o){io[$o]=Fn[$o]&&function(Ao){return new Promise(function(Lo,Wo){Ao=Fn[$o](Ao),mo(Lo,Wo,Ao.done,Ao.value)})}}function mo($o,Ao,Lo,Wo){Promise.resolve(Wo).then(function(jo){$o({value:jo,done:Lo})},Ao)}}function __makeTemplateObject$1(Fn,Mn){return Object.defineProperty?Object.defineProperty(Fn,"raw",{value:Mn}):Fn.raw=Mn,Fn}function __importStar$1(Fn){if(Fn&&Fn.__esModule)return Fn;var Mn={};if(Fn!=null)for(var io in Fn)Object.hasOwnProperty.call(Fn,io)&&(Mn[io]=Fn[io]);return Mn.default=Fn,Mn}function __importDefault$1(Fn){return Fn&&Fn.__esModule?Fn:{default:Fn}}function __classPrivateFieldGet$2(Fn,Mn){if(!Mn.has(Fn))throw new TypeError("attempted to get private field on non-instance");return Mn.get(Fn)}function __classPrivateFieldSet$1(Fn,Mn,io){if(!Mn.has(Fn))throw new TypeError("attempted to set private field on non-instance");return Mn.set(Fn,io),io}const tslib_es6$1=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign$1},__asyncDelegator:__asyncDelegator$1,__asyncGenerator:__asyncGenerator$1,__asyncValues:__asyncValues$1,__await:__await$1,__awaiter:__awaiter$1,__classPrivateFieldGet:__classPrivateFieldGet$2,__classPrivateFieldSet:__classPrivateFieldSet$1,__createBinding:__createBinding$1,__decorate:__decorate$2Y,__exportStar:__exportStar$1,__extends:__extends$1,__generator:__generator$1,__importDefault:__importDefault$1,__importStar:__importStar$1,__makeTemplateObject:__makeTemplateObject$1,__metadata:__metadata$1,__param:__param$1,__read:__read$1,__rest:__rest$1,__spread:__spread$1,__spreadArrays:__spreadArrays$1,__values:__values$1},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(tslib_es6$1);var utils$r={},delay={},hasRequiredDelay;function requireDelay(){if(hasRequiredDelay)return delay;hasRequiredDelay=1,Object.defineProperty(delay,"__esModule",{value:!0}),delay.delay=void 0;function Fn(Mn){return new Promise(io=>{setTimeout(()=>{io(!0)},Mn)})}return delay.delay=Fn,delay}var convert={},constants={},misc={},hasRequiredMisc;function requireMisc(){return hasRequiredMisc||(hasRequiredMisc=1,Object.defineProperty(misc,"__esModule",{value:!0}),misc.ONE_THOUSAND=misc.ONE_HUNDRED=void 0,misc.ONE_HUNDRED=100,misc.ONE_THOUSAND=1e3),misc}var time={},hasRequiredTime;function requireTime(){return hasRequiredTime||(hasRequiredTime=1,function(Fn){Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.ONE_YEAR=Fn.FOUR_WEEKS=Fn.THREE_WEEKS=Fn.TWO_WEEKS=Fn.ONE_WEEK=Fn.THIRTY_DAYS=Fn.SEVEN_DAYS=Fn.FIVE_DAYS=Fn.THREE_DAYS=Fn.ONE_DAY=Fn.TWENTY_FOUR_HOURS=Fn.TWELVE_HOURS=Fn.SIX_HOURS=Fn.THREE_HOURS=Fn.ONE_HOUR=Fn.SIXTY_MINUTES=Fn.THIRTY_MINUTES=Fn.TEN_MINUTES=Fn.FIVE_MINUTES=Fn.ONE_MINUTE=Fn.SIXTY_SECONDS=Fn.THIRTY_SECONDS=Fn.TEN_SECONDS=Fn.FIVE_SECONDS=Fn.ONE_SECOND=void 0,Fn.ONE_SECOND=1,Fn.FIVE_SECONDS=5,Fn.TEN_SECONDS=10,Fn.THIRTY_SECONDS=30,Fn.SIXTY_SECONDS=60,Fn.ONE_MINUTE=Fn.SIXTY_SECONDS,Fn.FIVE_MINUTES=Fn.ONE_MINUTE*5,Fn.TEN_MINUTES=Fn.ONE_MINUTE*10,Fn.THIRTY_MINUTES=Fn.ONE_MINUTE*30,Fn.SIXTY_MINUTES=Fn.ONE_MINUTE*60,Fn.ONE_HOUR=Fn.SIXTY_MINUTES,Fn.THREE_HOURS=Fn.ONE_HOUR*3,Fn.SIX_HOURS=Fn.ONE_HOUR*6,Fn.TWELVE_HOURS=Fn.ONE_HOUR*12,Fn.TWENTY_FOUR_HOURS=Fn.ONE_HOUR*24,Fn.ONE_DAY=Fn.TWENTY_FOUR_HOURS,Fn.THREE_DAYS=Fn.ONE_DAY*3,Fn.FIVE_DAYS=Fn.ONE_DAY*5,Fn.SEVEN_DAYS=Fn.ONE_DAY*7,Fn.THIRTY_DAYS=Fn.ONE_DAY*30,Fn.ONE_WEEK=Fn.SEVEN_DAYS,Fn.TWO_WEEKS=Fn.ONE_WEEK*2,Fn.THREE_WEEKS=Fn.ONE_WEEK*3,Fn.FOUR_WEEKS=Fn.ONE_WEEK*4,Fn.ONE_YEAR=Fn.ONE_DAY*365}(time)),time}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(Fn){Object.defineProperty(Fn,"__esModule",{value:!0});const Mn=require$$0$2;Mn.__exportStar(requireMisc(),Fn),Mn.__exportStar(requireTime(),Fn)}(constants)),constants}var hasRequiredConvert;function requireConvert(){if(hasRequiredConvert)return convert;hasRequiredConvert=1,Object.defineProperty(convert,"__esModule",{value:!0}),convert.fromMiliseconds=convert.toMiliseconds=void 0;const Fn=requireConstants();function Mn(fo){return fo*Fn.ONE_THOUSAND}convert.toMiliseconds=Mn;function io(fo){return Math.floor(fo/Fn.ONE_THOUSAND)}return convert.fromMiliseconds=io,convert}var hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,function(Fn){Object.defineProperty(Fn,"__esModule",{value:!0});const Mn=require$$0$2;Mn.__exportStar(requireDelay(),Fn),Mn.__exportStar(requireConvert(),Fn)}(utils$r)),utils$r}var watch$2={},hasRequiredWatch$1;function requireWatch$1(){if(hasRequiredWatch$1)return watch$2;hasRequiredWatch$1=1,Object.defineProperty(watch$2,"__esModule",{value:!0}),watch$2.Watch=void 0;class Fn{constructor(){this.timestamps=new Map}start(io){if(this.timestamps.has(io))throw new Error(`Watch already started for label: ${io}`);this.timestamps.set(io,{started:Date.now()})}stop(io){const fo=this.get(io);if(typeof fo.elapsed<"u")throw new Error(`Watch already stopped for label: ${io}`);const mo=Date.now()-fo.started;this.timestamps.set(io,{started:fo.started,elapsed:mo})}get(io){const fo=this.timestamps.get(io);if(typeof fo>"u")throw new Error(`No timestamp found for label: ${io}`);return fo}elapsed(io){const fo=this.get(io);return fo.elapsed||Date.now()-fo.started}}return watch$2.Watch=Fn,watch$2.default=Fn,watch$2}var types={},watch$1={},hasRequiredWatch;function requireWatch(){if(hasRequiredWatch)return watch$1;hasRequiredWatch=1,Object.defineProperty(watch$1,"__esModule",{value:!0}),watch$1.IWatch=void 0;class Fn{}return watch$1.IWatch=Fn,watch$1}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(Fn){Object.defineProperty(Fn,"__esModule",{value:!0}),require$$0$2.__exportStar(requireWatch(),Fn)}(types)),types}(function(Fn){Object.defineProperty(Fn,"__esModule",{value:!0});const Mn=require$$0$2;Mn.__exportStar(requireUtils(),Fn),Mn.__exportStar(requireWatch$1(),Fn),Mn.__exportStar(requireTypes(),Fn),Mn.__exportStar(requireConstants(),Fn)})(cjs$3);class IEvents{}let n$i=class extends IEvents{constructor(Mn){super()}};const s$8=cjs$3.FIVE_SECONDS,r$l={pulse:"heartbeat_pulse"};let i$b=class k6 extends n$i{constructor(Mn){super(Mn),this.events=new eventsExports.EventEmitter,this.interval=s$8,this.interval=(Mn==null?void 0:Mn.interval)||s$8}static async init(Mn){const io=new k6(Mn);return await io.init(),io}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(Mn,io){this.events.on(Mn,io)}once(Mn,io){this.events.once(Mn,io)}off(Mn,io){this.events.off(Mn,io)}removeListener(Mn,io){this.events.removeListener(Mn,io)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),cjs$3.toMiliseconds(this.interval))}pulse(){this.events.emit(r$l.pulse)}};const suspectProtoRx=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,suspectConstructorRx=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,JsonSigRx=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(Fn,Mn){if(Fn==="__proto__"||Fn==="constructor"&&Mn&&typeof Mn=="object"&&"prototype"in Mn){warnKeyDropped(Fn);return}return Mn}function warnKeyDropped(Fn){console.warn(`[destr] Dropping "${Fn}" key to prevent prototype pollution.`)}function destr(Fn,Mn={}){if(typeof Fn!="string")return Fn;const io=Fn.trim();if(Fn[0]==='"'&&Fn.endsWith('"')&&!Fn.includes("\\"))return io.slice(1,-1);if(io.length<=9){const fo=io.toLowerCase();if(fo==="true")return!0;if(fo==="false")return!1;if(fo==="undefined")return;if(fo==="null")return null;if(fo==="nan")return Number.NaN;if(fo==="infinity")return Number.POSITIVE_INFINITY;if(fo==="-infinity")return Number.NEGATIVE_INFINITY}if(!JsonSigRx.test(Fn)){if(Mn.strict)throw new SyntaxError("[destr] Invalid JSON");return Fn}try{if(suspectProtoRx.test(Fn)||suspectConstructorRx.test(Fn)){if(Mn.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(Fn,jsonParseTransform)}return JSON.parse(Fn)}catch(fo){if(Mn.strict)throw fo;return Fn}}function wrapToPromise(Fn){return!Fn||typeof Fn.then!="function"?Promise.resolve(Fn):Fn}function asyncCall(Fn,...Mn){try{return wrapToPromise(Fn(...Mn))}catch(io){return Promise.reject(io)}}function isPrimitive(Fn){const Mn=typeof Fn;return Fn===null||Mn!=="object"&&Mn!=="function"}function isPureObject(Fn){const Mn=Object.getPrototypeOf(Fn);return!Mn||Mn.isPrototypeOf(Object)}function stringify$1(Fn){if(isPrimitive(Fn))return String(Fn);if(isPureObject(Fn)||Array.isArray(Fn))return JSON.stringify(Fn);if(typeof Fn.toJSON=="function")return stringify$1(Fn.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function checkBufferSupport(){if(typeof Buffer>"u")throw new TypeError("[unstorage] Buffer is not supported!")}const BASE64_PREFIX="base64:";function serializeRaw(Fn){if(typeof Fn=="string")return Fn;checkBufferSupport();const Mn=Buffer.from(Fn).toString("base64");return BASE64_PREFIX+Mn}function deserializeRaw(Fn){return typeof Fn!="string"||!Fn.startsWith(BASE64_PREFIX)?Fn:(checkBufferSupport(),Buffer.from(Fn.slice(BASE64_PREFIX.length),"base64"))}function normalizeKey(Fn){return Fn?Fn.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function joinKeys(...Fn){return normalizeKey(Fn.join(":"))}function normalizeBaseKey(Fn){return Fn=normalizeKey(Fn),Fn?Fn+":":""}function defineDriver(Fn){return Fn}const DRIVER_NAME="memory",memory=()=>{const Fn=new Map;return{name:DRIVER_NAME,getInstance:()=>Fn,hasItem(Mn){return Fn.has(Mn)},getItem(Mn){return Fn.get(Mn)??null},getItemRaw(Mn){return Fn.get(Mn)??null},setItem(Mn,io){Fn.set(Mn,io)},setItemRaw(Mn,io){Fn.set(Mn,io)},removeItem(Mn){Fn.delete(Mn)},getKeys(){return[...Fn.keys()]},clear(){Fn.clear()},dispose(){Fn.clear()}}};function createStorage$1(Fn={}){const Mn={mounts:{"":Fn.driver||memory()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},io=jo=>{for(const zo of Mn.mountpoints)if(jo.startsWith(zo))return{base:zo,relativeKey:jo.slice(zo.length),driver:Mn.mounts[zo]};return{base:"",relativeKey:jo,driver:Mn.mounts[""]}},fo=(jo,zo)=>Mn.mountpoints.filter(Vo=>Vo.startsWith(jo)||zo&&jo.startsWith(Vo)).map(Vo=>({relativeBase:jo.length>Vo.length?jo.slice(Vo.length):void 0,mountpoint:Vo,driver:Mn.mounts[Vo]})),mo=(jo,zo)=>{if(Mn.watching){zo=normalizeKey(zo);for(const Vo of Mn.watchListeners)Vo(jo,zo)}},$o=async()=>{if(!Mn.watching){Mn.watching=!0;for(const jo in Mn.mounts)Mn.unwatch[jo]=await watch(Mn.mounts[jo],mo,jo)}},Ao=async()=>{if(Mn.watching){for(const jo in Mn.unwatch)await Mn.unwatch[jo]();Mn.unwatch={},Mn.watching=!1}},Lo=(jo,zo,Vo)=>{const Go=new Map,Jo=Qo=>{let os=Go.get(Qo.base);return os||(os={driver:Qo.driver,base:Qo.base,items:[]},Go.set(Qo.base,os)),os};for(const Qo of jo){const os=typeof Qo=="string",Cl=normalizeKey(os?Qo:Qo.key),xl=os?void 0:Qo.value,ds=os||!Qo.options?zo:{...zo,...Qo.options},_c=io(Cl);Jo(_c).items.push({key:Cl,value:xl,relativeKey:_c.relativeKey,options:ds})}return Promise.all([...Go.values()].map(Qo=>Vo(Qo))).then(Qo=>Qo.flat())},Wo={hasItem(jo,zo={}){jo=normalizeKey(jo);const{relativeKey:Vo,driver:Go}=io(jo);return asyncCall(Go.hasItem,Vo,zo)},getItem(jo,zo={}){jo=normalizeKey(jo);const{relativeKey:Vo,driver:Go}=io(jo);return asyncCall(Go.getItem,Vo,zo).then(Jo=>destr(Jo))},getItems(jo,zo){return Lo(jo,zo,Vo=>Vo.driver.getItems?asyncCall(Vo.driver.getItems,Vo.items.map(Go=>({key:Go.relativeKey,options:Go.options})),zo).then(Go=>Go.map(Jo=>({key:joinKeys(Vo.base,Jo.key),value:destr(Jo.value)}))):Promise.all(Vo.items.map(Go=>asyncCall(Vo.driver.getItem,Go.relativeKey,Go.options).then(Jo=>({key:Go.key,value:destr(Jo)})))))},getItemRaw(jo,zo={}){jo=normalizeKey(jo);const{relativeKey:Vo,driver:Go}=io(jo);return Go.getItemRaw?asyncCall(Go.getItemRaw,Vo,zo):asyncCall(Go.getItem,Vo,zo).then(Jo=>deserializeRaw(Jo))},async setItem(jo,zo,Vo={}){if(zo===void 0)return Wo.removeItem(jo);jo=normalizeKey(jo);const{relativeKey:Go,driver:Jo}=io(jo);Jo.setItem&&(await asyncCall(Jo.setItem,Go,stringify$1(zo),Vo),Jo.watch||mo("update",jo))},async setItems(jo,zo){await Lo(jo,zo,async Vo=>{if(Vo.driver.setItems)return asyncCall(Vo.driver.setItems,Vo.items.map(Go=>({key:Go.relativeKey,value:stringify$1(Go.value),options:Go.options})),zo);Vo.driver.setItem&&await Promise.all(Vo.items.map(Go=>asyncCall(Vo.driver.setItem,Go.relativeKey,stringify$1(Go.value),Go.options)))})},async setItemRaw(jo,zo,Vo={}){if(zo===void 0)return Wo.removeItem(jo,Vo);jo=normalizeKey(jo);const{relativeKey:Go,driver:Jo}=io(jo);if(Jo.setItemRaw)await asyncCall(Jo.setItemRaw,Go,zo,Vo);else if(Jo.setItem)await asyncCall(Jo.setItem,Go,serializeRaw(zo),Vo);else return;Jo.watch||mo("update",jo)},async removeItem(jo,zo={}){typeof zo=="boolean"&&(zo={removeMeta:zo}),jo=normalizeKey(jo);const{relativeKey:Vo,driver:Go}=io(jo);Go.removeItem&&(await asyncCall(Go.removeItem,Vo,zo),(zo.removeMeta||zo.removeMata)&&await asyncCall(Go.removeItem,Vo+"$",zo),Go.watch||mo("remove",jo))},async getMeta(jo,zo={}){typeof zo=="boolean"&&(zo={nativeOnly:zo}),jo=normalizeKey(jo);const{relativeKey:Vo,driver:Go}=io(jo),Jo=Object.create(null);if(Go.getMeta&&Object.assign(Jo,await asyncCall(Go.getMeta,Vo,zo)),!zo.nativeOnly){const Qo=await asyncCall(Go.getItem,Vo+"$",zo).then(os=>destr(os));Qo&&typeof Qo=="object"&&(typeof Qo.atime=="string"&&(Qo.atime=new Date(Qo.atime)),typeof Qo.mtime=="string"&&(Qo.mtime=new Date(Qo.mtime)),Object.assign(Jo,Qo))}return Jo},setMeta(jo,zo,Vo={}){return this.setItem(jo+"$",zo,Vo)},removeMeta(jo,zo={}){return this.removeItem(jo+"$",zo)},async getKeys(jo,zo={}){jo=normalizeBaseKey(jo);const Vo=fo(jo,!0);let Go=[];const Jo=[];for(const Qo of Vo){const os=await asyncCall(Qo.driver.getKeys,Qo.relativeBase,zo);for(const Cl of os){const xl=Qo.mountpoint+normalizeKey(Cl);Go.some(ds=>xl.startsWith(ds))||Jo.push(xl)}Go=[Qo.mountpoint,...Go.filter(Cl=>!Cl.startsWith(Qo.mountpoint))]}return jo?Jo.filter(Qo=>Qo.startsWith(jo)&&Qo[Qo.length-1]!=="$"):Jo.filter(Qo=>Qo[Qo.length-1]!=="$")},async clear(jo,zo={}){jo=normalizeBaseKey(jo),await Promise.all(fo(jo,!1).map(async Vo=>{if(Vo.driver.clear)return asyncCall(Vo.driver.clear,Vo.relativeBase,zo);if(Vo.driver.removeItem){const Go=await Vo.driver.getKeys(Vo.relativeBase||"",zo);return Promise.all(Go.map(Jo=>Vo.driver.removeItem(Jo,zo)))}}))},async dispose(){await Promise.all(Object.values(Mn.mounts).map(jo=>dispose(jo)))},async watch(jo){return await $o(),Mn.watchListeners.push(jo),async()=>{Mn.watchListeners=Mn.watchListeners.filter(zo=>zo!==jo),Mn.watchListeners.length===0&&await Ao()}},async unwatch(){Mn.watchListeners=[],await Ao()},mount(jo,zo){if(jo=normalizeBaseKey(jo),jo&&Mn.mounts[jo])throw new Error(`already mounted at ${jo}`);return jo&&(Mn.mountpoints.push(jo),Mn.mountpoints.sort((Vo,Go)=>Go.length-Vo.length)),Mn.mounts[jo]=zo,Mn.watching&&Promise.resolve(watch(zo,mo,jo)).then(Vo=>{Mn.unwatch[jo]=Vo}).catch(console.error),Wo},async unmount(jo,zo=!0){jo=normalizeBaseKey(jo),!(!jo||!Mn.mounts[jo])&&(Mn.watching&&jo in Mn.unwatch&&(Mn.unwatch[jo](),delete Mn.unwatch[jo]),zo&&await dispose(Mn.mounts[jo]),Mn.mountpoints=Mn.mountpoints.filter(Vo=>Vo!==jo),delete Mn.mounts[jo])},getMount(jo=""){jo=normalizeKey(jo)+":";const zo=io(jo);return{driver:zo.driver,base:zo.base}},getMounts(jo="",zo={}){return jo=normalizeKey(jo),fo(jo,zo.parents).map(Go=>({driver:Go.driver,base:Go.mountpoint}))},keys:(jo,zo={})=>Wo.getKeys(jo,zo),get:(jo,zo={})=>Wo.getItem(jo,zo),set:(jo,zo,Vo={})=>Wo.setItem(jo,zo,Vo),has:(jo,zo={})=>Wo.hasItem(jo,zo),del:(jo,zo={})=>Wo.removeItem(jo,zo),remove:(jo,zo={})=>Wo.removeItem(jo,zo)};return Wo}function watch(Fn,Mn,io){return Fn.watch?Fn.watch((fo,mo)=>Mn(fo,io+mo)):()=>{}}async function dispose(Fn){typeof Fn.dispose=="function"&&await asyncCall(Fn.dispose)}function promisifyRequest(Fn){return new Promise((Mn,io)=>{Fn.oncomplete=Fn.onsuccess=()=>Mn(Fn.result),Fn.onabort=Fn.onerror=()=>io(Fn.error)})}function createStore$4(Fn,Mn){const io=indexedDB.open(Fn);io.onupgradeneeded=()=>io.result.createObjectStore(Mn);const fo=promisifyRequest(io);return(mo,$o)=>fo.then(Ao=>$o(Ao.transaction(Mn,mo).objectStore(Mn)))}let defaultGetStoreFunc;function defaultGetStore(){return defaultGetStoreFunc||(defaultGetStoreFunc=createStore$4("keyval-store","keyval")),defaultGetStoreFunc}function get$j(Fn,Mn=defaultGetStore()){return Mn("readonly",io=>promisifyRequest(io.get(Fn)))}function set$6(Fn,Mn,io=defaultGetStore()){return io("readwrite",fo=>(fo.put(Mn,Fn),promisifyRequest(fo.transaction)))}function del(Fn,Mn=defaultGetStore()){return Mn("readwrite",io=>(io.delete(Fn),promisifyRequest(io.transaction)))}function clear(Fn=defaultGetStore()){return Fn("readwrite",Mn=>(Mn.clear(),promisifyRequest(Mn.transaction)))}function eachCursor(Fn,Mn){return Fn.openCursor().onsuccess=function(){this.result&&(Mn(this.result),this.result.continue())},promisifyRequest(Fn.transaction)}function keys$1(Fn=defaultGetStore()){return Fn("readonly",Mn=>{if(Mn.getAllKeys)return promisifyRequest(Mn.getAllKeys());const io=[];return eachCursor(Mn,fo=>io.push(fo.key)).then(()=>io)})}const x$4="idb-keyval";var z$5=(Fn={})=>{const Mn=Fn.base&&Fn.base.length>0?`${Fn.base}:`:"",io=mo=>Mn+mo;let fo;return Fn.dbName&&Fn.storeName&&(fo=createStore$4(Fn.dbName,Fn.storeName)),{name:x$4,options:Fn,async hasItem(mo){return!(typeof await get$j(io(mo),fo)>"u")},async getItem(mo){return await get$j(io(mo),fo)??null},setItem(mo,$o){return set$6(io(mo),$o,fo)},removeItem(mo){return del(io(mo),fo)},getKeys(){return keys$1(fo)},clear(){return clear(fo)}}};const D$2="WALLET_CONNECT_V2_INDEXED_DB",E$3="keyvaluestorage";let _$4=class{constructor(){this.indexedDb=createStorage$1({driver:z$5({dbName:D$2,storeName:E$3})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(Mn=>[Mn.key,Mn.value])}async getItem(Mn){const io=await this.indexedDb.getItem(Mn);if(io!==null)return io}async setItem(Mn,io){await this.indexedDb.setItem(Mn,safeJsonStringify(io))}async removeItem(Mn){await this.indexedDb.removeItem(Mn)}};var l$7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c$a={exports:{}};(function(){let Fn;function Mn(){}Fn=Mn,Fn.prototype.getItem=function(io){return this.hasOwnProperty(io)?String(this[io]):null},Fn.prototype.setItem=function(io,fo){this[io]=String(fo)},Fn.prototype.removeItem=function(io){delete this[io]},Fn.prototype.clear=function(){const io=this;Object.keys(io).forEach(function(fo){io[fo]=void 0,delete io[fo]})},Fn.prototype.key=function(io){return io=io||0,Object.keys(this)[io]},Fn.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof l$7<"u"&&l$7.localStorage?c$a.exports=l$7.localStorage:typeof window<"u"&&window.localStorage?c$a.exports=window.localStorage:c$a.exports=new Mn})();function k$3(Fn){var Mn;return[Fn[0],safeJsonParse((Mn=Fn[1])!=null?Mn:"")]}let K$2=class{constructor(){this.localStorage=c$a.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(k$3)}async getItem(Mn){const io=this.localStorage.getItem(Mn);if(io!==null)return safeJsonParse(io)}async setItem(Mn,io){this.localStorage.setItem(Mn,safeJsonStringify(io))}async removeItem(Mn){this.localStorage.removeItem(Mn)}};const N$2="wc_storage_version",y$6=1,O$4=async(Fn,Mn,io)=>{const fo=N$2,mo=await Mn.getItem(fo);if(mo&&mo>=y$6){io(Mn);return}const $o=await Fn.getKeys();if(!$o.length){io(Mn);return}const Ao=[];for(;$o.length;){const Lo=$o.shift();if(!Lo)continue;const Wo=Lo.toLowerCase();if(Wo.includes("wc@")||Wo.includes("walletconnect")||Wo.includes("wc_")||Wo.includes("wallet_connect")){const jo=await Fn.getItem(Lo);await Mn.setItem(Lo,jo),Ao.push(Lo)}}await Mn.setItem(fo,y$6),io(Mn),j$6(Fn,Ao)},j$6=async(Fn,Mn)=>{Mn.length&&Mn.forEach(async io=>{await Fn.removeItem(io)})};let h$e=class{constructor(){this.initialized=!1,this.setInitialized=io=>{this.storage=io,this.initialized=!0};const Mn=new K$2;this.storage=Mn;try{const io=new _$4;O$4(Mn,io,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(Mn){return await this.initialize(),this.storage.getItem(Mn)}async setItem(Mn,io){return await this.initialize(),this.storage.setItem(Mn,io)}async removeItem(Mn){return await this.initialize(),this.storage.removeItem(Mn)}async initialize(){this.initialized||await new Promise(Mn=>{const io=setInterval(()=>{this.initialized&&(clearInterval(io),Mn())},20)})}},n$h=class extends IEvents{constructor(Mn){super(),this.opts=Mn,this.protocol="wc",this.version=2}},h$d=class extends IEvents{constructor(Mn,io){super(),this.core=Mn,this.logger=io,this.records=new Map}},a$6=class{constructor(Mn,io){this.logger=Mn,this.core=io}},g$4=class extends IEvents{constructor(Mn,io){super(),this.relayer=Mn,this.logger=io}},u$8=class extends IEvents{constructor(Mn){super()}},p$8=class{constructor(Mn,io,fo,mo){this.core=Mn,this.logger=io,this.name=fo}},d$6=class extends IEvents{constructor(Mn,io){super(),this.relayer=Mn,this.logger=io}},x$3=class extends IEvents{constructor(Mn,io){super(),this.core=Mn,this.logger=io}},y$5=class{constructor(Mn,io,fo){this.core=Mn,this.logger=io,this.store=fo}},v$7=class{constructor(Mn,io){this.projectId=Mn,this.logger=io}},C$3=class{constructor(Mn,io,fo){this.core=Mn,this.logger=io,this.telemetryEnabled=fo}},S$6=class{constructor(Mn){this.opts=Mn,this.protocol="wc",this.version=2}},M$4=class{constructor(Mn){this.client=Mn}};var ed25519={},random={},system={},browser$1={};Object.defineProperty(browser$1,"__esModule",{value:!0});browser$1.BrowserRandomSource=void 0;const QUOTA=65536;class BrowserRandomSource{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const Mn=typeof self<"u"?self.crypto||self.msCrypto:null;Mn&&Mn.getRandomValues!==void 0&&(this._crypto=Mn,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(Mn){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const io=new Uint8Array(Mn);for(let fo=0;fo<io.length;fo+=QUOTA)this._crypto.getRandomValues(io.subarray(fo,fo+Math.min(io.length-fo,QUOTA)));return io}}browser$1.BrowserRandomSource=BrowserRandomSource;function commonjsRequire(Fn){throw new Error('Could not dynamically require "'+Fn+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var node={},wipe$1={};Object.defineProperty(wipe$1,"__esModule",{value:!0});function wipe(Fn){for(var Mn=0;Mn<Fn.length;Mn++)Fn[Mn]=0;return Fn}wipe$1.wipe=wipe;const __viteBrowserExternal={},nodeCrypto=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(nodeCrypto);Object.defineProperty(node,"__esModule",{value:!0});node.NodeRandomSource=void 0;const wipe_1$3=wipe$1;class NodeRandomSource{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof commonjsRequire<"u"){const Mn=require$$3;Mn&&Mn.randomBytes&&(this._crypto=Mn,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(Mn){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let io=this._crypto.randomBytes(Mn);if(io.length!==Mn)throw new Error("NodeRandomSource: got fewer bytes than requested");const fo=new Uint8Array(Mn);for(let mo=0;mo<fo.length;mo++)fo[mo]=io[mo];return(0,wipe_1$3.wipe)(io),fo}}node.NodeRandomSource=NodeRandomSource;Object.defineProperty(system,"__esModule",{value:!0});system.SystemRandomSource=void 0;const browser_1=browser$1,node_1=node;class SystemRandomSource{constructor(){if(this.isAvailable=!1,this.name="",this._source=new browser_1.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new node_1.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(Mn){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(Mn)}}system.SystemRandomSource=SystemRandomSource;var binary={},int={};(function(Fn){Object.defineProperty(Fn,"__esModule",{value:!0});function Mn(Lo,Wo){var jo=Lo>>>16&65535,zo=Lo&65535,Vo=Wo>>>16&65535,Go=Wo&65535;return zo*Go+(jo*Go+zo*Vo<<16>>>0)|0}Fn.mul=Math.imul||Mn;function io(Lo,Wo){return Lo+Wo|0}Fn.add=io;function fo(Lo,Wo){return Lo-Wo|0}Fn.sub=fo;function mo(Lo,Wo){return Lo<<Wo|Lo>>>32-Wo}Fn.rotl=mo;function $o(Lo,Wo){return Lo<<32-Wo|Lo>>>Wo}Fn.rotr=$o;function Ao(Lo){return typeof Lo=="number"&&isFinite(Lo)&&Math.floor(Lo)===Lo}Fn.isInteger=Number.isInteger||Ao,Fn.MAX_SAFE_INTEGER=9007199254740991,Fn.isSafeInteger=function(Lo){return Fn.isInteger(Lo)&&Lo>=-Fn.MAX_SAFE_INTEGER&&Lo<=Fn.MAX_SAFE_INTEGER}})(int);Object.defineProperty(binary,"__esModule",{value:!0});var int_1=int;function readInt16BE(Fn,Mn){return Mn===void 0&&(Mn=0),(Fn[Mn+0]<<8|Fn[Mn+1])<<16>>16}binary.readInt16BE=readInt16BE;function readUint16BE(Fn,Mn){return Mn===void 0&&(Mn=0),(Fn[Mn+0]<<8|Fn[Mn+1])>>>0}binary.readUint16BE=readUint16BE;function readInt16LE(Fn,Mn){return Mn===void 0&&(Mn=0),(Fn[Mn+1]<<8|Fn[Mn])<<16>>16}binary.readInt16LE=readInt16LE;function readUint16LE(Fn,Mn){return Mn===void 0&&(Mn=0),(Fn[Mn+1]<<8|Fn[Mn])>>>0}binary.readUint16LE=readUint16LE;function writeUint16BE(Fn,Mn,io){return Mn===void 0&&(Mn=new Uint8Array(2)),io===void 0&&(io=0),Mn[io+0]=Fn>>>8,Mn[io+1]=Fn>>>0,Mn}binary.writeUint16BE=writeUint16BE;binary.writeInt16BE=writeUint16BE;function writeUint16LE(Fn,Mn,io){return Mn===void 0&&(Mn=new Uint8Array(2)),io===void 0&&(io=0),Mn[io+0]=Fn>>>0,Mn[io+1]=Fn>>>8,Mn}binary.writeUint16LE=writeUint16LE;binary.writeInt16LE=writeUint16LE;function readInt32BE(Fn,Mn){return Mn===void 0&&(Mn=0),Fn[Mn]<<24|Fn[Mn+1]<<16|Fn[Mn+2]<<8|Fn[Mn+3]}binary.readInt32BE=readInt32BE;function readUint32BE(Fn,Mn){return Mn===void 0&&(Mn=0),(Fn[Mn]<<24|Fn[Mn+1]<<16|Fn[Mn+2]<<8|Fn[Mn+3])>>>0}binary.readUint32BE=readUint32BE;function readInt32LE(Fn,Mn){return Mn===void 0&&(Mn=0),Fn[Mn+3]<<24|Fn[Mn+2]<<16|Fn[Mn+1]<<8|Fn[Mn]}binary.readInt32LE=readInt32LE;function readUint32LE(Fn,Mn){return Mn===void 0&&(Mn=0),(Fn[Mn+3]<<24|Fn[Mn+2]<<16|Fn[Mn+1]<<8|Fn[Mn])>>>0}binary.readUint32LE=readUint32LE;function writeUint32BE(Fn,Mn,io){return Mn===void 0&&(Mn=new Uint8Array(4)),io===void 0&&(io=0),Mn[io+0]=Fn>>>24,Mn[io+1]=Fn>>>16,Mn[io+2]=Fn>>>8,Mn[io+3]=Fn>>>0,Mn}binary.writeUint32BE=writeUint32BE;binary.writeInt32BE=writeUint32BE;function writeUint32LE(Fn,Mn,io){return Mn===void 0&&(Mn=new Uint8Array(4)),io===void 0&&(io=0),Mn[io+0]=Fn>>>0,Mn[io+1]=Fn>>>8,Mn[io+2]=Fn>>>16,Mn[io+3]=Fn>>>24,Mn}binary.writeUint32LE=writeUint32LE;binary.writeInt32LE=writeUint32LE;function readInt64BE(Fn,Mn){Mn===void 0&&(Mn=0);var io=readInt32BE(Fn,Mn),fo=readInt32BE(Fn,Mn+4);return io*4294967296+fo-(fo>>31)*4294967296}binary.readInt64BE=readInt64BE;function readUint64BE(Fn,Mn){Mn===void 0&&(Mn=0);var io=readUint32BE(Fn,Mn),fo=readUint32BE(Fn,Mn+4);return io*4294967296+fo}binary.readUint64BE=readUint64BE;function readInt64LE(Fn,Mn){Mn===void 0&&(Mn=0);var io=readInt32LE(Fn,Mn),fo=readInt32LE(Fn,Mn+4);return fo*4294967296+io-(io>>31)*4294967296}binary.readInt64LE=readInt64LE;function readUint64LE(Fn,Mn){Mn===void 0&&(Mn=0);var io=readUint32LE(Fn,Mn),fo=readUint32LE(Fn,Mn+4);return fo*4294967296+io}binary.readUint64LE=readUint64LE;function writeUint64BE(Fn,Mn,io){return Mn===void 0&&(Mn=new Uint8Array(8)),io===void 0&&(io=0),writeUint32BE(Fn/4294967296>>>0,Mn,io),writeUint32BE(Fn>>>0,Mn,io+4),Mn}binary.writeUint64BE=writeUint64BE;binary.writeInt64BE=writeUint64BE;function writeUint64LE(Fn,Mn,io){return Mn===void 0&&(Mn=new Uint8Array(8)),io===void 0&&(io=0),writeUint32LE(Fn>>>0,Mn,io),writeUint32LE(Fn/4294967296>>>0,Mn,io+4),Mn}binary.writeUint64LE=writeUint64LE;binary.writeInt64LE=writeUint64LE;function readUintBE$1(Fn,Mn,io){if(io===void 0&&(io=0),Fn%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(Fn/8>Mn.length-io)throw new Error("readUintBE: array is too short for the given bitLength");for(var fo=0,mo=1,$o=Fn/8+io-1;$o>=io;$o--)fo+=Mn[$o]*mo,mo*=256;return fo}binary.readUintBE=readUintBE$1;function readUintLE$1(Fn,Mn,io){if(io===void 0&&(io=0),Fn%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(Fn/8>Mn.length-io)throw new Error("readUintLE: array is too short for the given bitLength");for(var fo=0,mo=1,$o=io;$o<io+Fn/8;$o++)fo+=Mn[$o]*mo,mo*=256;return fo}binary.readUintLE=readUintLE$1;function writeUintBE$1(Fn,Mn,io,fo){if(io===void 0&&(io=new Uint8Array(Fn/8)),fo===void 0&&(fo=0),Fn%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(Mn))throw new Error("writeUintBE value must be an integer");for(var mo=1,$o=Fn/8+fo-1;$o>=fo;$o--)io[$o]=Mn/mo&255,mo*=256;return io}binary.writeUintBE=writeUintBE$1;function writeUintLE$1(Fn,Mn,io,fo){if(io===void 0&&(io=new Uint8Array(Fn/8)),fo===void 0&&(fo=0),Fn%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!int_1.isSafeInteger(Mn))throw new Error("writeUintLE value must be an integer");for(var mo=1,$o=fo;$o<fo+Fn/8;$o++)io[$o]=Mn/mo&255,mo*=256;return io}binary.writeUintLE=writeUintLE$1;function readFloat32BE(Fn,Mn){Mn===void 0&&(Mn=0);var io=new DataView(Fn.buffer,Fn.byteOffset,Fn.byteLength);return io.getFloat32(Mn)}binary.readFloat32BE=readFloat32BE;function readFloat32LE(Fn,Mn){Mn===void 0&&(Mn=0);var io=new DataView(Fn.buffer,Fn.byteOffset,Fn.byteLength);return io.getFloat32(Mn,!0)}binary.readFloat32LE=readFloat32LE;function readFloat64BE(Fn,Mn){Mn===void 0&&(Mn=0);var io=new DataView(Fn.buffer,Fn.byteOffset,Fn.byteLength);return io.getFloat64(Mn)}binary.readFloat64BE=readFloat64BE;function readFloat64LE(Fn,Mn){Mn===void 0&&(Mn=0);var io=new DataView(Fn.buffer,Fn.byteOffset,Fn.byteLength);return io.getFloat64(Mn,!0)}binary.readFloat64LE=readFloat64LE;function writeFloat32BE(Fn,Mn,io){Mn===void 0&&(Mn=new Uint8Array(4)),io===void 0&&(io=0);var fo=new DataView(Mn.buffer,Mn.byteOffset,Mn.byteLength);return fo.setFloat32(io,Fn),Mn}binary.writeFloat32BE=writeFloat32BE;function writeFloat32LE(Fn,Mn,io){Mn===void 0&&(Mn=new Uint8Array(4)),io===void 0&&(io=0);var fo=new DataView(Mn.buffer,Mn.byteOffset,Mn.byteLength);return fo.setFloat32(io,Fn,!0),Mn}binary.writeFloat32LE=writeFloat32LE;function writeFloat64BE(Fn,Mn,io){Mn===void 0&&(Mn=new Uint8Array(8)),io===void 0&&(io=0);var fo=new DataView(Mn.buffer,Mn.byteOffset,Mn.byteLength);return fo.setFloat64(io,Fn),Mn}binary.writeFloat64BE=writeFloat64BE;function writeFloat64LE(Fn,Mn,io){Mn===void 0&&(Mn=new Uint8Array(8)),io===void 0&&(io=0);var fo=new DataView(Mn.buffer,Mn.byteOffset,Mn.byteLength);return fo.setFloat64(io,Fn,!0),Mn}binary.writeFloat64LE=writeFloat64LE;(function(Fn){Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.randomStringForEntropy=Fn.randomString=Fn.randomUint32=Fn.randomBytes=Fn.defaultRandomSource=void 0;const Mn=system,io=binary,fo=wipe$1;Fn.defaultRandomSource=new Mn.SystemRandomSource;function mo(jo,zo=Fn.defaultRandomSource){return zo.randomBytes(jo)}Fn.randomBytes=mo;function $o(jo=Fn.defaultRandomSource){const zo=mo(4,jo),Vo=(0,io.readUint32LE)(zo);return(0,fo.wipe)(zo),Vo}Fn.randomUint32=$o;const Ao="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function Lo(jo,zo=Ao,Vo=Fn.defaultRandomSource){if(zo.length<2)throw new Error("randomString charset is too short");if(zo.length>256)throw new Error("randomString charset is too long");let Go="";const Jo=zo.length,Qo=256-256%Jo;for(;jo>0;){const os=mo(Math.ceil(jo*256/Qo),Vo);for(let Cl=0;Cl<os.length&&jo>0;Cl++){const xl=os[Cl];xl<Qo&&(Go+=zo.charAt(xl%Jo),jo--)}(0,fo.wipe)(os)}return Go}Fn.randomString=Lo;function Wo(jo,zo=Ao,Vo=Fn.defaultRandomSource){const Go=Math.ceil(jo/(Math.log(zo.length)/Math.LN2));return Lo(Go,zo,Vo)}Fn.randomStringForEntropy=Wo})(random);var sha512={};(function(Fn){Object.defineProperty(Fn,"__esModule",{value:!0});var Mn=binary,io=wipe$1;Fn.DIGEST_LENGTH=64,Fn.BLOCK_SIZE=128;var fo=function(){function Lo(){this.digestLength=Fn.DIGEST_LENGTH,this.blockSize=Fn.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return Lo.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},Lo.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},Lo.prototype.clean=function(){io.wipe(this._buffer),io.wipe(this._tempHi),io.wipe(this._tempLo),this.reset()},Lo.prototype.update=function(Wo,jo){if(jo===void 0&&(jo=Wo.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var zo=0;if(this._bytesHashed+=jo,this._bufferLength>0){for(;this._bufferLength<Fn.BLOCK_SIZE&&jo>0;)this._buffer[this._bufferLength++]=Wo[zo++],jo--;this._bufferLength===this.blockSize&&($o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(jo>=this.blockSize&&(zo=$o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,Wo,zo,jo),jo%=this.blockSize);jo>0;)this._buffer[this._bufferLength++]=Wo[zo++],jo--;return this},Lo.prototype.finish=function(Wo){if(!this._finished){var jo=this._bytesHashed,zo=this._bufferLength,Vo=jo/536870912|0,Go=jo<<3,Jo=jo%128<112?128:256;this._buffer[zo]=128;for(var Qo=zo+1;Qo<Jo-8;Qo++)this._buffer[Qo]=0;Mn.writeUint32BE(Vo,this._buffer,Jo-8),Mn.writeUint32BE(Go,this._buffer,Jo-4),$o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,Jo),this._finished=!0}for(var Qo=0;Qo<this.digestLength/8;Qo++)Mn.writeUint32BE(this._stateHi[Qo],Wo,Qo*8),Mn.writeUint32BE(this._stateLo[Qo],Wo,Qo*8+4);return this},Lo.prototype.digest=function(){var Wo=new Uint8Array(this.digestLength);return this.finish(Wo),Wo},Lo.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},Lo.prototype.restoreState=function(Wo){return this._stateHi.set(Wo.stateHi),this._stateLo.set(Wo.stateLo),this._bufferLength=Wo.bufferLength,Wo.buffer&&this._buffer.set(Wo.buffer),this._bytesHashed=Wo.bytesHashed,this._finished=!1,this},Lo.prototype.cleanSavedState=function(Wo){io.wipe(Wo.stateHi),io.wipe(Wo.stateLo),Wo.buffer&&io.wipe(Wo.buffer),Wo.bufferLength=0,Wo.bytesHashed=0},Lo}();Fn.SHA512=fo;var mo=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function $o(Lo,Wo,jo,zo,Vo,Go,Jo){for(var Qo=jo[0],os=jo[1],Cl=jo[2],xl=jo[3],ds=jo[4],_c=jo[5],$l=jo[6],Al=jo[7],Il=zo[0],us=zo[1],ps=zo[2],Rl=zo[3],Wl=zo[4],Nl=zo[5],wl=zo[6],Xo=zo[7],rs,as,El,Pl,Sl,Tl,hs,yl;Jo>=128;){for(var Fl=0;Fl<16;Fl++){var Xl=8*Fl+Go;Lo[Fl]=Mn.readUint32BE(Vo,Xl),Wo[Fl]=Mn.readUint32BE(Vo,Xl+4)}for(var Fl=0;Fl<80;Fl++){var bu=Qo,Ul=os,yu=Cl,Vl=xl,Jl=ds,Ql=_c,Ol=$l,Zl=Al,rp=Il,op=us,lp=ps,hp=Rl,xp=Wl,Ip=Nl,Ep=wl,vp=Xo;if(rs=Al,as=Xo,Sl=as&65535,Tl=as>>>16,hs=rs&65535,yl=rs>>>16,rs=(ds>>>14|Wl<<18)^(ds>>>18|Wl<<14)^(Wl>>>9|ds<<23),as=(Wl>>>14|ds<<18)^(Wl>>>18|ds<<14)^(ds>>>9|Wl<<23),Sl+=as&65535,Tl+=as>>>16,hs+=rs&65535,yl+=rs>>>16,rs=ds&_c^~ds&$l,as=Wl&Nl^~Wl&wl,Sl+=as&65535,Tl+=as>>>16,hs+=rs&65535,yl+=rs>>>16,rs=mo[Fl*2],as=mo[Fl*2+1],Sl+=as&65535,Tl+=as>>>16,hs+=rs&65535,yl+=rs>>>16,rs=Lo[Fl%16],as=Wo[Fl%16],Sl+=as&65535,Tl+=as>>>16,hs+=rs&65535,yl+=rs>>>16,Tl+=Sl>>>16,hs+=Tl>>>16,yl+=hs>>>16,El=hs&65535|yl<<16,Pl=Sl&65535|Tl<<16,rs=El,as=Pl,Sl=as&65535,Tl=as>>>16,hs=rs&65535,yl=rs>>>16,rs=(Qo>>>28|Il<<4)^(Il>>>2|Qo<<30)^(Il>>>7|Qo<<25),as=(Il>>>28|Qo<<4)^(Qo>>>2|Il<<30)^(Qo>>>7|Il<<25),Sl+=as&65535,Tl+=as>>>16,hs+=rs&65535,yl+=rs>>>16,rs=Qo&os^Qo&Cl^os&Cl,as=Il&us^Il&ps^us&ps,Sl+=as&65535,Tl+=as>>>16,hs+=rs&65535,yl+=rs>>>16,Tl+=Sl>>>16,hs+=Tl>>>16,yl+=hs>>>16,Zl=hs&65535|yl<<16,vp=Sl&65535|Tl<<16,rs=Vl,as=hp,Sl=as&65535,Tl=as>>>16,hs=rs&65535,yl=rs>>>16,rs=El,as=Pl,Sl+=as&65535,Tl+=as>>>16,hs+=rs&65535,yl+=rs>>>16,Tl+=Sl>>>16,hs+=Tl>>>16,yl+=hs>>>16,Vl=hs&65535|yl<<16,hp=Sl&65535|Tl<<16,os=bu,Cl=Ul,xl=yu,ds=Vl,_c=Jl,$l=Ql,Al=Ol,Qo=Zl,us=rp,ps=op,Rl=lp,Wl=hp,Nl=xp,wl=Ip,Xo=Ep,Il=vp,Fl%16===15)for(var Xl=0;Xl<16;Xl++)rs=Lo[Xl],as=Wo[Xl],Sl=as&65535,Tl=as>>>16,hs=rs&65535,yl=rs>>>16,rs=Lo[(Xl+9)%16],as=Wo[(Xl+9)%16],Sl+=as&65535,Tl+=as>>>16,hs+=rs&65535,yl+=rs>>>16,El=Lo[(Xl+1)%16],Pl=Wo[(Xl+1)%16],rs=(El>>>1|Pl<<31)^(El>>>8|Pl<<24)^El>>>7,as=(Pl>>>1|El<<31)^(Pl>>>8|El<<24)^(Pl>>>7|El<<25),Sl+=as&65535,Tl+=as>>>16,hs+=rs&65535,yl+=rs>>>16,El=Lo[(Xl+14)%16],Pl=Wo[(Xl+14)%16],rs=(El>>>19|Pl<<13)^(Pl>>>29|El<<3)^El>>>6,as=(Pl>>>19|El<<13)^(El>>>29|Pl<<3)^(Pl>>>6|El<<26),Sl+=as&65535,Tl+=as>>>16,hs+=rs&65535,yl+=rs>>>16,Tl+=Sl>>>16,hs+=Tl>>>16,yl+=hs>>>16,Lo[Xl]=hs&65535|yl<<16,Wo[Xl]=Sl&65535|Tl<<16}rs=Qo,as=Il,Sl=as&65535,Tl=as>>>16,hs=rs&65535,yl=rs>>>16,rs=jo[0],as=zo[0],Sl+=as&65535,Tl+=as>>>16,hs+=rs&65535,yl+=rs>>>16,Tl+=Sl>>>16,hs+=Tl>>>16,yl+=hs>>>16,jo[0]=Qo=hs&65535|yl<<16,zo[0]=Il=Sl&65535|Tl<<16,rs=os,as=us,Sl=as&65535,Tl=as>>>16,hs=rs&65535,yl=rs>>>16,rs=jo[1],as=zo[1],Sl+=as&65535,Tl+=as>>>16,hs+=rs&65535,yl+=rs>>>16,Tl+=Sl>>>16,hs+=Tl>>>16,yl+=hs>>>16,jo[1]=os=hs&65535|yl<<16,zo[1]=us=Sl&65535|Tl<<16,rs=Cl,as=ps,Sl=as&65535,Tl=as>>>16,hs=rs&65535,yl=rs>>>16,rs=jo[2],as=zo[2],Sl+=as&65535,Tl+=as>>>16,hs+=rs&65535,yl+=rs>>>16,Tl+=Sl>>>16,hs+=Tl>>>16,yl+=hs>>>16,jo[2]=Cl=hs&65535|yl<<16,zo[2]=ps=Sl&65535|Tl<<16,rs=xl,as=Rl,Sl=as&65535,Tl=as>>>16,hs=rs&65535,yl=rs>>>16,rs=jo[3],as=zo[3],Sl+=as&65535,Tl+=as>>>16,hs+=rs&65535,yl+=rs>>>16,Tl+=Sl>>>16,hs+=Tl>>>16,yl+=hs>>>16,jo[3]=xl=hs&65535|yl<<16,zo[3]=Rl=Sl&65535|Tl<<16,rs=ds,as=Wl,Sl=as&65535,Tl=as>>>16,hs=rs&65535,yl=rs>>>16,rs=jo[4],as=zo[4],Sl+=as&65535,Tl+=as>>>16,hs+=rs&65535,yl+=rs>>>16,Tl+=Sl>>>16,hs+=Tl>>>16,yl+=hs>>>16,jo[4]=ds=hs&65535|yl<<16,zo[4]=Wl=Sl&65535|Tl<<16,rs=_c,as=Nl,Sl=as&65535,Tl=as>>>16,hs=rs&65535,yl=rs>>>16,rs=jo[5],as=zo[5],Sl+=as&65535,Tl+=as>>>16,hs+=rs&65535,yl+=rs>>>16,Tl+=Sl>>>16,hs+=Tl>>>16,yl+=hs>>>16,jo[5]=_c=hs&65535|yl<<16,zo[5]=Nl=Sl&65535|Tl<<16,rs=$l,as=wl,Sl=as&65535,Tl=as>>>16,hs=rs&65535,yl=rs>>>16,rs=jo[6],as=zo[6],Sl+=as&65535,Tl+=as>>>16,hs+=rs&65535,yl+=rs>>>16,Tl+=Sl>>>16,hs+=Tl>>>16,yl+=hs>>>16,jo[6]=$l=hs&65535|yl<<16,zo[6]=wl=Sl&65535|Tl<<16,rs=Al,as=Xo,Sl=as&65535,Tl=as>>>16,hs=rs&65535,yl=rs>>>16,rs=jo[7],as=zo[7],Sl+=as&65535,Tl+=as>>>16,hs+=rs&65535,yl+=rs>>>16,Tl+=Sl>>>16,hs+=Tl>>>16,yl+=hs>>>16,jo[7]=Al=hs&65535|yl<<16,zo[7]=Xo=Sl&65535|Tl<<16,Go+=128,Jo-=128}return Go}function Ao(Lo){var Wo=new fo;Wo.update(Lo);var jo=Wo.digest();return Wo.clean(),jo}Fn.hash=Ao})(sha512);(function(Fn){Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.convertSecretKeyToX25519=Fn.convertPublicKeyToX25519=Fn.verify=Fn.sign=Fn.extractPublicKeyFromSecretKey=Fn.generateKeyPair=Fn.generateKeyPairFromSeed=Fn.SEED_LENGTH=Fn.SECRET_KEY_LENGTH=Fn.PUBLIC_KEY_LENGTH=Fn.SIGNATURE_LENGTH=void 0;const Mn=random,io=sha512,fo=wipe$1;Fn.SIGNATURE_LENGTH=64,Fn.PUBLIC_KEY_LENGTH=32,Fn.SECRET_KEY_LENGTH=64,Fn.SEED_LENGTH=32;function mo(Vl){const Jl=new Float64Array(16);if(Vl)for(let Ql=0;Ql<Vl.length;Ql++)Jl[Ql]=Vl[Ql];return Jl}const $o=new Uint8Array(32);$o[0]=9;const Ao=mo(),Lo=mo([1]),Wo=mo([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),jo=mo([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),zo=mo([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Vo=mo([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Go=mo([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Jo(Vl,Jl){for(let Ql=0;Ql<16;Ql++)Vl[Ql]=Jl[Ql]|0}function Qo(Vl){let Jl=1;for(let Ql=0;Ql<16;Ql++){let Ol=Vl[Ql]+Jl+65535;Jl=Math.floor(Ol/65536),Vl[Ql]=Ol-Jl*65536}Vl[0]+=Jl-1+37*(Jl-1)}function os(Vl,Jl,Ql){const Ol=~(Ql-1);for(let Zl=0;Zl<16;Zl++){const rp=Ol&(Vl[Zl]^Jl[Zl]);Vl[Zl]^=rp,Jl[Zl]^=rp}}function Cl(Vl,Jl){const Ql=mo(),Ol=mo();for(let Zl=0;Zl<16;Zl++)Ol[Zl]=Jl[Zl];Qo(Ol),Qo(Ol),Qo(Ol);for(let Zl=0;Zl<2;Zl++){Ql[0]=Ol[0]-65517;for(let op=1;op<15;op++)Ql[op]=Ol[op]-65535-(Ql[op-1]>>16&1),Ql[op-1]&=65535;Ql[15]=Ol[15]-32767-(Ql[14]>>16&1);const rp=Ql[15]>>16&1;Ql[14]&=65535,os(Ol,Ql,1-rp)}for(let Zl=0;Zl<16;Zl++)Vl[2*Zl]=Ol[Zl]&255,Vl[2*Zl+1]=Ol[Zl]>>8}function xl(Vl,Jl){let Ql=0;for(let Ol=0;Ol<32;Ol++)Ql|=Vl[Ol]^Jl[Ol];return(1&Ql-1>>>8)-1}function ds(Vl,Jl){const Ql=new Uint8Array(32),Ol=new Uint8Array(32);return Cl(Ql,Vl),Cl(Ol,Jl),xl(Ql,Ol)}function _c(Vl){const Jl=new Uint8Array(32);return Cl(Jl,Vl),Jl[0]&1}function $l(Vl,Jl){for(let Ql=0;Ql<16;Ql++)Vl[Ql]=Jl[2*Ql]+(Jl[2*Ql+1]<<8);Vl[15]&=32767}function Al(Vl,Jl,Ql){for(let Ol=0;Ol<16;Ol++)Vl[Ol]=Jl[Ol]+Ql[Ol]}function Il(Vl,Jl,Ql){for(let Ol=0;Ol<16;Ol++)Vl[Ol]=Jl[Ol]-Ql[Ol]}function us(Vl,Jl,Ql){let Ol,Zl,rp=0,op=0,lp=0,hp=0,xp=0,Ip=0,Ep=0,vp=0,Tp=0,Ap=0,wp=0,Cp=0,Rp=0,yp=0,Pp=0,zl=0,Dl=0,Ll=0,Gl=0,fu=0,_d=0,sp=0,fp=0,_p=0,Mp=0,Sp=0,Bp=0,Jp=0,Kp=0,kp=0,Hp=0,$p=Ql[0],Vp=Ql[1],qp=Ql[2],Dp=Ql[3],Yp=Ql[4],Xp=Ql[5],Wp=Ql[6],o1=Ql[7],h0=Ql[8],Fp=Ql[9],g0=Ql[10],t1=Ql[11],Lp=Ql[12],Qp=Ql[13],s1=Ql[14],jp=Ql[15];Ol=Jl[0],rp+=Ol*$p,op+=Ol*Vp,lp+=Ol*qp,hp+=Ol*Dp,xp+=Ol*Yp,Ip+=Ol*Xp,Ep+=Ol*Wp,vp+=Ol*o1,Tp+=Ol*h0,Ap+=Ol*Fp,wp+=Ol*g0,Cp+=Ol*t1,Rp+=Ol*Lp,yp+=Ol*Qp,Pp+=Ol*s1,zl+=Ol*jp,Ol=Jl[1],op+=Ol*$p,lp+=Ol*Vp,hp+=Ol*qp,xp+=Ol*Dp,Ip+=Ol*Yp,Ep+=Ol*Xp,vp+=Ol*Wp,Tp+=Ol*o1,Ap+=Ol*h0,wp+=Ol*Fp,Cp+=Ol*g0,Rp+=Ol*t1,yp+=Ol*Lp,Pp+=Ol*Qp,zl+=Ol*s1,Dl+=Ol*jp,Ol=Jl[2],lp+=Ol*$p,hp+=Ol*Vp,xp+=Ol*qp,Ip+=Ol*Dp,Ep+=Ol*Yp,vp+=Ol*Xp,Tp+=Ol*Wp,Ap+=Ol*o1,wp+=Ol*h0,Cp+=Ol*Fp,Rp+=Ol*g0,yp+=Ol*t1,Pp+=Ol*Lp,zl+=Ol*Qp,Dl+=Ol*s1,Ll+=Ol*jp,Ol=Jl[3],hp+=Ol*$p,xp+=Ol*Vp,Ip+=Ol*qp,Ep+=Ol*Dp,vp+=Ol*Yp,Tp+=Ol*Xp,Ap+=Ol*Wp,wp+=Ol*o1,Cp+=Ol*h0,Rp+=Ol*Fp,yp+=Ol*g0,Pp+=Ol*t1,zl+=Ol*Lp,Dl+=Ol*Qp,Ll+=Ol*s1,Gl+=Ol*jp,Ol=Jl[4],xp+=Ol*$p,Ip+=Ol*Vp,Ep+=Ol*qp,vp+=Ol*Dp,Tp+=Ol*Yp,Ap+=Ol*Xp,wp+=Ol*Wp,Cp+=Ol*o1,Rp+=Ol*h0,yp+=Ol*Fp,Pp+=Ol*g0,zl+=Ol*t1,Dl+=Ol*Lp,Ll+=Ol*Qp,Gl+=Ol*s1,fu+=Ol*jp,Ol=Jl[5],Ip+=Ol*$p,Ep+=Ol*Vp,vp+=Ol*qp,Tp+=Ol*Dp,Ap+=Ol*Yp,wp+=Ol*Xp,Cp+=Ol*Wp,Rp+=Ol*o1,yp+=Ol*h0,Pp+=Ol*Fp,zl+=Ol*g0,Dl+=Ol*t1,Ll+=Ol*Lp,Gl+=Ol*Qp,fu+=Ol*s1,_d+=Ol*jp,Ol=Jl[6],Ep+=Ol*$p,vp+=Ol*Vp,Tp+=Ol*qp,Ap+=Ol*Dp,wp+=Ol*Yp,Cp+=Ol*Xp,Rp+=Ol*Wp,yp+=Ol*o1,Pp+=Ol*h0,zl+=Ol*Fp,Dl+=Ol*g0,Ll+=Ol*t1,Gl+=Ol*Lp,fu+=Ol*Qp,_d+=Ol*s1,sp+=Ol*jp,Ol=Jl[7],vp+=Ol*$p,Tp+=Ol*Vp,Ap+=Ol*qp,wp+=Ol*Dp,Cp+=Ol*Yp,Rp+=Ol*Xp,yp+=Ol*Wp,Pp+=Ol*o1,zl+=Ol*h0,Dl+=Ol*Fp,Ll+=Ol*g0,Gl+=Ol*t1,fu+=Ol*Lp,_d+=Ol*Qp,sp+=Ol*s1,fp+=Ol*jp,Ol=Jl[8],Tp+=Ol*$p,Ap+=Ol*Vp,wp+=Ol*qp,Cp+=Ol*Dp,Rp+=Ol*Yp,yp+=Ol*Xp,Pp+=Ol*Wp,zl+=Ol*o1,Dl+=Ol*h0,Ll+=Ol*Fp,Gl+=Ol*g0,fu+=Ol*t1,_d+=Ol*Lp,sp+=Ol*Qp,fp+=Ol*s1,_p+=Ol*jp,Ol=Jl[9],Ap+=Ol*$p,wp+=Ol*Vp,Cp+=Ol*qp,Rp+=Ol*Dp,yp+=Ol*Yp,Pp+=Ol*Xp,zl+=Ol*Wp,Dl+=Ol*o1,Ll+=Ol*h0,Gl+=Ol*Fp,fu+=Ol*g0,_d+=Ol*t1,sp+=Ol*Lp,fp+=Ol*Qp,_p+=Ol*s1,Mp+=Ol*jp,Ol=Jl[10],wp+=Ol*$p,Cp+=Ol*Vp,Rp+=Ol*qp,yp+=Ol*Dp,Pp+=Ol*Yp,zl+=Ol*Xp,Dl+=Ol*Wp,Ll+=Ol*o1,Gl+=Ol*h0,fu+=Ol*Fp,_d+=Ol*g0,sp+=Ol*t1,fp+=Ol*Lp,_p+=Ol*Qp,Mp+=Ol*s1,Sp+=Ol*jp,Ol=Jl[11],Cp+=Ol*$p,Rp+=Ol*Vp,yp+=Ol*qp,Pp+=Ol*Dp,zl+=Ol*Yp,Dl+=Ol*Xp,Ll+=Ol*Wp,Gl+=Ol*o1,fu+=Ol*h0,_d+=Ol*Fp,sp+=Ol*g0,fp+=Ol*t1,_p+=Ol*Lp,Mp+=Ol*Qp,Sp+=Ol*s1,Bp+=Ol*jp,Ol=Jl[12],Rp+=Ol*$p,yp+=Ol*Vp,Pp+=Ol*qp,zl+=Ol*Dp,Dl+=Ol*Yp,Ll+=Ol*Xp,Gl+=Ol*Wp,fu+=Ol*o1,_d+=Ol*h0,sp+=Ol*Fp,fp+=Ol*g0,_p+=Ol*t1,Mp+=Ol*Lp,Sp+=Ol*Qp,Bp+=Ol*s1,Jp+=Ol*jp,Ol=Jl[13],yp+=Ol*$p,Pp+=Ol*Vp,zl+=Ol*qp,Dl+=Ol*Dp,Ll+=Ol*Yp,Gl+=Ol*Xp,fu+=Ol*Wp,_d+=Ol*o1,sp+=Ol*h0,fp+=Ol*Fp,_p+=Ol*g0,Mp+=Ol*t1,Sp+=Ol*Lp,Bp+=Ol*Qp,Jp+=Ol*s1,Kp+=Ol*jp,Ol=Jl[14],Pp+=Ol*$p,zl+=Ol*Vp,Dl+=Ol*qp,Ll+=Ol*Dp,Gl+=Ol*Yp,fu+=Ol*Xp,_d+=Ol*Wp,sp+=Ol*o1,fp+=Ol*h0,_p+=Ol*Fp,Mp+=Ol*g0,Sp+=Ol*t1,Bp+=Ol*Lp,Jp+=Ol*Qp,Kp+=Ol*s1,kp+=Ol*jp,Ol=Jl[15],zl+=Ol*$p,Dl+=Ol*Vp,Ll+=Ol*qp,Gl+=Ol*Dp,fu+=Ol*Yp,_d+=Ol*Xp,sp+=Ol*Wp,fp+=Ol*o1,_p+=Ol*h0,Mp+=Ol*Fp,Sp+=Ol*g0,Bp+=Ol*t1,Jp+=Ol*Lp,Kp+=Ol*Qp,kp+=Ol*s1,Hp+=Ol*jp,rp+=38*Dl,op+=38*Ll,lp+=38*Gl,hp+=38*fu,xp+=38*_d,Ip+=38*sp,Ep+=38*fp,vp+=38*_p,Tp+=38*Mp,Ap+=38*Sp,wp+=38*Bp,Cp+=38*Jp,Rp+=38*Kp,yp+=38*kp,Pp+=38*Hp,Zl=1,Ol=rp+Zl+65535,Zl=Math.floor(Ol/65536),rp=Ol-Zl*65536,Ol=op+Zl+65535,Zl=Math.floor(Ol/65536),op=Ol-Zl*65536,Ol=lp+Zl+65535,Zl=Math.floor(Ol/65536),lp=Ol-Zl*65536,Ol=hp+Zl+65535,Zl=Math.floor(Ol/65536),hp=Ol-Zl*65536,Ol=xp+Zl+65535,Zl=Math.floor(Ol/65536),xp=Ol-Zl*65536,Ol=Ip+Zl+65535,Zl=Math.floor(Ol/65536),Ip=Ol-Zl*65536,Ol=Ep+Zl+65535,Zl=Math.floor(Ol/65536),Ep=Ol-Zl*65536,Ol=vp+Zl+65535,Zl=Math.floor(Ol/65536),vp=Ol-Zl*65536,Ol=Tp+Zl+65535,Zl=Math.floor(Ol/65536),Tp=Ol-Zl*65536,Ol=Ap+Zl+65535,Zl=Math.floor(Ol/65536),Ap=Ol-Zl*65536,Ol=wp+Zl+65535,Zl=Math.floor(Ol/65536),wp=Ol-Zl*65536,Ol=Cp+Zl+65535,Zl=Math.floor(Ol/65536),Cp=Ol-Zl*65536,Ol=Rp+Zl+65535,Zl=Math.floor(Ol/65536),Rp=Ol-Zl*65536,Ol=yp+Zl+65535,Zl=Math.floor(Ol/65536),yp=Ol-Zl*65536,Ol=Pp+Zl+65535,Zl=Math.floor(Ol/65536),Pp=Ol-Zl*65536,Ol=zl+Zl+65535,Zl=Math.floor(Ol/65536),zl=Ol-Zl*65536,rp+=Zl-1+37*(Zl-1),Zl=1,Ol=rp+Zl+65535,Zl=Math.floor(Ol/65536),rp=Ol-Zl*65536,Ol=op+Zl+65535,Zl=Math.floor(Ol/65536),op=Ol-Zl*65536,Ol=lp+Zl+65535,Zl=Math.floor(Ol/65536),lp=Ol-Zl*65536,Ol=hp+Zl+65535,Zl=Math.floor(Ol/65536),hp=Ol-Zl*65536,Ol=xp+Zl+65535,Zl=Math.floor(Ol/65536),xp=Ol-Zl*65536,Ol=Ip+Zl+65535,Zl=Math.floor(Ol/65536),Ip=Ol-Zl*65536,Ol=Ep+Zl+65535,Zl=Math.floor(Ol/65536),Ep=Ol-Zl*65536,Ol=vp+Zl+65535,Zl=Math.floor(Ol/65536),vp=Ol-Zl*65536,Ol=Tp+Zl+65535,Zl=Math.floor(Ol/65536),Tp=Ol-Zl*65536,Ol=Ap+Zl+65535,Zl=Math.floor(Ol/65536),Ap=Ol-Zl*65536,Ol=wp+Zl+65535,Zl=Math.floor(Ol/65536),wp=Ol-Zl*65536,Ol=Cp+Zl+65535,Zl=Math.floor(Ol/65536),Cp=Ol-Zl*65536,Ol=Rp+Zl+65535,Zl=Math.floor(Ol/65536),Rp=Ol-Zl*65536,Ol=yp+Zl+65535,Zl=Math.floor(Ol/65536),yp=Ol-Zl*65536,Ol=Pp+Zl+65535,Zl=Math.floor(Ol/65536),Pp=Ol-Zl*65536,Ol=zl+Zl+65535,Zl=Math.floor(Ol/65536),zl=Ol-Zl*65536,rp+=Zl-1+37*(Zl-1),Vl[0]=rp,Vl[1]=op,Vl[2]=lp,Vl[3]=hp,Vl[4]=xp,Vl[5]=Ip,Vl[6]=Ep,Vl[7]=vp,Vl[8]=Tp,Vl[9]=Ap,Vl[10]=wp,Vl[11]=Cp,Vl[12]=Rp,Vl[13]=yp,Vl[14]=Pp,Vl[15]=zl}function ps(Vl,Jl){us(Vl,Jl,Jl)}function Rl(Vl,Jl){const Ql=mo();let Ol;for(Ol=0;Ol<16;Ol++)Ql[Ol]=Jl[Ol];for(Ol=253;Ol>=0;Ol--)ps(Ql,Ql),Ol!==2&&Ol!==4&&us(Ql,Ql,Jl);for(Ol=0;Ol<16;Ol++)Vl[Ol]=Ql[Ol]}function Wl(Vl,Jl){const Ql=mo();let Ol;for(Ol=0;Ol<16;Ol++)Ql[Ol]=Jl[Ol];for(Ol=250;Ol>=0;Ol--)ps(Ql,Ql),Ol!==1&&us(Ql,Ql,Jl);for(Ol=0;Ol<16;Ol++)Vl[Ol]=Ql[Ol]}function Nl(Vl,Jl){const Ql=mo(),Ol=mo(),Zl=mo(),rp=mo(),op=mo(),lp=mo(),hp=mo(),xp=mo(),Ip=mo();Il(Ql,Vl[1],Vl[0]),Il(Ip,Jl[1],Jl[0]),us(Ql,Ql,Ip),Al(Ol,Vl[0],Vl[1]),Al(Ip,Jl[0],Jl[1]),us(Ol,Ol,Ip),us(Zl,Vl[3],Jl[3]),us(Zl,Zl,jo),us(rp,Vl[2],Jl[2]),Al(rp,rp,rp),Il(op,Ol,Ql),Il(lp,rp,Zl),Al(hp,rp,Zl),Al(xp,Ol,Ql),us(Vl[0],op,lp),us(Vl[1],xp,hp),us(Vl[2],hp,lp),us(Vl[3],op,xp)}function wl(Vl,Jl,Ql){for(let Ol=0;Ol<4;Ol++)os(Vl[Ol],Jl[Ol],Ql)}function Xo(Vl,Jl){const Ql=mo(),Ol=mo(),Zl=mo();Rl(Zl,Jl[2]),us(Ql,Jl[0],Zl),us(Ol,Jl[1],Zl),Cl(Vl,Ol),Vl[31]^=_c(Ql)<<7}function rs(Vl,Jl,Ql){Jo(Vl[0],Ao),Jo(Vl[1],Lo),Jo(Vl[2],Lo),Jo(Vl[3],Ao);for(let Ol=255;Ol>=0;--Ol){const Zl=Ql[Ol/8|0]>>(Ol&7)&1;wl(Vl,Jl,Zl),Nl(Jl,Vl),Nl(Vl,Vl),wl(Vl,Jl,Zl)}}function as(Vl,Jl){const Ql=[mo(),mo(),mo(),mo()];Jo(Ql[0],zo),Jo(Ql[1],Vo),Jo(Ql[2],Lo),us(Ql[3],zo,Vo),rs(Vl,Ql,Jl)}function El(Vl){if(Vl.length!==Fn.SEED_LENGTH)throw new Error(`ed25519: seed must be ${Fn.SEED_LENGTH} bytes`);const Jl=(0,io.hash)(Vl);Jl[0]&=248,Jl[31]&=127,Jl[31]|=64;const Ql=new Uint8Array(32),Ol=[mo(),mo(),mo(),mo()];as(Ol,Jl),Xo(Ql,Ol);const Zl=new Uint8Array(64);return Zl.set(Vl),Zl.set(Ql,32),{publicKey:Ql,secretKey:Zl}}Fn.generateKeyPairFromSeed=El;function Pl(Vl){const Jl=(0,Mn.randomBytes)(32,Vl),Ql=El(Jl);return(0,fo.wipe)(Jl),Ql}Fn.generateKeyPair=Pl;function Sl(Vl){if(Vl.length!==Fn.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${Fn.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(Vl.subarray(32))}Fn.extractPublicKeyFromSecretKey=Sl;const Tl=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function hs(Vl,Jl){let Ql,Ol,Zl,rp;for(Ol=63;Ol>=32;--Ol){for(Ql=0,Zl=Ol-32,rp=Ol-12;Zl<rp;++Zl)Jl[Zl]+=Ql-16*Jl[Ol]*Tl[Zl-(Ol-32)],Ql=Math.floor((Jl[Zl]+128)/256),Jl[Zl]-=Ql*256;Jl[Zl]+=Ql,Jl[Ol]=0}for(Ql=0,Zl=0;Zl<32;Zl++)Jl[Zl]+=Ql-(Jl[31]>>4)*Tl[Zl],Ql=Jl[Zl]>>8,Jl[Zl]&=255;for(Zl=0;Zl<32;Zl++)Jl[Zl]-=Ql*Tl[Zl];for(Ol=0;Ol<32;Ol++)Jl[Ol+1]+=Jl[Ol]>>8,Vl[Ol]=Jl[Ol]&255}function yl(Vl){const Jl=new Float64Array(64);for(let Ql=0;Ql<64;Ql++)Jl[Ql]=Vl[Ql];for(let Ql=0;Ql<64;Ql++)Vl[Ql]=0;hs(Vl,Jl)}function Fl(Vl,Jl){const Ql=new Float64Array(64),Ol=[mo(),mo(),mo(),mo()],Zl=(0,io.hash)(Vl.subarray(0,32));Zl[0]&=248,Zl[31]&=127,Zl[31]|=64;const rp=new Uint8Array(64);rp.set(Zl.subarray(32),32);const op=new io.SHA512;op.update(rp.subarray(32)),op.update(Jl);const lp=op.digest();op.clean(),yl(lp),as(Ol,lp),Xo(rp,Ol),op.reset(),op.update(rp.subarray(0,32)),op.update(Vl.subarray(32)),op.update(Jl);const hp=op.digest();yl(hp);for(let xp=0;xp<32;xp++)Ql[xp]=lp[xp];for(let xp=0;xp<32;xp++)for(let Ip=0;Ip<32;Ip++)Ql[xp+Ip]+=hp[xp]*Zl[Ip];return hs(rp.subarray(32),Ql),rp}Fn.sign=Fl;function Xl(Vl,Jl){const Ql=mo(),Ol=mo(),Zl=mo(),rp=mo(),op=mo(),lp=mo(),hp=mo();return Jo(Vl[2],Lo),$l(Vl[1],Jl),ps(Zl,Vl[1]),us(rp,Zl,Wo),Il(Zl,Zl,Vl[2]),Al(rp,Vl[2],rp),ps(op,rp),ps(lp,op),us(hp,lp,op),us(Ql,hp,Zl),us(Ql,Ql,rp),Wl(Ql,Ql),us(Ql,Ql,Zl),us(Ql,Ql,rp),us(Ql,Ql,rp),us(Vl[0],Ql,rp),ps(Ol,Vl[0]),us(Ol,Ol,rp),ds(Ol,Zl)&&us(Vl[0],Vl[0],Go),ps(Ol,Vl[0]),us(Ol,Ol,rp),ds(Ol,Zl)?-1:(_c(Vl[0])===Jl[31]>>7&&Il(Vl[0],Ao,Vl[0]),us(Vl[3],Vl[0],Vl[1]),0)}function bu(Vl,Jl,Ql){const Ol=new Uint8Array(32),Zl=[mo(),mo(),mo(),mo()],rp=[mo(),mo(),mo(),mo()];if(Ql.length!==Fn.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${Fn.SIGNATURE_LENGTH} bytes`);if(Xl(rp,Vl))return!1;const op=new io.SHA512;op.update(Ql.subarray(0,32)),op.update(Vl),op.update(Jl);const lp=op.digest();return yl(lp),rs(Zl,rp,lp),as(rp,Ql.subarray(32)),Nl(Zl,rp),Xo(Ol,Zl),!xl(Ql,Ol)}Fn.verify=bu;function Ul(Vl){let Jl=[mo(),mo(),mo(),mo()];if(Xl(Jl,Vl))throw new Error("Ed25519: invalid public key");let Ql=mo(),Ol=mo(),Zl=Jl[1];Al(Ql,Lo,Zl),Il(Ol,Lo,Zl),Rl(Ol,Ol),us(Ql,Ql,Ol);let rp=new Uint8Array(32);return Cl(rp,Ql),rp}Fn.convertPublicKeyToX25519=Ul;function yu(Vl){const Jl=(0,io.hash)(Vl.subarray(0,32));Jl[0]&=248,Jl[31]&=127,Jl[31]|=64;const Ql=new Uint8Array(Jl.subarray(0,32));return(0,fo.wipe)(Jl),Ql}Fn.convertSecretKeyToX25519=yu})(ed25519);const JWT_IRIDIUM_ALG="EdDSA",JWT_IRIDIUM_TYP="JWT",JWT_DELIMITER=".",JWT_ENCODING="base64url",JSON_ENCODING="utf8",DATA_ENCODING="utf8",DID_DELIMITER=":",DID_PREFIX$1="did",DID_METHOD="key",MULTICODEC_ED25519_ENCODING="base58btc",MULTICODEC_ED25519_BASE="z",MULTICODEC_ED25519_HEADER="K36",KEY_PAIR_SEED_LENGTH=32;function allocUnsafe$1(Fn=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(Fn):new Uint8Array(Fn)}function concat$3(Fn,Mn){Mn||(Mn=Fn.reduce((mo,$o)=>mo+$o.length,0));const io=allocUnsafe$1(Mn);let fo=0;for(const mo of Fn)io.set(mo,fo),fo+=mo.length;return io}function base$g(Fn,Mn){if(Fn.length>=255)throw new TypeError("Alphabet too long");for(var io=new Uint8Array(256),fo=0;fo<io.length;fo++)io[fo]=255;for(var mo=0;mo<Fn.length;mo++){var $o=Fn.charAt(mo),Ao=$o.charCodeAt(0);if(io[Ao]!==255)throw new TypeError($o+" is ambiguous");io[Ao]=mo}var Lo=Fn.length,Wo=Fn.charAt(0),jo=Math.log(Lo)/Math.log(256),zo=Math.log(256)/Math.log(Lo);function Vo(Qo){if(Qo instanceof Uint8Array||(ArrayBuffer.isView(Qo)?Qo=new Uint8Array(Qo.buffer,Qo.byteOffset,Qo.byteLength):Array.isArray(Qo)&&(Qo=Uint8Array.from(Qo))),!(Qo instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Qo.length===0)return"";for(var os=0,Cl=0,xl=0,ds=Qo.length;xl!==ds&&Qo[xl]===0;)xl++,os++;for(var _c=(ds-xl)*zo+1>>>0,$l=new Uint8Array(_c);xl!==ds;){for(var Al=Qo[xl],Il=0,us=_c-1;(Al!==0||Il<Cl)&&us!==-1;us--,Il++)Al+=256*$l[us]>>>0,$l[us]=Al%Lo>>>0,Al=Al/Lo>>>0;if(Al!==0)throw new Error("Non-zero carry");Cl=Il,xl++}for(var ps=_c-Cl;ps!==_c&&$l[ps]===0;)ps++;for(var Rl=Wo.repeat(os);ps<_c;++ps)Rl+=Fn.charAt($l[ps]);return Rl}function Go(Qo){if(typeof Qo!="string")throw new TypeError("Expected String");if(Qo.length===0)return new Uint8Array;var os=0;if(Qo[os]!==" "){for(var Cl=0,xl=0;Qo[os]===Wo;)Cl++,os++;for(var ds=(Qo.length-os)*jo+1>>>0,_c=new Uint8Array(ds);Qo[os];){var $l=io[Qo.charCodeAt(os)];if($l===255)return;for(var Al=0,Il=ds-1;($l!==0||Al<xl)&&Il!==-1;Il--,Al++)$l+=Lo*_c[Il]>>>0,_c[Il]=$l%256>>>0,$l=$l/256>>>0;if($l!==0)throw new Error("Non-zero carry");xl=Al,os++}if(Qo[os]!==" "){for(var us=ds-xl;us!==ds&&_c[us]===0;)us++;for(var ps=new Uint8Array(Cl+(ds-us)),Rl=Cl;us!==ds;)ps[Rl++]=_c[us++];return ps}}}function Jo(Qo){var os=Go(Qo);if(os)return os;throw new Error(`Non-${Mn} character`)}return{encode:Vo,decodeUnsafe:Go,decode:Jo}}var src$e=base$g,_brrp__multiformats_scope_baseX$e=src$e;const coerce$e=Fn=>{if(Fn instanceof Uint8Array&&Fn.constructor.name==="Uint8Array")return Fn;if(Fn instanceof ArrayBuffer)return new Uint8Array(Fn);if(ArrayBuffer.isView(Fn))return new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength);throw new Error("Unknown type, must be binary type")},fromString$4=Fn=>new TextEncoder().encode(Fn),toString$5=Fn=>new TextDecoder().decode(Fn);let Encoder$e=class{constructor(Mn,io,fo){this.name=Mn,this.prefix=io,this.baseEncode=fo}encode(Mn){if(Mn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Mn)}`;throw Error("Unknown type, must be binary type")}},Decoder$e=class{constructor(Mn,io,fo){if(this.name=Mn,this.prefix=io,io.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=io.codePointAt(0),this.baseDecode=fo}decode(Mn){if(typeof Mn=="string"){if(Mn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Mn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Mn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(Mn){return or$o(this,Mn)}},ComposedDecoder$e=class{constructor(Mn){this.decoders=Mn}or(Mn){return or$o(this,Mn)}decode(Mn){const io=Mn[0],fo=this.decoders[io];if(fo)return fo.decode(Mn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Mn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$o=(Fn,Mn)=>new ComposedDecoder$e({...Fn.decoders||{[Fn.prefix]:Fn},...Mn.decoders||{[Mn.prefix]:Mn}});let Codec$e=class{constructor(Mn,io,fo,mo){this.name=Mn,this.prefix=io,this.baseEncode=fo,this.baseDecode=mo,this.encoder=new Encoder$e(Mn,io,fo),this.decoder=new Decoder$e(Mn,io,mo)}encode(Mn){return this.encoder.encode(Mn)}decode(Mn){return this.decoder.decode(Mn)}};const from$v=({name:Fn,prefix:Mn,encode:io,decode:fo})=>new Codec$e(Fn,Mn,io,fo),baseX$e=({prefix:Fn,name:Mn,alphabet:io})=>{const{encode:fo,decode:mo}=_brrp__multiformats_scope_baseX$e(io,Mn);return from$v({prefix:Fn,name:Mn,encode:fo,decode:$o=>coerce$e(mo($o))})},decode$1k=(Fn,Mn,io,fo)=>{const mo={};for(let zo=0;zo<Mn.length;++zo)mo[Mn[zo]]=zo;let $o=Fn.length;for(;Fn[$o-1]==="=";)--$o;const Ao=new Uint8Array($o*io/8|0);let Lo=0,Wo=0,jo=0;for(let zo=0;zo<$o;++zo){const Vo=mo[Fn[zo]];if(Vo===void 0)throw new SyntaxError(`Non-${fo} character`);Wo=Wo<<io|Vo,Lo+=io,Lo>=8&&(Lo-=8,Ao[jo++]=255&Wo>>Lo)}if(Lo>=io||255&Wo<<8-Lo)throw new SyntaxError("Unexpected end of data");return Ao},encode$V=(Fn,Mn,io)=>{const fo=Mn[Mn.length-1]==="=",mo=(1<<io)-1;let $o="",Ao=0,Lo=0;for(let Wo=0;Wo<Fn.length;++Wo)for(Lo=Lo<<8|Fn[Wo],Ao+=8;Ao>io;)Ao-=io,$o+=Mn[mo&Lo>>Ao];if(Ao&&($o+=Mn[mo&Lo<<io-Ao]),fo)for(;$o.length*io&7;)$o+="=";return $o},rfc4648$e=({name:Fn,prefix:Mn,bitsPerChar:io,alphabet:fo})=>from$v({prefix:Mn,name:Fn,encode(mo){return encode$V(mo,fo,io)},decode(mo){return decode$1k(mo,fo,io,Fn)}}),identity$2=from$v({prefix:"\0",name:"identity",encode:Fn=>toString$5(Fn),decode:Fn=>fromString$4(Fn)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$2},Symbol.toStringTag,{value:"Module"})),base2=rfc4648$e({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648$e({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX$e({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648$e({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648$e({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base32$b=rfc4648$e({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648$e({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648$e({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648$e({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648$e({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648$e({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648$e({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648$e({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648$e({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$c=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$b,base32hex,base32hexpad,base32hexpadupper,base32hexupper,base32pad,base32padupper,base32upper,base32z},Symbol.toStringTag,{value:"Module"})),base36$6=baseX$e({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX$e({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$7=Object.freeze(Object.defineProperty({__proto__:null,base36:base36$6,base36upper},Symbol.toStringTag,{value:"Module"})),base58btc$c=baseX$e({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX$e({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc:base58btc$c,base58flickr},Symbol.toStringTag,{value:"Module"})),base64$4=rfc4648$e({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648$e({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url$1=rfc4648$e({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648$e({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$5=Object.freeze(Object.defineProperty({__proto__:null,base64:base64$4,base64pad,base64url:base64url$1,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet$3=Array.from(""),alphabetBytesToChars$2=alphabet$3.reduce((Fn,Mn,io)=>(Fn[io]=Mn,Fn),[]),alphabetCharsToBytes$2=alphabet$3.reduce((Fn,Mn,io)=>(Fn[Mn.codePointAt(0)]=io,Fn),[]);function encode$U(Fn){return Fn.reduce((Mn,io)=>(Mn+=alphabetBytesToChars$2[io],Mn),"")}function decode$1j(Fn){const Mn=[];for(const io of Fn){const fo=alphabetCharsToBytes$2[io.codePointAt(0)];if(fo===void 0)throw new Error(`Non-base256emoji character: ${io}`);Mn.push(fo)}return new Uint8Array(Mn)}const base256emoji=from$v({prefix:"",name:"base256emoji",encode:encode$U,decode:decode$1j}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"}));var encode_1$f=encode$T,MSB$h=128,REST$h=127,MSBALL$g=~REST$h,INT$g=Math.pow(2,31);function encode$T(Fn,Mn,io){Mn=Mn||[],io=io||0;for(var fo=io;Fn>=INT$g;)Mn[io++]=Fn&255|MSB$h,Fn/=128;for(;Fn&MSBALL$g;)Mn[io++]=Fn&255|MSB$h,Fn>>>=7;return Mn[io]=Fn|0,encode$T.bytes=io-fo+1,Mn}var decode$1i=read$i,MSB$1$f=128,REST$1$f=127;function read$i(Fn,fo){var io=0,fo=fo||0,mo=0,$o=fo,Ao,Lo=Fn.length;do{if($o>=Lo)throw read$i.bytes=0,new RangeError("Could not decode varint");Ao=Fn[$o++],io+=mo<28?(Ao&REST$1$f)<<mo:(Ao&REST$1$f)*Math.pow(2,mo),mo+=7}while(Ao>=MSB$1$f);return read$i.bytes=$o-fo,io}var N1$f=Math.pow(2,7),N2$f=Math.pow(2,14),N3$f=Math.pow(2,21),N4$f=Math.pow(2,28),N5$f=Math.pow(2,35),N6$f=Math.pow(2,42),N7$f=Math.pow(2,49),N8$f=Math.pow(2,56),N9$f=Math.pow(2,63),length$f=function(Fn){return Fn<N1$f?1:Fn<N2$f?2:Fn<N3$f?3:Fn<N4$f?4:Fn<N5$f?5:Fn<N6$f?6:Fn<N7$f?7:Fn<N8$f?8:Fn<N9$f?9:10},varint$g={encode:encode_1$f,decode:decode$1i,encodingLength:length$f},_brrp_varint$e=varint$g;const encodeTo$e=(Fn,Mn,io=0)=>(_brrp_varint$e.encode(Fn,Mn,io),Mn),encodingLength$e=Fn=>_brrp_varint$e.encodingLength(Fn),create$v=(Fn,Mn)=>{const io=Mn.byteLength,fo=encodingLength$e(Fn),mo=fo+encodingLength$e(io),$o=new Uint8Array(mo+io);return encodeTo$e(Fn,$o,0),encodeTo$e(io,$o,fo),$o.set(Mn,mo),new Digest$e(Fn,io,Mn,$o)};let Digest$e=class{constructor(Mn,io,fo,mo){this.code=Mn,this.size=io,this.digest=fo,this.bytes=mo}};const from$u=({name:Fn,code:Mn,encode:io})=>new Hasher$7(Fn,Mn,io);let Hasher$7=class{constructor(Mn,io,fo){this.name=Mn,this.code=io,this.encode=fo}digest(Mn){if(Mn instanceof Uint8Array){const io=this.encode(Mn);return io instanceof Uint8Array?create$v(this.code,io):io.then(fo=>create$v(this.code,fo))}else throw Error("Unknown type, must be binary type")}};const sha$6=Fn=>async Mn=>new Uint8Array(await crypto.subtle.digest(Fn,Mn)),sha256$8=from$u({name:"sha2-256",code:18,encode:sha$6("SHA-256")});new TextEncoder;new TextDecoder;const bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$c,...base36$7,...base58,...base64$5,...base256emoji$1};function createCodec(Fn,Mn,io,fo){return{name:Fn,prefix:Mn,encoder:{name:Fn,prefix:Mn,encode:io},decoder:{decode:fo}}}const string$1=createCodec("utf8","u",Fn=>"u"+new TextDecoder("utf8").decode(Fn),Fn=>new TextEncoder().encode(Fn.substring(1))),ascii=createCodec("ascii","a",Fn=>{let Mn="a";for(let io=0;io<Fn.length;io++)Mn+=String.fromCharCode(Fn[io]);return Mn},Fn=>{Fn=Fn.substring(1);const Mn=allocUnsafe$1(Fn.length);for(let io=0;io<Fn.length;io++)Mn[io]=Fn.charCodeAt(io);return Mn}),BASES={utf8:string$1,"utf-8":string$1,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function toString$4(Fn,Mn="utf8"){const io=BASES[Mn];if(!io)throw new Error(`Unsupported encoding "${Mn}"`);return(Mn==="utf8"||Mn==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(Fn.buffer,Fn.byteOffset,Fn.byteLength).toString("utf8"):io.encoder.encode(Fn).substring(1)}function fromString$3(Fn,Mn="utf8"){const io=BASES[Mn];if(!io)throw new Error(`Unsupported encoding "${Mn}"`);return(Mn==="utf8"||Mn==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(Fn,"utf8"):io.decoder.decode(`${io.prefix}${Fn}`)}function decodeJSON(Fn){return safeJsonParse(toString$4(fromString$3(Fn,JWT_ENCODING),JSON_ENCODING))}function encodeJSON(Fn){return toString$4(fromString$3(safeJsonStringify(Fn),JSON_ENCODING),JWT_ENCODING)}function encodeIss(Fn){const Mn=fromString$3(MULTICODEC_ED25519_HEADER,MULTICODEC_ED25519_ENCODING),io=MULTICODEC_ED25519_BASE+toString$4(concat$3([Mn,Fn]),MULTICODEC_ED25519_ENCODING);return[DID_PREFIX$1,DID_METHOD,io].join(DID_DELIMITER)}function encodeSig(Fn){return toString$4(Fn,JWT_ENCODING)}function decodeSig(Fn){return fromString$3(Fn,JWT_ENCODING)}function encodeData(Fn){return fromString$3([encodeJSON(Fn.header),encodeJSON(Fn.payload)].join(JWT_DELIMITER),DATA_ENCODING)}function encodeJWT(Fn){return[encodeJSON(Fn.header),encodeJSON(Fn.payload),encodeSig(Fn.signature)].join(JWT_DELIMITER)}function decodeJWT(Fn){const Mn=Fn.split(JWT_DELIMITER),io=decodeJSON(Mn[0]),fo=decodeJSON(Mn[1]),mo=decodeSig(Mn[2]),$o=fromString$3(Mn.slice(0,2).join(JWT_DELIMITER),DATA_ENCODING);return{header:io,payload:fo,signature:mo,data:$o}}function generateKeyPair(Fn=random.randomBytes(KEY_PAIR_SEED_LENGTH)){return ed25519.generateKeyPairFromSeed(Fn)}async function signJWT(Fn,Mn,io,fo,mo=cjs$3.fromMiliseconds(Date.now())){const $o={alg:JWT_IRIDIUM_ALG,typ:JWT_IRIDIUM_TYP},Ao=encodeIss(fo.publicKey),Lo=mo+io,Wo={iss:Ao,sub:Fn,aud:Mn,iat:mo,exp:Lo},jo=encodeData({header:$o,payload:Wo}),zo=ed25519.sign(fo.secretKey,jo);return encodeJWT({header:$o,payload:Wo,signature:zo})}var __spreadArray=function(Fn,Mn,io){if(io||arguments.length===2)for(var fo=0,mo=Mn.length,$o;fo<mo;fo++)($o||!(fo in Mn))&&($o||($o=Array.prototype.slice.call(Mn,0,fo)),$o[fo]=Mn[fo]);return Fn.concat($o||Array.prototype.slice.call(Mn))},BrowserInfo=function(){function Fn(Mn,io,fo){this.name=Mn,this.version=io,this.os=fo,this.type="browser"}return Fn}(),NodeInfo=function(){function Fn(Mn){this.version=Mn,this.type="node",this.name="node",this.os=process.platform}return Fn}(),SearchBotDeviceInfo=function(){function Fn(Mn,io,fo,mo){this.name=Mn,this.version=io,this.os=fo,this.bot=mo,this.type="bot-device"}return Fn}(),BotInfo=function(){function Fn(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return Fn}(),ReactNativeInfo=function(){function Fn(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return Fn}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(Fn){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(Fn){return Fn!==""&&userAgentRules.reduce(function(Mn,io){var fo=io[0],mo=io[1];if(Mn)return Mn;var $o=mo.exec(Fn);return!!$o&&[fo,$o]},!1)}function parseUserAgent(Fn){var Mn=matchUserAgent(Fn);if(!Mn)return null;var io=Mn[0],fo=Mn[1];if(io==="searchbot")return new BotInfo;var mo=fo[1]&&fo[1].split(".").join("_").split("_").slice(0,3);mo?mo.length<REQUIRED_VERSION_PARTS&&(mo=__spreadArray(__spreadArray([],mo,!0),createVersionParts(REQUIRED_VERSION_PARTS-mo.length),!0)):mo=[];var $o=mo.join("."),Ao=detectOS(Fn),Lo=SEARCHBOT_OS_REGEX.exec(Fn);return Lo&&Lo[1]?new SearchBotDeviceInfo(io,$o,Ao,Lo[1]):new BrowserInfo(io,$o,Ao)}function detectOS(Fn){for(var Mn=0,io=operatingSystemRules.length;Mn<io;Mn++){var fo=operatingSystemRules[Mn],mo=fo[0],$o=fo[1],Ao=$o.exec(Fn);if(Ao)return mo}return null}function getNodeVersion(){var Fn=typeof process<"u"&&process.version;return Fn?new NodeInfo(process.version.slice(1)):null}function createVersionParts(Fn){for(var Mn=[],io=0;io<Fn;io++)Mn.push("0");return Mn}var cjs$2={};Object.defineProperty(cjs$2,"__esModule",{value:!0});cjs$2.getLocalStorage=cjs$2.getLocalStorageOrThrow=cjs$2.getCrypto=cjs$2.getCryptoOrThrow=getLocation_1=cjs$2.getLocation=cjs$2.getLocationOrThrow=getNavigator_1=cjs$2.getNavigator=cjs$2.getNavigatorOrThrow=getDocument_1=cjs$2.getDocument=cjs$2.getDocumentOrThrow=cjs$2.getFromWindowOrThrow=cjs$2.getFromWindow=void 0;function getFromWindow(Fn){let Mn;return typeof window<"u"&&typeof window[Fn]<"u"&&(Mn=window[Fn]),Mn}cjs$2.getFromWindow=getFromWindow;function getFromWindowOrThrow(Fn){const Mn=getFromWindow(Fn);if(!Mn)throw new Error(`${Fn} is not defined in Window`);return Mn}cjs$2.getFromWindowOrThrow=getFromWindowOrThrow;function getDocumentOrThrow(){return getFromWindowOrThrow("document")}cjs$2.getDocumentOrThrow=getDocumentOrThrow;function getDocument(){return getFromWindow("document")}var getDocument_1=cjs$2.getDocument=getDocument;function getNavigatorOrThrow(){return getFromWindowOrThrow("navigator")}cjs$2.getNavigatorOrThrow=getNavigatorOrThrow;function getNavigator(){return getFromWindow("navigator")}var getNavigator_1=cjs$2.getNavigator=getNavigator;function getLocationOrThrow(){return getFromWindowOrThrow("location")}cjs$2.getLocationOrThrow=getLocationOrThrow;function getLocation(){return getFromWindow("location")}var getLocation_1=cjs$2.getLocation=getLocation;function getCryptoOrThrow(){return getFromWindowOrThrow("crypto")}cjs$2.getCryptoOrThrow=getCryptoOrThrow;function getCrypto(){return getFromWindow("crypto")}cjs$2.getCrypto=getCrypto;function getLocalStorageOrThrow(){return getFromWindowOrThrow("localStorage")}cjs$2.getLocalStorageOrThrow=getLocalStorageOrThrow;function getLocalStorage(){return getFromWindow("localStorage")}cjs$2.getLocalStorage=getLocalStorage;var cjs$1={};Object.defineProperty(cjs$1,"__esModule",{value:!0});var getWindowMetadata_1=cjs$1.getWindowMetadata=void 0;const window_getters_1=cjs$2;function getWindowMetadata(){let Fn,Mn;try{Fn=window_getters_1.getDocumentOrThrow(),Mn=window_getters_1.getLocationOrThrow()}catch{return null}function io(){const Vo=Fn.getElementsByTagName("link"),Go=[];for(let Jo=0;Jo<Vo.length;Jo++){const Qo=Vo[Jo],os=Qo.getAttribute("rel");if(os&&os.toLowerCase().indexOf("icon")>-1){const Cl=Qo.getAttribute("href");if(Cl)if(Cl.toLowerCase().indexOf("https:")===-1&&Cl.toLowerCase().indexOf("http:")===-1&&Cl.indexOf("//")!==0){let xl=Mn.protocol+"//"+Mn.host;if(Cl.indexOf("/")===0)xl+=Cl;else{const ds=Mn.pathname.split("/");ds.pop();const _c=ds.join("/");xl+=_c+"/"+Cl}Go.push(xl)}else if(Cl.indexOf("//")===0){const xl=Mn.protocol+Cl;Go.push(xl)}else Go.push(Cl)}}return Go}function fo(...Vo){const Go=Fn.getElementsByTagName("meta");for(let Jo=0;Jo<Go.length;Jo++){const Qo=Go[Jo],os=["itemprop","property","name"].map(Cl=>Qo.getAttribute(Cl)).filter(Cl=>Cl?Vo.includes(Cl):!1);if(os.length&&os){const Cl=Qo.getAttribute("content");if(Cl)return Cl}}return""}function mo(){let Vo=fo("name","og:site_name","og:title","twitter:title");return Vo||(Vo=Fn.title),Vo}function $o(){return fo("description","og:description","twitter:description","keywords")}const Ao=mo(),Lo=$o(),Wo=Mn.origin,jo=io();return{description:Lo,url:Wo,icons:jo,name:Ao}}getWindowMetadata_1=cjs$1.getWindowMetadata=getWindowMetadata;var queryString={},strictUriEncode=Fn=>encodeURIComponent(Fn).replace(/[!'()*]/g,Mn=>`%${Mn.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp("("+token+")|([^%]+?)","gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(Fn,Mn){try{return[decodeURIComponent(Fn.join(""))]}catch{}if(Fn.length===1)return Fn;Mn=Mn||1;var io=Fn.slice(0,Mn),fo=Fn.slice(Mn);return Array.prototype.concat.call([],decodeComponents(io),decodeComponents(fo))}function decode$1h(Fn){try{return decodeURIComponent(Fn)}catch{for(var Mn=Fn.match(singleMatcher)||[],io=1;io<Mn.length;io++)Fn=decodeComponents(Mn,io).join(""),Mn=Fn.match(singleMatcher)||[];return Fn}}function customDecodeURIComponent(Fn){for(var Mn={"%FE%FF":"","%FF%FE":""},io=multiMatcher.exec(Fn);io;){try{Mn[io[0]]=decodeURIComponent(io[0])}catch{var fo=decode$1h(io[0]);fo!==io[0]&&(Mn[io[0]]=fo)}io=multiMatcher.exec(Fn)}Mn["%C2"]="";for(var mo=Object.keys(Mn),$o=0;$o<mo.length;$o++){var Ao=mo[$o];Fn=Fn.replace(new RegExp(Ao,"g"),Mn[Ao])}return Fn}var decodeUriComponent=function(Fn){if(typeof Fn!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof Fn+"`");try{return Fn=Fn.replace(/\+/g," "),decodeURIComponent(Fn)}catch{return customDecodeURIComponent(Fn)}},splitOnFirst=(Fn,Mn)=>{if(!(typeof Fn=="string"&&typeof Mn=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(Mn==="")return[Fn];const io=Fn.indexOf(Mn);return io===-1?[Fn]:[Fn.slice(0,io),Fn.slice(io+Mn.length)]},filterObj=function(Fn,Mn){for(var io={},fo=Object.keys(Fn),mo=Array.isArray(Mn),$o=0;$o<fo.length;$o++){var Ao=fo[$o],Lo=Fn[Ao];(mo?Mn.indexOf(Ao)!==-1:Mn(Ao,Lo,Fn))&&(io[Ao]=Lo)}return io};(function(Fn){const Mn=strictUriEncode,io=decodeUriComponent,fo=splitOnFirst,mo=filterObj,$o=ds=>ds==null,Ao=Symbol("encodeFragmentIdentifier");function Lo(ds){switch(ds.arrayFormat){case"index":return _c=>($l,Al)=>{const Il=$l.length;return Al===void 0||ds.skipNull&&Al===null||ds.skipEmptyString&&Al===""?$l:Al===null?[...$l,[zo(_c,ds),"[",Il,"]"].join("")]:[...$l,[zo(_c,ds),"[",zo(Il,ds),"]=",zo(Al,ds)].join("")]};case"bracket":return _c=>($l,Al)=>Al===void 0||ds.skipNull&&Al===null||ds.skipEmptyString&&Al===""?$l:Al===null?[...$l,[zo(_c,ds),"[]"].join("")]:[...$l,[zo(_c,ds),"[]=",zo(Al,ds)].join("")];case"colon-list-separator":return _c=>($l,Al)=>Al===void 0||ds.skipNull&&Al===null||ds.skipEmptyString&&Al===""?$l:Al===null?[...$l,[zo(_c,ds),":list="].join("")]:[...$l,[zo(_c,ds),":list=",zo(Al,ds)].join("")];case"comma":case"separator":case"bracket-separator":{const _c=ds.arrayFormat==="bracket-separator"?"[]=":"=";return $l=>(Al,Il)=>Il===void 0||ds.skipNull&&Il===null||ds.skipEmptyString&&Il===""?Al:(Il=Il===null?"":Il,Al.length===0?[[zo($l,ds),_c,zo(Il,ds)].join("")]:[[Al,zo(Il,ds)].join(ds.arrayFormatSeparator)])}default:return _c=>($l,Al)=>Al===void 0||ds.skipNull&&Al===null||ds.skipEmptyString&&Al===""?$l:Al===null?[...$l,zo(_c,ds)]:[...$l,[zo(_c,ds),"=",zo(Al,ds)].join("")]}}function Wo(ds){let _c;switch(ds.arrayFormat){case"index":return($l,Al,Il)=>{if(_c=/\[(\d*)\]$/.exec($l),$l=$l.replace(/\[\d*\]$/,""),!_c){Il[$l]=Al;return}Il[$l]===void 0&&(Il[$l]={}),Il[$l][_c[1]]=Al};case"bracket":return($l,Al,Il)=>{if(_c=/(\[\])$/.exec($l),$l=$l.replace(/\[\]$/,""),!_c){Il[$l]=Al;return}if(Il[$l]===void 0){Il[$l]=[Al];return}Il[$l]=[].concat(Il[$l],Al)};case"colon-list-separator":return($l,Al,Il)=>{if(_c=/(:list)$/.exec($l),$l=$l.replace(/:list$/,""),!_c){Il[$l]=Al;return}if(Il[$l]===void 0){Il[$l]=[Al];return}Il[$l]=[].concat(Il[$l],Al)};case"comma":case"separator":return($l,Al,Il)=>{const us=typeof Al=="string"&&Al.includes(ds.arrayFormatSeparator),ps=typeof Al=="string"&&!us&&Vo(Al,ds).includes(ds.arrayFormatSeparator);Al=ps?Vo(Al,ds):Al;const Rl=us||ps?Al.split(ds.arrayFormatSeparator).map(Wl=>Vo(Wl,ds)):Al===null?Al:Vo(Al,ds);Il[$l]=Rl};case"bracket-separator":return($l,Al,Il)=>{const us=/(\[\])$/.test($l);if($l=$l.replace(/\[\]$/,""),!us){Il[$l]=Al&&Vo(Al,ds);return}const ps=Al===null?[]:Al.split(ds.arrayFormatSeparator).map(Rl=>Vo(Rl,ds));if(Il[$l]===void 0){Il[$l]=ps;return}Il[$l]=[].concat(Il[$l],ps)};default:return($l,Al,Il)=>{if(Il[$l]===void 0){Il[$l]=Al;return}Il[$l]=[].concat(Il[$l],Al)}}}function jo(ds){if(typeof ds!="string"||ds.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function zo(ds,_c){return _c.encode?_c.strict?Mn(ds):encodeURIComponent(ds):ds}function Vo(ds,_c){return _c.decode?io(ds):ds}function Go(ds){return Array.isArray(ds)?ds.sort():typeof ds=="object"?Go(Object.keys(ds)).sort((_c,$l)=>Number(_c)-Number($l)).map(_c=>ds[_c]):ds}function Jo(ds){const _c=ds.indexOf("#");return _c!==-1&&(ds=ds.slice(0,_c)),ds}function Qo(ds){let _c="";const $l=ds.indexOf("#");return $l!==-1&&(_c=ds.slice($l)),_c}function os(ds){ds=Jo(ds);const _c=ds.indexOf("?");return _c===-1?"":ds.slice(_c+1)}function Cl(ds,_c){return _c.parseNumbers&&!Number.isNaN(Number(ds))&&typeof ds=="string"&&ds.trim()!==""?ds=Number(ds):_c.parseBooleans&&ds!==null&&(ds.toLowerCase()==="true"||ds.toLowerCase()==="false")&&(ds=ds.toLowerCase()==="true"),ds}function xl(ds,_c){_c=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},_c),jo(_c.arrayFormatSeparator);const $l=Wo(_c),Al=Object.create(null);if(typeof ds!="string"||(ds=ds.trim().replace(/^[?#&]/,""),!ds))return Al;for(const Il of ds.split("&")){if(Il==="")continue;let[us,ps]=fo(_c.decode?Il.replace(/\+/g," "):Il,"=");ps=ps===void 0?null:["comma","separator","bracket-separator"].includes(_c.arrayFormat)?ps:Vo(ps,_c),$l(Vo(us,_c),ps,Al)}for(const Il of Object.keys(Al)){const us=Al[Il];if(typeof us=="object"&&us!==null)for(const ps of Object.keys(us))us[ps]=Cl(us[ps],_c);else Al[Il]=Cl(us,_c)}return _c.sort===!1?Al:(_c.sort===!0?Object.keys(Al).sort():Object.keys(Al).sort(_c.sort)).reduce((Il,us)=>{const ps=Al[us];return ps&&typeof ps=="object"&&!Array.isArray(ps)?Il[us]=Go(ps):Il[us]=ps,Il},Object.create(null))}Fn.extract=os,Fn.parse=xl,Fn.stringify=(ds,_c)=>{if(!ds)return"";_c=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},_c),jo(_c.arrayFormatSeparator);const $l=ps=>_c.skipNull&&$o(ds[ps])||_c.skipEmptyString&&ds[ps]==="",Al=Lo(_c),Il={};for(const ps of Object.keys(ds))$l(ps)||(Il[ps]=ds[ps]);const us=Object.keys(Il);return _c.sort!==!1&&us.sort(_c.sort),us.map(ps=>{const Rl=ds[ps];return Rl===void 0?"":Rl===null?zo(ps,_c):Array.isArray(Rl)?Rl.length===0&&_c.arrayFormat==="bracket-separator"?zo(ps,_c)+"[]":Rl.reduce(Al(ps),[]).join("&"):zo(ps,_c)+"="+zo(Rl,_c)}).filter(ps=>ps.length>0).join("&")},Fn.parseUrl=(ds,_c)=>{_c=Object.assign({decode:!0},_c);const[$l,Al]=fo(ds,"#");return Object.assign({url:$l.split("?")[0]||"",query:xl(os(ds),_c)},_c&&_c.parseFragmentIdentifier&&Al?{fragmentIdentifier:Vo(Al,_c)}:{})},Fn.stringifyUrl=(ds,_c)=>{_c=Object.assign({encode:!0,strict:!0,[Ao]:!0},_c);const $l=Jo(ds.url).split("?")[0]||"",Al=Fn.extract(ds.url),Il=Fn.parse(Al,{sort:!1}),us=Object.assign(Il,ds.query);let ps=Fn.stringify(us,_c);ps&&(ps=`?${ps}`);let Rl=Qo(ds.url);return ds.fragmentIdentifier&&(Rl=`#${_c[Ao]?zo(ds.fragmentIdentifier,_c):ds.fragmentIdentifier}`),`${$l}${ps}${Rl}`},Fn.pick=(ds,_c,$l)=>{$l=Object.assign({parseFragmentIdentifier:!0,[Ao]:!1},$l);const{url:Al,query:Il,fragmentIdentifier:us}=Fn.parseUrl(ds,$l);return Fn.stringifyUrl({url:Al,query:mo(Il,_c),fragmentIdentifier:us},$l)},Fn.exclude=(ds,_c,$l)=>{const Al=Array.isArray(_c)?Il=>!_c.includes(Il):(Il,us)=>!_c(Il,us);return Fn.pick(ds,Al,$l)}})(queryString);var chacha20poly1305={},chacha={};Object.defineProperty(chacha,"__esModule",{value:!0});var binary_1=binary,wipe_1$2=wipe$1,ROUNDS=20;function core(Fn,Mn,io){for(var fo=1634760805,mo=857760878,$o=2036477234,Ao=1797285236,Lo=io[3]<<24|io[2]<<16|io[1]<<8|io[0],Wo=io[7]<<24|io[6]<<16|io[5]<<8|io[4],jo=io[11]<<24|io[10]<<16|io[9]<<8|io[8],zo=io[15]<<24|io[14]<<16|io[13]<<8|io[12],Vo=io[19]<<24|io[18]<<16|io[17]<<8|io[16],Go=io[23]<<24|io[22]<<16|io[21]<<8|io[20],Jo=io[27]<<24|io[26]<<16|io[25]<<8|io[24],Qo=io[31]<<24|io[30]<<16|io[29]<<8|io[28],os=Mn[3]<<24|Mn[2]<<16|Mn[1]<<8|Mn[0],Cl=Mn[7]<<24|Mn[6]<<16|Mn[5]<<8|Mn[4],xl=Mn[11]<<24|Mn[10]<<16|Mn[9]<<8|Mn[8],ds=Mn[15]<<24|Mn[14]<<16|Mn[13]<<8|Mn[12],_c=fo,$l=mo,Al=$o,Il=Ao,us=Lo,ps=Wo,Rl=jo,Wl=zo,Nl=Vo,wl=Go,Xo=Jo,rs=Qo,as=os,El=Cl,Pl=xl,Sl=ds,Tl=0;Tl<ROUNDS;Tl+=2)_c=_c+us|0,as^=_c,as=as>>>16|as<<16,Nl=Nl+as|0,us^=Nl,us=us>>>20|us<<12,$l=$l+ps|0,El^=$l,El=El>>>16|El<<16,wl=wl+El|0,ps^=wl,ps=ps>>>20|ps<<12,Al=Al+Rl|0,Pl^=Al,Pl=Pl>>>16|Pl<<16,Xo=Xo+Pl|0,Rl^=Xo,Rl=Rl>>>20|Rl<<12,Il=Il+Wl|0,Sl^=Il,Sl=Sl>>>16|Sl<<16,rs=rs+Sl|0,Wl^=rs,Wl=Wl>>>20|Wl<<12,Al=Al+Rl|0,Pl^=Al,Pl=Pl>>>24|Pl<<8,Xo=Xo+Pl|0,Rl^=Xo,Rl=Rl>>>25|Rl<<7,Il=Il+Wl|0,Sl^=Il,Sl=Sl>>>24|Sl<<8,rs=rs+Sl|0,Wl^=rs,Wl=Wl>>>25|Wl<<7,$l=$l+ps|0,El^=$l,El=El>>>24|El<<8,wl=wl+El|0,ps^=wl,ps=ps>>>25|ps<<7,_c=_c+us|0,as^=_c,as=as>>>24|as<<8,Nl=Nl+as|0,us^=Nl,us=us>>>25|us<<7,_c=_c+ps|0,Sl^=_c,Sl=Sl>>>16|Sl<<16,Xo=Xo+Sl|0,ps^=Xo,ps=ps>>>20|ps<<12,$l=$l+Rl|0,as^=$l,as=as>>>16|as<<16,rs=rs+as|0,Rl^=rs,Rl=Rl>>>20|Rl<<12,Al=Al+Wl|0,El^=Al,El=El>>>16|El<<16,Nl=Nl+El|0,Wl^=Nl,Wl=Wl>>>20|Wl<<12,Il=Il+us|0,Pl^=Il,Pl=Pl>>>16|Pl<<16,wl=wl+Pl|0,us^=wl,us=us>>>20|us<<12,Al=Al+Wl|0,El^=Al,El=El>>>24|El<<8,Nl=Nl+El|0,Wl^=Nl,Wl=Wl>>>25|Wl<<7,Il=Il+us|0,Pl^=Il,Pl=Pl>>>24|Pl<<8,wl=wl+Pl|0,us^=wl,us=us>>>25|us<<7,$l=$l+Rl|0,as^=$l,as=as>>>24|as<<8,rs=rs+as|0,Rl^=rs,Rl=Rl>>>25|Rl<<7,_c=_c+ps|0,Sl^=_c,Sl=Sl>>>24|Sl<<8,Xo=Xo+Sl|0,ps^=Xo,ps=ps>>>25|ps<<7;binary_1.writeUint32LE(_c+fo|0,Fn,0),binary_1.writeUint32LE($l+mo|0,Fn,4),binary_1.writeUint32LE(Al+$o|0,Fn,8),binary_1.writeUint32LE(Il+Ao|0,Fn,12),binary_1.writeUint32LE(us+Lo|0,Fn,16),binary_1.writeUint32LE(ps+Wo|0,Fn,20),binary_1.writeUint32LE(Rl+jo|0,Fn,24),binary_1.writeUint32LE(Wl+zo|0,Fn,28),binary_1.writeUint32LE(Nl+Vo|0,Fn,32),binary_1.writeUint32LE(wl+Go|0,Fn,36),binary_1.writeUint32LE(Xo+Jo|0,Fn,40),binary_1.writeUint32LE(rs+Qo|0,Fn,44),binary_1.writeUint32LE(as+os|0,Fn,48),binary_1.writeUint32LE(El+Cl|0,Fn,52),binary_1.writeUint32LE(Pl+xl|0,Fn,56),binary_1.writeUint32LE(Sl+ds|0,Fn,60)}function streamXOR(Fn,Mn,io,fo,mo){if(mo===void 0&&(mo=0),Fn.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(fo.length<io.length)throw new Error("ChaCha: destination is shorter than source");var $o,Ao;if(mo===0){if(Mn.length!==8&&Mn.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");$o=new Uint8Array(16),Ao=$o.length-Mn.length,$o.set(Mn,Ao)}else{if(Mn.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");$o=Mn,Ao=mo}for(var Lo=new Uint8Array(64),Wo=0;Wo<io.length;Wo+=64){core(Lo,$o,Fn);for(var jo=Wo;jo<Wo+64&&jo<io.length;jo++)fo[jo]=io[jo]^Lo[jo-Wo];incrementCounter($o,0,Ao)}return wipe_1$2.wipe(Lo),mo===0&&wipe_1$2.wipe($o),fo}chacha.streamXOR=streamXOR;function stream(Fn,Mn,io,fo){return fo===void 0&&(fo=0),wipe_1$2.wipe(io),streamXOR(Fn,Mn,io,io,fo)}chacha.stream=stream;function incrementCounter(Fn,Mn,io){for(var fo=1;io--;)fo=fo+(Fn[Mn]&255)|0,Fn[Mn]=fo&255,fo>>>=8,Mn++;if(fo>0)throw new Error("ChaCha: counter overflow")}var poly1305={},constantTime={};Object.defineProperty(constantTime,"__esModule",{value:!0});function select$1(Fn,Mn,io){return~(Fn-1)&Mn|Fn-1&io}constantTime.select=select$1;function lessOrEqual(Fn,Mn){return(Fn|0)-(Mn|0)-1>>>31&1}constantTime.lessOrEqual=lessOrEqual;function compare$2(Fn,Mn){if(Fn.length!==Mn.length)return 0;for(var io=0,fo=0;fo<Fn.length;fo++)io|=Fn[fo]^Mn[fo];return 1&io-1>>>8}constantTime.compare=compare$2;function equal$1(Fn,Mn){return Fn.length===0||Mn.length===0?!1:compare$2(Fn,Mn)!==0}constantTime.equal=equal$1;(function(Fn){Object.defineProperty(Fn,"__esModule",{value:!0});var Mn=constantTime,io=wipe$1;Fn.DIGEST_LENGTH=16;var fo=function(){function Ao(Lo){this.digestLength=Fn.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var Wo=Lo[0]|Lo[1]<<8;this._r[0]=Wo&8191;var jo=Lo[2]|Lo[3]<<8;this._r[1]=(Wo>>>13|jo<<3)&8191;var zo=Lo[4]|Lo[5]<<8;this._r[2]=(jo>>>10|zo<<6)&7939;var Vo=Lo[6]|Lo[7]<<8;this._r[3]=(zo>>>7|Vo<<9)&8191;var Go=Lo[8]|Lo[9]<<8;this._r[4]=(Vo>>>4|Go<<12)&255,this._r[5]=Go>>>1&8190;var Jo=Lo[10]|Lo[11]<<8;this._r[6]=(Go>>>14|Jo<<2)&8191;var Qo=Lo[12]|Lo[13]<<8;this._r[7]=(Jo>>>11|Qo<<5)&8065;var os=Lo[14]|Lo[15]<<8;this._r[8]=(Qo>>>8|os<<8)&8191,this._r[9]=os>>>5&127,this._pad[0]=Lo[16]|Lo[17]<<8,this._pad[1]=Lo[18]|Lo[19]<<8,this._pad[2]=Lo[20]|Lo[21]<<8,this._pad[3]=Lo[22]|Lo[23]<<8,this._pad[4]=Lo[24]|Lo[25]<<8,this._pad[5]=Lo[26]|Lo[27]<<8,this._pad[6]=Lo[28]|Lo[29]<<8,this._pad[7]=Lo[30]|Lo[31]<<8}return Ao.prototype._blocks=function(Lo,Wo,jo){for(var zo=this._fin?0:2048,Vo=this._h[0],Go=this._h[1],Jo=this._h[2],Qo=this._h[3],os=this._h[4],Cl=this._h[5],xl=this._h[6],ds=this._h[7],_c=this._h[8],$l=this._h[9],Al=this._r[0],Il=this._r[1],us=this._r[2],ps=this._r[3],Rl=this._r[4],Wl=this._r[5],Nl=this._r[6],wl=this._r[7],Xo=this._r[8],rs=this._r[9];jo>=16;){var as=Lo[Wo+0]|Lo[Wo+1]<<8;Vo+=as&8191;var El=Lo[Wo+2]|Lo[Wo+3]<<8;Go+=(as>>>13|El<<3)&8191;var Pl=Lo[Wo+4]|Lo[Wo+5]<<8;Jo+=(El>>>10|Pl<<6)&8191;var Sl=Lo[Wo+6]|Lo[Wo+7]<<8;Qo+=(Pl>>>7|Sl<<9)&8191;var Tl=Lo[Wo+8]|Lo[Wo+9]<<8;os+=(Sl>>>4|Tl<<12)&8191,Cl+=Tl>>>1&8191;var hs=Lo[Wo+10]|Lo[Wo+11]<<8;xl+=(Tl>>>14|hs<<2)&8191;var yl=Lo[Wo+12]|Lo[Wo+13]<<8;ds+=(hs>>>11|yl<<5)&8191;var Fl=Lo[Wo+14]|Lo[Wo+15]<<8;_c+=(yl>>>8|Fl<<8)&8191,$l+=Fl>>>5|zo;var Xl=0,bu=Xl;bu+=Vo*Al,bu+=Go*(5*rs),bu+=Jo*(5*Xo),bu+=Qo*(5*wl),bu+=os*(5*Nl),Xl=bu>>>13,bu&=8191,bu+=Cl*(5*Wl),bu+=xl*(5*Rl),bu+=ds*(5*ps),bu+=_c*(5*us),bu+=$l*(5*Il),Xl+=bu>>>13,bu&=8191;var Ul=Xl;Ul+=Vo*Il,Ul+=Go*Al,Ul+=Jo*(5*rs),Ul+=Qo*(5*Xo),Ul+=os*(5*wl),Xl=Ul>>>13,Ul&=8191,Ul+=Cl*(5*Nl),Ul+=xl*(5*Wl),Ul+=ds*(5*Rl),Ul+=_c*(5*ps),Ul+=$l*(5*us),Xl+=Ul>>>13,Ul&=8191;var yu=Xl;yu+=Vo*us,yu+=Go*Il,yu+=Jo*Al,yu+=Qo*(5*rs),yu+=os*(5*Xo),Xl=yu>>>13,yu&=8191,yu+=Cl*(5*wl),yu+=xl*(5*Nl),yu+=ds*(5*Wl),yu+=_c*(5*Rl),yu+=$l*(5*ps),Xl+=yu>>>13,yu&=8191;var Vl=Xl;Vl+=Vo*ps,Vl+=Go*us,Vl+=Jo*Il,Vl+=Qo*Al,Vl+=os*(5*rs),Xl=Vl>>>13,Vl&=8191,Vl+=Cl*(5*Xo),Vl+=xl*(5*wl),Vl+=ds*(5*Nl),Vl+=_c*(5*Wl),Vl+=$l*(5*Rl),Xl+=Vl>>>13,Vl&=8191;var Jl=Xl;Jl+=Vo*Rl,Jl+=Go*ps,Jl+=Jo*us,Jl+=Qo*Il,Jl+=os*Al,Xl=Jl>>>13,Jl&=8191,Jl+=Cl*(5*rs),Jl+=xl*(5*Xo),Jl+=ds*(5*wl),Jl+=_c*(5*Nl),Jl+=$l*(5*Wl),Xl+=Jl>>>13,Jl&=8191;var Ql=Xl;Ql+=Vo*Wl,Ql+=Go*Rl,Ql+=Jo*ps,Ql+=Qo*us,Ql+=os*Il,Xl=Ql>>>13,Ql&=8191,Ql+=Cl*Al,Ql+=xl*(5*rs),Ql+=ds*(5*Xo),Ql+=_c*(5*wl),Ql+=$l*(5*Nl),Xl+=Ql>>>13,Ql&=8191;var Ol=Xl;Ol+=Vo*Nl,Ol+=Go*Wl,Ol+=Jo*Rl,Ol+=Qo*ps,Ol+=os*us,Xl=Ol>>>13,Ol&=8191,Ol+=Cl*Il,Ol+=xl*Al,Ol+=ds*(5*rs),Ol+=_c*(5*Xo),Ol+=$l*(5*wl),Xl+=Ol>>>13,Ol&=8191;var Zl=Xl;Zl+=Vo*wl,Zl+=Go*Nl,Zl+=Jo*Wl,Zl+=Qo*Rl,Zl+=os*ps,Xl=Zl>>>13,Zl&=8191,Zl+=Cl*us,Zl+=xl*Il,Zl+=ds*Al,Zl+=_c*(5*rs),Zl+=$l*(5*Xo),Xl+=Zl>>>13,Zl&=8191;var rp=Xl;rp+=Vo*Xo,rp+=Go*wl,rp+=Jo*Nl,rp+=Qo*Wl,rp+=os*Rl,Xl=rp>>>13,rp&=8191,rp+=Cl*ps,rp+=xl*us,rp+=ds*Il,rp+=_c*Al,rp+=$l*(5*rs),Xl+=rp>>>13,rp&=8191;var op=Xl;op+=Vo*rs,op+=Go*Xo,op+=Jo*wl,op+=Qo*Nl,op+=os*Wl,Xl=op>>>13,op&=8191,op+=Cl*Rl,op+=xl*ps,op+=ds*us,op+=_c*Il,op+=$l*Al,Xl+=op>>>13,op&=8191,Xl=(Xl<<2)+Xl|0,Xl=Xl+bu|0,bu=Xl&8191,Xl=Xl>>>13,Ul+=Xl,Vo=bu,Go=Ul,Jo=yu,Qo=Vl,os=Jl,Cl=Ql,xl=Ol,ds=Zl,_c=rp,$l=op,Wo+=16,jo-=16}this._h[0]=Vo,this._h[1]=Go,this._h[2]=Jo,this._h[3]=Qo,this._h[4]=os,this._h[5]=Cl,this._h[6]=xl,this._h[7]=ds,this._h[8]=_c,this._h[9]=$l},Ao.prototype.finish=function(Lo,Wo){Wo===void 0&&(Wo=0);var jo=new Uint16Array(10),zo,Vo,Go,Jo;if(this._leftover){for(Jo=this._leftover,this._buffer[Jo++]=1;Jo<16;Jo++)this._buffer[Jo]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(zo=this._h[1]>>>13,this._h[1]&=8191,Jo=2;Jo<10;Jo++)this._h[Jo]+=zo,zo=this._h[Jo]>>>13,this._h[Jo]&=8191;for(this._h[0]+=zo*5,zo=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=zo,zo=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=zo,jo[0]=this._h[0]+5,zo=jo[0]>>>13,jo[0]&=8191,Jo=1;Jo<10;Jo++)jo[Jo]=this._h[Jo]+zo,zo=jo[Jo]>>>13,jo[Jo]&=8191;for(jo[9]-=8192,Vo=(zo^1)-1,Jo=0;Jo<10;Jo++)jo[Jo]&=Vo;for(Vo=~Vo,Jo=0;Jo<10;Jo++)this._h[Jo]=this._h[Jo]&Vo|jo[Jo];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,Go=this._h[0]+this._pad[0],this._h[0]=Go&65535,Jo=1;Jo<8;Jo++)Go=(this._h[Jo]+this._pad[Jo]|0)+(Go>>>16)|0,this._h[Jo]=Go&65535;return Lo[Wo+0]=this._h[0]>>>0,Lo[Wo+1]=this._h[0]>>>8,Lo[Wo+2]=this._h[1]>>>0,Lo[Wo+3]=this._h[1]>>>8,Lo[Wo+4]=this._h[2]>>>0,Lo[Wo+5]=this._h[2]>>>8,Lo[Wo+6]=this._h[3]>>>0,Lo[Wo+7]=this._h[3]>>>8,Lo[Wo+8]=this._h[4]>>>0,Lo[Wo+9]=this._h[4]>>>8,Lo[Wo+10]=this._h[5]>>>0,Lo[Wo+11]=this._h[5]>>>8,Lo[Wo+12]=this._h[6]>>>0,Lo[Wo+13]=this._h[6]>>>8,Lo[Wo+14]=this._h[7]>>>0,Lo[Wo+15]=this._h[7]>>>8,this._finished=!0,this},Ao.prototype.update=function(Lo){var Wo=0,jo=Lo.length,zo;if(this._leftover){zo=16-this._leftover,zo>jo&&(zo=jo);for(var Vo=0;Vo<zo;Vo++)this._buffer[this._leftover+Vo]=Lo[Wo+Vo];if(jo-=zo,Wo+=zo,this._leftover+=zo,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(jo>=16&&(zo=jo-jo%16,this._blocks(Lo,Wo,zo),Wo+=zo,jo-=zo),jo){for(var Vo=0;Vo<jo;Vo++)this._buffer[this._leftover+Vo]=Lo[Wo+Vo];this._leftover+=jo}return this},Ao.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var Lo=new Uint8Array(16);return this.finish(Lo),Lo},Ao.prototype.clean=function(){return io.wipe(this._buffer),io.wipe(this._r),io.wipe(this._h),io.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},Ao}();Fn.Poly1305=fo;function mo(Ao,Lo){var Wo=new fo(Ao);Wo.update(Lo);var jo=Wo.digest();return Wo.clean(),jo}Fn.oneTimeAuth=mo;function $o(Ao,Lo){return Ao.length!==Fn.DIGEST_LENGTH||Lo.length!==Fn.DIGEST_LENGTH?!1:Mn.equal(Ao,Lo)}Fn.equal=$o})(poly1305);(function(Fn){Object.defineProperty(Fn,"__esModule",{value:!0});var Mn=chacha,io=poly1305,fo=wipe$1,mo=binary,$o=constantTime;Fn.KEY_LENGTH=32,Fn.NONCE_LENGTH=12,Fn.TAG_LENGTH=16;var Ao=new Uint8Array(16),Lo=function(){function Wo(jo){if(this.nonceLength=Fn.NONCE_LENGTH,this.tagLength=Fn.TAG_LENGTH,jo.length!==Fn.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(jo)}return Wo.prototype.seal=function(jo,zo,Vo,Go){if(jo.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var Jo=new Uint8Array(16);Jo.set(jo,Jo.length-jo.length);var Qo=new Uint8Array(32);Mn.stream(this._key,Jo,Qo,4);var os=zo.length+this.tagLength,Cl;if(Go){if(Go.length!==os)throw new Error("ChaCha20Poly1305: incorrect destination length");Cl=Go}else Cl=new Uint8Array(os);return Mn.streamXOR(this._key,Jo,zo,Cl,4),this._authenticate(Cl.subarray(Cl.length-this.tagLength,Cl.length),Qo,Cl.subarray(0,Cl.length-this.tagLength),Vo),fo.wipe(Jo),Cl},Wo.prototype.open=function(jo,zo,Vo,Go){if(jo.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(zo.length<this.tagLength)return null;var Jo=new Uint8Array(16);Jo.set(jo,Jo.length-jo.length);var Qo=new Uint8Array(32);Mn.stream(this._key,Jo,Qo,4);var os=new Uint8Array(this.tagLength);if(this._authenticate(os,Qo,zo.subarray(0,zo.length-this.tagLength),Vo),!$o.equal(os,zo.subarray(zo.length-this.tagLength,zo.length)))return null;var Cl=zo.length-this.tagLength,xl;if(Go){if(Go.length!==Cl)throw new Error("ChaCha20Poly1305: incorrect destination length");xl=Go}else xl=new Uint8Array(Cl);return Mn.streamXOR(this._key,Jo,zo.subarray(0,zo.length-this.tagLength),xl,4),fo.wipe(Jo),xl},Wo.prototype.clean=function(){return fo.wipe(this._key),this},Wo.prototype._authenticate=function(jo,zo,Vo,Go){var Jo=new io.Poly1305(zo);Go&&(Jo.update(Go),Go.length%16>0&&Jo.update(Ao.subarray(Go.length%16))),Jo.update(Vo),Vo.length%16>0&&Jo.update(Ao.subarray(Vo.length%16));var Qo=new Uint8Array(8);Go&&mo.writeUint64LE(Go.length,Qo),Jo.update(Qo),mo.writeUint64LE(Vo.length,Qo),Jo.update(Qo);for(var os=Jo.digest(),Cl=0;Cl<os.length;Cl++)jo[Cl]=os[Cl];Jo.clean(),fo.wipe(os),fo.wipe(Qo)},Wo}();Fn.ChaCha20Poly1305=Lo})(chacha20poly1305);var hkdf={},hmac$2={},hash$5={};Object.defineProperty(hash$5,"__esModule",{value:!0});function isSerializableHash(Fn){return typeof Fn.saveState<"u"&&typeof Fn.restoreState<"u"&&typeof Fn.cleanSavedState<"u"}hash$5.isSerializableHash=isSerializableHash;Object.defineProperty(hmac$2,"__esModule",{value:!0});var hash_1=hash$5,constant_time_1=constantTime,wipe_1$1=wipe$1,HMAC=function(){function Fn(Mn,io){this._finished=!1,this._inner=new Mn,this._outer=new Mn,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var fo=new Uint8Array(this.blockSize);io.length>this.blockSize?this._inner.update(io).finish(fo).clean():fo.set(io);for(var mo=0;mo<fo.length;mo++)fo[mo]^=54;this._inner.update(fo);for(var mo=0;mo<fo.length;mo++)fo[mo]^=106;this._outer.update(fo),hash_1.isSerializableHash(this._inner)&&hash_1.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),wipe_1$1.wipe(fo)}return Fn.prototype.reset=function(){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},Fn.prototype.clean=function(){hash_1.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),hash_1.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},Fn.prototype.update=function(Mn){return this._inner.update(Mn),this},Fn.prototype.finish=function(Mn){return this._finished?(this._outer.finish(Mn),this):(this._inner.finish(Mn),this._outer.update(Mn.subarray(0,this.digestLength)).finish(Mn),this._finished=!0,this)},Fn.prototype.digest=function(){var Mn=new Uint8Array(this.digestLength);return this.finish(Mn),Mn},Fn.prototype.saveState=function(){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},Fn.prototype.restoreState=function(Mn){if(!hash_1.isSerializableHash(this._inner)||!hash_1.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(Mn),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},Fn.prototype.cleanSavedState=function(Mn){if(!hash_1.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(Mn)},Fn}();hmac$2.HMAC=HMAC;function hmac$1(Fn,Mn,io){var fo=new HMAC(Fn,Mn);fo.update(io);var mo=fo.digest();return fo.clean(),mo}hmac$2.hmac=hmac$1;hmac$2.equal=constant_time_1.equal;Object.defineProperty(hkdf,"__esModule",{value:!0});var hmac_1=hmac$2,wipe_1=wipe$1,HKDF=function(){function Fn(Mn,io,fo,mo){fo===void 0&&(fo=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=Mn,this._info=mo;var $o=hmac_1.hmac(this._hash,fo,io);this._hmac=new hmac_1.HMAC(Mn,$o),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return Fn.prototype._fillBuffer=function(){this._counter[0]++;var Mn=this._counter[0];if(Mn===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),Mn>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},Fn.prototype.expand=function(Mn){for(var io=new Uint8Array(Mn),fo=0;fo<io.length;fo++)this._bufpos===this._buffer.length&&this._fillBuffer(),io[fo]=this._buffer[this._bufpos++];return io},Fn.prototype.clean=function(){this._hmac.clean(),wipe_1.wipe(this._buffer),wipe_1.wipe(this._counter),this._bufpos=0},Fn}(),HKDF_1=hkdf.HKDF=HKDF,sha256$7={};(function(Fn){Object.defineProperty(Fn,"__esModule",{value:!0});var Mn=binary,io=wipe$1;Fn.DIGEST_LENGTH=32,Fn.BLOCK_SIZE=64;var fo=function(){function Lo(){this.digestLength=Fn.DIGEST_LENGTH,this.blockSize=Fn.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return Lo.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},Lo.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},Lo.prototype.clean=function(){io.wipe(this._buffer),io.wipe(this._temp),this.reset()},Lo.prototype.update=function(Wo,jo){if(jo===void 0&&(jo=Wo.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var zo=0;if(this._bytesHashed+=jo,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&jo>0;)this._buffer[this._bufferLength++]=Wo[zo++],jo--;this._bufferLength===this.blockSize&&($o(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(jo>=this.blockSize&&(zo=$o(this._temp,this._state,Wo,zo,jo),jo%=this.blockSize);jo>0;)this._buffer[this._bufferLength++]=Wo[zo++],jo--;return this},Lo.prototype.finish=function(Wo){if(!this._finished){var jo=this._bytesHashed,zo=this._bufferLength,Vo=jo/536870912|0,Go=jo<<3,Jo=jo%64<56?64:128;this._buffer[zo]=128;for(var Qo=zo+1;Qo<Jo-8;Qo++)this._buffer[Qo]=0;Mn.writeUint32BE(Vo,this._buffer,Jo-8),Mn.writeUint32BE(Go,this._buffer,Jo-4),$o(this._temp,this._state,this._buffer,0,Jo),this._finished=!0}for(var Qo=0;Qo<this.digestLength/4;Qo++)Mn.writeUint32BE(this._state[Qo],Wo,Qo*4);return this},Lo.prototype.digest=function(){var Wo=new Uint8Array(this.digestLength);return this.finish(Wo),Wo},Lo.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},Lo.prototype.restoreState=function(Wo){return this._state.set(Wo.state),this._bufferLength=Wo.bufferLength,Wo.buffer&&this._buffer.set(Wo.buffer),this._bytesHashed=Wo.bytesHashed,this._finished=!1,this},Lo.prototype.cleanSavedState=function(Wo){io.wipe(Wo.state),Wo.buffer&&io.wipe(Wo.buffer),Wo.bufferLength=0,Wo.bytesHashed=0},Lo}();Fn.SHA256=fo;var mo=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function $o(Lo,Wo,jo,zo,Vo){for(;Vo>=64;){for(var Go=Wo[0],Jo=Wo[1],Qo=Wo[2],os=Wo[3],Cl=Wo[4],xl=Wo[5],ds=Wo[6],_c=Wo[7],$l=0;$l<16;$l++){var Al=zo+$l*4;Lo[$l]=Mn.readUint32BE(jo,Al)}for(var $l=16;$l<64;$l++){var Il=Lo[$l-2],us=(Il>>>17|Il<<15)^(Il>>>19|Il<<13)^Il>>>10;Il=Lo[$l-15];var ps=(Il>>>7|Il<<25)^(Il>>>18|Il<<14)^Il>>>3;Lo[$l]=(us+Lo[$l-7]|0)+(ps+Lo[$l-16]|0)}for(var $l=0;$l<64;$l++){var us=(((Cl>>>6|Cl<<26)^(Cl>>>11|Cl<<21)^(Cl>>>25|Cl<<7))+(Cl&xl^~Cl&ds)|0)+(_c+(mo[$l]+Lo[$l]|0)|0)|0,ps=((Go>>>2|Go<<30)^(Go>>>13|Go<<19)^(Go>>>22|Go<<10))+(Go&Jo^Go&Qo^Jo&Qo)|0;_c=ds,ds=xl,xl=Cl,Cl=os+us|0,os=Qo,Qo=Jo,Jo=Go,Go=us+ps|0}Wo[0]+=Go,Wo[1]+=Jo,Wo[2]+=Qo,Wo[3]+=os,Wo[4]+=Cl,Wo[5]+=xl,Wo[6]+=ds,Wo[7]+=_c,zo+=64,Vo-=64}return zo}function Ao(Lo){var Wo=new fo;Wo.update(Lo);var jo=Wo.digest();return Wo.clean(),jo}Fn.hash=Ao})(sha256$7);var x25519={};(function(Fn){Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.sharedKey=Fn.generateKeyPair=Fn.generateKeyPairFromSeed=Fn.scalarMultBase=Fn.scalarMult=Fn.SHARED_KEY_LENGTH=Fn.SECRET_KEY_LENGTH=Fn.PUBLIC_KEY_LENGTH=void 0;const Mn=random,io=wipe$1;Fn.PUBLIC_KEY_LENGTH=32,Fn.SECRET_KEY_LENGTH=32,Fn.SHARED_KEY_LENGTH=32;function fo($l){const Al=new Float64Array(16);if($l)for(let Il=0;Il<$l.length;Il++)Al[Il]=$l[Il];return Al}const mo=new Uint8Array(32);mo[0]=9;const $o=fo([56129,1]);function Ao($l){let Al=1;for(let Il=0;Il<16;Il++){let us=$l[Il]+Al+65535;Al=Math.floor(us/65536),$l[Il]=us-Al*65536}$l[0]+=Al-1+37*(Al-1)}function Lo($l,Al,Il){const us=~(Il-1);for(let ps=0;ps<16;ps++){const Rl=us&($l[ps]^Al[ps]);$l[ps]^=Rl,Al[ps]^=Rl}}function Wo($l,Al){const Il=fo(),us=fo();for(let ps=0;ps<16;ps++)us[ps]=Al[ps];Ao(us),Ao(us),Ao(us);for(let ps=0;ps<2;ps++){Il[0]=us[0]-65517;for(let Wl=1;Wl<15;Wl++)Il[Wl]=us[Wl]-65535-(Il[Wl-1]>>16&1),Il[Wl-1]&=65535;Il[15]=us[15]-32767-(Il[14]>>16&1);const Rl=Il[15]>>16&1;Il[14]&=65535,Lo(us,Il,1-Rl)}for(let ps=0;ps<16;ps++)$l[2*ps]=us[ps]&255,$l[2*ps+1]=us[ps]>>8}function jo($l,Al){for(let Il=0;Il<16;Il++)$l[Il]=Al[2*Il]+(Al[2*Il+1]<<8);$l[15]&=32767}function zo($l,Al,Il){for(let us=0;us<16;us++)$l[us]=Al[us]+Il[us]}function Vo($l,Al,Il){for(let us=0;us<16;us++)$l[us]=Al[us]-Il[us]}function Go($l,Al,Il){let us,ps,Rl=0,Wl=0,Nl=0,wl=0,Xo=0,rs=0,as=0,El=0,Pl=0,Sl=0,Tl=0,hs=0,yl=0,Fl=0,Xl=0,bu=0,Ul=0,yu=0,Vl=0,Jl=0,Ql=0,Ol=0,Zl=0,rp=0,op=0,lp=0,hp=0,xp=0,Ip=0,Ep=0,vp=0,Tp=Il[0],Ap=Il[1],wp=Il[2],Cp=Il[3],Rp=Il[4],yp=Il[5],Pp=Il[6],zl=Il[7],Dl=Il[8],Ll=Il[9],Gl=Il[10],fu=Il[11],_d=Il[12],sp=Il[13],fp=Il[14],_p=Il[15];us=Al[0],Rl+=us*Tp,Wl+=us*Ap,Nl+=us*wp,wl+=us*Cp,Xo+=us*Rp,rs+=us*yp,as+=us*Pp,El+=us*zl,Pl+=us*Dl,Sl+=us*Ll,Tl+=us*Gl,hs+=us*fu,yl+=us*_d,Fl+=us*sp,Xl+=us*fp,bu+=us*_p,us=Al[1],Wl+=us*Tp,Nl+=us*Ap,wl+=us*wp,Xo+=us*Cp,rs+=us*Rp,as+=us*yp,El+=us*Pp,Pl+=us*zl,Sl+=us*Dl,Tl+=us*Ll,hs+=us*Gl,yl+=us*fu,Fl+=us*_d,Xl+=us*sp,bu+=us*fp,Ul+=us*_p,us=Al[2],Nl+=us*Tp,wl+=us*Ap,Xo+=us*wp,rs+=us*Cp,as+=us*Rp,El+=us*yp,Pl+=us*Pp,Sl+=us*zl,Tl+=us*Dl,hs+=us*Ll,yl+=us*Gl,Fl+=us*fu,Xl+=us*_d,bu+=us*sp,Ul+=us*fp,yu+=us*_p,us=Al[3],wl+=us*Tp,Xo+=us*Ap,rs+=us*wp,as+=us*Cp,El+=us*Rp,Pl+=us*yp,Sl+=us*Pp,Tl+=us*zl,hs+=us*Dl,yl+=us*Ll,Fl+=us*Gl,Xl+=us*fu,bu+=us*_d,Ul+=us*sp,yu+=us*fp,Vl+=us*_p,us=Al[4],Xo+=us*Tp,rs+=us*Ap,as+=us*wp,El+=us*Cp,Pl+=us*Rp,Sl+=us*yp,Tl+=us*Pp,hs+=us*zl,yl+=us*Dl,Fl+=us*Ll,Xl+=us*Gl,bu+=us*fu,Ul+=us*_d,yu+=us*sp,Vl+=us*fp,Jl+=us*_p,us=Al[5],rs+=us*Tp,as+=us*Ap,El+=us*wp,Pl+=us*Cp,Sl+=us*Rp,Tl+=us*yp,hs+=us*Pp,yl+=us*zl,Fl+=us*Dl,Xl+=us*Ll,bu+=us*Gl,Ul+=us*fu,yu+=us*_d,Vl+=us*sp,Jl+=us*fp,Ql+=us*_p,us=Al[6],as+=us*Tp,El+=us*Ap,Pl+=us*wp,Sl+=us*Cp,Tl+=us*Rp,hs+=us*yp,yl+=us*Pp,Fl+=us*zl,Xl+=us*Dl,bu+=us*Ll,Ul+=us*Gl,yu+=us*fu,Vl+=us*_d,Jl+=us*sp,Ql+=us*fp,Ol+=us*_p,us=Al[7],El+=us*Tp,Pl+=us*Ap,Sl+=us*wp,Tl+=us*Cp,hs+=us*Rp,yl+=us*yp,Fl+=us*Pp,Xl+=us*zl,bu+=us*Dl,Ul+=us*Ll,yu+=us*Gl,Vl+=us*fu,Jl+=us*_d,Ql+=us*sp,Ol+=us*fp,Zl+=us*_p,us=Al[8],Pl+=us*Tp,Sl+=us*Ap,Tl+=us*wp,hs+=us*Cp,yl+=us*Rp,Fl+=us*yp,Xl+=us*Pp,bu+=us*zl,Ul+=us*Dl,yu+=us*Ll,Vl+=us*Gl,Jl+=us*fu,Ql+=us*_d,Ol+=us*sp,Zl+=us*fp,rp+=us*_p,us=Al[9],Sl+=us*Tp,Tl+=us*Ap,hs+=us*wp,yl+=us*Cp,Fl+=us*Rp,Xl+=us*yp,bu+=us*Pp,Ul+=us*zl,yu+=us*Dl,Vl+=us*Ll,Jl+=us*Gl,Ql+=us*fu,Ol+=us*_d,Zl+=us*sp,rp+=us*fp,op+=us*_p,us=Al[10],Tl+=us*Tp,hs+=us*Ap,yl+=us*wp,Fl+=us*Cp,Xl+=us*Rp,bu+=us*yp,Ul+=us*Pp,yu+=us*zl,Vl+=us*Dl,Jl+=us*Ll,Ql+=us*Gl,Ol+=us*fu,Zl+=us*_d,rp+=us*sp,op+=us*fp,lp+=us*_p,us=Al[11],hs+=us*Tp,yl+=us*Ap,Fl+=us*wp,Xl+=us*Cp,bu+=us*Rp,Ul+=us*yp,yu+=us*Pp,Vl+=us*zl,Jl+=us*Dl,Ql+=us*Ll,Ol+=us*Gl,Zl+=us*fu,rp+=us*_d,op+=us*sp,lp+=us*fp,hp+=us*_p,us=Al[12],yl+=us*Tp,Fl+=us*Ap,Xl+=us*wp,bu+=us*Cp,Ul+=us*Rp,yu+=us*yp,Vl+=us*Pp,Jl+=us*zl,Ql+=us*Dl,Ol+=us*Ll,Zl+=us*Gl,rp+=us*fu,op+=us*_d,lp+=us*sp,hp+=us*fp,xp+=us*_p,us=Al[13],Fl+=us*Tp,Xl+=us*Ap,bu+=us*wp,Ul+=us*Cp,yu+=us*Rp,Vl+=us*yp,Jl+=us*Pp,Ql+=us*zl,Ol+=us*Dl,Zl+=us*Ll,rp+=us*Gl,op+=us*fu,lp+=us*_d,hp+=us*sp,xp+=us*fp,Ip+=us*_p,us=Al[14],Xl+=us*Tp,bu+=us*Ap,Ul+=us*wp,yu+=us*Cp,Vl+=us*Rp,Jl+=us*yp,Ql+=us*Pp,Ol+=us*zl,Zl+=us*Dl,rp+=us*Ll,op+=us*Gl,lp+=us*fu,hp+=us*_d,xp+=us*sp,Ip+=us*fp,Ep+=us*_p,us=Al[15],bu+=us*Tp,Ul+=us*Ap,yu+=us*wp,Vl+=us*Cp,Jl+=us*Rp,Ql+=us*yp,Ol+=us*Pp,Zl+=us*zl,rp+=us*Dl,op+=us*Ll,lp+=us*Gl,hp+=us*fu,xp+=us*_d,Ip+=us*sp,Ep+=us*fp,vp+=us*_p,Rl+=38*Ul,Wl+=38*yu,Nl+=38*Vl,wl+=38*Jl,Xo+=38*Ql,rs+=38*Ol,as+=38*Zl,El+=38*rp,Pl+=38*op,Sl+=38*lp,Tl+=38*hp,hs+=38*xp,yl+=38*Ip,Fl+=38*Ep,Xl+=38*vp,ps=1,us=Rl+ps+65535,ps=Math.floor(us/65536),Rl=us-ps*65536,us=Wl+ps+65535,ps=Math.floor(us/65536),Wl=us-ps*65536,us=Nl+ps+65535,ps=Math.floor(us/65536),Nl=us-ps*65536,us=wl+ps+65535,ps=Math.floor(us/65536),wl=us-ps*65536,us=Xo+ps+65535,ps=Math.floor(us/65536),Xo=us-ps*65536,us=rs+ps+65535,ps=Math.floor(us/65536),rs=us-ps*65536,us=as+ps+65535,ps=Math.floor(us/65536),as=us-ps*65536,us=El+ps+65535,ps=Math.floor(us/65536),El=us-ps*65536,us=Pl+ps+65535,ps=Math.floor(us/65536),Pl=us-ps*65536,us=Sl+ps+65535,ps=Math.floor(us/65536),Sl=us-ps*65536,us=Tl+ps+65535,ps=Math.floor(us/65536),Tl=us-ps*65536,us=hs+ps+65535,ps=Math.floor(us/65536),hs=us-ps*65536,us=yl+ps+65535,ps=Math.floor(us/65536),yl=us-ps*65536,us=Fl+ps+65535,ps=Math.floor(us/65536),Fl=us-ps*65536,us=Xl+ps+65535,ps=Math.floor(us/65536),Xl=us-ps*65536,us=bu+ps+65535,ps=Math.floor(us/65536),bu=us-ps*65536,Rl+=ps-1+37*(ps-1),ps=1,us=Rl+ps+65535,ps=Math.floor(us/65536),Rl=us-ps*65536,us=Wl+ps+65535,ps=Math.floor(us/65536),Wl=us-ps*65536,us=Nl+ps+65535,ps=Math.floor(us/65536),Nl=us-ps*65536,us=wl+ps+65535,ps=Math.floor(us/65536),wl=us-ps*65536,us=Xo+ps+65535,ps=Math.floor(us/65536),Xo=us-ps*65536,us=rs+ps+65535,ps=Math.floor(us/65536),rs=us-ps*65536,us=as+ps+65535,ps=Math.floor(us/65536),as=us-ps*65536,us=El+ps+65535,ps=Math.floor(us/65536),El=us-ps*65536,us=Pl+ps+65535,ps=Math.floor(us/65536),Pl=us-ps*65536,us=Sl+ps+65535,ps=Math.floor(us/65536),Sl=us-ps*65536,us=Tl+ps+65535,ps=Math.floor(us/65536),Tl=us-ps*65536,us=hs+ps+65535,ps=Math.floor(us/65536),hs=us-ps*65536,us=yl+ps+65535,ps=Math.floor(us/65536),yl=us-ps*65536,us=Fl+ps+65535,ps=Math.floor(us/65536),Fl=us-ps*65536,us=Xl+ps+65535,ps=Math.floor(us/65536),Xl=us-ps*65536,us=bu+ps+65535,ps=Math.floor(us/65536),bu=us-ps*65536,Rl+=ps-1+37*(ps-1),$l[0]=Rl,$l[1]=Wl,$l[2]=Nl,$l[3]=wl,$l[4]=Xo,$l[5]=rs,$l[6]=as,$l[7]=El,$l[8]=Pl,$l[9]=Sl,$l[10]=Tl,$l[11]=hs,$l[12]=yl,$l[13]=Fl,$l[14]=Xl,$l[15]=bu}function Jo($l,Al){Go($l,Al,Al)}function Qo($l,Al){const Il=fo();for(let us=0;us<16;us++)Il[us]=Al[us];for(let us=253;us>=0;us--)Jo(Il,Il),us!==2&&us!==4&&Go(Il,Il,Al);for(let us=0;us<16;us++)$l[us]=Il[us]}function os($l,Al){const Il=new Uint8Array(32),us=new Float64Array(80),ps=fo(),Rl=fo(),Wl=fo(),Nl=fo(),wl=fo(),Xo=fo();for(let Pl=0;Pl<31;Pl++)Il[Pl]=$l[Pl];Il[31]=$l[31]&127|64,Il[0]&=248,jo(us,Al);for(let Pl=0;Pl<16;Pl++)Rl[Pl]=us[Pl];ps[0]=Nl[0]=1;for(let Pl=254;Pl>=0;--Pl){const Sl=Il[Pl>>>3]>>>(Pl&7)&1;Lo(ps,Rl,Sl),Lo(Wl,Nl,Sl),zo(wl,ps,Wl),Vo(ps,ps,Wl),zo(Wl,Rl,Nl),Vo(Rl,Rl,Nl),Jo(Nl,wl),Jo(Xo,ps),Go(ps,Wl,ps),Go(Wl,Rl,wl),zo(wl,ps,Wl),Vo(ps,ps,Wl),Jo(Rl,ps),Vo(Wl,Nl,Xo),Go(ps,Wl,$o),zo(ps,ps,Nl),Go(Wl,Wl,ps),Go(ps,Nl,Xo),Go(Nl,Rl,us),Jo(Rl,wl),Lo(ps,Rl,Sl),Lo(Wl,Nl,Sl)}for(let Pl=0;Pl<16;Pl++)us[Pl+16]=ps[Pl],us[Pl+32]=Wl[Pl],us[Pl+48]=Rl[Pl],us[Pl+64]=Nl[Pl];const rs=us.subarray(32),as=us.subarray(16);Qo(rs,rs),Go(as,as,rs);const El=new Uint8Array(32);return Wo(El,as),El}Fn.scalarMult=os;function Cl($l){return os($l,mo)}Fn.scalarMultBase=Cl;function xl($l){if($l.length!==Fn.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${Fn.SECRET_KEY_LENGTH} bytes`);const Al=new Uint8Array($l);return{publicKey:Cl(Al),secretKey:Al}}Fn.generateKeyPairFromSeed=xl;function ds($l){const Al=(0,Mn.randomBytes)(32,$l),Il=xl(Al);return(0,io.wipe)(Al),Il}Fn.generateKeyPair=ds;function _c($l,Al,Il=!1){if($l.length!==Fn.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(Al.length!==Fn.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const us=os($l,Al);if(Il){let ps=0;for(let Rl=0;Rl<us.length;Rl++)ps|=us[Rl];if(ps===0)throw new Error("X25519: invalid shared key")}return us}Fn.sharedKey=_c})(x25519);var elliptic={};const name$b="elliptic",version$5="6.6.1",description="EC cryptography",main$1="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$1={name:name$b,version:version$5,description,main:main$1,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies};var utils$q={},bn$1={exports:{}};bn$1.exports;(function(Fn){(function(Mn,io){function fo(Nl,wl){if(!Nl)throw new Error(wl||"Assertion failed")}function mo(Nl,wl){Nl.super_=wl;var Xo=function(){};Xo.prototype=wl.prototype,Nl.prototype=new Xo,Nl.prototype.constructor=Nl}function $o(Nl,wl,Xo){if($o.isBN(Nl))return Nl;this.negative=0,this.words=null,this.length=0,this.red=null,Nl!==null&&((wl==="le"||wl==="be")&&(Xo=wl,wl=10),this._init(Nl||0,wl||10,Xo||"be"))}typeof Mn=="object"?Mn.exports=$o:io.BN=$o,$o.BN=$o,$o.wordSize=26;var Ao;try{typeof window<"u"&&typeof window.Buffer<"u"?Ao=window.Buffer:Ao=require$$3.Buffer}catch{}$o.isBN=function(wl){return wl instanceof $o?!0:wl!==null&&typeof wl=="object"&&wl.constructor.wordSize===$o.wordSize&&Array.isArray(wl.words)},$o.max=function(wl,Xo){return wl.cmp(Xo)>0?wl:Xo},$o.min=function(wl,Xo){return wl.cmp(Xo)<0?wl:Xo},$o.prototype._init=function(wl,Xo,rs){if(typeof wl=="number")return this._initNumber(wl,Xo,rs);if(typeof wl=="object")return this._initArray(wl,Xo,rs);Xo==="hex"&&(Xo=16),fo(Xo===(Xo|0)&&Xo>=2&&Xo<=36),wl=wl.toString().replace(/\s+/g,"");var as=0;wl[0]==="-"&&(as++,this.negative=1),as<wl.length&&(Xo===16?this._parseHex(wl,as,rs):(this._parseBase(wl,Xo,as),rs==="le"&&this._initArray(this.toArray(),Xo,rs)))},$o.prototype._initNumber=function(wl,Xo,rs){wl<0&&(this.negative=1,wl=-wl),wl<67108864?(this.words=[wl&67108863],this.length=1):wl<4503599627370496?(this.words=[wl&67108863,wl/67108864&67108863],this.length=2):(fo(wl<9007199254740992),this.words=[wl&67108863,wl/67108864&67108863,1],this.length=3),rs==="le"&&this._initArray(this.toArray(),Xo,rs)},$o.prototype._initArray=function(wl,Xo,rs){if(fo(typeof wl.length=="number"),wl.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(wl.length/3),this.words=new Array(this.length);for(var as=0;as<this.length;as++)this.words[as]=0;var El,Pl,Sl=0;if(rs==="be")for(as=wl.length-1,El=0;as>=0;as-=3)Pl=wl[as]|wl[as-1]<<8|wl[as-2]<<16,this.words[El]|=Pl<<Sl&67108863,this.words[El+1]=Pl>>>26-Sl&67108863,Sl+=24,Sl>=26&&(Sl-=26,El++);else if(rs==="le")for(as=0,El=0;as<wl.length;as+=3)Pl=wl[as]|wl[as+1]<<8|wl[as+2]<<16,this.words[El]|=Pl<<Sl&67108863,this.words[El+1]=Pl>>>26-Sl&67108863,Sl+=24,Sl>=26&&(Sl-=26,El++);return this.strip()};function Lo(Nl,wl){var Xo=Nl.charCodeAt(wl);return Xo>=65&&Xo<=70?Xo-55:Xo>=97&&Xo<=102?Xo-87:Xo-48&15}function Wo(Nl,wl,Xo){var rs=Lo(Nl,Xo);return Xo-1>=wl&&(rs|=Lo(Nl,Xo-1)<<4),rs}$o.prototype._parseHex=function(wl,Xo,rs){this.length=Math.ceil((wl.length-Xo)/6),this.words=new Array(this.length);for(var as=0;as<this.length;as++)this.words[as]=0;var El=0,Pl=0,Sl;if(rs==="be")for(as=wl.length-1;as>=Xo;as-=2)Sl=Wo(wl,Xo,as)<<El,this.words[Pl]|=Sl&67108863,El>=18?(El-=18,Pl+=1,this.words[Pl]|=Sl>>>26):El+=8;else{var Tl=wl.length-Xo;for(as=Tl%2===0?Xo+1:Xo;as<wl.length;as+=2)Sl=Wo(wl,Xo,as)<<El,this.words[Pl]|=Sl&67108863,El>=18?(El-=18,Pl+=1,this.words[Pl]|=Sl>>>26):El+=8}this.strip()};function jo(Nl,wl,Xo,rs){for(var as=0,El=Math.min(Nl.length,Xo),Pl=wl;Pl<El;Pl++){var Sl=Nl.charCodeAt(Pl)-48;as*=rs,Sl>=49?as+=Sl-49+10:Sl>=17?as+=Sl-17+10:as+=Sl}return as}$o.prototype._parseBase=function(wl,Xo,rs){this.words=[0],this.length=1;for(var as=0,El=1;El<=67108863;El*=Xo)as++;as--,El=El/Xo|0;for(var Pl=wl.length-rs,Sl=Pl%as,Tl=Math.min(Pl,Pl-Sl)+rs,hs=0,yl=rs;yl<Tl;yl+=as)hs=jo(wl,yl,yl+as,Xo),this.imuln(El),this.words[0]+hs<67108864?this.words[0]+=hs:this._iaddn(hs);if(Sl!==0){var Fl=1;for(hs=jo(wl,yl,wl.length,Xo),yl=0;yl<Sl;yl++)Fl*=Xo;this.imuln(Fl),this.words[0]+hs<67108864?this.words[0]+=hs:this._iaddn(hs)}this.strip()},$o.prototype.copy=function(wl){wl.words=new Array(this.length);for(var Xo=0;Xo<this.length;Xo++)wl.words[Xo]=this.words[Xo];wl.length=this.length,wl.negative=this.negative,wl.red=this.red},$o.prototype.clone=function(){var wl=new $o(null);return this.copy(wl),wl},$o.prototype._expand=function(wl){for(;this.length<wl;)this.words[this.length++]=0;return this},$o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},$o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},$o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var zo=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Vo=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Go=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];$o.prototype.toString=function(wl,Xo){wl=wl||10,Xo=Xo|0||1;var rs;if(wl===16||wl==="hex"){rs="";for(var as=0,El=0,Pl=0;Pl<this.length;Pl++){var Sl=this.words[Pl],Tl=((Sl<<as|El)&16777215).toString(16);El=Sl>>>24-as&16777215,as+=2,as>=26&&(as-=26,Pl--),El!==0||Pl!==this.length-1?rs=zo[6-Tl.length]+Tl+rs:rs=Tl+rs}for(El!==0&&(rs=El.toString(16)+rs);rs.length%Xo!==0;)rs="0"+rs;return this.negative!==0&&(rs="-"+rs),rs}if(wl===(wl|0)&&wl>=2&&wl<=36){var hs=Vo[wl],yl=Go[wl];rs="";var Fl=this.clone();for(Fl.negative=0;!Fl.isZero();){var Xl=Fl.modn(yl).toString(wl);Fl=Fl.idivn(yl),Fl.isZero()?rs=Xl+rs:rs=zo[hs-Xl.length]+Xl+rs}for(this.isZero()&&(rs="0"+rs);rs.length%Xo!==0;)rs="0"+rs;return this.negative!==0&&(rs="-"+rs),rs}fo(!1,"Base should be between 2 and 36")},$o.prototype.toNumber=function(){var wl=this.words[0];return this.length===2?wl+=this.words[1]*67108864:this.length===3&&this.words[2]===1?wl+=4503599627370496+this.words[1]*67108864:this.length>2&&fo(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-wl:wl},$o.prototype.toJSON=function(){return this.toString(16)},$o.prototype.toBuffer=function(wl,Xo){return fo(typeof Ao<"u"),this.toArrayLike(Ao,wl,Xo)},$o.prototype.toArray=function(wl,Xo){return this.toArrayLike(Array,wl,Xo)},$o.prototype.toArrayLike=function(wl,Xo,rs){var as=this.byteLength(),El=rs||Math.max(1,as);fo(as<=El,"byte array longer than desired length"),fo(El>0,"Requested array length <= 0"),this.strip();var Pl=Xo==="le",Sl=new wl(El),Tl,hs,yl=this.clone();if(Pl){for(hs=0;!yl.isZero();hs++)Tl=yl.andln(255),yl.iushrn(8),Sl[hs]=Tl;for(;hs<El;hs++)Sl[hs]=0}else{for(hs=0;hs<El-as;hs++)Sl[hs]=0;for(hs=0;!yl.isZero();hs++)Tl=yl.andln(255),yl.iushrn(8),Sl[El-hs-1]=Tl}return Sl},Math.clz32?$o.prototype._countBits=function(wl){return 32-Math.clz32(wl)}:$o.prototype._countBits=function(wl){var Xo=wl,rs=0;return Xo>=4096&&(rs+=13,Xo>>>=13),Xo>=64&&(rs+=7,Xo>>>=7),Xo>=8&&(rs+=4,Xo>>>=4),Xo>=2&&(rs+=2,Xo>>>=2),rs+Xo},$o.prototype._zeroBits=function(wl){if(wl===0)return 26;var Xo=wl,rs=0;return Xo&8191||(rs+=13,Xo>>>=13),Xo&127||(rs+=7,Xo>>>=7),Xo&15||(rs+=4,Xo>>>=4),Xo&3||(rs+=2,Xo>>>=2),Xo&1||rs++,rs},$o.prototype.bitLength=function(){var wl=this.words[this.length-1],Xo=this._countBits(wl);return(this.length-1)*26+Xo};function Jo(Nl){for(var wl=new Array(Nl.bitLength()),Xo=0;Xo<wl.length;Xo++){var rs=Xo/26|0,as=Xo%26;wl[Xo]=(Nl.words[rs]&1<<as)>>>as}return wl}$o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var wl=0,Xo=0;Xo<this.length;Xo++){var rs=this._zeroBits(this.words[Xo]);if(wl+=rs,rs!==26)break}return wl},$o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},$o.prototype.toTwos=function(wl){return this.negative!==0?this.abs().inotn(wl).iaddn(1):this.clone()},$o.prototype.fromTwos=function(wl){return this.testn(wl-1)?this.notn(wl).iaddn(1).ineg():this.clone()},$o.prototype.isNeg=function(){return this.negative!==0},$o.prototype.neg=function(){return this.clone().ineg()},$o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},$o.prototype.iuor=function(wl){for(;this.length<wl.length;)this.words[this.length++]=0;for(var Xo=0;Xo<wl.length;Xo++)this.words[Xo]=this.words[Xo]|wl.words[Xo];return this.strip()},$o.prototype.ior=function(wl){return fo((this.negative|wl.negative)===0),this.iuor(wl)},$o.prototype.or=function(wl){return this.length>wl.length?this.clone().ior(wl):wl.clone().ior(this)},$o.prototype.uor=function(wl){return this.length>wl.length?this.clone().iuor(wl):wl.clone().iuor(this)},$o.prototype.iuand=function(wl){var Xo;this.length>wl.length?Xo=wl:Xo=this;for(var rs=0;rs<Xo.length;rs++)this.words[rs]=this.words[rs]&wl.words[rs];return this.length=Xo.length,this.strip()},$o.prototype.iand=function(wl){return fo((this.negative|wl.negative)===0),this.iuand(wl)},$o.prototype.and=function(wl){return this.length>wl.length?this.clone().iand(wl):wl.clone().iand(this)},$o.prototype.uand=function(wl){return this.length>wl.length?this.clone().iuand(wl):wl.clone().iuand(this)},$o.prototype.iuxor=function(wl){var Xo,rs;this.length>wl.length?(Xo=this,rs=wl):(Xo=wl,rs=this);for(var as=0;as<rs.length;as++)this.words[as]=Xo.words[as]^rs.words[as];if(this!==Xo)for(;as<Xo.length;as++)this.words[as]=Xo.words[as];return this.length=Xo.length,this.strip()},$o.prototype.ixor=function(wl){return fo((this.negative|wl.negative)===0),this.iuxor(wl)},$o.prototype.xor=function(wl){return this.length>wl.length?this.clone().ixor(wl):wl.clone().ixor(this)},$o.prototype.uxor=function(wl){return this.length>wl.length?this.clone().iuxor(wl):wl.clone().iuxor(this)},$o.prototype.inotn=function(wl){fo(typeof wl=="number"&&wl>=0);var Xo=Math.ceil(wl/26)|0,rs=wl%26;this._expand(Xo),rs>0&&Xo--;for(var as=0;as<Xo;as++)this.words[as]=~this.words[as]&67108863;return rs>0&&(this.words[as]=~this.words[as]&67108863>>26-rs),this.strip()},$o.prototype.notn=function(wl){return this.clone().inotn(wl)},$o.prototype.setn=function(wl,Xo){fo(typeof wl=="number"&&wl>=0);var rs=wl/26|0,as=wl%26;return this._expand(rs+1),Xo?this.words[rs]=this.words[rs]|1<<as:this.words[rs]=this.words[rs]&~(1<<as),this.strip()},$o.prototype.iadd=function(wl){var Xo;if(this.negative!==0&&wl.negative===0)return this.negative=0,Xo=this.isub(wl),this.negative^=1,this._normSign();if(this.negative===0&&wl.negative!==0)return wl.negative=0,Xo=this.isub(wl),wl.negative=1,Xo._normSign();var rs,as;this.length>wl.length?(rs=this,as=wl):(rs=wl,as=this);for(var El=0,Pl=0;Pl<as.length;Pl++)Xo=(rs.words[Pl]|0)+(as.words[Pl]|0)+El,this.words[Pl]=Xo&67108863,El=Xo>>>26;for(;El!==0&&Pl<rs.length;Pl++)Xo=(rs.words[Pl]|0)+El,this.words[Pl]=Xo&67108863,El=Xo>>>26;if(this.length=rs.length,El!==0)this.words[this.length]=El,this.length++;else if(rs!==this)for(;Pl<rs.length;Pl++)this.words[Pl]=rs.words[Pl];return this},$o.prototype.add=function(wl){var Xo;return wl.negative!==0&&this.negative===0?(wl.negative=0,Xo=this.sub(wl),wl.negative^=1,Xo):wl.negative===0&&this.negative!==0?(this.negative=0,Xo=wl.sub(this),this.negative=1,Xo):this.length>wl.length?this.clone().iadd(wl):wl.clone().iadd(this)},$o.prototype.isub=function(wl){if(wl.negative!==0){wl.negative=0;var Xo=this.iadd(wl);return wl.negative=1,Xo._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(wl),this.negative=1,this._normSign();var rs=this.cmp(wl);if(rs===0)return this.negative=0,this.length=1,this.words[0]=0,this;var as,El;rs>0?(as=this,El=wl):(as=wl,El=this);for(var Pl=0,Sl=0;Sl<El.length;Sl++)Xo=(as.words[Sl]|0)-(El.words[Sl]|0)+Pl,Pl=Xo>>26,this.words[Sl]=Xo&67108863;for(;Pl!==0&&Sl<as.length;Sl++)Xo=(as.words[Sl]|0)+Pl,Pl=Xo>>26,this.words[Sl]=Xo&67108863;if(Pl===0&&Sl<as.length&&as!==this)for(;Sl<as.length;Sl++)this.words[Sl]=as.words[Sl];return this.length=Math.max(this.length,Sl),as!==this&&(this.negative=1),this.strip()},$o.prototype.sub=function(wl){return this.clone().isub(wl)};function Qo(Nl,wl,Xo){Xo.negative=wl.negative^Nl.negative;var rs=Nl.length+wl.length|0;Xo.length=rs,rs=rs-1|0;var as=Nl.words[0]|0,El=wl.words[0]|0,Pl=as*El,Sl=Pl&67108863,Tl=Pl/67108864|0;Xo.words[0]=Sl;for(var hs=1;hs<rs;hs++){for(var yl=Tl>>>26,Fl=Tl&67108863,Xl=Math.min(hs,wl.length-1),bu=Math.max(0,hs-Nl.length+1);bu<=Xl;bu++){var Ul=hs-bu|0;as=Nl.words[Ul]|0,El=wl.words[bu]|0,Pl=as*El+Fl,yl+=Pl/67108864|0,Fl=Pl&67108863}Xo.words[hs]=Fl|0,Tl=yl|0}return Tl!==0?Xo.words[hs]=Tl|0:Xo.length--,Xo.strip()}var os=function(wl,Xo,rs){var as=wl.words,El=Xo.words,Pl=rs.words,Sl=0,Tl,hs,yl,Fl=as[0]|0,Xl=Fl&8191,bu=Fl>>>13,Ul=as[1]|0,yu=Ul&8191,Vl=Ul>>>13,Jl=as[2]|0,Ql=Jl&8191,Ol=Jl>>>13,Zl=as[3]|0,rp=Zl&8191,op=Zl>>>13,lp=as[4]|0,hp=lp&8191,xp=lp>>>13,Ip=as[5]|0,Ep=Ip&8191,vp=Ip>>>13,Tp=as[6]|0,Ap=Tp&8191,wp=Tp>>>13,Cp=as[7]|0,Rp=Cp&8191,yp=Cp>>>13,Pp=as[8]|0,zl=Pp&8191,Dl=Pp>>>13,Ll=as[9]|0,Gl=Ll&8191,fu=Ll>>>13,_d=El[0]|0,sp=_d&8191,fp=_d>>>13,_p=El[1]|0,Mp=_p&8191,Sp=_p>>>13,Bp=El[2]|0,Jp=Bp&8191,Kp=Bp>>>13,kp=El[3]|0,Hp=kp&8191,$p=kp>>>13,Vp=El[4]|0,qp=Vp&8191,Dp=Vp>>>13,Yp=El[5]|0,Xp=Yp&8191,Wp=Yp>>>13,o1=El[6]|0,h0=o1&8191,Fp=o1>>>13,g0=El[7]|0,t1=g0&8191,Lp=g0>>>13,Qp=El[8]|0,s1=Qp&8191,jp=Qp>>>13,b1=El[9]|0,v1=b1&8191,r1=b1>>>13;rs.negative=wl.negative^Xo.negative,rs.length=19,Tl=Math.imul(Xl,sp),hs=Math.imul(Xl,fp),hs=hs+Math.imul(bu,sp)|0,yl=Math.imul(bu,fp);var d1=(Sl+Tl|0)+((hs&8191)<<13)|0;Sl=(yl+(hs>>>13)|0)+(d1>>>26)|0,d1&=67108863,Tl=Math.imul(yu,sp),hs=Math.imul(yu,fp),hs=hs+Math.imul(Vl,sp)|0,yl=Math.imul(Vl,fp),Tl=Tl+Math.imul(Xl,Mp)|0,hs=hs+Math.imul(Xl,Sp)|0,hs=hs+Math.imul(bu,Mp)|0,yl=yl+Math.imul(bu,Sp)|0;var tm=(Sl+Tl|0)+((hs&8191)<<13)|0;Sl=(yl+(hs>>>13)|0)+(tm>>>26)|0,tm&=67108863,Tl=Math.imul(Ql,sp),hs=Math.imul(Ql,fp),hs=hs+Math.imul(Ol,sp)|0,yl=Math.imul(Ol,fp),Tl=Tl+Math.imul(yu,Mp)|0,hs=hs+Math.imul(yu,Sp)|0,hs=hs+Math.imul(Vl,Mp)|0,yl=yl+Math.imul(Vl,Sp)|0,Tl=Tl+Math.imul(Xl,Jp)|0,hs=hs+Math.imul(Xl,Kp)|0,hs=hs+Math.imul(bu,Jp)|0,yl=yl+Math.imul(bu,Kp)|0;var rm=(Sl+Tl|0)+((hs&8191)<<13)|0;Sl=(yl+(hs>>>13)|0)+(rm>>>26)|0,rm&=67108863,Tl=Math.imul(rp,sp),hs=Math.imul(rp,fp),hs=hs+Math.imul(op,sp)|0,yl=Math.imul(op,fp),Tl=Tl+Math.imul(Ql,Mp)|0,hs=hs+Math.imul(Ql,Sp)|0,hs=hs+Math.imul(Ol,Mp)|0,yl=yl+Math.imul(Ol,Sp)|0,Tl=Tl+Math.imul(yu,Jp)|0,hs=hs+Math.imul(yu,Kp)|0,hs=hs+Math.imul(Vl,Jp)|0,yl=yl+Math.imul(Vl,Kp)|0,Tl=Tl+Math.imul(Xl,Hp)|0,hs=hs+Math.imul(Xl,$p)|0,hs=hs+Math.imul(bu,Hp)|0,yl=yl+Math.imul(bu,$p)|0;var nm=(Sl+Tl|0)+((hs&8191)<<13)|0;Sl=(yl+(hs>>>13)|0)+(nm>>>26)|0,nm&=67108863,Tl=Math.imul(hp,sp),hs=Math.imul(hp,fp),hs=hs+Math.imul(xp,sp)|0,yl=Math.imul(xp,fp),Tl=Tl+Math.imul(rp,Mp)|0,hs=hs+Math.imul(rp,Sp)|0,hs=hs+Math.imul(op,Mp)|0,yl=yl+Math.imul(op,Sp)|0,Tl=Tl+Math.imul(Ql,Jp)|0,hs=hs+Math.imul(Ql,Kp)|0,hs=hs+Math.imul(Ol,Jp)|0,yl=yl+Math.imul(Ol,Kp)|0,Tl=Tl+Math.imul(yu,Hp)|0,hs=hs+Math.imul(yu,$p)|0,hs=hs+Math.imul(Vl,Hp)|0,yl=yl+Math.imul(Vl,$p)|0,Tl=Tl+Math.imul(Xl,qp)|0,hs=hs+Math.imul(Xl,Dp)|0,hs=hs+Math.imul(bu,qp)|0,yl=yl+Math.imul(bu,Dp)|0;var im=(Sl+Tl|0)+((hs&8191)<<13)|0;Sl=(yl+(hs>>>13)|0)+(im>>>26)|0,im&=67108863,Tl=Math.imul(Ep,sp),hs=Math.imul(Ep,fp),hs=hs+Math.imul(vp,sp)|0,yl=Math.imul(vp,fp),Tl=Tl+Math.imul(hp,Mp)|0,hs=hs+Math.imul(hp,Sp)|0,hs=hs+Math.imul(xp,Mp)|0,yl=yl+Math.imul(xp,Sp)|0,Tl=Tl+Math.imul(rp,Jp)|0,hs=hs+Math.imul(rp,Kp)|0,hs=hs+Math.imul(op,Jp)|0,yl=yl+Math.imul(op,Kp)|0,Tl=Tl+Math.imul(Ql,Hp)|0,hs=hs+Math.imul(Ql,$p)|0,hs=hs+Math.imul(Ol,Hp)|0,yl=yl+Math.imul(Ol,$p)|0,Tl=Tl+Math.imul(yu,qp)|0,hs=hs+Math.imul(yu,Dp)|0,hs=hs+Math.imul(Vl,qp)|0,yl=yl+Math.imul(Vl,Dp)|0,Tl=Tl+Math.imul(Xl,Xp)|0,hs=hs+Math.imul(Xl,Wp)|0,hs=hs+Math.imul(bu,Xp)|0,yl=yl+Math.imul(bu,Wp)|0;var om=(Sl+Tl|0)+((hs&8191)<<13)|0;Sl=(yl+(hs>>>13)|0)+(om>>>26)|0,om&=67108863,Tl=Math.imul(Ap,sp),hs=Math.imul(Ap,fp),hs=hs+Math.imul(wp,sp)|0,yl=Math.imul(wp,fp),Tl=Tl+Math.imul(Ep,Mp)|0,hs=hs+Math.imul(Ep,Sp)|0,hs=hs+Math.imul(vp,Mp)|0,yl=yl+Math.imul(vp,Sp)|0,Tl=Tl+Math.imul(hp,Jp)|0,hs=hs+Math.imul(hp,Kp)|0,hs=hs+Math.imul(xp,Jp)|0,yl=yl+Math.imul(xp,Kp)|0,Tl=Tl+Math.imul(rp,Hp)|0,hs=hs+Math.imul(rp,$p)|0,hs=hs+Math.imul(op,Hp)|0,yl=yl+Math.imul(op,$p)|0,Tl=Tl+Math.imul(Ql,qp)|0,hs=hs+Math.imul(Ql,Dp)|0,hs=hs+Math.imul(Ol,qp)|0,yl=yl+Math.imul(Ol,Dp)|0,Tl=Tl+Math.imul(yu,Xp)|0,hs=hs+Math.imul(yu,Wp)|0,hs=hs+Math.imul(Vl,Xp)|0,yl=yl+Math.imul(Vl,Wp)|0,Tl=Tl+Math.imul(Xl,h0)|0,hs=hs+Math.imul(Xl,Fp)|0,hs=hs+Math.imul(bu,h0)|0,yl=yl+Math.imul(bu,Fp)|0;var U1=(Sl+Tl|0)+((hs&8191)<<13)|0;Sl=(yl+(hs>>>13)|0)+(U1>>>26)|0,U1&=67108863,Tl=Math.imul(Rp,sp),hs=Math.imul(Rp,fp),hs=hs+Math.imul(yp,sp)|0,yl=Math.imul(yp,fp),Tl=Tl+Math.imul(Ap,Mp)|0,hs=hs+Math.imul(Ap,Sp)|0,hs=hs+Math.imul(wp,Mp)|0,yl=yl+Math.imul(wp,Sp)|0,Tl=Tl+Math.imul(Ep,Jp)|0,hs=hs+Math.imul(Ep,Kp)|0,hs=hs+Math.imul(vp,Jp)|0,yl=yl+Math.imul(vp,Kp)|0,Tl=Tl+Math.imul(hp,Hp)|0,hs=hs+Math.imul(hp,$p)|0,hs=hs+Math.imul(xp,Hp)|0,yl=yl+Math.imul(xp,$p)|0,Tl=Tl+Math.imul(rp,qp)|0,hs=hs+Math.imul(rp,Dp)|0,hs=hs+Math.imul(op,qp)|0,yl=yl+Math.imul(op,Dp)|0,Tl=Tl+Math.imul(Ql,Xp)|0,hs=hs+Math.imul(Ql,Wp)|0,hs=hs+Math.imul(Ol,Xp)|0,yl=yl+Math.imul(Ol,Wp)|0,Tl=Tl+Math.imul(yu,h0)|0,hs=hs+Math.imul(yu,Fp)|0,hs=hs+Math.imul(Vl,h0)|0,yl=yl+Math.imul(Vl,Fp)|0,Tl=Tl+Math.imul(Xl,t1)|0,hs=hs+Math.imul(Xl,Lp)|0,hs=hs+Math.imul(bu,t1)|0,yl=yl+Math.imul(bu,Lp)|0;var Em=(Sl+Tl|0)+((hs&8191)<<13)|0;Sl=(yl+(hs>>>13)|0)+(Em>>>26)|0,Em&=67108863,Tl=Math.imul(zl,sp),hs=Math.imul(zl,fp),hs=hs+Math.imul(Dl,sp)|0,yl=Math.imul(Dl,fp),Tl=Tl+Math.imul(Rp,Mp)|0,hs=hs+Math.imul(Rp,Sp)|0,hs=hs+Math.imul(yp,Mp)|0,yl=yl+Math.imul(yp,Sp)|0,Tl=Tl+Math.imul(Ap,Jp)|0,hs=hs+Math.imul(Ap,Kp)|0,hs=hs+Math.imul(wp,Jp)|0,yl=yl+Math.imul(wp,Kp)|0,Tl=Tl+Math.imul(Ep,Hp)|0,hs=hs+Math.imul(Ep,$p)|0,hs=hs+Math.imul(vp,Hp)|0,yl=yl+Math.imul(vp,$p)|0,Tl=Tl+Math.imul(hp,qp)|0,hs=hs+Math.imul(hp,Dp)|0,hs=hs+Math.imul(xp,qp)|0,yl=yl+Math.imul(xp,Dp)|0,Tl=Tl+Math.imul(rp,Xp)|0,hs=hs+Math.imul(rp,Wp)|0,hs=hs+Math.imul(op,Xp)|0,yl=yl+Math.imul(op,Wp)|0,Tl=Tl+Math.imul(Ql,h0)|0,hs=hs+Math.imul(Ql,Fp)|0,hs=hs+Math.imul(Ol,h0)|0,yl=yl+Math.imul(Ol,Fp)|0,Tl=Tl+Math.imul(yu,t1)|0,hs=hs+Math.imul(yu,Lp)|0,hs=hs+Math.imul(Vl,t1)|0,yl=yl+Math.imul(Vl,Lp)|0,Tl=Tl+Math.imul(Xl,s1)|0,hs=hs+Math.imul(Xl,jp)|0,hs=hs+Math.imul(bu,s1)|0,yl=yl+Math.imul(bu,jp)|0;var Jm=(Sl+Tl|0)+((hs&8191)<<13)|0;Sl=(yl+(hs>>>13)|0)+(Jm>>>26)|0,Jm&=67108863,Tl=Math.imul(Gl,sp),hs=Math.imul(Gl,fp),hs=hs+Math.imul(fu,sp)|0,yl=Math.imul(fu,fp),Tl=Tl+Math.imul(zl,Mp)|0,hs=hs+Math.imul(zl,Sp)|0,hs=hs+Math.imul(Dl,Mp)|0,yl=yl+Math.imul(Dl,Sp)|0,Tl=Tl+Math.imul(Rp,Jp)|0,hs=hs+Math.imul(Rp,Kp)|0,hs=hs+Math.imul(yp,Jp)|0,yl=yl+Math.imul(yp,Kp)|0,Tl=Tl+Math.imul(Ap,Hp)|0,hs=hs+Math.imul(Ap,$p)|0,hs=hs+Math.imul(wp,Hp)|0,yl=yl+Math.imul(wp,$p)|0,Tl=Tl+Math.imul(Ep,qp)|0,hs=hs+Math.imul(Ep,Dp)|0,hs=hs+Math.imul(vp,qp)|0,yl=yl+Math.imul(vp,Dp)|0,Tl=Tl+Math.imul(hp,Xp)|0,hs=hs+Math.imul(hp,Wp)|0,hs=hs+Math.imul(xp,Xp)|0,yl=yl+Math.imul(xp,Wp)|0,Tl=Tl+Math.imul(rp,h0)|0,hs=hs+Math.imul(rp,Fp)|0,hs=hs+Math.imul(op,h0)|0,yl=yl+Math.imul(op,Fp)|0,Tl=Tl+Math.imul(Ql,t1)|0,hs=hs+Math.imul(Ql,Lp)|0,hs=hs+Math.imul(Ol,t1)|0,yl=yl+Math.imul(Ol,Lp)|0,Tl=Tl+Math.imul(yu,s1)|0,hs=hs+Math.imul(yu,jp)|0,hs=hs+Math.imul(Vl,s1)|0,yl=yl+Math.imul(Vl,jp)|0,Tl=Tl+Math.imul(Xl,v1)|0,hs=hs+Math.imul(Xl,r1)|0,hs=hs+Math.imul(bu,v1)|0,yl=yl+Math.imul(bu,r1)|0;var Am=(Sl+Tl|0)+((hs&8191)<<13)|0;Sl=(yl+(hs>>>13)|0)+(Am>>>26)|0,Am&=67108863,Tl=Math.imul(Gl,Mp),hs=Math.imul(Gl,Sp),hs=hs+Math.imul(fu,Mp)|0,yl=Math.imul(fu,Sp),Tl=Tl+Math.imul(zl,Jp)|0,hs=hs+Math.imul(zl,Kp)|0,hs=hs+Math.imul(Dl,Jp)|0,yl=yl+Math.imul(Dl,Kp)|0,Tl=Tl+Math.imul(Rp,Hp)|0,hs=hs+Math.imul(Rp,$p)|0,hs=hs+Math.imul(yp,Hp)|0,yl=yl+Math.imul(yp,$p)|0,Tl=Tl+Math.imul(Ap,qp)|0,hs=hs+Math.imul(Ap,Dp)|0,hs=hs+Math.imul(wp,qp)|0,yl=yl+Math.imul(wp,Dp)|0,Tl=Tl+Math.imul(Ep,Xp)|0,hs=hs+Math.imul(Ep,Wp)|0,hs=hs+Math.imul(vp,Xp)|0,yl=yl+Math.imul(vp,Wp)|0,Tl=Tl+Math.imul(hp,h0)|0,hs=hs+Math.imul(hp,Fp)|0,hs=hs+Math.imul(xp,h0)|0,yl=yl+Math.imul(xp,Fp)|0,Tl=Tl+Math.imul(rp,t1)|0,hs=hs+Math.imul(rp,Lp)|0,hs=hs+Math.imul(op,t1)|0,yl=yl+Math.imul(op,Lp)|0,Tl=Tl+Math.imul(Ql,s1)|0,hs=hs+Math.imul(Ql,jp)|0,hs=hs+Math.imul(Ol,s1)|0,yl=yl+Math.imul(Ol,jp)|0,Tl=Tl+Math.imul(yu,v1)|0,hs=hs+Math.imul(yu,r1)|0,hs=hs+Math.imul(Vl,v1)|0,yl=yl+Math.imul(Vl,r1)|0;var Xm=(Sl+Tl|0)+((hs&8191)<<13)|0;Sl=(yl+(hs>>>13)|0)+(Xm>>>26)|0,Xm&=67108863,Tl=Math.imul(Gl,Jp),hs=Math.imul(Gl,Kp),hs=hs+Math.imul(fu,Jp)|0,yl=Math.imul(fu,Kp),Tl=Tl+Math.imul(zl,Hp)|0,hs=hs+Math.imul(zl,$p)|0,hs=hs+Math.imul(Dl,Hp)|0,yl=yl+Math.imul(Dl,$p)|0,Tl=Tl+Math.imul(Rp,qp)|0,hs=hs+Math.imul(Rp,Dp)|0,hs=hs+Math.imul(yp,qp)|0,yl=yl+Math.imul(yp,Dp)|0,Tl=Tl+Math.imul(Ap,Xp)|0,hs=hs+Math.imul(Ap,Wp)|0,hs=hs+Math.imul(wp,Xp)|0,yl=yl+Math.imul(wp,Wp)|0,Tl=Tl+Math.imul(Ep,h0)|0,hs=hs+Math.imul(Ep,Fp)|0,hs=hs+Math.imul(vp,h0)|0,yl=yl+Math.imul(vp,Fp)|0,Tl=Tl+Math.imul(hp,t1)|0,hs=hs+Math.imul(hp,Lp)|0,hs=hs+Math.imul(xp,t1)|0,yl=yl+Math.imul(xp,Lp)|0,Tl=Tl+Math.imul(rp,s1)|0,hs=hs+Math.imul(rp,jp)|0,hs=hs+Math.imul(op,s1)|0,yl=yl+Math.imul(op,jp)|0,Tl=Tl+Math.imul(Ql,v1)|0,hs=hs+Math.imul(Ql,r1)|0,hs=hs+Math.imul(Ol,v1)|0,yl=yl+Math.imul(Ol,r1)|0;var ew=(Sl+Tl|0)+((hs&8191)<<13)|0;Sl=(yl+(hs>>>13)|0)+(ew>>>26)|0,ew&=67108863,Tl=Math.imul(Gl,Hp),hs=Math.imul(Gl,$p),hs=hs+Math.imul(fu,Hp)|0,yl=Math.imul(fu,$p),Tl=Tl+Math.imul(zl,qp)|0,hs=hs+Math.imul(zl,Dp)|0,hs=hs+Math.imul(Dl,qp)|0,yl=yl+Math.imul(Dl,Dp)|0,Tl=Tl+Math.imul(Rp,Xp)|0,hs=hs+Math.imul(Rp,Wp)|0,hs=hs+Math.imul(yp,Xp)|0,yl=yl+Math.imul(yp,Wp)|0,Tl=Tl+Math.imul(Ap,h0)|0,hs=hs+Math.imul(Ap,Fp)|0,hs=hs+Math.imul(wp,h0)|0,yl=yl+Math.imul(wp,Fp)|0,Tl=Tl+Math.imul(Ep,t1)|0,hs=hs+Math.imul(Ep,Lp)|0,hs=hs+Math.imul(vp,t1)|0,yl=yl+Math.imul(vp,Lp)|0,Tl=Tl+Math.imul(hp,s1)|0,hs=hs+Math.imul(hp,jp)|0,hs=hs+Math.imul(xp,s1)|0,yl=yl+Math.imul(xp,jp)|0,Tl=Tl+Math.imul(rp,v1)|0,hs=hs+Math.imul(rp,r1)|0,hs=hs+Math.imul(op,v1)|0,yl=yl+Math.imul(op,r1)|0;var Sm=(Sl+Tl|0)+((hs&8191)<<13)|0;Sl=(yl+(hs>>>13)|0)+(Sm>>>26)|0,Sm&=67108863,Tl=Math.imul(Gl,qp),hs=Math.imul(Gl,Dp),hs=hs+Math.imul(fu,qp)|0,yl=Math.imul(fu,Dp),Tl=Tl+Math.imul(zl,Xp)|0,hs=hs+Math.imul(zl,Wp)|0,hs=hs+Math.imul(Dl,Xp)|0,yl=yl+Math.imul(Dl,Wp)|0,Tl=Tl+Math.imul(Rp,h0)|0,hs=hs+Math.imul(Rp,Fp)|0,hs=hs+Math.imul(yp,h0)|0,yl=yl+Math.imul(yp,Fp)|0,Tl=Tl+Math.imul(Ap,t1)|0,hs=hs+Math.imul(Ap,Lp)|0,hs=hs+Math.imul(wp,t1)|0,yl=yl+Math.imul(wp,Lp)|0,Tl=Tl+Math.imul(Ep,s1)|0,hs=hs+Math.imul(Ep,jp)|0,hs=hs+Math.imul(vp,s1)|0,yl=yl+Math.imul(vp,jp)|0,Tl=Tl+Math.imul(hp,v1)|0,hs=hs+Math.imul(hp,r1)|0,hs=hs+Math.imul(xp,v1)|0,yl=yl+Math.imul(xp,r1)|0;var Fm=(Sl+Tl|0)+((hs&8191)<<13)|0;Sl=(yl+(hs>>>13)|0)+(Fm>>>26)|0,Fm&=67108863,Tl=Math.imul(Gl,Xp),hs=Math.imul(Gl,Wp),hs=hs+Math.imul(fu,Xp)|0,yl=Math.imul(fu,Wp),Tl=Tl+Math.imul(zl,h0)|0,hs=hs+Math.imul(zl,Fp)|0,hs=hs+Math.imul(Dl,h0)|0,yl=yl+Math.imul(Dl,Fp)|0,Tl=Tl+Math.imul(Rp,t1)|0,hs=hs+Math.imul(Rp,Lp)|0,hs=hs+Math.imul(yp,t1)|0,yl=yl+Math.imul(yp,Lp)|0,Tl=Tl+Math.imul(Ap,s1)|0,hs=hs+Math.imul(Ap,jp)|0,hs=hs+Math.imul(wp,s1)|0,yl=yl+Math.imul(wp,jp)|0,Tl=Tl+Math.imul(Ep,v1)|0,hs=hs+Math.imul(Ep,r1)|0,hs=hs+Math.imul(vp,v1)|0,yl=yl+Math.imul(vp,r1)|0;var jm=(Sl+Tl|0)+((hs&8191)<<13)|0;Sl=(yl+(hs>>>13)|0)+(jm>>>26)|0,jm&=67108863,Tl=Math.imul(Gl,h0),hs=Math.imul(Gl,Fp),hs=hs+Math.imul(fu,h0)|0,yl=Math.imul(fu,Fp),Tl=Tl+Math.imul(zl,t1)|0,hs=hs+Math.imul(zl,Lp)|0,hs=hs+Math.imul(Dl,t1)|0,yl=yl+Math.imul(Dl,Lp)|0,Tl=Tl+Math.imul(Rp,s1)|0,hs=hs+Math.imul(Rp,jp)|0,hs=hs+Math.imul(yp,s1)|0,yl=yl+Math.imul(yp,jp)|0,Tl=Tl+Math.imul(Ap,v1)|0,hs=hs+Math.imul(Ap,r1)|0,hs=hs+Math.imul(wp,v1)|0,yl=yl+Math.imul(wp,r1)|0;var Z1=(Sl+Tl|0)+((hs&8191)<<13)|0;Sl=(yl+(hs>>>13)|0)+(Z1>>>26)|0,Z1&=67108863,Tl=Math.imul(Gl,t1),hs=Math.imul(Gl,Lp),hs=hs+Math.imul(fu,t1)|0,yl=Math.imul(fu,Lp),Tl=Tl+Math.imul(zl,s1)|0,hs=hs+Math.imul(zl,jp)|0,hs=hs+Math.imul(Dl,s1)|0,yl=yl+Math.imul(Dl,jp)|0,Tl=Tl+Math.imul(Rp,v1)|0,hs=hs+Math.imul(Rp,r1)|0,hs=hs+Math.imul(yp,v1)|0,yl=yl+Math.imul(yp,r1)|0;var tw=(Sl+Tl|0)+((hs&8191)<<13)|0;Sl=(yl+(hs>>>13)|0)+(tw>>>26)|0,tw&=67108863,Tl=Math.imul(Gl,s1),hs=Math.imul(Gl,jp),hs=hs+Math.imul(fu,s1)|0,yl=Math.imul(fu,jp),Tl=Tl+Math.imul(zl,v1)|0,hs=hs+Math.imul(zl,r1)|0,hs=hs+Math.imul(Dl,v1)|0,yl=yl+Math.imul(Dl,r1)|0;var rw=(Sl+Tl|0)+((hs&8191)<<13)|0;Sl=(yl+(hs>>>13)|0)+(rw>>>26)|0,rw&=67108863,Tl=Math.imul(Gl,v1),hs=Math.imul(Gl,r1),hs=hs+Math.imul(fu,v1)|0,yl=Math.imul(fu,r1);var nw=(Sl+Tl|0)+((hs&8191)<<13)|0;return Sl=(yl+(hs>>>13)|0)+(nw>>>26)|0,nw&=67108863,Pl[0]=d1,Pl[1]=tm,Pl[2]=rm,Pl[3]=nm,Pl[4]=im,Pl[5]=om,Pl[6]=U1,Pl[7]=Em,Pl[8]=Jm,Pl[9]=Am,Pl[10]=Xm,Pl[11]=ew,Pl[12]=Sm,Pl[13]=Fm,Pl[14]=jm,Pl[15]=Z1,Pl[16]=tw,Pl[17]=rw,Pl[18]=nw,Sl!==0&&(Pl[19]=Sl,rs.length++),rs};Math.imul||(os=Qo);function Cl(Nl,wl,Xo){Xo.negative=wl.negative^Nl.negative,Xo.length=Nl.length+wl.length;for(var rs=0,as=0,El=0;El<Xo.length-1;El++){var Pl=as;as=0;for(var Sl=rs&67108863,Tl=Math.min(El,wl.length-1),hs=Math.max(0,El-Nl.length+1);hs<=Tl;hs++){var yl=El-hs,Fl=Nl.words[yl]|0,Xl=wl.words[hs]|0,bu=Fl*Xl,Ul=bu&67108863;Pl=Pl+(bu/67108864|0)|0,Ul=Ul+Sl|0,Sl=Ul&67108863,Pl=Pl+(Ul>>>26)|0,as+=Pl>>>26,Pl&=67108863}Xo.words[El]=Sl,rs=Pl,Pl=as}return rs!==0?Xo.words[El]=rs:Xo.length--,Xo.strip()}function xl(Nl,wl,Xo){var rs=new ds;return rs.mulp(Nl,wl,Xo)}$o.prototype.mulTo=function(wl,Xo){var rs,as=this.length+wl.length;return this.length===10&&wl.length===10?rs=os(this,wl,Xo):as<63?rs=Qo(this,wl,Xo):as<1024?rs=Cl(this,wl,Xo):rs=xl(this,wl,Xo),rs};function ds(Nl,wl){this.x=Nl,this.y=wl}ds.prototype.makeRBT=function(wl){for(var Xo=new Array(wl),rs=$o.prototype._countBits(wl)-1,as=0;as<wl;as++)Xo[as]=this.revBin(as,rs,wl);return Xo},ds.prototype.revBin=function(wl,Xo,rs){if(wl===0||wl===rs-1)return wl;for(var as=0,El=0;El<Xo;El++)as|=(wl&1)<<Xo-El-1,wl>>=1;return as},ds.prototype.permute=function(wl,Xo,rs,as,El,Pl){for(var Sl=0;Sl<Pl;Sl++)as[Sl]=Xo[wl[Sl]],El[Sl]=rs[wl[Sl]]},ds.prototype.transform=function(wl,Xo,rs,as,El,Pl){this.permute(Pl,wl,Xo,rs,as,El);for(var Sl=1;Sl<El;Sl<<=1)for(var Tl=Sl<<1,hs=Math.cos(2*Math.PI/Tl),yl=Math.sin(2*Math.PI/Tl),Fl=0;Fl<El;Fl+=Tl)for(var Xl=hs,bu=yl,Ul=0;Ul<Sl;Ul++){var yu=rs[Fl+Ul],Vl=as[Fl+Ul],Jl=rs[Fl+Ul+Sl],Ql=as[Fl+Ul+Sl],Ol=Xl*Jl-bu*Ql;Ql=Xl*Ql+bu*Jl,Jl=Ol,rs[Fl+Ul]=yu+Jl,as[Fl+Ul]=Vl+Ql,rs[Fl+Ul+Sl]=yu-Jl,as[Fl+Ul+Sl]=Vl-Ql,Ul!==Tl&&(Ol=hs*Xl-yl*bu,bu=hs*bu+yl*Xl,Xl=Ol)}},ds.prototype.guessLen13b=function(wl,Xo){var rs=Math.max(Xo,wl)|1,as=rs&1,El=0;for(rs=rs/2|0;rs;rs=rs>>>1)El++;return 1<<El+1+as},ds.prototype.conjugate=function(wl,Xo,rs){if(!(rs<=1))for(var as=0;as<rs/2;as++){var El=wl[as];wl[as]=wl[rs-as-1],wl[rs-as-1]=El,El=Xo[as],Xo[as]=-Xo[rs-as-1],Xo[rs-as-1]=-El}},ds.prototype.normalize13b=function(wl,Xo){for(var rs=0,as=0;as<Xo/2;as++){var El=Math.round(wl[2*as+1]/Xo)*8192+Math.round(wl[2*as]/Xo)+rs;wl[as]=El&67108863,El<67108864?rs=0:rs=El/67108864|0}return wl},ds.prototype.convert13b=function(wl,Xo,rs,as){for(var El=0,Pl=0;Pl<Xo;Pl++)El=El+(wl[Pl]|0),rs[2*Pl]=El&8191,El=El>>>13,rs[2*Pl+1]=El&8191,El=El>>>13;for(Pl=2*Xo;Pl<as;++Pl)rs[Pl]=0;fo(El===0),fo((El&-8192)===0)},ds.prototype.stub=function(wl){for(var Xo=new Array(wl),rs=0;rs<wl;rs++)Xo[rs]=0;return Xo},ds.prototype.mulp=function(wl,Xo,rs){var as=2*this.guessLen13b(wl.length,Xo.length),El=this.makeRBT(as),Pl=this.stub(as),Sl=new Array(as),Tl=new Array(as),hs=new Array(as),yl=new Array(as),Fl=new Array(as),Xl=new Array(as),bu=rs.words;bu.length=as,this.convert13b(wl.words,wl.length,Sl,as),this.convert13b(Xo.words,Xo.length,yl,as),this.transform(Sl,Pl,Tl,hs,as,El),this.transform(yl,Pl,Fl,Xl,as,El);for(var Ul=0;Ul<as;Ul++){var yu=Tl[Ul]*Fl[Ul]-hs[Ul]*Xl[Ul];hs[Ul]=Tl[Ul]*Xl[Ul]+hs[Ul]*Fl[Ul],Tl[Ul]=yu}return this.conjugate(Tl,hs,as),this.transform(Tl,hs,bu,Pl,as,El),this.conjugate(bu,Pl,as),this.normalize13b(bu,as),rs.negative=wl.negative^Xo.negative,rs.length=wl.length+Xo.length,rs.strip()},$o.prototype.mul=function(wl){var Xo=new $o(null);return Xo.words=new Array(this.length+wl.length),this.mulTo(wl,Xo)},$o.prototype.mulf=function(wl){var Xo=new $o(null);return Xo.words=new Array(this.length+wl.length),xl(this,wl,Xo)},$o.prototype.imul=function(wl){return this.clone().mulTo(wl,this)},$o.prototype.imuln=function(wl){fo(typeof wl=="number"),fo(wl<67108864);for(var Xo=0,rs=0;rs<this.length;rs++){var as=(this.words[rs]|0)*wl,El=(as&67108863)+(Xo&67108863);Xo>>=26,Xo+=as/67108864|0,Xo+=El>>>26,this.words[rs]=El&67108863}return Xo!==0&&(this.words[rs]=Xo,this.length++),this},$o.prototype.muln=function(wl){return this.clone().imuln(wl)},$o.prototype.sqr=function(){return this.mul(this)},$o.prototype.isqr=function(){return this.imul(this.clone())},$o.prototype.pow=function(wl){var Xo=Jo(wl);if(Xo.length===0)return new $o(1);for(var rs=this,as=0;as<Xo.length&&Xo[as]===0;as++,rs=rs.sqr());if(++as<Xo.length)for(var El=rs.sqr();as<Xo.length;as++,El=El.sqr())Xo[as]!==0&&(rs=rs.mul(El));return rs},$o.prototype.iushln=function(wl){fo(typeof wl=="number"&&wl>=0);var Xo=wl%26,rs=(wl-Xo)/26,as=67108863>>>26-Xo<<26-Xo,El;if(Xo!==0){var Pl=0;for(El=0;El<this.length;El++){var Sl=this.words[El]&as,Tl=(this.words[El]|0)-Sl<<Xo;this.words[El]=Tl|Pl,Pl=Sl>>>26-Xo}Pl&&(this.words[El]=Pl,this.length++)}if(rs!==0){for(El=this.length-1;El>=0;El--)this.words[El+rs]=this.words[El];for(El=0;El<rs;El++)this.words[El]=0;this.length+=rs}return this.strip()},$o.prototype.ishln=function(wl){return fo(this.negative===0),this.iushln(wl)},$o.prototype.iushrn=function(wl,Xo,rs){fo(typeof wl=="number"&&wl>=0);var as;Xo?as=(Xo-Xo%26)/26:as=0;var El=wl%26,Pl=Math.min((wl-El)/26,this.length),Sl=67108863^67108863>>>El<<El,Tl=rs;if(as-=Pl,as=Math.max(0,as),Tl){for(var hs=0;hs<Pl;hs++)Tl.words[hs]=this.words[hs];Tl.length=Pl}if(Pl!==0)if(this.length>Pl)for(this.length-=Pl,hs=0;hs<this.length;hs++)this.words[hs]=this.words[hs+Pl];else this.words[0]=0,this.length=1;var yl=0;for(hs=this.length-1;hs>=0&&(yl!==0||hs>=as);hs--){var Fl=this.words[hs]|0;this.words[hs]=yl<<26-El|Fl>>>El,yl=Fl&Sl}return Tl&&yl!==0&&(Tl.words[Tl.length++]=yl),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},$o.prototype.ishrn=function(wl,Xo,rs){return fo(this.negative===0),this.iushrn(wl,Xo,rs)},$o.prototype.shln=function(wl){return this.clone().ishln(wl)},$o.prototype.ushln=function(wl){return this.clone().iushln(wl)},$o.prototype.shrn=function(wl){return this.clone().ishrn(wl)},$o.prototype.ushrn=function(wl){return this.clone().iushrn(wl)},$o.prototype.testn=function(wl){fo(typeof wl=="number"&&wl>=0);var Xo=wl%26,rs=(wl-Xo)/26,as=1<<Xo;if(this.length<=rs)return!1;var El=this.words[rs];return!!(El&as)},$o.prototype.imaskn=function(wl){fo(typeof wl=="number"&&wl>=0);var Xo=wl%26,rs=(wl-Xo)/26;if(fo(this.negative===0,"imaskn works only with positive numbers"),this.length<=rs)return this;if(Xo!==0&&rs++,this.length=Math.min(rs,this.length),Xo!==0){var as=67108863^67108863>>>Xo<<Xo;this.words[this.length-1]&=as}return this.strip()},$o.prototype.maskn=function(wl){return this.clone().imaskn(wl)},$o.prototype.iaddn=function(wl){return fo(typeof wl=="number"),fo(wl<67108864),wl<0?this.isubn(-wl):this.negative!==0?this.length===1&&(this.words[0]|0)<wl?(this.words[0]=wl-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(wl),this.negative=1,this):this._iaddn(wl)},$o.prototype._iaddn=function(wl){this.words[0]+=wl;for(var Xo=0;Xo<this.length&&this.words[Xo]>=67108864;Xo++)this.words[Xo]-=67108864,Xo===this.length-1?this.words[Xo+1]=1:this.words[Xo+1]++;return this.length=Math.max(this.length,Xo+1),this},$o.prototype.isubn=function(wl){if(fo(typeof wl=="number"),fo(wl<67108864),wl<0)return this.iaddn(-wl);if(this.negative!==0)return this.negative=0,this.iaddn(wl),this.negative=1,this;if(this.words[0]-=wl,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Xo=0;Xo<this.length&&this.words[Xo]<0;Xo++)this.words[Xo]+=67108864,this.words[Xo+1]-=1;return this.strip()},$o.prototype.addn=function(wl){return this.clone().iaddn(wl)},$o.prototype.subn=function(wl){return this.clone().isubn(wl)},$o.prototype.iabs=function(){return this.negative=0,this},$o.prototype.abs=function(){return this.clone().iabs()},$o.prototype._ishlnsubmul=function(wl,Xo,rs){var as=wl.length+rs,El;this._expand(as);var Pl,Sl=0;for(El=0;El<wl.length;El++){Pl=(this.words[El+rs]|0)+Sl;var Tl=(wl.words[El]|0)*Xo;Pl-=Tl&67108863,Sl=(Pl>>26)-(Tl/67108864|0),this.words[El+rs]=Pl&67108863}for(;El<this.length-rs;El++)Pl=(this.words[El+rs]|0)+Sl,Sl=Pl>>26,this.words[El+rs]=Pl&67108863;if(Sl===0)return this.strip();for(fo(Sl===-1),Sl=0,El=0;El<this.length;El++)Pl=-(this.words[El]|0)+Sl,Sl=Pl>>26,this.words[El]=Pl&67108863;return this.negative=1,this.strip()},$o.prototype._wordDiv=function(wl,Xo){var rs=this.length-wl.length,as=this.clone(),El=wl,Pl=El.words[El.length-1]|0,Sl=this._countBits(Pl);rs=26-Sl,rs!==0&&(El=El.ushln(rs),as.iushln(rs),Pl=El.words[El.length-1]|0);var Tl=as.length-El.length,hs;if(Xo!=="mod"){hs=new $o(null),hs.length=Tl+1,hs.words=new Array(hs.length);for(var yl=0;yl<hs.length;yl++)hs.words[yl]=0}var Fl=as.clone()._ishlnsubmul(El,1,Tl);Fl.negative===0&&(as=Fl,hs&&(hs.words[Tl]=1));for(var Xl=Tl-1;Xl>=0;Xl--){var bu=(as.words[El.length+Xl]|0)*67108864+(as.words[El.length+Xl-1]|0);for(bu=Math.min(bu/Pl|0,67108863),as._ishlnsubmul(El,bu,Xl);as.negative!==0;)bu--,as.negative=0,as._ishlnsubmul(El,1,Xl),as.isZero()||(as.negative^=1);hs&&(hs.words[Xl]=bu)}return hs&&hs.strip(),as.strip(),Xo!=="div"&&rs!==0&&as.iushrn(rs),{div:hs||null,mod:as}},$o.prototype.divmod=function(wl,Xo,rs){if(fo(!wl.isZero()),this.isZero())return{div:new $o(0),mod:new $o(0)};var as,El,Pl;return this.negative!==0&&wl.negative===0?(Pl=this.neg().divmod(wl,Xo),Xo!=="mod"&&(as=Pl.div.neg()),Xo!=="div"&&(El=Pl.mod.neg(),rs&&El.negative!==0&&El.iadd(wl)),{div:as,mod:El}):this.negative===0&&wl.negative!==0?(Pl=this.divmod(wl.neg(),Xo),Xo!=="mod"&&(as=Pl.div.neg()),{div:as,mod:Pl.mod}):this.negative&wl.negative?(Pl=this.neg().divmod(wl.neg(),Xo),Xo!=="div"&&(El=Pl.mod.neg(),rs&&El.negative!==0&&El.isub(wl)),{div:Pl.div,mod:El}):wl.length>this.length||this.cmp(wl)<0?{div:new $o(0),mod:this}:wl.length===1?Xo==="div"?{div:this.divn(wl.words[0]),mod:null}:Xo==="mod"?{div:null,mod:new $o(this.modn(wl.words[0]))}:{div:this.divn(wl.words[0]),mod:new $o(this.modn(wl.words[0]))}:this._wordDiv(wl,Xo)},$o.prototype.div=function(wl){return this.divmod(wl,"div",!1).div},$o.prototype.mod=function(wl){return this.divmod(wl,"mod",!1).mod},$o.prototype.umod=function(wl){return this.divmod(wl,"mod",!0).mod},$o.prototype.divRound=function(wl){var Xo=this.divmod(wl);if(Xo.mod.isZero())return Xo.div;var rs=Xo.div.negative!==0?Xo.mod.isub(wl):Xo.mod,as=wl.ushrn(1),El=wl.andln(1),Pl=rs.cmp(as);return Pl<0||El===1&&Pl===0?Xo.div:Xo.div.negative!==0?Xo.div.isubn(1):Xo.div.iaddn(1)},$o.prototype.modn=function(wl){fo(wl<=67108863);for(var Xo=(1<<26)%wl,rs=0,as=this.length-1;as>=0;as--)rs=(Xo*rs+(this.words[as]|0))%wl;return rs},$o.prototype.idivn=function(wl){fo(wl<=67108863);for(var Xo=0,rs=this.length-1;rs>=0;rs--){var as=(this.words[rs]|0)+Xo*67108864;this.words[rs]=as/wl|0,Xo=as%wl}return this.strip()},$o.prototype.divn=function(wl){return this.clone().idivn(wl)},$o.prototype.egcd=function(wl){fo(wl.negative===0),fo(!wl.isZero());var Xo=this,rs=wl.clone();Xo.negative!==0?Xo=Xo.umod(wl):Xo=Xo.clone();for(var as=new $o(1),El=new $o(0),Pl=new $o(0),Sl=new $o(1),Tl=0;Xo.isEven()&&rs.isEven();)Xo.iushrn(1),rs.iushrn(1),++Tl;for(var hs=rs.clone(),yl=Xo.clone();!Xo.isZero();){for(var Fl=0,Xl=1;!(Xo.words[0]&Xl)&&Fl<26;++Fl,Xl<<=1);if(Fl>0)for(Xo.iushrn(Fl);Fl-- >0;)(as.isOdd()||El.isOdd())&&(as.iadd(hs),El.isub(yl)),as.iushrn(1),El.iushrn(1);for(var bu=0,Ul=1;!(rs.words[0]&Ul)&&bu<26;++bu,Ul<<=1);if(bu>0)for(rs.iushrn(bu);bu-- >0;)(Pl.isOdd()||Sl.isOdd())&&(Pl.iadd(hs),Sl.isub(yl)),Pl.iushrn(1),Sl.iushrn(1);Xo.cmp(rs)>=0?(Xo.isub(rs),as.isub(Pl),El.isub(Sl)):(rs.isub(Xo),Pl.isub(as),Sl.isub(El))}return{a:Pl,b:Sl,gcd:rs.iushln(Tl)}},$o.prototype._invmp=function(wl){fo(wl.negative===0),fo(!wl.isZero());var Xo=this,rs=wl.clone();Xo.negative!==0?Xo=Xo.umod(wl):Xo=Xo.clone();for(var as=new $o(1),El=new $o(0),Pl=rs.clone();Xo.cmpn(1)>0&&rs.cmpn(1)>0;){for(var Sl=0,Tl=1;!(Xo.words[0]&Tl)&&Sl<26;++Sl,Tl<<=1);if(Sl>0)for(Xo.iushrn(Sl);Sl-- >0;)as.isOdd()&&as.iadd(Pl),as.iushrn(1);for(var hs=0,yl=1;!(rs.words[0]&yl)&&hs<26;++hs,yl<<=1);if(hs>0)for(rs.iushrn(hs);hs-- >0;)El.isOdd()&&El.iadd(Pl),El.iushrn(1);Xo.cmp(rs)>=0?(Xo.isub(rs),as.isub(El)):(rs.isub(Xo),El.isub(as))}var Fl;return Xo.cmpn(1)===0?Fl=as:Fl=El,Fl.cmpn(0)<0&&Fl.iadd(wl),Fl},$o.prototype.gcd=function(wl){if(this.isZero())return wl.abs();if(wl.isZero())return this.abs();var Xo=this.clone(),rs=wl.clone();Xo.negative=0,rs.negative=0;for(var as=0;Xo.isEven()&&rs.isEven();as++)Xo.iushrn(1),rs.iushrn(1);do{for(;Xo.isEven();)Xo.iushrn(1);for(;rs.isEven();)rs.iushrn(1);var El=Xo.cmp(rs);if(El<0){var Pl=Xo;Xo=rs,rs=Pl}else if(El===0||rs.cmpn(1)===0)break;Xo.isub(rs)}while(!0);return rs.iushln(as)},$o.prototype.invm=function(wl){return this.egcd(wl).a.umod(wl)},$o.prototype.isEven=function(){return(this.words[0]&1)===0},$o.prototype.isOdd=function(){return(this.words[0]&1)===1},$o.prototype.andln=function(wl){return this.words[0]&wl},$o.prototype.bincn=function(wl){fo(typeof wl=="number");var Xo=wl%26,rs=(wl-Xo)/26,as=1<<Xo;if(this.length<=rs)return this._expand(rs+1),this.words[rs]|=as,this;for(var El=as,Pl=rs;El!==0&&Pl<this.length;Pl++){var Sl=this.words[Pl]|0;Sl+=El,El=Sl>>>26,Sl&=67108863,this.words[Pl]=Sl}return El!==0&&(this.words[Pl]=El,this.length++),this},$o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},$o.prototype.cmpn=function(wl){var Xo=wl<0;if(this.negative!==0&&!Xo)return-1;if(this.negative===0&&Xo)return 1;this.strip();var rs;if(this.length>1)rs=1;else{Xo&&(wl=-wl),fo(wl<=67108863,"Number is too big");var as=this.words[0]|0;rs=as===wl?0:as<wl?-1:1}return this.negative!==0?-rs|0:rs},$o.prototype.cmp=function(wl){if(this.negative!==0&&wl.negative===0)return-1;if(this.negative===0&&wl.negative!==0)return 1;var Xo=this.ucmp(wl);return this.negative!==0?-Xo|0:Xo},$o.prototype.ucmp=function(wl){if(this.length>wl.length)return 1;if(this.length<wl.length)return-1;for(var Xo=0,rs=this.length-1;rs>=0;rs--){var as=this.words[rs]|0,El=wl.words[rs]|0;if(as!==El){as<El?Xo=-1:as>El&&(Xo=1);break}}return Xo},$o.prototype.gtn=function(wl){return this.cmpn(wl)===1},$o.prototype.gt=function(wl){return this.cmp(wl)===1},$o.prototype.gten=function(wl){return this.cmpn(wl)>=0},$o.prototype.gte=function(wl){return this.cmp(wl)>=0},$o.prototype.ltn=function(wl){return this.cmpn(wl)===-1},$o.prototype.lt=function(wl){return this.cmp(wl)===-1},$o.prototype.lten=function(wl){return this.cmpn(wl)<=0},$o.prototype.lte=function(wl){return this.cmp(wl)<=0},$o.prototype.eqn=function(wl){return this.cmpn(wl)===0},$o.prototype.eq=function(wl){return this.cmp(wl)===0},$o.red=function(wl){return new Rl(wl)},$o.prototype.toRed=function(wl){return fo(!this.red,"Already a number in reduction context"),fo(this.negative===0,"red works only with positives"),wl.convertTo(this)._forceRed(wl)},$o.prototype.fromRed=function(){return fo(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},$o.prototype._forceRed=function(wl){return this.red=wl,this},$o.prototype.forceRed=function(wl){return fo(!this.red,"Already a number in reduction context"),this._forceRed(wl)},$o.prototype.redAdd=function(wl){return fo(this.red,"redAdd works only with red numbers"),this.red.add(this,wl)},$o.prototype.redIAdd=function(wl){return fo(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,wl)},$o.prototype.redSub=function(wl){return fo(this.red,"redSub works only with red numbers"),this.red.sub(this,wl)},$o.prototype.redISub=function(wl){return fo(this.red,"redISub works only with red numbers"),this.red.isub(this,wl)},$o.prototype.redShl=function(wl){return fo(this.red,"redShl works only with red numbers"),this.red.shl(this,wl)},$o.prototype.redMul=function(wl){return fo(this.red,"redMul works only with red numbers"),this.red._verify2(this,wl),this.red.mul(this,wl)},$o.prototype.redIMul=function(wl){return fo(this.red,"redMul works only with red numbers"),this.red._verify2(this,wl),this.red.imul(this,wl)},$o.prototype.redSqr=function(){return fo(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},$o.prototype.redISqr=function(){return fo(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},$o.prototype.redSqrt=function(){return fo(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},$o.prototype.redInvm=function(){return fo(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},$o.prototype.redNeg=function(){return fo(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},$o.prototype.redPow=function(wl){return fo(this.red&&!wl.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,wl)};var _c={k256:null,p224:null,p192:null,p25519:null};function $l(Nl,wl){this.name=Nl,this.p=new $o(wl,16),this.n=this.p.bitLength(),this.k=new $o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$l.prototype._tmp=function(){var wl=new $o(null);return wl.words=new Array(Math.ceil(this.n/13)),wl},$l.prototype.ireduce=function(wl){var Xo=wl,rs;do this.split(Xo,this.tmp),Xo=this.imulK(Xo),Xo=Xo.iadd(this.tmp),rs=Xo.bitLength();while(rs>this.n);var as=rs<this.n?-1:Xo.ucmp(this.p);return as===0?(Xo.words[0]=0,Xo.length=1):as>0?Xo.isub(this.p):Xo.strip!==void 0?Xo.strip():Xo._strip(),Xo},$l.prototype.split=function(wl,Xo){wl.iushrn(this.n,0,Xo)},$l.prototype.imulK=function(wl){return wl.imul(this.k)};function Al(){$l.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}mo(Al,$l),Al.prototype.split=function(wl,Xo){for(var rs=4194303,as=Math.min(wl.length,9),El=0;El<as;El++)Xo.words[El]=wl.words[El];if(Xo.length=as,wl.length<=9){wl.words[0]=0,wl.length=1;return}var Pl=wl.words[9];for(Xo.words[Xo.length++]=Pl&rs,El=10;El<wl.length;El++){var Sl=wl.words[El]|0;wl.words[El-10]=(Sl&rs)<<4|Pl>>>22,Pl=Sl}Pl>>>=22,wl.words[El-10]=Pl,Pl===0&&wl.length>10?wl.length-=10:wl.length-=9},Al.prototype.imulK=function(wl){wl.words[wl.length]=0,wl.words[wl.length+1]=0,wl.length+=2;for(var Xo=0,rs=0;rs<wl.length;rs++){var as=wl.words[rs]|0;Xo+=as*977,wl.words[rs]=Xo&67108863,Xo=as*64+(Xo/67108864|0)}return wl.words[wl.length-1]===0&&(wl.length--,wl.words[wl.length-1]===0&&wl.length--),wl};function Il(){$l.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}mo(Il,$l);function us(){$l.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}mo(us,$l);function ps(){$l.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}mo(ps,$l),ps.prototype.imulK=function(wl){for(var Xo=0,rs=0;rs<wl.length;rs++){var as=(wl.words[rs]|0)*19+Xo,El=as&67108863;as>>>=26,wl.words[rs]=El,Xo=as}return Xo!==0&&(wl.words[wl.length++]=Xo),wl},$o._prime=function(wl){if(_c[wl])return _c[wl];var Xo;if(wl==="k256")Xo=new Al;else if(wl==="p224")Xo=new Il;else if(wl==="p192")Xo=new us;else if(wl==="p25519")Xo=new ps;else throw new Error("Unknown prime "+wl);return _c[wl]=Xo,Xo};function Rl(Nl){if(typeof Nl=="string"){var wl=$o._prime(Nl);this.m=wl.p,this.prime=wl}else fo(Nl.gtn(1),"modulus must be greater than 1"),this.m=Nl,this.prime=null}Rl.prototype._verify1=function(wl){fo(wl.negative===0,"red works only with positives"),fo(wl.red,"red works only with red numbers")},Rl.prototype._verify2=function(wl,Xo){fo((wl.negative|Xo.negative)===0,"red works only with positives"),fo(wl.red&&wl.red===Xo.red,"red works only with red numbers")},Rl.prototype.imod=function(wl){return this.prime?this.prime.ireduce(wl)._forceRed(this):wl.umod(this.m)._forceRed(this)},Rl.prototype.neg=function(wl){return wl.isZero()?wl.clone():this.m.sub(wl)._forceRed(this)},Rl.prototype.add=function(wl,Xo){this._verify2(wl,Xo);var rs=wl.add(Xo);return rs.cmp(this.m)>=0&&rs.isub(this.m),rs._forceRed(this)},Rl.prototype.iadd=function(wl,Xo){this._verify2(wl,Xo);var rs=wl.iadd(Xo);return rs.cmp(this.m)>=0&&rs.isub(this.m),rs},Rl.prototype.sub=function(wl,Xo){this._verify2(wl,Xo);var rs=wl.sub(Xo);return rs.cmpn(0)<0&&rs.iadd(this.m),rs._forceRed(this)},Rl.prototype.isub=function(wl,Xo){this._verify2(wl,Xo);var rs=wl.isub(Xo);return rs.cmpn(0)<0&&rs.iadd(this.m),rs},Rl.prototype.shl=function(wl,Xo){return this._verify1(wl),this.imod(wl.ushln(Xo))},Rl.prototype.imul=function(wl,Xo){return this._verify2(wl,Xo),this.imod(wl.imul(Xo))},Rl.prototype.mul=function(wl,Xo){return this._verify2(wl,Xo),this.imod(wl.mul(Xo))},Rl.prototype.isqr=function(wl){return this.imul(wl,wl.clone())},Rl.prototype.sqr=function(wl){return this.mul(wl,wl)},Rl.prototype.sqrt=function(wl){if(wl.isZero())return wl.clone();var Xo=this.m.andln(3);if(fo(Xo%2===1),Xo===3){var rs=this.m.add(new $o(1)).iushrn(2);return this.pow(wl,rs)}for(var as=this.m.subn(1),El=0;!as.isZero()&&as.andln(1)===0;)El++,as.iushrn(1);fo(!as.isZero());var Pl=new $o(1).toRed(this),Sl=Pl.redNeg(),Tl=this.m.subn(1).iushrn(1),hs=this.m.bitLength();for(hs=new $o(2*hs*hs).toRed(this);this.pow(hs,Tl).cmp(Sl)!==0;)hs.redIAdd(Sl);for(var yl=this.pow(hs,as),Fl=this.pow(wl,as.addn(1).iushrn(1)),Xl=this.pow(wl,as),bu=El;Xl.cmp(Pl)!==0;){for(var Ul=Xl,yu=0;Ul.cmp(Pl)!==0;yu++)Ul=Ul.redSqr();fo(yu<bu);var Vl=this.pow(yl,new $o(1).iushln(bu-yu-1));Fl=Fl.redMul(Vl),yl=Vl.redSqr(),Xl=Xl.redMul(yl),bu=yu}return Fl},Rl.prototype.invm=function(wl){var Xo=wl._invmp(this.m);return Xo.negative!==0?(Xo.negative=0,this.imod(Xo).redNeg()):this.imod(Xo)},Rl.prototype.pow=function(wl,Xo){if(Xo.isZero())return new $o(1).toRed(this);if(Xo.cmpn(1)===0)return wl.clone();var rs=4,as=new Array(1<<rs);as[0]=new $o(1).toRed(this),as[1]=wl;for(var El=2;El<as.length;El++)as[El]=this.mul(as[El-1],wl);var Pl=as[0],Sl=0,Tl=0,hs=Xo.bitLength()%26;for(hs===0&&(hs=26),El=Xo.length-1;El>=0;El--){for(var yl=Xo.words[El],Fl=hs-1;Fl>=0;Fl--){var Xl=yl>>Fl&1;if(Pl!==as[0]&&(Pl=this.sqr(Pl)),Xl===0&&Sl===0){Tl=0;continue}Sl<<=1,Sl|=Xl,Tl++,!(Tl!==rs&&(El!==0||Fl!==0))&&(Pl=this.mul(Pl,as[Sl]),Tl=0,Sl=0)}hs=26}return Pl},Rl.prototype.convertTo=function(wl){var Xo=wl.umod(this.m);return Xo===wl?Xo.clone():Xo},Rl.prototype.convertFrom=function(wl){var Xo=wl.clone();return Xo.red=null,Xo},$o.mont=function(wl){return new Wl(wl)};function Wl(Nl){Rl.call(this,Nl),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new $o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}mo(Wl,Rl),Wl.prototype.convertTo=function(wl){return this.imod(wl.ushln(this.shift))},Wl.prototype.convertFrom=function(wl){var Xo=this.imod(wl.mul(this.rinv));return Xo.red=null,Xo},Wl.prototype.imul=function(wl,Xo){if(wl.isZero()||Xo.isZero())return wl.words[0]=0,wl.length=1,wl;var rs=wl.imul(Xo),as=rs.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),El=rs.isub(as).iushrn(this.shift),Pl=El;return El.cmp(this.m)>=0?Pl=El.isub(this.m):El.cmpn(0)<0&&(Pl=El.iadd(this.m)),Pl._forceRed(this)},Wl.prototype.mul=function(wl,Xo){if(wl.isZero()||Xo.isZero())return new $o(0)._forceRed(this);var rs=wl.mul(Xo),as=rs.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),El=rs.isub(as).iushrn(this.shift),Pl=El;return El.cmp(this.m)>=0?Pl=El.isub(this.m):El.cmpn(0)<0&&(Pl=El.iadd(this.m)),Pl._forceRed(this)},Wl.prototype.invm=function(wl){var Xo=this.imod(wl._invmp(this.m).mul(this.r2));return Xo._forceRed(this)}})(Fn,commonjsGlobal)})(bn$1);var bnExports=bn$1.exports,minimalisticAssert=assert$f;function assert$f(Fn,Mn){if(!Fn)throw new Error(Mn||"Assertion failed")}assert$f.equal=function(Mn,io,fo){if(Mn!=io)throw new Error(fo||"Assertion failed: "+Mn+" != "+io)};var utils$p={};(function(Fn){var Mn=Fn;function io($o,Ao){if(Array.isArray($o))return $o.slice();if(!$o)return[];var Lo=[];if(typeof $o!="string"){for(var Wo=0;Wo<$o.length;Wo++)Lo[Wo]=$o[Wo]|0;return Lo}if(Ao==="hex"){$o=$o.replace(/[^a-z0-9]+/ig,""),$o.length%2!==0&&($o="0"+$o);for(var Wo=0;Wo<$o.length;Wo+=2)Lo.push(parseInt($o[Wo]+$o[Wo+1],16))}else for(var Wo=0;Wo<$o.length;Wo++){var jo=$o.charCodeAt(Wo),zo=jo>>8,Vo=jo&255;zo?Lo.push(zo,Vo):Lo.push(Vo)}return Lo}Mn.toArray=io;function fo($o){return $o.length===1?"0"+$o:$o}Mn.zero2=fo;function mo($o){for(var Ao="",Lo=0;Lo<$o.length;Lo++)Ao+=fo($o[Lo].toString(16));return Ao}Mn.toHex=mo,Mn.encode=function(Ao,Lo){return Lo==="hex"?mo(Ao):Ao}})(utils$p);(function(Fn){var Mn=Fn,io=bnExports,fo=minimalisticAssert,mo=utils$p;Mn.assert=fo,Mn.toArray=mo.toArray,Mn.zero2=mo.zero2,Mn.toHex=mo.toHex,Mn.encode=mo.encode;function $o(zo,Vo,Go){var Jo=new Array(Math.max(zo.bitLength(),Go)+1),Qo;for(Qo=0;Qo<Jo.length;Qo+=1)Jo[Qo]=0;var os=1<<Vo+1,Cl=zo.clone();for(Qo=0;Qo<Jo.length;Qo++){var xl,ds=Cl.andln(os-1);Cl.isOdd()?(ds>(os>>1)-1?xl=(os>>1)-ds:xl=ds,Cl.isubn(xl)):xl=0,Jo[Qo]=xl,Cl.iushrn(1)}return Jo}Mn.getNAF=$o;function Ao(zo,Vo){var Go=[[],[]];zo=zo.clone(),Vo=Vo.clone();for(var Jo=0,Qo=0,os;zo.cmpn(-Jo)>0||Vo.cmpn(-Qo)>0;){var Cl=zo.andln(3)+Jo&3,xl=Vo.andln(3)+Qo&3;Cl===3&&(Cl=-1),xl===3&&(xl=-1);var ds;Cl&1?(os=zo.andln(7)+Jo&7,(os===3||os===5)&&xl===2?ds=-Cl:ds=Cl):ds=0,Go[0].push(ds);var _c;xl&1?(os=Vo.andln(7)+Qo&7,(os===3||os===5)&&Cl===2?_c=-xl:_c=xl):_c=0,Go[1].push(_c),2*Jo===ds+1&&(Jo=1-Jo),2*Qo===_c+1&&(Qo=1-Qo),zo.iushrn(1),Vo.iushrn(1)}return Go}Mn.getJSF=Ao;function Lo(zo,Vo,Go){var Jo="_"+Vo;zo.prototype[Vo]=function(){return this[Jo]!==void 0?this[Jo]:this[Jo]=Go.call(this)}}Mn.cachedProperty=Lo;function Wo(zo){return typeof zo=="string"?Mn.toArray(zo,"hex"):zo}Mn.parseBytes=Wo;function jo(zo){return new io(zo,"hex","le")}Mn.intFromLE=jo})(utils$q);var brorand={exports:{}},r$k;brorand.exports=function(Mn){return r$k||(r$k=new Rand(null)),r$k.generate(Mn)};function Rand(Fn){this.rand=Fn}brorand.exports.Rand=Rand;Rand.prototype.generate=function(Mn){return this._rand(Mn)};Rand.prototype._rand=function(Mn){if(this.rand.getBytes)return this.rand.getBytes(Mn);for(var io=new Uint8Array(Mn),fo=0;fo<io.length;fo++)io[fo]=this.rand.getByte();return io};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function(Mn){var io=new Uint8Array(Mn);return self.crypto.getRandomValues(io),io}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function(Mn){var io=new Uint8Array(Mn);return self.msCrypto.getRandomValues(io),io}:typeof window=="object"&&(Rand.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var crypto$4=require$$3;if(typeof crypto$4.randomBytes!="function")throw new Error("Not supported");Rand.prototype._rand=function(Mn){return crypto$4.randomBytes(Mn)}}catch{}var brorandExports=brorand.exports,curve={},BN$7=bnExports,utils$o=utils$q,getNAF=utils$o.getNAF,getJSF=utils$o.getJSF,assert$e=utils$o.assert;function BaseCurve(Fn,Mn){this.type=Fn,this.p=new BN$7(Mn.p,16),this.red=Mn.prime?BN$7.red(Mn.prime):BN$7.mont(this.p),this.zero=new BN$7(0).toRed(this.red),this.one=new BN$7(1).toRed(this.red),this.two=new BN$7(2).toRed(this.red),this.n=Mn.n&&new BN$7(Mn.n,16),this.g=Mn.g&&this.pointFromJSON(Mn.g,Mn.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var io=this.n&&this.p.div(this.n);!io||io.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$f=BaseCurve;BaseCurve.prototype.point=function(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function(Mn,io){assert$e(Mn.precomputed);var fo=Mn._getDoubles(),mo=getNAF(io,1,this._bitLength),$o=(1<<fo.step+1)-(fo.step%2===0?2:1);$o/=3;var Ao=[],Lo,Wo;for(Lo=0;Lo<mo.length;Lo+=fo.step){Wo=0;for(var jo=Lo+fo.step-1;jo>=Lo;jo--)Wo=(Wo<<1)+mo[jo];Ao.push(Wo)}for(var zo=this.jpoint(null,null,null),Vo=this.jpoint(null,null,null),Go=$o;Go>0;Go--){for(Lo=0;Lo<Ao.length;Lo++)Wo=Ao[Lo],Wo===Go?Vo=Vo.mixedAdd(fo.points[Lo]):Wo===-Go&&(Vo=Vo.mixedAdd(fo.points[Lo].neg()));zo=zo.add(Vo)}return zo.toP()};BaseCurve.prototype._wnafMul=function(Mn,io){var fo=4,mo=Mn._getNAFPoints(fo);fo=mo.wnd;for(var $o=mo.points,Ao=getNAF(io,fo,this._bitLength),Lo=this.jpoint(null,null,null),Wo=Ao.length-1;Wo>=0;Wo--){for(var jo=0;Wo>=0&&Ao[Wo]===0;Wo--)jo++;if(Wo>=0&&jo++,Lo=Lo.dblp(jo),Wo<0)break;var zo=Ao[Wo];assert$e(zo!==0),Mn.type==="affine"?zo>0?Lo=Lo.mixedAdd($o[zo-1>>1]):Lo=Lo.mixedAdd($o[-zo-1>>1].neg()):zo>0?Lo=Lo.add($o[zo-1>>1]):Lo=Lo.add($o[-zo-1>>1].neg())}return Mn.type==="affine"?Lo.toP():Lo};BaseCurve.prototype._wnafMulAdd=function(Mn,io,fo,mo,$o){var Ao=this._wnafT1,Lo=this._wnafT2,Wo=this._wnafT3,jo=0,zo,Vo,Go;for(zo=0;zo<mo;zo++){Go=io[zo];var Jo=Go._getNAFPoints(Mn);Ao[zo]=Jo.wnd,Lo[zo]=Jo.points}for(zo=mo-1;zo>=1;zo-=2){var Qo=zo-1,os=zo;if(Ao[Qo]!==1||Ao[os]!==1){Wo[Qo]=getNAF(fo[Qo],Ao[Qo],this._bitLength),Wo[os]=getNAF(fo[os],Ao[os],this._bitLength),jo=Math.max(Wo[Qo].length,jo),jo=Math.max(Wo[os].length,jo);continue}var Cl=[io[Qo],null,null,io[os]];io[Qo].y.cmp(io[os].y)===0?(Cl[1]=io[Qo].add(io[os]),Cl[2]=io[Qo].toJ().mixedAdd(io[os].neg())):io[Qo].y.cmp(io[os].y.redNeg())===0?(Cl[1]=io[Qo].toJ().mixedAdd(io[os]),Cl[2]=io[Qo].add(io[os].neg())):(Cl[1]=io[Qo].toJ().mixedAdd(io[os]),Cl[2]=io[Qo].toJ().mixedAdd(io[os].neg()));var xl=[-3,-1,-5,-7,0,7,5,1,3],ds=getJSF(fo[Qo],fo[os]);for(jo=Math.max(ds[0].length,jo),Wo[Qo]=new Array(jo),Wo[os]=new Array(jo),Vo=0;Vo<jo;Vo++){var _c=ds[0][Vo]|0,$l=ds[1][Vo]|0;Wo[Qo][Vo]=xl[(_c+1)*3+($l+1)],Wo[os][Vo]=0,Lo[Qo]=Cl}}var Al=this.jpoint(null,null,null),Il=this._wnafT4;for(zo=jo;zo>=0;zo--){for(var us=0;zo>=0;){var ps=!0;for(Vo=0;Vo<mo;Vo++)Il[Vo]=Wo[Vo][zo]|0,Il[Vo]!==0&&(ps=!1);if(!ps)break;us++,zo--}if(zo>=0&&us++,Al=Al.dblp(us),zo<0)break;for(Vo=0;Vo<mo;Vo++){var Rl=Il[Vo];Rl!==0&&(Rl>0?Go=Lo[Vo][Rl-1>>1]:Rl<0&&(Go=Lo[Vo][-Rl-1>>1].neg()),Go.type==="affine"?Al=Al.mixedAdd(Go):Al=Al.add(Go))}}for(zo=0;zo<mo;zo++)Lo[zo]=null;return $o?Al:Al.toP()};function BasePoint(Fn,Mn){this.curve=Fn,this.type=Mn,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function(){throw new Error("Not implemented")};BasePoint.prototype.validate=function(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function(Mn,io){Mn=utils$o.toArray(Mn,io);var fo=this.p.byteLength();if((Mn[0]===4||Mn[0]===6||Mn[0]===7)&&Mn.length-1===2*fo){Mn[0]===6?assert$e(Mn[Mn.length-1]%2===0):Mn[0]===7&&assert$e(Mn[Mn.length-1]%2===1);var mo=this.point(Mn.slice(1,1+fo),Mn.slice(1+fo,1+2*fo));return mo}else if((Mn[0]===2||Mn[0]===3)&&Mn.length-1===fo)return this.pointFromX(Mn.slice(1,1+fo),Mn[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function(Mn){return this.encode(Mn,!0)};BasePoint.prototype._encode=function(Mn){var io=this.curve.p.byteLength(),fo=this.getX().toArray("be",io);return Mn?[this.getY().isEven()?2:3].concat(fo):[4].concat(fo,this.getY().toArray("be",io))};BasePoint.prototype.encode=function(Mn,io){return utils$o.encode(this._encode(io),Mn)};BasePoint.prototype.precompute=function(Mn){if(this.precomputed)return this;var io={doubles:null,naf:null,beta:null};return io.naf=this._getNAFPoints(8),io.doubles=this._getDoubles(4,Mn),io.beta=this._getBeta(),this.precomputed=io,this};BasePoint.prototype._hasDoubles=function(Mn){if(!this.precomputed)return!1;var io=this.precomputed.doubles;return io?io.points.length>=Math.ceil((Mn.bitLength()+1)/io.step):!1};BasePoint.prototype._getDoubles=function(Mn,io){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var fo=[this],mo=this,$o=0;$o<io;$o+=Mn){for(var Ao=0;Ao<Mn;Ao++)mo=mo.dbl();fo.push(mo)}return{step:Mn,points:fo}};BasePoint.prototype._getNAFPoints=function(Mn){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var io=[this],fo=(1<<Mn)-1,mo=fo===1?null:this.dbl(),$o=1;$o<fo;$o++)io[$o]=io[$o-1].add(mo);return{wnd:Mn,points:io}};BasePoint.prototype._getBeta=function(){return null};BasePoint.prototype.dblp=function(Mn){for(var io=this,fo=0;fo<Mn;fo++)io=io.dbl();return io};var inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(Mn,io){io&&(Mn.super_=io,Mn.prototype=Object.create(io.prototype,{constructor:{value:Mn,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(Mn,io){if(io){Mn.super_=io;var fo=function(){};fo.prototype=io.prototype,Mn.prototype=new fo,Mn.prototype.constructor=Mn}};var inherits_browserExports=inherits_browser.exports,utils$n=utils$q,BN$6=bnExports,inherits$3=inherits_browserExports,Base$3=base$f,assert$d=utils$n.assert;function ShortCurve(Fn){Base$3.call(this,"short",Fn),this.a=new BN$6(Fn.a,16).toRed(this.red),this.b=new BN$6(Fn.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(Fn),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$3(ShortCurve,Base$3);var short=ShortCurve;ShortCurve.prototype._getEndomorphism=function(Mn){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var io,fo;if(Mn.beta)io=new BN$6(Mn.beta,16).toRed(this.red);else{var mo=this._getEndoRoots(this.p);io=mo[0].cmp(mo[1])<0?mo[0]:mo[1],io=io.toRed(this.red)}if(Mn.lambda)fo=new BN$6(Mn.lambda,16);else{var $o=this._getEndoRoots(this.n);this.g.mul($o[0]).x.cmp(this.g.x.redMul(io))===0?fo=$o[0]:(fo=$o[1],assert$d(this.g.mul(fo).x.cmp(this.g.x.redMul(io))===0))}var Ao;return Mn.basis?Ao=Mn.basis.map(function(Lo){return{a:new BN$6(Lo.a,16),b:new BN$6(Lo.b,16)}}):Ao=this._getEndoBasis(fo),{beta:io,lambda:fo,basis:Ao}}};ShortCurve.prototype._getEndoRoots=function(Mn){var io=Mn===this.p?this.red:BN$6.mont(Mn),fo=new BN$6(2).toRed(io).redInvm(),mo=fo.redNeg(),$o=new BN$6(3).toRed(io).redNeg().redSqrt().redMul(fo),Ao=mo.redAdd($o).fromRed(),Lo=mo.redSub($o).fromRed();return[Ao,Lo]};ShortCurve.prototype._getEndoBasis=function(Mn){for(var io=this.n.ushrn(Math.floor(this.n.bitLength()/2)),fo=Mn,mo=this.n.clone(),$o=new BN$6(1),Ao=new BN$6(0),Lo=new BN$6(0),Wo=new BN$6(1),jo,zo,Vo,Go,Jo,Qo,os,Cl=0,xl,ds;fo.cmpn(0)!==0;){var _c=mo.div(fo);xl=mo.sub(_c.mul(fo)),ds=Lo.sub(_c.mul($o));var $l=Wo.sub(_c.mul(Ao));if(!Vo&&xl.cmp(io)<0)jo=os.neg(),zo=$o,Vo=xl.neg(),Go=ds;else if(Vo&&++Cl===2)break;os=xl,mo=fo,fo=xl,Lo=$o,$o=ds,Wo=Ao,Ao=$l}Jo=xl.neg(),Qo=ds;var Al=Vo.sqr().add(Go.sqr()),Il=Jo.sqr().add(Qo.sqr());return Il.cmp(Al)>=0&&(Jo=jo,Qo=zo),Vo.negative&&(Vo=Vo.neg(),Go=Go.neg()),Jo.negative&&(Jo=Jo.neg(),Qo=Qo.neg()),[{a:Vo,b:Go},{a:Jo,b:Qo}]};ShortCurve.prototype._endoSplit=function(Mn){var io=this.endo.basis,fo=io[0],mo=io[1],$o=mo.b.mul(Mn).divRound(this.n),Ao=fo.b.neg().mul(Mn).divRound(this.n),Lo=$o.mul(fo.a),Wo=Ao.mul(mo.a),jo=$o.mul(fo.b),zo=Ao.mul(mo.b),Vo=Mn.sub(Lo).sub(Wo),Go=jo.add(zo).neg();return{k1:Vo,k2:Go}};ShortCurve.prototype.pointFromX=function(Mn,io){Mn=new BN$6(Mn,16),Mn.red||(Mn=Mn.toRed(this.red));var fo=Mn.redSqr().redMul(Mn).redIAdd(Mn.redMul(this.a)).redIAdd(this.b),mo=fo.redSqrt();if(mo.redSqr().redSub(fo).cmp(this.zero)!==0)throw new Error("invalid point");var $o=mo.fromRed().isOdd();return(io&&!$o||!io&&$o)&&(mo=mo.redNeg()),this.point(Mn,mo)};ShortCurve.prototype.validate=function(Mn){if(Mn.inf)return!0;var io=Mn.x,fo=Mn.y,mo=this.a.redMul(io),$o=io.redSqr().redMul(io).redIAdd(mo).redIAdd(this.b);return fo.redSqr().redISub($o).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function(Mn,io,fo){for(var mo=this._endoWnafT1,$o=this._endoWnafT2,Ao=0;Ao<Mn.length;Ao++){var Lo=this._endoSplit(io[Ao]),Wo=Mn[Ao],jo=Wo._getBeta();Lo.k1.negative&&(Lo.k1.ineg(),Wo=Wo.neg(!0)),Lo.k2.negative&&(Lo.k2.ineg(),jo=jo.neg(!0)),mo[Ao*2]=Wo,mo[Ao*2+1]=jo,$o[Ao*2]=Lo.k1,$o[Ao*2+1]=Lo.k2}for(var zo=this._wnafMulAdd(1,mo,$o,Ao*2,fo),Vo=0;Vo<Ao*2;Vo++)mo[Vo]=null,$o[Vo]=null;return zo};function Point$3(Fn,Mn,io,fo){Base$3.BasePoint.call(this,Fn,"affine"),Mn===null&&io===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$6(Mn,16),this.y=new BN$6(io,16),fo&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits$3(Point$3,Base$3.BasePoint);ShortCurve.prototype.point=function(Mn,io,fo){return new Point$3(this,Mn,io,fo)};ShortCurve.prototype.pointFromJSON=function(Mn,io){return Point$3.fromJSON(this,Mn,io)};Point$3.prototype._getBeta=function(){if(this.curve.endo){var Mn=this.precomputed;if(Mn&&Mn.beta)return Mn.beta;var io=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(Mn){var fo=this.curve,mo=function($o){return fo.point($o.x.redMul(fo.endo.beta),$o.y)};Mn.beta=io,io.precomputed={beta:null,naf:Mn.naf&&{wnd:Mn.naf.wnd,points:Mn.naf.points.map(mo)},doubles:Mn.doubles&&{step:Mn.doubles.step,points:Mn.doubles.points.map(mo)}}}return io}};Point$3.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$3.fromJSON=function(Mn,io,fo){typeof io=="string"&&(io=JSON.parse(io));var mo=Mn.point(io[0],io[1],fo);if(!io[2])return mo;function $o(Lo){return Mn.point(Lo[0],Lo[1],fo)}var Ao=io[2];return mo.precomputed={beta:null,doubles:Ao.doubles&&{step:Ao.doubles.step,points:[mo].concat(Ao.doubles.points.map($o))},naf:Ao.naf&&{wnd:Ao.naf.wnd,points:[mo].concat(Ao.naf.points.map($o))}},mo};Point$3.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$3.prototype.isInfinity=function(){return this.inf};Point$3.prototype.add=function(Mn){if(this.inf)return Mn;if(Mn.inf)return this;if(this.eq(Mn))return this.dbl();if(this.neg().eq(Mn))return this.curve.point(null,null);if(this.x.cmp(Mn.x)===0)return this.curve.point(null,null);var io=this.y.redSub(Mn.y);io.cmpn(0)!==0&&(io=io.redMul(this.x.redSub(Mn.x).redInvm()));var fo=io.redSqr().redISub(this.x).redISub(Mn.x),mo=io.redMul(this.x.redSub(fo)).redISub(this.y);return this.curve.point(fo,mo)};Point$3.prototype.dbl=function(){if(this.inf)return this;var Mn=this.y.redAdd(this.y);if(Mn.cmpn(0)===0)return this.curve.point(null,null);var io=this.curve.a,fo=this.x.redSqr(),mo=Mn.redInvm(),$o=fo.redAdd(fo).redIAdd(fo).redIAdd(io).redMul(mo),Ao=$o.redSqr().redISub(this.x.redAdd(this.x)),Lo=$o.redMul(this.x.redSub(Ao)).redISub(this.y);return this.curve.point(Ao,Lo)};Point$3.prototype.getX=function(){return this.x.fromRed()};Point$3.prototype.getY=function(){return this.y.fromRed()};Point$3.prototype.mul=function(Mn){return Mn=new BN$6(Mn,16),this.isInfinity()?this:this._hasDoubles(Mn)?this.curve._fixedNafMul(this,Mn):this.curve.endo?this.curve._endoWnafMulAdd([this],[Mn]):this.curve._wnafMul(this,Mn)};Point$3.prototype.mulAdd=function(Mn,io,fo){var mo=[this,io],$o=[Mn,fo];return this.curve.endo?this.curve._endoWnafMulAdd(mo,$o):this.curve._wnafMulAdd(1,mo,$o,2)};Point$3.prototype.jmulAdd=function(Mn,io,fo){var mo=[this,io],$o=[Mn,fo];return this.curve.endo?this.curve._endoWnafMulAdd(mo,$o,!0):this.curve._wnafMulAdd(1,mo,$o,2,!0)};Point$3.prototype.eq=function(Mn){return this===Mn||this.inf===Mn.inf&&(this.inf||this.x.cmp(Mn.x)===0&&this.y.cmp(Mn.y)===0)};Point$3.prototype.neg=function(Mn){if(this.inf)return this;var io=this.curve.point(this.x,this.y.redNeg());if(Mn&&this.precomputed){var fo=this.precomputed,mo=function($o){return $o.neg()};io.precomputed={naf:fo.naf&&{wnd:fo.naf.wnd,points:fo.naf.points.map(mo)},doubles:fo.doubles&&{step:fo.doubles.step,points:fo.doubles.points.map(mo)}}}return io};Point$3.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var Mn=this.curve.jpoint(this.x,this.y,this.curve.one);return Mn};function JPoint(Fn,Mn,io,fo){Base$3.BasePoint.call(this,Fn,"jacobian"),Mn===null&&io===null&&fo===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$6(0)):(this.x=new BN$6(Mn,16),this.y=new BN$6(io,16),this.z=new BN$6(fo,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits$3(JPoint,Base$3.BasePoint);ShortCurve.prototype.jpoint=function(Mn,io,fo){return new JPoint(this,Mn,io,fo)};JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var Mn=this.z.redInvm(),io=Mn.redSqr(),fo=this.x.redMul(io),mo=this.y.redMul(io).redMul(Mn);return this.curve.point(fo,mo)};JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function(Mn){if(this.isInfinity())return Mn;if(Mn.isInfinity())return this;var io=Mn.z.redSqr(),fo=this.z.redSqr(),mo=this.x.redMul(io),$o=Mn.x.redMul(fo),Ao=this.y.redMul(io.redMul(Mn.z)),Lo=Mn.y.redMul(fo.redMul(this.z)),Wo=mo.redSub($o),jo=Ao.redSub(Lo);if(Wo.cmpn(0)===0)return jo.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var zo=Wo.redSqr(),Vo=zo.redMul(Wo),Go=mo.redMul(zo),Jo=jo.redSqr().redIAdd(Vo).redISub(Go).redISub(Go),Qo=jo.redMul(Go.redISub(Jo)).redISub(Ao.redMul(Vo)),os=this.z.redMul(Mn.z).redMul(Wo);return this.curve.jpoint(Jo,Qo,os)};JPoint.prototype.mixedAdd=function(Mn){if(this.isInfinity())return Mn.toJ();if(Mn.isInfinity())return this;var io=this.z.redSqr(),fo=this.x,mo=Mn.x.redMul(io),$o=this.y,Ao=Mn.y.redMul(io).redMul(this.z),Lo=fo.redSub(mo),Wo=$o.redSub(Ao);if(Lo.cmpn(0)===0)return Wo.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var jo=Lo.redSqr(),zo=jo.redMul(Lo),Vo=fo.redMul(jo),Go=Wo.redSqr().redIAdd(zo).redISub(Vo).redISub(Vo),Jo=Wo.redMul(Vo.redISub(Go)).redISub($o.redMul(zo)),Qo=this.z.redMul(Lo);return this.curve.jpoint(Go,Jo,Qo)};JPoint.prototype.dblp=function(Mn){if(Mn===0)return this;if(this.isInfinity())return this;if(!Mn)return this.dbl();var io;if(this.curve.zeroA||this.curve.threeA){var fo=this;for(io=0;io<Mn;io++)fo=fo.dbl();return fo}var mo=this.curve.a,$o=this.curve.tinv,Ao=this.x,Lo=this.y,Wo=this.z,jo=Wo.redSqr().redSqr(),zo=Lo.redAdd(Lo);for(io=0;io<Mn;io++){var Vo=Ao.redSqr(),Go=zo.redSqr(),Jo=Go.redSqr(),Qo=Vo.redAdd(Vo).redIAdd(Vo).redIAdd(mo.redMul(jo)),os=Ao.redMul(Go),Cl=Qo.redSqr().redISub(os.redAdd(os)),xl=os.redISub(Cl),ds=Qo.redMul(xl);ds=ds.redIAdd(ds).redISub(Jo);var _c=zo.redMul(Wo);io+1<Mn&&(jo=jo.redMul(Jo)),Ao=Cl,Wo=_c,zo=ds}return this.curve.jpoint(Ao,zo.redMul($o),Wo)};JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function(){var Mn,io,fo;if(this.zOne){var mo=this.x.redSqr(),$o=this.y.redSqr(),Ao=$o.redSqr(),Lo=this.x.redAdd($o).redSqr().redISub(mo).redISub(Ao);Lo=Lo.redIAdd(Lo);var Wo=mo.redAdd(mo).redIAdd(mo),jo=Wo.redSqr().redISub(Lo).redISub(Lo),zo=Ao.redIAdd(Ao);zo=zo.redIAdd(zo),zo=zo.redIAdd(zo),Mn=jo,io=Wo.redMul(Lo.redISub(jo)).redISub(zo),fo=this.y.redAdd(this.y)}else{var Vo=this.x.redSqr(),Go=this.y.redSqr(),Jo=Go.redSqr(),Qo=this.x.redAdd(Go).redSqr().redISub(Vo).redISub(Jo);Qo=Qo.redIAdd(Qo);var os=Vo.redAdd(Vo).redIAdd(Vo),Cl=os.redSqr(),xl=Jo.redIAdd(Jo);xl=xl.redIAdd(xl),xl=xl.redIAdd(xl),Mn=Cl.redISub(Qo).redISub(Qo),io=os.redMul(Qo.redISub(Mn)).redISub(xl),fo=this.y.redMul(this.z),fo=fo.redIAdd(fo)}return this.curve.jpoint(Mn,io,fo)};JPoint.prototype._threeDbl=function(){var Mn,io,fo;if(this.zOne){var mo=this.x.redSqr(),$o=this.y.redSqr(),Ao=$o.redSqr(),Lo=this.x.redAdd($o).redSqr().redISub(mo).redISub(Ao);Lo=Lo.redIAdd(Lo);var Wo=mo.redAdd(mo).redIAdd(mo).redIAdd(this.curve.a),jo=Wo.redSqr().redISub(Lo).redISub(Lo);Mn=jo;var zo=Ao.redIAdd(Ao);zo=zo.redIAdd(zo),zo=zo.redIAdd(zo),io=Wo.redMul(Lo.redISub(jo)).redISub(zo),fo=this.y.redAdd(this.y)}else{var Vo=this.z.redSqr(),Go=this.y.redSqr(),Jo=this.x.redMul(Go),Qo=this.x.redSub(Vo).redMul(this.x.redAdd(Vo));Qo=Qo.redAdd(Qo).redIAdd(Qo);var os=Jo.redIAdd(Jo);os=os.redIAdd(os);var Cl=os.redAdd(os);Mn=Qo.redSqr().redISub(Cl),fo=this.y.redAdd(this.z).redSqr().redISub(Go).redISub(Vo);var xl=Go.redSqr();xl=xl.redIAdd(xl),xl=xl.redIAdd(xl),xl=xl.redIAdd(xl),io=Qo.redMul(os.redISub(Mn)).redISub(xl)}return this.curve.jpoint(Mn,io,fo)};JPoint.prototype._dbl=function(){var Mn=this.curve.a,io=this.x,fo=this.y,mo=this.z,$o=mo.redSqr().redSqr(),Ao=io.redSqr(),Lo=fo.redSqr(),Wo=Ao.redAdd(Ao).redIAdd(Ao).redIAdd(Mn.redMul($o)),jo=io.redAdd(io);jo=jo.redIAdd(jo);var zo=jo.redMul(Lo),Vo=Wo.redSqr().redISub(zo.redAdd(zo)),Go=zo.redISub(Vo),Jo=Lo.redSqr();Jo=Jo.redIAdd(Jo),Jo=Jo.redIAdd(Jo),Jo=Jo.redIAdd(Jo);var Qo=Wo.redMul(Go).redISub(Jo),os=fo.redAdd(fo).redMul(mo);return this.curve.jpoint(Vo,Qo,os)};JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var Mn=this.x.redSqr(),io=this.y.redSqr(),fo=this.z.redSqr(),mo=io.redSqr(),$o=Mn.redAdd(Mn).redIAdd(Mn),Ao=$o.redSqr(),Lo=this.x.redAdd(io).redSqr().redISub(Mn).redISub(mo);Lo=Lo.redIAdd(Lo),Lo=Lo.redAdd(Lo).redIAdd(Lo),Lo=Lo.redISub(Ao);var Wo=Lo.redSqr(),jo=mo.redIAdd(mo);jo=jo.redIAdd(jo),jo=jo.redIAdd(jo),jo=jo.redIAdd(jo);var zo=$o.redIAdd(Lo).redSqr().redISub(Ao).redISub(Wo).redISub(jo),Vo=io.redMul(zo);Vo=Vo.redIAdd(Vo),Vo=Vo.redIAdd(Vo);var Go=this.x.redMul(Wo).redISub(Vo);Go=Go.redIAdd(Go),Go=Go.redIAdd(Go);var Jo=this.y.redMul(zo.redMul(jo.redISub(zo)).redISub(Lo.redMul(Wo)));Jo=Jo.redIAdd(Jo),Jo=Jo.redIAdd(Jo),Jo=Jo.redIAdd(Jo);var Qo=this.z.redAdd(Lo).redSqr().redISub(fo).redISub(Wo);return this.curve.jpoint(Go,Jo,Qo)};JPoint.prototype.mul=function(Mn,io){return Mn=new BN$6(Mn,io),this.curve._wnafMul(this,Mn)};JPoint.prototype.eq=function(Mn){if(Mn.type==="affine")return this.eq(Mn.toJ());if(this===Mn)return!0;var io=this.z.redSqr(),fo=Mn.z.redSqr();if(this.x.redMul(fo).redISub(Mn.x.redMul(io)).cmpn(0)!==0)return!1;var mo=io.redMul(this.z),$o=fo.redMul(Mn.z);return this.y.redMul($o).redISub(Mn.y.redMul(mo)).cmpn(0)===0};JPoint.prototype.eqXToP=function(Mn){var io=this.z.redSqr(),fo=Mn.toRed(this.curve.red).redMul(io);if(this.x.cmp(fo)===0)return!0;for(var mo=Mn.clone(),$o=this.curve.redN.redMul(io);;){if(mo.iadd(this.curve.n),mo.cmp(this.curve.p)>=0)return!1;if(fo.redIAdd($o),this.x.cmp(fo)===0)return!0}};JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var BN$5=bnExports,inherits$2=inherits_browserExports,Base$2=base$f,utils$m=utils$q;function MontCurve(Fn){Base$2.call(this,"mont",Fn),this.a=new BN$5(Fn.a,16).toRed(this.red),this.b=new BN$5(Fn.b,16).toRed(this.red),this.i4=new BN$5(4).toRed(this.red).redInvm(),this.two=new BN$5(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$2(MontCurve,Base$2);var mont=MontCurve;MontCurve.prototype.validate=function(Mn){var io=Mn.normalize().x,fo=io.redSqr(),mo=fo.redMul(io).redAdd(fo.redMul(this.a)).redAdd(io),$o=mo.redSqrt();return $o.redSqr().cmp(mo)===0};function Point$2(Fn,Mn,io){Base$2.BasePoint.call(this,Fn,"projective"),Mn===null&&io===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$5(Mn,16),this.z=new BN$5(io,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits$2(Point$2,Base$2.BasePoint);MontCurve.prototype.decodePoint=function(Mn,io){return this.point(utils$m.toArray(Mn,io),1)};MontCurve.prototype.point=function(Mn,io){return new Point$2(this,Mn,io)};MontCurve.prototype.pointFromJSON=function(Mn){return Point$2.fromJSON(this,Mn)};Point$2.prototype.precompute=function(){};Point$2.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Point$2.fromJSON=function(Mn,io){return new Point$2(Mn,io[0],io[1]||Mn.one)};Point$2.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$2.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Point$2.prototype.dbl=function(){var Mn=this.x.redAdd(this.z),io=Mn.redSqr(),fo=this.x.redSub(this.z),mo=fo.redSqr(),$o=io.redSub(mo),Ao=io.redMul(mo),Lo=$o.redMul(mo.redAdd(this.curve.a24.redMul($o)));return this.curve.point(Ao,Lo)};Point$2.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Point$2.prototype.diffAdd=function(Mn,io){var fo=this.x.redAdd(this.z),mo=this.x.redSub(this.z),$o=Mn.x.redAdd(Mn.z),Ao=Mn.x.redSub(Mn.z),Lo=Ao.redMul(fo),Wo=$o.redMul(mo),jo=io.z.redMul(Lo.redAdd(Wo).redSqr()),zo=io.x.redMul(Lo.redISub(Wo).redSqr());return this.curve.point(jo,zo)};Point$2.prototype.mul=function(Mn){for(var io=Mn.clone(),fo=this,mo=this.curve.point(null,null),$o=this,Ao=[];io.cmpn(0)!==0;io.iushrn(1))Ao.push(io.andln(1));for(var Lo=Ao.length-1;Lo>=0;Lo--)Ao[Lo]===0?(fo=fo.diffAdd(mo,$o),mo=mo.dbl()):(mo=fo.diffAdd(mo,$o),fo=fo.dbl());return mo};Point$2.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$2.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$2.prototype.eq=function(Mn){return this.getX().cmp(Mn.getX())===0};Point$2.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Point$2.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var utils$l=utils$q,BN$4=bnExports,inherits$1=inherits_browserExports,Base$1=base$f,assert$c=utils$l.assert;function EdwardsCurve(Fn){this.twisted=(Fn.a|0)!==1,this.mOneA=this.twisted&&(Fn.a|0)===-1,this.extended=this.mOneA,Base$1.call(this,"edwards",Fn),this.a=new BN$4(Fn.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$4(Fn.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$4(Fn.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(Fn.c|0)===1}inherits$1(EdwardsCurve,Base$1);var edwards=EdwardsCurve;EdwardsCurve.prototype._mulA=function(Mn){return this.mOneA?Mn.redNeg():this.a.redMul(Mn)};EdwardsCurve.prototype._mulC=function(Mn){return this.oneC?Mn:this.c.redMul(Mn)};EdwardsCurve.prototype.jpoint=function(Mn,io,fo,mo){return this.point(Mn,io,fo,mo)};EdwardsCurve.prototype.pointFromX=function(Mn,io){Mn=new BN$4(Mn,16),Mn.red||(Mn=Mn.toRed(this.red));var fo=Mn.redSqr(),mo=this.c2.redSub(this.a.redMul(fo)),$o=this.one.redSub(this.c2.redMul(this.d).redMul(fo)),Ao=mo.redMul($o.redInvm()),Lo=Ao.redSqrt();if(Lo.redSqr().redSub(Ao).cmp(this.zero)!==0)throw new Error("invalid point");var Wo=Lo.fromRed().isOdd();return(io&&!Wo||!io&&Wo)&&(Lo=Lo.redNeg()),this.point(Mn,Lo)};EdwardsCurve.prototype.pointFromY=function(Mn,io){Mn=new BN$4(Mn,16),Mn.red||(Mn=Mn.toRed(this.red));var fo=Mn.redSqr(),mo=fo.redSub(this.c2),$o=fo.redMul(this.d).redMul(this.c2).redSub(this.a),Ao=mo.redMul($o.redInvm());if(Ao.cmp(this.zero)===0){if(io)throw new Error("invalid point");return this.point(this.zero,Mn)}var Lo=Ao.redSqrt();if(Lo.redSqr().redSub(Ao).cmp(this.zero)!==0)throw new Error("invalid point");return Lo.fromRed().isOdd()!==io&&(Lo=Lo.redNeg()),this.point(Lo,Mn)};EdwardsCurve.prototype.validate=function(Mn){if(Mn.isInfinity())return!0;Mn.normalize();var io=Mn.x.redSqr(),fo=Mn.y.redSqr(),mo=io.redMul(this.a).redAdd(fo),$o=this.c2.redMul(this.one.redAdd(this.d.redMul(io).redMul(fo)));return mo.cmp($o)===0};function Point$1(Fn,Mn,io,fo,mo){Base$1.BasePoint.call(this,Fn,"projective"),Mn===null&&io===null&&fo===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$4(Mn,16),this.y=new BN$4(io,16),this.z=fo?new BN$4(fo,16):this.curve.one,this.t=mo&&new BN$4(mo,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits$1(Point$1,Base$1.BasePoint);EdwardsCurve.prototype.pointFromJSON=function(Mn){return Point$1.fromJSON(this,Mn)};EdwardsCurve.prototype.point=function(Mn,io,fo,mo){return new Point$1(this,Mn,io,fo,mo)};Point$1.fromJSON=function(Mn,io){return new Point$1(Mn,io[0],io[1],io[2])};Point$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$1.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point$1.prototype._extDbl=function(){var Mn=this.x.redSqr(),io=this.y.redSqr(),fo=this.z.redSqr();fo=fo.redIAdd(fo);var mo=this.curve._mulA(Mn),$o=this.x.redAdd(this.y).redSqr().redISub(Mn).redISub(io),Ao=mo.redAdd(io),Lo=Ao.redSub(fo),Wo=mo.redSub(io),jo=$o.redMul(Lo),zo=Ao.redMul(Wo),Vo=$o.redMul(Wo),Go=Lo.redMul(Ao);return this.curve.point(jo,zo,Go,Vo)};Point$1.prototype._projDbl=function(){var Mn=this.x.redAdd(this.y).redSqr(),io=this.x.redSqr(),fo=this.y.redSqr(),mo,$o,Ao,Lo,Wo,jo;if(this.curve.twisted){Lo=this.curve._mulA(io);var zo=Lo.redAdd(fo);this.zOne?(mo=Mn.redSub(io).redSub(fo).redMul(zo.redSub(this.curve.two)),$o=zo.redMul(Lo.redSub(fo)),Ao=zo.redSqr().redSub(zo).redSub(zo)):(Wo=this.z.redSqr(),jo=zo.redSub(Wo).redISub(Wo),mo=Mn.redSub(io).redISub(fo).redMul(jo),$o=zo.redMul(Lo.redSub(fo)),Ao=zo.redMul(jo))}else Lo=io.redAdd(fo),Wo=this.curve._mulC(this.z).redSqr(),jo=Lo.redSub(Wo).redSub(Wo),mo=this.curve._mulC(Mn.redISub(Lo)).redMul(jo),$o=this.curve._mulC(Lo).redMul(io.redISub(fo)),Ao=Lo.redMul(jo);return this.curve.point(mo,$o,Ao)};Point$1.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Point$1.prototype._extAdd=function(Mn){var io=this.y.redSub(this.x).redMul(Mn.y.redSub(Mn.x)),fo=this.y.redAdd(this.x).redMul(Mn.y.redAdd(Mn.x)),mo=this.t.redMul(this.curve.dd).redMul(Mn.t),$o=this.z.redMul(Mn.z.redAdd(Mn.z)),Ao=fo.redSub(io),Lo=$o.redSub(mo),Wo=$o.redAdd(mo),jo=fo.redAdd(io),zo=Ao.redMul(Lo),Vo=Wo.redMul(jo),Go=Ao.redMul(jo),Jo=Lo.redMul(Wo);return this.curve.point(zo,Vo,Jo,Go)};Point$1.prototype._projAdd=function(Mn){var io=this.z.redMul(Mn.z),fo=io.redSqr(),mo=this.x.redMul(Mn.x),$o=this.y.redMul(Mn.y),Ao=this.curve.d.redMul(mo).redMul($o),Lo=fo.redSub(Ao),Wo=fo.redAdd(Ao),jo=this.x.redAdd(this.y).redMul(Mn.x.redAdd(Mn.y)).redISub(mo).redISub($o),zo=io.redMul(Lo).redMul(jo),Vo,Go;return this.curve.twisted?(Vo=io.redMul(Wo).redMul($o.redSub(this.curve._mulA(mo))),Go=Lo.redMul(Wo)):(Vo=io.redMul(Wo).redMul($o.redSub(mo)),Go=this.curve._mulC(Lo).redMul(Wo)),this.curve.point(zo,Vo,Go)};Point$1.prototype.add=function(Mn){return this.isInfinity()?Mn:Mn.isInfinity()?this:this.curve.extended?this._extAdd(Mn):this._projAdd(Mn)};Point$1.prototype.mul=function(Mn){return this._hasDoubles(Mn)?this.curve._fixedNafMul(this,Mn):this.curve._wnafMul(this,Mn)};Point$1.prototype.mulAdd=function(Mn,io,fo){return this.curve._wnafMulAdd(1,[this,io],[Mn,fo],2,!1)};Point$1.prototype.jmulAdd=function(Mn,io,fo){return this.curve._wnafMulAdd(1,[this,io],[Mn,fo],2,!0)};Point$1.prototype.normalize=function(){if(this.zOne)return this;var Mn=this.z.redInvm();return this.x=this.x.redMul(Mn),this.y=this.y.redMul(Mn),this.t&&(this.t=this.t.redMul(Mn)),this.z=this.curve.one,this.zOne=!0,this};Point$1.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point$1.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Point$1.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Point$1.prototype.eq=function(Mn){return this===Mn||this.getX().cmp(Mn.getX())===0&&this.getY().cmp(Mn.getY())===0};Point$1.prototype.eqXToP=function(Mn){var io=Mn.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(io)===0)return!0;for(var fo=Mn.clone(),mo=this.curve.redN.redMul(this.z);;){if(fo.iadd(this.curve.n),fo.cmp(this.curve.p)>=0)return!1;if(io.redIAdd(mo),this.x.cmp(io)===0)return!0}};Point$1.prototype.toP=Point$1.prototype.normalize;Point$1.prototype.mixedAdd=Point$1.prototype.add;(function(Fn){var Mn=Fn;Mn.base=base$f,Mn.short=short,Mn.mont=mont,Mn.edwards=edwards})(curve);var curves$2={},hash$4={},utils$k={},assert$b=minimalisticAssert,inherits=inherits_browserExports;utils$k.inherits=inherits;function isSurrogatePair(Fn,Mn){return(Fn.charCodeAt(Mn)&64512)!==55296||Mn<0||Mn+1>=Fn.length?!1:(Fn.charCodeAt(Mn+1)&64512)===56320}function toArray(Fn,Mn){if(Array.isArray(Fn))return Fn.slice();if(!Fn)return[];var io=[];if(typeof Fn=="string")if(Mn){if(Mn==="hex")for(Fn=Fn.replace(/[^a-z0-9]+/ig,""),Fn.length%2!==0&&(Fn="0"+Fn),mo=0;mo<Fn.length;mo+=2)io.push(parseInt(Fn[mo]+Fn[mo+1],16))}else for(var fo=0,mo=0;mo<Fn.length;mo++){var $o=Fn.charCodeAt(mo);$o<128?io[fo++]=$o:$o<2048?(io[fo++]=$o>>6|192,io[fo++]=$o&63|128):isSurrogatePair(Fn,mo)?($o=65536+(($o&1023)<<10)+(Fn.charCodeAt(++mo)&1023),io[fo++]=$o>>18|240,io[fo++]=$o>>12&63|128,io[fo++]=$o>>6&63|128,io[fo++]=$o&63|128):(io[fo++]=$o>>12|224,io[fo++]=$o>>6&63|128,io[fo++]=$o&63|128)}else for(mo=0;mo<Fn.length;mo++)io[mo]=Fn[mo]|0;return io}utils$k.toArray=toArray;function toHex$1(Fn){for(var Mn="",io=0;io<Fn.length;io++)Mn+=zero2(Fn[io].toString(16));return Mn}utils$k.toHex=toHex$1;function htonl(Fn){var Mn=Fn>>>24|Fn>>>8&65280|Fn<<8&16711680|(Fn&255)<<24;return Mn>>>0}utils$k.htonl=htonl;function toHex32(Fn,Mn){for(var io="",fo=0;fo<Fn.length;fo++){var mo=Fn[fo];Mn==="little"&&(mo=htonl(mo)),io+=zero8(mo.toString(16))}return io}utils$k.toHex32=toHex32;function zero2(Fn){return Fn.length===1?"0"+Fn:Fn}utils$k.zero2=zero2;function zero8(Fn){return Fn.length===7?"0"+Fn:Fn.length===6?"00"+Fn:Fn.length===5?"000"+Fn:Fn.length===4?"0000"+Fn:Fn.length===3?"00000"+Fn:Fn.length===2?"000000"+Fn:Fn.length===1?"0000000"+Fn:Fn}utils$k.zero8=zero8;function join32(Fn,Mn,io,fo){var mo=io-Mn;assert$b(mo%4===0);for(var $o=new Array(mo/4),Ao=0,Lo=Mn;Ao<$o.length;Ao++,Lo+=4){var Wo;fo==="big"?Wo=Fn[Lo]<<24|Fn[Lo+1]<<16|Fn[Lo+2]<<8|Fn[Lo+3]:Wo=Fn[Lo+3]<<24|Fn[Lo+2]<<16|Fn[Lo+1]<<8|Fn[Lo],$o[Ao]=Wo>>>0}return $o}utils$k.join32=join32;function split32(Fn,Mn){for(var io=new Array(Fn.length*4),fo=0,mo=0;fo<Fn.length;fo++,mo+=4){var $o=Fn[fo];Mn==="big"?(io[mo]=$o>>>24,io[mo+1]=$o>>>16&255,io[mo+2]=$o>>>8&255,io[mo+3]=$o&255):(io[mo+3]=$o>>>24,io[mo+2]=$o>>>16&255,io[mo+1]=$o>>>8&255,io[mo]=$o&255)}return io}utils$k.split32=split32;function rotr32$1(Fn,Mn){return Fn>>>Mn|Fn<<32-Mn}utils$k.rotr32=rotr32$1;function rotl32$2(Fn,Mn){return Fn<<Mn|Fn>>>32-Mn}utils$k.rotl32=rotl32$2;function sum32$3(Fn,Mn){return Fn+Mn>>>0}utils$k.sum32=sum32$3;function sum32_3$1(Fn,Mn,io){return Fn+Mn+io>>>0}utils$k.sum32_3=sum32_3$1;function sum32_4$2(Fn,Mn,io,fo){return Fn+Mn+io+fo>>>0}utils$k.sum32_4=sum32_4$2;function sum32_5$2(Fn,Mn,io,fo,mo){return Fn+Mn+io+fo+mo>>>0}utils$k.sum32_5=sum32_5$2;function sum64$1(Fn,Mn,io,fo){var mo=Fn[Mn],$o=Fn[Mn+1],Ao=fo+$o>>>0,Lo=(Ao<fo?1:0)+io+mo;Fn[Mn]=Lo>>>0,Fn[Mn+1]=Ao}utils$k.sum64=sum64$1;function sum64_hi$1(Fn,Mn,io,fo){var mo=Mn+fo>>>0,$o=(mo<Mn?1:0)+Fn+io;return $o>>>0}utils$k.sum64_hi=sum64_hi$1;function sum64_lo$1(Fn,Mn,io,fo){var mo=Mn+fo;return mo>>>0}utils$k.sum64_lo=sum64_lo$1;function sum64_4_hi$1(Fn,Mn,io,fo,mo,$o,Ao,Lo){var Wo=0,jo=Mn;jo=jo+fo>>>0,Wo+=jo<Mn?1:0,jo=jo+$o>>>0,Wo+=jo<$o?1:0,jo=jo+Lo>>>0,Wo+=jo<Lo?1:0;var zo=Fn+io+mo+Ao+Wo;return zo>>>0}utils$k.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(Fn,Mn,io,fo,mo,$o,Ao,Lo){var Wo=Mn+fo+$o+Lo;return Wo>>>0}utils$k.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(Fn,Mn,io,fo,mo,$o,Ao,Lo,Wo,jo){var zo=0,Vo=Mn;Vo=Vo+fo>>>0,zo+=Vo<Mn?1:0,Vo=Vo+$o>>>0,zo+=Vo<$o?1:0,Vo=Vo+Lo>>>0,zo+=Vo<Lo?1:0,Vo=Vo+jo>>>0,zo+=Vo<jo?1:0;var Go=Fn+io+mo+Ao+Wo+zo;return Go>>>0}utils$k.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(Fn,Mn,io,fo,mo,$o,Ao,Lo,Wo,jo){var zo=Mn+fo+$o+Lo+jo;return zo>>>0}utils$k.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(Fn,Mn,io){var fo=Mn<<32-io|Fn>>>io;return fo>>>0}utils$k.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(Fn,Mn,io){var fo=Fn<<32-io|Mn>>>io;return fo>>>0}utils$k.rotr64_lo=rotr64_lo$1;function shr64_hi$1(Fn,Mn,io){return Fn>>>io}utils$k.shr64_hi=shr64_hi$1;function shr64_lo$1(Fn,Mn,io){var fo=Fn<<32-io|Mn>>>io;return fo>>>0}utils$k.shr64_lo=shr64_lo$1;var common$5={},utils$j=utils$k,assert$a=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(Mn,io){if(Mn=utils$j.toArray(Mn,io),this.pending?this.pending=this.pending.concat(Mn):this.pending=Mn,this.pendingTotal+=Mn.length,this.pending.length>=this._delta8){Mn=this.pending;var fo=Mn.length%this._delta8;this.pending=Mn.slice(Mn.length-fo,Mn.length),this.pending.length===0&&(this.pending=null),Mn=utils$j.join32(Mn,0,Mn.length-fo,this.endian);for(var mo=0;mo<Mn.length;mo+=this._delta32)this._update(Mn,mo,mo+this._delta32)}return this};BlockHash$4.prototype.digest=function(Mn){return this.update(this._pad()),assert$a(this.pending===null),this._digest(Mn)};BlockHash$4.prototype._pad=function(){var Mn=this.pendingTotal,io=this._delta8,fo=io-(Mn+this.padLength)%io,mo=new Array(fo+this.padLength);mo[0]=128;for(var $o=1;$o<fo;$o++)mo[$o]=0;if(Mn<<=3,this.endian==="big"){for(var Ao=8;Ao<this.padLength;Ao++)mo[$o++]=0;mo[$o++]=0,mo[$o++]=0,mo[$o++]=0,mo[$o++]=0,mo[$o++]=Mn>>>24&255,mo[$o++]=Mn>>>16&255,mo[$o++]=Mn>>>8&255,mo[$o++]=Mn&255}else for(mo[$o++]=Mn&255,mo[$o++]=Mn>>>8&255,mo[$o++]=Mn>>>16&255,mo[$o++]=Mn>>>24&255,mo[$o++]=0,mo[$o++]=0,mo[$o++]=0,mo[$o++]=0,Ao=8;Ao<this.padLength;Ao++)mo[$o++]=0;return mo};var sha$5={},common$4={},utils$i=utils$k,rotr32=utils$i.rotr32;function ft_1$1(Fn,Mn,io,fo){if(Fn===0)return ch32$1(Mn,io,fo);if(Fn===1||Fn===3)return p32(Mn,io,fo);if(Fn===2)return maj32$1(Mn,io,fo)}common$4.ft_1=ft_1$1;function ch32$1(Fn,Mn,io){return Fn&Mn^~Fn&io}common$4.ch32=ch32$1;function maj32$1(Fn,Mn,io){return Fn&Mn^Fn&io^Mn&io}common$4.maj32=maj32$1;function p32(Fn,Mn,io){return Fn^Mn^io}common$4.p32=p32;function s0_256$1(Fn){return rotr32(Fn,2)^rotr32(Fn,13)^rotr32(Fn,22)}common$4.s0_256=s0_256$1;function s1_256$1(Fn){return rotr32(Fn,6)^rotr32(Fn,11)^rotr32(Fn,25)}common$4.s1_256=s1_256$1;function g0_256$1(Fn){return rotr32(Fn,7)^rotr32(Fn,18)^Fn>>>3}common$4.g0_256=g0_256$1;function g1_256$1(Fn){return rotr32(Fn,17)^rotr32(Fn,19)^Fn>>>10}common$4.g1_256=g1_256$1;var utils$h=utils$k,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$h.rotl32,sum32$2=utils$h.sum32,sum32_5$1=utils$h.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$h.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function(Mn,io){for(var fo=this.W,mo=0;mo<16;mo++)fo[mo]=Mn[io+mo];for(;mo<fo.length;mo++)fo[mo]=rotl32$1(fo[mo-3]^fo[mo-8]^fo[mo-14]^fo[mo-16],1);var $o=this.h[0],Ao=this.h[1],Lo=this.h[2],Wo=this.h[3],jo=this.h[4];for(mo=0;mo<fo.length;mo++){var zo=~~(mo/20),Vo=sum32_5$1(rotl32$1($o,5),ft_1(zo,Ao,Lo,Wo),jo,fo[mo],sha1_K[zo]);jo=Wo,Wo=Lo,Lo=rotl32$1(Ao,30),Ao=$o,$o=Vo}this.h[0]=sum32$2(this.h[0],$o),this.h[1]=sum32$2(this.h[1],Ao),this.h[2]=sum32$2(this.h[2],Lo),this.h[3]=sum32$2(this.h[3],Wo),this.h[4]=sum32$2(this.h[4],jo)};SHA1.prototype._digest=function(Mn){return Mn==="hex"?utils$h.toHex32(this.h,"big"):utils$h.split32(this.h,"big")};var utils$g=utils$k,common$2=common$5,shaCommon=common$4,assert$9=minimalisticAssert,sum32$1=utils$g.sum32,sum32_4$1=utils$g.sum32_4,sum32_5=utils$g.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$3(){if(!(this instanceof SHA256$3))return new SHA256$3;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$g.inherits(SHA256$3,BlockHash$2);var _256=SHA256$3;SHA256$3.blockSize=512;SHA256$3.outSize=256;SHA256$3.hmacStrength=192;SHA256$3.padLength=64;SHA256$3.prototype._update=function(Mn,io){for(var fo=this.W,mo=0;mo<16;mo++)fo[mo]=Mn[io+mo];for(;mo<fo.length;mo++)fo[mo]=sum32_4$1(g1_256(fo[mo-2]),fo[mo-7],g0_256(fo[mo-15]),fo[mo-16]);var $o=this.h[0],Ao=this.h[1],Lo=this.h[2],Wo=this.h[3],jo=this.h[4],zo=this.h[5],Vo=this.h[6],Go=this.h[7];for(assert$9(this.k.length===fo.length),mo=0;mo<fo.length;mo++){var Jo=sum32_5(Go,s1_256(jo),ch32(jo,zo,Vo),this.k[mo],fo[mo]),Qo=sum32$1(s0_256($o),maj32($o,Ao,Lo));Go=Vo,Vo=zo,zo=jo,jo=sum32$1(Wo,Jo),Wo=Lo,Lo=Ao,Ao=$o,$o=sum32$1(Jo,Qo)}this.h[0]=sum32$1(this.h[0],$o),this.h[1]=sum32$1(this.h[1],Ao),this.h[2]=sum32$1(this.h[2],Lo),this.h[3]=sum32$1(this.h[3],Wo),this.h[4]=sum32$1(this.h[4],jo),this.h[5]=sum32$1(this.h[5],zo),this.h[6]=sum32$1(this.h[6],Vo),this.h[7]=sum32$1(this.h[7],Go)};SHA256$3.prototype._digest=function(Mn){return Mn==="hex"?utils$g.toHex32(this.h,"big"):utils$g.split32(this.h,"big")};var utils$f=utils$k,SHA256$2=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256$2.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$f.inherits(SHA224,SHA256$2);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function(Mn){return Mn==="hex"?utils$f.toHex32(this.h.slice(0,7),"big"):utils$f.split32(this.h.slice(0,7),"big")};var utils$e=utils$k,common$1=common$5,assert$8=minimalisticAssert,rotr64_hi=utils$e.rotr64_hi,rotr64_lo=utils$e.rotr64_lo,shr64_hi=utils$e.shr64_hi,shr64_lo=utils$e.shr64_lo,sum64=utils$e.sum64,sum64_hi=utils$e.sum64_hi,sum64_lo=utils$e.sum64_lo,sum64_4_hi=utils$e.sum64_4_hi,sum64_4_lo=utils$e.sum64_4_lo,sum64_5_hi=utils$e.sum64_5_hi,sum64_5_lo=utils$e.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$e.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024;SHA512$1.outSize=512;SHA512$1.hmacStrength=192;SHA512$1.padLength=128;SHA512$1.prototype._prepareBlock=function(Mn,io){for(var fo=this.W,mo=0;mo<32;mo++)fo[mo]=Mn[io+mo];for(;mo<fo.length;mo+=2){var $o=g1_512_hi(fo[mo-4],fo[mo-3]),Ao=g1_512_lo(fo[mo-4],fo[mo-3]),Lo=fo[mo-14],Wo=fo[mo-13],jo=g0_512_hi(fo[mo-30],fo[mo-29]),zo=g0_512_lo(fo[mo-30],fo[mo-29]),Vo=fo[mo-32],Go=fo[mo-31];fo[mo]=sum64_4_hi($o,Ao,Lo,Wo,jo,zo,Vo,Go),fo[mo+1]=sum64_4_lo($o,Ao,Lo,Wo,jo,zo,Vo,Go)}};SHA512$1.prototype._update=function(Mn,io){this._prepareBlock(Mn,io);var fo=this.W,mo=this.h[0],$o=this.h[1],Ao=this.h[2],Lo=this.h[3],Wo=this.h[4],jo=this.h[5],zo=this.h[6],Vo=this.h[7],Go=this.h[8],Jo=this.h[9],Qo=this.h[10],os=this.h[11],Cl=this.h[12],xl=this.h[13],ds=this.h[14],_c=this.h[15];assert$8(this.k.length===fo.length);for(var $l=0;$l<fo.length;$l+=2){var Al=ds,Il=_c,us=s1_512_hi(Go,Jo),ps=s1_512_lo(Go,Jo),Rl=ch64_hi(Go,Jo,Qo,os,Cl),Wl=ch64_lo(Go,Jo,Qo,os,Cl,xl),Nl=this.k[$l],wl=this.k[$l+1],Xo=fo[$l],rs=fo[$l+1],as=sum64_5_hi(Al,Il,us,ps,Rl,Wl,Nl,wl,Xo,rs),El=sum64_5_lo(Al,Il,us,ps,Rl,Wl,Nl,wl,Xo,rs);Al=s0_512_hi(mo,$o),Il=s0_512_lo(mo,$o),us=maj64_hi(mo,$o,Ao,Lo,Wo),ps=maj64_lo(mo,$o,Ao,Lo,Wo,jo);var Pl=sum64_hi(Al,Il,us,ps),Sl=sum64_lo(Al,Il,us,ps);ds=Cl,_c=xl,Cl=Qo,xl=os,Qo=Go,os=Jo,Go=sum64_hi(zo,Vo,as,El),Jo=sum64_lo(Vo,Vo,as,El),zo=Wo,Vo=jo,Wo=Ao,jo=Lo,Ao=mo,Lo=$o,mo=sum64_hi(as,El,Pl,Sl),$o=sum64_lo(as,El,Pl,Sl)}sum64(this.h,0,mo,$o),sum64(this.h,2,Ao,Lo),sum64(this.h,4,Wo,jo),sum64(this.h,6,zo,Vo),sum64(this.h,8,Go,Jo),sum64(this.h,10,Qo,os),sum64(this.h,12,Cl,xl),sum64(this.h,14,ds,_c)};SHA512$1.prototype._digest=function(Mn){return Mn==="hex"?utils$e.toHex32(this.h,"big"):utils$e.split32(this.h,"big")};function ch64_hi(Fn,Mn,io,fo,mo){var $o=Fn&io^~Fn&mo;return $o<0&&($o+=4294967296),$o}function ch64_lo(Fn,Mn,io,fo,mo,$o){var Ao=Mn&fo^~Mn&$o;return Ao<0&&(Ao+=4294967296),Ao}function maj64_hi(Fn,Mn,io,fo,mo){var $o=Fn&io^Fn&mo^io&mo;return $o<0&&($o+=4294967296),$o}function maj64_lo(Fn,Mn,io,fo,mo,$o){var Ao=Mn&fo^Mn&$o^fo&$o;return Ao<0&&(Ao+=4294967296),Ao}function s0_512_hi(Fn,Mn){var io=rotr64_hi(Fn,Mn,28),fo=rotr64_hi(Mn,Fn,2),mo=rotr64_hi(Mn,Fn,7),$o=io^fo^mo;return $o<0&&($o+=4294967296),$o}function s0_512_lo(Fn,Mn){var io=rotr64_lo(Fn,Mn,28),fo=rotr64_lo(Mn,Fn,2),mo=rotr64_lo(Mn,Fn,7),$o=io^fo^mo;return $o<0&&($o+=4294967296),$o}function s1_512_hi(Fn,Mn){var io=rotr64_hi(Fn,Mn,14),fo=rotr64_hi(Fn,Mn,18),mo=rotr64_hi(Mn,Fn,9),$o=io^fo^mo;return $o<0&&($o+=4294967296),$o}function s1_512_lo(Fn,Mn){var io=rotr64_lo(Fn,Mn,14),fo=rotr64_lo(Fn,Mn,18),mo=rotr64_lo(Mn,Fn,9),$o=io^fo^mo;return $o<0&&($o+=4294967296),$o}function g0_512_hi(Fn,Mn){var io=rotr64_hi(Fn,Mn,1),fo=rotr64_hi(Fn,Mn,8),mo=shr64_hi(Fn,Mn,7),$o=io^fo^mo;return $o<0&&($o+=4294967296),$o}function g0_512_lo(Fn,Mn){var io=rotr64_lo(Fn,Mn,1),fo=rotr64_lo(Fn,Mn,8),mo=shr64_lo(Fn,Mn,7),$o=io^fo^mo;return $o<0&&($o+=4294967296),$o}function g1_512_hi(Fn,Mn){var io=rotr64_hi(Fn,Mn,19),fo=rotr64_hi(Mn,Fn,29),mo=shr64_hi(Fn,Mn,6),$o=io^fo^mo;return $o<0&&($o+=4294967296),$o}function g1_512_lo(Fn,Mn){var io=rotr64_lo(Fn,Mn,19),fo=rotr64_lo(Mn,Fn,29),mo=shr64_lo(Fn,Mn,6),$o=io^fo^mo;return $o<0&&($o+=4294967296),$o}var utils$d=utils$k,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$d.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function(Mn){return Mn==="hex"?utils$d.toHex32(this.h.slice(0,12),"big"):utils$d.split32(this.h.slice(0,12),"big")};sha$5.sha1=_1;sha$5.sha224=_224;sha$5.sha256=_256;sha$5.sha384=_384;sha$5.sha512=_512;var ripemd={},utils$c=utils$k,common=common$5,rotl32=utils$c.rotl32,sum32=utils$c.sum32,sum32_3=utils$c.sum32_3,sum32_4=utils$c.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$c.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function(Mn,io){for(var fo=this.h[0],mo=this.h[1],$o=this.h[2],Ao=this.h[3],Lo=this.h[4],Wo=fo,jo=mo,zo=$o,Vo=Ao,Go=Lo,Jo=0;Jo<80;Jo++){var Qo=sum32(rotl32(sum32_4(fo,f$b(Jo,mo,$o,Ao),Mn[r$j[Jo]+io],K$1(Jo)),s$7[Jo]),Lo);fo=Lo,Lo=Ao,Ao=rotl32($o,10),$o=mo,mo=Qo,Qo=sum32(rotl32(sum32_4(Wo,f$b(79-Jo,jo,zo,Vo),Mn[rh[Jo]+io],Kh(Jo)),sh[Jo]),Go),Wo=Go,Go=Vo,Vo=rotl32(zo,10),zo=jo,jo=Qo}Qo=sum32_3(this.h[1],$o,Vo),this.h[1]=sum32_3(this.h[2],Ao,Go),this.h[2]=sum32_3(this.h[3],Lo,Wo),this.h[3]=sum32_3(this.h[4],fo,jo),this.h[4]=sum32_3(this.h[0],mo,zo),this.h[0]=Qo};RIPEMD160.prototype._digest=function(Mn){return Mn==="hex"?utils$c.toHex32(this.h,"little"):utils$c.split32(this.h,"little")};function f$b(Fn,Mn,io,fo){return Fn<=15?Mn^io^fo:Fn<=31?Mn&io|~Mn&fo:Fn<=47?(Mn|~io)^fo:Fn<=63?Mn&fo|io&~fo:Mn^(io|~fo)}function K$1(Fn){return Fn<=15?0:Fn<=31?1518500249:Fn<=47?1859775393:Fn<=63?2400959708:2840853838}function Kh(Fn){return Fn<=15?1352829926:Fn<=31?1548603684:Fn<=47?1836072691:Fn<=63?2053994217:0}var r$j=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$7=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$b=utils$k,assert$7=minimalisticAssert;function Hmac(Fn,Mn,io){if(!(this instanceof Hmac))return new Hmac(Fn,Mn,io);this.Hash=Fn,this.blockSize=Fn.blockSize/8,this.outSize=Fn.outSize/8,this.inner=null,this.outer=null,this._init(utils$b.toArray(Mn,io))}var hmac=Hmac;Hmac.prototype._init=function(Mn){Mn.length>this.blockSize&&(Mn=new this.Hash().update(Mn).digest()),assert$7(Mn.length<=this.blockSize);for(var io=Mn.length;io<this.blockSize;io++)Mn.push(0);for(io=0;io<Mn.length;io++)Mn[io]^=54;for(this.inner=new this.Hash().update(Mn),io=0;io<Mn.length;io++)Mn[io]^=106;this.outer=new this.Hash().update(Mn)};Hmac.prototype.update=function(Mn,io){return this.inner.update(Mn,io),this};Hmac.prototype.digest=function(Mn){return this.outer.update(this.inner.digest()),this.outer.digest(Mn)};(function(Fn){var Mn=Fn;Mn.utils=utils$k,Mn.common=common$5,Mn.sha=sha$5,Mn.ripemd=ripemd,Mn.hmac=hmac,Mn.sha1=Mn.sha.sha1,Mn.sha256=Mn.sha.sha256,Mn.sha224=Mn.sha.sha224,Mn.sha384=Mn.sha.sha384,Mn.sha512=Mn.sha.sha512,Mn.ripemd160=Mn.ripemd.ripemd160})(hash$4);var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}(function(Fn){var Mn=Fn,io=hash$4,fo=curve,mo=utils$q,$o=mo.assert;function Ao(jo){jo.type==="short"?this.curve=new fo.short(jo):jo.type==="edwards"?this.curve=new fo.edwards(jo):this.curve=new fo.mont(jo),this.g=this.curve.g,this.n=this.curve.n,this.hash=jo.hash,$o(this.g.validate(),"Invalid curve"),$o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}Mn.PresetCurve=Ao;function Lo(jo,zo){Object.defineProperty(Mn,jo,{configurable:!0,enumerable:!0,get:function(){var Vo=new Ao(zo);return Object.defineProperty(Mn,jo,{configurable:!0,enumerable:!0,value:Vo}),Vo}})}Lo("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:io.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),Lo("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:io.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),Lo("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:io.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),Lo("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:io.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),Lo("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:io.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),Lo("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:io.sha256,gRed:!1,g:["9"]}),Lo("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:io.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Wo;try{Wo=requireSecp256k1()}catch{Wo=void 0}Lo("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:io.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Wo]})})(curves$2);var hash$3=hash$4,utils$a=utils$p,assert$6=minimalisticAssert;function HmacDRBG$1(Fn){if(!(this instanceof HmacDRBG$1))return new HmacDRBG$1(Fn);this.hash=Fn.hash,this.predResist=!!Fn.predResist,this.outLen=this.hash.outSize,this.minEntropy=Fn.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var Mn=utils$a.toArray(Fn.entropy,Fn.entropyEnc||"hex"),io=utils$a.toArray(Fn.nonce,Fn.nonceEnc||"hex"),fo=utils$a.toArray(Fn.pers,Fn.persEnc||"hex");assert$6(Mn.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(Mn,io,fo)}var hmacDrbg=HmacDRBG$1;HmacDRBG$1.prototype._init=function(Mn,io,fo){var mo=Mn.concat(io).concat(fo);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var $o=0;$o<this.V.length;$o++)this.K[$o]=0,this.V[$o]=1;this._update(mo),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG$1.prototype._hmac=function(){return new hash$3.hmac(this.hash,this.K)};HmacDRBG$1.prototype._update=function(Mn){var io=this._hmac().update(this.V).update([0]);Mn&&(io=io.update(Mn)),this.K=io.digest(),this.V=this._hmac().update(this.V).digest(),Mn&&(this.K=this._hmac().update(this.V).update([1]).update(Mn).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG$1.prototype.reseed=function(Mn,io,fo,mo){typeof io!="string"&&(mo=fo,fo=io,io=null),Mn=utils$a.toArray(Mn,io),fo=utils$a.toArray(fo,mo),assert$6(Mn.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(Mn.concat(fo||[])),this._reseed=1};HmacDRBG$1.prototype.generate=function(Mn,io,fo,mo){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof io!="string"&&(mo=fo,fo=io,io=null),fo&&(fo=utils$a.toArray(fo,mo||"hex"),this._update(fo));for(var $o=[];$o.length<Mn;)this.V=this._hmac().update(this.V).digest(),$o=$o.concat(this.V);var Ao=$o.slice(0,Mn);return this._update(fo),this._reseed++,utils$a.encode(Ao,io)};var BN$3=bnExports,utils$9=utils$q,assert$5=utils$9.assert;function KeyPair$3(Fn,Mn){this.ec=Fn,this.priv=null,this.pub=null,Mn.priv&&this._importPrivate(Mn.priv,Mn.privEnc),Mn.pub&&this._importPublic(Mn.pub,Mn.pubEnc)}var key$1=KeyPair$3;KeyPair$3.fromPublic=function(Mn,io,fo){return io instanceof KeyPair$3?io:new KeyPair$3(Mn,{pub:io,pubEnc:fo})};KeyPair$3.fromPrivate=function(Mn,io,fo){return io instanceof KeyPair$3?io:new KeyPair$3(Mn,{priv:io,privEnc:fo})};KeyPair$3.prototype.validate=function(){var Mn=this.getPublic();return Mn.isInfinity()?{result:!1,reason:"Invalid public key"}:Mn.validate()?Mn.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$3.prototype.getPublic=function(Mn,io){return typeof Mn=="string"&&(io=Mn,Mn=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),io?this.pub.encode(io,Mn):this.pub};KeyPair$3.prototype.getPrivate=function(Mn){return Mn==="hex"?this.priv.toString(16,2):this.priv};KeyPair$3.prototype._importPrivate=function(Mn,io){this.priv=new BN$3(Mn,io||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$3.prototype._importPublic=function(Mn,io){if(Mn.x||Mn.y){this.ec.curve.type==="mont"?assert$5(Mn.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$5(Mn.x&&Mn.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(Mn.x,Mn.y);return}this.pub=this.ec.curve.decodePoint(Mn,io)};KeyPair$3.prototype.derive=function(Mn){return Mn.validate()||assert$5(Mn.validate(),"public point not validated"),Mn.mul(this.priv).getX()};KeyPair$3.prototype.sign=function(Mn,io,fo){return this.ec.sign(Mn,this,io,fo)};KeyPair$3.prototype.verify=function(Mn,io,fo){return this.ec.verify(Mn,io,this,void 0,fo)};KeyPair$3.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$2=bnExports,utils$8=utils$q,assert$4=utils$8.assert;function Signature$5(Fn,Mn){if(Fn instanceof Signature$5)return Fn;this._importDER(Fn,Mn)||(assert$4(Fn.r&&Fn.s,"Signature without r or s"),this.r=new BN$2(Fn.r,16),this.s=new BN$2(Fn.s,16),Fn.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=Fn.recoveryParam)}var signature$1=Signature$5;function Position(){this.place=0}function getLength(Fn,Mn){var io=Fn[Mn.place++];if(!(io&128))return io;var fo=io&15;if(fo===0||fo>4||Fn[Mn.place]===0)return!1;for(var mo=0,$o=0,Ao=Mn.place;$o<fo;$o++,Ao++)mo<<=8,mo|=Fn[Ao],mo>>>=0;return mo<=127?!1:(Mn.place=Ao,mo)}function rmPadding(Fn){for(var Mn=0,io=Fn.length-1;!Fn[Mn]&&!(Fn[Mn+1]&128)&&Mn<io;)Mn++;return Mn===0?Fn:Fn.slice(Mn)}Signature$5.prototype._importDER=function(Mn,io){Mn=utils$8.toArray(Mn,io);var fo=new Position;if(Mn[fo.place++]!==48)return!1;var mo=getLength(Mn,fo);if(mo===!1||mo+fo.place!==Mn.length||Mn[fo.place++]!==2)return!1;var $o=getLength(Mn,fo);if($o===!1||Mn[fo.place]&128)return!1;var Ao=Mn.slice(fo.place,$o+fo.place);if(fo.place+=$o,Mn[fo.place++]!==2)return!1;var Lo=getLength(Mn,fo);if(Lo===!1||Mn.length!==Lo+fo.place||Mn[fo.place]&128)return!1;var Wo=Mn.slice(fo.place,Lo+fo.place);if(Ao[0]===0)if(Ao[1]&128)Ao=Ao.slice(1);else return!1;if(Wo[0]===0)if(Wo[1]&128)Wo=Wo.slice(1);else return!1;return this.r=new BN$2(Ao),this.s=new BN$2(Wo),this.recoveryParam=null,!0};function constructLength(Fn,Mn){if(Mn<128){Fn.push(Mn);return}var io=1+(Math.log(Mn)/Math.LN2>>>3);for(Fn.push(io|128);--io;)Fn.push(Mn>>>(io<<3)&255);Fn.push(Mn)}Signature$5.prototype.toDER=function(Mn){var io=this.r.toArray(),fo=this.s.toArray();for(io[0]&128&&(io=[0].concat(io)),fo[0]&128&&(fo=[0].concat(fo)),io=rmPadding(io),fo=rmPadding(fo);!fo[0]&&!(fo[1]&128);)fo=fo.slice(1);var mo=[2];constructLength(mo,io.length),mo=mo.concat(io),mo.push(2),constructLength(mo,fo.length);var $o=mo.concat(fo),Ao=[48];return constructLength(Ao,$o.length),Ao=Ao.concat($o),utils$8.encode(Ao,Mn)};var BN$1=bnExports,HmacDRBG=hmacDrbg,utils$7=utils$q,curves$1=curves$2,rand=brorandExports,assert$3=utils$7.assert,KeyPair$2=key$1,Signature$4=signature$1;function EC(Fn){if(!(this instanceof EC))return new EC(Fn);typeof Fn=="string"&&(assert$3(Object.prototype.hasOwnProperty.call(curves$1,Fn),"Unknown curve "+Fn),Fn=curves$1[Fn]),Fn instanceof curves$1.PresetCurve&&(Fn={curve:Fn}),this.curve=Fn.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=Fn.curve.g,this.g.precompute(Fn.curve.n.bitLength()+1),this.hash=Fn.hash||Fn.curve.hash}var ec=EC;EC.prototype.keyPair=function(Mn){return new KeyPair$2(this,Mn)};EC.prototype.keyFromPrivate=function(Mn,io){return KeyPair$2.fromPrivate(this,Mn,io)};EC.prototype.keyFromPublic=function(Mn,io){return KeyPair$2.fromPublic(this,Mn,io)};EC.prototype.genKeyPair=function(Mn){Mn||(Mn={});for(var io=new HmacDRBG({hash:this.hash,pers:Mn.pers,persEnc:Mn.persEnc||"utf8",entropy:Mn.entropy||rand(this.hash.hmacStrength),entropyEnc:Mn.entropy&&Mn.entropyEnc||"utf8",nonce:this.n.toArray()}),fo=this.n.byteLength(),mo=this.n.sub(new BN$1(2));;){var $o=new BN$1(io.generate(fo));if(!($o.cmp(mo)>0))return $o.iaddn(1),this.keyFromPrivate($o)}};EC.prototype._truncateToN=function(Mn,io,fo){var mo;if(BN$1.isBN(Mn)||typeof Mn=="number")Mn=new BN$1(Mn,16),mo=Mn.byteLength();else if(typeof Mn=="object")mo=Mn.length,Mn=new BN$1(Mn,16);else{var $o=Mn.toString();mo=$o.length+1>>>1,Mn=new BN$1($o,16)}typeof fo!="number"&&(fo=mo*8);var Ao=fo-this.n.bitLength();return Ao>0&&(Mn=Mn.ushrn(Ao)),!io&&Mn.cmp(this.n)>=0?Mn.sub(this.n):Mn};EC.prototype.sign=function(Mn,io,fo,mo){if(typeof fo=="object"&&(mo=fo,fo=null),mo||(mo={}),typeof Mn!="string"&&typeof Mn!="number"&&!BN$1.isBN(Mn)){assert$3(typeof Mn=="object"&&Mn&&typeof Mn.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),assert$3(Mn.length>>>0===Mn.length);for(var $o=0;$o<Mn.length;$o++)assert$3((Mn[$o]&255)===Mn[$o])}io=this.keyFromPrivate(io,fo),Mn=this._truncateToN(Mn,!1,mo.msgBitLength),assert$3(!Mn.isNeg(),"Can not sign a negative message");var Ao=this.n.byteLength(),Lo=io.getPrivate().toArray("be",Ao),Wo=Mn.toArray("be",Ao);assert$3(new BN$1(Wo).eq(Mn),"Can not sign message");for(var jo=new HmacDRBG({hash:this.hash,entropy:Lo,nonce:Wo,pers:mo.pers,persEnc:mo.persEnc||"utf8"}),zo=this.n.sub(new BN$1(1)),Vo=0;;Vo++){var Go=mo.k?mo.k(Vo):new BN$1(jo.generate(this.n.byteLength()));if(Go=this._truncateToN(Go,!0),!(Go.cmpn(1)<=0||Go.cmp(zo)>=0)){var Jo=this.g.mul(Go);if(!Jo.isInfinity()){var Qo=Jo.getX(),os=Qo.umod(this.n);if(os.cmpn(0)!==0){var Cl=Go.invm(this.n).mul(os.mul(io.getPrivate()).iadd(Mn));if(Cl=Cl.umod(this.n),Cl.cmpn(0)!==0){var xl=(Jo.getY().isOdd()?1:0)|(Qo.cmp(os)!==0?2:0);return mo.canonical&&Cl.cmp(this.nh)>0&&(Cl=this.n.sub(Cl),xl^=1),new Signature$4({r:os,s:Cl,recoveryParam:xl})}}}}}};EC.prototype.verify=function(Mn,io,fo,mo,$o){$o||($o={}),Mn=this._truncateToN(Mn,!1,$o.msgBitLength),fo=this.keyFromPublic(fo,mo),io=new Signature$4(io,"hex");var Ao=io.r,Lo=io.s;if(Ao.cmpn(1)<0||Ao.cmp(this.n)>=0||Lo.cmpn(1)<0||Lo.cmp(this.n)>=0)return!1;var Wo=Lo.invm(this.n),jo=Wo.mul(Mn).umod(this.n),zo=Wo.mul(Ao).umod(this.n),Vo;return this.curve._maxwellTrick?(Vo=this.g.jmulAdd(jo,fo.getPublic(),zo),Vo.isInfinity()?!1:Vo.eqXToP(Ao)):(Vo=this.g.mulAdd(jo,fo.getPublic(),zo),Vo.isInfinity()?!1:Vo.getX().umod(this.n).cmp(Ao)===0)};EC.prototype.recoverPubKey=function(Fn,Mn,io,fo){assert$3((3&io)===io,"The recovery param is more than two bits"),Mn=new Signature$4(Mn,fo);var mo=this.n,$o=new BN$1(Fn),Ao=Mn.r,Lo=Mn.s,Wo=io&1,jo=io>>1;if(Ao.cmp(this.curve.p.umod(this.curve.n))>=0&&jo)throw new Error("Unable to find sencond key candinate");jo?Ao=this.curve.pointFromX(Ao.add(this.curve.n),Wo):Ao=this.curve.pointFromX(Ao,Wo);var zo=Mn.r.invm(mo),Vo=mo.sub($o).mul(zo).umod(mo),Go=Lo.mul(zo).umod(mo);return this.g.mulAdd(Vo,Ao,Go)};EC.prototype.getKeyRecoveryParam=function(Fn,Mn,io,fo){if(Mn=new Signature$4(Mn,fo),Mn.recoveryParam!==null)return Mn.recoveryParam;for(var mo=0;mo<4;mo++){var $o;try{$o=this.recoverPubKey(Fn,Mn,mo)}catch{continue}if($o.eq(io))return mo}throw new Error("Unable to find valid recovery factor")};var utils$6=utils$q,assert$2=utils$6.assert,parseBytes$2=utils$6.parseBytes,cachedProperty$1=utils$6.cachedProperty;function KeyPair$1(Fn,Mn){this.eddsa=Fn,this._secret=parseBytes$2(Mn.secret),Fn.isPoint(Mn.pub)?this._pub=Mn.pub:this._pubBytes=parseBytes$2(Mn.pub)}KeyPair$1.fromPublic=function(Mn,io){return io instanceof KeyPair$1?io:new KeyPair$1(Mn,{pub:io})};KeyPair$1.fromSecret=function(Mn,io){return io instanceof KeyPair$1?io:new KeyPair$1(Mn,{secret:io})};KeyPair$1.prototype.secret=function(){return this._secret};cachedProperty$1(KeyPair$1,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});cachedProperty$1(KeyPair$1,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});cachedProperty$1(KeyPair$1,"privBytes",function(){var Mn=this.eddsa,io=this.hash(),fo=Mn.encodingLength-1,mo=io.slice(0,Mn.encodingLength);return mo[0]&=248,mo[fo]&=127,mo[fo]|=64,mo});cachedProperty$1(KeyPair$1,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});cachedProperty$1(KeyPair$1,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});cachedProperty$1(KeyPair$1,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair$1.prototype.sign=function(Mn){return assert$2(this._secret,"KeyPair can only verify"),this.eddsa.sign(Mn,this)};KeyPair$1.prototype.verify=function(Mn,io){return this.eddsa.verify(Mn,io,this)};KeyPair$1.prototype.getSecret=function(Mn){return assert$2(this._secret,"KeyPair is public only"),utils$6.encode(this.secret(),Mn)};KeyPair$1.prototype.getPublic=function(Mn){return utils$6.encode(this.pubBytes(),Mn)};var key=KeyPair$1,BN=bnExports,utils$5=utils$q,assert$1=utils$5.assert,cachedProperty=utils$5.cachedProperty,parseBytes$1=utils$5.parseBytes;function Signature$3(Fn,Mn){this.eddsa=Fn,typeof Mn!="object"&&(Mn=parseBytes$1(Mn)),Array.isArray(Mn)&&(assert$1(Mn.length===Fn.encodingLength*2,"Signature has invalid size"),Mn={R:Mn.slice(0,Fn.encodingLength),S:Mn.slice(Fn.encodingLength)}),assert$1(Mn.R&&Mn.S,"Signature without R or S"),Fn.isPoint(Mn.R)&&(this._R=Mn.R),Mn.S instanceof BN&&(this._S=Mn.S),this._Rencoded=Array.isArray(Mn.R)?Mn.R:Mn.Rencoded,this._Sencoded=Array.isArray(Mn.S)?Mn.S:Mn.Sencoded}cachedProperty(Signature$3,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});cachedProperty(Signature$3,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});cachedProperty(Signature$3,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});cachedProperty(Signature$3,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Signature$3.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Signature$3.prototype.toHex=function(){return utils$5.encode(this.toBytes(),"hex").toUpperCase()};var signature=Signature$3,hash$2=hash$4,curves=curves$2,utils$4=utils$q,assert=utils$4.assert,parseBytes=utils$4.parseBytes,KeyPair=key,Signature$2=signature;function EDDSA(Fn){if(assert(Fn==="ed25519","only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(Fn);Fn=curves[Fn].curve,this.curve=Fn,this.g=Fn.g,this.g.precompute(Fn.n.bitLength()+1),this.pointClass=Fn.point().constructor,this.encodingLength=Math.ceil(Fn.n.bitLength()/8),this.hash=hash$2.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function(Mn,io){Mn=parseBytes(Mn);var fo=this.keyFromSecret(io),mo=this.hashInt(fo.messagePrefix(),Mn),$o=this.g.mul(mo),Ao=this.encodePoint($o),Lo=this.hashInt(Ao,fo.pubBytes(),Mn).mul(fo.priv()),Wo=mo.add(Lo).umod(this.curve.n);return this.makeSignature({R:$o,S:Wo,Rencoded:Ao})};EDDSA.prototype.verify=function(Mn,io,fo){if(Mn=parseBytes(Mn),io=this.makeSignature(io),io.S().gte(io.eddsa.curve.n)||io.S().isNeg())return!1;var mo=this.keyFromPublic(fo),$o=this.hashInt(io.Rencoded(),mo.pubBytes(),Mn),Ao=this.g.mul(io.S()),Lo=io.R().add(mo.pub().mul($o));return Lo.eq(Ao)};EDDSA.prototype.hashInt=function(){for(var Mn=this.hash(),io=0;io<arguments.length;io++)Mn.update(arguments[io]);return utils$4.intFromLE(Mn.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function(Mn){return KeyPair.fromPublic(this,Mn)};EDDSA.prototype.keyFromSecret=function(Mn){return KeyPair.fromSecret(this,Mn)};EDDSA.prototype.makeSignature=function(Mn){return Mn instanceof Signature$2?Mn:new Signature$2(this,Mn)};EDDSA.prototype.encodePoint=function(Mn){var io=Mn.getY().toArray("le",this.encodingLength);return io[this.encodingLength-1]|=Mn.getX().isOdd()?128:0,io};EDDSA.prototype.decodePoint=function(Mn){Mn=utils$4.parseBytes(Mn);var io=Mn.length-1,fo=Mn.slice(0,io).concat(Mn[io]&-129),mo=(Mn[io]&128)!==0,$o=utils$4.intFromLE(fo);return this.curve.pointFromY($o,mo)};EDDSA.prototype.encodeInt=function(Mn){return Mn.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function(Mn){return utils$4.intFromLE(Mn)};EDDSA.prototype.isPoint=function(Mn){return Mn instanceof this.pointClass};(function(Fn){var Mn=Fn;Mn.version=require$$0$1.version,Mn.utils=utils$q,Mn.rand=brorandExports,Mn.curve=curve,Mn.curves=curves$2,Mn.ec=ec,Mn.eddsa=eddsa})(elliptic);const C$2={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var define_process_env_default$1={};const Rr$1=":";function An(Fn){const[Mn,io]=Fn.split(Rr$1);return{namespace:Mn,reference:io}}function Or$2(Fn,Mn){return Fn.includes(":")?[Fn]:Mn.chains||[]}var Zo=Object.defineProperty,En$1=Object.getOwnPropertySymbols,ts=Object.prototype.hasOwnProperty,es=Object.prototype.propertyIsEnumerable,Sn$1=(Fn,Mn,io)=>Mn in Fn?Zo(Fn,Mn,{enumerable:!0,configurable:!0,writable:!0,value:io}):Fn[Mn]=io,In$1=(Fn,Mn)=>{for(var io in Mn||(Mn={}))ts.call(Mn,io)&&Sn$1(Fn,io,Mn[io]);if(En$1)for(var io of En$1(Mn))es.call(Mn,io)&&Sn$1(Fn,io,Mn[io]);return Fn};const Nn="ReactNative",qt$2={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Bn="js";function bi$1(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function rr$1(){return!getDocument_1()&&!!getNavigator_1()&&navigator.product===Nn}function gr$1(){return!bi$1()&&!!getNavigator_1()&&!!getDocument_1()}function We(){return rr$1()?qt$2.reactNative:bi$1()?qt$2.node:gr$1()?qt$2.browser:qt$2.unknown}function ns(){var Fn;try{return rr$1()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(Fn=global.Application)==null?void 0:Fn.applicationId:void 0}catch{return}}function Cn$1(Fn,Mn){let io=queryString.parse(Fn);return io=In$1(In$1({},io),Mn),Fn=queryString.stringify(io),Fn}function fs$1(){return getWindowMetadata_1()||{name:"",description:"",url:"",icons:[""]}}function Rn$1(){if(We()===qt$2.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:io,Version:fo}=global.Platform;return[io,fo].join("-")}const Fn=detect();if(Fn===null)return"unknown";const Mn=Fn.os?Fn.os.replace(" ","").toLowerCase():"unknown";return Fn.type==="browser"?[Mn,Fn.name,Fn.version].join("-"):[Mn,Fn.version].join("-")}function On$1(){var Fn;const Mn=We();return Mn===qt$2.browser?[Mn,((Fn=getLocation_1())==null?void 0:Fn.host)||"unknown"].join(":"):Mn}function Pn$1(Fn,Mn,io){const fo=Rn$1(),mo=On$1();return[[Fn,Mn].join("-"),[Bn,io].join("-"),fo,mo].join("/")}function ss({protocol:Fn,version:Mn,relayUrl:io,sdkVersion:fo,auth:mo,projectId:$o,useOnCloseEvent:Ao,bundleId:Lo}){const Wo=io.split("?"),jo=Pn$1(Fn,Mn,fo),zo={auth:mo,ua:jo,projectId:$o,useOnCloseEvent:Ao||void 0,origin:Lo||void 0},Vo=Cn$1(Wo[1]||"",zo);return Wo[0]+"?"+Vo}function _e$2(Fn,Mn){return Fn.filter(io=>Mn.includes(io)).length===Fn.length}function cs(Fn){return Object.fromEntries(Fn.entries())}function ls(Fn){return new Map(Object.entries(Fn))}function gs(Fn=cjs$3.FIVE_MINUTES,Mn){const io=cjs$3.toMiliseconds(Fn||cjs$3.FIVE_MINUTES);let fo,mo,$o;return{resolve:Ao=>{$o&&fo&&(clearTimeout($o),fo(Ao))},reject:Ao=>{$o&&mo&&(clearTimeout($o),mo(Ao))},done:()=>new Promise((Ao,Lo)=>{$o=setTimeout(()=>{Lo(new Error(Mn))},io),fo=Ao,mo=Lo})}}function ms$1(Fn,Mn,io){return new Promise(async(fo,mo)=>{const $o=setTimeout(()=>mo(new Error(io)),Mn);try{const Ao=await Fn;fo(Ao)}catch(Ao){mo(Ao)}clearTimeout($o)})}function yi$1(Fn,Mn){if(typeof Mn=="string"&&Mn.startsWith(`${Fn}:`))return Mn;if(Fn.toLowerCase()==="topic"){if(typeof Mn!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${Mn}`}else if(Fn.toLowerCase()==="id"){if(typeof Mn!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${Mn}`}throw new Error(`Unknown expirer target type: ${Fn}`)}function As$1(Fn){return yi$1("topic",Fn)}function bs$1(Fn){return yi$1("id",Fn)}function ys$1(Fn){const[Mn,io]=Fn.split(":"),fo={id:void 0,topic:void 0};if(Mn==="topic"&&typeof io=="string")fo.topic=io;else if(Mn==="id"&&Number.isInteger(Number(io)))fo.id=Number(io);else throw new Error(`Invalid target, expected id:number or topic:string, got ${Mn}:${io}`);return fo}function ws$1(Fn,Mn){return cjs$3.fromMiliseconds(Date.now()+cjs$3.toMiliseconds(Fn))}function xs$1(Fn){return Date.now()>=cjs$3.toMiliseconds(Fn)}function Ms$1(Fn,Mn){return`${Fn}${Mn?`:${Mn}`:""}`}function me$1(Fn=[],Mn=[]){return[...new Set([...Fn,...Mn])]}async function Es$1({id:Fn,topic:Mn,wcDeepLink:io}){var fo;try{if(!io)return;const mo=typeof io=="string"?JSON.parse(io):io,$o=mo==null?void 0:mo.href;if(typeof $o!="string")return;const Ao=Un($o,Fn,Mn),Lo=We();if(Lo===qt$2.browser){if(!((fo=getDocument_1())!=null&&fo.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Ao.startsWith("https://")||Ao.startsWith("http://")?window.open(Ao,"_blank","noreferrer noopener"):window.open(Ao,kn()?"_blank":"_self","noreferrer noopener")}else Lo===qt$2.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(Ao)}catch(mo){console.error(mo)}}function Un(Fn,Mn,io){const fo=`requestId=${Mn}&sessionTopic=${io}`;Fn.endsWith("/")&&(Fn=Fn.slice(0,-1));let mo=`${Fn}`;if(Fn.startsWith("https://t.me")){const $o=Fn.includes("?")?"&startapp=":"?startapp=";mo=`${mo}${$o}${qn(fo,!0)}`}else mo=`${mo}/wc?${fo}`;return mo}async function Ss$2(Fn,Mn){let io="";try{if(gr$1()&&(io=localStorage.getItem(Mn),io))return io;io=await Fn.getItem(Mn)}catch(fo){console.error(fo)}return io}function Is$2(Fn,Mn){if(!Fn.includes(Mn))return null;const io=Fn.split(/([&,?,=])/),fo=io.indexOf(Mn);return io[fo+2]}function Ns$1(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,Fn=>{const Mn=Math.random()*16|0;return(Fn==="x"?Mn:Mn&3|8).toString(16)})}function _s$1(){return typeof process<"u"&&define_process_env_default$1.IS_VITEST==="true"}function kn(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function qn(Fn,Mn=!1){const io=Buffer.from(Fn).toString("base64");return Mn?io.replace(/[=]/g,""):io}function xi(Fn){return Buffer.from(Fn,"base64").toString("utf-8")}var Kn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bs$1(Fn){var Mn=Fn.default;if(typeof Mn=="function"){var io=function(){return Mn.apply(this,arguments)};io.prototype=Mn.prototype}else io={};return Object.defineProperty(io,"__esModule",{value:!0}),Object.keys(Fn).forEach(function(fo){var mo=Object.getOwnPropertyDescriptor(Fn,fo);Object.defineProperty(io,fo,mo.get?mo:{enumerable:!0,get:function(){return Fn[fo]}})}),io}var Hn={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(Fn){(function(){var Mn="input is invalid type",io="finalize already called",fo=typeof window=="object",mo=fo?window:{};mo.JS_SHA3_NO_WINDOW&&(fo=!1);var $o=!fo&&typeof self=="object",Ao=!mo.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;Ao?mo=Kn:$o&&(mo=self);var Lo=!mo.JS_SHA3_NO_COMMON_JS&&!0&&Fn.exports,Wo=!mo.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",jo="0123456789abcdef".split(""),zo=[31,7936,2031616,520093696],Vo=[4,1024,262144,67108864],Go=[1,256,65536,16777216],Jo=[6,1536,393216,100663296],Qo=[0,8,16,24],os=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],Cl=[224,256,384,512],xl=[128,256],ds=["hex","buffer","arrayBuffer","array","digest"],_c={128:168,256:136};(mo.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(Ul){return Object.prototype.toString.call(Ul)==="[object Array]"}),Wo&&(mo.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(Ul){return typeof Ul=="object"&&Ul.buffer&&Ul.buffer.constructor===ArrayBuffer});for(var $l=function(Ul,yu,Vl){return function(Jl){return new Fl(Ul,yu,Ul).update(Jl)[Vl]()}},Al=function(Ul,yu,Vl){return function(Jl,Ql){return new Fl(Ul,yu,Ql).update(Jl)[Vl]()}},Il=function(Ul,yu,Vl){return function(Jl,Ql,Ol,Zl){return rs["cshake"+Ul].update(Jl,Ql,Ol,Zl)[Vl]()}},us=function(Ul,yu,Vl){return function(Jl,Ql,Ol,Zl){return rs["kmac"+Ul].update(Jl,Ql,Ol,Zl)[Vl]()}},ps=function(Ul,yu,Vl,Jl){for(var Ql=0;Ql<ds.length;++Ql){var Ol=ds[Ql];Ul[Ol]=yu(Vl,Jl,Ol)}return Ul},Rl=function(Ul,yu){var Vl=$l(Ul,yu,"hex");return Vl.create=function(){return new Fl(Ul,yu,Ul)},Vl.update=function(Jl){return Vl.create().update(Jl)},ps(Vl,$l,Ul,yu)},Wl=function(Ul,yu){var Vl=Al(Ul,yu,"hex");return Vl.create=function(Jl){return new Fl(Ul,yu,Jl)},Vl.update=function(Jl,Ql){return Vl.create(Ql).update(Jl)},ps(Vl,Al,Ul,yu)},Nl=function(Ul,yu){var Vl=_c[Ul],Jl=Il(Ul,yu,"hex");return Jl.create=function(Ql,Ol,Zl){return!Ol&&!Zl?rs["shake"+Ul].create(Ql):new Fl(Ul,yu,Ql).bytepad([Ol,Zl],Vl)},Jl.update=function(Ql,Ol,Zl,rp){return Jl.create(Ol,Zl,rp).update(Ql)},ps(Jl,Il,Ul,yu)},wl=function(Ul,yu){var Vl=_c[Ul],Jl=us(Ul,yu,"hex");return Jl.create=function(Ql,Ol,Zl){return new Xl(Ul,yu,Ol).bytepad(["KMAC",Zl],Vl).bytepad([Ql],Vl)},Jl.update=function(Ql,Ol,Zl,rp){return Jl.create(Ql,Zl,rp).update(Ol)},ps(Jl,us,Ul,yu)},Xo=[{name:"keccak",padding:Go,bits:Cl,createMethod:Rl},{name:"sha3",padding:Jo,bits:Cl,createMethod:Rl},{name:"shake",padding:zo,bits:xl,createMethod:Wl},{name:"cshake",padding:Vo,bits:xl,createMethod:Nl},{name:"kmac",padding:Vo,bits:xl,createMethod:wl}],rs={},as=[],El=0;El<Xo.length;++El)for(var Pl=Xo[El],Sl=Pl.bits,Tl=0;Tl<Sl.length;++Tl){var hs=Pl.name+"_"+Sl[Tl];if(as.push(hs),rs[hs]=Pl.createMethod(Sl[Tl],Pl.padding),Pl.name!=="sha3"){var yl=Pl.name+Sl[Tl];as.push(yl),rs[yl]=rs[hs]}}function Fl(Ul,yu,Vl){this.blocks=[],this.s=[],this.padding=yu,this.outputBits=Vl,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(Ul<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Vl>>5,this.extraBytes=(Vl&31)>>3;for(var Jl=0;Jl<50;++Jl)this.s[Jl]=0}Fl.prototype.update=function(Ul){if(this.finalized)throw new Error(io);var yu,Vl=typeof Ul;if(Vl!=="string"){if(Vl==="object"){if(Ul===null)throw new Error(Mn);if(Wo&&Ul.constructor===ArrayBuffer)Ul=new Uint8Array(Ul);else if(!Array.isArray(Ul)&&(!Wo||!ArrayBuffer.isView(Ul)))throw new Error(Mn)}else throw new Error(Mn);yu=!0}for(var Jl=this.blocks,Ql=this.byteCount,Ol=Ul.length,Zl=this.blockCount,rp=0,op=this.s,lp,hp;rp<Ol;){if(this.reset)for(this.reset=!1,Jl[0]=this.block,lp=1;lp<Zl+1;++lp)Jl[lp]=0;if(yu)for(lp=this.start;rp<Ol&&lp<Ql;++rp)Jl[lp>>2]|=Ul[rp]<<Qo[lp++&3];else for(lp=this.start;rp<Ol&&lp<Ql;++rp)hp=Ul.charCodeAt(rp),hp<128?Jl[lp>>2]|=hp<<Qo[lp++&3]:hp<2048?(Jl[lp>>2]|=(192|hp>>6)<<Qo[lp++&3],Jl[lp>>2]|=(128|hp&63)<<Qo[lp++&3]):hp<55296||hp>=57344?(Jl[lp>>2]|=(224|hp>>12)<<Qo[lp++&3],Jl[lp>>2]|=(128|hp>>6&63)<<Qo[lp++&3],Jl[lp>>2]|=(128|hp&63)<<Qo[lp++&3]):(hp=65536+((hp&1023)<<10|Ul.charCodeAt(++rp)&1023),Jl[lp>>2]|=(240|hp>>18)<<Qo[lp++&3],Jl[lp>>2]|=(128|hp>>12&63)<<Qo[lp++&3],Jl[lp>>2]|=(128|hp>>6&63)<<Qo[lp++&3],Jl[lp>>2]|=(128|hp&63)<<Qo[lp++&3]);if(this.lastByteIndex=lp,lp>=Ql){for(this.start=lp-Ql,this.block=Jl[Zl],lp=0;lp<Zl;++lp)op[lp]^=Jl[lp];bu(op),this.reset=!0}else this.start=lp}return this},Fl.prototype.encode=function(Ul,yu){var Vl=Ul&255,Jl=1,Ql=[Vl];for(Ul=Ul>>8,Vl=Ul&255;Vl>0;)Ql.unshift(Vl),Ul=Ul>>8,Vl=Ul&255,++Jl;return yu?Ql.push(Jl):Ql.unshift(Jl),this.update(Ql),Ql.length},Fl.prototype.encodeString=function(Ul){var yu,Vl=typeof Ul;if(Vl!=="string"){if(Vl==="object"){if(Ul===null)throw new Error(Mn);if(Wo&&Ul.constructor===ArrayBuffer)Ul=new Uint8Array(Ul);else if(!Array.isArray(Ul)&&(!Wo||!ArrayBuffer.isView(Ul)))throw new Error(Mn)}else throw new Error(Mn);yu=!0}var Jl=0,Ql=Ul.length;if(yu)Jl=Ql;else for(var Ol=0;Ol<Ul.length;++Ol){var Zl=Ul.charCodeAt(Ol);Zl<128?Jl+=1:Zl<2048?Jl+=2:Zl<55296||Zl>=57344?Jl+=3:(Zl=65536+((Zl&1023)<<10|Ul.charCodeAt(++Ol)&1023),Jl+=4)}return Jl+=this.encode(Jl*8),this.update(Ul),Jl},Fl.prototype.bytepad=function(Ul,yu){for(var Vl=this.encode(yu),Jl=0;Jl<Ul.length;++Jl)Vl+=this.encodeString(Ul[Jl]);var Ql=yu-Vl%yu,Ol=[];return Ol.length=Ql,this.update(Ol),this},Fl.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Ul=this.blocks,yu=this.lastByteIndex,Vl=this.blockCount,Jl=this.s;if(Ul[yu>>2]|=this.padding[yu&3],this.lastByteIndex===this.byteCount)for(Ul[0]=Ul[Vl],yu=1;yu<Vl+1;++yu)Ul[yu]=0;for(Ul[Vl-1]|=2147483648,yu=0;yu<Vl;++yu)Jl[yu]^=Ul[yu];bu(Jl)}},Fl.prototype.toString=Fl.prototype.hex=function(){this.finalize();for(var Ul=this.blockCount,yu=this.s,Vl=this.outputBlocks,Jl=this.extraBytes,Ql=0,Ol=0,Zl="",rp;Ol<Vl;){for(Ql=0;Ql<Ul&&Ol<Vl;++Ql,++Ol)rp=yu[Ql],Zl+=jo[rp>>4&15]+jo[rp&15]+jo[rp>>12&15]+jo[rp>>8&15]+jo[rp>>20&15]+jo[rp>>16&15]+jo[rp>>28&15]+jo[rp>>24&15];Ol%Ul===0&&(bu(yu),Ql=0)}return Jl&&(rp=yu[Ql],Zl+=jo[rp>>4&15]+jo[rp&15],Jl>1&&(Zl+=jo[rp>>12&15]+jo[rp>>8&15]),Jl>2&&(Zl+=jo[rp>>20&15]+jo[rp>>16&15])),Zl},Fl.prototype.arrayBuffer=function(){this.finalize();var Ul=this.blockCount,yu=this.s,Vl=this.outputBlocks,Jl=this.extraBytes,Ql=0,Ol=0,Zl=this.outputBits>>3,rp;Jl?rp=new ArrayBuffer(Vl+1<<2):rp=new ArrayBuffer(Zl);for(var op=new Uint32Array(rp);Ol<Vl;){for(Ql=0;Ql<Ul&&Ol<Vl;++Ql,++Ol)op[Ol]=yu[Ql];Ol%Ul===0&&bu(yu)}return Jl&&(op[Ql]=yu[Ql],rp=rp.slice(0,Zl)),rp},Fl.prototype.buffer=Fl.prototype.arrayBuffer,Fl.prototype.digest=Fl.prototype.array=function(){this.finalize();for(var Ul=this.blockCount,yu=this.s,Vl=this.outputBlocks,Jl=this.extraBytes,Ql=0,Ol=0,Zl=[],rp,op;Ol<Vl;){for(Ql=0;Ql<Ul&&Ol<Vl;++Ql,++Ol)rp=Ol<<2,op=yu[Ql],Zl[rp]=op&255,Zl[rp+1]=op>>8&255,Zl[rp+2]=op>>16&255,Zl[rp+3]=op>>24&255;Ol%Ul===0&&bu(yu)}return Jl&&(rp=Ol<<2,op=yu[Ql],Zl[rp]=op&255,Jl>1&&(Zl[rp+1]=op>>8&255),Jl>2&&(Zl[rp+2]=op>>16&255)),Zl};function Xl(Ul,yu,Vl){Fl.call(this,Ul,yu,Vl)}Xl.prototype=new Fl,Xl.prototype.finalize=function(){return this.encode(this.outputBits,!0),Fl.prototype.finalize.call(this)};var bu=function(Ul){var yu,Vl,Jl,Ql,Ol,Zl,rp,op,lp,hp,xp,Ip,Ep,vp,Tp,Ap,wp,Cp,Rp,yp,Pp,zl,Dl,Ll,Gl,fu,_d,sp,fp,_p,Mp,Sp,Bp,Jp,Kp,kp,Hp,$p,Vp,qp,Dp,Yp,Xp,Wp,o1,h0,Fp,g0,t1,Lp,Qp,s1,jp,b1,v1,r1,d1,tm,rm,nm,im,om,U1;for(Jl=0;Jl<48;Jl+=2)Ql=Ul[0]^Ul[10]^Ul[20]^Ul[30]^Ul[40],Ol=Ul[1]^Ul[11]^Ul[21]^Ul[31]^Ul[41],Zl=Ul[2]^Ul[12]^Ul[22]^Ul[32]^Ul[42],rp=Ul[3]^Ul[13]^Ul[23]^Ul[33]^Ul[43],op=Ul[4]^Ul[14]^Ul[24]^Ul[34]^Ul[44],lp=Ul[5]^Ul[15]^Ul[25]^Ul[35]^Ul[45],hp=Ul[6]^Ul[16]^Ul[26]^Ul[36]^Ul[46],xp=Ul[7]^Ul[17]^Ul[27]^Ul[37]^Ul[47],Ip=Ul[8]^Ul[18]^Ul[28]^Ul[38]^Ul[48],Ep=Ul[9]^Ul[19]^Ul[29]^Ul[39]^Ul[49],yu=Ip^(Zl<<1|rp>>>31),Vl=Ep^(rp<<1|Zl>>>31),Ul[0]^=yu,Ul[1]^=Vl,Ul[10]^=yu,Ul[11]^=Vl,Ul[20]^=yu,Ul[21]^=Vl,Ul[30]^=yu,Ul[31]^=Vl,Ul[40]^=yu,Ul[41]^=Vl,yu=Ql^(op<<1|lp>>>31),Vl=Ol^(lp<<1|op>>>31),Ul[2]^=yu,Ul[3]^=Vl,Ul[12]^=yu,Ul[13]^=Vl,Ul[22]^=yu,Ul[23]^=Vl,Ul[32]^=yu,Ul[33]^=Vl,Ul[42]^=yu,Ul[43]^=Vl,yu=Zl^(hp<<1|xp>>>31),Vl=rp^(xp<<1|hp>>>31),Ul[4]^=yu,Ul[5]^=Vl,Ul[14]^=yu,Ul[15]^=Vl,Ul[24]^=yu,Ul[25]^=Vl,Ul[34]^=yu,Ul[35]^=Vl,Ul[44]^=yu,Ul[45]^=Vl,yu=op^(Ip<<1|Ep>>>31),Vl=lp^(Ep<<1|Ip>>>31),Ul[6]^=yu,Ul[7]^=Vl,Ul[16]^=yu,Ul[17]^=Vl,Ul[26]^=yu,Ul[27]^=Vl,Ul[36]^=yu,Ul[37]^=Vl,Ul[46]^=yu,Ul[47]^=Vl,yu=hp^(Ql<<1|Ol>>>31),Vl=xp^(Ol<<1|Ql>>>31),Ul[8]^=yu,Ul[9]^=Vl,Ul[18]^=yu,Ul[19]^=Vl,Ul[28]^=yu,Ul[29]^=Vl,Ul[38]^=yu,Ul[39]^=Vl,Ul[48]^=yu,Ul[49]^=Vl,vp=Ul[0],Tp=Ul[1],h0=Ul[11]<<4|Ul[10]>>>28,Fp=Ul[10]<<4|Ul[11]>>>28,sp=Ul[20]<<3|Ul[21]>>>29,fp=Ul[21]<<3|Ul[20]>>>29,nm=Ul[31]<<9|Ul[30]>>>23,im=Ul[30]<<9|Ul[31]>>>23,Yp=Ul[40]<<18|Ul[41]>>>14,Xp=Ul[41]<<18|Ul[40]>>>14,Jp=Ul[2]<<1|Ul[3]>>>31,Kp=Ul[3]<<1|Ul[2]>>>31,Ap=Ul[13]<<12|Ul[12]>>>20,wp=Ul[12]<<12|Ul[13]>>>20,g0=Ul[22]<<10|Ul[23]>>>22,t1=Ul[23]<<10|Ul[22]>>>22,_p=Ul[33]<<13|Ul[32]>>>19,Mp=Ul[32]<<13|Ul[33]>>>19,om=Ul[42]<<2|Ul[43]>>>30,U1=Ul[43]<<2|Ul[42]>>>30,b1=Ul[5]<<30|Ul[4]>>>2,v1=Ul[4]<<30|Ul[5]>>>2,kp=Ul[14]<<6|Ul[15]>>>26,Hp=Ul[15]<<6|Ul[14]>>>26,Cp=Ul[25]<<11|Ul[24]>>>21,Rp=Ul[24]<<11|Ul[25]>>>21,Lp=Ul[34]<<15|Ul[35]>>>17,Qp=Ul[35]<<15|Ul[34]>>>17,Sp=Ul[45]<<29|Ul[44]>>>3,Bp=Ul[44]<<29|Ul[45]>>>3,Ll=Ul[6]<<28|Ul[7]>>>4,Gl=Ul[7]<<28|Ul[6]>>>4,r1=Ul[17]<<23|Ul[16]>>>9,d1=Ul[16]<<23|Ul[17]>>>9,$p=Ul[26]<<25|Ul[27]>>>7,Vp=Ul[27]<<25|Ul[26]>>>7,yp=Ul[36]<<21|Ul[37]>>>11,Pp=Ul[37]<<21|Ul[36]>>>11,s1=Ul[47]<<24|Ul[46]>>>8,jp=Ul[46]<<24|Ul[47]>>>8,Wp=Ul[8]<<27|Ul[9]>>>5,o1=Ul[9]<<27|Ul[8]>>>5,fu=Ul[18]<<20|Ul[19]>>>12,_d=Ul[19]<<20|Ul[18]>>>12,tm=Ul[29]<<7|Ul[28]>>>25,rm=Ul[28]<<7|Ul[29]>>>25,qp=Ul[38]<<8|Ul[39]>>>24,Dp=Ul[39]<<8|Ul[38]>>>24,zl=Ul[48]<<14|Ul[49]>>>18,Dl=Ul[49]<<14|Ul[48]>>>18,Ul[0]=vp^~Ap&Cp,Ul[1]=Tp^~wp&Rp,Ul[10]=Ll^~fu&sp,Ul[11]=Gl^~_d&fp,Ul[20]=Jp^~kp&$p,Ul[21]=Kp^~Hp&Vp,Ul[30]=Wp^~h0&g0,Ul[31]=o1^~Fp&t1,Ul[40]=b1^~r1&tm,Ul[41]=v1^~d1&rm,Ul[2]=Ap^~Cp&yp,Ul[3]=wp^~Rp&Pp,Ul[12]=fu^~sp&_p,Ul[13]=_d^~fp&Mp,Ul[22]=kp^~$p&qp,Ul[23]=Hp^~Vp&Dp,Ul[32]=h0^~g0&Lp,Ul[33]=Fp^~t1&Qp,Ul[42]=r1^~tm&nm,Ul[43]=d1^~rm&im,Ul[4]=Cp^~yp&zl,Ul[5]=Rp^~Pp&Dl,Ul[14]=sp^~_p&Sp,Ul[15]=fp^~Mp&Bp,Ul[24]=$p^~qp&Yp,Ul[25]=Vp^~Dp&Xp,Ul[34]=g0^~Lp&s1,Ul[35]=t1^~Qp&jp,Ul[44]=tm^~nm&om,Ul[45]=rm^~im&U1,Ul[6]=yp^~zl&vp,Ul[7]=Pp^~Dl&Tp,Ul[16]=_p^~Sp&Ll,Ul[17]=Mp^~Bp&Gl,Ul[26]=qp^~Yp&Jp,Ul[27]=Dp^~Xp&Kp,Ul[36]=Lp^~s1&Wp,Ul[37]=Qp^~jp&o1,Ul[46]=nm^~om&b1,Ul[47]=im^~U1&v1,Ul[8]=zl^~vp&Ap,Ul[9]=Dl^~Tp&wp,Ul[18]=Sp^~Ll&fu,Ul[19]=Bp^~Gl&_d,Ul[28]=Yp^~Jp&kp,Ul[29]=Xp^~Kp&Hp,Ul[38]=s1^~Wp&h0,Ul[39]=jp^~o1&Fp,Ul[48]=om^~b1&r1,Ul[49]=U1^~v1&d1,Ul[0]^=os[Jl],Ul[1]^=os[Jl+1]};if(Lo)Fn.exports=rs;else for(El=0;El<as.length;++El)mo[as[El]]=rs[as[El]]})()})(Hn);var Cs$1=Hn.exports;const Rs$2="logger/5.7.0";let Ln=!1,zn=!1;const Tr$1={debug:1,default:2,info:2,warning:3,error:4,off:5};let jn=Tr$1.default,Mi$1=null;function Os$1(){try{const Fn=[];if(["NFD","NFC","NFKD","NFKC"].forEach(Mn=>{try{if("test".normalize(Mn)!=="test")throw new Error("bad normalize")}catch{Fn.push(Mn)}}),Fn.length)throw new Error("missing "+Fn.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(Fn){return Fn.message}return null}const Qn=Os$1();var Ei;(function(Fn){Fn.DEBUG="DEBUG",Fn.INFO="INFO",Fn.WARNING="WARNING",Fn.ERROR="ERROR",Fn.OFF="OFF"})(Ei||(Ei={}));var re$2;(function(Fn){Fn.UNKNOWN_ERROR="UNKNOWN_ERROR",Fn.NOT_IMPLEMENTED="NOT_IMPLEMENTED",Fn.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",Fn.NETWORK_ERROR="NETWORK_ERROR",Fn.SERVER_ERROR="SERVER_ERROR",Fn.TIMEOUT="TIMEOUT",Fn.BUFFER_OVERRUN="BUFFER_OVERRUN",Fn.NUMERIC_FAULT="NUMERIC_FAULT",Fn.MISSING_NEW="MISSING_NEW",Fn.INVALID_ARGUMENT="INVALID_ARGUMENT",Fn.MISSING_ARGUMENT="MISSING_ARGUMENT",Fn.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",Fn.CALL_EXCEPTION="CALL_EXCEPTION",Fn.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",Fn.NONCE_EXPIRED="NONCE_EXPIRED",Fn.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",Fn.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",Fn.TRANSACTION_REPLACED="TRANSACTION_REPLACED",Fn.ACTION_REJECTED="ACTION_REJECTED"})(re$2||(re$2={}));const Jn="0123456789abcdef";let z$4=class J1{constructor(Mn){Object.defineProperty(this,"version",{enumerable:!0,value:Mn,writable:!1})}_log(Mn,io){const fo=Mn.toLowerCase();Tr$1[fo]==null&&this.throwArgumentError("invalid log level name","logLevel",Mn),!(jn>Tr$1[fo])&&console.log.apply(console,io)}debug(...Mn){this._log(J1.levels.DEBUG,Mn)}info(...Mn){this._log(J1.levels.INFO,Mn)}warn(...Mn){this._log(J1.levels.WARNING,Mn)}makeError(Mn,io,fo){if(zn)return this.makeError("censored error",io,{});io||(io=J1.errors.UNKNOWN_ERROR),fo||(fo={});const mo=[];Object.keys(fo).forEach(Wo=>{const jo=fo[Wo];try{if(jo instanceof Uint8Array){let zo="";for(let Vo=0;Vo<jo.length;Vo++)zo+=Jn[jo[Vo]>>4],zo+=Jn[jo[Vo]&15];mo.push(Wo+"=Uint8Array(0x"+zo+")")}else mo.push(Wo+"="+JSON.stringify(jo))}catch{mo.push(Wo+"="+JSON.stringify(fo[Wo].toString()))}}),mo.push(`code=${io}`),mo.push(`version=${this.version}`);const $o=Mn;let Ao="";switch(io){case re$2.NUMERIC_FAULT:{Ao="NUMERIC_FAULT";const Wo=Mn;switch(Wo){case"overflow":case"underflow":case"division-by-zero":Ao+="-"+Wo;break;case"negative-power":case"negative-width":Ao+="-unsupported";break;case"unbound-bitwise-result":Ao+="-unbound-result";break}break}case re$2.CALL_EXCEPTION:case re$2.INSUFFICIENT_FUNDS:case re$2.MISSING_NEW:case re$2.NONCE_EXPIRED:case re$2.REPLACEMENT_UNDERPRICED:case re$2.TRANSACTION_REPLACED:case re$2.UNPREDICTABLE_GAS_LIMIT:Ao=io;break}Ao&&(Mn+=" [ See: https://links.ethers.org/v5-errors-"+Ao+" ]"),mo.length&&(Mn+=" ("+mo.join(", ")+")");const Lo=new Error(Mn);return Lo.reason=$o,Lo.code=io,Object.keys(fo).forEach(function(Wo){Lo[Wo]=fo[Wo]}),Lo}throwError(Mn,io,fo){throw this.makeError(Mn,io,fo)}throwArgumentError(Mn,io,fo){return this.throwError(Mn,J1.errors.INVALID_ARGUMENT,{argument:io,value:fo})}assert(Mn,io,fo,mo){Mn||this.throwError(io,fo,mo)}assertArgument(Mn,io,fo,mo){Mn||this.throwArgumentError(io,fo,mo)}checkNormalize(Mn){Qn&&this.throwError("platform missing String.prototype.normalize",J1.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Qn})}checkSafeUint53(Mn,io){typeof Mn=="number"&&(io==null&&(io="value not safe"),(Mn<0||Mn>=9007199254740991)&&this.throwError(io,J1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:Mn}),Mn%1&&this.throwError(io,J1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:Mn}))}checkArgumentCount(Mn,io,fo){fo?fo=": "+fo:fo="",Mn<io&&this.throwError("missing argument"+fo,J1.errors.MISSING_ARGUMENT,{count:Mn,expectedCount:io}),Mn>io&&this.throwError("too many arguments"+fo,J1.errors.UNEXPECTED_ARGUMENT,{count:Mn,expectedCount:io})}checkNew(Mn,io){(Mn===Object||Mn==null)&&this.throwError("missing new",J1.errors.MISSING_NEW,{name:io.name})}checkAbstract(Mn,io){Mn===io?this.throwError("cannot instantiate abstract class "+JSON.stringify(io.name)+" directly; use a sub-class",J1.errors.UNSUPPORTED_OPERATION,{name:Mn.name,operation:"new"}):(Mn===Object||Mn==null)&&this.throwError("missing new",J1.errors.MISSING_NEW,{name:io.name})}static globalLogger(){return Mi$1||(Mi$1=new J1(Rs$2)),Mi$1}static setCensorship(Mn,io){if(!Mn&&io&&this.globalLogger().throwError("cannot permanently disable censorship",J1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Ln){if(!Mn)return;this.globalLogger().throwError("error censorship permanent",J1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}zn=!!Mn,Ln=!!io}static setLogLevel(Mn){const io=Tr$1[Mn.toLowerCase()];if(io==null){J1.globalLogger().warn("invalid log level - "+Mn);return}jn=io}static from(Mn){return new J1(Mn)}};z$4.errors=re$2,z$4.levels=Ei;const Ps$1="bytes/5.7.0",Tt$2=new z$4(Ps$1);function Gn(Fn){return!!Fn.toHexString}function ir$1(Fn){return Fn.slice||(Fn.slice=function(){const Mn=Array.prototype.slice.call(arguments);return ir$1(new Uint8Array(Array.prototype.slice.apply(Fn,Mn)))}),Fn}function Ts$1(Fn){return Jt$2(Fn)&&!(Fn.length%2)||nr$1(Fn)}function Yn(Fn){return typeof Fn=="number"&&Fn==Fn&&Fn%1===0}function nr$1(Fn){if(Fn==null)return!1;if(Fn.constructor===Uint8Array)return!0;if(typeof Fn=="string"||!Yn(Fn.length)||Fn.length<0)return!1;for(let Mn=0;Mn<Fn.length;Mn++){const io=Fn[Mn];if(!Yn(io)||io<0||io>=256)return!1}return!0}function Ot$2(Fn,Mn){if(Mn||(Mn={}),typeof Fn=="number"){Tt$2.checkSafeUint53(Fn,"invalid arrayify value");const io=[];for(;Fn;)io.unshift(Fn&255),Fn=parseInt(String(Fn/256));return io.length===0&&io.push(0),ir$1(new Uint8Array(io))}if(Mn.allowMissingPrefix&&typeof Fn=="string"&&Fn.substring(0,2)!=="0x"&&(Fn="0x"+Fn),Gn(Fn)&&(Fn=Fn.toHexString()),Jt$2(Fn)){let io=Fn.substring(2);io.length%2&&(Mn.hexPad==="left"?io="0"+io:Mn.hexPad==="right"?io+="0":Tt$2.throwArgumentError("hex data is odd-length","value",Fn));const fo=[];for(let mo=0;mo<io.length;mo+=2)fo.push(parseInt(io.substring(mo,mo+2),16));return ir$1(new Uint8Array(fo))}return nr$1(Fn)?ir$1(new Uint8Array(Fn)):Tt$2.throwArgumentError("invalid arrayify value","value",Fn)}function Ds(Fn){const Mn=Fn.map(mo=>Ot$2(mo)),io=Mn.reduce((mo,$o)=>mo+$o.length,0),fo=new Uint8Array(io);return Mn.reduce((mo,$o)=>(fo.set($o,mo),mo+$o.length),0),ir$1(fo)}function Fs$1(Fn,Mn){Fn=Ot$2(Fn),Fn.length>Mn&&Tt$2.throwArgumentError("value out of range","value",arguments[0]);const io=new Uint8Array(Mn);return io.set(Fn,Mn-Fn.length),ir$1(io)}function Jt$2(Fn,Mn){return!(typeof Fn!="string"||!Fn.match(/^0x[0-9A-Fa-f]*$/)||Mn&&Fn.length!==2+2*Mn)}const Si="0123456789abcdef";function Kt$2(Fn,Mn){if(Mn||(Mn={}),typeof Fn=="number"){Tt$2.checkSafeUint53(Fn,"invalid hexlify value");let io="";for(;Fn;)io=Si[Fn&15]+io,Fn=Math.floor(Fn/16);return io.length?(io.length%2&&(io="0"+io),"0x"+io):"0x00"}if(typeof Fn=="bigint")return Fn=Fn.toString(16),Fn.length%2?"0x0"+Fn:"0x"+Fn;if(Mn.allowMissingPrefix&&typeof Fn=="string"&&Fn.substring(0,2)!=="0x"&&(Fn="0x"+Fn),Gn(Fn))return Fn.toHexString();if(Jt$2(Fn))return Fn.length%2&&(Mn.hexPad==="left"?Fn="0x0"+Fn.substring(2):Mn.hexPad==="right"?Fn+="0":Tt$2.throwArgumentError("hex data is odd-length","value",Fn)),Fn.toLowerCase();if(nr$1(Fn)){let io="0x";for(let fo=0;fo<Fn.length;fo++){let mo=Fn[fo];io+=Si[(mo&240)>>4]+Si[mo&15]}return io}return Tt$2.throwArgumentError("invalid hexlify value","value",Fn)}function Us$1(Fn){if(typeof Fn!="string")Fn=Kt$2(Fn);else if(!Jt$2(Fn)||Fn.length%2)return null;return(Fn.length-2)/2}function Vn(Fn,Mn,io){return typeof Fn!="string"?Fn=Kt$2(Fn):(!Jt$2(Fn)||Fn.length%2)&&Tt$2.throwArgumentError("invalid hexData","value",Fn),Mn=2+2*Mn,io!=null?"0x"+Fn.substring(Mn,2+2*io):"0x"+Fn.substring(Mn)}function oe$3(Fn,Mn){for(typeof Fn!="string"?Fn=Kt$2(Fn):Jt$2(Fn)||Tt$2.throwArgumentError("invalid hex string","value",Fn),Fn.length>2*Mn+2&&Tt$2.throwArgumentError("value out of range","value",arguments[1]);Fn.length<2*Mn+2;)Fn="0x0"+Fn.substring(2);return Fn}function Wn(Fn){const Mn={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Ts$1(Fn)){let io=Ot$2(Fn);io.length===64?(Mn.v=27+(io[32]>>7),io[32]&=127,Mn.r=Kt$2(io.slice(0,32)),Mn.s=Kt$2(io.slice(32,64))):io.length===65?(Mn.r=Kt$2(io.slice(0,32)),Mn.s=Kt$2(io.slice(32,64)),Mn.v=io[64]):Tt$2.throwArgumentError("invalid signature string","signature",Fn),Mn.v<27&&(Mn.v===0||Mn.v===1?Mn.v+=27:Tt$2.throwArgumentError("signature invalid v byte","signature",Fn)),Mn.recoveryParam=1-Mn.v%2,Mn.recoveryParam&&(io[32]|=128),Mn._vs=Kt$2(io.slice(32,64))}else{if(Mn.r=Fn.r,Mn.s=Fn.s,Mn.v=Fn.v,Mn.recoveryParam=Fn.recoveryParam,Mn._vs=Fn._vs,Mn._vs!=null){const mo=Fs$1(Ot$2(Mn._vs),32);Mn._vs=Kt$2(mo);const $o=mo[0]>=128?1:0;Mn.recoveryParam==null?Mn.recoveryParam=$o:Mn.recoveryParam!==$o&&Tt$2.throwArgumentError("signature recoveryParam mismatch _vs","signature",Fn),mo[0]&=127;const Ao=Kt$2(mo);Mn.s==null?Mn.s=Ao:Mn.s!==Ao&&Tt$2.throwArgumentError("signature v mismatch _vs","signature",Fn)}if(Mn.recoveryParam==null)Mn.v==null?Tt$2.throwArgumentError("signature missing v and recoveryParam","signature",Fn):Mn.v===0||Mn.v===1?Mn.recoveryParam=Mn.v:Mn.recoveryParam=1-Mn.v%2;else if(Mn.v==null)Mn.v=27+Mn.recoveryParam;else{const mo=Mn.v===0||Mn.v===1?Mn.v:1-Mn.v%2;Mn.recoveryParam!==mo&&Tt$2.throwArgumentError("signature recoveryParam mismatch v","signature",Fn)}Mn.r==null||!Jt$2(Mn.r)?Tt$2.throwArgumentError("signature missing or invalid r","signature",Fn):Mn.r=oe$3(Mn.r,32),Mn.s==null||!Jt$2(Mn.s)?Tt$2.throwArgumentError("signature missing or invalid s","signature",Fn):Mn.s=oe$3(Mn.s,32);const io=Ot$2(Mn.s);io[0]>=128&&Tt$2.throwArgumentError("signature s out of range","signature",Fn),Mn.recoveryParam&&(io[0]|=128);const fo=Kt$2(io);Mn._vs&&(Jt$2(Mn._vs)||Tt$2.throwArgumentError("signature invalid _vs","signature",Fn),Mn._vs=oe$3(Mn._vs,32)),Mn._vs==null?Mn._vs=fo:Mn._vs!==fo&&Tt$2.throwArgumentError("signature _vs mismatch v and s","signature",Fn)}return Mn.yParityAndS=Mn._vs,Mn.compact=Mn.r+Mn.yParityAndS.substring(2),Mn}function Ii(Fn){return"0x"+Cs$1.keccak_256(Ot$2(Fn))}var Xn={exports:{}},ks$1={},qs$2=Object.freeze({__proto__:null,default:ks$1}),Ks$1=Bs$1(qs$2);(function(Fn){(function(Mn,io){function fo(Xo,rs){if(!Xo)throw new Error(rs||"Assertion failed")}function mo(Xo,rs){Xo.super_=rs;var as=function(){};as.prototype=rs.prototype,Xo.prototype=new as,Xo.prototype.constructor=Xo}function $o(Xo,rs,as){if($o.isBN(Xo))return Xo;this.negative=0,this.words=null,this.length=0,this.red=null,Xo!==null&&((rs==="le"||rs==="be")&&(as=rs,rs=10),this._init(Xo||0,rs||10,as||"be"))}typeof Mn=="object"?Mn.exports=$o:io.BN=$o,$o.BN=$o,$o.wordSize=26;var Ao;try{typeof window<"u"&&typeof window.Buffer<"u"?Ao=window.Buffer:Ao=Ks$1.Buffer}catch{}$o.isBN=function(Xo){return Xo instanceof $o?!0:Xo!==null&&typeof Xo=="object"&&Xo.constructor.wordSize===$o.wordSize&&Array.isArray(Xo.words)},$o.max=function(Xo,rs){return Xo.cmp(rs)>0?Xo:rs},$o.min=function(Xo,rs){return Xo.cmp(rs)<0?Xo:rs},$o.prototype._init=function(Xo,rs,as){if(typeof Xo=="number")return this._initNumber(Xo,rs,as);if(typeof Xo=="object")return this._initArray(Xo,rs,as);rs==="hex"&&(rs=16),fo(rs===(rs|0)&&rs>=2&&rs<=36),Xo=Xo.toString().replace(/\s+/g,"");var El=0;Xo[0]==="-"&&(El++,this.negative=1),El<Xo.length&&(rs===16?this._parseHex(Xo,El,as):(this._parseBase(Xo,rs,El),as==="le"&&this._initArray(this.toArray(),rs,as)))},$o.prototype._initNumber=function(Xo,rs,as){Xo<0&&(this.negative=1,Xo=-Xo),Xo<67108864?(this.words=[Xo&67108863],this.length=1):Xo<4503599627370496?(this.words=[Xo&67108863,Xo/67108864&67108863],this.length=2):(fo(Xo<9007199254740992),this.words=[Xo&67108863,Xo/67108864&67108863,1],this.length=3),as==="le"&&this._initArray(this.toArray(),rs,as)},$o.prototype._initArray=function(Xo,rs,as){if(fo(typeof Xo.length=="number"),Xo.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Xo.length/3),this.words=new Array(this.length);for(var El=0;El<this.length;El++)this.words[El]=0;var Pl,Sl,Tl=0;if(as==="be")for(El=Xo.length-1,Pl=0;El>=0;El-=3)Sl=Xo[El]|Xo[El-1]<<8|Xo[El-2]<<16,this.words[Pl]|=Sl<<Tl&67108863,this.words[Pl+1]=Sl>>>26-Tl&67108863,Tl+=24,Tl>=26&&(Tl-=26,Pl++);else if(as==="le")for(El=0,Pl=0;El<Xo.length;El+=3)Sl=Xo[El]|Xo[El+1]<<8|Xo[El+2]<<16,this.words[Pl]|=Sl<<Tl&67108863,this.words[Pl+1]=Sl>>>26-Tl&67108863,Tl+=24,Tl>=26&&(Tl-=26,Pl++);return this._strip()};function Lo(Xo,rs){var as=Xo.charCodeAt(rs);if(as>=48&&as<=57)return as-48;if(as>=65&&as<=70)return as-55;if(as>=97&&as<=102)return as-87;fo(!1,"Invalid character in "+Xo)}function Wo(Xo,rs,as){var El=Lo(Xo,as);return as-1>=rs&&(El|=Lo(Xo,as-1)<<4),El}$o.prototype._parseHex=function(Xo,rs,as){this.length=Math.ceil((Xo.length-rs)/6),this.words=new Array(this.length);for(var El=0;El<this.length;El++)this.words[El]=0;var Pl=0,Sl=0,Tl;if(as==="be")for(El=Xo.length-1;El>=rs;El-=2)Tl=Wo(Xo,rs,El)<<Pl,this.words[Sl]|=Tl&67108863,Pl>=18?(Pl-=18,Sl+=1,this.words[Sl]|=Tl>>>26):Pl+=8;else{var hs=Xo.length-rs;for(El=hs%2===0?rs+1:rs;El<Xo.length;El+=2)Tl=Wo(Xo,rs,El)<<Pl,this.words[Sl]|=Tl&67108863,Pl>=18?(Pl-=18,Sl+=1,this.words[Sl]|=Tl>>>26):Pl+=8}this._strip()};function jo(Xo,rs,as,El){for(var Pl=0,Sl=0,Tl=Math.min(Xo.length,as),hs=rs;hs<Tl;hs++){var yl=Xo.charCodeAt(hs)-48;Pl*=El,yl>=49?Sl=yl-49+10:yl>=17?Sl=yl-17+10:Sl=yl,fo(yl>=0&&Sl<El,"Invalid character"),Pl+=Sl}return Pl}$o.prototype._parseBase=function(Xo,rs,as){this.words=[0],this.length=1;for(var El=0,Pl=1;Pl<=67108863;Pl*=rs)El++;El--,Pl=Pl/rs|0;for(var Sl=Xo.length-as,Tl=Sl%El,hs=Math.min(Sl,Sl-Tl)+as,yl=0,Fl=as;Fl<hs;Fl+=El)yl=jo(Xo,Fl,Fl+El,rs),this.imuln(Pl),this.words[0]+yl<67108864?this.words[0]+=yl:this._iaddn(yl);if(Tl!==0){var Xl=1;for(yl=jo(Xo,Fl,Xo.length,rs),Fl=0;Fl<Tl;Fl++)Xl*=rs;this.imuln(Xl),this.words[0]+yl<67108864?this.words[0]+=yl:this._iaddn(yl)}this._strip()},$o.prototype.copy=function(Xo){Xo.words=new Array(this.length);for(var rs=0;rs<this.length;rs++)Xo.words[rs]=this.words[rs];Xo.length=this.length,Xo.negative=this.negative,Xo.red=this.red};function zo(Xo,rs){Xo.words=rs.words,Xo.length=rs.length,Xo.negative=rs.negative,Xo.red=rs.red}if($o.prototype._move=function(Xo){zo(Xo,this)},$o.prototype.clone=function(){var Xo=new $o(null);return this.copy(Xo),Xo},$o.prototype._expand=function(Xo){for(;this.length<Xo;)this.words[this.length++]=0;return this},$o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},$o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{$o.prototype[Symbol.for("nodejs.util.inspect.custom")]=Vo}catch{$o.prototype.inspect=Vo}else $o.prototype.inspect=Vo;function Vo(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Go=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Jo=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Qo=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];$o.prototype.toString=function(Xo,rs){Xo=Xo||10,rs=rs|0||1;var as;if(Xo===16||Xo==="hex"){as="";for(var El=0,Pl=0,Sl=0;Sl<this.length;Sl++){var Tl=this.words[Sl],hs=((Tl<<El|Pl)&16777215).toString(16);Pl=Tl>>>24-El&16777215,El+=2,El>=26&&(El-=26,Sl--),Pl!==0||Sl!==this.length-1?as=Go[6-hs.length]+hs+as:as=hs+as}for(Pl!==0&&(as=Pl.toString(16)+as);as.length%rs!==0;)as="0"+as;return this.negative!==0&&(as="-"+as),as}if(Xo===(Xo|0)&&Xo>=2&&Xo<=36){var yl=Jo[Xo],Fl=Qo[Xo];as="";var Xl=this.clone();for(Xl.negative=0;!Xl.isZero();){var bu=Xl.modrn(Fl).toString(Xo);Xl=Xl.idivn(Fl),Xl.isZero()?as=bu+as:as=Go[yl-bu.length]+bu+as}for(this.isZero()&&(as="0"+as);as.length%rs!==0;)as="0"+as;return this.negative!==0&&(as="-"+as),as}fo(!1,"Base should be between 2 and 36")},$o.prototype.toNumber=function(){var Xo=this.words[0];return this.length===2?Xo+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Xo+=4503599627370496+this.words[1]*67108864:this.length>2&&fo(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Xo:Xo},$o.prototype.toJSON=function(){return this.toString(16,2)},Ao&&($o.prototype.toBuffer=function(Xo,rs){return this.toArrayLike(Ao,Xo,rs)}),$o.prototype.toArray=function(Xo,rs){return this.toArrayLike(Array,Xo,rs)};var os=function(Xo,rs){return Xo.allocUnsafe?Xo.allocUnsafe(rs):new Xo(rs)};$o.prototype.toArrayLike=function(Xo,rs,as){this._strip();var El=this.byteLength(),Pl=as||Math.max(1,El);fo(El<=Pl,"byte array longer than desired length"),fo(Pl>0,"Requested array length <= 0");var Sl=os(Xo,Pl),Tl=rs==="le"?"LE":"BE";return this["_toArrayLike"+Tl](Sl,El),Sl},$o.prototype._toArrayLikeLE=function(Xo,rs){for(var as=0,El=0,Pl=0,Sl=0;Pl<this.length;Pl++){var Tl=this.words[Pl]<<Sl|El;Xo[as++]=Tl&255,as<Xo.length&&(Xo[as++]=Tl>>8&255),as<Xo.length&&(Xo[as++]=Tl>>16&255),Sl===6?(as<Xo.length&&(Xo[as++]=Tl>>24&255),El=0,Sl=0):(El=Tl>>>24,Sl+=2)}if(as<Xo.length)for(Xo[as++]=El;as<Xo.length;)Xo[as++]=0},$o.prototype._toArrayLikeBE=function(Xo,rs){for(var as=Xo.length-1,El=0,Pl=0,Sl=0;Pl<this.length;Pl++){var Tl=this.words[Pl]<<Sl|El;Xo[as--]=Tl&255,as>=0&&(Xo[as--]=Tl>>8&255),as>=0&&(Xo[as--]=Tl>>16&255),Sl===6?(as>=0&&(Xo[as--]=Tl>>24&255),El=0,Sl=0):(El=Tl>>>24,Sl+=2)}if(as>=0)for(Xo[as--]=El;as>=0;)Xo[as--]=0},Math.clz32?$o.prototype._countBits=function(Xo){return 32-Math.clz32(Xo)}:$o.prototype._countBits=function(Xo){var rs=Xo,as=0;return rs>=4096&&(as+=13,rs>>>=13),rs>=64&&(as+=7,rs>>>=7),rs>=8&&(as+=4,rs>>>=4),rs>=2&&(as+=2,rs>>>=2),as+rs},$o.prototype._zeroBits=function(Xo){if(Xo===0)return 26;var rs=Xo,as=0;return rs&8191||(as+=13,rs>>>=13),rs&127||(as+=7,rs>>>=7),rs&15||(as+=4,rs>>>=4),rs&3||(as+=2,rs>>>=2),rs&1||as++,as},$o.prototype.bitLength=function(){var Xo=this.words[this.length-1],rs=this._countBits(Xo);return(this.length-1)*26+rs};function Cl(Xo){for(var rs=new Array(Xo.bitLength()),as=0;as<rs.length;as++){var El=as/26|0,Pl=as%26;rs[as]=Xo.words[El]>>>Pl&1}return rs}$o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Xo=0,rs=0;rs<this.length;rs++){var as=this._zeroBits(this.words[rs]);if(Xo+=as,as!==26)break}return Xo},$o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},$o.prototype.toTwos=function(Xo){return this.negative!==0?this.abs().inotn(Xo).iaddn(1):this.clone()},$o.prototype.fromTwos=function(Xo){return this.testn(Xo-1)?this.notn(Xo).iaddn(1).ineg():this.clone()},$o.prototype.isNeg=function(){return this.negative!==0},$o.prototype.neg=function(){return this.clone().ineg()},$o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},$o.prototype.iuor=function(Xo){for(;this.length<Xo.length;)this.words[this.length++]=0;for(var rs=0;rs<Xo.length;rs++)this.words[rs]=this.words[rs]|Xo.words[rs];return this._strip()},$o.prototype.ior=function(Xo){return fo((this.negative|Xo.negative)===0),this.iuor(Xo)},$o.prototype.or=function(Xo){return this.length>Xo.length?this.clone().ior(Xo):Xo.clone().ior(this)},$o.prototype.uor=function(Xo){return this.length>Xo.length?this.clone().iuor(Xo):Xo.clone().iuor(this)},$o.prototype.iuand=function(Xo){var rs;this.length>Xo.length?rs=Xo:rs=this;for(var as=0;as<rs.length;as++)this.words[as]=this.words[as]&Xo.words[as];return this.length=rs.length,this._strip()},$o.prototype.iand=function(Xo){return fo((this.negative|Xo.negative)===0),this.iuand(Xo)},$o.prototype.and=function(Xo){return this.length>Xo.length?this.clone().iand(Xo):Xo.clone().iand(this)},$o.prototype.uand=function(Xo){return this.length>Xo.length?this.clone().iuand(Xo):Xo.clone().iuand(this)},$o.prototype.iuxor=function(Xo){var rs,as;this.length>Xo.length?(rs=this,as=Xo):(rs=Xo,as=this);for(var El=0;El<as.length;El++)this.words[El]=rs.words[El]^as.words[El];if(this!==rs)for(;El<rs.length;El++)this.words[El]=rs.words[El];return this.length=rs.length,this._strip()},$o.prototype.ixor=function(Xo){return fo((this.negative|Xo.negative)===0),this.iuxor(Xo)},$o.prototype.xor=function(Xo){return this.length>Xo.length?this.clone().ixor(Xo):Xo.clone().ixor(this)},$o.prototype.uxor=function(Xo){return this.length>Xo.length?this.clone().iuxor(Xo):Xo.clone().iuxor(this)},$o.prototype.inotn=function(Xo){fo(typeof Xo=="number"&&Xo>=0);var rs=Math.ceil(Xo/26)|0,as=Xo%26;this._expand(rs),as>0&&rs--;for(var El=0;El<rs;El++)this.words[El]=~this.words[El]&67108863;return as>0&&(this.words[El]=~this.words[El]&67108863>>26-as),this._strip()},$o.prototype.notn=function(Xo){return this.clone().inotn(Xo)},$o.prototype.setn=function(Xo,rs){fo(typeof Xo=="number"&&Xo>=0);var as=Xo/26|0,El=Xo%26;return this._expand(as+1),rs?this.words[as]=this.words[as]|1<<El:this.words[as]=this.words[as]&~(1<<El),this._strip()},$o.prototype.iadd=function(Xo){var rs;if(this.negative!==0&&Xo.negative===0)return this.negative=0,rs=this.isub(Xo),this.negative^=1,this._normSign();if(this.negative===0&&Xo.negative!==0)return Xo.negative=0,rs=this.isub(Xo),Xo.negative=1,rs._normSign();var as,El;this.length>Xo.length?(as=this,El=Xo):(as=Xo,El=this);for(var Pl=0,Sl=0;Sl<El.length;Sl++)rs=(as.words[Sl]|0)+(El.words[Sl]|0)+Pl,this.words[Sl]=rs&67108863,Pl=rs>>>26;for(;Pl!==0&&Sl<as.length;Sl++)rs=(as.words[Sl]|0)+Pl,this.words[Sl]=rs&67108863,Pl=rs>>>26;if(this.length=as.length,Pl!==0)this.words[this.length]=Pl,this.length++;else if(as!==this)for(;Sl<as.length;Sl++)this.words[Sl]=as.words[Sl];return this},$o.prototype.add=function(Xo){var rs;return Xo.negative!==0&&this.negative===0?(Xo.negative=0,rs=this.sub(Xo),Xo.negative^=1,rs):Xo.negative===0&&this.negative!==0?(this.negative=0,rs=Xo.sub(this),this.negative=1,rs):this.length>Xo.length?this.clone().iadd(Xo):Xo.clone().iadd(this)},$o.prototype.isub=function(Xo){if(Xo.negative!==0){Xo.negative=0;var rs=this.iadd(Xo);return Xo.negative=1,rs._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Xo),this.negative=1,this._normSign();var as=this.cmp(Xo);if(as===0)return this.negative=0,this.length=1,this.words[0]=0,this;var El,Pl;as>0?(El=this,Pl=Xo):(El=Xo,Pl=this);for(var Sl=0,Tl=0;Tl<Pl.length;Tl++)rs=(El.words[Tl]|0)-(Pl.words[Tl]|0)+Sl,Sl=rs>>26,this.words[Tl]=rs&67108863;for(;Sl!==0&&Tl<El.length;Tl++)rs=(El.words[Tl]|0)+Sl,Sl=rs>>26,this.words[Tl]=rs&67108863;if(Sl===0&&Tl<El.length&&El!==this)for(;Tl<El.length;Tl++)this.words[Tl]=El.words[Tl];return this.length=Math.max(this.length,Tl),El!==this&&(this.negative=1),this._strip()},$o.prototype.sub=function(Xo){return this.clone().isub(Xo)};function xl(Xo,rs,as){as.negative=rs.negative^Xo.negative;var El=Xo.length+rs.length|0;as.length=El,El=El-1|0;var Pl=Xo.words[0]|0,Sl=rs.words[0]|0,Tl=Pl*Sl,hs=Tl&67108863,yl=Tl/67108864|0;as.words[0]=hs;for(var Fl=1;Fl<El;Fl++){for(var Xl=yl>>>26,bu=yl&67108863,Ul=Math.min(Fl,rs.length-1),yu=Math.max(0,Fl-Xo.length+1);yu<=Ul;yu++){var Vl=Fl-yu|0;Pl=Xo.words[Vl]|0,Sl=rs.words[yu]|0,Tl=Pl*Sl+bu,Xl+=Tl/67108864|0,bu=Tl&67108863}as.words[Fl]=bu|0,yl=Xl|0}return yl!==0?as.words[Fl]=yl|0:as.length--,as._strip()}var ds=function(Xo,rs,as){var El=Xo.words,Pl=rs.words,Sl=as.words,Tl=0,hs,yl,Fl,Xl=El[0]|0,bu=Xl&8191,Ul=Xl>>>13,yu=El[1]|0,Vl=yu&8191,Jl=yu>>>13,Ql=El[2]|0,Ol=Ql&8191,Zl=Ql>>>13,rp=El[3]|0,op=rp&8191,lp=rp>>>13,hp=El[4]|0,xp=hp&8191,Ip=hp>>>13,Ep=El[5]|0,vp=Ep&8191,Tp=Ep>>>13,Ap=El[6]|0,wp=Ap&8191,Cp=Ap>>>13,Rp=El[7]|0,yp=Rp&8191,Pp=Rp>>>13,zl=El[8]|0,Dl=zl&8191,Ll=zl>>>13,Gl=El[9]|0,fu=Gl&8191,_d=Gl>>>13,sp=Pl[0]|0,fp=sp&8191,_p=sp>>>13,Mp=Pl[1]|0,Sp=Mp&8191,Bp=Mp>>>13,Jp=Pl[2]|0,Kp=Jp&8191,kp=Jp>>>13,Hp=Pl[3]|0,$p=Hp&8191,Vp=Hp>>>13,qp=Pl[4]|0,Dp=qp&8191,Yp=qp>>>13,Xp=Pl[5]|0,Wp=Xp&8191,o1=Xp>>>13,h0=Pl[6]|0,Fp=h0&8191,g0=h0>>>13,t1=Pl[7]|0,Lp=t1&8191,Qp=t1>>>13,s1=Pl[8]|0,jp=s1&8191,b1=s1>>>13,v1=Pl[9]|0,r1=v1&8191,d1=v1>>>13;as.negative=Xo.negative^rs.negative,as.length=19,hs=Math.imul(bu,fp),yl=Math.imul(bu,_p),yl=yl+Math.imul(Ul,fp)|0,Fl=Math.imul(Ul,_p);var tm=(Tl+hs|0)+((yl&8191)<<13)|0;Tl=(Fl+(yl>>>13)|0)+(tm>>>26)|0,tm&=67108863,hs=Math.imul(Vl,fp),yl=Math.imul(Vl,_p),yl=yl+Math.imul(Jl,fp)|0,Fl=Math.imul(Jl,_p),hs=hs+Math.imul(bu,Sp)|0,yl=yl+Math.imul(bu,Bp)|0,yl=yl+Math.imul(Ul,Sp)|0,Fl=Fl+Math.imul(Ul,Bp)|0;var rm=(Tl+hs|0)+((yl&8191)<<13)|0;Tl=(Fl+(yl>>>13)|0)+(rm>>>26)|0,rm&=67108863,hs=Math.imul(Ol,fp),yl=Math.imul(Ol,_p),yl=yl+Math.imul(Zl,fp)|0,Fl=Math.imul(Zl,_p),hs=hs+Math.imul(Vl,Sp)|0,yl=yl+Math.imul(Vl,Bp)|0,yl=yl+Math.imul(Jl,Sp)|0,Fl=Fl+Math.imul(Jl,Bp)|0,hs=hs+Math.imul(bu,Kp)|0,yl=yl+Math.imul(bu,kp)|0,yl=yl+Math.imul(Ul,Kp)|0,Fl=Fl+Math.imul(Ul,kp)|0;var nm=(Tl+hs|0)+((yl&8191)<<13)|0;Tl=(Fl+(yl>>>13)|0)+(nm>>>26)|0,nm&=67108863,hs=Math.imul(op,fp),yl=Math.imul(op,_p),yl=yl+Math.imul(lp,fp)|0,Fl=Math.imul(lp,_p),hs=hs+Math.imul(Ol,Sp)|0,yl=yl+Math.imul(Ol,Bp)|0,yl=yl+Math.imul(Zl,Sp)|0,Fl=Fl+Math.imul(Zl,Bp)|0,hs=hs+Math.imul(Vl,Kp)|0,yl=yl+Math.imul(Vl,kp)|0,yl=yl+Math.imul(Jl,Kp)|0,Fl=Fl+Math.imul(Jl,kp)|0,hs=hs+Math.imul(bu,$p)|0,yl=yl+Math.imul(bu,Vp)|0,yl=yl+Math.imul(Ul,$p)|0,Fl=Fl+Math.imul(Ul,Vp)|0;var im=(Tl+hs|0)+((yl&8191)<<13)|0;Tl=(Fl+(yl>>>13)|0)+(im>>>26)|0,im&=67108863,hs=Math.imul(xp,fp),yl=Math.imul(xp,_p),yl=yl+Math.imul(Ip,fp)|0,Fl=Math.imul(Ip,_p),hs=hs+Math.imul(op,Sp)|0,yl=yl+Math.imul(op,Bp)|0,yl=yl+Math.imul(lp,Sp)|0,Fl=Fl+Math.imul(lp,Bp)|0,hs=hs+Math.imul(Ol,Kp)|0,yl=yl+Math.imul(Ol,kp)|0,yl=yl+Math.imul(Zl,Kp)|0,Fl=Fl+Math.imul(Zl,kp)|0,hs=hs+Math.imul(Vl,$p)|0,yl=yl+Math.imul(Vl,Vp)|0,yl=yl+Math.imul(Jl,$p)|0,Fl=Fl+Math.imul(Jl,Vp)|0,hs=hs+Math.imul(bu,Dp)|0,yl=yl+Math.imul(bu,Yp)|0,yl=yl+Math.imul(Ul,Dp)|0,Fl=Fl+Math.imul(Ul,Yp)|0;var om=(Tl+hs|0)+((yl&8191)<<13)|0;Tl=(Fl+(yl>>>13)|0)+(om>>>26)|0,om&=67108863,hs=Math.imul(vp,fp),yl=Math.imul(vp,_p),yl=yl+Math.imul(Tp,fp)|0,Fl=Math.imul(Tp,_p),hs=hs+Math.imul(xp,Sp)|0,yl=yl+Math.imul(xp,Bp)|0,yl=yl+Math.imul(Ip,Sp)|0,Fl=Fl+Math.imul(Ip,Bp)|0,hs=hs+Math.imul(op,Kp)|0,yl=yl+Math.imul(op,kp)|0,yl=yl+Math.imul(lp,Kp)|0,Fl=Fl+Math.imul(lp,kp)|0,hs=hs+Math.imul(Ol,$p)|0,yl=yl+Math.imul(Ol,Vp)|0,yl=yl+Math.imul(Zl,$p)|0,Fl=Fl+Math.imul(Zl,Vp)|0,hs=hs+Math.imul(Vl,Dp)|0,yl=yl+Math.imul(Vl,Yp)|0,yl=yl+Math.imul(Jl,Dp)|0,Fl=Fl+Math.imul(Jl,Yp)|0,hs=hs+Math.imul(bu,Wp)|0,yl=yl+Math.imul(bu,o1)|0,yl=yl+Math.imul(Ul,Wp)|0,Fl=Fl+Math.imul(Ul,o1)|0;var U1=(Tl+hs|0)+((yl&8191)<<13)|0;Tl=(Fl+(yl>>>13)|0)+(U1>>>26)|0,U1&=67108863,hs=Math.imul(wp,fp),yl=Math.imul(wp,_p),yl=yl+Math.imul(Cp,fp)|0,Fl=Math.imul(Cp,_p),hs=hs+Math.imul(vp,Sp)|0,yl=yl+Math.imul(vp,Bp)|0,yl=yl+Math.imul(Tp,Sp)|0,Fl=Fl+Math.imul(Tp,Bp)|0,hs=hs+Math.imul(xp,Kp)|0,yl=yl+Math.imul(xp,kp)|0,yl=yl+Math.imul(Ip,Kp)|0,Fl=Fl+Math.imul(Ip,kp)|0,hs=hs+Math.imul(op,$p)|0,yl=yl+Math.imul(op,Vp)|0,yl=yl+Math.imul(lp,$p)|0,Fl=Fl+Math.imul(lp,Vp)|0,hs=hs+Math.imul(Ol,Dp)|0,yl=yl+Math.imul(Ol,Yp)|0,yl=yl+Math.imul(Zl,Dp)|0,Fl=Fl+Math.imul(Zl,Yp)|0,hs=hs+Math.imul(Vl,Wp)|0,yl=yl+Math.imul(Vl,o1)|0,yl=yl+Math.imul(Jl,Wp)|0,Fl=Fl+Math.imul(Jl,o1)|0,hs=hs+Math.imul(bu,Fp)|0,yl=yl+Math.imul(bu,g0)|0,yl=yl+Math.imul(Ul,Fp)|0,Fl=Fl+Math.imul(Ul,g0)|0;var Em=(Tl+hs|0)+((yl&8191)<<13)|0;Tl=(Fl+(yl>>>13)|0)+(Em>>>26)|0,Em&=67108863,hs=Math.imul(yp,fp),yl=Math.imul(yp,_p),yl=yl+Math.imul(Pp,fp)|0,Fl=Math.imul(Pp,_p),hs=hs+Math.imul(wp,Sp)|0,yl=yl+Math.imul(wp,Bp)|0,yl=yl+Math.imul(Cp,Sp)|0,Fl=Fl+Math.imul(Cp,Bp)|0,hs=hs+Math.imul(vp,Kp)|0,yl=yl+Math.imul(vp,kp)|0,yl=yl+Math.imul(Tp,Kp)|0,Fl=Fl+Math.imul(Tp,kp)|0,hs=hs+Math.imul(xp,$p)|0,yl=yl+Math.imul(xp,Vp)|0,yl=yl+Math.imul(Ip,$p)|0,Fl=Fl+Math.imul(Ip,Vp)|0,hs=hs+Math.imul(op,Dp)|0,yl=yl+Math.imul(op,Yp)|0,yl=yl+Math.imul(lp,Dp)|0,Fl=Fl+Math.imul(lp,Yp)|0,hs=hs+Math.imul(Ol,Wp)|0,yl=yl+Math.imul(Ol,o1)|0,yl=yl+Math.imul(Zl,Wp)|0,Fl=Fl+Math.imul(Zl,o1)|0,hs=hs+Math.imul(Vl,Fp)|0,yl=yl+Math.imul(Vl,g0)|0,yl=yl+Math.imul(Jl,Fp)|0,Fl=Fl+Math.imul(Jl,g0)|0,hs=hs+Math.imul(bu,Lp)|0,yl=yl+Math.imul(bu,Qp)|0,yl=yl+Math.imul(Ul,Lp)|0,Fl=Fl+Math.imul(Ul,Qp)|0;var Jm=(Tl+hs|0)+((yl&8191)<<13)|0;Tl=(Fl+(yl>>>13)|0)+(Jm>>>26)|0,Jm&=67108863,hs=Math.imul(Dl,fp),yl=Math.imul(Dl,_p),yl=yl+Math.imul(Ll,fp)|0,Fl=Math.imul(Ll,_p),hs=hs+Math.imul(yp,Sp)|0,yl=yl+Math.imul(yp,Bp)|0,yl=yl+Math.imul(Pp,Sp)|0,Fl=Fl+Math.imul(Pp,Bp)|0,hs=hs+Math.imul(wp,Kp)|0,yl=yl+Math.imul(wp,kp)|0,yl=yl+Math.imul(Cp,Kp)|0,Fl=Fl+Math.imul(Cp,kp)|0,hs=hs+Math.imul(vp,$p)|0,yl=yl+Math.imul(vp,Vp)|0,yl=yl+Math.imul(Tp,$p)|0,Fl=Fl+Math.imul(Tp,Vp)|0,hs=hs+Math.imul(xp,Dp)|0,yl=yl+Math.imul(xp,Yp)|0,yl=yl+Math.imul(Ip,Dp)|0,Fl=Fl+Math.imul(Ip,Yp)|0,hs=hs+Math.imul(op,Wp)|0,yl=yl+Math.imul(op,o1)|0,yl=yl+Math.imul(lp,Wp)|0,Fl=Fl+Math.imul(lp,o1)|0,hs=hs+Math.imul(Ol,Fp)|0,yl=yl+Math.imul(Ol,g0)|0,yl=yl+Math.imul(Zl,Fp)|0,Fl=Fl+Math.imul(Zl,g0)|0,hs=hs+Math.imul(Vl,Lp)|0,yl=yl+Math.imul(Vl,Qp)|0,yl=yl+Math.imul(Jl,Lp)|0,Fl=Fl+Math.imul(Jl,Qp)|0,hs=hs+Math.imul(bu,jp)|0,yl=yl+Math.imul(bu,b1)|0,yl=yl+Math.imul(Ul,jp)|0,Fl=Fl+Math.imul(Ul,b1)|0;var Am=(Tl+hs|0)+((yl&8191)<<13)|0;Tl=(Fl+(yl>>>13)|0)+(Am>>>26)|0,Am&=67108863,hs=Math.imul(fu,fp),yl=Math.imul(fu,_p),yl=yl+Math.imul(_d,fp)|0,Fl=Math.imul(_d,_p),hs=hs+Math.imul(Dl,Sp)|0,yl=yl+Math.imul(Dl,Bp)|0,yl=yl+Math.imul(Ll,Sp)|0,Fl=Fl+Math.imul(Ll,Bp)|0,hs=hs+Math.imul(yp,Kp)|0,yl=yl+Math.imul(yp,kp)|0,yl=yl+Math.imul(Pp,Kp)|0,Fl=Fl+Math.imul(Pp,kp)|0,hs=hs+Math.imul(wp,$p)|0,yl=yl+Math.imul(wp,Vp)|0,yl=yl+Math.imul(Cp,$p)|0,Fl=Fl+Math.imul(Cp,Vp)|0,hs=hs+Math.imul(vp,Dp)|0,yl=yl+Math.imul(vp,Yp)|0,yl=yl+Math.imul(Tp,Dp)|0,Fl=Fl+Math.imul(Tp,Yp)|0,hs=hs+Math.imul(xp,Wp)|0,yl=yl+Math.imul(xp,o1)|0,yl=yl+Math.imul(Ip,Wp)|0,Fl=Fl+Math.imul(Ip,o1)|0,hs=hs+Math.imul(op,Fp)|0,yl=yl+Math.imul(op,g0)|0,yl=yl+Math.imul(lp,Fp)|0,Fl=Fl+Math.imul(lp,g0)|0,hs=hs+Math.imul(Ol,Lp)|0,yl=yl+Math.imul(Ol,Qp)|0,yl=yl+Math.imul(Zl,Lp)|0,Fl=Fl+Math.imul(Zl,Qp)|0,hs=hs+Math.imul(Vl,jp)|0,yl=yl+Math.imul(Vl,b1)|0,yl=yl+Math.imul(Jl,jp)|0,Fl=Fl+Math.imul(Jl,b1)|0,hs=hs+Math.imul(bu,r1)|0,yl=yl+Math.imul(bu,d1)|0,yl=yl+Math.imul(Ul,r1)|0,Fl=Fl+Math.imul(Ul,d1)|0;var Xm=(Tl+hs|0)+((yl&8191)<<13)|0;Tl=(Fl+(yl>>>13)|0)+(Xm>>>26)|0,Xm&=67108863,hs=Math.imul(fu,Sp),yl=Math.imul(fu,Bp),yl=yl+Math.imul(_d,Sp)|0,Fl=Math.imul(_d,Bp),hs=hs+Math.imul(Dl,Kp)|0,yl=yl+Math.imul(Dl,kp)|0,yl=yl+Math.imul(Ll,Kp)|0,Fl=Fl+Math.imul(Ll,kp)|0,hs=hs+Math.imul(yp,$p)|0,yl=yl+Math.imul(yp,Vp)|0,yl=yl+Math.imul(Pp,$p)|0,Fl=Fl+Math.imul(Pp,Vp)|0,hs=hs+Math.imul(wp,Dp)|0,yl=yl+Math.imul(wp,Yp)|0,yl=yl+Math.imul(Cp,Dp)|0,Fl=Fl+Math.imul(Cp,Yp)|0,hs=hs+Math.imul(vp,Wp)|0,yl=yl+Math.imul(vp,o1)|0,yl=yl+Math.imul(Tp,Wp)|0,Fl=Fl+Math.imul(Tp,o1)|0,hs=hs+Math.imul(xp,Fp)|0,yl=yl+Math.imul(xp,g0)|0,yl=yl+Math.imul(Ip,Fp)|0,Fl=Fl+Math.imul(Ip,g0)|0,hs=hs+Math.imul(op,Lp)|0,yl=yl+Math.imul(op,Qp)|0,yl=yl+Math.imul(lp,Lp)|0,Fl=Fl+Math.imul(lp,Qp)|0,hs=hs+Math.imul(Ol,jp)|0,yl=yl+Math.imul(Ol,b1)|0,yl=yl+Math.imul(Zl,jp)|0,Fl=Fl+Math.imul(Zl,b1)|0,hs=hs+Math.imul(Vl,r1)|0,yl=yl+Math.imul(Vl,d1)|0,yl=yl+Math.imul(Jl,r1)|0,Fl=Fl+Math.imul(Jl,d1)|0;var ew=(Tl+hs|0)+((yl&8191)<<13)|0;Tl=(Fl+(yl>>>13)|0)+(ew>>>26)|0,ew&=67108863,hs=Math.imul(fu,Kp),yl=Math.imul(fu,kp),yl=yl+Math.imul(_d,Kp)|0,Fl=Math.imul(_d,kp),hs=hs+Math.imul(Dl,$p)|0,yl=yl+Math.imul(Dl,Vp)|0,yl=yl+Math.imul(Ll,$p)|0,Fl=Fl+Math.imul(Ll,Vp)|0,hs=hs+Math.imul(yp,Dp)|0,yl=yl+Math.imul(yp,Yp)|0,yl=yl+Math.imul(Pp,Dp)|0,Fl=Fl+Math.imul(Pp,Yp)|0,hs=hs+Math.imul(wp,Wp)|0,yl=yl+Math.imul(wp,o1)|0,yl=yl+Math.imul(Cp,Wp)|0,Fl=Fl+Math.imul(Cp,o1)|0,hs=hs+Math.imul(vp,Fp)|0,yl=yl+Math.imul(vp,g0)|0,yl=yl+Math.imul(Tp,Fp)|0,Fl=Fl+Math.imul(Tp,g0)|0,hs=hs+Math.imul(xp,Lp)|0,yl=yl+Math.imul(xp,Qp)|0,yl=yl+Math.imul(Ip,Lp)|0,Fl=Fl+Math.imul(Ip,Qp)|0,hs=hs+Math.imul(op,jp)|0,yl=yl+Math.imul(op,b1)|0,yl=yl+Math.imul(lp,jp)|0,Fl=Fl+Math.imul(lp,b1)|0,hs=hs+Math.imul(Ol,r1)|0,yl=yl+Math.imul(Ol,d1)|0,yl=yl+Math.imul(Zl,r1)|0,Fl=Fl+Math.imul(Zl,d1)|0;var Sm=(Tl+hs|0)+((yl&8191)<<13)|0;Tl=(Fl+(yl>>>13)|0)+(Sm>>>26)|0,Sm&=67108863,hs=Math.imul(fu,$p),yl=Math.imul(fu,Vp),yl=yl+Math.imul(_d,$p)|0,Fl=Math.imul(_d,Vp),hs=hs+Math.imul(Dl,Dp)|0,yl=yl+Math.imul(Dl,Yp)|0,yl=yl+Math.imul(Ll,Dp)|0,Fl=Fl+Math.imul(Ll,Yp)|0,hs=hs+Math.imul(yp,Wp)|0,yl=yl+Math.imul(yp,o1)|0,yl=yl+Math.imul(Pp,Wp)|0,Fl=Fl+Math.imul(Pp,o1)|0,hs=hs+Math.imul(wp,Fp)|0,yl=yl+Math.imul(wp,g0)|0,yl=yl+Math.imul(Cp,Fp)|0,Fl=Fl+Math.imul(Cp,g0)|0,hs=hs+Math.imul(vp,Lp)|0,yl=yl+Math.imul(vp,Qp)|0,yl=yl+Math.imul(Tp,Lp)|0,Fl=Fl+Math.imul(Tp,Qp)|0,hs=hs+Math.imul(xp,jp)|0,yl=yl+Math.imul(xp,b1)|0,yl=yl+Math.imul(Ip,jp)|0,Fl=Fl+Math.imul(Ip,b1)|0,hs=hs+Math.imul(op,r1)|0,yl=yl+Math.imul(op,d1)|0,yl=yl+Math.imul(lp,r1)|0,Fl=Fl+Math.imul(lp,d1)|0;var Fm=(Tl+hs|0)+((yl&8191)<<13)|0;Tl=(Fl+(yl>>>13)|0)+(Fm>>>26)|0,Fm&=67108863,hs=Math.imul(fu,Dp),yl=Math.imul(fu,Yp),yl=yl+Math.imul(_d,Dp)|0,Fl=Math.imul(_d,Yp),hs=hs+Math.imul(Dl,Wp)|0,yl=yl+Math.imul(Dl,o1)|0,yl=yl+Math.imul(Ll,Wp)|0,Fl=Fl+Math.imul(Ll,o1)|0,hs=hs+Math.imul(yp,Fp)|0,yl=yl+Math.imul(yp,g0)|0,yl=yl+Math.imul(Pp,Fp)|0,Fl=Fl+Math.imul(Pp,g0)|0,hs=hs+Math.imul(wp,Lp)|0,yl=yl+Math.imul(wp,Qp)|0,yl=yl+Math.imul(Cp,Lp)|0,Fl=Fl+Math.imul(Cp,Qp)|0,hs=hs+Math.imul(vp,jp)|0,yl=yl+Math.imul(vp,b1)|0,yl=yl+Math.imul(Tp,jp)|0,Fl=Fl+Math.imul(Tp,b1)|0,hs=hs+Math.imul(xp,r1)|0,yl=yl+Math.imul(xp,d1)|0,yl=yl+Math.imul(Ip,r1)|0,Fl=Fl+Math.imul(Ip,d1)|0;var jm=(Tl+hs|0)+((yl&8191)<<13)|0;Tl=(Fl+(yl>>>13)|0)+(jm>>>26)|0,jm&=67108863,hs=Math.imul(fu,Wp),yl=Math.imul(fu,o1),yl=yl+Math.imul(_d,Wp)|0,Fl=Math.imul(_d,o1),hs=hs+Math.imul(Dl,Fp)|0,yl=yl+Math.imul(Dl,g0)|0,yl=yl+Math.imul(Ll,Fp)|0,Fl=Fl+Math.imul(Ll,g0)|0,hs=hs+Math.imul(yp,Lp)|0,yl=yl+Math.imul(yp,Qp)|0,yl=yl+Math.imul(Pp,Lp)|0,Fl=Fl+Math.imul(Pp,Qp)|0,hs=hs+Math.imul(wp,jp)|0,yl=yl+Math.imul(wp,b1)|0,yl=yl+Math.imul(Cp,jp)|0,Fl=Fl+Math.imul(Cp,b1)|0,hs=hs+Math.imul(vp,r1)|0,yl=yl+Math.imul(vp,d1)|0,yl=yl+Math.imul(Tp,r1)|0,Fl=Fl+Math.imul(Tp,d1)|0;var Z1=(Tl+hs|0)+((yl&8191)<<13)|0;Tl=(Fl+(yl>>>13)|0)+(Z1>>>26)|0,Z1&=67108863,hs=Math.imul(fu,Fp),yl=Math.imul(fu,g0),yl=yl+Math.imul(_d,Fp)|0,Fl=Math.imul(_d,g0),hs=hs+Math.imul(Dl,Lp)|0,yl=yl+Math.imul(Dl,Qp)|0,yl=yl+Math.imul(Ll,Lp)|0,Fl=Fl+Math.imul(Ll,Qp)|0,hs=hs+Math.imul(yp,jp)|0,yl=yl+Math.imul(yp,b1)|0,yl=yl+Math.imul(Pp,jp)|0,Fl=Fl+Math.imul(Pp,b1)|0,hs=hs+Math.imul(wp,r1)|0,yl=yl+Math.imul(wp,d1)|0,yl=yl+Math.imul(Cp,r1)|0,Fl=Fl+Math.imul(Cp,d1)|0;var tw=(Tl+hs|0)+((yl&8191)<<13)|0;Tl=(Fl+(yl>>>13)|0)+(tw>>>26)|0,tw&=67108863,hs=Math.imul(fu,Lp),yl=Math.imul(fu,Qp),yl=yl+Math.imul(_d,Lp)|0,Fl=Math.imul(_d,Qp),hs=hs+Math.imul(Dl,jp)|0,yl=yl+Math.imul(Dl,b1)|0,yl=yl+Math.imul(Ll,jp)|0,Fl=Fl+Math.imul(Ll,b1)|0,hs=hs+Math.imul(yp,r1)|0,yl=yl+Math.imul(yp,d1)|0,yl=yl+Math.imul(Pp,r1)|0,Fl=Fl+Math.imul(Pp,d1)|0;var rw=(Tl+hs|0)+((yl&8191)<<13)|0;Tl=(Fl+(yl>>>13)|0)+(rw>>>26)|0,rw&=67108863,hs=Math.imul(fu,jp),yl=Math.imul(fu,b1),yl=yl+Math.imul(_d,jp)|0,Fl=Math.imul(_d,b1),hs=hs+Math.imul(Dl,r1)|0,yl=yl+Math.imul(Dl,d1)|0,yl=yl+Math.imul(Ll,r1)|0,Fl=Fl+Math.imul(Ll,d1)|0;var nw=(Tl+hs|0)+((yl&8191)<<13)|0;Tl=(Fl+(yl>>>13)|0)+(nw>>>26)|0,nw&=67108863,hs=Math.imul(fu,r1),yl=Math.imul(fu,d1),yl=yl+Math.imul(_d,r1)|0,Fl=Math.imul(_d,d1);var Zw=(Tl+hs|0)+((yl&8191)<<13)|0;return Tl=(Fl+(yl>>>13)|0)+(Zw>>>26)|0,Zw&=67108863,Sl[0]=tm,Sl[1]=rm,Sl[2]=nm,Sl[3]=im,Sl[4]=om,Sl[5]=U1,Sl[6]=Em,Sl[7]=Jm,Sl[8]=Am,Sl[9]=Xm,Sl[10]=ew,Sl[11]=Sm,Sl[12]=Fm,Sl[13]=jm,Sl[14]=Z1,Sl[15]=tw,Sl[16]=rw,Sl[17]=nw,Sl[18]=Zw,Tl!==0&&(Sl[19]=Tl,as.length++),as};Math.imul||(ds=xl);function _c(Xo,rs,as){as.negative=rs.negative^Xo.negative,as.length=Xo.length+rs.length;for(var El=0,Pl=0,Sl=0;Sl<as.length-1;Sl++){var Tl=Pl;Pl=0;for(var hs=El&67108863,yl=Math.min(Sl,rs.length-1),Fl=Math.max(0,Sl-Xo.length+1);Fl<=yl;Fl++){var Xl=Sl-Fl,bu=Xo.words[Xl]|0,Ul=rs.words[Fl]|0,yu=bu*Ul,Vl=yu&67108863;Tl=Tl+(yu/67108864|0)|0,Vl=Vl+hs|0,hs=Vl&67108863,Tl=Tl+(Vl>>>26)|0,Pl+=Tl>>>26,Tl&=67108863}as.words[Sl]=hs,El=Tl,Tl=Pl}return El!==0?as.words[Sl]=El:as.length--,as._strip()}function $l(Xo,rs,as){return _c(Xo,rs,as)}$o.prototype.mulTo=function(Xo,rs){var as,El=this.length+Xo.length;return this.length===10&&Xo.length===10?as=ds(this,Xo,rs):El<63?as=xl(this,Xo,rs):El<1024?as=_c(this,Xo,rs):as=$l(this,Xo,rs),as},$o.prototype.mul=function(Xo){var rs=new $o(null);return rs.words=new Array(this.length+Xo.length),this.mulTo(Xo,rs)},$o.prototype.mulf=function(Xo){var rs=new $o(null);return rs.words=new Array(this.length+Xo.length),$l(this,Xo,rs)},$o.prototype.imul=function(Xo){return this.clone().mulTo(Xo,this)},$o.prototype.imuln=function(Xo){var rs=Xo<0;rs&&(Xo=-Xo),fo(typeof Xo=="number"),fo(Xo<67108864);for(var as=0,El=0;El<this.length;El++){var Pl=(this.words[El]|0)*Xo,Sl=(Pl&67108863)+(as&67108863);as>>=26,as+=Pl/67108864|0,as+=Sl>>>26,this.words[El]=Sl&67108863}return as!==0&&(this.words[El]=as,this.length++),rs?this.ineg():this},$o.prototype.muln=function(Xo){return this.clone().imuln(Xo)},$o.prototype.sqr=function(){return this.mul(this)},$o.prototype.isqr=function(){return this.imul(this.clone())},$o.prototype.pow=function(Xo){var rs=Cl(Xo);if(rs.length===0)return new $o(1);for(var as=this,El=0;El<rs.length&&rs[El]===0;El++,as=as.sqr());if(++El<rs.length)for(var Pl=as.sqr();El<rs.length;El++,Pl=Pl.sqr())rs[El]!==0&&(as=as.mul(Pl));return as},$o.prototype.iushln=function(Xo){fo(typeof Xo=="number"&&Xo>=0);var rs=Xo%26,as=(Xo-rs)/26,El=67108863>>>26-rs<<26-rs,Pl;if(rs!==0){var Sl=0;for(Pl=0;Pl<this.length;Pl++){var Tl=this.words[Pl]&El,hs=(this.words[Pl]|0)-Tl<<rs;this.words[Pl]=hs|Sl,Sl=Tl>>>26-rs}Sl&&(this.words[Pl]=Sl,this.length++)}if(as!==0){for(Pl=this.length-1;Pl>=0;Pl--)this.words[Pl+as]=this.words[Pl];for(Pl=0;Pl<as;Pl++)this.words[Pl]=0;this.length+=as}return this._strip()},$o.prototype.ishln=function(Xo){return fo(this.negative===0),this.iushln(Xo)},$o.prototype.iushrn=function(Xo,rs,as){fo(typeof Xo=="number"&&Xo>=0);var El;rs?El=(rs-rs%26)/26:El=0;var Pl=Xo%26,Sl=Math.min((Xo-Pl)/26,this.length),Tl=67108863^67108863>>>Pl<<Pl,hs=as;if(El-=Sl,El=Math.max(0,El),hs){for(var yl=0;yl<Sl;yl++)hs.words[yl]=this.words[yl];hs.length=Sl}if(Sl!==0)if(this.length>Sl)for(this.length-=Sl,yl=0;yl<this.length;yl++)this.words[yl]=this.words[yl+Sl];else this.words[0]=0,this.length=1;var Fl=0;for(yl=this.length-1;yl>=0&&(Fl!==0||yl>=El);yl--){var Xl=this.words[yl]|0;this.words[yl]=Fl<<26-Pl|Xl>>>Pl,Fl=Xl&Tl}return hs&&Fl!==0&&(hs.words[hs.length++]=Fl),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},$o.prototype.ishrn=function(Xo,rs,as){return fo(this.negative===0),this.iushrn(Xo,rs,as)},$o.prototype.shln=function(Xo){return this.clone().ishln(Xo)},$o.prototype.ushln=function(Xo){return this.clone().iushln(Xo)},$o.prototype.shrn=function(Xo){return this.clone().ishrn(Xo)},$o.prototype.ushrn=function(Xo){return this.clone().iushrn(Xo)},$o.prototype.testn=function(Xo){fo(typeof Xo=="number"&&Xo>=0);var rs=Xo%26,as=(Xo-rs)/26,El=1<<rs;if(this.length<=as)return!1;var Pl=this.words[as];return!!(Pl&El)},$o.prototype.imaskn=function(Xo){fo(typeof Xo=="number"&&Xo>=0);var rs=Xo%26,as=(Xo-rs)/26;if(fo(this.negative===0,"imaskn works only with positive numbers"),this.length<=as)return this;if(rs!==0&&as++,this.length=Math.min(as,this.length),rs!==0){var El=67108863^67108863>>>rs<<rs;this.words[this.length-1]&=El}return this._strip()},$o.prototype.maskn=function(Xo){return this.clone().imaskn(Xo)},$o.prototype.iaddn=function(Xo){return fo(typeof Xo=="number"),fo(Xo<67108864),Xo<0?this.isubn(-Xo):this.negative!==0?this.length===1&&(this.words[0]|0)<=Xo?(this.words[0]=Xo-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Xo),this.negative=1,this):this._iaddn(Xo)},$o.prototype._iaddn=function(Xo){this.words[0]+=Xo;for(var rs=0;rs<this.length&&this.words[rs]>=67108864;rs++)this.words[rs]-=67108864,rs===this.length-1?this.words[rs+1]=1:this.words[rs+1]++;return this.length=Math.max(this.length,rs+1),this},$o.prototype.isubn=function(Xo){if(fo(typeof Xo=="number"),fo(Xo<67108864),Xo<0)return this.iaddn(-Xo);if(this.negative!==0)return this.negative=0,this.iaddn(Xo),this.negative=1,this;if(this.words[0]-=Xo,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var rs=0;rs<this.length&&this.words[rs]<0;rs++)this.words[rs]+=67108864,this.words[rs+1]-=1;return this._strip()},$o.prototype.addn=function(Xo){return this.clone().iaddn(Xo)},$o.prototype.subn=function(Xo){return this.clone().isubn(Xo)},$o.prototype.iabs=function(){return this.negative=0,this},$o.prototype.abs=function(){return this.clone().iabs()},$o.prototype._ishlnsubmul=function(Xo,rs,as){var El=Xo.length+as,Pl;this._expand(El);var Sl,Tl=0;for(Pl=0;Pl<Xo.length;Pl++){Sl=(this.words[Pl+as]|0)+Tl;var hs=(Xo.words[Pl]|0)*rs;Sl-=hs&67108863,Tl=(Sl>>26)-(hs/67108864|0),this.words[Pl+as]=Sl&67108863}for(;Pl<this.length-as;Pl++)Sl=(this.words[Pl+as]|0)+Tl,Tl=Sl>>26,this.words[Pl+as]=Sl&67108863;if(Tl===0)return this._strip();for(fo(Tl===-1),Tl=0,Pl=0;Pl<this.length;Pl++)Sl=-(this.words[Pl]|0)+Tl,Tl=Sl>>26,this.words[Pl]=Sl&67108863;return this.negative=1,this._strip()},$o.prototype._wordDiv=function(Xo,rs){var as=this.length-Xo.length,El=this.clone(),Pl=Xo,Sl=Pl.words[Pl.length-1]|0,Tl=this._countBits(Sl);as=26-Tl,as!==0&&(Pl=Pl.ushln(as),El.iushln(as),Sl=Pl.words[Pl.length-1]|0);var hs=El.length-Pl.length,yl;if(rs!=="mod"){yl=new $o(null),yl.length=hs+1,yl.words=new Array(yl.length);for(var Fl=0;Fl<yl.length;Fl++)yl.words[Fl]=0}var Xl=El.clone()._ishlnsubmul(Pl,1,hs);Xl.negative===0&&(El=Xl,yl&&(yl.words[hs]=1));for(var bu=hs-1;bu>=0;bu--){var Ul=(El.words[Pl.length+bu]|0)*67108864+(El.words[Pl.length+bu-1]|0);for(Ul=Math.min(Ul/Sl|0,67108863),El._ishlnsubmul(Pl,Ul,bu);El.negative!==0;)Ul--,El.negative=0,El._ishlnsubmul(Pl,1,bu),El.isZero()||(El.negative^=1);yl&&(yl.words[bu]=Ul)}return yl&&yl._strip(),El._strip(),rs!=="div"&&as!==0&&El.iushrn(as),{div:yl||null,mod:El}},$o.prototype.divmod=function(Xo,rs,as){if(fo(!Xo.isZero()),this.isZero())return{div:new $o(0),mod:new $o(0)};var El,Pl,Sl;return this.negative!==0&&Xo.negative===0?(Sl=this.neg().divmod(Xo,rs),rs!=="mod"&&(El=Sl.div.neg()),rs!=="div"&&(Pl=Sl.mod.neg(),as&&Pl.negative!==0&&Pl.iadd(Xo)),{div:El,mod:Pl}):this.negative===0&&Xo.negative!==0?(Sl=this.divmod(Xo.neg(),rs),rs!=="mod"&&(El=Sl.div.neg()),{div:El,mod:Sl.mod}):this.negative&Xo.negative?(Sl=this.neg().divmod(Xo.neg(),rs),rs!=="div"&&(Pl=Sl.mod.neg(),as&&Pl.negative!==0&&Pl.isub(Xo)),{div:Sl.div,mod:Pl}):Xo.length>this.length||this.cmp(Xo)<0?{div:new $o(0),mod:this}:Xo.length===1?rs==="div"?{div:this.divn(Xo.words[0]),mod:null}:rs==="mod"?{div:null,mod:new $o(this.modrn(Xo.words[0]))}:{div:this.divn(Xo.words[0]),mod:new $o(this.modrn(Xo.words[0]))}:this._wordDiv(Xo,rs)},$o.prototype.div=function(Xo){return this.divmod(Xo,"div",!1).div},$o.prototype.mod=function(Xo){return this.divmod(Xo,"mod",!1).mod},$o.prototype.umod=function(Xo){return this.divmod(Xo,"mod",!0).mod},$o.prototype.divRound=function(Xo){var rs=this.divmod(Xo);if(rs.mod.isZero())return rs.div;var as=rs.div.negative!==0?rs.mod.isub(Xo):rs.mod,El=Xo.ushrn(1),Pl=Xo.andln(1),Sl=as.cmp(El);return Sl<0||Pl===1&&Sl===0?rs.div:rs.div.negative!==0?rs.div.isubn(1):rs.div.iaddn(1)},$o.prototype.modrn=function(Xo){var rs=Xo<0;rs&&(Xo=-Xo),fo(Xo<=67108863);for(var as=(1<<26)%Xo,El=0,Pl=this.length-1;Pl>=0;Pl--)El=(as*El+(this.words[Pl]|0))%Xo;return rs?-El:El},$o.prototype.modn=function(Xo){return this.modrn(Xo)},$o.prototype.idivn=function(Xo){var rs=Xo<0;rs&&(Xo=-Xo),fo(Xo<=67108863);for(var as=0,El=this.length-1;El>=0;El--){var Pl=(this.words[El]|0)+as*67108864;this.words[El]=Pl/Xo|0,as=Pl%Xo}return this._strip(),rs?this.ineg():this},$o.prototype.divn=function(Xo){return this.clone().idivn(Xo)},$o.prototype.egcd=function(Xo){fo(Xo.negative===0),fo(!Xo.isZero());var rs=this,as=Xo.clone();rs.negative!==0?rs=rs.umod(Xo):rs=rs.clone();for(var El=new $o(1),Pl=new $o(0),Sl=new $o(0),Tl=new $o(1),hs=0;rs.isEven()&&as.isEven();)rs.iushrn(1),as.iushrn(1),++hs;for(var yl=as.clone(),Fl=rs.clone();!rs.isZero();){for(var Xl=0,bu=1;!(rs.words[0]&bu)&&Xl<26;++Xl,bu<<=1);if(Xl>0)for(rs.iushrn(Xl);Xl-- >0;)(El.isOdd()||Pl.isOdd())&&(El.iadd(yl),Pl.isub(Fl)),El.iushrn(1),Pl.iushrn(1);for(var Ul=0,yu=1;!(as.words[0]&yu)&&Ul<26;++Ul,yu<<=1);if(Ul>0)for(as.iushrn(Ul);Ul-- >0;)(Sl.isOdd()||Tl.isOdd())&&(Sl.iadd(yl),Tl.isub(Fl)),Sl.iushrn(1),Tl.iushrn(1);rs.cmp(as)>=0?(rs.isub(as),El.isub(Sl),Pl.isub(Tl)):(as.isub(rs),Sl.isub(El),Tl.isub(Pl))}return{a:Sl,b:Tl,gcd:as.iushln(hs)}},$o.prototype._invmp=function(Xo){fo(Xo.negative===0),fo(!Xo.isZero());var rs=this,as=Xo.clone();rs.negative!==0?rs=rs.umod(Xo):rs=rs.clone();for(var El=new $o(1),Pl=new $o(0),Sl=as.clone();rs.cmpn(1)>0&&as.cmpn(1)>0;){for(var Tl=0,hs=1;!(rs.words[0]&hs)&&Tl<26;++Tl,hs<<=1);if(Tl>0)for(rs.iushrn(Tl);Tl-- >0;)El.isOdd()&&El.iadd(Sl),El.iushrn(1);for(var yl=0,Fl=1;!(as.words[0]&Fl)&&yl<26;++yl,Fl<<=1);if(yl>0)for(as.iushrn(yl);yl-- >0;)Pl.isOdd()&&Pl.iadd(Sl),Pl.iushrn(1);rs.cmp(as)>=0?(rs.isub(as),El.isub(Pl)):(as.isub(rs),Pl.isub(El))}var Xl;return rs.cmpn(1)===0?Xl=El:Xl=Pl,Xl.cmpn(0)<0&&Xl.iadd(Xo),Xl},$o.prototype.gcd=function(Xo){if(this.isZero())return Xo.abs();if(Xo.isZero())return this.abs();var rs=this.clone(),as=Xo.clone();rs.negative=0,as.negative=0;for(var El=0;rs.isEven()&&as.isEven();El++)rs.iushrn(1),as.iushrn(1);do{for(;rs.isEven();)rs.iushrn(1);for(;as.isEven();)as.iushrn(1);var Pl=rs.cmp(as);if(Pl<0){var Sl=rs;rs=as,as=Sl}else if(Pl===0||as.cmpn(1)===0)break;rs.isub(as)}while(!0);return as.iushln(El)},$o.prototype.invm=function(Xo){return this.egcd(Xo).a.umod(Xo)},$o.prototype.isEven=function(){return(this.words[0]&1)===0},$o.prototype.isOdd=function(){return(this.words[0]&1)===1},$o.prototype.andln=function(Xo){return this.words[0]&Xo},$o.prototype.bincn=function(Xo){fo(typeof Xo=="number");var rs=Xo%26,as=(Xo-rs)/26,El=1<<rs;if(this.length<=as)return this._expand(as+1),this.words[as]|=El,this;for(var Pl=El,Sl=as;Pl!==0&&Sl<this.length;Sl++){var Tl=this.words[Sl]|0;Tl+=Pl,Pl=Tl>>>26,Tl&=67108863,this.words[Sl]=Tl}return Pl!==0&&(this.words[Sl]=Pl,this.length++),this},$o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},$o.prototype.cmpn=function(Xo){var rs=Xo<0;if(this.negative!==0&&!rs)return-1;if(this.negative===0&&rs)return 1;this._strip();var as;if(this.length>1)as=1;else{rs&&(Xo=-Xo),fo(Xo<=67108863,"Number is too big");var El=this.words[0]|0;as=El===Xo?0:El<Xo?-1:1}return this.negative!==0?-as|0:as},$o.prototype.cmp=function(Xo){if(this.negative!==0&&Xo.negative===0)return-1;if(this.negative===0&&Xo.negative!==0)return 1;var rs=this.ucmp(Xo);return this.negative!==0?-rs|0:rs},$o.prototype.ucmp=function(Xo){if(this.length>Xo.length)return 1;if(this.length<Xo.length)return-1;for(var rs=0,as=this.length-1;as>=0;as--){var El=this.words[as]|0,Pl=Xo.words[as]|0;if(El!==Pl){El<Pl?rs=-1:El>Pl&&(rs=1);break}}return rs},$o.prototype.gtn=function(Xo){return this.cmpn(Xo)===1},$o.prototype.gt=function(Xo){return this.cmp(Xo)===1},$o.prototype.gten=function(Xo){return this.cmpn(Xo)>=0},$o.prototype.gte=function(Xo){return this.cmp(Xo)>=0},$o.prototype.ltn=function(Xo){return this.cmpn(Xo)===-1},$o.prototype.lt=function(Xo){return this.cmp(Xo)===-1},$o.prototype.lten=function(Xo){return this.cmpn(Xo)<=0},$o.prototype.lte=function(Xo){return this.cmp(Xo)<=0},$o.prototype.eqn=function(Xo){return this.cmpn(Xo)===0},$o.prototype.eq=function(Xo){return this.cmp(Xo)===0},$o.red=function(Xo){return new Nl(Xo)},$o.prototype.toRed=function(Xo){return fo(!this.red,"Already a number in reduction context"),fo(this.negative===0,"red works only with positives"),Xo.convertTo(this)._forceRed(Xo)},$o.prototype.fromRed=function(){return fo(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},$o.prototype._forceRed=function(Xo){return this.red=Xo,this},$o.prototype.forceRed=function(Xo){return fo(!this.red,"Already a number in reduction context"),this._forceRed(Xo)},$o.prototype.redAdd=function(Xo){return fo(this.red,"redAdd works only with red numbers"),this.red.add(this,Xo)},$o.prototype.redIAdd=function(Xo){return fo(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Xo)},$o.prototype.redSub=function(Xo){return fo(this.red,"redSub works only with red numbers"),this.red.sub(this,Xo)},$o.prototype.redISub=function(Xo){return fo(this.red,"redISub works only with red numbers"),this.red.isub(this,Xo)},$o.prototype.redShl=function(Xo){return fo(this.red,"redShl works only with red numbers"),this.red.shl(this,Xo)},$o.prototype.redMul=function(Xo){return fo(this.red,"redMul works only with red numbers"),this.red._verify2(this,Xo),this.red.mul(this,Xo)},$o.prototype.redIMul=function(Xo){return fo(this.red,"redMul works only with red numbers"),this.red._verify2(this,Xo),this.red.imul(this,Xo)},$o.prototype.redSqr=function(){return fo(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},$o.prototype.redISqr=function(){return fo(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},$o.prototype.redSqrt=function(){return fo(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},$o.prototype.redInvm=function(){return fo(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},$o.prototype.redNeg=function(){return fo(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},$o.prototype.redPow=function(Xo){return fo(this.red&&!Xo.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Xo)};var Al={k256:null,p224:null,p192:null,p25519:null};function Il(Xo,rs){this.name=Xo,this.p=new $o(rs,16),this.n=this.p.bitLength(),this.k=new $o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Il.prototype._tmp=function(){var Xo=new $o(null);return Xo.words=new Array(Math.ceil(this.n/13)),Xo},Il.prototype.ireduce=function(Xo){var rs=Xo,as;do this.split(rs,this.tmp),rs=this.imulK(rs),rs=rs.iadd(this.tmp),as=rs.bitLength();while(as>this.n);var El=as<this.n?-1:rs.ucmp(this.p);return El===0?(rs.words[0]=0,rs.length=1):El>0?rs.isub(this.p):rs.strip!==void 0?rs.strip():rs._strip(),rs},Il.prototype.split=function(Xo,rs){Xo.iushrn(this.n,0,rs)},Il.prototype.imulK=function(Xo){return Xo.imul(this.k)};function us(){Il.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}mo(us,Il),us.prototype.split=function(Xo,rs){for(var as=4194303,El=Math.min(Xo.length,9),Pl=0;Pl<El;Pl++)rs.words[Pl]=Xo.words[Pl];if(rs.length=El,Xo.length<=9){Xo.words[0]=0,Xo.length=1;return}var Sl=Xo.words[9];for(rs.words[rs.length++]=Sl&as,Pl=10;Pl<Xo.length;Pl++){var Tl=Xo.words[Pl]|0;Xo.words[Pl-10]=(Tl&as)<<4|Sl>>>22,Sl=Tl}Sl>>>=22,Xo.words[Pl-10]=Sl,Sl===0&&Xo.length>10?Xo.length-=10:Xo.length-=9},us.prototype.imulK=function(Xo){Xo.words[Xo.length]=0,Xo.words[Xo.length+1]=0,Xo.length+=2;for(var rs=0,as=0;as<Xo.length;as++){var El=Xo.words[as]|0;rs+=El*977,Xo.words[as]=rs&67108863,rs=El*64+(rs/67108864|0)}return Xo.words[Xo.length-1]===0&&(Xo.length--,Xo.words[Xo.length-1]===0&&Xo.length--),Xo};function ps(){Il.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}mo(ps,Il);function Rl(){Il.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}mo(Rl,Il);function Wl(){Il.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}mo(Wl,Il),Wl.prototype.imulK=function(Xo){for(var rs=0,as=0;as<Xo.length;as++){var El=(Xo.words[as]|0)*19+rs,Pl=El&67108863;El>>>=26,Xo.words[as]=Pl,rs=El}return rs!==0&&(Xo.words[Xo.length++]=rs),Xo},$o._prime=function(Xo){if(Al[Xo])return Al[Xo];var rs;if(Xo==="k256")rs=new us;else if(Xo==="p224")rs=new ps;else if(Xo==="p192")rs=new Rl;else if(Xo==="p25519")rs=new Wl;else throw new Error("Unknown prime "+Xo);return Al[Xo]=rs,rs};function Nl(Xo){if(typeof Xo=="string"){var rs=$o._prime(Xo);this.m=rs.p,this.prime=rs}else fo(Xo.gtn(1),"modulus must be greater than 1"),this.m=Xo,this.prime=null}Nl.prototype._verify1=function(Xo){fo(Xo.negative===0,"red works only with positives"),fo(Xo.red,"red works only with red numbers")},Nl.prototype._verify2=function(Xo,rs){fo((Xo.negative|rs.negative)===0,"red works only with positives"),fo(Xo.red&&Xo.red===rs.red,"red works only with red numbers")},Nl.prototype.imod=function(Xo){return this.prime?this.prime.ireduce(Xo)._forceRed(this):(zo(Xo,Xo.umod(this.m)._forceRed(this)),Xo)},Nl.prototype.neg=function(Xo){return Xo.isZero()?Xo.clone():this.m.sub(Xo)._forceRed(this)},Nl.prototype.add=function(Xo,rs){this._verify2(Xo,rs);var as=Xo.add(rs);return as.cmp(this.m)>=0&&as.isub(this.m),as._forceRed(this)},Nl.prototype.iadd=function(Xo,rs){this._verify2(Xo,rs);var as=Xo.iadd(rs);return as.cmp(this.m)>=0&&as.isub(this.m),as},Nl.prototype.sub=function(Xo,rs){this._verify2(Xo,rs);var as=Xo.sub(rs);return as.cmpn(0)<0&&as.iadd(this.m),as._forceRed(this)},Nl.prototype.isub=function(Xo,rs){this._verify2(Xo,rs);var as=Xo.isub(rs);return as.cmpn(0)<0&&as.iadd(this.m),as},Nl.prototype.shl=function(Xo,rs){return this._verify1(Xo),this.imod(Xo.ushln(rs))},Nl.prototype.imul=function(Xo,rs){return this._verify2(Xo,rs),this.imod(Xo.imul(rs))},Nl.prototype.mul=function(Xo,rs){return this._verify2(Xo,rs),this.imod(Xo.mul(rs))},Nl.prototype.isqr=function(Xo){return this.imul(Xo,Xo.clone())},Nl.prototype.sqr=function(Xo){return this.mul(Xo,Xo)},Nl.prototype.sqrt=function(Xo){if(Xo.isZero())return Xo.clone();var rs=this.m.andln(3);if(fo(rs%2===1),rs===3){var as=this.m.add(new $o(1)).iushrn(2);return this.pow(Xo,as)}for(var El=this.m.subn(1),Pl=0;!El.isZero()&&El.andln(1)===0;)Pl++,El.iushrn(1);fo(!El.isZero());var Sl=new $o(1).toRed(this),Tl=Sl.redNeg(),hs=this.m.subn(1).iushrn(1),yl=this.m.bitLength();for(yl=new $o(2*yl*yl).toRed(this);this.pow(yl,hs).cmp(Tl)!==0;)yl.redIAdd(Tl);for(var Fl=this.pow(yl,El),Xl=this.pow(Xo,El.addn(1).iushrn(1)),bu=this.pow(Xo,El),Ul=Pl;bu.cmp(Sl)!==0;){for(var yu=bu,Vl=0;yu.cmp(Sl)!==0;Vl++)yu=yu.redSqr();fo(Vl<Ul);var Jl=this.pow(Fl,new $o(1).iushln(Ul-Vl-1));Xl=Xl.redMul(Jl),Fl=Jl.redSqr(),bu=bu.redMul(Fl),Ul=Vl}return Xl},Nl.prototype.invm=function(Xo){var rs=Xo._invmp(this.m);return rs.negative!==0?(rs.negative=0,this.imod(rs).redNeg()):this.imod(rs)},Nl.prototype.pow=function(Xo,rs){if(rs.isZero())return new $o(1).toRed(this);if(rs.cmpn(1)===0)return Xo.clone();var as=4,El=new Array(1<<as);El[0]=new $o(1).toRed(this),El[1]=Xo;for(var Pl=2;Pl<El.length;Pl++)El[Pl]=this.mul(El[Pl-1],Xo);var Sl=El[0],Tl=0,hs=0,yl=rs.bitLength()%26;for(yl===0&&(yl=26),Pl=rs.length-1;Pl>=0;Pl--){for(var Fl=rs.words[Pl],Xl=yl-1;Xl>=0;Xl--){var bu=Fl>>Xl&1;if(Sl!==El[0]&&(Sl=this.sqr(Sl)),bu===0&&Tl===0){hs=0;continue}Tl<<=1,Tl|=bu,hs++,!(hs!==as&&(Pl!==0||Xl!==0))&&(Sl=this.mul(Sl,El[Tl]),hs=0,Tl=0)}yl=26}return Sl},Nl.prototype.convertTo=function(Xo){var rs=Xo.umod(this.m);return rs===Xo?rs.clone():rs},Nl.prototype.convertFrom=function(Xo){var rs=Xo.clone();return rs.red=null,rs},$o.mont=function(Xo){return new wl(Xo)};function wl(Xo){Nl.call(this,Xo),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new $o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}mo(wl,Nl),wl.prototype.convertTo=function(Xo){return this.imod(Xo.ushln(this.shift))},wl.prototype.convertFrom=function(Xo){var rs=this.imod(Xo.mul(this.rinv));return rs.red=null,rs},wl.prototype.imul=function(Xo,rs){if(Xo.isZero()||rs.isZero())return Xo.words[0]=0,Xo.length=1,Xo;var as=Xo.imul(rs),El=as.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Pl=as.isub(El).iushrn(this.shift),Sl=Pl;return Pl.cmp(this.m)>=0?Sl=Pl.isub(this.m):Pl.cmpn(0)<0&&(Sl=Pl.iadd(this.m)),Sl._forceRed(this)},wl.prototype.mul=function(Xo,rs){if(Xo.isZero()||rs.isZero())return new $o(0)._forceRed(this);var as=Xo.mul(rs),El=as.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Pl=as.isub(El).iushrn(this.shift),Sl=Pl;return Pl.cmp(this.m)>=0?Sl=Pl.isub(this.m):Pl.cmpn(0)<0&&(Sl=Pl.iadd(this.m)),Sl._forceRed(this)},wl.prototype.invm=function(Xo){var rs=this.imod(Xo._invmp(this.m).mul(this.r2));return rs._forceRed(this)}})(Fn,Kn)})(Xn);var K=Xn.exports;const $n="bignumber/5.7.0";var Dr$1=K.BN;const Ae$2=new z$4($n),Ni={},Zn=9007199254740991;function Hs$1(Fn){return Fn!=null&&(V$3.isBigNumber(Fn)||typeof Fn=="number"&&Fn%1===0||typeof Fn=="string"&&!!Fn.match(/^-?[0-9]+$/)||Jt$2(Fn)||typeof Fn=="bigint"||nr$1(Fn))}let tf=!1,V$3=class lw{constructor(Mn,io){Mn!==Ni&&Ae$2.throwError("cannot call constructor directly; use BigNumber.from",z$4.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=io,this._isBigNumber=!0,Object.freeze(this)}fromTwos(Mn){return zt$1(j$5(this).fromTwos(Mn))}toTwos(Mn){return zt$1(j$5(this).toTwos(Mn))}abs(){return this._hex[0]==="-"?lw.from(this._hex.substring(1)):this}add(Mn){return zt$1(j$5(this).add(j$5(Mn)))}sub(Mn){return zt$1(j$5(this).sub(j$5(Mn)))}div(Mn){return lw.from(Mn).isZero()&&$t$1("division-by-zero","div"),zt$1(j$5(this).div(j$5(Mn)))}mul(Mn){return zt$1(j$5(this).mul(j$5(Mn)))}mod(Mn){const io=j$5(Mn);return io.isNeg()&&$t$1("division-by-zero","mod"),zt$1(j$5(this).umod(io))}pow(Mn){const io=j$5(Mn);return io.isNeg()&&$t$1("negative-power","pow"),zt$1(j$5(this).pow(io))}and(Mn){const io=j$5(Mn);return(this.isNegative()||io.isNeg())&&$t$1("unbound-bitwise-result","and"),zt$1(j$5(this).and(io))}or(Mn){const io=j$5(Mn);return(this.isNegative()||io.isNeg())&&$t$1("unbound-bitwise-result","or"),zt$1(j$5(this).or(io))}xor(Mn){const io=j$5(Mn);return(this.isNegative()||io.isNeg())&&$t$1("unbound-bitwise-result","xor"),zt$1(j$5(this).xor(io))}mask(Mn){return(this.isNegative()||Mn<0)&&$t$1("negative-width","mask"),zt$1(j$5(this).maskn(Mn))}shl(Mn){return(this.isNegative()||Mn<0)&&$t$1("negative-width","shl"),zt$1(j$5(this).shln(Mn))}shr(Mn){return(this.isNegative()||Mn<0)&&$t$1("negative-width","shr"),zt$1(j$5(this).shrn(Mn))}eq(Mn){return j$5(this).eq(j$5(Mn))}lt(Mn){return j$5(this).lt(j$5(Mn))}lte(Mn){return j$5(this).lte(j$5(Mn))}gt(Mn){return j$5(this).gt(j$5(Mn))}gte(Mn){return j$5(this).gte(j$5(Mn))}isNegative(){return this._hex[0]==="-"}isZero(){return j$5(this).isZero()}toNumber(){try{return j$5(this).toNumber()}catch{$t$1("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Ae$2.throwError("this platform does not support BigInt",z$4.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?tf||(tf=!0,Ae$2.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Ae$2.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",z$4.errors.UNEXPECTED_ARGUMENT,{}):Ae$2.throwError("BigNumber.toString does not accept parameters",z$4.errors.UNEXPECTED_ARGUMENT,{})),j$5(this).toString(10)}toHexString(){return this._hex}toJSON(Mn){return{type:"BigNumber",hex:this.toHexString()}}static from(Mn){if(Mn instanceof lw)return Mn;if(typeof Mn=="string")return Mn.match(/^-?0x[0-9a-f]+$/i)?new lw(Ni,mr$1(Mn)):Mn.match(/^-?[0-9]+$/)?new lw(Ni,mr$1(new Dr$1(Mn))):Ae$2.throwArgumentError("invalid BigNumber string","value",Mn);if(typeof Mn=="number")return Mn%1&&$t$1("underflow","BigNumber.from",Mn),(Mn>=Zn||Mn<=-Zn)&&$t$1("overflow","BigNumber.from",Mn),lw.from(String(Mn));const io=Mn;if(typeof io=="bigint")return lw.from(io.toString());if(nr$1(io))return lw.from(Kt$2(io));if(io)if(io.toHexString){const fo=io.toHexString();if(typeof fo=="string")return lw.from(fo)}else{let fo=io._hex;if(fo==null&&io.type==="BigNumber"&&(fo=io.hex),typeof fo=="string"&&(Jt$2(fo)||fo[0]==="-"&&Jt$2(fo.substring(1))))return lw.from(fo)}return Ae$2.throwArgumentError("invalid BigNumber value","value",Mn)}static isBigNumber(Mn){return!!(Mn&&Mn._isBigNumber)}};function mr$1(Fn){if(typeof Fn!="string")return mr$1(Fn.toString(16));if(Fn[0]==="-")return Fn=Fn.substring(1),Fn[0]==="-"&&Ae$2.throwArgumentError("invalid hex","value",Fn),Fn=mr$1(Fn),Fn==="0x00"?Fn:"-"+Fn;if(Fn.substring(0,2)!=="0x"&&(Fn="0x"+Fn),Fn==="0x")return"0x00";for(Fn.length%2&&(Fn="0x0"+Fn.substring(2));Fn.length>4&&Fn.substring(0,4)==="0x00";)Fn="0x"+Fn.substring(4);return Fn}function zt$1(Fn){return V$3.from(mr$1(Fn))}function j$5(Fn){const Mn=V$3.from(Fn).toHexString();return Mn[0]==="-"?new Dr$1("-"+Mn.substring(3),16):new Dr$1(Mn.substring(2),16)}function $t$1(Fn,Mn,io){const fo={fault:Fn,operation:Mn};return io!=null&&(fo.value=io),Ae$2.throwError(Fn,z$4.errors.NUMERIC_FAULT,fo)}function Ls$1(Fn){return new Dr$1(Fn,36).toString(16)}const Ht$1=new z$4($n),Ar$1={},ef=V$3.from(0),rf=V$3.from(-1);function nf(Fn,Mn,io,fo){const mo={fault:Mn,operation:io};return fo!==void 0&&(mo.value=fo),Ht$1.throwError(Fn,z$4.errors.NUMERIC_FAULT,mo)}let br$1="0";for(;br$1.length<256;)br$1+=br$1;function _i(Fn){if(typeof Fn!="number")try{Fn=V$3.from(Fn).toNumber()}catch{}return typeof Fn=="number"&&Fn>=0&&Fn<=256&&!(Fn%1)?"1"+br$1.substring(0,Fn):Ht$1.throwArgumentError("invalid decimal size","decimals",Fn)}function Bi$1(Fn,Mn){Mn==null&&(Mn=0);const io=_i(Mn);Fn=V$3.from(Fn);const fo=Fn.lt(ef);fo&&(Fn=Fn.mul(rf));let mo=Fn.mod(io).toString();for(;mo.length<io.length-1;)mo="0"+mo;mo=mo.match(/^([0-9]*[1-9]|0)(0*)/)[1];const $o=Fn.div(io).toString();return io.length===1?Fn=$o:Fn=$o+"."+mo,fo&&(Fn="-"+Fn),Fn}function be$3(Fn,Mn){Mn==null&&(Mn=0);const io=_i(Mn);(typeof Fn!="string"||!Fn.match(/^-?[0-9.]+$/))&&Ht$1.throwArgumentError("invalid decimal value","value",Fn);const fo=Fn.substring(0,1)==="-";fo&&(Fn=Fn.substring(1)),Fn==="."&&Ht$1.throwArgumentError("missing value","value",Fn);const mo=Fn.split(".");mo.length>2&&Ht$1.throwArgumentError("too many decimal points","value",Fn);let $o=mo[0],Ao=mo[1];for($o||($o="0"),Ao||(Ao="0");Ao[Ao.length-1]==="0";)Ao=Ao.substring(0,Ao.length-1);for(Ao.length>io.length-1&&nf("fractional component exceeds decimals","underflow","parseFixed"),Ao===""&&(Ao="0");Ao.length<io.length-1;)Ao+="0";const Lo=V$3.from($o),Wo=V$3.from(Ao);let jo=Lo.mul(io).add(Wo);return fo&&(jo=jo.mul(rf)),jo}let vr$1=class a${constructor(Mn,io,fo,mo){Mn!==Ar$1&&Ht$1.throwError("cannot use FixedFormat constructor; use FixedFormat.from",z$4.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=io,this.width=fo,this.decimals=mo,this.name=(io?"":"u")+"fixed"+String(fo)+"x"+String(mo),this._multiplier=_i(mo),Object.freeze(this)}static from(Mn){if(Mn instanceof a$)return Mn;typeof Mn=="number"&&(Mn=`fixed128x${Mn}`);let io=!0,fo=128,mo=18;if(typeof Mn=="string"){if(Mn!=="fixed")if(Mn==="ufixed")io=!1;else{const $o=Mn.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);$o||Ht$1.throwArgumentError("invalid fixed format","format",Mn),io=$o[1]!=="u",fo=parseInt($o[2]),mo=parseInt($o[3])}}else if(Mn){const $o=(Ao,Lo,Wo)=>Mn[Ao]==null?Wo:(typeof Mn[Ao]!==Lo&&Ht$1.throwArgumentError("invalid fixed format ("+Ao+" not "+Lo+")","format."+Ao,Mn[Ao]),Mn[Ao]);io=$o("signed","boolean",io),fo=$o("width","number",fo),mo=$o("decimals","number",mo)}return fo%8&&Ht$1.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",fo),mo>80&&Ht$1.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",mo),new a$(Ar$1,io,fo,mo)}},Ut$2=class Cm{constructor(Mn,io,fo,mo){Mn!==Ar$1&&Ht$1.throwError("cannot use FixedNumber constructor; use FixedNumber.from",z$4.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=mo,this._hex=io,this._value=fo,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(Mn){this.format.name!==Mn.format.name&&Ht$1.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",Mn)}addUnsafe(Mn){this._checkFormat(Mn);const io=be$3(this._value,this.format.decimals),fo=be$3(Mn._value,Mn.format.decimals);return Cm.fromValue(io.add(fo),this.format.decimals,this.format)}subUnsafe(Mn){this._checkFormat(Mn);const io=be$3(this._value,this.format.decimals),fo=be$3(Mn._value,Mn.format.decimals);return Cm.fromValue(io.sub(fo),this.format.decimals,this.format)}mulUnsafe(Mn){this._checkFormat(Mn);const io=be$3(this._value,this.format.decimals),fo=be$3(Mn._value,Mn.format.decimals);return Cm.fromValue(io.mul(fo).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(Mn){this._checkFormat(Mn);const io=be$3(this._value,this.format.decimals),fo=be$3(Mn._value,Mn.format.decimals);return Cm.fromValue(io.mul(this.format._multiplier).div(fo),this.format.decimals,this.format)}floor(){const Mn=this.toString().split(".");Mn.length===1&&Mn.push("0");let io=Cm.from(Mn[0],this.format);const fo=!Mn[1].match(/^(0*)$/);return this.isNegative()&&fo&&(io=io.subUnsafe(ff.toFormat(io.format))),io}ceiling(){const Mn=this.toString().split(".");Mn.length===1&&Mn.push("0");let io=Cm.from(Mn[0],this.format);const fo=!Mn[1].match(/^(0*)$/);return!this.isNegative()&&fo&&(io=io.addUnsafe(ff.toFormat(io.format))),io}round(Mn){Mn==null&&(Mn=0);const io=this.toString().split(".");if(io.length===1&&io.push("0"),(Mn<0||Mn>80||Mn%1)&&Ht$1.throwArgumentError("invalid decimal count","decimals",Mn),io[1].length<=Mn)return this;const fo=Cm.from("1"+br$1.substring(0,Mn),this.format),mo=zs$1.toFormat(this.format);return this.mulUnsafe(fo).addUnsafe(mo).floor().divUnsafe(fo)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(Mn){if(Mn==null)return this._hex;Mn%8&&Ht$1.throwArgumentError("invalid byte width","width",Mn);const io=V$3.from(this._hex).fromTwos(this.format.width).toTwos(Mn).toHexString();return oe$3(io,Mn/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(Mn){return Cm.fromString(this._value,Mn)}static fromValue(Mn,io,fo){return fo==null&&io!=null&&!Hs$1(io)&&(fo=io,io=null),io==null&&(io=0),fo==null&&(fo="fixed"),Cm.fromString(Bi$1(Mn,io),vr$1.from(fo))}static fromString(Mn,io){io==null&&(io="fixed");const fo=vr$1.from(io),mo=be$3(Mn,fo.decimals);!fo.signed&&mo.lt(ef)&&nf("unsigned value cannot be negative","overflow","value",Mn);let $o=null;fo.signed?$o=mo.toTwos(fo.width).toHexString():($o=mo.toHexString(),$o=oe$3($o,fo.width/8));const Ao=Bi$1(mo,fo.decimals);return new Cm(Ar$1,$o,Ao,fo)}static fromBytes(Mn,io){io==null&&(io="fixed");const fo=vr$1.from(io);if(Ot$2(Mn).length>fo.width/8)throw new Error("overflow");let mo=V$3.from(Mn);fo.signed&&(mo=mo.fromTwos(fo.width));const $o=mo.toTwos((fo.signed?0:1)+fo.width).toHexString(),Ao=Bi$1(mo,fo.decimals);return new Cm(Ar$1,$o,Ao,fo)}static from(Mn,io){if(typeof Mn=="string")return Cm.fromString(Mn,io);if(nr$1(Mn))return Cm.fromBytes(Mn,io);try{return Cm.fromValue(Mn,0,io)}catch(fo){if(fo.code!==z$4.errors.INVALID_ARGUMENT)throw fo}return Ht$1.throwArgumentError("invalid FixedNumber value","value",Mn)}static isFixedNumber(Mn){return!!(Mn&&Mn._isFixedNumber)}};const ff=Ut$2.from(1),zs$1=Ut$2.from("0.5"),js$1="strings/5.7.0",of=new z$4(js$1);var Fr$1;(function(Fn){Fn.current="",Fn.NFC="NFC",Fn.NFD="NFD",Fn.NFKC="NFKC",Fn.NFKD="NFKD"})(Fr$1||(Fr$1={}));var fr$1;(function(Fn){Fn.UNEXPECTED_CONTINUE="unexpected continuation byte",Fn.BAD_PREFIX="bad codepoint prefix",Fn.OVERRUN="string overrun",Fn.MISSING_CONTINUE="missing continuation byte",Fn.OUT_OF_RANGE="out of UTF-8 range",Fn.UTF16_SURROGATE="UTF-16 surrogate",Fn.OVERLONG="overlong representation"})(fr$1||(fr$1={}));function Ci(Fn,Mn=Fr$1.current){Mn!=Fr$1.current&&(of.checkNormalize(),Fn=Fn.normalize(Mn));let io=[];for(let fo=0;fo<Fn.length;fo++){const mo=Fn.charCodeAt(fo);if(mo<128)io.push(mo);else if(mo<2048)io.push(mo>>6|192),io.push(mo&63|128);else if((mo&64512)==55296){fo++;const $o=Fn.charCodeAt(fo);if(fo>=Fn.length||($o&64512)!==56320)throw new Error("invalid utf-8 string");const Ao=65536+((mo&1023)<<10)+($o&1023);io.push(Ao>>18|240),io.push(Ao>>12&63|128),io.push(Ao>>6&63|128),io.push(Ao&63|128)}else io.push(mo>>12|224),io.push(mo>>6&63|128),io.push(mo&63|128)}return Ot$2(io)}function Gs$1(Fn){if(Fn.length%4!==0)throw new Error("bad data");let Mn=[];for(let io=0;io<Fn.length;io+=4)Mn.push(parseInt(Fn.substring(io,io+4),16));return Mn}function Ri(Fn,Mn){Mn||(Mn=function(mo){return[parseInt(mo,16)]});let io=0,fo={};return Fn.split(",").forEach(mo=>{let $o=mo.split(":");io+=parseInt($o[0],16),fo[io]=Mn($o[1])}),fo}function af(Fn){let Mn=0;return Fn.split(",").map(io=>{let fo=io.split("-");fo.length===1?fo[1]="0":fo[1]===""&&(fo[1]="1");let mo=Mn+parseInt(fo[0],16);return Mn=parseInt(fo[1],16),{l:mo,h:Mn}})}af("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(Fn=>parseInt(Fn,16)),Ri("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Ri("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Ri("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Gs$1),af("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Ys$1(Fn){Fn=atob(Fn);const Mn=[];for(let io=0;io<Fn.length;io++)Mn.push(Fn.charCodeAt(io));return Ot$2(Mn)}function hf(Fn,Mn){Mn==null&&(Mn=1);const io=[],fo=io.forEach,mo=function($o,Ao){fo.call($o,function(Lo){Ao>0&&Array.isArray(Lo)?mo(Lo,Ao-1):io.push(Lo)})};return mo(Fn,Mn),io}function Vs$1(Fn){const Mn={};for(let io=0;io<Fn.length;io++){const fo=Fn[io];Mn[fo[0]]=fo[1]}return Mn}function Ws$1(Fn){let Mn=0;function io(){return Fn[Mn++]<<8|Fn[Mn++]}let fo=io(),mo=1,$o=[0,1];for(let Al=1;Al<fo;Al++)$o.push(mo+=io());let Ao=io(),Lo=Mn;Mn+=Ao;let Wo=0,jo=0;function zo(){return Wo==0&&(jo=jo<<8|Fn[Mn++],Wo=8),jo>>--Wo&1}const Vo=31,Go=Math.pow(2,Vo),Jo=Go>>>1,Qo=Jo>>1,os=Go-1;let Cl=0;for(let Al=0;Al<Vo;Al++)Cl=Cl<<1|zo();let xl=[],ds=0,_c=Go;for(;;){let Al=Math.floor(((Cl-ds+1)*mo-1)/_c),Il=0,us=fo;for(;us-Il>1;){let Wl=Il+us>>>1;Al<$o[Wl]?us=Wl:Il=Wl}if(Il==0)break;xl.push(Il);let ps=ds+Math.floor(_c*$o[Il]/mo),Rl=ds+Math.floor(_c*$o[Il+1]/mo)-1;for(;!((ps^Rl)&Jo);)Cl=Cl<<1&os|zo(),ps=ps<<1&os,Rl=Rl<<1&os|1;for(;ps&~Rl&Qo;)Cl=Cl&Jo|Cl<<1&os>>>1|zo(),ps=ps<<1^Jo,Rl=(Rl^Jo)<<1|Jo|1;ds=ps,_c=1+Rl-ps}let $l=fo-4;return xl.map(Al=>{switch(Al-$l){case 3:return $l+65792+(Fn[Lo++]<<16|Fn[Lo++]<<8|Fn[Lo++]);case 2:return $l+256+(Fn[Lo++]<<8|Fn[Lo++]);case 1:return $l+Fn[Lo++];default:return Al-1}})}function Xs$1(Fn){let Mn=0;return()=>Fn[Mn++]}function $s$1(Fn){return Xs$1(Ws$1(Fn))}function Zs$1(Fn){return Fn&1?~Fn>>1:Fn>>1}function t0(Fn,Mn){let io=Array(Fn);for(let fo=0;fo<Fn;fo++)io[fo]=1+Mn();return io}function cf(Fn,Mn){let io=Array(Fn);for(let fo=0,mo=-1;fo<Fn;fo++)io[fo]=mo+=1+Mn();return io}function e0(Fn,Mn){let io=Array(Fn);for(let fo=0,mo=0;fo<Fn;fo++)io[fo]=mo+=Zs$1(Mn());return io}function Ur$1(Fn,Mn){let io=cf(Fn(),Fn),fo=Fn(),mo=cf(fo,Fn),$o=t0(fo,Fn);for(let Ao=0;Ao<fo;Ao++)for(let Lo=0;Lo<$o[Ao];Lo++)io.push(mo[Ao]+Lo);return Mn?io.map(Ao=>Mn[Ao]):io}function r0(Fn){let Mn=[];for(;;){let io=Fn();if(io==0)break;Mn.push(n0(io,Fn))}for(;;){let io=Fn()-1;if(io<0)break;Mn.push(f0(io,Fn))}return Vs$1(hf(Mn))}function i0(Fn){let Mn=[];for(;;){let io=Fn();if(io==0)break;Mn.push(io)}return Mn}function lf(Fn,Mn,io){let fo=Array(Fn).fill(void 0).map(()=>[]);for(let mo=0;mo<Mn;mo++)e0(Fn,io).forEach(($o,Ao)=>fo[Ao].push($o));return fo}function n0(Fn,Mn){let io=1+Mn(),fo=Mn(),mo=i0(Mn),$o=lf(mo.length,1+Fn,Mn);return hf($o.map((Ao,Lo)=>{const Wo=Ao[0],jo=Ao.slice(1);return Array(mo[Lo]).fill(void 0).map((zo,Vo)=>{let Go=Vo*fo;return[Wo+Vo*io,jo.map(Jo=>Jo+Go)]})}))}function f0(Fn,Mn){let io=1+Mn();return lf(io,1+Fn,Mn).map(fo=>[fo[0],fo.slice(1)])}function o0(Fn){let Mn=Ur$1(Fn).sort((fo,mo)=>fo-mo);return io();function io(){let fo=[];for(;;){let jo=Ur$1(Fn,Mn);if(jo.length==0)break;fo.push({set:new Set(jo),node:io()})}fo.sort((jo,zo)=>zo.set.size-jo.set.size);let mo=Fn(),$o=mo%3;mo=mo/3|0;let Ao=!!(mo&1);mo>>=1;let Lo=mo==1,Wo=mo==2;return{branches:fo,valid:$o,fe0f:Ao,save:Lo,check:Wo}}}function s0(){return $s$1(Ys$1("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const kr$1=s0();new Set(Ur$1(kr$1)),new Set(Ur$1(kr$1)),r0(kr$1),o0(kr$1);const a0=new Uint8Array(32);a0.fill(0);const u0=`Ethereum Signed Message:
`;function df(Fn){return typeof Fn=="string"&&(Fn=Ci(Fn)),Ii(Ds([Ci(u0),Ci(String(Fn.length)),Fn]))}const c0="address/5.7.0",yr$1=new z$4(c0);function pf(Fn){Jt$2(Fn,20)||yr$1.throwArgumentError("invalid address","address",Fn),Fn=Fn.toLowerCase();const Mn=Fn.substring(2).split(""),io=new Uint8Array(40);for(let mo=0;mo<40;mo++)io[mo]=Mn[mo].charCodeAt(0);const fo=Ot$2(Ii(io));for(let mo=0;mo<40;mo+=2)fo[mo>>1]>>4>=8&&(Mn[mo]=Mn[mo].toUpperCase()),(fo[mo>>1]&15)>=8&&(Mn[mo+1]=Mn[mo+1].toUpperCase());return"0x"+Mn.join("")}const l0=9007199254740991;function d0(Fn){return Math.log10?Math.log10(Fn):Math.log(Fn)/Math.LN10}const Oi={};for(let Fn=0;Fn<10;Fn++)Oi[String(Fn)]=String(Fn);for(let Fn=0;Fn<26;Fn++)Oi[String.fromCharCode(65+Fn)]=String(10+Fn);const vf=Math.floor(d0(l0));function p0(Fn){Fn=Fn.toUpperCase(),Fn=Fn.substring(4)+Fn.substring(0,2)+"00";let Mn=Fn.split("").map(fo=>Oi[fo]).join("");for(;Mn.length>=vf;){let fo=Mn.substring(0,vf);Mn=parseInt(fo,10)%97+Mn.substring(fo.length)}let io=String(98-parseInt(Mn,10)%97);for(;io.length<2;)io="0"+io;return io}function v0(Fn){let Mn=null;if(typeof Fn!="string"&&yr$1.throwArgumentError("invalid address","address",Fn),Fn.match(/^(0x)?[0-9a-fA-F]{40}$/))Fn.substring(0,2)!=="0x"&&(Fn="0x"+Fn),Mn=pf(Fn),Fn.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&Mn!==Fn&&yr$1.throwArgumentError("bad address checksum","address",Fn);else if(Fn.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(Fn.substring(2,4)!==p0(Fn)&&yr$1.throwArgumentError("bad icap checksum","address",Fn),Mn=Ls$1(Fn.substring(4));Mn.length<40;)Mn="0"+Mn;Mn=pf("0x"+Mn)}else yr$1.throwArgumentError("invalid address","address",Fn);return Mn}function wr$1(Fn,Mn,io){Object.defineProperty(Fn,Mn,{enumerable:!0,value:io,writable:!1})}const m0=new Uint8Array(32);m0.fill(0),V$3.from(-1);const A0=V$3.from(0),b0=V$3.from(1);V$3.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),oe$3(b0.toHexString(),32),oe$3(A0.toHexString(),32);var se$2={},Q$2={},xr$1=gf;function gf(Fn,Mn){if(!Fn)throw new Error(Mn||"Assertion failed")}gf.equal=function(Fn,Mn,io){if(Fn!=Mn)throw new Error(io||"Assertion failed: "+Fn+" != "+Mn)};var Pi={exports:{}};typeof Object.create=="function"?Pi.exports=function(Fn,Mn){Mn&&(Fn.super_=Mn,Fn.prototype=Object.create(Mn.prototype,{constructor:{value:Fn,enumerable:!1,writable:!0,configurable:!0}}))}:Pi.exports=function(Fn,Mn){if(Mn){Fn.super_=Mn;var io=function(){};io.prototype=Mn.prototype,Fn.prototype=new io,Fn.prototype.constructor=Fn}};var y0=xr$1,w0=Pi.exports;Q$2.inherits=w0;function x0(Fn,Mn){return(Fn.charCodeAt(Mn)&64512)!==55296||Mn<0||Mn+1>=Fn.length?!1:(Fn.charCodeAt(Mn+1)&64512)===56320}function M0(Fn,Mn){if(Array.isArray(Fn))return Fn.slice();if(!Fn)return[];var io=[];if(typeof Fn=="string")if(Mn){if(Mn==="hex")for(Fn=Fn.replace(/[^a-z0-9]+/ig,""),Fn.length%2!==0&&(Fn="0"+Fn),mo=0;mo<Fn.length;mo+=2)io.push(parseInt(Fn[mo]+Fn[mo+1],16))}else for(var fo=0,mo=0;mo<Fn.length;mo++){var $o=Fn.charCodeAt(mo);$o<128?io[fo++]=$o:$o<2048?(io[fo++]=$o>>6|192,io[fo++]=$o&63|128):x0(Fn,mo)?($o=65536+(($o&1023)<<10)+(Fn.charCodeAt(++mo)&1023),io[fo++]=$o>>18|240,io[fo++]=$o>>12&63|128,io[fo++]=$o>>6&63|128,io[fo++]=$o&63|128):(io[fo++]=$o>>12|224,io[fo++]=$o>>6&63|128,io[fo++]=$o&63|128)}else for(mo=0;mo<Fn.length;mo++)io[mo]=Fn[mo]|0;return io}Q$2.toArray=M0;function E0(Fn){for(var Mn="",io=0;io<Fn.length;io++)Mn+=Af(Fn[io].toString(16));return Mn}Q$2.toHex=E0;function mf(Fn){var Mn=Fn>>>24|Fn>>>8&65280|Fn<<8&16711680|(Fn&255)<<24;return Mn>>>0}Q$2.htonl=mf;function S0$1(Fn,Mn){for(var io="",fo=0;fo<Fn.length;fo++){var mo=Fn[fo];Mn==="little"&&(mo=mf(mo)),io+=bf(mo.toString(16))}return io}Q$2.toHex32=S0$1;function Af(Fn){return Fn.length===1?"0"+Fn:Fn}Q$2.zero2=Af;function bf(Fn){return Fn.length===7?"0"+Fn:Fn.length===6?"00"+Fn:Fn.length===5?"000"+Fn:Fn.length===4?"0000"+Fn:Fn.length===3?"00000"+Fn:Fn.length===2?"000000"+Fn:Fn.length===1?"0000000"+Fn:Fn}Q$2.zero8=bf;function I0(Fn,Mn,io,fo){var mo=io-Mn;y0(mo%4===0);for(var $o=new Array(mo/4),Ao=0,Lo=Mn;Ao<$o.length;Ao++,Lo+=4){var Wo;fo==="big"?Wo=Fn[Lo]<<24|Fn[Lo+1]<<16|Fn[Lo+2]<<8|Fn[Lo+3]:Wo=Fn[Lo+3]<<24|Fn[Lo+2]<<16|Fn[Lo+1]<<8|Fn[Lo],$o[Ao]=Wo>>>0}return $o}Q$2.join32=I0;function N0(Fn,Mn){for(var io=new Array(Fn.length*4),fo=0,mo=0;fo<Fn.length;fo++,mo+=4){var $o=Fn[fo];Mn==="big"?(io[mo]=$o>>>24,io[mo+1]=$o>>>16&255,io[mo+2]=$o>>>8&255,io[mo+3]=$o&255):(io[mo+3]=$o>>>24,io[mo+2]=$o>>>16&255,io[mo+1]=$o>>>8&255,io[mo]=$o&255)}return io}Q$2.split32=N0;function _0(Fn,Mn){return Fn>>>Mn|Fn<<32-Mn}Q$2.rotr32=_0;function B0(Fn,Mn){return Fn<<Mn|Fn>>>32-Mn}Q$2.rotl32=B0;function C0(Fn,Mn){return Fn+Mn>>>0}Q$2.sum32=C0;function R0(Fn,Mn,io){return Fn+Mn+io>>>0}Q$2.sum32_3=R0;function O0(Fn,Mn,io,fo){return Fn+Mn+io+fo>>>0}Q$2.sum32_4=O0;function P0(Fn,Mn,io,fo,mo){return Fn+Mn+io+fo+mo>>>0}Q$2.sum32_5=P0;function T0$1(Fn,Mn,io,fo){var mo=Fn[Mn],$o=Fn[Mn+1],Ao=fo+$o>>>0,Lo=(Ao<fo?1:0)+io+mo;Fn[Mn]=Lo>>>0,Fn[Mn+1]=Ao}Q$2.sum64=T0$1;function D0(Fn,Mn,io,fo){var mo=Mn+fo>>>0,$o=(mo<Mn?1:0)+Fn+io;return $o>>>0}Q$2.sum64_hi=D0;function F0(Fn,Mn,io,fo){var mo=Mn+fo;return mo>>>0}Q$2.sum64_lo=F0;function U0(Fn,Mn,io,fo,mo,$o,Ao,Lo){var Wo=0,jo=Mn;jo=jo+fo>>>0,Wo+=jo<Mn?1:0,jo=jo+$o>>>0,Wo+=jo<$o?1:0,jo=jo+Lo>>>0,Wo+=jo<Lo?1:0;var zo=Fn+io+mo+Ao+Wo;return zo>>>0}Q$2.sum64_4_hi=U0;function k0(Fn,Mn,io,fo,mo,$o,Ao,Lo){var Wo=Mn+fo+$o+Lo;return Wo>>>0}Q$2.sum64_4_lo=k0;function q0(Fn,Mn,io,fo,mo,$o,Ao,Lo,Wo,jo){var zo=0,Vo=Mn;Vo=Vo+fo>>>0,zo+=Vo<Mn?1:0,Vo=Vo+$o>>>0,zo+=Vo<$o?1:0,Vo=Vo+Lo>>>0,zo+=Vo<Lo?1:0,Vo=Vo+jo>>>0,zo+=Vo<jo?1:0;var Go=Fn+io+mo+Ao+Wo+zo;return Go>>>0}Q$2.sum64_5_hi=q0;function K0(Fn,Mn,io,fo,mo,$o,Ao,Lo,Wo,jo){var zo=Mn+fo+$o+Lo+jo;return zo>>>0}Q$2.sum64_5_lo=K0;function H0(Fn,Mn,io){var fo=Mn<<32-io|Fn>>>io;return fo>>>0}Q$2.rotr64_hi=H0;function L0$1(Fn,Mn,io){var fo=Fn<<32-io|Mn>>>io;return fo>>>0}Q$2.rotr64_lo=L0$1;function z0(Fn,Mn,io){return Fn>>>io}Q$2.shr64_hi=z0;function j0(Fn,Mn,io){var fo=Fn<<32-io|Mn>>>io;return fo>>>0}Q$2.shr64_lo=j0;var or$n={},yf=Q$2,Q0=xr$1;function qr$1(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}or$n.BlockHash=qr$1,qr$1.prototype.update=function(Fn,Mn){if(Fn=yf.toArray(Fn,Mn),this.pending?this.pending=this.pending.concat(Fn):this.pending=Fn,this.pendingTotal+=Fn.length,this.pending.length>=this._delta8){Fn=this.pending;var io=Fn.length%this._delta8;this.pending=Fn.slice(Fn.length-io,Fn.length),this.pending.length===0&&(this.pending=null),Fn=yf.join32(Fn,0,Fn.length-io,this.endian);for(var fo=0;fo<Fn.length;fo+=this._delta32)this._update(Fn,fo,fo+this._delta32)}return this},qr$1.prototype.digest=function(Fn){return this.update(this._pad()),Q0(this.pending===null),this._digest(Fn)},qr$1.prototype._pad=function(){var Fn=this.pendingTotal,Mn=this._delta8,io=Mn-(Fn+this.padLength)%Mn,fo=new Array(io+this.padLength);fo[0]=128;for(var mo=1;mo<io;mo++)fo[mo]=0;if(Fn<<=3,this.endian==="big"){for(var $o=8;$o<this.padLength;$o++)fo[mo++]=0;fo[mo++]=0,fo[mo++]=0,fo[mo++]=0,fo[mo++]=0,fo[mo++]=Fn>>>24&255,fo[mo++]=Fn>>>16&255,fo[mo++]=Fn>>>8&255,fo[mo++]=Fn&255}else for(fo[mo++]=Fn&255,fo[mo++]=Fn>>>8&255,fo[mo++]=Fn>>>16&255,fo[mo++]=Fn>>>24&255,fo[mo++]=0,fo[mo++]=0,fo[mo++]=0,fo[mo++]=0,$o=8;$o<this.padLength;$o++)fo[mo++]=0;return fo};var sr$1={},ae$3={},J0=Q$2,ue$1=J0.rotr32;function G0(Fn,Mn,io,fo){if(Fn===0)return wf(Mn,io,fo);if(Fn===1||Fn===3)return Mf(Mn,io,fo);if(Fn===2)return xf(Mn,io,fo)}ae$3.ft_1=G0;function wf(Fn,Mn,io){return Fn&Mn^~Fn&io}ae$3.ch32=wf;function xf(Fn,Mn,io){return Fn&Mn^Fn&io^Mn&io}ae$3.maj32=xf;function Mf(Fn,Mn,io){return Fn^Mn^io}ae$3.p32=Mf;function Y0(Fn){return ue$1(Fn,2)^ue$1(Fn,13)^ue$1(Fn,22)}ae$3.s0_256=Y0;function V0$1(Fn){return ue$1(Fn,6)^ue$1(Fn,11)^ue$1(Fn,25)}ae$3.s1_256=V0$1;function W0(Fn){return ue$1(Fn,7)^ue$1(Fn,18)^Fn>>>3}ae$3.g0_256=W0;function X0(Fn){return ue$1(Fn,17)^ue$1(Fn,19)^Fn>>>10}ae$3.g1_256=X0;var ar$1=Q$2,$0=or$n,Z0=ae$3,Ti=ar$1.rotl32,Mr$1=ar$1.sum32,ta=ar$1.sum32_5,ea=Z0.ft_1,Ef=$0.BlockHash,ra=[1518500249,1859775393,2400959708,3395469782];function he$1(){if(!(this instanceof he$1))return new he$1;Ef.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ar$1.inherits(he$1,Ef);var ia=he$1;he$1.blockSize=512,he$1.outSize=160,he$1.hmacStrength=80,he$1.padLength=64,he$1.prototype._update=function(Fn,Mn){for(var io=this.W,fo=0;fo<16;fo++)io[fo]=Fn[Mn+fo];for(;fo<io.length;fo++)io[fo]=Ti(io[fo-3]^io[fo-8]^io[fo-14]^io[fo-16],1);var mo=this.h[0],$o=this.h[1],Ao=this.h[2],Lo=this.h[3],Wo=this.h[4];for(fo=0;fo<io.length;fo++){var jo=~~(fo/20),zo=ta(Ti(mo,5),ea(jo,$o,Ao,Lo),Wo,io[fo],ra[jo]);Wo=Lo,Lo=Ao,Ao=Ti($o,30),$o=mo,mo=zo}this.h[0]=Mr$1(this.h[0],mo),this.h[1]=Mr$1(this.h[1],$o),this.h[2]=Mr$1(this.h[2],Ao),this.h[3]=Mr$1(this.h[3],Lo),this.h[4]=Mr$1(this.h[4],Wo)},he$1.prototype._digest=function(Fn){return Fn==="hex"?ar$1.toHex32(this.h,"big"):ar$1.split32(this.h,"big")};var ur$1=Q$2,na=or$n,hr$1=ae$3,fa=xr$1,ie$1=ur$1.sum32,oa=ur$1.sum32_4,sa=ur$1.sum32_5,aa=hr$1.ch32,ua=hr$1.maj32,ha=hr$1.s0_256,ca=hr$1.s1_256,la=hr$1.g0_256,da=hr$1.g1_256,Sf=na.BlockHash,pa=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ce$2(){if(!(this instanceof ce$2))return new ce$2;Sf.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=pa,this.W=new Array(64)}ur$1.inherits(ce$2,Sf);var If=ce$2;ce$2.blockSize=512,ce$2.outSize=256,ce$2.hmacStrength=192,ce$2.padLength=64,ce$2.prototype._update=function(Fn,Mn){for(var io=this.W,fo=0;fo<16;fo++)io[fo]=Fn[Mn+fo];for(;fo<io.length;fo++)io[fo]=oa(da(io[fo-2]),io[fo-7],la(io[fo-15]),io[fo-16]);var mo=this.h[0],$o=this.h[1],Ao=this.h[2],Lo=this.h[3],Wo=this.h[4],jo=this.h[5],zo=this.h[6],Vo=this.h[7];for(fa(this.k.length===io.length),fo=0;fo<io.length;fo++){var Go=sa(Vo,ca(Wo),aa(Wo,jo,zo),this.k[fo],io[fo]),Jo=ie$1(ha(mo),ua(mo,$o,Ao));Vo=zo,zo=jo,jo=Wo,Wo=ie$1(Lo,Go),Lo=Ao,Ao=$o,$o=mo,mo=ie$1(Go,Jo)}this.h[0]=ie$1(this.h[0],mo),this.h[1]=ie$1(this.h[1],$o),this.h[2]=ie$1(this.h[2],Ao),this.h[3]=ie$1(this.h[3],Lo),this.h[4]=ie$1(this.h[4],Wo),this.h[5]=ie$1(this.h[5],jo),this.h[6]=ie$1(this.h[6],zo),this.h[7]=ie$1(this.h[7],Vo)},ce$2.prototype._digest=function(Fn){return Fn==="hex"?ur$1.toHex32(this.h,"big"):ur$1.split32(this.h,"big")};var Di$1=Q$2,Nf=If;function ye$2(){if(!(this instanceof ye$2))return new ye$2;Nf.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Di$1.inherits(ye$2,Nf);var va=ye$2;ye$2.blockSize=512,ye$2.outSize=224,ye$2.hmacStrength=192,ye$2.padLength=64,ye$2.prototype._digest=function(Fn){return Fn==="hex"?Di$1.toHex32(this.h.slice(0,7),"big"):Di$1.split32(this.h.slice(0,7),"big")};var jt$1=Q$2,ga=or$n,ma=xr$1,le$2=jt$1.rotr64_hi,de$2=jt$1.rotr64_lo,_f=jt$1.shr64_hi,Bf=jt$1.shr64_lo,Be$1=jt$1.sum64,Fi$1=jt$1.sum64_hi,Ui=jt$1.sum64_lo,Aa=jt$1.sum64_4_hi,ba$1=jt$1.sum64_4_lo,ya$1=jt$1.sum64_5_hi,wa=jt$1.sum64_5_lo,Cf=ga.BlockHash,xa=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ne$3(){if(!(this instanceof ne$3))return new ne$3;Cf.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=xa,this.W=new Array(160)}jt$1.inherits(ne$3,Cf);var Rf=ne$3;ne$3.blockSize=1024,ne$3.outSize=512,ne$3.hmacStrength=192,ne$3.padLength=128,ne$3.prototype._prepareBlock=function(Fn,Mn){for(var io=this.W,fo=0;fo<32;fo++)io[fo]=Fn[Mn+fo];for(;fo<io.length;fo+=2){var mo=Pa(io[fo-4],io[fo-3]),$o=Ta$1(io[fo-4],io[fo-3]),Ao=io[fo-14],Lo=io[fo-13],Wo=Ra$1(io[fo-30],io[fo-29]),jo=Oa$1(io[fo-30],io[fo-29]),zo=io[fo-32],Vo=io[fo-31];io[fo]=Aa(mo,$o,Ao,Lo,Wo,jo,zo,Vo),io[fo+1]=ba$1(mo,$o,Ao,Lo,Wo,jo,zo,Vo)}},ne$3.prototype._update=function(Fn,Mn){this._prepareBlock(Fn,Mn);var io=this.W,fo=this.h[0],mo=this.h[1],$o=this.h[2],Ao=this.h[3],Lo=this.h[4],Wo=this.h[5],jo=this.h[6],zo=this.h[7],Vo=this.h[8],Go=this.h[9],Jo=this.h[10],Qo=this.h[11],os=this.h[12],Cl=this.h[13],xl=this.h[14],ds=this.h[15];ma(this.k.length===io.length);for(var _c=0;_c<io.length;_c+=2){var $l=xl,Al=ds,Il=Ba(Vo,Go),us=Ca(Vo,Go),ps=Ma(Vo,Go,Jo,Qo,os),Rl=Ea(Vo,Go,Jo,Qo,os,Cl),Wl=this.k[_c],Nl=this.k[_c+1],wl=io[_c],Xo=io[_c+1],rs=ya$1($l,Al,Il,us,ps,Rl,Wl,Nl,wl,Xo),as=wa($l,Al,Il,us,ps,Rl,Wl,Nl,wl,Xo);$l=Na$1(fo,mo),Al=_a(fo,mo),Il=Sa$1(fo,mo,$o,Ao,Lo),us=Ia(fo,mo,$o,Ao,Lo,Wo);var El=Fi$1($l,Al,Il,us),Pl=Ui($l,Al,Il,us);xl=os,ds=Cl,os=Jo,Cl=Qo,Jo=Vo,Qo=Go,Vo=Fi$1(jo,zo,rs,as),Go=Ui(zo,zo,rs,as),jo=Lo,zo=Wo,Lo=$o,Wo=Ao,$o=fo,Ao=mo,fo=Fi$1(rs,as,El,Pl),mo=Ui(rs,as,El,Pl)}Be$1(this.h,0,fo,mo),Be$1(this.h,2,$o,Ao),Be$1(this.h,4,Lo,Wo),Be$1(this.h,6,jo,zo),Be$1(this.h,8,Vo,Go),Be$1(this.h,10,Jo,Qo),Be$1(this.h,12,os,Cl),Be$1(this.h,14,xl,ds)},ne$3.prototype._digest=function(Fn){return Fn==="hex"?jt$1.toHex32(this.h,"big"):jt$1.split32(this.h,"big")};function Ma(Fn,Mn,io,fo,mo){var $o=Fn&io^~Fn&mo;return $o<0&&($o+=4294967296),$o}function Ea(Fn,Mn,io,fo,mo,$o){var Ao=Mn&fo^~Mn&$o;return Ao<0&&(Ao+=4294967296),Ao}function Sa$1(Fn,Mn,io,fo,mo){var $o=Fn&io^Fn&mo^io&mo;return $o<0&&($o+=4294967296),$o}function Ia(Fn,Mn,io,fo,mo,$o){var Ao=Mn&fo^Mn&$o^fo&$o;return Ao<0&&(Ao+=4294967296),Ao}function Na$1(Fn,Mn){var io=le$2(Fn,Mn,28),fo=le$2(Mn,Fn,2),mo=le$2(Mn,Fn,7),$o=io^fo^mo;return $o<0&&($o+=4294967296),$o}function _a(Fn,Mn){var io=de$2(Fn,Mn,28),fo=de$2(Mn,Fn,2),mo=de$2(Mn,Fn,7),$o=io^fo^mo;return $o<0&&($o+=4294967296),$o}function Ba(Fn,Mn){var io=le$2(Fn,Mn,14),fo=le$2(Fn,Mn,18),mo=le$2(Mn,Fn,9),$o=io^fo^mo;return $o<0&&($o+=4294967296),$o}function Ca(Fn,Mn){var io=de$2(Fn,Mn,14),fo=de$2(Fn,Mn,18),mo=de$2(Mn,Fn,9),$o=io^fo^mo;return $o<0&&($o+=4294967296),$o}function Ra$1(Fn,Mn){var io=le$2(Fn,Mn,1),fo=le$2(Fn,Mn,8),mo=_f(Fn,Mn,7),$o=io^fo^mo;return $o<0&&($o+=4294967296),$o}function Oa$1(Fn,Mn){var io=de$2(Fn,Mn,1),fo=de$2(Fn,Mn,8),mo=Bf(Fn,Mn,7),$o=io^fo^mo;return $o<0&&($o+=4294967296),$o}function Pa(Fn,Mn){var io=le$2(Fn,Mn,19),fo=le$2(Mn,Fn,29),mo=_f(Fn,Mn,6),$o=io^fo^mo;return $o<0&&($o+=4294967296),$o}function Ta$1(Fn,Mn){var io=de$2(Fn,Mn,19),fo=de$2(Mn,Fn,29),mo=Bf(Fn,Mn,6),$o=io^fo^mo;return $o<0&&($o+=4294967296),$o}var ki=Q$2,Of=Rf;function we$2(){if(!(this instanceof we$2))return new we$2;Of.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ki.inherits(we$2,Of);var Da$1=we$2;we$2.blockSize=1024,we$2.outSize=384,we$2.hmacStrength=192,we$2.padLength=128,we$2.prototype._digest=function(Fn){return Fn==="hex"?ki.toHex32(this.h.slice(0,12),"big"):ki.split32(this.h.slice(0,12),"big")},sr$1.sha1=ia,sr$1.sha224=va,sr$1.sha256=If,sr$1.sha384=Da$1,sr$1.sha512=Rf;var Pf={},Xe$1=Q$2,Fa$1=or$n,Kr$1=Xe$1.rotl32,Tf=Xe$1.sum32,Er$1=Xe$1.sum32_3,Df=Xe$1.sum32_4,Ff=Fa$1.BlockHash;function pe$1(){if(!(this instanceof pe$1))return new pe$1;Ff.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Xe$1.inherits(pe$1,Ff),Pf.ripemd160=pe$1,pe$1.blockSize=512,pe$1.outSize=160,pe$1.hmacStrength=192,pe$1.padLength=64,pe$1.prototype._update=function(Fn,Mn){for(var io=this.h[0],fo=this.h[1],mo=this.h[2],$o=this.h[3],Ao=this.h[4],Lo=io,Wo=fo,jo=mo,zo=$o,Vo=Ao,Go=0;Go<80;Go++){var Jo=Tf(Kr$1(Df(io,Uf(Go,fo,mo,$o),Fn[qa$1[Go]+Mn],Ua$1(Go)),Ha$1[Go]),Ao);io=Ao,Ao=$o,$o=Kr$1(mo,10),mo=fo,fo=Jo,Jo=Tf(Kr$1(Df(Lo,Uf(79-Go,Wo,jo,zo),Fn[Ka[Go]+Mn],ka(Go)),La$1[Go]),Vo),Lo=Vo,Vo=zo,zo=Kr$1(jo,10),jo=Wo,Wo=Jo}Jo=Er$1(this.h[1],mo,zo),this.h[1]=Er$1(this.h[2],$o,Vo),this.h[2]=Er$1(this.h[3],Ao,Lo),this.h[3]=Er$1(this.h[4],io,Wo),this.h[4]=Er$1(this.h[0],fo,jo),this.h[0]=Jo},pe$1.prototype._digest=function(Fn){return Fn==="hex"?Xe$1.toHex32(this.h,"little"):Xe$1.split32(this.h,"little")};function Uf(Fn,Mn,io,fo){return Fn<=15?Mn^io^fo:Fn<=31?Mn&io|~Mn&fo:Fn<=47?(Mn|~io)^fo:Fn<=63?Mn&fo|io&~fo:Mn^(io|~fo)}function Ua$1(Fn){return Fn<=15?0:Fn<=31?1518500249:Fn<=47?1859775393:Fn<=63?2400959708:2840853838}function ka(Fn){return Fn<=15?1352829926:Fn<=31?1548603684:Fn<=47?1836072691:Fn<=63?2053994217:0}var qa$1=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ka=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ha$1=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],La$1=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],za=Q$2,ja=xr$1;function cr$1(Fn,Mn,io){if(!(this instanceof cr$1))return new cr$1(Fn,Mn,io);this.Hash=Fn,this.blockSize=Fn.blockSize/8,this.outSize=Fn.outSize/8,this.inner=null,this.outer=null,this._init(za.toArray(Mn,io))}var Qa=cr$1;cr$1.prototype._init=function(Fn){Fn.length>this.blockSize&&(Fn=new this.Hash().update(Fn).digest()),ja(Fn.length<=this.blockSize);for(var Mn=Fn.length;Mn<this.blockSize;Mn++)Fn.push(0);for(Mn=0;Mn<Fn.length;Mn++)Fn[Mn]^=54;for(this.inner=new this.Hash().update(Fn),Mn=0;Mn<Fn.length;Mn++)Fn[Mn]^=106;this.outer=new this.Hash().update(Fn)},cr$1.prototype.update=function(Fn,Mn){return this.inner.update(Fn,Mn),this},cr$1.prototype.digest=function(Fn){return this.outer.update(this.inner.digest()),this.outer.digest(Fn)},function(Fn){var Mn=Fn;Mn.utils=Q$2,Mn.common=or$n,Mn.sha=sr$1,Mn.ripemd=Pf,Mn.hmac=Qa,Mn.sha1=Mn.sha.sha1,Mn.sha256=Mn.sha.sha256,Mn.sha224=Mn.sha.sha224,Mn.sha384=Mn.sha.sha384,Mn.sha512=Mn.sha.sha512,Mn.ripemd160=Mn.ripemd.ripemd160}(se$2);function lr$2(Fn,Mn,io){return io={path:Mn,exports:{},require:function(fo,mo){return Ja(fo,mo??io.path)}},Fn(io,io.exports),io.exports}function Ja(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var qi$1=kf;function kf(Fn,Mn){if(!Fn)throw new Error(Mn||"Assertion failed")}kf.equal=function(Fn,Mn,io){if(Fn!=Mn)throw new Error(io||"Assertion failed: "+Fn+" != "+Mn)};var fe$2=lr$2(function(Fn,Mn){var io=Mn;function fo(Ao,Lo){if(Array.isArray(Ao))return Ao.slice();if(!Ao)return[];var Wo=[];if(typeof Ao!="string"){for(var jo=0;jo<Ao.length;jo++)Wo[jo]=Ao[jo]|0;return Wo}if(Lo==="hex"){Ao=Ao.replace(/[^a-z0-9]+/ig,""),Ao.length%2!==0&&(Ao="0"+Ao);for(var jo=0;jo<Ao.length;jo+=2)Wo.push(parseInt(Ao[jo]+Ao[jo+1],16))}else for(var jo=0;jo<Ao.length;jo++){var zo=Ao.charCodeAt(jo),Vo=zo>>8,Go=zo&255;Vo?Wo.push(Vo,Go):Wo.push(Go)}return Wo}io.toArray=fo;function mo(Ao){return Ao.length===1?"0"+Ao:Ao}io.zero2=mo;function $o(Ao){for(var Lo="",Wo=0;Wo<Ao.length;Wo++)Lo+=mo(Ao[Wo].toString(16));return Lo}io.toHex=$o,io.encode=function(Ao,Lo){return Lo==="hex"?$o(Ao):Ao}}),Gt$2=lr$2(function(Fn,Mn){var io=Mn;io.assert=qi$1,io.toArray=fe$2.toArray,io.zero2=fe$2.zero2,io.toHex=fe$2.toHex,io.encode=fe$2.encode;function fo(Wo,jo,zo){var Vo=new Array(Math.max(Wo.bitLength(),zo)+1);Vo.fill(0);for(var Go=1<<jo+1,Jo=Wo.clone(),Qo=0;Qo<Vo.length;Qo++){var os,Cl=Jo.andln(Go-1);Jo.isOdd()?(Cl>(Go>>1)-1?os=(Go>>1)-Cl:os=Cl,Jo.isubn(os)):os=0,Vo[Qo]=os,Jo.iushrn(1)}return Vo}io.getNAF=fo;function mo(Wo,jo){var zo=[[],[]];Wo=Wo.clone(),jo=jo.clone();for(var Vo=0,Go=0,Jo;Wo.cmpn(-Vo)>0||jo.cmpn(-Go)>0;){var Qo=Wo.andln(3)+Vo&3,os=jo.andln(3)+Go&3;Qo===3&&(Qo=-1),os===3&&(os=-1);var Cl;Qo&1?(Jo=Wo.andln(7)+Vo&7,(Jo===3||Jo===5)&&os===2?Cl=-Qo:Cl=Qo):Cl=0,zo[0].push(Cl);var xl;os&1?(Jo=jo.andln(7)+Go&7,(Jo===3||Jo===5)&&Qo===2?xl=-os:xl=os):xl=0,zo[1].push(xl),2*Vo===Cl+1&&(Vo=1-Vo),2*Go===xl+1&&(Go=1-Go),Wo.iushrn(1),jo.iushrn(1)}return zo}io.getJSF=mo;function $o(Wo,jo,zo){var Vo="_"+jo;Wo.prototype[jo]=function(){return this[Vo]!==void 0?this[Vo]:this[Vo]=zo.call(this)}}io.cachedProperty=$o;function Ao(Wo){return typeof Wo=="string"?io.toArray(Wo,"hex"):Wo}io.parseBytes=Ao;function Lo(Wo){return new K(Wo,"hex","le")}io.intFromLE=Lo}),Hr$1=Gt$2.getNAF,Ga=Gt$2.getJSF,Lr$1=Gt$2.assert;function Ce$2(Fn,Mn){this.type=Fn,this.p=new K(Mn.p,16),this.red=Mn.prime?K.red(Mn.prime):K.mont(this.p),this.zero=new K(0).toRed(this.red),this.one=new K(1).toRed(this.red),this.two=new K(2).toRed(this.red),this.n=Mn.n&&new K(Mn.n,16),this.g=Mn.g&&this.pointFromJSON(Mn.g,Mn.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var io=this.n&&this.p.div(this.n);!io||io.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var $e=Ce$2;Ce$2.prototype.point=function(){throw new Error("Not implemented")},Ce$2.prototype.validate=function(){throw new Error("Not implemented")},Ce$2.prototype._fixedNafMul=function(Fn,Mn){Lr$1(Fn.precomputed);var io=Fn._getDoubles(),fo=Hr$1(Mn,1,this._bitLength),mo=(1<<io.step+1)-(io.step%2===0?2:1);mo/=3;var $o=[],Ao,Lo;for(Ao=0;Ao<fo.length;Ao+=io.step){Lo=0;for(var Wo=Ao+io.step-1;Wo>=Ao;Wo--)Lo=(Lo<<1)+fo[Wo];$o.push(Lo)}for(var jo=this.jpoint(null,null,null),zo=this.jpoint(null,null,null),Vo=mo;Vo>0;Vo--){for(Ao=0;Ao<$o.length;Ao++)Lo=$o[Ao],Lo===Vo?zo=zo.mixedAdd(io.points[Ao]):Lo===-Vo&&(zo=zo.mixedAdd(io.points[Ao].neg()));jo=jo.add(zo)}return jo.toP()},Ce$2.prototype._wnafMul=function(Fn,Mn){var io=4,fo=Fn._getNAFPoints(io);io=fo.wnd;for(var mo=fo.points,$o=Hr$1(Mn,io,this._bitLength),Ao=this.jpoint(null,null,null),Lo=$o.length-1;Lo>=0;Lo--){for(var Wo=0;Lo>=0&&$o[Lo]===0;Lo--)Wo++;if(Lo>=0&&Wo++,Ao=Ao.dblp(Wo),Lo<0)break;var jo=$o[Lo];Lr$1(jo!==0),Fn.type==="affine"?jo>0?Ao=Ao.mixedAdd(mo[jo-1>>1]):Ao=Ao.mixedAdd(mo[-jo-1>>1].neg()):jo>0?Ao=Ao.add(mo[jo-1>>1]):Ao=Ao.add(mo[-jo-1>>1].neg())}return Fn.type==="affine"?Ao.toP():Ao},Ce$2.prototype._wnafMulAdd=function(Fn,Mn,io,fo,mo){var $o=this._wnafT1,Ao=this._wnafT2,Lo=this._wnafT3,Wo=0,jo,zo,Vo;for(jo=0;jo<fo;jo++){Vo=Mn[jo];var Go=Vo._getNAFPoints(Fn);$o[jo]=Go.wnd,Ao[jo]=Go.points}for(jo=fo-1;jo>=1;jo-=2){var Jo=jo-1,Qo=jo;if($o[Jo]!==1||$o[Qo]!==1){Lo[Jo]=Hr$1(io[Jo],$o[Jo],this._bitLength),Lo[Qo]=Hr$1(io[Qo],$o[Qo],this._bitLength),Wo=Math.max(Lo[Jo].length,Wo),Wo=Math.max(Lo[Qo].length,Wo);continue}var os=[Mn[Jo],null,null,Mn[Qo]];Mn[Jo].y.cmp(Mn[Qo].y)===0?(os[1]=Mn[Jo].add(Mn[Qo]),os[2]=Mn[Jo].toJ().mixedAdd(Mn[Qo].neg())):Mn[Jo].y.cmp(Mn[Qo].y.redNeg())===0?(os[1]=Mn[Jo].toJ().mixedAdd(Mn[Qo]),os[2]=Mn[Jo].add(Mn[Qo].neg())):(os[1]=Mn[Jo].toJ().mixedAdd(Mn[Qo]),os[2]=Mn[Jo].toJ().mixedAdd(Mn[Qo].neg()));var Cl=[-3,-1,-5,-7,0,7,5,1,3],xl=Ga(io[Jo],io[Qo]);for(Wo=Math.max(xl[0].length,Wo),Lo[Jo]=new Array(Wo),Lo[Qo]=new Array(Wo),zo=0;zo<Wo;zo++){var ds=xl[0][zo]|0,_c=xl[1][zo]|0;Lo[Jo][zo]=Cl[(ds+1)*3+(_c+1)],Lo[Qo][zo]=0,Ao[Jo]=os}}var $l=this.jpoint(null,null,null),Al=this._wnafT4;for(jo=Wo;jo>=0;jo--){for(var Il=0;jo>=0;){var us=!0;for(zo=0;zo<fo;zo++)Al[zo]=Lo[zo][jo]|0,Al[zo]!==0&&(us=!1);if(!us)break;Il++,jo--}if(jo>=0&&Il++,$l=$l.dblp(Il),jo<0)break;for(zo=0;zo<fo;zo++){var ps=Al[zo];ps!==0&&(ps>0?Vo=Ao[zo][ps-1>>1]:ps<0&&(Vo=Ao[zo][-ps-1>>1].neg()),Vo.type==="affine"?$l=$l.mixedAdd(Vo):$l=$l.add(Vo))}}for(jo=0;jo<fo;jo++)Ao[jo]=null;return mo?$l:$l.toP()};function Zt$2(Fn,Mn){this.curve=Fn,this.type=Mn,this.precomputed=null}Ce$2.BasePoint=Zt$2,Zt$2.prototype.eq=function(){throw new Error("Not implemented")},Zt$2.prototype.validate=function(){return this.curve.validate(this)},Ce$2.prototype.decodePoint=function(Fn,Mn){Fn=Gt$2.toArray(Fn,Mn);var io=this.p.byteLength();if((Fn[0]===4||Fn[0]===6||Fn[0]===7)&&Fn.length-1===2*io){Fn[0]===6?Lr$1(Fn[Fn.length-1]%2===0):Fn[0]===7&&Lr$1(Fn[Fn.length-1]%2===1);var fo=this.point(Fn.slice(1,1+io),Fn.slice(1+io,1+2*io));return fo}else if((Fn[0]===2||Fn[0]===3)&&Fn.length-1===io)return this.pointFromX(Fn.slice(1,1+io),Fn[0]===3);throw new Error("Unknown point format")},Zt$2.prototype.encodeCompressed=function(Fn){return this.encode(Fn,!0)},Zt$2.prototype._encode=function(Fn){var Mn=this.curve.p.byteLength(),io=this.getX().toArray("be",Mn);return Fn?[this.getY().isEven()?2:3].concat(io):[4].concat(io,this.getY().toArray("be",Mn))},Zt$2.prototype.encode=function(Fn,Mn){return Gt$2.encode(this._encode(Mn),Fn)},Zt$2.prototype.precompute=function(Fn){if(this.precomputed)return this;var Mn={doubles:null,naf:null,beta:null};return Mn.naf=this._getNAFPoints(8),Mn.doubles=this._getDoubles(4,Fn),Mn.beta=this._getBeta(),this.precomputed=Mn,this},Zt$2.prototype._hasDoubles=function(Fn){if(!this.precomputed)return!1;var Mn=this.precomputed.doubles;return Mn?Mn.points.length>=Math.ceil((Fn.bitLength()+1)/Mn.step):!1},Zt$2.prototype._getDoubles=function(Fn,Mn){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var io=[this],fo=this,mo=0;mo<Mn;mo+=Fn){for(var $o=0;$o<Fn;$o++)fo=fo.dbl();io.push(fo)}return{step:Fn,points:io}},Zt$2.prototype._getNAFPoints=function(Fn){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var Mn=[this],io=(1<<Fn)-1,fo=io===1?null:this.dbl(),mo=1;mo<io;mo++)Mn[mo]=Mn[mo-1].add(fo);return{wnd:Fn,points:Mn}},Zt$2.prototype._getBeta=function(){return null},Zt$2.prototype.dblp=function(Fn){for(var Mn=this,io=0;io<Fn;io++)Mn=Mn.dbl();return Mn};var Ki=lr$2(function(Fn){typeof Object.create=="function"?Fn.exports=function(Mn,io){io&&(Mn.super_=io,Mn.prototype=Object.create(io.prototype,{constructor:{value:Mn,enumerable:!1,writable:!0,configurable:!0}}))}:Fn.exports=function(Mn,io){if(io){Mn.super_=io;var fo=function(){};fo.prototype=io.prototype,Mn.prototype=new fo,Mn.prototype.constructor=Mn}}}),Ya=Gt$2.assert;function te$1(Fn){$e.call(this,"short",Fn),this.a=new K(Fn.a,16).toRed(this.red),this.b=new K(Fn.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(Fn),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ki(te$1,$e);var Va=te$1;te$1.prototype._getEndomorphism=function(Fn){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var Mn,io;if(Fn.beta)Mn=new K(Fn.beta,16).toRed(this.red);else{var fo=this._getEndoRoots(this.p);Mn=fo[0].cmp(fo[1])<0?fo[0]:fo[1],Mn=Mn.toRed(this.red)}if(Fn.lambda)io=new K(Fn.lambda,16);else{var mo=this._getEndoRoots(this.n);this.g.mul(mo[0]).x.cmp(this.g.x.redMul(Mn))===0?io=mo[0]:(io=mo[1],Ya(this.g.mul(io).x.cmp(this.g.x.redMul(Mn))===0))}var $o;return Fn.basis?$o=Fn.basis.map(function(Ao){return{a:new K(Ao.a,16),b:new K(Ao.b,16)}}):$o=this._getEndoBasis(io),{beta:Mn,lambda:io,basis:$o}}},te$1.prototype._getEndoRoots=function(Fn){var Mn=Fn===this.p?this.red:K.mont(Fn),io=new K(2).toRed(Mn).redInvm(),fo=io.redNeg(),mo=new K(3).toRed(Mn).redNeg().redSqrt().redMul(io),$o=fo.redAdd(mo).fromRed(),Ao=fo.redSub(mo).fromRed();return[$o,Ao]},te$1.prototype._getEndoBasis=function(Fn){for(var Mn=this.n.ushrn(Math.floor(this.n.bitLength()/2)),io=Fn,fo=this.n.clone(),mo=new K(1),$o=new K(0),Ao=new K(0),Lo=new K(1),Wo,jo,zo,Vo,Go,Jo,Qo,os=0,Cl,xl;io.cmpn(0)!==0;){var ds=fo.div(io);Cl=fo.sub(ds.mul(io)),xl=Ao.sub(ds.mul(mo));var _c=Lo.sub(ds.mul($o));if(!zo&&Cl.cmp(Mn)<0)Wo=Qo.neg(),jo=mo,zo=Cl.neg(),Vo=xl;else if(zo&&++os===2)break;Qo=Cl,fo=io,io=Cl,Ao=mo,mo=xl,Lo=$o,$o=_c}Go=Cl.neg(),Jo=xl;var $l=zo.sqr().add(Vo.sqr()),Al=Go.sqr().add(Jo.sqr());return Al.cmp($l)>=0&&(Go=Wo,Jo=jo),zo.negative&&(zo=zo.neg(),Vo=Vo.neg()),Go.negative&&(Go=Go.neg(),Jo=Jo.neg()),[{a:zo,b:Vo},{a:Go,b:Jo}]},te$1.prototype._endoSplit=function(Fn){var Mn=this.endo.basis,io=Mn[0],fo=Mn[1],mo=fo.b.mul(Fn).divRound(this.n),$o=io.b.neg().mul(Fn).divRound(this.n),Ao=mo.mul(io.a),Lo=$o.mul(fo.a),Wo=mo.mul(io.b),jo=$o.mul(fo.b),zo=Fn.sub(Ao).sub(Lo),Vo=Wo.add(jo).neg();return{k1:zo,k2:Vo}},te$1.prototype.pointFromX=function(Fn,Mn){Fn=new K(Fn,16),Fn.red||(Fn=Fn.toRed(this.red));var io=Fn.redSqr().redMul(Fn).redIAdd(Fn.redMul(this.a)).redIAdd(this.b),fo=io.redSqrt();if(fo.redSqr().redSub(io).cmp(this.zero)!==0)throw new Error("invalid point");var mo=fo.fromRed().isOdd();return(Mn&&!mo||!Mn&&mo)&&(fo=fo.redNeg()),this.point(Fn,fo)},te$1.prototype.validate=function(Fn){if(Fn.inf)return!0;var Mn=Fn.x,io=Fn.y,fo=this.a.redMul(Mn),mo=Mn.redSqr().redMul(Mn).redIAdd(fo).redIAdd(this.b);return io.redSqr().redISub(mo).cmpn(0)===0},te$1.prototype._endoWnafMulAdd=function(Fn,Mn,io){for(var fo=this._endoWnafT1,mo=this._endoWnafT2,$o=0;$o<Fn.length;$o++){var Ao=this._endoSplit(Mn[$o]),Lo=Fn[$o],Wo=Lo._getBeta();Ao.k1.negative&&(Ao.k1.ineg(),Lo=Lo.neg(!0)),Ao.k2.negative&&(Ao.k2.ineg(),Wo=Wo.neg(!0)),fo[$o*2]=Lo,fo[$o*2+1]=Wo,mo[$o*2]=Ao.k1,mo[$o*2+1]=Ao.k2}for(var jo=this._wnafMulAdd(1,fo,mo,$o*2,io),zo=0;zo<$o*2;zo++)fo[zo]=null,mo[zo]=null;return jo};function Dt$2(Fn,Mn,io,fo){$e.BasePoint.call(this,Fn,"affine"),Mn===null&&io===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new K(Mn,16),this.y=new K(io,16),fo&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Ki(Dt$2,$e.BasePoint),te$1.prototype.point=function(Fn,Mn,io){return new Dt$2(this,Fn,Mn,io)},te$1.prototype.pointFromJSON=function(Fn,Mn){return Dt$2.fromJSON(this,Fn,Mn)},Dt$2.prototype._getBeta=function(){if(this.curve.endo){var Fn=this.precomputed;if(Fn&&Fn.beta)return Fn.beta;var Mn=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(Fn){var io=this.curve,fo=function(mo){return io.point(mo.x.redMul(io.endo.beta),mo.y)};Fn.beta=Mn,Mn.precomputed={beta:null,naf:Fn.naf&&{wnd:Fn.naf.wnd,points:Fn.naf.points.map(fo)},doubles:Fn.doubles&&{step:Fn.doubles.step,points:Fn.doubles.points.map(fo)}}}return Mn}},Dt$2.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Dt$2.fromJSON=function(Fn,Mn,io){typeof Mn=="string"&&(Mn=JSON.parse(Mn));var fo=Fn.point(Mn[0],Mn[1],io);if(!Mn[2])return fo;function mo(Ao){return Fn.point(Ao[0],Ao[1],io)}var $o=Mn[2];return fo.precomputed={beta:null,doubles:$o.doubles&&{step:$o.doubles.step,points:[fo].concat($o.doubles.points.map(mo))},naf:$o.naf&&{wnd:$o.naf.wnd,points:[fo].concat($o.naf.points.map(mo))}},fo},Dt$2.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Dt$2.prototype.isInfinity=function(){return this.inf},Dt$2.prototype.add=function(Fn){if(this.inf)return Fn;if(Fn.inf)return this;if(this.eq(Fn))return this.dbl();if(this.neg().eq(Fn))return this.curve.point(null,null);if(this.x.cmp(Fn.x)===0)return this.curve.point(null,null);var Mn=this.y.redSub(Fn.y);Mn.cmpn(0)!==0&&(Mn=Mn.redMul(this.x.redSub(Fn.x).redInvm()));var io=Mn.redSqr().redISub(this.x).redISub(Fn.x),fo=Mn.redMul(this.x.redSub(io)).redISub(this.y);return this.curve.point(io,fo)},Dt$2.prototype.dbl=function(){if(this.inf)return this;var Fn=this.y.redAdd(this.y);if(Fn.cmpn(0)===0)return this.curve.point(null,null);var Mn=this.curve.a,io=this.x.redSqr(),fo=Fn.redInvm(),mo=io.redAdd(io).redIAdd(io).redIAdd(Mn).redMul(fo),$o=mo.redSqr().redISub(this.x.redAdd(this.x)),Ao=mo.redMul(this.x.redSub($o)).redISub(this.y);return this.curve.point($o,Ao)},Dt$2.prototype.getX=function(){return this.x.fromRed()},Dt$2.prototype.getY=function(){return this.y.fromRed()},Dt$2.prototype.mul=function(Fn){return Fn=new K(Fn,16),this.isInfinity()?this:this._hasDoubles(Fn)?this.curve._fixedNafMul(this,Fn):this.curve.endo?this.curve._endoWnafMulAdd([this],[Fn]):this.curve._wnafMul(this,Fn)},Dt$2.prototype.mulAdd=function(Fn,Mn,io){var fo=[this,Mn],mo=[Fn,io];return this.curve.endo?this.curve._endoWnafMulAdd(fo,mo):this.curve._wnafMulAdd(1,fo,mo,2)},Dt$2.prototype.jmulAdd=function(Fn,Mn,io){var fo=[this,Mn],mo=[Fn,io];return this.curve.endo?this.curve._endoWnafMulAdd(fo,mo,!0):this.curve._wnafMulAdd(1,fo,mo,2,!0)},Dt$2.prototype.eq=function(Fn){return this===Fn||this.inf===Fn.inf&&(this.inf||this.x.cmp(Fn.x)===0&&this.y.cmp(Fn.y)===0)},Dt$2.prototype.neg=function(Fn){if(this.inf)return this;var Mn=this.curve.point(this.x,this.y.redNeg());if(Fn&&this.precomputed){var io=this.precomputed,fo=function(mo){return mo.neg()};Mn.precomputed={naf:io.naf&&{wnd:io.naf.wnd,points:io.naf.points.map(fo)},doubles:io.doubles&&{step:io.doubles.step,points:io.doubles.points.map(fo)}}}return Mn},Dt$2.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var Fn=this.curve.jpoint(this.x,this.y,this.curve.one);return Fn};function Ft$1(Fn,Mn,io,fo){$e.BasePoint.call(this,Fn,"jacobian"),Mn===null&&io===null&&fo===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new K(0)):(this.x=new K(Mn,16),this.y=new K(io,16),this.z=new K(fo,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Ki(Ft$1,$e.BasePoint),te$1.prototype.jpoint=function(Fn,Mn,io){return new Ft$1(this,Fn,Mn,io)},Ft$1.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var Fn=this.z.redInvm(),Mn=Fn.redSqr(),io=this.x.redMul(Mn),fo=this.y.redMul(Mn).redMul(Fn);return this.curve.point(io,fo)},Ft$1.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Ft$1.prototype.add=function(Fn){if(this.isInfinity())return Fn;if(Fn.isInfinity())return this;var Mn=Fn.z.redSqr(),io=this.z.redSqr(),fo=this.x.redMul(Mn),mo=Fn.x.redMul(io),$o=this.y.redMul(Mn.redMul(Fn.z)),Ao=Fn.y.redMul(io.redMul(this.z)),Lo=fo.redSub(mo),Wo=$o.redSub(Ao);if(Lo.cmpn(0)===0)return Wo.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var jo=Lo.redSqr(),zo=jo.redMul(Lo),Vo=fo.redMul(jo),Go=Wo.redSqr().redIAdd(zo).redISub(Vo).redISub(Vo),Jo=Wo.redMul(Vo.redISub(Go)).redISub($o.redMul(zo)),Qo=this.z.redMul(Fn.z).redMul(Lo);return this.curve.jpoint(Go,Jo,Qo)},Ft$1.prototype.mixedAdd=function(Fn){if(this.isInfinity())return Fn.toJ();if(Fn.isInfinity())return this;var Mn=this.z.redSqr(),io=this.x,fo=Fn.x.redMul(Mn),mo=this.y,$o=Fn.y.redMul(Mn).redMul(this.z),Ao=io.redSub(fo),Lo=mo.redSub($o);if(Ao.cmpn(0)===0)return Lo.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Wo=Ao.redSqr(),jo=Wo.redMul(Ao),zo=io.redMul(Wo),Vo=Lo.redSqr().redIAdd(jo).redISub(zo).redISub(zo),Go=Lo.redMul(zo.redISub(Vo)).redISub(mo.redMul(jo)),Jo=this.z.redMul(Ao);return this.curve.jpoint(Vo,Go,Jo)},Ft$1.prototype.dblp=function(Fn){if(Fn===0)return this;if(this.isInfinity())return this;if(!Fn)return this.dbl();var Mn;if(this.curve.zeroA||this.curve.threeA){var io=this;for(Mn=0;Mn<Fn;Mn++)io=io.dbl();return io}var fo=this.curve.a,mo=this.curve.tinv,$o=this.x,Ao=this.y,Lo=this.z,Wo=Lo.redSqr().redSqr(),jo=Ao.redAdd(Ao);for(Mn=0;Mn<Fn;Mn++){var zo=$o.redSqr(),Vo=jo.redSqr(),Go=Vo.redSqr(),Jo=zo.redAdd(zo).redIAdd(zo).redIAdd(fo.redMul(Wo)),Qo=$o.redMul(Vo),os=Jo.redSqr().redISub(Qo.redAdd(Qo)),Cl=Qo.redISub(os),xl=Jo.redMul(Cl);xl=xl.redIAdd(xl).redISub(Go);var ds=jo.redMul(Lo);Mn+1<Fn&&(Wo=Wo.redMul(Go)),$o=os,Lo=ds,jo=xl}return this.curve.jpoint($o,jo.redMul(mo),Lo)},Ft$1.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Ft$1.prototype._zeroDbl=function(){var Fn,Mn,io;if(this.zOne){var fo=this.x.redSqr(),mo=this.y.redSqr(),$o=mo.redSqr(),Ao=this.x.redAdd(mo).redSqr().redISub(fo).redISub($o);Ao=Ao.redIAdd(Ao);var Lo=fo.redAdd(fo).redIAdd(fo),Wo=Lo.redSqr().redISub(Ao).redISub(Ao),jo=$o.redIAdd($o);jo=jo.redIAdd(jo),jo=jo.redIAdd(jo),Fn=Wo,Mn=Lo.redMul(Ao.redISub(Wo)).redISub(jo),io=this.y.redAdd(this.y)}else{var zo=this.x.redSqr(),Vo=this.y.redSqr(),Go=Vo.redSqr(),Jo=this.x.redAdd(Vo).redSqr().redISub(zo).redISub(Go);Jo=Jo.redIAdd(Jo);var Qo=zo.redAdd(zo).redIAdd(zo),os=Qo.redSqr(),Cl=Go.redIAdd(Go);Cl=Cl.redIAdd(Cl),Cl=Cl.redIAdd(Cl),Fn=os.redISub(Jo).redISub(Jo),Mn=Qo.redMul(Jo.redISub(Fn)).redISub(Cl),io=this.y.redMul(this.z),io=io.redIAdd(io)}return this.curve.jpoint(Fn,Mn,io)},Ft$1.prototype._threeDbl=function(){var Fn,Mn,io;if(this.zOne){var fo=this.x.redSqr(),mo=this.y.redSqr(),$o=mo.redSqr(),Ao=this.x.redAdd(mo).redSqr().redISub(fo).redISub($o);Ao=Ao.redIAdd(Ao);var Lo=fo.redAdd(fo).redIAdd(fo).redIAdd(this.curve.a),Wo=Lo.redSqr().redISub(Ao).redISub(Ao);Fn=Wo;var jo=$o.redIAdd($o);jo=jo.redIAdd(jo),jo=jo.redIAdd(jo),Mn=Lo.redMul(Ao.redISub(Wo)).redISub(jo),io=this.y.redAdd(this.y)}else{var zo=this.z.redSqr(),Vo=this.y.redSqr(),Go=this.x.redMul(Vo),Jo=this.x.redSub(zo).redMul(this.x.redAdd(zo));Jo=Jo.redAdd(Jo).redIAdd(Jo);var Qo=Go.redIAdd(Go);Qo=Qo.redIAdd(Qo);var os=Qo.redAdd(Qo);Fn=Jo.redSqr().redISub(os),io=this.y.redAdd(this.z).redSqr().redISub(Vo).redISub(zo);var Cl=Vo.redSqr();Cl=Cl.redIAdd(Cl),Cl=Cl.redIAdd(Cl),Cl=Cl.redIAdd(Cl),Mn=Jo.redMul(Qo.redISub(Fn)).redISub(Cl)}return this.curve.jpoint(Fn,Mn,io)},Ft$1.prototype._dbl=function(){var Fn=this.curve.a,Mn=this.x,io=this.y,fo=this.z,mo=fo.redSqr().redSqr(),$o=Mn.redSqr(),Ao=io.redSqr(),Lo=$o.redAdd($o).redIAdd($o).redIAdd(Fn.redMul(mo)),Wo=Mn.redAdd(Mn);Wo=Wo.redIAdd(Wo);var jo=Wo.redMul(Ao),zo=Lo.redSqr().redISub(jo.redAdd(jo)),Vo=jo.redISub(zo),Go=Ao.redSqr();Go=Go.redIAdd(Go),Go=Go.redIAdd(Go),Go=Go.redIAdd(Go);var Jo=Lo.redMul(Vo).redISub(Go),Qo=io.redAdd(io).redMul(fo);return this.curve.jpoint(zo,Jo,Qo)},Ft$1.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var Fn=this.x.redSqr(),Mn=this.y.redSqr(),io=this.z.redSqr(),fo=Mn.redSqr(),mo=Fn.redAdd(Fn).redIAdd(Fn),$o=mo.redSqr(),Ao=this.x.redAdd(Mn).redSqr().redISub(Fn).redISub(fo);Ao=Ao.redIAdd(Ao),Ao=Ao.redAdd(Ao).redIAdd(Ao),Ao=Ao.redISub($o);var Lo=Ao.redSqr(),Wo=fo.redIAdd(fo);Wo=Wo.redIAdd(Wo),Wo=Wo.redIAdd(Wo),Wo=Wo.redIAdd(Wo);var jo=mo.redIAdd(Ao).redSqr().redISub($o).redISub(Lo).redISub(Wo),zo=Mn.redMul(jo);zo=zo.redIAdd(zo),zo=zo.redIAdd(zo);var Vo=this.x.redMul(Lo).redISub(zo);Vo=Vo.redIAdd(Vo),Vo=Vo.redIAdd(Vo);var Go=this.y.redMul(jo.redMul(Wo.redISub(jo)).redISub(Ao.redMul(Lo)));Go=Go.redIAdd(Go),Go=Go.redIAdd(Go),Go=Go.redIAdd(Go);var Jo=this.z.redAdd(Ao).redSqr().redISub(io).redISub(Lo);return this.curve.jpoint(Vo,Go,Jo)},Ft$1.prototype.mul=function(Fn,Mn){return Fn=new K(Fn,Mn),this.curve._wnafMul(this,Fn)},Ft$1.prototype.eq=function(Fn){if(Fn.type==="affine")return this.eq(Fn.toJ());if(this===Fn)return!0;var Mn=this.z.redSqr(),io=Fn.z.redSqr();if(this.x.redMul(io).redISub(Fn.x.redMul(Mn)).cmpn(0)!==0)return!1;var fo=Mn.redMul(this.z),mo=io.redMul(Fn.z);return this.y.redMul(mo).redISub(Fn.y.redMul(fo)).cmpn(0)===0},Ft$1.prototype.eqXToP=function(Fn){var Mn=this.z.redSqr(),io=Fn.toRed(this.curve.red).redMul(Mn);if(this.x.cmp(io)===0)return!0;for(var fo=Fn.clone(),mo=this.curve.redN.redMul(Mn);;){if(fo.iadd(this.curve.n),fo.cmp(this.curve.p)>=0)return!1;if(io.redIAdd(mo),this.x.cmp(io)===0)return!0}},Ft$1.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Ft$1.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var zr$1=lr$2(function(Fn,Mn){var io=Mn;io.base=$e,io.short=Va,io.mont=null,io.edwards=null}),jr$1=lr$2(function(Fn,Mn){var io=Mn,fo=Gt$2.assert;function mo(Lo){Lo.type==="short"?this.curve=new zr$1.short(Lo):Lo.type==="edwards"?this.curve=new zr$1.edwards(Lo):this.curve=new zr$1.mont(Lo),this.g=this.curve.g,this.n=this.curve.n,this.hash=Lo.hash,fo(this.g.validate(),"Invalid curve"),fo(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}io.PresetCurve=mo;function $o(Lo,Wo){Object.defineProperty(io,Lo,{configurable:!0,enumerable:!0,get:function(){var jo=new mo(Wo);return Object.defineProperty(io,Lo,{configurable:!0,enumerable:!0,value:jo}),jo}})}$o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:se$2.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),$o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:se$2.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),$o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:se$2.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),$o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:se$2.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),$o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:se$2.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),$o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:se$2.sha256,gRed:!1,g:["9"]}),$o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:se$2.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Ao;try{Ao=null.crash()}catch{Ao=void 0}$o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:se$2.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Ao]})});function Re$1(Fn){if(!(this instanceof Re$1))return new Re$1(Fn);this.hash=Fn.hash,this.predResist=!!Fn.predResist,this.outLen=this.hash.outSize,this.minEntropy=Fn.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var Mn=fe$2.toArray(Fn.entropy,Fn.entropyEnc||"hex"),io=fe$2.toArray(Fn.nonce,Fn.nonceEnc||"hex"),fo=fe$2.toArray(Fn.pers,Fn.persEnc||"hex");qi$1(Mn.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(Mn,io,fo)}var qf=Re$1;Re$1.prototype._init=function(Fn,Mn,io){var fo=Fn.concat(Mn).concat(io);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var mo=0;mo<this.V.length;mo++)this.K[mo]=0,this.V[mo]=1;this._update(fo),this._reseed=1,this.reseedInterval=281474976710656},Re$1.prototype._hmac=function(){return new se$2.hmac(this.hash,this.K)},Re$1.prototype._update=function(Fn){var Mn=this._hmac().update(this.V).update([0]);Fn&&(Mn=Mn.update(Fn)),this.K=Mn.digest(),this.V=this._hmac().update(this.V).digest(),Fn&&(this.K=this._hmac().update(this.V).update([1]).update(Fn).digest(),this.V=this._hmac().update(this.V).digest())},Re$1.prototype.reseed=function(Fn,Mn,io,fo){typeof Mn!="string"&&(fo=io,io=Mn,Mn=null),Fn=fe$2.toArray(Fn,Mn),io=fe$2.toArray(io,fo),qi$1(Fn.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(Fn.concat(io||[])),this._reseed=1},Re$1.prototype.generate=function(Fn,Mn,io,fo){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof Mn!="string"&&(fo=io,io=Mn,Mn=null),io&&(io=fe$2.toArray(io,fo||"hex"),this._update(io));for(var mo=[];mo.length<Fn;)this.V=this._hmac().update(this.V).digest(),mo=mo.concat(this.V);var $o=mo.slice(0,Fn);return this._update(io),this._reseed++,fe$2.encode($o,Mn)};var Hi=Gt$2.assert;function kt$2(Fn,Mn){this.ec=Fn,this.priv=null,this.pub=null,Mn.priv&&this._importPrivate(Mn.priv,Mn.privEnc),Mn.pub&&this._importPublic(Mn.pub,Mn.pubEnc)}var Li=kt$2;kt$2.fromPublic=function(Fn,Mn,io){return Mn instanceof kt$2?Mn:new kt$2(Fn,{pub:Mn,pubEnc:io})},kt$2.fromPrivate=function(Fn,Mn,io){return Mn instanceof kt$2?Mn:new kt$2(Fn,{priv:Mn,privEnc:io})},kt$2.prototype.validate=function(){var Fn=this.getPublic();return Fn.isInfinity()?{result:!1,reason:"Invalid public key"}:Fn.validate()?Fn.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},kt$2.prototype.getPublic=function(Fn,Mn){return typeof Fn=="string"&&(Mn=Fn,Fn=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),Mn?this.pub.encode(Mn,Fn):this.pub},kt$2.prototype.getPrivate=function(Fn){return Fn==="hex"?this.priv.toString(16,2):this.priv},kt$2.prototype._importPrivate=function(Fn,Mn){this.priv=new K(Fn,Mn||16),this.priv=this.priv.umod(this.ec.curve.n)},kt$2.prototype._importPublic=function(Fn,Mn){if(Fn.x||Fn.y){this.ec.curve.type==="mont"?Hi(Fn.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Hi(Fn.x&&Fn.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(Fn.x,Fn.y);return}this.pub=this.ec.curve.decodePoint(Fn,Mn)},kt$2.prototype.derive=function(Fn){return Fn.validate()||Hi(Fn.validate(),"public point not validated"),Fn.mul(this.priv).getX()},kt$2.prototype.sign=function(Fn,Mn,io){return this.ec.sign(Fn,this,Mn,io)},kt$2.prototype.verify=function(Fn,Mn){return this.ec.verify(Fn,Mn,this)},kt$2.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Wa$1=Gt$2.assert;function Qr$1(Fn,Mn){if(Fn instanceof Qr$1)return Fn;this._importDER(Fn,Mn)||(Wa$1(Fn.r&&Fn.s,"Signature without r or s"),this.r=new K(Fn.r,16),this.s=new K(Fn.s,16),Fn.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=Fn.recoveryParam)}var Jr$1=Qr$1;function Xa(){this.place=0}function zi(Fn,Mn){var io=Fn[Mn.place++];if(!(io&128))return io;var fo=io&15;if(fo===0||fo>4)return!1;for(var mo=0,$o=0,Ao=Mn.place;$o<fo;$o++,Ao++)mo<<=8,mo|=Fn[Ao],mo>>>=0;return mo<=127?!1:(Mn.place=Ao,mo)}function Kf(Fn){for(var Mn=0,io=Fn.length-1;!Fn[Mn]&&!(Fn[Mn+1]&128)&&Mn<io;)Mn++;return Mn===0?Fn:Fn.slice(Mn)}Qr$1.prototype._importDER=function(Fn,Mn){Fn=Gt$2.toArray(Fn,Mn);var io=new Xa;if(Fn[io.place++]!==48)return!1;var fo=zi(Fn,io);if(fo===!1||fo+io.place!==Fn.length||Fn[io.place++]!==2)return!1;var mo=zi(Fn,io);if(mo===!1)return!1;var $o=Fn.slice(io.place,mo+io.place);if(io.place+=mo,Fn[io.place++]!==2)return!1;var Ao=zi(Fn,io);if(Ao===!1||Fn.length!==Ao+io.place)return!1;var Lo=Fn.slice(io.place,Ao+io.place);if($o[0]===0)if($o[1]&128)$o=$o.slice(1);else return!1;if(Lo[0]===0)if(Lo[1]&128)Lo=Lo.slice(1);else return!1;return this.r=new K($o),this.s=new K(Lo),this.recoveryParam=null,!0};function ji(Fn,Mn){if(Mn<128){Fn.push(Mn);return}var io=1+(Math.log(Mn)/Math.LN2>>>3);for(Fn.push(io|128);--io;)Fn.push(Mn>>>(io<<3)&255);Fn.push(Mn)}Qr$1.prototype.toDER=function(Fn){var Mn=this.r.toArray(),io=this.s.toArray();for(Mn[0]&128&&(Mn=[0].concat(Mn)),io[0]&128&&(io=[0].concat(io)),Mn=Kf(Mn),io=Kf(io);!io[0]&&!(io[1]&128);)io=io.slice(1);var fo=[2];ji(fo,Mn.length),fo=fo.concat(Mn),fo.push(2),ji(fo,io.length);var mo=fo.concat(io),$o=[48];return ji($o,mo.length),$o=$o.concat(mo),Gt$2.encode($o,Fn)};var $a$1=function(){throw new Error("unsupported")},Hf=Gt$2.assert;function ee$2(Fn){if(!(this instanceof ee$2))return new ee$2(Fn);typeof Fn=="string"&&(Hf(Object.prototype.hasOwnProperty.call(jr$1,Fn),"Unknown curve "+Fn),Fn=jr$1[Fn]),Fn instanceof jr$1.PresetCurve&&(Fn={curve:Fn}),this.curve=Fn.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=Fn.curve.g,this.g.precompute(Fn.curve.n.bitLength()+1),this.hash=Fn.hash||Fn.curve.hash}var Za=ee$2;ee$2.prototype.keyPair=function(Fn){return new Li(this,Fn)},ee$2.prototype.keyFromPrivate=function(Fn,Mn){return Li.fromPrivate(this,Fn,Mn)},ee$2.prototype.keyFromPublic=function(Fn,Mn){return Li.fromPublic(this,Fn,Mn)},ee$2.prototype.genKeyPair=function(Fn){Fn||(Fn={});for(var Mn=new qf({hash:this.hash,pers:Fn.pers,persEnc:Fn.persEnc||"utf8",entropy:Fn.entropy||$a$1(this.hash.hmacStrength),entropyEnc:Fn.entropy&&Fn.entropyEnc||"utf8",nonce:this.n.toArray()}),io=this.n.byteLength(),fo=this.n.sub(new K(2));;){var mo=new K(Mn.generate(io));if(!(mo.cmp(fo)>0))return mo.iaddn(1),this.keyFromPrivate(mo)}},ee$2.prototype._truncateToN=function(Fn,Mn){var io=Fn.byteLength()*8-this.n.bitLength();return io>0&&(Fn=Fn.ushrn(io)),!Mn&&Fn.cmp(this.n)>=0?Fn.sub(this.n):Fn},ee$2.prototype.sign=function(Fn,Mn,io,fo){typeof io=="object"&&(fo=io,io=null),fo||(fo={}),Mn=this.keyFromPrivate(Mn,io),Fn=this._truncateToN(new K(Fn,16));for(var mo=this.n.byteLength(),$o=Mn.getPrivate().toArray("be",mo),Ao=Fn.toArray("be",mo),Lo=new qf({hash:this.hash,entropy:$o,nonce:Ao,pers:fo.pers,persEnc:fo.persEnc||"utf8"}),Wo=this.n.sub(new K(1)),jo=0;;jo++){var zo=fo.k?fo.k(jo):new K(Lo.generate(this.n.byteLength()));if(zo=this._truncateToN(zo,!0),!(zo.cmpn(1)<=0||zo.cmp(Wo)>=0)){var Vo=this.g.mul(zo);if(!Vo.isInfinity()){var Go=Vo.getX(),Jo=Go.umod(this.n);if(Jo.cmpn(0)!==0){var Qo=zo.invm(this.n).mul(Jo.mul(Mn.getPrivate()).iadd(Fn));if(Qo=Qo.umod(this.n),Qo.cmpn(0)!==0){var os=(Vo.getY().isOdd()?1:0)|(Go.cmp(Jo)!==0?2:0);return fo.canonical&&Qo.cmp(this.nh)>0&&(Qo=this.n.sub(Qo),os^=1),new Jr$1({r:Jo,s:Qo,recoveryParam:os})}}}}}},ee$2.prototype.verify=function(Fn,Mn,io,fo){Fn=this._truncateToN(new K(Fn,16)),io=this.keyFromPublic(io,fo),Mn=new Jr$1(Mn,"hex");var mo=Mn.r,$o=Mn.s;if(mo.cmpn(1)<0||mo.cmp(this.n)>=0||$o.cmpn(1)<0||$o.cmp(this.n)>=0)return!1;var Ao=$o.invm(this.n),Lo=Ao.mul(Fn).umod(this.n),Wo=Ao.mul(mo).umod(this.n),jo;return this.curve._maxwellTrick?(jo=this.g.jmulAdd(Lo,io.getPublic(),Wo),jo.isInfinity()?!1:jo.eqXToP(mo)):(jo=this.g.mulAdd(Lo,io.getPublic(),Wo),jo.isInfinity()?!1:jo.getX().umod(this.n).cmp(mo)===0)},ee$2.prototype.recoverPubKey=function(Fn,Mn,io,fo){Hf((3&io)===io,"The recovery param is more than two bits"),Mn=new Jr$1(Mn,fo);var mo=this.n,$o=new K(Fn),Ao=Mn.r,Lo=Mn.s,Wo=io&1,jo=io>>1;if(Ao.cmp(this.curve.p.umod(this.curve.n))>=0&&jo)throw new Error("Unable to find sencond key candinate");jo?Ao=this.curve.pointFromX(Ao.add(this.curve.n),Wo):Ao=this.curve.pointFromX(Ao,Wo);var zo=Mn.r.invm(mo),Vo=mo.sub($o).mul(zo).umod(mo),Go=Lo.mul(zo).umod(mo);return this.g.mulAdd(Vo,Ao,Go)},ee$2.prototype.getKeyRecoveryParam=function(Fn,Mn,io,fo){if(Mn=new Jr$1(Mn,fo),Mn.recoveryParam!==null)return Mn.recoveryParam;for(var mo=0;mo<4;mo++){var $o;try{$o=this.recoverPubKey(Fn,Mn,mo)}catch{continue}if($o.eq(io))return mo}throw new Error("Unable to find valid recovery factor")};var tu=lr$2(function(Fn,Mn){var io=Mn;io.version="6.5.4",io.utils=Gt$2,io.rand=function(){throw new Error("unsupported")},io.curve=zr$1,io.curves=jr$1,io.ec=Za,io.eddsa=null}),eu=tu.ec;const ru="signing-key/5.7.0",Qi=new z$4(ru);let Ji=null;function ve$2(){return Ji||(Ji=new eu("secp256k1")),Ji}class iu{constructor(Mn){wr$1(this,"curve","secp256k1"),wr$1(this,"privateKey",Kt$2(Mn)),Us$1(this.privateKey)!==32&&Qi.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const io=ve$2().keyFromPrivate(Ot$2(this.privateKey));wr$1(this,"publicKey","0x"+io.getPublic(!1,"hex")),wr$1(this,"compressedPublicKey","0x"+io.getPublic(!0,"hex")),wr$1(this,"_isSigningKey",!0)}_addPoint(Mn){const io=ve$2().keyFromPublic(Ot$2(this.publicKey)),fo=ve$2().keyFromPublic(Ot$2(Mn));return"0x"+io.pub.add(fo.pub).encodeCompressed("hex")}signDigest(Mn){const io=ve$2().keyFromPrivate(Ot$2(this.privateKey)),fo=Ot$2(Mn);fo.length!==32&&Qi.throwArgumentError("bad digest length","digest",Mn);const mo=io.sign(fo,{canonical:!0});return Wn({recoveryParam:mo.recoveryParam,r:oe$3("0x"+mo.r.toString(16),32),s:oe$3("0x"+mo.s.toString(16),32)})}computeSharedSecret(Mn){const io=ve$2().keyFromPrivate(Ot$2(this.privateKey)),fo=ve$2().keyFromPublic(Ot$2(Lf(Mn)));return oe$3("0x"+io.derive(fo.getPublic()).toString(16),32)}static isSigningKey(Mn){return!!(Mn&&Mn._isSigningKey)}}function nu(Fn,Mn){const io=Wn(Mn),fo={r:Ot$2(io.r),s:Ot$2(io.s)};return"0x"+ve$2().recoverPubKey(Ot$2(Fn),fo,io.recoveryParam).encode("hex",!1)}function Lf(Fn,Mn){const io=Ot$2(Fn);return io.length===32?new iu(io).publicKey:io.length===33?"0x"+ve$2().keyFromPublic(io).getPublic(!1,"hex"):io.length===65?Kt$2(io):Qi.throwArgumentError("invalid public or private key","key","[REDACTED]")}var zf;(function(Fn){Fn[Fn.legacy=0]="legacy",Fn[Fn.eip2930=1]="eip2930",Fn[Fn.eip1559=2]="eip1559"})(zf||(zf={}));function ou(Fn){const Mn=Lf(Fn);return v0(Vn(Ii(Vn(Mn,1)),12))}function su(Fn,Mn){return ou(nu(Ot$2(Fn),Mn))}const au="https://rpc.walletconnect.org/v1";async function jf(Fn,Mn,io,fo,mo,$o){switch(io.t){case"eip191":return Qf(Fn,Mn,io.s);case"eip1271":return await Jf(Fn,Mn,io.s,fo,mo,$o);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${io.t}`)}}function Qf(Fn,Mn,io){return su(df(Mn),io).toLowerCase()===Fn.toLowerCase()}async function Jf(Fn,Mn,io,fo,mo,$o){try{const Ao="0x1626ba7e",Lo="0000000000000000000000000000000000000000000000000000000000000040",Wo="0000000000000000000000000000000000000000000000000000000000000041",jo=io.substring(2),zo=df(Mn).substring(2),Vo=Ao+zo+Lo+Wo+jo,Go=await fetch(`${$o||au}/?chainId=${fo}&projectId=${mo}`,{method:"POST",body:JSON.stringify({id:uu(),jsonrpc:"2.0",method:"eth_call",params:[{to:Fn,data:Vo},"latest"]})}),{result:Jo}=await Go.json();return Jo?Jo.slice(0,Ao.length).toLowerCase()===Ao.toLowerCase():!1}catch(Ao){return console.error("isValidEip1271Signature: ",Ao),!1}}function uu(){return Date.now()+Math.floor(Math.random()*1e3)}var hu=Object.defineProperty,cu=Object.defineProperties,lu=Object.getOwnPropertyDescriptors,Gf=Object.getOwnPropertySymbols,du=Object.prototype.hasOwnProperty,pu=Object.prototype.propertyIsEnumerable,Yf=(Fn,Mn,io)=>Mn in Fn?hu(Fn,Mn,{enumerable:!0,configurable:!0,writable:!0,value:io}):Fn[Mn]=io,Gi=(Fn,Mn)=>{for(var io in Mn||(Mn={}))du.call(Mn,io)&&Yf(Fn,io,Mn[io]);if(Gf)for(var io of Gf(Mn))pu.call(Mn,io)&&Yf(Fn,io,Mn[io]);return Fn},Vf=(Fn,Mn)=>cu(Fn,lu(Mn));const vu="did:pkh:",Gr$1=Fn=>Fn==null?void 0:Fn.split(":"),Yi=Fn=>{const Mn=Fn&&Gr$1(Fn);if(Mn)return Fn.includes(vu)?Mn[3]:Mn[1]},gu=Fn=>{const Mn=Fn&&Gr$1(Fn);if(Mn)return Mn[2]+":"+Mn[3]},Vi=Fn=>{const Mn=Fn&&Gr$1(Fn);if(Mn)return Mn.pop()};async function mu(Fn){const{cacao:Mn,projectId:io}=Fn,{s:fo,p:mo}=Mn,$o=Wf(mo,mo.iss),Ao=Vi(mo.iss);return await jf(Ao,$o,fo,Yi(mo.iss),io)}const Wf=(Fn,Mn)=>{const io=`${Fn.domain} wants you to sign in with your Ethereum account:`,fo=Vi(Mn);if(!Fn.aud&&!Fn.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let mo=Fn.statement||void 0;const $o=`URI: ${Fn.aud||Fn.uri}`,Ao=`Version: ${Fn.version}`,Lo=`Chain ID: ${Yi(Mn)}`,Wo=`Nonce: ${Fn.nonce}`,jo=`Issued At: ${Fn.iat}`,zo=Fn.exp?`Expiration Time: ${Fn.exp}`:void 0,Vo=Fn.nbf?`Not Before: ${Fn.nbf}`:void 0,Go=Fn.requestId?`Request ID: ${Fn.requestId}`:void 0,Jo=Fn.resources?`Resources:${Fn.resources.map(os=>`
- ${os}`).join("")}`:void 0,Qo=Vr$1(Fn.resources);if(Qo){const os=Oe(Qo);mo=$i(mo,os)}return[io,fo,"",mo,"",$o,Ao,Lo,Wo,jo,zo,Vo,Go,Jo].filter(os=>os!=null).join(`
`)};function to(Fn){return Buffer.from(JSON.stringify(Fn)).toString("base64")}function eo(Fn){return JSON.parse(Buffer.from(Fn,"base64").toString("utf-8"))}function ge$1(Fn){if(!Fn)throw new Error("No recap provided, value is undefined");if(!Fn.att)throw new Error("No `att` property found");const Mn=Object.keys(Fn.att);if(!(Mn!=null&&Mn.length))throw new Error("No resources found in `att` property");Mn.forEach(io=>{const fo=Fn.att[io];if(Array.isArray(fo))throw new Error(`Resource must be an object: ${io}`);if(typeof fo!="object")throw new Error(`Resource must be an object: ${io}`);if(!Object.keys(fo).length)throw new Error(`Resource object is empty: ${io}`);Object.keys(fo).forEach(mo=>{const $o=fo[mo];if(!Array.isArray($o))throw new Error(`Ability limits ${mo} must be an array of objects, found: ${$o}`);if(!$o.length)throw new Error(`Value of ${mo} is empty array, must be an array with objects`);$o.forEach(Ao=>{if(typeof Ao!="object")throw new Error(`Ability limits (${mo}) must be an array of objects, found: ${Ao}`)})})})}function ro(Fn,Mn,io,fo={}){return io==null||io.sort((mo,$o)=>mo.localeCompare($o)),{att:{[Fn]:Wi$1(Mn,io,fo)}}}function Wi$1(Fn,Mn,io={}){Mn=Mn==null?void 0:Mn.sort((mo,$o)=>mo.localeCompare($o));const fo=Mn.map(mo=>({[`${Fn}/${mo}`]:[io]}));return Object.assign({},...fo)}function Yr$1(Fn){return ge$1(Fn),`urn:recap:${to(Fn).replace(/=/g,"")}`}function Oe(Fn){const Mn=eo(Fn.replace("urn:recap:",""));return ge$1(Mn),Mn}function xu(Fn,Mn,io){const fo=ro(Fn,Mn,io);return Yr$1(fo)}function Xi(Fn){return Fn&&Fn.includes("urn:recap:")}function Mu(Fn,Mn){const io=Oe(Fn),fo=Oe(Mn),mo=no(io,fo);return Yr$1(mo)}function no(Fn,Mn){ge$1(Fn),ge$1(Mn);const io=Object.keys(Fn.att).concat(Object.keys(Mn.att)).sort((mo,$o)=>mo.localeCompare($o)),fo={att:{}};return io.forEach(mo=>{var $o,Ao;Object.keys((($o=Fn.att)==null?void 0:$o[mo])||{}).concat(Object.keys(((Ao=Mn.att)==null?void 0:Ao[mo])||{})).sort((Lo,Wo)=>Lo.localeCompare(Wo)).forEach(Lo=>{var Wo,jo;fo.att[mo]=Vf(Gi({},fo.att[mo]),{[Lo]:((Wo=Fn.att[mo])==null?void 0:Wo[Lo])||((jo=Mn.att[mo])==null?void 0:jo[Lo])})})}),fo}function $i(Fn="",Mn){ge$1(Mn);const io="I further authorize the stated URI to perform the following actions on my behalf: ";if(Fn.includes(io))return Fn;const fo=[];let mo=0;Object.keys(Mn.att).forEach(Lo=>{const Wo=Object.keys(Mn.att[Lo]).map(Vo=>({ability:Vo.split("/")[0],action:Vo.split("/")[1]}));Wo.sort((Vo,Go)=>Vo.action.localeCompare(Go.action));const jo={};Wo.forEach(Vo=>{jo[Vo.ability]||(jo[Vo.ability]=[]),jo[Vo.ability].push(Vo.action)});const zo=Object.keys(jo).map(Vo=>(mo++,`(${mo}) '${Vo}': '${jo[Vo].join("', '")}' for '${Lo}'.`));fo.push(zo.join(", ").replace(".,","."))});const $o=fo.join(" "),Ao=`${io}${$o}`;return`${Fn?Fn+" ":""}${Ao}`}function Eu(Fn){var Mn;const io=Oe(Fn);ge$1(io);const fo=(Mn=io.att)==null?void 0:Mn.eip155;return fo?Object.keys(fo).map(mo=>mo.split("/")[1]):[]}function Su(Fn){const Mn=Oe(Fn);ge$1(Mn);const io=[];return Object.values(Mn.att).forEach(fo=>{Object.values(fo).forEach(mo=>{var $o;($o=mo==null?void 0:mo[0])!=null&&$o.chains&&io.push(mo[0].chains)})}),[...new Set(io.flat())]}function Vr$1(Fn){if(!Fn)return;const Mn=Fn==null?void 0:Fn[Fn.length-1];return Xi(Mn)?Mn:void 0}const Zi="base10",Lt$3="base16",tn$1="base64pad",Iu="base64url",dr$2="utf8",en$1=0,pr$2=1,Sr$1=2,Nu=0,oo=1,Ir$1=12,rn$1=32;function _u(){const Fn=x25519.generateKeyPair();return{privateKey:toString$4(Fn.secretKey,Lt$3),publicKey:toString$4(Fn.publicKey,Lt$3)}}function Bu(){const Fn=random.randomBytes(rn$1);return toString$4(Fn,Lt$3)}function Cu(Fn,Mn){const io=x25519.sharedKey(fromString$3(Fn,Lt$3),fromString$3(Mn,Lt$3),!0),fo=new HKDF_1(sha256$7.SHA256,io).expand(rn$1);return toString$4(fo,Lt$3)}function Ru(Fn){const Mn=sha256$7.hash(fromString$3(Fn,Lt$3));return toString$4(Mn,Lt$3)}function Ou(Fn){const Mn=sha256$7.hash(fromString$3(Fn,dr$2));return toString$4(Mn,Lt$3)}function nn$1(Fn){return fromString$3(`${Fn}`,Zi)}function Ze$1(Fn){return Number(toString$4(Fn,Zi))}function Pu(Fn){const Mn=nn$1(typeof Fn.type<"u"?Fn.type:en$1);if(Ze$1(Mn)===pr$2&&typeof Fn.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const io=typeof Fn.senderPublicKey<"u"?fromString$3(Fn.senderPublicKey,Lt$3):void 0,fo=typeof Fn.iv<"u"?fromString$3(Fn.iv,Lt$3):random.randomBytes(Ir$1),mo=new chacha20poly1305.ChaCha20Poly1305(fromString$3(Fn.symKey,Lt$3)).seal(fo,fromString$3(Fn.message,dr$2));return fn$1({type:Mn,sealed:mo,iv:fo,senderPublicKey:io,encoding:Fn.encoding})}function Tu(Fn,Mn){const io=nn$1(Sr$1),fo=random.randomBytes(Ir$1),mo=fromString$3(Fn,dr$2);return fn$1({type:io,sealed:mo,iv:fo,encoding:Mn})}function Du(Fn){const Mn=new chacha20poly1305.ChaCha20Poly1305(fromString$3(Fn.symKey,Lt$3)),{sealed:io,iv:fo}=Wr$1({encoded:Fn.encoded,encoding:Fn==null?void 0:Fn.encoding}),mo=Mn.open(fo,io);if(mo===null)throw new Error("Failed to decrypt");return toString$4(mo,dr$2)}function Fu(Fn,Mn){const{sealed:io}=Wr$1({encoded:Fn,encoding:Mn});return toString$4(io,dr$2)}function fn$1(Fn){const{encoding:Mn=tn$1}=Fn;if(Ze$1(Fn.type)===Sr$1)return toString$4(concat$3([Fn.type,Fn.sealed]),Mn);if(Ze$1(Fn.type)===pr$2){if(typeof Fn.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return toString$4(concat$3([Fn.type,Fn.senderPublicKey,Fn.iv,Fn.sealed]),Mn)}return toString$4(concat$3([Fn.type,Fn.iv,Fn.sealed]),Mn)}function Wr$1(Fn){const{encoded:Mn,encoding:io=tn$1}=Fn,fo=fromString$3(Mn,io),mo=fo.slice(Nu,oo),$o=oo;if(Ze$1(mo)===pr$2){const jo=$o+rn$1,zo=jo+Ir$1,Vo=fo.slice($o,jo),Go=fo.slice(jo,zo),Jo=fo.slice(zo);return{type:mo,sealed:Jo,iv:Go,senderPublicKey:Vo}}if(Ze$1(mo)===Sr$1){const jo=fo.slice($o),zo=random.randomBytes(Ir$1);return{type:mo,sealed:jo,iv:zo}}const Ao=$o+Ir$1,Lo=fo.slice($o,Ao),Wo=fo.slice(Ao);return{type:mo,sealed:Wo,iv:Lo}}function Uu(Fn,Mn){const io=Wr$1({encoded:Fn,encoding:Mn==null?void 0:Mn.encoding});return so({type:Ze$1(io.type),senderPublicKey:typeof io.senderPublicKey<"u"?toString$4(io.senderPublicKey,Lt$3):void 0,receiverPublicKey:Mn==null?void 0:Mn.receiverPublicKey})}function so(Fn){const Mn=(Fn==null?void 0:Fn.type)||en$1;if(Mn===pr$2){if(typeof(Fn==null?void 0:Fn.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(Fn==null?void 0:Fn.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:Mn,senderPublicKey:Fn==null?void 0:Fn.senderPublicKey,receiverPublicKey:Fn==null?void 0:Fn.receiverPublicKey}}function ku(Fn){return Fn.type===pr$2&&typeof Fn.senderPublicKey=="string"&&typeof Fn.receiverPublicKey=="string"}function qu(Fn){return Fn.type===Sr$1}function ao(Fn){return new elliptic.ec("p256").keyFromPublic({x:Buffer.from(Fn.x,"base64").toString("hex"),y:Buffer.from(Fn.y,"base64").toString("hex")},"hex")}function Ku(Fn){let Mn=Fn.replace(/-/g,"+").replace(/_/g,"/");const io=Mn.length%4;return io>0&&(Mn+="=".repeat(4-io)),Mn}function Hu(Fn){return Buffer.from(Ku(Fn),"base64")}function Lu(Fn,Mn){const[io,fo,mo]=Fn.split("."),$o=Hu(mo);if($o.length!==64)throw new Error("Invalid signature length");const Ao=$o.slice(0,32).toString("hex"),Lo=$o.slice(32,64).toString("hex"),Wo=`${io}.${fo}`,jo=new sha256$7.SHA256().update(Buffer.from(Wo)).digest(),zo=ao(Mn),Vo=Buffer.from(jo).toString("hex");if(!zo.verify(Vo,{r:Ao,s:Lo}))throw new Error("Invalid signature");return decodeJWT(Fn).payload}const uo="irn";function zu(Fn){return(Fn==null?void 0:Fn.relay)||{protocol:uo}}function ju(Fn){const Mn=C$2[Fn];if(typeof Mn>"u")throw new Error(`Relay Protocol not supported: ${Fn}`);return Mn}var Qu=Object.defineProperty,Ju=Object.defineProperties,Gu=Object.getOwnPropertyDescriptors,ho=Object.getOwnPropertySymbols,Yu=Object.prototype.hasOwnProperty,Vu=Object.prototype.propertyIsEnumerable,co=(Fn,Mn,io)=>Mn in Fn?Qu(Fn,Mn,{enumerable:!0,configurable:!0,writable:!0,value:io}):Fn[Mn]=io,lo=(Fn,Mn)=>{for(var io in Mn||(Mn={}))Yu.call(Mn,io)&&co(Fn,io,Mn[io]);if(ho)for(var io of ho(Mn))Vu.call(Mn,io)&&co(Fn,io,Mn[io]);return Fn},Wu=(Fn,Mn)=>Ju(Fn,Gu(Mn));function po(Fn,Mn="-"){const io={},fo="relay"+Mn;return Object.keys(Fn).forEach(mo=>{if(mo.startsWith(fo)){const $o=mo.replace(fo,""),Ao=Fn[mo];io[$o]=Ao}}),io}function Xu(Fn){if(!Fn.includes("wc:")){const Wo=xi(Fn);Wo!=null&&Wo.includes("wc:")&&(Fn=Wo)}Fn=Fn.includes("wc://")?Fn.replace("wc://",""):Fn,Fn=Fn.includes("wc:")?Fn.replace("wc:",""):Fn;const Mn=Fn.indexOf(":"),io=Fn.indexOf("?")!==-1?Fn.indexOf("?"):void 0,fo=Fn.substring(0,Mn),mo=Fn.substring(Mn+1,io).split("@"),$o=typeof io<"u"?Fn.substring(io):"",Ao=queryString.parse($o),Lo=typeof Ao.methods=="string"?Ao.methods.split(","):void 0;return{protocol:fo,topic:vo(mo[0]),version:parseInt(mo[1],10),symKey:Ao.symKey,relay:po(Ao),methods:Lo,expiryTimestamp:Ao.expiryTimestamp?parseInt(Ao.expiryTimestamp,10):void 0}}function vo(Fn){return Fn.startsWith("//")?Fn.substring(2):Fn}function go(Fn,Mn="-"){const io="relay",fo={};return Object.keys(Fn).forEach(mo=>{const $o=io+Mn+mo;Fn[mo]&&(fo[$o]=Fn[mo])}),fo}function $u(Fn){return`${Fn.protocol}:${Fn.topic}@${Fn.version}?`+queryString.stringify(lo(Wu(lo({symKey:Fn.symKey},go(Fn.relay)),{expiryTimestamp:Fn.expiryTimestamp}),Fn.methods?{methods:Fn.methods.join(",")}:{}))}function Zu(Fn,Mn,io){return`${Fn}?wc_ev=${io}&topic=${Mn}`}function tr$1(Fn){const Mn=[];return Fn.forEach(io=>{const[fo,mo]=io.split(":");Mn.push(`${fo}:${mo}`)}),Mn}function bo(Fn){const Mn=[];return Object.values(Fn).forEach(io=>{Mn.push(...tr$1(io.accounts))}),Mn}function yo(Fn,Mn){const io=[];return Object.values(Fn).forEach(fo=>{tr$1(fo.accounts).includes(Mn)&&io.push(...fo.methods)}),io}function wo(Fn,Mn){const io=[];return Object.values(Fn).forEach(fo=>{tr$1(fo.accounts).includes(Mn)&&io.push(...fo.events)}),io}function on$1(Fn){return Fn.includes(":")}function xo(Fn){return on$1(Fn)?Fn.split(":")[0]:Fn}function Mo(Fn){const Mn={};return Fn==null||Fn.forEach(io=>{const[fo,mo]=io.split(":");Mn[fo]||(Mn[fo]={accounts:[],chains:[],events:[]}),Mn[fo].accounts.push(io),Mn[fo].chains.push(`${fo}:${mo}`)}),Mn}function uh(Fn,Mn){Mn=Mn.map(fo=>fo.replace("did:pkh:",""));const io=Mo(Mn);for(const[fo,mo]of Object.entries(io))mo.methods?mo.methods=me$1(mo.methods,Fn):mo.methods=Fn,mo.events=["chainChanged","accountsChanged"];return io}const Eo={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},So={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function xe$2(Fn,Mn){const{message:io,code:fo}=So[Fn];return{message:Mn?`${io} ${Mn}`:io,code:fo}}function er$1(Fn,Mn){const{message:io,code:fo}=Eo[Fn];return{message:Mn?`${io} ${Mn}`:io,code:fo}}function Nr$1(Fn,Mn){return!!Array.isArray(Fn)}function Xr$1(Fn){return Object.getPrototypeOf(Fn)===Object.prototype&&Object.keys(Fn).length}function Pe(Fn){return typeof Fn>"u"}function Yt$1(Fn,Mn){return Mn&&Pe(Fn)?!0:typeof Fn=="string"&&!!Fn.trim().length}function $r$1(Fn,Mn){return typeof Fn=="number"&&!isNaN(Fn)}function hh(Fn,Mn){const{requiredNamespaces:io}=Mn,fo=Object.keys(Fn.namespaces),mo=Object.keys(io);let $o=!0;return _e$2(mo,fo)?(fo.forEach(Ao=>{const{accounts:Lo,methods:Wo,events:jo}=Fn.namespaces[Ao],zo=tr$1(Lo),Vo=io[Ao];(!_e$2(Or$2(Ao,Vo),zo)||!_e$2(Vo.methods,Wo)||!_e$2(Vo.events,jo))&&($o=!1)}),$o):!1}function _r$1(Fn){return Yt$1(Fn,!1)&&Fn.includes(":")?Fn.split(":").length===2:!1}function Io(Fn){if(Yt$1(Fn,!1)&&Fn.includes(":")){const Mn=Fn.split(":");if(Mn.length===3){const io=Mn[0]+":"+Mn[1];return!!Mn[2]&&_r$1(io)}}return!1}function ch(Fn){function Mn(io){try{return typeof new URL(io)<"u"}catch{return!1}}try{if(Yt$1(Fn,!1)){if(Mn(Fn))return!0;const io=xi(Fn);return Mn(io)}}catch{}return!1}function lh(Fn){var Mn;return(Mn=Fn==null?void 0:Fn.proposer)==null?void 0:Mn.publicKey}function dh(Fn){return Fn==null?void 0:Fn.topic}function ph(Fn,Mn){let io=null;return Yt$1(Fn==null?void 0:Fn.publicKey,!1)||(io=xe$2("MISSING_OR_INVALID",`${Mn} controller public key should be a string`)),io}function an$1(Fn){let Mn=!0;return Nr$1(Fn)?Fn.length&&(Mn=Fn.every(io=>Yt$1(io,!1))):Mn=!1,Mn}function No(Fn,Mn,io){let fo=null;return Nr$1(Mn)&&Mn.length?Mn.forEach(mo=>{fo||_r$1(mo)||(fo=er$1("UNSUPPORTED_CHAINS",`${io}, chain ${mo} should be a string and conform to "namespace:chainId" format`))}):_r$1(Fn)||(fo=er$1("UNSUPPORTED_CHAINS",`${io}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),fo}function _o(Fn,Mn,io){let fo=null;return Object.entries(Fn).forEach(([mo,$o])=>{if(fo)return;const Ao=No(mo,Or$2(mo,$o),`${Mn} ${io}`);Ao&&(fo=Ao)}),fo}function Bo(Fn,Mn){let io=null;return Nr$1(Fn)?Fn.forEach(fo=>{io||Io(fo)||(io=er$1("UNSUPPORTED_ACCOUNTS",`${Mn}, account ${fo} should be a string and conform to "namespace:chainId:address" format`))}):io=er$1("UNSUPPORTED_ACCOUNTS",`${Mn}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),io}function Co(Fn,Mn){let io=null;return Object.values(Fn).forEach(fo=>{if(io)return;const mo=Bo(fo==null?void 0:fo.accounts,`${Mn} namespace`);mo&&(io=mo)}),io}function Ro(Fn,Mn){let io=null;return an$1(Fn==null?void 0:Fn.methods)?an$1(Fn==null?void 0:Fn.events)||(io=er$1("UNSUPPORTED_EVENTS",`${Mn}, events should be an array of strings or empty array for no events`)):io=er$1("UNSUPPORTED_METHODS",`${Mn}, methods should be an array of strings or empty array for no methods`),io}function un$1(Fn,Mn){let io=null;return Object.values(Fn).forEach(fo=>{if(io)return;const mo=Ro(fo,`${Mn}, namespace`);mo&&(io=mo)}),io}function vh(Fn,Mn,io){let fo=null;if(Fn&&Xr$1(Fn)){const mo=un$1(Fn,Mn);mo&&(fo=mo);const $o=_o(Fn,Mn,io);$o&&(fo=$o)}else fo=xe$2("MISSING_OR_INVALID",`${Mn}, ${io} should be an object with data`);return fo}function Oo(Fn,Mn){let io=null;if(Fn&&Xr$1(Fn)){const fo=un$1(Fn,Mn);fo&&(io=fo);const mo=Co(Fn,Mn);mo&&(io=mo)}else io=xe$2("MISSING_OR_INVALID",`${Mn}, namespaces should be an object with data`);return io}function Po(Fn){return Yt$1(Fn.protocol,!0)}function gh(Fn,Mn){let io=!1;return Fn?Fn&&Nr$1(Fn)&&Fn.length&&Fn.forEach(fo=>{io=Po(fo)}):io=!0,io}function mh(Fn){return typeof Fn=="number"}function Ah(Fn){return typeof Fn<"u"&&typeof Fn!==null}function bh(Fn){return!(!Fn||typeof Fn!="object"||!Fn.code||!$r$1(Fn.code)||!Fn.message||!Yt$1(Fn.message,!1))}function yh(Fn){return!(Pe(Fn)||!Yt$1(Fn.method,!1))}function wh(Fn){return!(Pe(Fn)||Pe(Fn.result)&&Pe(Fn.error)||!$r$1(Fn.id)||!Yt$1(Fn.jsonrpc,!1))}function xh(Fn){return!(Pe(Fn)||!Yt$1(Fn.name,!1))}function Mh(Fn,Mn){return!(!_r$1(Mn)||!bo(Fn).includes(Mn))}function Eh(Fn,Mn,io){return Yt$1(io,!1)?yo(Fn,Mn).includes(io):!1}function Sh(Fn,Mn,io){return Yt$1(io,!1)?wo(Fn,Mn).includes(io):!1}function To(Fn,Mn,io){let fo=null;const mo=Ih(Fn),$o=Nh(Mn),Ao=Object.keys(mo),Lo=Object.keys($o),Wo=Do(Object.keys(Fn)),jo=Do(Object.keys(Mn)),zo=Wo.filter(Vo=>!jo.includes(Vo));return zo.length&&(fo=xe$2("NON_CONFORMING_NAMESPACES",`${io} namespaces keys don't satisfy requiredNamespaces.
      Required: ${zo.toString()}
      Received: ${Object.keys(Mn).toString()}`)),_e$2(Ao,Lo)||(fo=xe$2("NON_CONFORMING_NAMESPACES",`${io} namespaces chains don't satisfy required namespaces.
      Required: ${Ao.toString()}
      Approved: ${Lo.toString()}`)),Object.keys(Mn).forEach(Vo=>{if(!Vo.includes(":")||fo)return;const Go=tr$1(Mn[Vo].accounts);Go.includes(Vo)||(fo=xe$2("NON_CONFORMING_NAMESPACES",`${io} namespaces accounts don't satisfy namespace accounts for ${Vo}
        Required: ${Vo}
        Approved: ${Go.toString()}`))}),Ao.forEach(Vo=>{fo||(_e$2(mo[Vo].methods,$o[Vo].methods)?_e$2(mo[Vo].events,$o[Vo].events)||(fo=xe$2("NON_CONFORMING_NAMESPACES",`${io} namespaces events don't satisfy namespace events for ${Vo}`)):fo=xe$2("NON_CONFORMING_NAMESPACES",`${io} namespaces methods don't satisfy namespace methods for ${Vo}`))}),fo}function Ih(Fn){const Mn={};return Object.keys(Fn).forEach(io=>{var fo;io.includes(":")?Mn[io]=Fn[io]:(fo=Fn[io].chains)==null||fo.forEach(mo=>{Mn[mo]={methods:Fn[io].methods,events:Fn[io].events}})}),Mn}function Do(Fn){return[...new Set(Fn.map(Mn=>Mn.includes(":")?Mn.split(":")[0]:Mn))]}function Nh(Fn){const Mn={};return Object.keys(Fn).forEach(io=>{if(io.includes(":"))Mn[io]=Fn[io];else{const fo=tr$1(Fn[io].accounts);fo==null||fo.forEach(mo=>{Mn[mo]={accounts:Fn[io].accounts.filter($o=>$o.includes(`${mo}:`)),methods:Fn[io].methods,events:Fn[io].events}})}}),Mn}function _h(Fn,Mn){return $r$1(Fn)&&Fn<=Mn.max&&Fn>=Mn.min}function Bh(){const Fn=We();return new Promise(Mn=>{switch(Fn){case qt$2.browser:Mn(Fo());break;case qt$2.reactNative:Mn(Uo());break;case qt$2.node:Mn(ko());break;default:Mn(!0)}})}function Fo(){return gr$1()&&(navigator==null?void 0:navigator.onLine)}async function Uo(){if(rr$1()&&typeof global<"u"&&global!=null&&global.NetInfo){const Fn=await(global==null?void 0:global.NetInfo.fetch());return Fn==null?void 0:Fn.isConnected}return!0}function ko(){return!0}function Ch(Fn){switch(We()){case qt$2.browser:qo(Fn);break;case qt$2.reactNative:Ko(Fn);break}}function qo(Fn){!rr$1()&&gr$1()&&(window.addEventListener("online",()=>Fn(!0)),window.addEventListener("offline",()=>Fn(!1)))}function Ko(Fn){rr$1()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(Mn=>Fn(Mn==null?void 0:Mn.isConnected)))}const hn$1={};class Rh{static get(Mn){return hn$1[Mn]}static set(Mn,io){hn$1[Mn]=io}static delete(Mn){delete hn$1[Mn]}}const PARSE_ERROR="PARSE_ERROR",INVALID_REQUEST="INVALID_REQUEST",METHOD_NOT_FOUND="METHOD_NOT_FOUND",INVALID_PARAMS="INVALID_PARAMS",INTERNAL_ERROR="INTERNAL_ERROR",SERVER_ERROR="SERVER_ERROR",RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],STANDARD_ERROR_MAP={[PARSE_ERROR]:{code:-32700,message:"Parse error"},[INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[SERVER_ERROR]:{code:-32e3,message:"Server error"}},DEFAULT_ERROR=SERVER_ERROR;function isReservedErrorCode(Fn){return RESERVED_ERROR_CODES.includes(Fn)}function getError(Fn){return Object.keys(STANDARD_ERROR_MAP).includes(Fn)?STANDARD_ERROR_MAP[Fn]:STANDARD_ERROR_MAP[DEFAULT_ERROR]}function getErrorByCode(Fn){const Mn=Object.values(STANDARD_ERROR_MAP).find(io=>io.code===Fn);return Mn||STANDARD_ERROR_MAP[DEFAULT_ERROR]}function parseConnectionError(Fn,Mn,io){return Fn.message.includes("getaddrinfo ENOTFOUND")||Fn.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${io} RPC url at ${Mn}`):Fn}var cjs={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(Fn,Mn){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(io,fo){io.__proto__=fo}||function(io,fo){for(var mo in fo)fo.hasOwnProperty(mo)&&(io[mo]=fo[mo])},extendStatics(Fn,Mn)};function __extends(Fn,Mn){extendStatics(Fn,Mn);function io(){this.constructor=Fn}Fn.prototype=Mn===null?Object.create(Mn):(io.prototype=Mn.prototype,new io)}var __assign=function(){return __assign=Object.assign||function(Mn){for(var io,fo=1,mo=arguments.length;fo<mo;fo++){io=arguments[fo];for(var $o in io)Object.prototype.hasOwnProperty.call(io,$o)&&(Mn[$o]=io[$o])}return Mn},__assign.apply(this,arguments)};function __rest(Fn,Mn){var io={};for(var fo in Fn)Object.prototype.hasOwnProperty.call(Fn,fo)&&Mn.indexOf(fo)<0&&(io[fo]=Fn[fo]);if(Fn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var mo=0,fo=Object.getOwnPropertySymbols(Fn);mo<fo.length;mo++)Mn.indexOf(fo[mo])<0&&Object.prototype.propertyIsEnumerable.call(Fn,fo[mo])&&(io[fo[mo]]=Fn[fo[mo]]);return io}function __decorate$2X(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o}function __param(Fn,Mn){return function(io,fo){Mn(io,fo,Fn)}}function __metadata(Fn,Mn){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Fn,Mn)}function __awaiter(Fn,Mn,io,fo){function mo($o){return $o instanceof io?$o:new io(function(Ao){Ao($o)})}return new(io||(io=Promise))(function($o,Ao){function Lo(zo){try{jo(fo.next(zo))}catch(Vo){Ao(Vo)}}function Wo(zo){try{jo(fo.throw(zo))}catch(Vo){Ao(Vo)}}function jo(zo){zo.done?$o(zo.value):mo(zo.value).then(Lo,Wo)}jo((fo=fo.apply(Fn,Mn||[])).next())})}function __generator(Fn,Mn){var io={label:0,sent:function(){if($o[0]&1)throw $o[1];return $o[1]},trys:[],ops:[]},fo,mo,$o,Ao;return Ao={next:Lo(0),throw:Lo(1),return:Lo(2)},typeof Symbol=="function"&&(Ao[Symbol.iterator]=function(){return this}),Ao;function Lo(jo){return function(zo){return Wo([jo,zo])}}function Wo(jo){if(fo)throw new TypeError("Generator is already executing.");for(;io;)try{if(fo=1,mo&&($o=jo[0]&2?mo.return:jo[0]?mo.throw||(($o=mo.return)&&$o.call(mo),0):mo.next)&&!($o=$o.call(mo,jo[1])).done)return $o;switch(mo=0,$o&&(jo=[jo[0]&2,$o.value]),jo[0]){case 0:case 1:$o=jo;break;case 4:return io.label++,{value:jo[1],done:!1};case 5:io.label++,mo=jo[1],jo=[0];continue;case 7:jo=io.ops.pop(),io.trys.pop();continue;default:if($o=io.trys,!($o=$o.length>0&&$o[$o.length-1])&&(jo[0]===6||jo[0]===2)){io=0;continue}if(jo[0]===3&&(!$o||jo[1]>$o[0]&&jo[1]<$o[3])){io.label=jo[1];break}if(jo[0]===6&&io.label<$o[1]){io.label=$o[1],$o=jo;break}if($o&&io.label<$o[2]){io.label=$o[2],io.ops.push(jo);break}$o[2]&&io.ops.pop(),io.trys.pop();continue}jo=Mn.call(Fn,io)}catch(zo){jo=[6,zo],mo=0}finally{fo=$o=0}if(jo[0]&5)throw jo[1];return{value:jo[0]?jo[1]:void 0,done:!0}}}function __createBinding(Fn,Mn,io,fo){fo===void 0&&(fo=io),Fn[fo]=Mn[io]}function __exportStar(Fn,Mn){for(var io in Fn)io!=="default"&&!Mn.hasOwnProperty(io)&&(Mn[io]=Fn[io])}function __values(Fn){var Mn=typeof Symbol=="function"&&Symbol.iterator,io=Mn&&Fn[Mn],fo=0;if(io)return io.call(Fn);if(Fn&&typeof Fn.length=="number")return{next:function(){return Fn&&fo>=Fn.length&&(Fn=void 0),{value:Fn&&Fn[fo++],done:!Fn}}};throw new TypeError(Mn?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(Fn,Mn){var io=typeof Symbol=="function"&&Fn[Symbol.iterator];if(!io)return Fn;var fo=io.call(Fn),mo,$o=[],Ao;try{for(;(Mn===void 0||Mn-- >0)&&!(mo=fo.next()).done;)$o.push(mo.value)}catch(Lo){Ao={error:Lo}}finally{try{mo&&!mo.done&&(io=fo.return)&&io.call(fo)}finally{if(Ao)throw Ao.error}}return $o}function __spread(){for(var Fn=[],Mn=0;Mn<arguments.length;Mn++)Fn=Fn.concat(__read(arguments[Mn]));return Fn}function __spreadArrays(){for(var Fn=0,Mn=0,io=arguments.length;Mn<io;Mn++)Fn+=arguments[Mn].length;for(var fo=Array(Fn),mo=0,Mn=0;Mn<io;Mn++)for(var $o=arguments[Mn],Ao=0,Lo=$o.length;Ao<Lo;Ao++,mo++)fo[mo]=$o[Ao];return fo}function __await(Fn){return this instanceof __await?(this.v=Fn,this):new __await(Fn)}function __asyncGenerator(Fn,Mn,io){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fo=io.apply(Fn,Mn||[]),mo,$o=[];return mo={},Ao("next"),Ao("throw"),Ao("return"),mo[Symbol.asyncIterator]=function(){return this},mo;function Ao(Go){fo[Go]&&(mo[Go]=function(Jo){return new Promise(function(Qo,os){$o.push([Go,Jo,Qo,os])>1||Lo(Go,Jo)})})}function Lo(Go,Jo){try{Wo(fo[Go](Jo))}catch(Qo){Vo($o[0][3],Qo)}}function Wo(Go){Go.value instanceof __await?Promise.resolve(Go.value.v).then(jo,zo):Vo($o[0][2],Go)}function jo(Go){Lo("next",Go)}function zo(Go){Lo("throw",Go)}function Vo(Go,Jo){Go(Jo),$o.shift(),$o.length&&Lo($o[0][0],$o[0][1])}}function __asyncDelegator(Fn){var Mn,io;return Mn={},fo("next"),fo("throw",function(mo){throw mo}),fo("return"),Mn[Symbol.iterator]=function(){return this},Mn;function fo(mo,$o){Mn[mo]=Fn[mo]?function(Ao){return(io=!io)?{value:__await(Fn[mo](Ao)),done:mo==="return"}:$o?$o(Ao):Ao}:$o}}function __asyncValues(Fn){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Mn=Fn[Symbol.asyncIterator],io;return Mn?Mn.call(Fn):(Fn=typeof __values=="function"?__values(Fn):Fn[Symbol.iterator](),io={},fo("next"),fo("throw"),fo("return"),io[Symbol.asyncIterator]=function(){return this},io);function fo($o){io[$o]=Fn[$o]&&function(Ao){return new Promise(function(Lo,Wo){Ao=Fn[$o](Ao),mo(Lo,Wo,Ao.done,Ao.value)})}}function mo($o,Ao,Lo,Wo){Promise.resolve(Wo).then(function(jo){$o({value:jo,done:Lo})},Ao)}}function __makeTemplateObject(Fn,Mn){return Object.defineProperty?Object.defineProperty(Fn,"raw",{value:Mn}):Fn.raw=Mn,Fn}function __importStar(Fn){if(Fn&&Fn.__esModule)return Fn;var Mn={};if(Fn!=null)for(var io in Fn)Object.hasOwnProperty.call(Fn,io)&&(Mn[io]=Fn[io]);return Mn.default=Fn,Mn}function __importDefault(Fn){return Fn&&Fn.__esModule?Fn:{default:Fn}}function __classPrivateFieldGet$1(Fn,Mn){if(!Mn.has(Fn))throw new TypeError("attempted to get private field on non-instance");return Mn.get(Fn)}function __classPrivateFieldSet(Fn,Mn,io){if(!Mn.has(Fn))throw new TypeError("attempted to set private field on non-instance");return Mn.set(Fn,io),io}const tslib_es6=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return __assign},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter,__classPrivateFieldGet:__classPrivateFieldGet$1,__classPrivateFieldSet,__createBinding,__decorate:__decorate$2X,__exportStar,__extends,__generator,__importDefault,__importStar,__makeTemplateObject,__metadata,__param,__read,__rest,__spread,__spreadArrays,__values},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(tslib_es6);var crypto$3={},hasRequiredCrypto;function requireCrypto(){if(hasRequiredCrypto)return crypto$3;hasRequiredCrypto=1,Object.defineProperty(crypto$3,"__esModule",{value:!0}),crypto$3.isBrowserCryptoAvailable=crypto$3.getSubtleCrypto=crypto$3.getBrowerCrypto=void 0;function Fn(){return(commonjsGlobal==null?void 0:commonjsGlobal.crypto)||(commonjsGlobal==null?void 0:commonjsGlobal.msCrypto)||{}}crypto$3.getBrowerCrypto=Fn;function Mn(){const fo=Fn();return fo.subtle||fo.webkitSubtle}crypto$3.getSubtleCrypto=Mn;function io(){return!!Fn()&&!!Mn()}return crypto$3.isBrowserCryptoAvailable=io,crypto$3}var env={},hasRequiredEnv;function requireEnv(){if(hasRequiredEnv)return env;hasRequiredEnv=1,Object.defineProperty(env,"__esModule",{value:!0}),env.isBrowser=env.isNode=env.isReactNative=void 0;function Fn(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}env.isReactNative=Fn;function Mn(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}env.isNode=Mn;function io(){return!Fn()&&!Mn()}return env.isBrowser=io,env}(function(Fn){Object.defineProperty(Fn,"__esModule",{value:!0});const Mn=require$$0;Mn.__exportStar(requireCrypto(),Fn),Mn.__exportStar(requireEnv(),Fn)})(cjs);function payloadId(Fn=3){const Mn=Date.now()*Math.pow(10,Fn),io=Math.floor(Math.random()*Math.pow(10,Fn));return Mn+io}function getBigIntRpcId(Fn=6){return BigInt(payloadId(Fn))}function formatJsonRpcRequest(Fn,Mn,io){return{id:io||payloadId(),jsonrpc:"2.0",method:Fn,params:Mn}}function formatJsonRpcResult(Fn,Mn){return{id:Fn,jsonrpc:"2.0",result:Mn}}function formatJsonRpcError(Fn,Mn,io){return{id:Fn,jsonrpc:"2.0",error:formatErrorMessage(Mn)}}function formatErrorMessage(Fn,Mn){return typeof Fn>"u"?getError(INTERNAL_ERROR):(typeof Fn=="string"&&(Fn=Object.assign(Object.assign({},getError(SERVER_ERROR)),{message:Fn})),isReservedErrorCode(Fn.code)&&(Fn=getErrorByCode(Fn.code)),Fn)}let e$e=class{},n$g=class extends e$e{constructor(){super()}},r$i=class extends n$g{constructor(Mn){super()}};const HTTP_REGEX="^https?:",WS_REGEX="^wss?:";function getUrlProtocol(Fn){const Mn=Fn.match(new RegExp(/^\w+:/,"gi"));if(!(!Mn||!Mn.length))return Mn[0]}function matchRegexProtocol(Fn,Mn){const io=getUrlProtocol(Fn);return typeof io>"u"?!1:new RegExp(Mn).test(io)}function isHttpUrl(Fn){return matchRegexProtocol(Fn,HTTP_REGEX)}function isWsUrl(Fn){return matchRegexProtocol(Fn,WS_REGEX)}function isLocalhostUrl(Fn){return new RegExp("wss?://localhost(:d{2,5})?").test(Fn)}function isJsonRpcPayload(Fn){return typeof Fn=="object"&&"id"in Fn&&"jsonrpc"in Fn&&Fn.jsonrpc==="2.0"}function isJsonRpcRequest(Fn){return isJsonRpcPayload(Fn)&&"method"in Fn}function isJsonRpcResponse(Fn){return isJsonRpcPayload(Fn)&&(isJsonRpcResult(Fn)||isJsonRpcError(Fn))}function isJsonRpcResult(Fn){return"result"in Fn}function isJsonRpcError(Fn){return"error"in Fn}let o$g=class extends r$i{constructor(Mn){super(Mn),this.events=new eventsExports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(Mn),this.connection.connected&&this.registerEventListeners()}async connect(Mn=this.connection){await this.open(Mn)}async disconnect(){await this.close()}on(Mn,io){this.events.on(Mn,io)}once(Mn,io){this.events.once(Mn,io)}off(Mn,io){this.events.off(Mn,io)}removeListener(Mn,io){this.events.removeListener(Mn,io)}async request(Mn,io){return this.requestStrict(formatJsonRpcRequest(Mn.method,Mn.params||[],Mn.id||getBigIntRpcId().toString()),io)}async requestStrict(Mn,io){return new Promise(async(fo,mo)=>{if(!this.connection.connected)try{await this.open()}catch($o){mo($o)}this.events.on(`${Mn.id}`,$o=>{isJsonRpcError($o)?mo($o.error):fo($o.result)});try{await this.connection.send(Mn,io)}catch($o){mo($o)}})}setConnection(Mn=this.connection){return Mn}onPayload(Mn){this.events.emit("payload",Mn),isJsonRpcResponse(Mn)?this.events.emit(`${Mn.id}`,Mn):this.events.emit("message",{type:Mn.method,data:Mn.params})}onClose(Mn){Mn&&Mn.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${Mn.code} ${Mn.reason?`(${Mn.reason})`:""}`)),this.events.emit("disconnect")}async open(Mn=this.connection){this.connection===Mn&&this.connection.connected||(this.connection.connected&&this.close(),typeof Mn=="string"&&(await this.connection.open(Mn),Mn=this.connection),this.connection=this.setConnection(Mn),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",Mn=>this.onPayload(Mn)),this.connection.on("close",Mn=>this.onClose(Mn)),this.connection.on("error",Mn=>this.events.emit("error",Mn)),this.connection.on("register_error",Mn=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const w$4=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),b$4=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",a$5=Fn=>Fn.split("?")[0],h$c=10,S$5=w$4();let f$a=class{constructor(Mn){if(this.url=Mn,this.events=new eventsExports.EventEmitter,this.registering=!1,!isWsUrl(Mn))throw new Error(`Provided URL is not compatible with WebSocket connection: ${Mn}`);this.url=Mn}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(Mn,io){this.events.on(Mn,io)}once(Mn,io){this.events.once(Mn,io)}off(Mn,io){this.events.off(Mn,io)}removeListener(Mn,io){this.events.removeListener(Mn,io)}async open(Mn=this.url){await this.register(Mn)}async close(){return new Promise((Mn,io)=>{if(typeof this.socket>"u"){io(new Error("Connection already closed"));return}this.socket.onclose=fo=>{this.onClose(fo),Mn()},this.socket.close()})}async send(Mn){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(safeJsonStringify(Mn))}catch(io){this.onError(Mn.id,io)}}register(Mn=this.url){if(!isWsUrl(Mn))throw new Error(`Provided URL is not compatible with WebSocket connection: ${Mn}`);if(this.registering){const io=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=io||this.events.listenerCount("open")>=io)&&this.events.setMaxListeners(io+1),new Promise((fo,mo)=>{this.events.once("register_error",$o=>{this.resetMaxListeners(),mo($o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return mo(new Error("WebSocket connection is missing or invalid"));fo(this.socket)})})}return this.url=Mn,this.registering=!0,new Promise((io,fo)=>{const mo=new URLSearchParams(Mn).get("origin"),$o=cjs.isReactNative()?{headers:{origin:mo}}:{rejectUnauthorized:!isLocalhostUrl(Mn)},Ao=new S$5(Mn,[],$o);b$4()?Ao.onerror=Lo=>{const Wo=Lo;fo(this.emitError(Wo.error))}:Ao.on("error",Lo=>{fo(this.emitError(Lo))}),Ao.onopen=()=>{this.onOpen(Ao),io(Ao)}})}onOpen(Mn){Mn.onmessage=io=>this.onPayload(io),Mn.onclose=io=>this.onClose(io),this.socket=Mn,this.registering=!1,this.events.emit("open")}onClose(Mn){this.socket=void 0,this.registering=!1,this.events.emit("close",Mn)}onPayload(Mn){if(typeof Mn.data>"u")return;const io=typeof Mn.data=="string"?safeJsonParse(Mn.data):Mn.data;this.events.emit("payload",io)}onError(Mn,io){const fo=this.parseError(io),mo=fo.message||fo.toString(),$o=formatJsonRpcError(Mn,mo);this.events.emit("payload",$o)}parseError(Mn,io=this.url){return parseConnectionError(Mn,a$5(io),"WS")}resetMaxListeners(){this.events.getMaxListeners()>h$c&&this.events.setMaxListeners(h$c)}emitError(Mn){const io=this.parseError(new Error((Mn==null?void 0:Mn.message)||`WebSocket connection failed for host: ${a$5(this.url)}`));return this.events.emit("register_error",io),io}};var lodash_isequal={exports:{}};lodash_isequal.exports;(function(Fn,Mn){var io=200,fo="__lodash_hash_undefined__",mo=1,$o=2,Ao=9007199254740991,Lo="[object Arguments]",Wo="[object Array]",jo="[object AsyncFunction]",zo="[object Boolean]",Vo="[object Date]",Go="[object Error]",Jo="[object Function]",Qo="[object GeneratorFunction]",os="[object Map]",Cl="[object Number]",xl="[object Null]",ds="[object Object]",_c="[object Promise]",$l="[object Proxy]",Al="[object RegExp]",Il="[object Set]",us="[object String]",ps="[object Symbol]",Rl="[object Undefined]",Wl="[object WeakMap]",Nl="[object ArrayBuffer]",wl="[object DataView]",Xo="[object Float32Array]",rs="[object Float64Array]",as="[object Int8Array]",El="[object Int16Array]",Pl="[object Int32Array]",Sl="[object Uint8Array]",Tl="[object Uint8ClampedArray]",hs="[object Uint16Array]",yl="[object Uint32Array]",Fl=/[\\^$.*+?()[\]{}|]/g,Xl=/^\[object .+?Constructor\]$/,bu=/^(?:0|[1-9]\d*)$/,Ul={};Ul[Xo]=Ul[rs]=Ul[as]=Ul[El]=Ul[Pl]=Ul[Sl]=Ul[Tl]=Ul[hs]=Ul[yl]=!0,Ul[Lo]=Ul[Wo]=Ul[Nl]=Ul[zo]=Ul[wl]=Ul[Vo]=Ul[Go]=Ul[Jo]=Ul[os]=Ul[Cl]=Ul[ds]=Ul[Al]=Ul[Il]=Ul[us]=Ul[Wl]=!1;var yu=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Vl=typeof self=="object"&&self&&self.Object===Object&&self,Jl=yu||Vl||Function("return this")(),Ql=Mn&&!Mn.nodeType&&Mn,Ol=Ql&&!0&&Fn&&!Fn.nodeType&&Fn,Zl=Ol&&Ol.exports===Ql,rp=Zl&&yu.process,op=function(){try{return rp&&rp.binding&&rp.binding("util")}catch{}}(),lp=op&&op.isTypedArray;function hp(wu,np){for(var mp=-1,Up=wu==null?0:wu.length,I1=0,l1=[];++mp<Up;){var P1=wu[mp];np(P1,mp,wu)&&(l1[I1++]=P1)}return l1}function xp(wu,np){for(var mp=-1,Up=np.length,I1=wu.length;++mp<Up;)wu[I1+mp]=np[mp];return wu}function Ip(wu,np){for(var mp=-1,Up=wu==null?0:wu.length;++mp<Up;)if(np(wu[mp],mp,wu))return!0;return!1}function Ep(wu,np){for(var mp=-1,Up=Array(wu);++mp<wu;)Up[mp]=np(mp);return Up}function vp(wu){return function(np){return wu(np)}}function Tp(wu,np){return wu.has(np)}function Ap(wu,np){return wu==null?void 0:wu[np]}function wp(wu){var np=-1,mp=Array(wu.size);return wu.forEach(function(Up,I1){mp[++np]=[I1,Up]}),mp}function Cp(wu,np){return function(mp){return wu(np(mp))}}function Rp(wu){var np=-1,mp=Array(wu.size);return wu.forEach(function(Up){mp[++np]=Up}),mp}var yp=Array.prototype,Pp=Function.prototype,zl=Object.prototype,Dl=Jl["__core-js_shared__"],Ll=Pp.toString,Gl=zl.hasOwnProperty,fu=function(){var wu=/[^.]+$/.exec(Dl&&Dl.keys&&Dl.keys.IE_PROTO||"");return wu?"Symbol(src)_1."+wu:""}(),_d=zl.toString,sp=RegExp("^"+Ll.call(Gl).replace(Fl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fp=Zl?Jl.Buffer:void 0,_p=Jl.Symbol,Mp=Jl.Uint8Array,Sp=zl.propertyIsEnumerable,Bp=yp.splice,Jp=_p?_p.toStringTag:void 0,Kp=Object.getOwnPropertySymbols,kp=fp?fp.isBuffer:void 0,Hp=Cp(Object.keys,Object),$p=Dm(Jl,"DataView"),Vp=Dm(Jl,"Map"),qp=Dm(Jl,"Promise"),Dp=Dm(Jl,"Set"),Yp=Dm(Jl,"WeakMap"),Xp=Dm(Object,"create"),Wp=bw($p),o1=bw(Vp),h0=bw(qp),Fp=bw(Dp),g0=bw(Yp),t1=_p?_p.prototype:void 0,Lp=t1?t1.valueOf:void 0;function Qp(wu){var np=-1,mp=wu==null?0:wu.length;for(this.clear();++np<mp;){var Up=wu[np];this.set(Up[0],Up[1])}}function s1(){this.__data__=Xp?Xp(null):{},this.size=0}function jp(wu){var np=this.has(wu)&&delete this.__data__[wu];return this.size-=np?1:0,np}function b1(wu){var np=this.__data__;if(Xp){var mp=np[wu];return mp===fo?void 0:mp}return Gl.call(np,wu)?np[wu]:void 0}function v1(wu){var np=this.__data__;return Xp?np[wu]!==void 0:Gl.call(np,wu)}function r1(wu,np){var mp=this.__data__;return this.size+=this.has(wu)?0:1,mp[wu]=Xp&&np===void 0?fo:np,this}Qp.prototype.clear=s1,Qp.prototype.delete=jp,Qp.prototype.get=b1,Qp.prototype.has=v1,Qp.prototype.set=r1;function d1(wu){var np=-1,mp=wu==null?0:wu.length;for(this.clear();++np<mp;){var Up=wu[np];this.set(Up[0],Up[1])}}function tm(){this.__data__=[],this.size=0}function rm(wu){var np=this.__data__,mp=Qw(np,wu);if(mp<0)return!1;var Up=np.length-1;return mp==Up?np.pop():Bp.call(np,mp,1),--this.size,!0}function nm(wu){var np=this.__data__,mp=Qw(np,wu);return mp<0?void 0:np[mp][1]}function im(wu){return Qw(this.__data__,wu)>-1}function om(wu,np){var mp=this.__data__,Up=Qw(mp,wu);return Up<0?(++this.size,mp.push([wu,np])):mp[Up][1]=np,this}d1.prototype.clear=tm,d1.prototype.delete=rm,d1.prototype.get=nm,d1.prototype.has=im,d1.prototype.set=om;function U1(wu){var np=-1,mp=wu==null?0:wu.length;for(this.clear();++np<mp;){var Up=wu[np];this.set(Up[0],Up[1])}}function Em(){this.size=0,this.__data__={hash:new Qp,map:new(Vp||d1),string:new Qp}}function Jm(wu){var np=Rw(this,wu).delete(wu);return this.size-=np?1:0,np}function Am(wu){return Rw(this,wu).get(wu)}function Xm(wu){return Rw(this,wu).has(wu)}function ew(wu,np){var mp=Rw(this,wu),Up=mp.size;return mp.set(wu,np),this.size+=mp.size==Up?0:1,this}U1.prototype.clear=Em,U1.prototype.delete=Jm,U1.prototype.get=Am,U1.prototype.has=Xm,U1.prototype.set=ew;function Sm(wu){var np=-1,mp=wu==null?0:wu.length;for(this.__data__=new U1;++np<mp;)this.add(wu[np])}function Fm(wu){return this.__data__.set(wu,fo),this}function jm(wu){return this.__data__.has(wu)}Sm.prototype.add=Sm.prototype.push=Fm,Sm.prototype.has=jm;function Z1(wu){var np=this.__data__=new d1(wu);this.size=np.size}function tw(){this.__data__=new d1,this.size=0}function rw(wu){var np=this.__data__,mp=np.delete(wu);return this.size=np.size,mp}function nw(wu){return this.__data__.get(wu)}function Zw(wu){return this.__data__.has(wu)}function zv(wu,np){var mp=this.__data__;if(mp instanceof d1){var Up=mp.__data__;if(!Vp||Up.length<io-1)return Up.push([wu,np]),this.size=++mp.size,this;mp=this.__data__=new U1(Up)}return mp.set(wu,np),this.size=mp.size,this}Z1.prototype.clear=tw,Z1.prototype.delete=rw,Z1.prototype.get=nw,Z1.prototype.has=Zw,Z1.prototype.set=zv;function Hv(wu,np){var mp=wy(wu),Up=!mp&&r2(wu),I1=!mp&&!Up&&qy(wu),l1=!mp&&!Up&&!I1&&o2(wu),P1=mp||Up||I1||l1,G1=P1?Ep(wu.length,String):[],w1=G1.length;for(var k1 in wu)Gl.call(wu,k1)&&!(P1&&(k1=="length"||I1&&(k1=="offset"||k1=="parent")||l1&&(k1=="buffer"||k1=="byteLength"||k1=="byteOffset")||Yv(k1,w1)))&&G1.push(k1);return G1}function Qw(wu,np){for(var mp=wu.length;mp--;)if(t2(wu[mp][0],np))return mp;return-1}function Hy(wu,np,mp){var Up=np(wu);return wy(wu)?Up:xp(Up,mp(wu))}function Yw(wu){return wu==null?wu===void 0?Rl:xl:Jp&&Jp in Object(wu)?Zv(wu):J2(wu)}function Vy(wu){return Xw(wu)&&Yw(wu)==Lo}function Jw(wu,np,mp,Up,I1){return wu===np?!0:wu==null||np==null||!Xw(wu)&&!Xw(np)?wu!==wu&&np!==np:Vv(wu,np,mp,Up,Jw,I1)}function Vv(wu,np,mp,Up,I1,l1){var P1=wy(wu),G1=wy(np),w1=P1?Wo:dw(wu),k1=G1?Wo:dw(np);w1=w1==Lo?ds:w1,k1=k1==Lo?ds:k1;var j1=w1==ds,Tm=k1==ds,K1=w1==k1;if(K1&&qy(wu)){if(!qy(np))return!1;P1=!0,j1=!1}if(K1&&!j1)return l1||(l1=new Z1),P1||o2(wu)?gy(wu,np,mp,Up,I1,l1):Y2(wu,np,w1,mp,Up,I1,l1);if(!(mp&mo)){var D1=j1&&Gl.call(wu,"__wrapped__"),bm=Tm&&Gl.call(np,"__wrapped__");if(D1||bm){var iw=D1?wu.value():wu,zm=bm?np.value():np;return l1||(l1=new Z1),I1(iw,zm,mp,Up,l1)}}return K1?(l1||(l1=new Z1),Kv(wu,np,mp,Up,I1,l1)):!1}function Q2(wu){if(!i2(wu)||Xv(wu))return!1;var np=yy(wu)?sp:Xl;return np.test(bw(wu))}function qv(wu){return Xw(wu)&&n2(wu.length)&&!!Ul[Yw(wu)]}function Gv(wu){if(!e2(wu))return Hp(wu);var np=[];for(var mp in Object(wu))Gl.call(wu,mp)&&mp!="constructor"&&np.push(mp);return np}function gy(wu,np,mp,Up,I1,l1){var P1=mp&mo,G1=wu.length,w1=np.length;if(G1!=w1&&!(P1&&w1>G1))return!1;var k1=l1.get(wu);if(k1&&l1.get(np))return k1==np;var j1=-1,Tm=!0,K1=mp&$o?new Sm:void 0;for(l1.set(wu,np),l1.set(np,wu);++j1<G1;){var D1=wu[j1],bm=np[j1];if(Up)var iw=P1?Up(bm,D1,j1,np,wu,l1):Up(D1,bm,j1,wu,np,l1);if(iw!==void 0){if(iw)continue;Tm=!1;break}if(K1){if(!Ip(np,function(zm,hw){if(!Tp(K1,hw)&&(D1===zm||I1(D1,zm,mp,Up,l1)))return K1.push(hw)})){Tm=!1;break}}else if(!(D1===bm||I1(D1,bm,mp,Up,l1))){Tm=!1;break}}return l1.delete(wu),l1.delete(np),Tm}function Y2(wu,np,mp,Up,I1,l1,P1){switch(mp){case wl:if(wu.byteLength!=np.byteLength||wu.byteOffset!=np.byteOffset)return!1;wu=wu.buffer,np=np.buffer;case Nl:return!(wu.byteLength!=np.byteLength||!l1(new Mp(wu),new Mp(np)));case zo:case Vo:case Cl:return t2(+wu,+np);case Go:return wu.name==np.name&&wu.message==np.message;case Al:case us:return wu==np+"";case os:var G1=wp;case Il:var w1=Up&mo;if(G1||(G1=Rp),wu.size!=np.size&&!w1)return!1;var k1=P1.get(wu);if(k1)return k1==np;Up|=$o,P1.set(wu,np);var j1=gy(G1(wu),G1(np),Up,I1,l1,P1);return P1.delete(wu),j1;case ps:if(Lp)return Lp.call(wu)==Lp.call(np)}return!1}function Kv(wu,np,mp,Up,I1,l1){var P1=mp&mo,G1=my(wu),w1=G1.length,k1=my(np),j1=k1.length;if(w1!=j1&&!P1)return!1;for(var Tm=w1;Tm--;){var K1=G1[Tm];if(!(P1?K1 in np:Gl.call(np,K1)))return!1}var D1=l1.get(wu);if(D1&&l1.get(np))return D1==np;var bm=!0;l1.set(wu,np),l1.set(np,wu);for(var iw=P1;++Tm<w1;){K1=G1[Tm];var zm=wu[K1],hw=np[K1];if(Up)var Gy=P1?Up(hw,zm,K1,np,wu,l1):Up(zm,hw,K1,wu,np,l1);if(!(Gy===void 0?zm===hw||I1(zm,hw,mp,Up,l1):Gy)){bm=!1;break}iw||(iw=K1=="constructor")}if(bm&&!iw){var ey=wu.constructor,X1=np.constructor;ey!=X1&&"constructor"in wu&&"constructor"in np&&!(typeof ey=="function"&&ey instanceof ey&&typeof X1=="function"&&X1 instanceof X1)&&(bm=!1)}return l1.delete(wu),l1.delete(np),bm}function my(wu){return Hy(wu,t3,Qv)}function Rw(wu,np){var mp=wu.__data__;return Jv(np)?mp[typeof np=="string"?"string":"hash"]:mp.map}function Dm(wu,np){var mp=Ap(wu,np);return Q2(mp)?mp:void 0}function Zv(wu){var np=Gl.call(wu,Jp),mp=wu[Jp];try{wu[Jp]=void 0;var Up=!0}catch{}var I1=_d.call(wu);return Up&&(np?wu[Jp]=mp:delete wu[Jp]),I1}var Qv=Kp?function(wu){return wu==null?[]:(wu=Object(wu),hp(Kp(wu),function(np){return Sp.call(wu,np)}))}:A1,dw=Yw;($p&&dw(new $p(new ArrayBuffer(1)))!=wl||Vp&&dw(new Vp)!=os||qp&&dw(qp.resolve())!=_c||Dp&&dw(new Dp)!=Il||Yp&&dw(new Yp)!=Wl)&&(dw=function(wu){var np=Yw(wu),mp=np==ds?wu.constructor:void 0,Up=mp?bw(mp):"";if(Up)switch(Up){case Wp:return wl;case o1:return os;case h0:return _c;case Fp:return Il;case g0:return Wl}return np});function Yv(wu,np){return np=np??Ao,!!np&&(typeof wu=="number"||bu.test(wu))&&wu>-1&&wu%1==0&&wu<np}function Jv(wu){var np=typeof wu;return np=="string"||np=="number"||np=="symbol"||np=="boolean"?wu!=="__proto__":wu===null}function Xv(wu){return!!fu&&fu in wu}function e2(wu){var np=wu&&wu.constructor,mp=typeof np=="function"&&np.prototype||zl;return wu===mp}function J2(wu){return _d.call(wu)}function bw(wu){if(wu!=null){try{return Ll.call(wu)}catch{}try{return wu+""}catch{}}return""}function t2(wu,np){return wu===np||wu!==wu&&np!==np}var r2=Vy(function(){return arguments}())?Vy:function(wu){return Xw(wu)&&Gl.call(wu,"callee")&&!Sp.call(wu,"callee")},wy=Array.isArray;function X2(wu){return wu!=null&&n2(wu.length)&&!yy(wu)}var qy=kp||E1;function e3(wu,np){return Jw(wu,np)}function yy(wu){if(!i2(wu))return!1;var np=Yw(wu);return np==Jo||np==Qo||np==jo||np==$l}function n2(wu){return typeof wu=="number"&&wu>-1&&wu%1==0&&wu<=Ao}function i2(wu){var np=typeof wu;return wu!=null&&(np=="object"||np=="function")}function Xw(wu){return wu!=null&&typeof wu=="object"}var o2=lp?vp(lp):qv;function t3(wu){return X2(wu)?Hv(wu):Gv(wu)}function A1(){return[]}function E1(){return!1}Fn.exports=e3})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports;const bs=getDefaultExportFromCjs(lodash_isequalExports),be$2="wc",fe$1=2,ne$2="core",O$3=`${be$2}@2:${ne$2}:`,Xe={name:ne$2,logger:"error"},Ze={database:":memory:"},Qe="crypto",_e$1="client_ed25519_seed",et=cjs$3.ONE_DAY,tt="keychain",it$2="0.3",st$1="messages",rt$1="0.3",nt$1=cjs$3.SIX_HOURS,ot$1="publisher",at$2="irn",ct$1="error",Ee$1="wss://relay.walletconnect.org",ht$1="relayer",w$3={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},lt$1="_subscription",T$4={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},ut$1=.1,oe$2="2.17.0",F$2={link_mode:"link_mode",relay:"relay"},dt$1="0.3",gt$2="WALLETCONNECT_CLIENT_ID",ve$1="WALLETCONNECT_LINK_MODE_APPS",A$3={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},pt$2="subscription",yt$1="0.3",Dt$1=cjs$3.FIVE_SECONDS*1e3,mt$1="pairing",bt="0.3",j$4={wc_pairingDelete:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:cjs$3.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:cjs$3.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:0},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:0}}},q$2={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},P$4={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},ft="history",_t$2="0.3",Et="expirer",R$2={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},vt="0.3",wt="verify-api",Is$1="https://verify.walletconnect.com",It$1="https://verify.walletconnect.org",Z$1=It$1,Tt$1=`${Z$1}/v3`,Ct=[Is$1,It$1],St="echo",Pt="https://echo.walletconnect.com",z$3={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},M$3={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Cs={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Ss$1={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Ps={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},Rs$1={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Rt=.1,xt="event-client",Ot$1=86400,At$1="https://pulse.walletconnect.org/batch";function xs(Fn,Mn){if(Fn.length>=255)throw new TypeError("Alphabet too long");for(var io=new Uint8Array(256),fo=0;fo<io.length;fo++)io[fo]=255;for(var mo=0;mo<Fn.length;mo++){var $o=Fn.charAt(mo),Ao=$o.charCodeAt(0);if(io[Ao]!==255)throw new TypeError($o+" is ambiguous");io[Ao]=mo}var Lo=Fn.length,Wo=Fn.charAt(0),jo=Math.log(Lo)/Math.log(256),zo=Math.log(256)/Math.log(Lo);function Vo(Qo){if(Qo instanceof Uint8Array||(ArrayBuffer.isView(Qo)?Qo=new Uint8Array(Qo.buffer,Qo.byteOffset,Qo.byteLength):Array.isArray(Qo)&&(Qo=Uint8Array.from(Qo))),!(Qo instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Qo.length===0)return"";for(var os=0,Cl=0,xl=0,ds=Qo.length;xl!==ds&&Qo[xl]===0;)xl++,os++;for(var _c=(ds-xl)*zo+1>>>0,$l=new Uint8Array(_c);xl!==ds;){for(var Al=Qo[xl],Il=0,us=_c-1;(Al!==0||Il<Cl)&&us!==-1;us--,Il++)Al+=256*$l[us]>>>0,$l[us]=Al%Lo>>>0,Al=Al/Lo>>>0;if(Al!==0)throw new Error("Non-zero carry");Cl=Il,xl++}for(var ps=_c-Cl;ps!==_c&&$l[ps]===0;)ps++;for(var Rl=Wo.repeat(os);ps<_c;++ps)Rl+=Fn.charAt($l[ps]);return Rl}function Go(Qo){if(typeof Qo!="string")throw new TypeError("Expected String");if(Qo.length===0)return new Uint8Array;var os=0;if(Qo[os]!==" "){for(var Cl=0,xl=0;Qo[os]===Wo;)Cl++,os++;for(var ds=(Qo.length-os)*jo+1>>>0,_c=new Uint8Array(ds);Qo[os];){var $l=io[Qo.charCodeAt(os)];if($l===255)return;for(var Al=0,Il=ds-1;($l!==0||Al<xl)&&Il!==-1;Il--,Al++)$l+=Lo*_c[Il]>>>0,_c[Il]=$l%256>>>0,$l=$l/256>>>0;if($l!==0)throw new Error("Non-zero carry");xl=Al,os++}if(Qo[os]!==" "){for(var us=ds-xl;us!==ds&&_c[us]===0;)us++;for(var ps=new Uint8Array(Cl+(ds-us)),Rl=Cl;us!==ds;)ps[Rl++]=_c[us++];return ps}}}function Jo(Qo){var os=Go(Qo);if(os)return os;throw new Error(`Non-${Mn} character`)}return{encode:Vo,decodeUnsafe:Go,decode:Jo}}var Os=xs,As=Os;const Nt=Fn=>{if(Fn instanceof Uint8Array&&Fn.constructor.name==="Uint8Array")return Fn;if(Fn instanceof ArrayBuffer)return new Uint8Array(Fn);if(ArrayBuffer.isView(Fn))return new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength);throw new Error("Unknown type, must be binary type")},Ns=Fn=>new TextEncoder().encode(Fn),Ls=Fn=>new TextDecoder().decode(Fn);class zs{constructor(Mn,io,fo){this.name=Mn,this.prefix=io,this.baseEncode=fo}encode(Mn){if(Mn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Mn)}`;throw Error("Unknown type, must be binary type")}}class ks{constructor(Mn,io,fo){if(this.name=Mn,this.prefix=io,io.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=io.codePointAt(0),this.baseDecode=fo}decode(Mn){if(typeof Mn=="string"){if(Mn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Mn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Mn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(Mn){return Lt$2(this,Mn)}}class Ms{constructor(Mn){this.decoders=Mn}or(Mn){return Lt$2(this,Mn)}decode(Mn){const io=Mn[0],fo=this.decoders[io];if(fo)return fo.decode(Mn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Mn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Lt$2=(Fn,Mn)=>new Ms({...Fn.decoders||{[Fn.prefix]:Fn},...Mn.decoders||{[Mn.prefix]:Mn}});class $s{constructor(Mn,io,fo,mo){this.name=Mn,this.prefix=io,this.baseEncode=fo,this.baseDecode=mo,this.encoder=new zs(Mn,io,fo),this.decoder=new ks(Mn,io,mo)}encode(Mn){return this.encoder.encode(Mn)}decode(Mn){return this.decoder.decode(Mn)}}const ae$2=({name:Fn,prefix:Mn,encode:io,decode:fo})=>new $s(Fn,Mn,io,fo),Q$1=({prefix:Fn,name:Mn,alphabet:io})=>{const{encode:fo,decode:mo}=As(io,Mn);return ae$2({prefix:Fn,name:Mn,encode:fo,decode:$o=>Nt(mo($o))})},Fs=(Fn,Mn,io,fo)=>{const mo={};for(let zo=0;zo<Mn.length;++zo)mo[Mn[zo]]=zo;let $o=Fn.length;for(;Fn[$o-1]==="=";)--$o;const Ao=new Uint8Array($o*io/8|0);let Lo=0,Wo=0,jo=0;for(let zo=0;zo<$o;++zo){const Vo=mo[Fn[zo]];if(Vo===void 0)throw new SyntaxError(`Non-${fo} character`);Wo=Wo<<io|Vo,Lo+=io,Lo>=8&&(Lo-=8,Ao[jo++]=255&Wo>>Lo)}if(Lo>=io||255&Wo<<8-Lo)throw new SyntaxError("Unexpected end of data");return Ao},Us=(Fn,Mn,io)=>{const fo=Mn[Mn.length-1]==="=",mo=(1<<io)-1;let $o="",Ao=0,Lo=0;for(let Wo=0;Wo<Fn.length;++Wo)for(Lo=Lo<<8|Fn[Wo],Ao+=8;Ao>io;)Ao-=io,$o+=Mn[mo&Lo>>Ao];if(Ao&&($o+=Mn[mo&Lo<<io-Ao]),fo)for(;$o.length*io&7;)$o+="=";return $o},_$3=({name:Fn,prefix:Mn,bitsPerChar:io,alphabet:fo})=>ae$2({prefix:Mn,name:Fn,encode(mo){return Us(mo,fo,io)},decode(mo){return Fs(mo,fo,io,Fn)}}),Ks=ae$2({prefix:"\0",name:"identity",encode:Fn=>Ls(Fn),decode:Fn=>Ns(Fn)});var Bs=Object.freeze({__proto__:null,identity:Ks});const Vs=_$3({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var js=Object.freeze({__proto__:null,base2:Vs});const qs$1=_$3({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Gs=Object.freeze({__proto__:null,base8:qs$1});const Hs=Q$1({prefix:"9",name:"base10",alphabet:"0123456789"});var Ys=Object.freeze({__proto__:null,base10:Hs});const Js=_$3({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ws=_$3({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Xs=Object.freeze({__proto__:null,base16:Js,base16upper:Ws});const Zs=_$3({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Qs=_$3({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),er=_$3({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tr=_$3({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ir=_$3({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),sr=_$3({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),rr=_$3({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),nr=_$3({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),or$m=_$3({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var ar=Object.freeze({__proto__:null,base32:Zs,base32upper:Qs,base32pad:er,base32padupper:tr,base32hex:ir,base32hexupper:sr,base32hexpad:rr,base32hexpadupper:nr,base32z:or$m});const cr=Q$1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),hr=Q$1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var lr$1=Object.freeze({__proto__:null,base36:cr,base36upper:hr});const ur=Q$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),dr$1=Q$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var gr=Object.freeze({__proto__:null,base58btc:ur,base58flickr:dr$1});const pr$1=_$3({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),yr=_$3({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Dr=_$3({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),mr=_$3({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var br=Object.freeze({__proto__:null,base64:pr$1,base64pad:yr,base64url:Dr,base64urlpad:mr});const zt=Array.from(""),fr=zt.reduce((Fn,Mn,io)=>(Fn[io]=Mn,Fn),[]),_r=zt.reduce((Fn,Mn,io)=>(Fn[Mn.codePointAt(0)]=io,Fn),[]);function Er(Fn){return Fn.reduce((Mn,io)=>(Mn+=fr[io],Mn),"")}function vr(Fn){const Mn=[];for(const io of Fn){const fo=_r[io.codePointAt(0)];if(fo===void 0)throw new Error(`Non-base256emoji character: ${io}`);Mn.push(fo)}return new Uint8Array(Mn)}const wr=ae$2({prefix:"",name:"base256emoji",encode:Er,decode:vr});var Ir=Object.freeze({__proto__:null,base256emoji:wr}),Tr=Mt$1,kt$1=128,Cr=127,Sr=~Cr,Pr=Math.pow(2,31);function Mt$1(Fn,Mn,io){Mn=Mn||[],io=io||0;for(var fo=io;Fn>=Pr;)Mn[io++]=Fn&255|kt$1,Fn/=128;for(;Fn&Sr;)Mn[io++]=Fn&255|kt$1,Fn>>>=7;return Mn[io]=Fn|0,Mt$1.bytes=io-fo+1,Mn}var Rr=we$1,xr=128,$t=127;function we$1(Fn,fo){var io=0,fo=fo||0,mo=0,$o=fo,Ao,Lo=Fn.length;do{if($o>=Lo)throw we$1.bytes=0,new RangeError("Could not decode varint");Ao=Fn[$o++],io+=mo<28?(Ao&$t)<<mo:(Ao&$t)*Math.pow(2,mo),mo+=7}while(Ao>=xr);return we$1.bytes=$o-fo,io}var Or$1=Math.pow(2,7),Ar=Math.pow(2,14),Nr=Math.pow(2,21),Lr=Math.pow(2,28),zr=Math.pow(2,35),kr=Math.pow(2,42),Mr=Math.pow(2,49),$r=Math.pow(2,56),Fr=Math.pow(2,63),Ur=function(Fn){return Fn<Or$1?1:Fn<Ar?2:Fn<Nr?3:Fn<Lr?4:Fn<zr?5:Fn<kr?6:Fn<Mr?7:Fn<$r?8:Fn<Fr?9:10},Kr={encode:Tr,decode:Rr,encodingLength:Ur},Ft=Kr;const Ut$1=(Fn,Mn,io=0)=>(Ft.encode(Fn,Mn,io),Mn),Kt$1=Fn=>Ft.encodingLength(Fn),Ie$1=(Fn,Mn)=>{const io=Mn.byteLength,fo=Kt$1(Fn),mo=fo+Kt$1(io),$o=new Uint8Array(mo+io);return Ut$1(Fn,$o,0),Ut$1(io,$o,fo),$o.set(Mn,mo),new Br(Fn,io,Mn,$o)};class Br{constructor(Mn,io,fo,mo){this.code=Mn,this.size=io,this.digest=fo,this.bytes=mo}}const Bt=({name:Fn,code:Mn,encode:io})=>new Vr(Fn,Mn,io);class Vr{constructor(Mn,io,fo){this.name=Mn,this.code=io,this.encode=fo}digest(Mn){if(Mn instanceof Uint8Array){const io=this.encode(Mn);return io instanceof Uint8Array?Ie$1(this.code,io):io.then(fo=>Ie$1(this.code,fo))}else throw Error("Unknown type, must be binary type")}}const Vt=Fn=>async Mn=>new Uint8Array(await crypto.subtle.digest(Fn,Mn)),jr=Bt({name:"sha2-256",code:18,encode:Vt("SHA-256")}),qr=Bt({name:"sha2-512",code:19,encode:Vt("SHA-512")});var Gr=Object.freeze({__proto__:null,sha256:jr,sha512:qr});const jt=0,Hr="identity",qt$1=Nt,Yr=Fn=>Ie$1(jt,qt$1(Fn)),Jr={code:jt,name:Hr,encode:qt$1,digest:Yr};var Wr=Object.freeze({__proto__:null,identity:Jr});new TextEncoder,new TextDecoder;const Gt$1={...Bs,...js,...Gs,...Ys,...Xs,...ar,...lr$1,...gr,...br,...Ir};({...Gr,...Wr});function Xr(Fn=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(Fn):new Uint8Array(Fn)}function Ht(Fn,Mn,io,fo){return{name:Fn,prefix:Mn,encoder:{name:Fn,prefix:Mn,encode:io},decoder:{decode:fo}}}const Yt=Ht("utf8","u",Fn=>"u"+new TextDecoder("utf8").decode(Fn),Fn=>new TextEncoder().encode(Fn.substring(1))),Te$1=Ht("ascii","a",Fn=>{let Mn="a";for(let io=0;io<Fn.length;io++)Mn+=String.fromCharCode(Fn[io]);return Mn},Fn=>{Fn=Fn.substring(1);const Mn=Xr(Fn.length);for(let io=0;io<Fn.length;io++)Mn[io]=Fn.charCodeAt(io);return Mn}),Zr={utf8:Yt,"utf-8":Yt,hex:Gt$1.base16,latin1:Te$1,ascii:Te$1,binary:Te$1,...Gt$1};function Qr(Fn,Mn="utf8"){const io=Zr[Mn];if(!io)throw new Error(`Unsupported encoding "${Mn}"`);return(Mn==="utf8"||Mn==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(Fn,"utf8"):io.decoder.decode(`${io.prefix}${Fn}`)}let Jt$1=class{constructor(Mn,io){this.core=Mn,this.logger=io,this.keychain=new Map,this.name=tt,this.version=it$2,this.initialized=!1,this.storagePrefix=O$3,this.init=async()=>{if(!this.initialized){const fo=await this.getKeyChain();typeof fo<"u"&&(this.keychain=fo),this.initialized=!0}},this.has=fo=>(this.isInitialized(),this.keychain.has(fo)),this.set=async(fo,mo)=>{this.isInitialized(),this.keychain.set(fo,mo),await this.persist()},this.get=fo=>{this.isInitialized();const mo=this.keychain.get(fo);if(typeof mo>"u"){const{message:$o}=xe$2("NO_MATCHING_KEY",`${this.name}: ${fo}`);throw new Error($o)}return mo},this.del=async fo=>{this.isInitialized(),this.keychain.delete(fo),await this.persist()},this.core=Mn,this.logger=E$4(io,this.name)}get context(){return y$7(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(Mn){await this.core.storage.setItem(this.storageKey,cs(Mn))}async getKeyChain(){const Mn=await this.core.storage.getItem(this.storageKey);return typeof Mn<"u"?ls(Mn):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:Mn}=xe$2("NOT_INITIALIZED",this.name);throw new Error(Mn)}}};class Wt{constructor(Mn,io,fo){this.core=Mn,this.logger=io,this.name=Qe,this.randomSessionIdentifier=Bu(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=mo=>(this.isInitialized(),this.keychain.has(mo)),this.getClientId=async()=>{this.isInitialized();const mo=await this.getClientSeed(),$o=generateKeyPair(mo);return encodeIss($o.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const mo=_u();return this.setPrivateKey(mo.publicKey,mo.privateKey)},this.signJWT=async mo=>{this.isInitialized();const $o=await this.getClientSeed(),Ao=generateKeyPair($o),Lo=this.randomSessionIdentifier;return await signJWT(Lo,mo,et,Ao)},this.generateSharedKey=(mo,$o,Ao)=>{this.isInitialized();const Lo=this.getPrivateKey(mo),Wo=Cu(Lo,$o);return this.setSymKey(Wo,Ao)},this.setSymKey=async(mo,$o)=>{this.isInitialized();const Ao=$o||Ru(mo);return await this.keychain.set(Ao,mo),Ao},this.deleteKeyPair=async mo=>{this.isInitialized(),await this.keychain.del(mo)},this.deleteSymKey=async mo=>{this.isInitialized(),await this.keychain.del(mo)},this.encode=async(mo,$o,Ao)=>{this.isInitialized();const Lo=so(Ao),Wo=safeJsonStringify($o);if(qu(Lo))return Tu(Wo,Ao==null?void 0:Ao.encoding);if(ku(Lo)){const Go=Lo.senderPublicKey,Jo=Lo.receiverPublicKey;mo=await this.generateSharedKey(Go,Jo)}const jo=this.getSymKey(mo),{type:zo,senderPublicKey:Vo}=Lo;return Pu({type:zo,symKey:jo,message:Wo,senderPublicKey:Vo,encoding:Ao==null?void 0:Ao.encoding})},this.decode=async(mo,$o,Ao)=>{this.isInitialized();const Lo=Uu($o,Ao);if(qu(Lo)){const Wo=Fu($o,Ao==null?void 0:Ao.encoding);return safeJsonParse(Wo)}if(ku(Lo)){const Wo=Lo.receiverPublicKey,jo=Lo.senderPublicKey;mo=await this.generateSharedKey(Wo,jo)}try{const Wo=this.getSymKey(mo),jo=Du({symKey:Wo,encoded:$o,encoding:Ao==null?void 0:Ao.encoding});return safeJsonParse(jo)}catch(Wo){this.logger.error(`Failed to decode message from topic: '${mo}', clientId: '${await this.getClientId()}'`),this.logger.error(Wo)}},this.getPayloadType=(mo,$o=tn$1)=>{const Ao=Wr$1({encoded:mo,encoding:$o});return Ze$1(Ao.type)},this.getPayloadSenderPublicKey=(mo,$o=tn$1)=>{const Ao=Wr$1({encoded:mo,encoding:$o});return Ao.senderPublicKey?toString$4(Ao.senderPublicKey,Lt$3):void 0},this.core=Mn,this.logger=E$4(io,this.name),this.keychain=fo||new Jt$1(this.core,this.logger)}get context(){return y$7(this.logger)}async setPrivateKey(Mn,io){return await this.keychain.set(Mn,io),Mn}getPrivateKey(Mn){return this.keychain.get(Mn)}async getClientSeed(){let Mn="";try{Mn=this.keychain.get(_e$1)}catch{Mn=Bu(),await this.keychain.set(_e$1,Mn)}return Qr(Mn,"base16")}getSymKey(Mn){return this.keychain.get(Mn)}isInitialized(){if(!this.initialized){const{message:Mn}=xe$2("NOT_INITIALIZED",this.name);throw new Error(Mn)}}}class Xt extends a$6{constructor(Mn,io){super(Mn,io),this.logger=Mn,this.core=io,this.messages=new Map,this.name=st$1,this.version=rt$1,this.initialized=!1,this.storagePrefix=O$3,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const fo=await this.getRelayerMessages();typeof fo<"u"&&(this.messages=fo),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(fo){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(fo)}finally{this.initialized=!0}}},this.set=async(fo,mo)=>{this.isInitialized();const $o=Ou(mo);let Ao=this.messages.get(fo);return typeof Ao>"u"&&(Ao={}),typeof Ao[$o]<"u"||(Ao[$o]=mo,this.messages.set(fo,Ao),await this.persist()),$o},this.get=fo=>{this.isInitialized();let mo=this.messages.get(fo);return typeof mo>"u"&&(mo={}),mo},this.has=(fo,mo)=>{this.isInitialized();const $o=this.get(fo),Ao=Ou(mo);return typeof $o[Ao]<"u"},this.del=async fo=>{this.isInitialized(),this.messages.delete(fo),await this.persist()},this.logger=E$4(Mn,this.name),this.core=io}get context(){return y$7(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(Mn){await this.core.storage.setItem(this.storageKey,cs(Mn))}async getRelayerMessages(){const Mn=await this.core.storage.getItem(this.storageKey);return typeof Mn<"u"?ls(Mn):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:Mn}=xe$2("NOT_INITIALIZED",this.name);throw new Error(Mn)}}}class en extends g$4{constructor(Mn,io){super(Mn,io),this.relayer=Mn,this.logger=io,this.events=new eventsExports.EventEmitter,this.name=ot$1,this.queue=new Map,this.publishTimeout=cjs$3.toMiliseconds(cjs$3.ONE_MINUTE),this.failedPublishTimeout=cjs$3.toMiliseconds(cjs$3.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(fo,mo,$o)=>{var Ao;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:fo,message:mo,opts:$o}});const Lo=($o==null?void 0:$o.ttl)||nt$1,Wo=zu($o),jo=($o==null?void 0:$o.prompt)||!1,zo=($o==null?void 0:$o.tag)||0,Vo=($o==null?void 0:$o.id)||getBigIntRpcId().toString(),Go={topic:fo,message:mo,opts:{ttl:Lo,relay:Wo,prompt:jo,tag:zo,id:Vo,attestation:$o==null?void 0:$o.attestation}},Jo=`Failed to publish payload, please try again. id:${Vo} tag:${zo}`,Qo=Date.now();let os,Cl=1;try{for(;os===void 0;){if(Date.now()-Qo>this.publishTimeout)throw new Error(Jo);this.logger.trace({id:Vo,attempts:Cl},`publisher.publish - attempt ${Cl}`),os=await await ms$1(this.rpcPublish(fo,mo,Lo,Wo,jo,zo,Vo,$o==null?void 0:$o.attestation).catch(xl=>this.logger.warn(xl)),this.publishTimeout,Jo),Cl++,os||await new Promise(xl=>setTimeout(xl,this.failedPublishTimeout))}this.relayer.events.emit(w$3.publish,Go),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:Vo,topic:fo,message:mo,opts:$o}})}catch(xl){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(xl),(Ao=$o==null?void 0:$o.internal)!=null&&Ao.throwOnFailedPublish)throw xl;this.queue.set(Vo,Go)}},this.on=(fo,mo)=>{this.events.on(fo,mo)},this.once=(fo,mo)=>{this.events.once(fo,mo)},this.off=(fo,mo)=>{this.events.off(fo,mo)},this.removeListener=(fo,mo)=>{this.events.removeListener(fo,mo)},this.relayer=Mn,this.logger=E$4(io,this.name),this.registerEventListeners()}get context(){return y$7(this.logger)}rpcPublish(Mn,io,fo,mo,$o,Ao,Lo,Wo){var jo,zo,Vo,Go;const Jo={method:ju(mo.protocol).publish,params:{topic:Mn,message:io,ttl:fo,prompt:$o,tag:Ao,attestation:Wo},id:Lo};return Pe((jo=Jo.params)==null?void 0:jo.prompt)&&((zo=Jo.params)==null||delete zo.prompt),Pe((Vo=Jo.params)==null?void 0:Vo.tag)&&((Go=Jo.params)==null||delete Go.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:Jo}),this.relayer.request(Jo)}removeRequestFromQueue(Mn){this.queue.delete(Mn)}checkQueue(){this.queue.forEach(async Mn=>{const{topic:io,message:fo,opts:mo}=Mn;await this.publish(io,fo,mo)})}registerEventListeners(){this.relayer.core.heartbeat.on(r$l.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(w$3.connection_stalled);return}this.checkQueue()}),this.relayer.on(w$3.message_ack,Mn=>{this.removeRequestFromQueue(Mn.id.toString())})}}class tn{constructor(){this.map=new Map,this.set=(Mn,io)=>{const fo=this.get(Mn);this.exists(Mn,io)||this.map.set(Mn,[...fo,io])},this.get=Mn=>this.map.get(Mn)||[],this.exists=(Mn,io)=>this.get(Mn).includes(io),this.delete=(Mn,io)=>{if(typeof io>"u"){this.map.delete(Mn);return}if(!this.map.has(Mn))return;const fo=this.get(Mn);if(!this.exists(Mn,io))return;const mo=fo.filter($o=>$o!==io);if(!mo.length){this.map.delete(Mn);return}this.map.set(Mn,mo)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var sn=Object.defineProperty,rn=Object.defineProperties,nn=Object.getOwnPropertyDescriptors,Zt$1=Object.getOwnPropertySymbols,on=Object.prototype.hasOwnProperty,an=Object.prototype.propertyIsEnumerable,Qt$1=(Fn,Mn,io)=>Mn in Fn?sn(Fn,Mn,{enumerable:!0,configurable:!0,writable:!0,value:io}):Fn[Mn]=io,ee$1=(Fn,Mn)=>{for(var io in Mn||(Mn={}))on.call(Mn,io)&&Qt$1(Fn,io,Mn[io]);if(Zt$1)for(var io of Zt$1(Mn))an.call(Mn,io)&&Qt$1(Fn,io,Mn[io]);return Fn},Ce$1=(Fn,Mn)=>rn(Fn,nn(Mn));class ei extends d$6{constructor(Mn,io){super(Mn,io),this.relayer=Mn,this.logger=io,this.subscriptions=new Map,this.topicMap=new tn,this.events=new eventsExports.EventEmitter,this.name=pt$2,this.version=yt$1,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=O$3,this.subscribeTimeout=cjs$3.toMiliseconds(cjs$3.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(fo,mo)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:fo,opts:mo}});try{const $o=zu(mo),Ao={topic:fo,relay:$o,transportType:mo==null?void 0:mo.transportType};this.pending.set(fo,Ao);const Lo=await this.rpcSubscribe(fo,$o,mo==null?void 0:mo.transportType);return typeof Lo=="string"&&(this.onSubscribe(Lo,Ao),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:fo,opts:mo}})),Lo}catch($o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error($o),$o}},this.unsubscribe=async(fo,mo)=>{await this.restartToComplete(),this.isInitialized(),typeof(mo==null?void 0:mo.id)<"u"?await this.unsubscribeById(fo,mo.id,mo):await this.unsubscribeByTopic(fo,mo)},this.isSubscribed=async fo=>{if(this.topics.includes(fo))return!0;const mo=`${this.pendingSubscriptionWatchLabel}_${fo}`;return await new Promise(($o,Ao)=>{const Lo=new cjs$3.Watch;Lo.start(mo);const Wo=setInterval(()=>{!this.pending.has(fo)&&this.topics.includes(fo)&&(clearInterval(Wo),Lo.stop(mo),$o(!0)),Lo.elapsed(mo)>=Dt$1&&(clearInterval(Wo),Lo.stop(mo),Ao(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(fo,mo)=>{this.events.on(fo,mo)},this.once=(fo,mo)=>{this.events.once(fo,mo)},this.off=(fo,mo)=>{this.events.off(fo,mo)},this.removeListener=(fo,mo)=>{this.events.removeListener(fo,mo)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=Mn,this.logger=E$4(io,this.name),this.clientId=""}get context(){return y$7(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(Mn,io){let fo=!1;try{fo=this.getSubscription(Mn).topic===io}catch{}return fo}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(Mn,io){const fo=this.topicMap.get(Mn);await Promise.all(fo.map(async mo=>await this.unsubscribeById(Mn,mo,io)))}async unsubscribeById(Mn,io,fo){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:Mn,id:io,opts:fo}});try{const mo=zu(fo);await this.rpcUnsubscribe(Mn,io,mo);const $o=er$1("USER_DISCONNECTED",`${this.name}, ${Mn}`);await this.onUnsubscribe(Mn,io,$o),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:Mn,id:io,opts:fo}})}catch(mo){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(mo),mo}}async rpcSubscribe(Mn,io,fo=F$2.relay){fo===F$2.relay&&await this.restartToComplete();const mo={method:ju(io.protocol).subscribe,params:{topic:Mn}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:mo});try{const $o=Ou(Mn+this.clientId);return fo===F$2.link_mode?(setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(mo).catch(Ao=>this.logger.warn(Ao))},cjs$3.toMiliseconds(cjs$3.ONE_SECOND)),$o):await await ms$1(this.relayer.request(mo).catch(Ao=>this.logger.warn(Ao)),this.subscribeTimeout)?$o:null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(w$3.connection_stalled)}return null}async rpcBatchSubscribe(Mn){if(!Mn.length)return;const io=Mn[0].relay,fo={method:ju(io.protocol).batchSubscribe,params:{topics:Mn.map(mo=>mo.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:fo});try{return await await ms$1(this.relayer.request(fo).catch(mo=>this.logger.warn(mo)),this.subscribeTimeout)}catch{this.relayer.events.emit(w$3.connection_stalled)}}async rpcBatchFetchMessages(Mn){if(!Mn.length)return;const io=Mn[0].relay,fo={method:ju(io.protocol).batchFetchMessages,params:{topics:Mn.map($o=>$o.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:fo});let mo;try{mo=await await ms$1(this.relayer.request(fo).catch($o=>this.logger.warn($o)),this.subscribeTimeout)}catch{this.relayer.events.emit(w$3.connection_stalled)}return mo}rpcUnsubscribe(Mn,io,fo){const mo={method:ju(fo.protocol).unsubscribe,params:{topic:Mn,id:io}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:mo}),this.relayer.request(mo)}onSubscribe(Mn,io){this.setSubscription(Mn,Ce$1(ee$1({},io),{id:Mn})),this.pending.delete(io.topic)}onBatchSubscribe(Mn){Mn.length&&Mn.forEach(io=>{this.setSubscription(io.id,ee$1({},io)),this.pending.delete(io.topic)})}async onUnsubscribe(Mn,io,fo){this.events.removeAllListeners(io),this.hasSubscription(io,Mn)&&this.deleteSubscription(io,fo),await this.relayer.messages.del(Mn)}async setRelayerSubscriptions(Mn){await this.relayer.core.storage.setItem(this.storageKey,Mn)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(Mn,io){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:Mn,subscription:io}),this.addSubscription(Mn,io)}addSubscription(Mn,io){this.subscriptions.set(Mn,ee$1({},io)),this.topicMap.set(io.topic,Mn),this.events.emit(A$3.created,io)}getSubscription(Mn){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:Mn});const io=this.subscriptions.get(Mn);if(!io){const{message:fo}=xe$2("NO_MATCHING_KEY",`${this.name}: ${Mn}`);throw new Error(fo)}return io}deleteSubscription(Mn,io){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:Mn,reason:io});const fo=this.getSubscription(Mn);this.subscriptions.delete(Mn),this.topicMap.delete(fo.topic,Mn),this.events.emit(A$3.deleted,Ce$1(ee$1({},fo),{reason:io}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(A$3.sync)}async reset(){if(this.cached.length){const Mn=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let io=0;io<Mn;io++){const fo=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(fo),await this.batchSubscribe(fo)}}this.events.emit(A$3.resubscribed)}async restore(){try{const Mn=await this.getRelayerSubscriptions();if(typeof Mn>"u"||!Mn.length)return;if(this.subscriptions.size){const{message:io}=xe$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(io),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(io)}this.cached=Mn,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(Mn){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(Mn)}}async batchSubscribe(Mn){if(!Mn.length)return;const io=await this.rpcBatchSubscribe(Mn);Nr$1(io)&&this.onBatchSubscribe(io.map((fo,mo)=>Ce$1(ee$1({},Mn[mo]),{id:fo})))}async batchFetchMessages(Mn){if(!Mn.length)return;this.logger.trace(`Fetching batch messages for ${Mn.length} subscriptions`);const io=await this.rpcBatchFetchMessages(Mn);io&&io.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(io.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const Mn=[];this.pending.forEach(io=>{Mn.push(io)}),await this.batchSubscribe(Mn),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(r$l.pulse,async()=>{await this.checkPending()}),this.events.on(A$3.created,async Mn=>{const io=A$3.created;this.logger.info(`Emitting ${io}`),this.logger.debug({type:"event",event:io,data:Mn}),await this.persist()}),this.events.on(A$3.deleted,async Mn=>{const io=A$3.deleted;this.logger.info(`Emitting ${io}`),this.logger.debug({type:"event",event:io,data:Mn}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:Mn}=xe$2("NOT_INITIALIZED",this.name);throw new Error(Mn)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(Mn=>{const io=setInterval(()=>{this.restartInProgress||(clearInterval(io),Mn())},this.pollingInterval)})}}var cn$1=Object.defineProperty,ti=Object.getOwnPropertySymbols,hn=Object.prototype.hasOwnProperty,ln=Object.prototype.propertyIsEnumerable,ii=(Fn,Mn,io)=>Mn in Fn?cn$1(Fn,Mn,{enumerable:!0,configurable:!0,writable:!0,value:io}):Fn[Mn]=io,un=(Fn,Mn)=>{for(var io in Mn||(Mn={}))hn.call(Mn,io)&&ii(Fn,io,Mn[io]);if(ti)for(var io of ti(Mn))ln.call(Mn,io)&&ii(Fn,io,Mn[io]);return Fn};class si extends u$8{constructor(Mn){super(Mn),this.protocol="wc",this.version=2,this.events=new eventsExports.EventEmitter,this.name=ht$1,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=cjs$3.toMiliseconds(cjs$3.THIRTY_SECONDS+cjs$3.ONE_SECOND),this.request=async io=>{var fo,mo;this.logger.debug("Publishing Request Payload");const $o=io.id||getBigIntRpcId().toString();await this.toEstablishConnection();try{const Ao=this.provider.request(io);this.requestsInFlight.set($o,{promise:Ao,request:io}),this.logger.trace({id:$o,method:io.method,topic:(fo=io.params)==null?void 0:fo.topic},"relayer.request - attempt to publish...");const Lo=await new Promise(async(Wo,jo)=>{const zo=()=>{jo(new Error(`relayer.request - publish interrupted, id: ${$o}`))};this.provider.on(T$4.disconnect,zo);const Vo=await Ao;this.provider.off(T$4.disconnect,zo),Wo(Vo)});return this.logger.trace({id:$o,method:io.method,topic:(mo=io.params)==null?void 0:mo.topic},"relayer.request - published"),Lo}catch(Ao){throw this.logger.debug(`Failed to Publish Request: ${$o}`),Ao}finally{this.requestsInFlight.delete($o)}},this.resetPingTimeout=()=>{if(bi$1())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var io,fo,mo;(mo=(fo=(io=this.provider)==null?void 0:io.connection)==null?void 0:fo.socket)==null||mo.terminate()},this.heartBeatTimeout)}catch(io){this.logger.warn(io)}},this.onPayloadHandler=io=>{this.onProviderPayload(io),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(w$3.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=io=>{this.logger.error(io),this.events.emit(w$3.error,io),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(T$4.payload,this.onPayloadHandler),this.provider.on(T$4.connect,this.onConnectHandler),this.provider.on(T$4.disconnect,this.onDisconnectHandler),this.provider.on(T$4.error,this.onProviderErrorHandler)},this.core=Mn.core,this.logger=typeof Mn.logger<"u"&&typeof Mn.logger!="string"?E$4(Mn.logger,this.name):Mg(k$4({level:Mn.logger||ct$1})),this.messages=new Xt(this.logger,Mn.core),this.subscriber=new ei(this,this.logger),this.publisher=new en(this,this.logger),this.relayUrl=(Mn==null?void 0:Mn.relayUrl)||Ee$1,this.projectId=Mn.projectId,this.bundleId=ns(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(Mn){this.logger.warn(Mn)}}get context(){return y$7(this.logger)}get connected(){var Mn,io,fo;return((fo=(io=(Mn=this.provider)==null?void 0:Mn.connection)==null?void 0:io.socket)==null?void 0:fo.readyState)===1}get connecting(){var Mn,io,fo;return((fo=(io=(Mn=this.provider)==null?void 0:Mn.connection)==null?void 0:io.socket)==null?void 0:fo.readyState)===0}async publish(Mn,io,fo){this.isInitialized(),await this.publisher.publish(Mn,io,fo),await this.recordMessageEvent({topic:Mn,message:io,publishedAt:Date.now(),transportType:F$2.relay})}async subscribe(Mn,io){var fo;this.isInitialized(),(io==null?void 0:io.transportType)==="relay"&&await this.toEstablishConnection();let mo=((fo=this.subscriber.topicMap.get(Mn))==null?void 0:fo[0])||"",$o;const Ao=Lo=>{Lo.topic===Mn&&(this.subscriber.off(A$3.created,Ao),$o())};return await Promise.all([new Promise(Lo=>{$o=Lo,this.subscriber.on(A$3.created,Ao)}),new Promise(async Lo=>{mo=await this.subscriber.subscribe(Mn,io)||mo,Lo()})]),mo}async unsubscribe(Mn,io){this.isInitialized(),await this.subscriber.unsubscribe(Mn,io)}on(Mn,io){this.events.on(Mn,io)}once(Mn,io){this.events.once(Mn,io)}off(Mn,io){this.events.off(Mn,io)}removeListener(Mn,io){this.events.removeListener(Mn,io)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(Mn=>Mn.promise))}catch(Mn){this.logger.warn(Mn)}this.hasExperiencedNetworkDisruption||this.connected?await ms$1(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(Mn){await this.confirmOnlineStateOrThrow(),Mn&&Mn!==this.relayUrl&&(this.relayUrl=Mn,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(io,fo)=>{const mo=()=>{this.provider.off(T$4.disconnect,mo),fo(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(T$4.disconnect,mo),await ms$1(this.provider.connect(),cjs$3.toMiliseconds(cjs$3.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch($o=>{fo($o)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch($o=>{this.logger.error($o),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,io()})}catch(io){this.logger.error(io);const fo=io;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(fo.message))throw io}finally{this.connectionAttemptInProgress=!1}}async restartTransport(Mn){this.connectionAttemptInProgress||(this.relayUrl=Mn||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Bh())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(Mn){if((Mn==null?void 0:Mn.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const io=Mn.sort((fo,mo)=>fo.publishedAt-mo.publishedAt);this.logger.trace(`Batch of ${io.length} message events sorted`);for(const fo of io)try{await this.onMessageEvent(fo)}catch(mo){this.logger.warn(mo)}this.logger.trace(`Batch of ${io.length} message events processed`)}async onLinkMessageEvent(Mn,io){const{topic:fo}=Mn;if(!io.sessionExists){const mo=ws$1(cjs$3.FIVE_MINUTES),$o={topic:fo,expiry:mo,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(fo,$o)}this.events.emit(w$3.message,Mn),await this.recordMessageEvent(Mn)}startPingTimeout(){var Mn,io,fo,mo,$o;if(bi$1())try{(io=(Mn=this.provider)==null?void 0:Mn.connection)!=null&&io.socket&&(($o=(mo=(fo=this.provider)==null?void 0:fo.connection)==null?void 0:mo.socket)==null||$o.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(Ao){this.logger.warn(Ao)}}isConnectionStalled(Mn){return this.staleConnectionErrors.some(io=>Mn.includes(io))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const Mn=await this.core.crypto.signJWT(this.relayUrl);this.provider=new o$g(new f$a(ss({sdkVersion:oe$2,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:Mn,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(Mn){const{topic:io,message:fo}=Mn;await this.messages.set(io,fo)}async shouldIgnoreMessageEvent(Mn){const{topic:io,message:fo}=Mn;if(!fo||fo.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${fo}`),!0;if(!await this.subscriber.isSubscribed(io))return this.logger.debug(`Ignoring message for non-subscribed topic ${io}`),!0;const mo=this.messages.has(io,fo);return mo&&this.logger.debug(`Ignoring duplicate message: ${fo}`),mo}async onProviderPayload(Mn){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:Mn}),isJsonRpcRequest(Mn)){if(!Mn.method.endsWith(lt$1))return;const io=Mn.params,{topic:fo,message:mo,publishedAt:$o,attestation:Ao}=io.data,Lo={topic:fo,message:mo,publishedAt:$o,transportType:F$2.relay,attestation:Ao};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(un({type:"event",event:io.id},Lo)),this.events.emit(io.id,Lo),await this.acknowledgePayload(Mn),await this.onMessageEvent(Lo)}else isJsonRpcResponse(Mn)&&this.events.emit(w$3.message_ack,Mn)}async onMessageEvent(Mn){await this.shouldIgnoreMessageEvent(Mn)||(this.events.emit(w$3.message,Mn),await this.recordMessageEvent(Mn))}async acknowledgePayload(Mn){const io=formatJsonRpcResult(Mn.id,!0);await this.provider.connection.send(io)}unregisterProviderListeners(){this.provider.off(T$4.payload,this.onPayloadHandler),this.provider.off(T$4.connect,this.onConnectHandler),this.provider.off(T$4.disconnect,this.onDisconnectHandler),this.provider.off(T$4.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let Mn=await Bh();Ch(async io=>{Mn!==io&&(Mn=io,io?await this.restartTransport().catch(fo=>this.logger.error(fo)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(w$3.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(Mn=>this.logger.error(Mn))},cjs$3.toMiliseconds(ut$1))))}isInitialized(){if(!this.initialized){const{message:Mn}=xe$2("NOT_INITIALIZED",this.name);throw new Error(Mn)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(Mn=>{const io=setInterval(()=>{this.connected&&(clearInterval(io),Mn())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var dn=Object.defineProperty,ri=Object.getOwnPropertySymbols,gn=Object.prototype.hasOwnProperty,pn=Object.prototype.propertyIsEnumerable,ni=(Fn,Mn,io)=>Mn in Fn?dn(Fn,Mn,{enumerable:!0,configurable:!0,writable:!0,value:io}):Fn[Mn]=io,oi=(Fn,Mn)=>{for(var io in Mn||(Mn={}))gn.call(Mn,io)&&ni(Fn,io,Mn[io]);if(ri)for(var io of ri(Mn))pn.call(Mn,io)&&ni(Fn,io,Mn[io]);return Fn};class ai extends p$8{constructor(Mn,io,fo,mo=O$3,$o=void 0){super(Mn,io,fo,mo),this.core=Mn,this.logger=io,this.name=fo,this.map=new Map,this.version=dt$1,this.cached=[],this.initialized=!1,this.storagePrefix=O$3,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(Ao=>{this.getKey&&Ao!==null&&!Pe(Ao)?this.map.set(this.getKey(Ao),Ao):lh(Ao)?this.map.set(Ao.id,Ao):dh(Ao)&&this.map.set(Ao.topic,Ao)}),this.cached=[],this.initialized=!0)},this.set=async(Ao,Lo)=>{this.isInitialized(),this.map.has(Ao)?await this.update(Ao,Lo):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:Ao,value:Lo}),this.map.set(Ao,Lo),await this.persist())},this.get=Ao=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:Ao}),this.getData(Ao)),this.getAll=Ao=>(this.isInitialized(),Ao?this.values.filter(Lo=>Object.keys(Ao).every(Wo=>bs(Lo[Wo],Ao[Wo]))):this.values),this.update=async(Ao,Lo)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:Ao,update:Lo});const Wo=oi(oi({},this.getData(Ao)),Lo);this.map.set(Ao,Wo),await this.persist()},this.delete=async(Ao,Lo)=>{this.isInitialized(),this.map.has(Ao)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:Ao,reason:Lo}),this.map.delete(Ao),this.addToRecentlyDeleted(Ao),await this.persist())},this.logger=E$4(io,this.name),this.storagePrefix=mo,this.getKey=$o}get context(){return y$7(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(Mn){this.recentlyDeleted.push(Mn),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(Mn){await this.core.storage.setItem(this.storageKey,Mn)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(Mn){const io=this.map.get(Mn);if(!io){if(this.recentlyDeleted.includes(Mn)){const{message:mo}=xe$2("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${Mn}`);throw this.logger.error(mo),new Error(mo)}const{message:fo}=xe$2("NO_MATCHING_KEY",`${this.name}: ${Mn}`);throw this.logger.error(fo),new Error(fo)}return io}async persist(){await this.setDataStore(this.values)}async restore(){try{const Mn=await this.getDataStore();if(typeof Mn>"u"||!Mn.length)return;if(this.map.size){const{message:io}=xe$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(io),new Error(io)}this.cached=Mn,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(Mn){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(Mn)}}isInitialized(){if(!this.initialized){const{message:Mn}=xe$2("NOT_INITIALIZED",this.name);throw new Error(Mn)}}}class ci{constructor(Mn,io){this.core=Mn,this.logger=io,this.name=mt$1,this.version=bt,this.events=new Jg,this.initialized=!1,this.storagePrefix=O$3,this.ignoredPayloadTypes=[pr$2],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:fo})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...fo])]},this.create=async fo=>{this.isInitialized();const mo=Bu(),$o=await this.core.crypto.setSymKey(mo),Ao=ws$1(cjs$3.FIVE_MINUTES),Lo={protocol:at$2},Wo={topic:$o,expiry:Ao,relay:Lo,active:!1,methods:fo==null?void 0:fo.methods},jo=$u({protocol:this.core.protocol,version:this.core.version,topic:$o,symKey:mo,relay:Lo,expiryTimestamp:Ao,methods:fo==null?void 0:fo.methods});return this.events.emit(q$2.create,Wo),this.core.expirer.set($o,Ao),await this.pairings.set($o,Wo),await this.core.relayer.subscribe($o,{transportType:fo==null?void 0:fo.transportType}),{topic:$o,uri:jo}},this.pair=async fo=>{this.isInitialized();const mo=this.core.eventClient.createEvent({properties:{topic:fo==null?void 0:fo.uri,trace:[z$3.pairing_started]}});this.isValidPair(fo,mo);const{topic:$o,symKey:Ao,relay:Lo,expiryTimestamp:Wo,methods:jo}=Xu(fo.uri);mo.props.properties.topic=$o,mo.addTrace(z$3.pairing_uri_validation_success),mo.addTrace(z$3.pairing_uri_not_expired);let zo;if(this.pairings.keys.includes($o)){if(zo=this.pairings.get($o),mo.addTrace(z$3.existing_pairing),zo.active)throw mo.setError(M$3.active_pairing_already_exists),new Error(`Pairing already exists: ${$o}. Please try again with a new connection URI.`);mo.addTrace(z$3.pairing_not_expired)}const Vo=Wo||ws$1(cjs$3.FIVE_MINUTES),Go={topic:$o,relay:Lo,expiry:Vo,active:!1,methods:jo};this.core.expirer.set($o,Vo),await this.pairings.set($o,Go),mo.addTrace(z$3.store_new_pairing),fo.activatePairing&&await this.activate({topic:$o}),this.events.emit(q$2.create,Go),mo.addTrace(z$3.emit_inactive_pairing),this.core.crypto.keychain.has($o)||await this.core.crypto.setSymKey(Ao,$o),mo.addTrace(z$3.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{mo.setError(M$3.no_internet_connection)}try{await this.core.relayer.subscribe($o,{relay:Lo})}catch(Jo){throw mo.setError(M$3.subscribe_pairing_topic_failure),Jo}return mo.addTrace(z$3.subscribe_pairing_topic_success),Go},this.activate=async({topic:fo})=>{this.isInitialized();const mo=ws$1(cjs$3.THIRTY_DAYS);this.core.expirer.set(fo,mo),await this.pairings.update(fo,{active:!0,expiry:mo})},this.ping=async fo=>{this.isInitialized(),await this.isValidPing(fo);const{topic:mo}=fo;if(this.pairings.keys.includes(mo)){const $o=await this.sendRequest(mo,"wc_pairingPing",{}),{done:Ao,resolve:Lo,reject:Wo}=gs();this.events.once(Ms$1("pairing_ping",$o),({error:jo})=>{jo?Wo(jo):Lo()}),await Ao()}},this.updateExpiry=async({topic:fo,expiry:mo})=>{this.isInitialized(),await this.pairings.update(fo,{expiry:mo})},this.updateMetadata=async({topic:fo,metadata:mo})=>{this.isInitialized(),await this.pairings.update(fo,{peerMetadata:mo})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async fo=>{this.isInitialized(),await this.isValidDisconnect(fo);const{topic:mo}=fo;this.pairings.keys.includes(mo)&&(await this.sendRequest(mo,"wc_pairingDelete",er$1("USER_DISCONNECTED")),await this.deletePairing(mo))},this.formatUriFromPairing=fo=>{this.isInitialized();const{topic:mo,relay:$o,expiry:Ao,methods:Lo}=fo,Wo=this.core.crypto.keychain.get(mo);return $u({protocol:this.core.protocol,version:this.core.version,topic:mo,symKey:Wo,relay:$o,expiryTimestamp:Ao,methods:Lo})},this.sendRequest=async(fo,mo,$o)=>{const Ao=formatJsonRpcRequest(mo,$o),Lo=await this.core.crypto.encode(fo,Ao),Wo=j$4[mo].req;return this.core.history.set(fo,Ao),this.core.relayer.publish(fo,Lo,Wo),Ao.id},this.sendResult=async(fo,mo,$o)=>{const Ao=formatJsonRpcResult(fo,$o),Lo=await this.core.crypto.encode(mo,Ao),Wo=await this.core.history.get(mo,fo),jo=j$4[Wo.request.method].res;await this.core.relayer.publish(mo,Lo,jo),await this.core.history.resolve(Ao)},this.sendError=async(fo,mo,$o)=>{const Ao=formatJsonRpcError(fo,$o),Lo=await this.core.crypto.encode(mo,Ao),Wo=await this.core.history.get(mo,fo),jo=j$4[Wo.request.method]?j$4[Wo.request.method].res:j$4.unregistered_method.res;await this.core.relayer.publish(mo,Lo,jo),await this.core.history.resolve(Ao)},this.deletePairing=async(fo,mo)=>{await this.core.relayer.unsubscribe(fo),await Promise.all([this.pairings.delete(fo,er$1("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(fo),mo?Promise.resolve():this.core.expirer.del(fo)])},this.cleanup=async()=>{const fo=this.pairings.getAll().filter(mo=>xs$1(mo.expiry));await Promise.all(fo.map(mo=>this.deletePairing(mo.topic)))},this.onRelayEventRequest=fo=>{const{topic:mo,payload:$o}=fo;switch($o.method){case"wc_pairingPing":return this.onPairingPingRequest(mo,$o);case"wc_pairingDelete":return this.onPairingDeleteRequest(mo,$o);default:return this.onUnknownRpcMethodRequest(mo,$o)}},this.onRelayEventResponse=async fo=>{const{topic:mo,payload:$o}=fo,Ao=(await this.core.history.get(mo,$o.id)).request.method;switch(Ao){case"wc_pairingPing":return this.onPairingPingResponse(mo,$o);default:return this.onUnknownRpcMethodResponse(Ao)}},this.onPairingPingRequest=async(fo,mo)=>{const{id:$o}=mo;try{this.isValidPing({topic:fo}),await this.sendResult($o,fo,!0),this.events.emit(q$2.ping,{id:$o,topic:fo})}catch(Ao){await this.sendError($o,fo,Ao),this.logger.error(Ao)}},this.onPairingPingResponse=(fo,mo)=>{const{id:$o}=mo;setTimeout(()=>{isJsonRpcResult(mo)?this.events.emit(Ms$1("pairing_ping",$o),{}):isJsonRpcError(mo)&&this.events.emit(Ms$1("pairing_ping",$o),{error:mo.error})},500)},this.onPairingDeleteRequest=async(fo,mo)=>{const{id:$o}=mo;try{this.isValidDisconnect({topic:fo}),await this.deletePairing(fo),this.events.emit(q$2.delete,{id:$o,topic:fo})}catch(Ao){await this.sendError($o,fo,Ao),this.logger.error(Ao)}},this.onUnknownRpcMethodRequest=async(fo,mo)=>{const{id:$o,method:Ao}=mo;try{if(this.registeredMethods.includes(Ao))return;const Lo=er$1("WC_METHOD_UNSUPPORTED",Ao);await this.sendError($o,fo,Lo),this.logger.error(Lo)}catch(Lo){await this.sendError($o,fo,Lo),this.logger.error(Lo)}},this.onUnknownRpcMethodResponse=fo=>{this.registeredMethods.includes(fo)||this.logger.error(er$1("WC_METHOD_UNSUPPORTED",fo))},this.isValidPair=(fo,mo)=>{var $o;if(!Ah(fo)){const{message:Lo}=xe$2("MISSING_OR_INVALID",`pair() params: ${fo}`);throw mo.setError(M$3.malformed_pairing_uri),new Error(Lo)}if(!ch(fo.uri)){const{message:Lo}=xe$2("MISSING_OR_INVALID",`pair() uri: ${fo.uri}`);throw mo.setError(M$3.malformed_pairing_uri),new Error(Lo)}const Ao=Xu(fo==null?void 0:fo.uri);if(!(($o=Ao==null?void 0:Ao.relay)!=null&&$o.protocol)){const{message:Lo}=xe$2("MISSING_OR_INVALID","pair() uri#relay-protocol");throw mo.setError(M$3.malformed_pairing_uri),new Error(Lo)}if(!(Ao!=null&&Ao.symKey)){const{message:Lo}=xe$2("MISSING_OR_INVALID","pair() uri#symKey");throw mo.setError(M$3.malformed_pairing_uri),new Error(Lo)}if(Ao!=null&&Ao.expiryTimestamp&&cjs$3.toMiliseconds(Ao==null?void 0:Ao.expiryTimestamp)<Date.now()){mo.setError(M$3.pairing_expired);const{message:Lo}=xe$2("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(Lo)}},this.isValidPing=async fo=>{if(!Ah(fo)){const{message:$o}=xe$2("MISSING_OR_INVALID",`ping() params: ${fo}`);throw new Error($o)}const{topic:mo}=fo;await this.isValidPairingTopic(mo)},this.isValidDisconnect=async fo=>{if(!Ah(fo)){const{message:$o}=xe$2("MISSING_OR_INVALID",`disconnect() params: ${fo}`);throw new Error($o)}const{topic:mo}=fo;await this.isValidPairingTopic(mo)},this.isValidPairingTopic=async fo=>{if(!Yt$1(fo,!1)){const{message:mo}=xe$2("MISSING_OR_INVALID",`pairing topic should be a string: ${fo}`);throw new Error(mo)}if(!this.pairings.keys.includes(fo)){const{message:mo}=xe$2("NO_MATCHING_KEY",`pairing topic doesn't exist: ${fo}`);throw new Error(mo)}if(xs$1(this.pairings.get(fo).expiry)){await this.deletePairing(fo);const{message:mo}=xe$2("EXPIRED",`pairing topic: ${fo}`);throw new Error(mo)}},this.core=Mn,this.logger=E$4(io,this.name),this.pairings=new ai(this.core,this.logger,this.name,this.storagePrefix)}get context(){return y$7(this.logger)}isInitialized(){if(!this.initialized){const{message:Mn}=xe$2("NOT_INITIALIZED",this.name);throw new Error(Mn)}}registerRelayerEvents(){this.core.relayer.on(w$3.message,async Mn=>{const{topic:io,message:fo,transportType:mo}=Mn;if(!this.pairings.keys.includes(io)||mo===F$2.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(fo)))return;const $o=await this.core.crypto.decode(io,fo);try{isJsonRpcRequest($o)?(this.core.history.set(io,$o),this.onRelayEventRequest({topic:io,payload:$o})):isJsonRpcResponse($o)&&(await this.core.history.resolve($o),await this.onRelayEventResponse({topic:io,payload:$o}),this.core.history.delete(io,$o.id))}catch(Ao){this.logger.error(Ao)}})}registerExpirerEvents(){this.core.expirer.on(R$2.expired,async Mn=>{const{topic:io}=ys$1(Mn.target);io&&this.pairings.keys.includes(io)&&(await this.deletePairing(io,!0),this.events.emit(q$2.expire,{topic:io}))})}}class hi extends h$d{constructor(Mn,io){super(Mn,io),this.core=Mn,this.logger=io,this.records=new Map,this.events=new eventsExports.EventEmitter,this.name=ft,this.version=_t$2,this.cached=[],this.initialized=!1,this.storagePrefix=O$3,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(fo=>this.records.set(fo.id,fo)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(fo,mo,$o)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:fo,request:mo,chainId:$o}),this.records.has(mo.id))return;const Ao={id:mo.id,topic:fo,request:{method:mo.method,params:mo.params||null},chainId:$o,expiry:ws$1(cjs$3.THIRTY_DAYS)};this.records.set(Ao.id,Ao),this.persist(),this.events.emit(P$4.created,Ao)},this.resolve=async fo=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:fo}),!this.records.has(fo.id))return;const mo=await this.getRecord(fo.id);typeof mo.response>"u"&&(mo.response=isJsonRpcError(fo)?{error:fo.error}:{result:fo.result},this.records.set(mo.id,mo),this.persist(),this.events.emit(P$4.updated,mo))},this.get=async(fo,mo)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:fo,id:mo}),await this.getRecord(mo)),this.delete=(fo,mo)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:mo}),this.values.forEach($o=>{if($o.topic===fo){if(typeof mo<"u"&&$o.id!==mo)return;this.records.delete($o.id),this.events.emit(P$4.deleted,$o)}}),this.persist()},this.exists=async(fo,mo)=>(this.isInitialized(),this.records.has(mo)?(await this.getRecord(mo)).topic===fo:!1),this.on=(fo,mo)=>{this.events.on(fo,mo)},this.once=(fo,mo)=>{this.events.once(fo,mo)},this.off=(fo,mo)=>{this.events.off(fo,mo)},this.removeListener=(fo,mo)=>{this.events.removeListener(fo,mo)},this.logger=E$4(io,this.name)}get context(){return y$7(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const Mn=[];return this.values.forEach(io=>{if(typeof io.response<"u")return;const fo={topic:io.topic,request:formatJsonRpcRequest(io.request.method,io.request.params,io.id),chainId:io.chainId};return Mn.push(fo)}),Mn}async setJsonRpcRecords(Mn){await this.core.storage.setItem(this.storageKey,Mn)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(Mn){this.isInitialized();const io=this.records.get(Mn);if(!io){const{message:fo}=xe$2("NO_MATCHING_KEY",`${this.name}: ${Mn}`);throw new Error(fo)}return io}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(P$4.sync)}async restore(){try{const Mn=await this.getJsonRpcRecords();if(typeof Mn>"u"||!Mn.length)return;if(this.records.size){const{message:io}=xe$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(io),new Error(io)}this.cached=Mn,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(Mn){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(Mn)}}registerEventListeners(){this.events.on(P$4.created,Mn=>{const io=P$4.created;this.logger.info(`Emitting ${io}`),this.logger.debug({type:"event",event:io,record:Mn})}),this.events.on(P$4.updated,Mn=>{const io=P$4.updated;this.logger.info(`Emitting ${io}`),this.logger.debug({type:"event",event:io,record:Mn})}),this.events.on(P$4.deleted,Mn=>{const io=P$4.deleted;this.logger.info(`Emitting ${io}`),this.logger.debug({type:"event",event:io,record:Mn})}),this.core.heartbeat.on(r$l.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let Mn=!1;this.records.forEach(io=>{cjs$3.toMiliseconds(io.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${io.id}`),this.records.delete(io.id),this.events.emit(P$4.deleted,io,!1),Mn=!0)}),Mn&&this.persist()}catch(Mn){this.logger.warn(Mn)}}isInitialized(){if(!this.initialized){const{message:Mn}=xe$2("NOT_INITIALIZED",this.name);throw new Error(Mn)}}}let li$2=class extends x$3{constructor(Mn,io){super(Mn,io),this.core=Mn,this.logger=io,this.expirations=new Map,this.events=new eventsExports.EventEmitter,this.name=Et,this.version=vt,this.cached=[],this.initialized=!1,this.storagePrefix=O$3,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(fo=>this.expirations.set(fo.target,fo)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=fo=>{try{const mo=this.formatTarget(fo);return typeof this.getExpiration(mo)<"u"}catch{return!1}},this.set=(fo,mo)=>{this.isInitialized();const $o=this.formatTarget(fo),Ao={target:$o,expiry:mo};this.expirations.set($o,Ao),this.checkExpiry($o,Ao),this.events.emit(R$2.created,{target:$o,expiration:Ao})},this.get=fo=>{this.isInitialized();const mo=this.formatTarget(fo);return this.getExpiration(mo)},this.del=fo=>{if(this.isInitialized(),this.has(fo)){const mo=this.formatTarget(fo),$o=this.getExpiration(mo);this.expirations.delete(mo),this.events.emit(R$2.deleted,{target:mo,expiration:$o})}},this.on=(fo,mo)=>{this.events.on(fo,mo)},this.once=(fo,mo)=>{this.events.once(fo,mo)},this.off=(fo,mo)=>{this.events.off(fo,mo)},this.removeListener=(fo,mo)=>{this.events.removeListener(fo,mo)},this.logger=E$4(io,this.name)}get context(){return y$7(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(Mn){if(typeof Mn=="string")return As$1(Mn);if(typeof Mn=="number")return bs$1(Mn);const{message:io}=xe$2("UNKNOWN_TYPE",`Target type: ${typeof Mn}`);throw new Error(io)}async setExpirations(Mn){await this.core.storage.setItem(this.storageKey,Mn)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(R$2.sync)}async restore(){try{const Mn=await this.getExpirations();if(typeof Mn>"u"||!Mn.length)return;if(this.expirations.size){const{message:io}=xe$2("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(io),new Error(io)}this.cached=Mn,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(Mn){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(Mn)}}getExpiration(Mn){const io=this.expirations.get(Mn);if(!io){const{message:fo}=xe$2("NO_MATCHING_KEY",`${this.name}: ${Mn}`);throw this.logger.warn(fo),new Error(fo)}return io}checkExpiry(Mn,io){const{expiry:fo}=io;cjs$3.toMiliseconds(fo)-Date.now()<=0&&this.expire(Mn,io)}expire(Mn,io){this.expirations.delete(Mn),this.events.emit(R$2.expired,{target:Mn,expiration:io})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((Mn,io)=>this.checkExpiry(io,Mn))}registerEventListeners(){this.core.heartbeat.on(r$l.pulse,()=>this.checkExpirations()),this.events.on(R$2.created,Mn=>{const io=R$2.created;this.logger.info(`Emitting ${io}`),this.logger.debug({type:"event",event:io,data:Mn}),this.persist()}),this.events.on(R$2.expired,Mn=>{const io=R$2.expired;this.logger.info(`Emitting ${io}`),this.logger.debug({type:"event",event:io,data:Mn}),this.persist()}),this.events.on(R$2.deleted,Mn=>{const io=R$2.deleted;this.logger.info(`Emitting ${io}`),this.logger.debug({type:"event",event:io,data:Mn}),this.persist()})}isInitialized(){if(!this.initialized){const{message:Mn}=xe$2("NOT_INITIALIZED",this.name);throw new Error(Mn)}}};var y$4={};Object.defineProperty(y$4,"__esModule",{value:!0}),y$4.getLocalStorage=y$4.getLocalStorageOrThrow=y$4.getCrypto=y$4.getCryptoOrThrow=y$4.getLocation=y$4.getLocationOrThrow=y$4.getNavigator=y$4.getNavigatorOrThrow=ui=y$4.getDocument=y$4.getDocumentOrThrow=y$4.getFromWindowOrThrow=y$4.getFromWindow=void 0;function U$1(Fn){let Mn;return typeof window<"u"&&typeof window[Fn]<"u"&&(Mn=window[Fn]),Mn}y$4.getFromWindow=U$1;function G$1(Fn){const Mn=U$1(Fn);if(!Mn)throw new Error(`${Fn} is not defined in Window`);return Mn}y$4.getFromWindowOrThrow=G$1;function yn(){return G$1("document")}y$4.getDocumentOrThrow=yn;function Dn(){return U$1("document")}var ui=y$4.getDocument=Dn;function mn(){return G$1("navigator")}y$4.getNavigatorOrThrow=mn;function bn(){return U$1("navigator")}y$4.getNavigator=bn;function fn(){return G$1("location")}y$4.getLocationOrThrow=fn;function _n$1(){return U$1("location")}y$4.getLocation=_n$1;function En(){return G$1("crypto")}y$4.getCryptoOrThrow=En;function vn(){return U$1("crypto")}y$4.getCrypto=vn;function wn(){return G$1("localStorage")}y$4.getLocalStorageOrThrow=wn;function In(){return U$1("localStorage")}y$4.getLocalStorage=In;class di extends y$5{constructor(Mn,io,fo){super(Mn,io,fo),this.core=Mn,this.logger=io,this.store=fo,this.name=wt,this.verifyUrlV3=Tt$1,this.storagePrefix=O$3,this.version=fe$1,this.init=async()=>{var mo;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&cjs$3.toMiliseconds((mo=this.publicKey)==null?void 0:mo.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async mo=>{if(!gr$1()||this.isDevEnv)return;const $o=window.location.origin,{id:Ao,decryptedId:Lo}=mo,Wo=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${$o}&id=${Ao}&decryptedId=${Lo}`;try{const jo=ui(),zo=this.startAbortTimer(cjs$3.ONE_SECOND*5),Vo=await new Promise((Go,Jo)=>{const Qo=()=>{window.removeEventListener("message",Cl),jo.body.removeChild(os),Jo("attestation aborted")};this.abortController.signal.addEventListener("abort",Qo);const os=jo.createElement("iframe");os.src=Wo,os.style.display="none",os.addEventListener("error",Qo,{signal:this.abortController.signal});const Cl=xl=>{if(xl.data&&typeof xl.data=="string")try{const ds=JSON.parse(xl.data);if(ds.type==="verify_attestation"){if(decodeJWT(ds.attestation).payload.id!==Ao)return;clearInterval(zo),jo.body.removeChild(os),this.abortController.signal.removeEventListener("abort",Qo),window.removeEventListener("message",Cl),Go(ds.attestation===null?"":ds.attestation)}}catch(ds){this.logger.warn(ds)}};jo.body.appendChild(os),window.addEventListener("message",Cl,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",Vo),Vo}catch(jo){this.logger.warn(jo)}return""},this.resolve=async mo=>{if(this.isDevEnv)return"";const{attestationId:$o,hash:Ao,encryptedId:Lo}=mo;if($o===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if($o){if(decodeJWT($o).payload.id!==Lo)return;const jo=await this.isValidJwtAttestation($o);if(jo){if(!jo.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return jo}}if(!Ao)return;const Wo=this.getVerifyUrl(mo==null?void 0:mo.verifyUrl);return this.fetchAttestation(Ao,Wo)},this.fetchAttestation=async(mo,$o)=>{this.logger.debug(`resolving attestation: ${mo} from url: ${$o}`);const Ao=this.startAbortTimer(cjs$3.ONE_SECOND*5),Lo=await fetch(`${$o}/attestation/${mo}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(Ao),Lo.status===200?await Lo.json():void 0},this.getVerifyUrl=mo=>{let $o=mo||Z$1;return Ct.includes($o)||(this.logger.info(`verify url: ${$o}, not included in trusted list, assigning default: ${Z$1}`),$o=Z$1),$o},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const mo=this.startAbortTimer(cjs$3.FIVE_SECONDS),$o=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(mo),await $o.json()}catch(mo){this.logger.warn(mo)}},this.persistPublicKey=async mo=>{this.logger.debug("persisting public key to local storage",mo),await this.store.setItem(this.storeKey,mo),this.publicKey=mo},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async mo=>{const $o=await this.getPublicKey();try{if($o)return this.validateAttestation(mo,$o)}catch(Lo){this.logger.error(Lo),this.logger.warn("error validating attestation")}const Ao=await this.fetchAndPersistPublicKey();try{if(Ao)return this.validateAttestation(mo,Ao)}catch(Lo){this.logger.error(Lo),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async $o=>{const Ao=await this.fetchPublicKey();Ao&&(await this.persistPublicKey(Ao),$o(Ao))});const mo=await this.fetchPromise;return this.fetchPromise=void 0,mo},this.validateAttestation=(mo,$o)=>{const Ao=Lu(mo,$o.publicKey),Lo={hasExpired:cjs$3.toMiliseconds(Ao.exp)<Date.now(),payload:Ao};if(Lo.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:Lo.payload.origin,isScam:Lo.payload.isScam,isVerified:Lo.payload.isVerified}},this.logger=E$4(io,this.name),this.abortController=new AbortController,this.isDevEnv=_s$1(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return y$7(this.logger)}startAbortTimer(Mn){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),cjs$3.toMiliseconds(Mn))}}class gi extends v$7{constructor(Mn,io){super(Mn,io),this.projectId=Mn,this.logger=io,this.context=St,this.registerDeviceToken=async fo=>{const{clientId:mo,token:$o,notificationType:Ao,enableEncrypted:Lo=!1}=fo,Wo=`${Pt}/${this.projectId}/clients`;await fetch(Wo,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:mo,type:Ao,token:$o,always_raw:Lo})})},this.logger=E$4(io,this.context)}}var Tn=Object.defineProperty,pi=Object.getOwnPropertySymbols,Cn=Object.prototype.hasOwnProperty,Sn=Object.prototype.propertyIsEnumerable,yi=(Fn,Mn,io)=>Mn in Fn?Tn(Fn,Mn,{enumerable:!0,configurable:!0,writable:!0,value:io}):Fn[Mn]=io,te=(Fn,Mn)=>{for(var io in Mn||(Mn={}))Cn.call(Mn,io)&&yi(Fn,io,Mn[io]);if(pi)for(var io of pi(Mn))Sn.call(Mn,io)&&yi(Fn,io,Mn[io]);return Fn};class Di extends C$3{constructor(Mn,io,fo=!0){super(Mn,io,fo),this.core=Mn,this.logger=io,this.context=xt,this.storagePrefix=O$3,this.storageVersion=Rt,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!_s$1())try{const mo={eventId:Ns$1(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Pn$1(this.core.relayer.protocol,this.core.relayer.version,oe$2)}}};await this.sendEvent([mo])}catch(mo){this.logger.warn(mo)}},this.createEvent=mo=>{const{event:$o="ERROR",type:Ao="",properties:{topic:Lo,trace:Wo}}=mo,jo=Ns$1(),zo=this.core.projectId||"",Vo=Date.now(),Go=te({eventId:jo,timestamp:Vo,props:{event:$o,type:Ao,properties:{topic:Lo,trace:Wo}},bundleId:zo,domain:this.getAppDomain()},this.setMethods(jo));return this.telemetryEnabled&&(this.events.set(jo,Go),this.shouldPersist=!0),Go},this.getEvent=mo=>{const{eventId:$o,topic:Ao}=mo;if($o)return this.events.get($o);const Lo=Array.from(this.events.values()).find(Wo=>Wo.props.properties.topic===Ao);if(Lo)return te(te({},Lo),this.setMethods(Lo.eventId))},this.deleteEvent=mo=>{const{eventId:$o}=mo;this.events.delete($o),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(r$l.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(mo=>{cjs$3.fromMiliseconds(Date.now())-cjs$3.fromMiliseconds(mo.timestamp)>Ot$1&&(this.events.delete(mo.eventId),this.shouldPersist=!0)})})},this.setMethods=mo=>({addTrace:$o=>this.addTrace(mo,$o),setError:$o=>this.setError(mo,$o)}),this.addTrace=(mo,$o)=>{const Ao=this.events.get(mo);Ao&&(Ao.props.properties.trace.push($o),this.events.set(mo,Ao),this.shouldPersist=!0)},this.setError=(mo,$o)=>{const Ao=this.events.get(mo);Ao&&(Ao.props.type=$o,Ao.timestamp=Date.now(),this.events.set(mo,Ao),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const mo=await this.core.storage.getItem(this.storageKey)||[];if(!mo.length)return;mo.forEach($o=>{this.events.set($o.eventId,te(te({},$o),this.setMethods($o.eventId)))})}catch(mo){this.logger.warn(mo)}},this.submit=async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const mo=[];for(const[$o,Ao]of this.events)Ao.props.type&&mo.push(Ao);if(mo.length!==0)try{if((await this.sendEvent(mo)).ok)for(const $o of mo)this.events.delete($o.eventId),this.shouldPersist=!0}catch($o){this.logger.warn($o)}},this.sendEvent=async mo=>{const $o=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${At$1}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${oe$2}${$o}`,{method:"POST",body:JSON.stringify(mo)})},this.getAppDomain=()=>fs$1().url,this.logger=E$4(io,this.context),this.telemetryEnabled=fo,fo?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Pn=Object.defineProperty,mi=Object.getOwnPropertySymbols,Rn=Object.prototype.hasOwnProperty,xn=Object.prototype.propertyIsEnumerable,bi=(Fn,Mn,io)=>Mn in Fn?Pn(Fn,Mn,{enumerable:!0,configurable:!0,writable:!0,value:io}):Fn[Mn]=io,fi=(Fn,Mn)=>{for(var io in Mn||(Mn={}))Rn.call(Mn,io)&&bi(Fn,io,Mn[io]);if(mi)for(var io of mi(Mn))xn.call(Mn,io)&&bi(Fn,io,Mn[io]);return Fn};let ce$1=class R6 extends n$h{constructor(Mn){var io;super(Mn),this.protocol=be$2,this.version=fe$1,this.name=ne$2,this.events=new eventsExports.EventEmitter,this.initialized=!1,this.on=(Ao,Lo)=>this.events.on(Ao,Lo),this.once=(Ao,Lo)=>this.events.once(Ao,Lo),this.off=(Ao,Lo)=>this.events.off(Ao,Lo),this.removeListener=(Ao,Lo)=>this.events.removeListener(Ao,Lo),this.dispatchEnvelope=({topic:Ao,message:Lo,sessionExists:Wo})=>{if(!Ao||!Lo)return;const jo={topic:Ao,message:Lo,publishedAt:Date.now(),transportType:F$2.link_mode};this.relayer.onLinkMessageEvent(jo,{sessionExists:Wo})},this.projectId=Mn==null?void 0:Mn.projectId,this.relayUrl=(Mn==null?void 0:Mn.relayUrl)||Ee$1,this.customStoragePrefix=Mn!=null&&Mn.customStoragePrefix?`:${Mn.customStoragePrefix}`:"";const fo=k$4({level:typeof(Mn==null?void 0:Mn.logger)=="string"&&Mn.logger?Mn.logger:Xe.logger}),{logger:mo,chunkLoggerController:$o}=A$4({opts:fo,maxSizeInBytes:Mn==null?void 0:Mn.maxLogBlobSizeInBytes,loggerOverride:Mn==null?void 0:Mn.logger});this.logChunkController=$o,(io=this.logChunkController)!=null&&io.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var Ao,Lo;(Ao=this.logChunkController)!=null&&Ao.downloadLogsBlobInBrowser&&((Lo=this.logChunkController)==null||Lo.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=E$4(mo,this.name),this.heartbeat=new i$b,this.crypto=new Wt(this,this.logger,Mn==null?void 0:Mn.keychain),this.history=new hi(this,this.logger),this.expirer=new li$2(this,this.logger),this.storage=Mn!=null&&Mn.storage?Mn.storage:new h$e(fi(fi({},Ze),Mn==null?void 0:Mn.storageOptions)),this.relayer=new si({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new ci(this,this.logger),this.verify=new di(this,this.logger,this.storage),this.echoClient=new gi(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Di(this,this.logger,Mn==null?void 0:Mn.telemetryEnabled)}static async init(Mn){const io=new R6(Mn);await io.initialize();const fo=await io.crypto.getClientId();return await io.storage.setItem(gt$2,fo),io}get context(){return y$7(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var Mn;return(Mn=this.logChunkController)==null?void 0:Mn.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(Mn){this.linkModeSupportedApps.includes(Mn)||(this.linkModeSupportedApps.push(Mn),await this.storage.setItem(ve$1,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(ve$1)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(Mn){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,Mn),this.logger.error(Mn.message),Mn}}};const On=ce$1,be$1="wc",Ce=2,Le="client",ye$1=`${be$1}@${Ce}:${Le}:`,we={name:Le,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},xe$1="WALLETCONNECT_DEEPLINK_CHOICE",st="proposal",it$1="Proposal expired",rt="session",z$2=cjs$3.SEVEN_DAYS,nt="engine",v$6={wc_sessionPropose:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1104},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1106},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:cjs$3.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1112},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1114},res:{ttl:cjs$3.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:cjs$3.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:cjs$3.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:cjs$3.FIVE_MINUTES,prompt:!1,tag:1119}}},me={min:cjs$3.FIVE_MINUTES,max:cjs$3.SEVEN_DAYS},x$2={idle:"IDLE",active:"ACTIVE"},ot="request",at$1=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],ct="wc",lt="auth",pt$1="authKeys",ht="pairingTopics",dt="requests",oe$1=`${ct}@${1.5}:${lt}:`,ae$1=`${oe$1}:PUB_KEY`;var ys=Object.defineProperty,ws=Object.defineProperties,ms=Object.getOwnPropertyDescriptors,ut=Object.getOwnPropertySymbols,_s=Object.prototype.hasOwnProperty,Es=Object.prototype.propertyIsEnumerable,gt$1=(Fn,Mn,io)=>Mn in Fn?ys(Fn,Mn,{enumerable:!0,configurable:!0,writable:!0,value:io}):Fn[Mn]=io,I$3=(Fn,Mn)=>{for(var io in Mn||(Mn={}))_s.call(Mn,io)&&gt$1(Fn,io,Mn[io]);if(ut)for(var io of ut(Mn))Es.call(Mn,io)&&gt$1(Fn,io,Mn[io]);return Fn},D$1=(Fn,Mn)=>ws(Fn,ms(Mn));class Rs extends M$4{constructor(Mn){super(Mn),this.name=nt,this.events=new Jg,this.initialized=!1,this.requestQueue={state:x$2.idle,queue:[]},this.sessionRequestQueue={state:x$2.idle,queue:[]},this.requestQueueDelay=cjs$3.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(v$6)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},cjs$3.toMiliseconds(this.requestQueueDelay)))},this.connect=async io=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const fo=D$1(I$3({},io),{requiredNamespaces:io.requiredNamespaces||{},optionalNamespaces:io.optionalNamespaces||{}});await this.isValidConnect(fo);const{pairingTopic:mo,requiredNamespaces:$o,optionalNamespaces:Ao,sessionProperties:Lo,relays:Wo}=fo;let jo=mo,zo,Vo=!1;try{jo&&(Vo=this.client.core.pairing.pairings.get(jo).active)}catch($l){throw this.client.logger.error(`connect() -> pairing.get(${jo}) failed`),$l}if(!jo||!Vo){const{topic:$l,uri:Al}=await this.client.core.pairing.create();jo=$l,zo=Al}if(!jo){const{message:$l}=xe$2("NO_MATCHING_KEY",`connect() pairing topic: ${jo}`);throw new Error($l)}const Go=await this.client.core.crypto.generateKeyPair(),Jo=v$6.wc_sessionPropose.req.ttl||cjs$3.FIVE_MINUTES,Qo=ws$1(Jo),os=I$3({requiredNamespaces:$o,optionalNamespaces:Ao,relays:Wo??[{protocol:at$2}],proposer:{publicKey:Go,metadata:this.client.metadata},expiryTimestamp:Qo,pairingTopic:jo},Lo&&{sessionProperties:Lo}),{reject:Cl,resolve:xl,done:ds}=gs(Jo,it$1);this.events.once(Ms$1("session_connect"),async({error:$l,session:Al})=>{if($l)Cl($l);else if(Al){Al.self.publicKey=Go;const Il=D$1(I$3({},Al),{pairingTopic:os.pairingTopic,requiredNamespaces:os.requiredNamespaces,optionalNamespaces:os.optionalNamespaces,transportType:F$2.relay});await this.client.session.set(Al.topic,Il),await this.setExpiry(Al.topic,Al.expiry),jo&&await this.client.core.pairing.updateMetadata({topic:jo,metadata:Al.peer.metadata}),this.cleanupDuplicatePairings(Il),xl(Il)}});const _c=await this.sendRequest({topic:jo,method:"wc_sessionPropose",params:os,throwOnFailedPublish:!0});return await this.setProposal(_c,I$3({id:_c},os)),{uri:zo,approval:ds}},this.pair=async io=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(io)}catch(fo){throw this.client.logger.error("pair() failed"),fo}},this.approve=async io=>{var fo,mo,$o;const Ao=this.client.core.eventClient.createEvent({properties:{topic:(fo=io==null?void 0:io.id)==null?void 0:fo.toString(),trace:[Cs.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(ps){throw Ao.setError(Ss$1.no_internet_connection),ps}try{await this.isValidProposalId(io==null?void 0:io.id)}catch(ps){throw this.client.logger.error(`approve() -> proposal.get(${io==null?void 0:io.id}) failed`),Ao.setError(Ss$1.proposal_not_found),ps}try{await this.isValidApprove(io)}catch(ps){throw this.client.logger.error("approve() -> isValidApprove() failed"),Ao.setError(Ss$1.session_approve_namespace_validation_failure),ps}const{id:Lo,relayProtocol:Wo,namespaces:jo,sessionProperties:zo,sessionConfig:Vo}=io,Go=this.client.proposal.get(Lo);this.client.core.eventClient.deleteEvent({eventId:Ao.eventId});const{pairingTopic:Jo,proposer:Qo,requiredNamespaces:os,optionalNamespaces:Cl}=Go;let xl=(mo=this.client.core.eventClient)==null?void 0:mo.getEvent({topic:Jo});xl||(xl=($o=this.client.core.eventClient)==null?void 0:$o.createEvent({type:Cs.session_approve_started,properties:{topic:Jo,trace:[Cs.session_approve_started,Cs.session_namespaces_validation_success]}}));const ds=await this.client.core.crypto.generateKeyPair(),_c=Qo.publicKey,$l=await this.client.core.crypto.generateSharedKey(ds,_c),Al=I$3(I$3({relay:{protocol:Wo??"irn"},namespaces:jo,controller:{publicKey:ds,metadata:this.client.metadata},expiry:ws$1(z$2)},zo&&{sessionProperties:zo}),Vo&&{sessionConfig:Vo}),Il=F$2.relay;xl.addTrace(Cs.subscribing_session_topic);try{await this.client.core.relayer.subscribe($l,{transportType:Il})}catch(ps){throw xl.setError(Ss$1.subscribe_session_topic_failure),ps}xl.addTrace(Cs.subscribe_session_topic_success);const us=D$1(I$3({},Al),{topic:$l,requiredNamespaces:os,optionalNamespaces:Cl,pairingTopic:Jo,acknowledged:!1,self:Al.controller,peer:{publicKey:Qo.publicKey,metadata:Qo.metadata},controller:ds,transportType:F$2.relay});await this.client.session.set($l,us),xl.addTrace(Cs.store_session);try{xl.addTrace(Cs.publishing_session_settle),await this.sendRequest({topic:$l,method:"wc_sessionSettle",params:Al,throwOnFailedPublish:!0}).catch(ps=>{throw xl==null||xl.setError(Ss$1.session_settle_publish_failure),ps}),xl.addTrace(Cs.session_settle_publish_success),xl.addTrace(Cs.publishing_session_approve),await this.sendResult({id:Lo,topic:Jo,result:{relay:{protocol:Wo??"irn"},responderPublicKey:ds},throwOnFailedPublish:!0}).catch(ps=>{throw xl==null||xl.setError(Ss$1.session_approve_publish_failure),ps}),xl.addTrace(Cs.session_approve_publish_success)}catch(ps){throw this.client.logger.error(ps),this.client.session.delete($l,er$1("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe($l),ps}return this.client.core.eventClient.deleteEvent({eventId:xl.eventId}),await this.client.core.pairing.updateMetadata({topic:Jo,metadata:Qo.metadata}),await this.client.proposal.delete(Lo,er$1("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:Jo}),await this.setExpiry($l,ws$1(z$2)),{topic:$l,acknowledged:()=>Promise.resolve(this.client.session.get($l))}},this.reject=async io=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(io)}catch(Ao){throw this.client.logger.error("reject() -> isValidReject() failed"),Ao}const{id:fo,reason:mo}=io;let $o;try{$o=this.client.proposal.get(fo).pairingTopic}catch(Ao){throw this.client.logger.error(`reject() -> proposal.get(${fo}) failed`),Ao}$o&&(await this.sendError({id:fo,topic:$o,error:mo,rpcOpts:v$6.wc_sessionPropose.reject}),await this.client.proposal.delete(fo,er$1("USER_DISCONNECTED")))},this.update=async io=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(io)}catch(Vo){throw this.client.logger.error("update() -> isValidUpdate() failed"),Vo}const{topic:fo,namespaces:mo}=io,{done:$o,resolve:Ao,reject:Lo}=gs(),Wo=payloadId(),jo=getBigIntRpcId().toString(),zo=this.client.session.get(fo).namespaces;return this.events.once(Ms$1("session_update",Wo),({error:Vo})=>{Vo?Lo(Vo):Ao()}),await this.client.session.update(fo,{namespaces:mo}),await this.sendRequest({topic:fo,method:"wc_sessionUpdate",params:{namespaces:mo},throwOnFailedPublish:!0,clientRpcId:Wo,relayRpcId:jo}).catch(Vo=>{this.client.logger.error(Vo),this.client.session.update(fo,{namespaces:zo}),Lo(Vo)}),{acknowledged:$o}},this.extend=async io=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(io)}catch(Wo){throw this.client.logger.error("extend() -> isValidExtend() failed"),Wo}const{topic:fo}=io,mo=payloadId(),{done:$o,resolve:Ao,reject:Lo}=gs();return this.events.once(Ms$1("session_extend",mo),({error:Wo})=>{Wo?Lo(Wo):Ao()}),await this.setExpiry(fo,ws$1(z$2)),this.sendRequest({topic:fo,method:"wc_sessionExtend",params:{},clientRpcId:mo,throwOnFailedPublish:!0}).catch(Wo=>{Lo(Wo)}),{acknowledged:$o}},this.request=async io=>{this.isInitialized();try{await this.isValidRequest(io)}catch(Qo){throw this.client.logger.error("request() -> isValidRequest() failed"),Qo}const{chainId:fo,request:mo,topic:$o,expiry:Ao=v$6.wc_sessionRequest.req.ttl}=io,Lo=this.client.session.get($o);(Lo==null?void 0:Lo.transportType)===F$2.relay&&await this.confirmOnlineStateOrThrow();const Wo=payloadId(),jo=getBigIntRpcId().toString(),{done:zo,resolve:Vo,reject:Go}=gs(Ao,"Request expired. Please try again.");this.events.once(Ms$1("session_request",Wo),({error:Qo,result:os})=>{Qo?Go(Qo):Vo(os)});const Jo=this.getAppLinkIfEnabled(Lo.peer.metadata,Lo.transportType);return Jo?(await this.sendRequest({clientRpcId:Wo,relayRpcId:jo,topic:$o,method:"wc_sessionRequest",params:{request:D$1(I$3({},mo),{expiryTimestamp:ws$1(Ao)}),chainId:fo},expiry:Ao,throwOnFailedPublish:!0,appLink:Jo}).catch(Qo=>Go(Qo)),this.client.events.emit("session_request_sent",{topic:$o,request:mo,chainId:fo,id:Wo}),await zo()):await Promise.all([new Promise(async Qo=>{await this.sendRequest({clientRpcId:Wo,relayRpcId:jo,topic:$o,method:"wc_sessionRequest",params:{request:D$1(I$3({},mo),{expiryTimestamp:ws$1(Ao)}),chainId:fo},expiry:Ao,throwOnFailedPublish:!0}).catch(os=>Go(os)),this.client.events.emit("session_request_sent",{topic:$o,request:mo,chainId:fo,id:Wo}),Qo()}),new Promise(async Qo=>{var os;if(!((os=Lo.sessionConfig)!=null&&os.disableDeepLink)){const Cl=await Ss$2(this.client.core.storage,xe$1);await Es$1({id:Wo,topic:$o,wcDeepLink:Cl})}Qo()}),zo()]).then(Qo=>Qo[2])},this.respond=async io=>{this.isInitialized(),await this.isValidRespond(io);const{topic:fo,response:mo}=io,{id:$o}=mo,Ao=this.client.session.get(fo);Ao.transportType===F$2.relay&&await this.confirmOnlineStateOrThrow();const Lo=this.getAppLinkIfEnabled(Ao.peer.metadata,Ao.transportType);isJsonRpcResult(mo)?await this.sendResult({id:$o,topic:fo,result:mo.result,throwOnFailedPublish:!0,appLink:Lo}):isJsonRpcError(mo)&&await this.sendError({id:$o,topic:fo,error:mo.error,appLink:Lo}),this.cleanupAfterResponse(io)},this.ping=async io=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(io)}catch(mo){throw this.client.logger.error("ping() -> isValidPing() failed"),mo}const{topic:fo}=io;if(this.client.session.keys.includes(fo)){const mo=payloadId(),$o=getBigIntRpcId().toString(),{done:Ao,resolve:Lo,reject:Wo}=gs();this.events.once(Ms$1("session_ping",mo),({error:jo})=>{jo?Wo(jo):Lo()}),await Promise.all([this.sendRequest({topic:fo,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:mo,relayRpcId:$o}),Ao()])}else this.client.core.pairing.pairings.keys.includes(fo)&&await this.client.core.pairing.ping({topic:fo})},this.emit=async io=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(io);const{topic:fo,event:mo,chainId:$o}=io,Ao=getBigIntRpcId().toString();await this.sendRequest({topic:fo,method:"wc_sessionEvent",params:{event:mo,chainId:$o},throwOnFailedPublish:!0,relayRpcId:Ao})},this.disconnect=async io=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(io);const{topic:fo}=io;if(this.client.session.keys.includes(fo))await this.sendRequest({topic:fo,method:"wc_sessionDelete",params:er$1("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:fo,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(fo))await this.client.core.pairing.disconnect({topic:fo});else{const{message:mo}=xe$2("MISMATCHED_TOPIC",`Session or pairing topic not found: ${fo}`);throw new Error(mo)}},this.find=io=>(this.isInitialized(),this.client.session.getAll().filter(fo=>hh(fo,io))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(io,fo)=>{var mo;this.isInitialized(),this.isValidAuthenticate(io);const $o=fo&&this.client.core.linkModeSupportedApps.includes(fo)&&((mo=this.client.metadata.redirect)==null?void 0:mo.linkMode),Ao=$o?F$2.link_mode:F$2.relay;Ao===F$2.relay&&await this.confirmOnlineStateOrThrow();const{chains:Lo,statement:Wo="",uri:jo,domain:zo,nonce:Vo,type:Go,exp:Jo,nbf:Qo,methods:os=[],expiry:Cl}=io,xl=[...io.resources||[]],{topic:ds,uri:_c}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:Ao});this.client.logger.info({message:"Generated new pairing",pairing:{topic:ds,uri:_c}});const $l=await this.client.core.crypto.generateKeyPair(),Al=Ru($l);if(await Promise.all([this.client.auth.authKeys.set(ae$1,{responseTopic:Al,publicKey:$l}),this.client.auth.pairingTopics.set(Al,{topic:Al,pairingTopic:ds})]),await this.client.core.relayer.subscribe(Al,{transportType:Ao}),this.client.logger.info(`sending request to new pairing topic: ${ds}`),os.length>0){const{namespace:Sl}=An(Lo[0]);let Tl=xu(Sl,"request",os);Vr$1(xl)&&(Tl=Mu(Tl,xl.pop())),xl.push(Tl)}const Il=Cl&&Cl>v$6.wc_sessionAuthenticate.req.ttl?Cl:v$6.wc_sessionAuthenticate.req.ttl,us={authPayload:{type:Go??"caip122",chains:Lo,statement:Wo,aud:jo,domain:zo,version:"1",nonce:Vo,iat:new Date().toISOString(),exp:Jo,nbf:Qo,resources:xl},requester:{publicKey:$l,metadata:this.client.metadata},expiryTimestamp:ws$1(Il)},ps={eip155:{chains:Lo,methods:[...new Set(["personal_sign",...os])],events:["chainChanged","accountsChanged"]}},Rl={requiredNamespaces:{},optionalNamespaces:ps,relays:[{protocol:"irn"}],pairingTopic:ds,proposer:{publicKey:$l,metadata:this.client.metadata},expiryTimestamp:ws$1(v$6.wc_sessionPropose.req.ttl)},{done:Wl,resolve:Nl,reject:wl}=gs(Il,"Request expired"),Xo=async({error:Sl,session:Tl})=>{if(this.events.off(Ms$1("session_request",as),rs),Sl)wl(Sl);else if(Tl){Tl.self.publicKey=$l,await this.client.session.set(Tl.topic,Tl),await this.setExpiry(Tl.topic,Tl.expiry),ds&&await this.client.core.pairing.updateMetadata({topic:ds,metadata:Tl.peer.metadata});const hs=this.client.session.get(Tl.topic);await this.deleteProposal(El),Nl({session:hs})}},rs=async Sl=>{var Tl,hs,yl;if(await this.deletePendingAuthRequest(as,{message:"fulfilled",code:0}),Sl.error){const Jl=er$1("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return Sl.error.code===Jl.code?void 0:(this.events.off(Ms$1("session_connect"),Xo),wl(Sl.error.message))}await this.deleteProposal(El),this.events.off(Ms$1("session_connect"),Xo);const{cacaos:Fl,responder:Xl}=Sl.result,bu=[],Ul=[];for(const Jl of Fl){await mu({cacao:Jl,projectId:this.client.core.projectId})||(this.client.logger.error(Jl,"Signature verification failed"),wl(er$1("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Ql}=Jl,Ol=Vr$1(Ql.resources),Zl=[gu(Ql.iss)],rp=Vi(Ql.iss);if(Ol){const op=Eu(Ol),lp=Su(Ol);bu.push(...op),Zl.push(...lp)}for(const op of Zl)Ul.push(`${op}:${rp}`)}const yu=await this.client.core.crypto.generateSharedKey($l,Xl.publicKey);let Vl;bu.length>0&&(Vl={topic:yu,acknowledged:!0,self:{publicKey:$l,metadata:this.client.metadata},peer:Xl,controller:Xl.publicKey,expiry:ws$1(z$2),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:ds,namespaces:uh([...new Set(bu)],[...new Set(Ul)]),transportType:Ao},await this.client.core.relayer.subscribe(yu,{transportType:Ao}),await this.client.session.set(yu,Vl),ds&&await this.client.core.pairing.updateMetadata({topic:ds,metadata:Xl.metadata}),Vl=this.client.session.get(yu)),(Tl=this.client.metadata.redirect)!=null&&Tl.linkMode&&(hs=Xl.metadata.redirect)!=null&&hs.linkMode&&(yl=Xl.metadata.redirect)!=null&&yl.universal&&fo&&(this.client.core.addLinkModeSupportedApp(Xl.metadata.redirect.universal),this.client.session.update(yu,{transportType:F$2.link_mode})),Nl({auths:Fl,session:Vl})},as=payloadId(),El=payloadId();this.events.once(Ms$1("session_connect"),Xo),this.events.once(Ms$1("session_request",as),rs);let Pl;try{if($o){const Sl=formatJsonRpcRequest("wc_sessionAuthenticate",us,as);this.client.core.history.set(ds,Sl);const Tl=await this.client.core.crypto.encode("",Sl,{type:Sr$1,encoding:Iu});Pl=Zu(fo,ds,Tl)}else await Promise.all([this.sendRequest({topic:ds,method:"wc_sessionAuthenticate",params:us,expiry:io.expiry,throwOnFailedPublish:!0,clientRpcId:as}),this.sendRequest({topic:ds,method:"wc_sessionPropose",params:Rl,expiry:v$6.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:El})])}catch(Sl){throw this.events.off(Ms$1("session_connect"),Xo),this.events.off(Ms$1("session_request",as),rs),Sl}return await this.setProposal(El,I$3({id:El},Rl)),await this.setAuthRequest(as,{request:D$1(I$3({},us),{verifyContext:{}}),pairingTopic:ds,transportType:Ao}),{uri:Pl??_c,response:Wl}},this.approveSessionAuthenticate=async io=>{const{id:fo,auths:mo}=io,$o=this.client.core.eventClient.createEvent({properties:{topic:fo.toString(),trace:[Ps.authenticated_session_approve_started]}});try{this.isInitialized()}catch(Cl){throw $o.setError(Rs$1.no_internet_connection),Cl}const Ao=this.getPendingAuthRequest(fo);if(!Ao)throw $o.setError(Rs$1.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${fo}`);const Lo=Ao.transportType||F$2.relay;Lo===F$2.relay&&await this.confirmOnlineStateOrThrow();const Wo=Ao.requester.publicKey,jo=await this.client.core.crypto.generateKeyPair(),zo=Ru(Wo),Vo={type:pr$2,receiverPublicKey:Wo,senderPublicKey:jo},Go=[],Jo=[];for(const Cl of mo){if(!await mu({cacao:Cl,projectId:this.client.core.projectId})){$o.setError(Rs$1.invalid_cacao);const Al=er$1("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:fo,topic:zo,error:Al,encodeOpts:Vo}),new Error(Al.message)}$o.addTrace(Ps.cacaos_verified);const{p:xl}=Cl,ds=Vr$1(xl.resources),_c=[gu(xl.iss)],$l=Vi(xl.iss);if(ds){const Al=Eu(ds),Il=Su(ds);Go.push(...Al),_c.push(...Il)}for(const Al of _c)Jo.push(`${Al}:${$l}`)}const Qo=await this.client.core.crypto.generateSharedKey(jo,Wo);$o.addTrace(Ps.create_authenticated_session_topic);let os;if((Go==null?void 0:Go.length)>0){os={topic:Qo,acknowledged:!0,self:{publicKey:jo,metadata:this.client.metadata},peer:{publicKey:Wo,metadata:Ao.requester.metadata},controller:Wo,expiry:ws$1(z$2),authentication:mo,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:Ao.pairingTopic,namespaces:uh([...new Set(Go)],[...new Set(Jo)]),transportType:Lo},$o.addTrace(Ps.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(Qo,{transportType:Lo})}catch(Cl){throw $o.setError(Rs$1.subscribe_authenticated_session_topic_failure),Cl}$o.addTrace(Ps.subscribe_authenticated_session_topic_success),await this.client.session.set(Qo,os),$o.addTrace(Ps.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:Ao.pairingTopic,metadata:Ao.requester.metadata})}$o.addTrace(Ps.publishing_authenticated_session_approve);try{await this.sendResult({topic:zo,id:fo,result:{cacaos:mo,responder:{publicKey:jo,metadata:this.client.metadata}},encodeOpts:Vo,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(Ao.requester.metadata,Lo)})}catch(Cl){throw $o.setError(Rs$1.authenticated_session_approve_publish_failure),Cl}return await this.client.auth.requests.delete(fo,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:Ao.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:$o.eventId}),{session:os}},this.rejectSessionAuthenticate=async io=>{this.isInitialized();const{id:fo,reason:mo}=io,$o=this.getPendingAuthRequest(fo);if(!$o)throw new Error(`Could not find pending auth request with id ${fo}`);$o.transportType===F$2.relay&&await this.confirmOnlineStateOrThrow();const Ao=$o.requester.publicKey,Lo=await this.client.core.crypto.generateKeyPair(),Wo=Ru(Ao),jo={type:pr$2,receiverPublicKey:Ao,senderPublicKey:Lo};await this.sendError({id:fo,topic:Wo,error:mo,encodeOpts:jo,rpcOpts:v$6.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled($o.requester.metadata,$o.transportType)}),await this.client.auth.requests.delete(fo,{message:"rejected",code:0}),await this.client.proposal.delete(fo,er$1("USER_DISCONNECTED"))},this.formatAuthMessage=io=>{this.isInitialized();const{request:fo,iss:mo}=io;return Wf(fo,mo)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const io=this.relayMessageCache.shift();io&&await this.onRelayMessage(io)}catch(io){this.client.logger.error(io)}},50)},this.cleanupDuplicatePairings=async io=>{if(io.pairingTopic)try{const fo=this.client.core.pairing.pairings.get(io.pairingTopic),mo=this.client.core.pairing.pairings.getAll().filter($o=>{var Ao,Lo;return((Ao=$o.peerMetadata)==null?void 0:Ao.url)&&((Lo=$o.peerMetadata)==null?void 0:Lo.url)===io.peer.metadata.url&&$o.topic&&$o.topic!==fo.topic});if(mo.length===0)return;this.client.logger.info(`Cleaning up ${mo.length} duplicate pairing(s)`),await Promise.all(mo.map($o=>this.client.core.pairing.disconnect({topic:$o.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(fo){this.client.logger.error(fo)}},this.deleteSession=async io=>{var fo;const{topic:mo,expirerHasDeleted:$o=!1,emitEvent:Ao=!0,id:Lo=0}=io,{self:Wo}=this.client.session.get(mo);await this.client.core.relayer.unsubscribe(mo),await this.client.session.delete(mo,er$1("USER_DISCONNECTED")),this.addToRecentlyDeleted(mo,"session"),this.client.core.crypto.keychain.has(Wo.publicKey)&&await this.client.core.crypto.deleteKeyPair(Wo.publicKey),this.client.core.crypto.keychain.has(mo)&&await this.client.core.crypto.deleteSymKey(mo),$o||this.client.core.expirer.del(mo),this.client.core.storage.removeItem(xe$1).catch(jo=>this.client.logger.warn(jo)),this.getPendingSessionRequests().forEach(jo=>{jo.topic===mo&&this.deletePendingSessionRequest(jo.id,er$1("USER_DISCONNECTED"))}),mo===((fo=this.sessionRequestQueue.queue[0])==null?void 0:fo.topic)&&(this.sessionRequestQueue.state=x$2.idle),Ao&&this.client.events.emit("session_delete",{id:Lo,topic:mo})},this.deleteProposal=async(io,fo)=>{if(fo)try{const mo=this.client.proposal.get(io),$o=this.client.core.eventClient.getEvent({topic:mo.pairingTopic});$o==null||$o.setError(Ss$1.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(io,er$1("USER_DISCONNECTED")),fo?Promise.resolve():this.client.core.expirer.del(io)]),this.addToRecentlyDeleted(io,"proposal")},this.deletePendingSessionRequest=async(io,fo,mo=!1)=>{await Promise.all([this.client.pendingRequest.delete(io,fo),mo?Promise.resolve():this.client.core.expirer.del(io)]),this.addToRecentlyDeleted(io,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter($o=>$o.id!==io),mo&&(this.sessionRequestQueue.state=x$2.idle,this.client.events.emit("session_request_expire",{id:io}))},this.deletePendingAuthRequest=async(io,fo,mo=!1)=>{await Promise.all([this.client.auth.requests.delete(io,fo),mo?Promise.resolve():this.client.core.expirer.del(io)])},this.setExpiry=async(io,fo)=>{this.client.session.keys.includes(io)&&(this.client.core.expirer.set(io,fo),await this.client.session.update(io,{expiry:fo}))},this.setProposal=async(io,fo)=>{this.client.core.expirer.set(io,ws$1(v$6.wc_sessionPropose.req.ttl)),await this.client.proposal.set(io,fo)},this.setAuthRequest=async(io,fo)=>{const{request:mo,pairingTopic:$o,transportType:Ao=F$2.relay}=fo;this.client.core.expirer.set(io,mo.expiryTimestamp),await this.client.auth.requests.set(io,{authPayload:mo.authPayload,requester:mo.requester,expiryTimestamp:mo.expiryTimestamp,id:io,pairingTopic:$o,verifyContext:mo.verifyContext,transportType:Ao})},this.setPendingSessionRequest=async io=>{const{id:fo,topic:mo,params:$o,verifyContext:Ao}=io,Lo=$o.request.expiryTimestamp||ws$1(v$6.wc_sessionRequest.req.ttl);this.client.core.expirer.set(fo,Lo),await this.client.pendingRequest.set(fo,{id:fo,topic:mo,params:$o,verifyContext:Ao})},this.sendRequest=async io=>{const{topic:fo,method:mo,params:$o,expiry:Ao,relayRpcId:Lo,clientRpcId:Wo,throwOnFailedPublish:jo,appLink:zo}=io,Vo=formatJsonRpcRequest(mo,$o,Wo);let Go;const Jo=!!zo;try{const Cl=Jo?Iu:tn$1;Go=await this.client.core.crypto.encode(fo,Vo,{encoding:Cl})}catch(Cl){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${fo} failed`),Cl}let Qo;if(at$1.includes(mo)){const Cl=Ou(JSON.stringify(Vo)),xl=Ou(Go);Qo=await this.client.core.verify.register({id:xl,decryptedId:Cl})}const os=v$6[mo].req;if(os.attestation=Qo,Ao&&(os.ttl=Ao),Lo&&(os.id=Lo),this.client.core.history.set(fo,Vo),Jo){const Cl=Zu(zo,fo,Go);await global.Linking.openURL(Cl,this.client.name)}else{const Cl=v$6[mo].req;Ao&&(Cl.ttl=Ao),Lo&&(Cl.id=Lo),jo?(Cl.internal=D$1(I$3({},Cl.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(fo,Go,Cl)):this.client.core.relayer.publish(fo,Go,Cl).catch(xl=>this.client.logger.error(xl))}return Vo.id},this.sendResult=async io=>{const{id:fo,topic:mo,result:$o,throwOnFailedPublish:Ao,encodeOpts:Lo,appLink:Wo}=io,jo=formatJsonRpcResult(fo,$o);let zo;const Vo=Wo&&typeof(global==null?void 0:global.Linking)<"u";try{const Jo=Vo?Iu:tn$1;zo=await this.client.core.crypto.encode(mo,jo,D$1(I$3({},Lo||{}),{encoding:Jo}))}catch(Jo){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${mo} failed`),Jo}let Go;try{Go=await this.client.core.history.get(mo,fo)}catch(Jo){throw this.client.logger.error(`sendResult() -> history.get(${mo}, ${fo}) failed`),Jo}if(Vo){const Jo=Zu(Wo,mo,zo);await global.Linking.openURL(Jo,this.client.name)}else{const Jo=v$6[Go.request.method].res;Ao?(Jo.internal=D$1(I$3({},Jo.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(mo,zo,Jo)):this.client.core.relayer.publish(mo,zo,Jo).catch(Qo=>this.client.logger.error(Qo))}await this.client.core.history.resolve(jo)},this.sendError=async io=>{const{id:fo,topic:mo,error:$o,encodeOpts:Ao,rpcOpts:Lo,appLink:Wo}=io,jo=formatJsonRpcError(fo,$o);let zo;const Vo=Wo&&typeof(global==null?void 0:global.Linking)<"u";try{const Jo=Vo?Iu:tn$1;zo=await this.client.core.crypto.encode(mo,jo,D$1(I$3({},Ao||{}),{encoding:Jo}))}catch(Jo){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${mo} failed`),Jo}let Go;try{Go=await this.client.core.history.get(mo,fo)}catch(Jo){throw this.client.logger.error(`sendError() -> history.get(${mo}, ${fo}) failed`),Jo}if(Vo){const Jo=Zu(Wo,mo,zo);await global.Linking.openURL(Jo,this.client.name)}else{const Jo=Lo||v$6[Go.request.method].res;this.client.core.relayer.publish(mo,zo,Jo)}await this.client.core.history.resolve(jo)},this.cleanup=async()=>{const io=[],fo=[];this.client.session.getAll().forEach(mo=>{let $o=!1;xs$1(mo.expiry)&&($o=!0),this.client.core.crypto.keychain.has(mo.topic)||($o=!0),$o&&io.push(mo.topic)}),this.client.proposal.getAll().forEach(mo=>{xs$1(mo.expiryTimestamp)&&fo.push(mo.id)}),await Promise.all([...io.map(mo=>this.deleteSession({topic:mo})),...fo.map(mo=>this.deleteProposal(mo))])},this.onRelayEventRequest=async io=>{this.requestQueue.queue.push(io),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===x$2.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=x$2.active;const io=this.requestQueue.queue.shift();if(io)try{await this.processRequest(io)}catch(fo){this.client.logger.warn(fo)}}this.requestQueue.state=x$2.idle},this.processRequest=async io=>{const{topic:fo,payload:mo,attestation:$o,transportType:Ao,encryptedId:Lo}=io,Wo=mo.method;if(!this.shouldIgnorePairingRequest({topic:fo,requestMethod:Wo}))switch(Wo){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:fo,payload:mo,attestation:$o,encryptedId:Lo});case"wc_sessionSettle":return await this.onSessionSettleRequest(fo,mo);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(fo,mo);case"wc_sessionExtend":return await this.onSessionExtendRequest(fo,mo);case"wc_sessionPing":return await this.onSessionPingRequest(fo,mo);case"wc_sessionDelete":return await this.onSessionDeleteRequest(fo,mo);case"wc_sessionRequest":return await this.onSessionRequest({topic:fo,payload:mo,attestation:$o,encryptedId:Lo,transportType:Ao});case"wc_sessionEvent":return await this.onSessionEventRequest(fo,mo);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:fo,payload:mo,attestation:$o,encryptedId:Lo,transportType:Ao});default:return this.client.logger.info(`Unsupported request method ${Wo}`)}},this.onRelayEventResponse=async io=>{const{topic:fo,payload:mo,transportType:$o}=io,Ao=(await this.client.core.history.get(fo,mo.id)).request.method;switch(Ao){case"wc_sessionPropose":return this.onSessionProposeResponse(fo,mo,$o);case"wc_sessionSettle":return this.onSessionSettleResponse(fo,mo);case"wc_sessionUpdate":return this.onSessionUpdateResponse(fo,mo);case"wc_sessionExtend":return this.onSessionExtendResponse(fo,mo);case"wc_sessionPing":return this.onSessionPingResponse(fo,mo);case"wc_sessionRequest":return this.onSessionRequestResponse(fo,mo);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(fo,mo);default:return this.client.logger.info(`Unsupported response method ${Ao}`)}},this.onRelayEventUnknownPayload=io=>{const{topic:fo}=io,{message:mo}=xe$2("MISSING_OR_INVALID",`Decoded payload on topic ${fo} is not identifiable as a JSON-RPC request or a response.`);throw new Error(mo)},this.shouldIgnorePairingRequest=io=>{const{topic:fo,requestMethod:mo}=io,$o=this.expectedPairingMethodMap.get(fo);return!$o||$o.includes(mo)?!1:!!($o.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async io=>{const{topic:fo,payload:mo,attestation:$o,encryptedId:Ao}=io,{params:Lo,id:Wo}=mo;try{const jo=this.client.core.eventClient.getEvent({topic:fo});this.isValidConnect(I$3({},mo.params));const zo=Lo.expiryTimestamp||ws$1(v$6.wc_sessionPropose.req.ttl),Vo=I$3({id:Wo,pairingTopic:fo,expiryTimestamp:zo},Lo);await this.setProposal(Wo,Vo);const Go=await this.getVerifyContext({attestationId:$o,hash:Ou(JSON.stringify(mo)),encryptedId:Ao,metadata:Vo.proposer.metadata});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),jo==null||jo.setError(M$3.proposal_listener_not_found)),jo==null||jo.addTrace(z$3.emit_session_proposal),this.client.events.emit("session_proposal",{id:Wo,params:Vo,verifyContext:Go})}catch(jo){await this.sendError({id:Wo,topic:fo,error:jo,rpcOpts:v$6.wc_sessionPropose.autoReject}),this.client.logger.error(jo)}},this.onSessionProposeResponse=async(io,fo,mo)=>{const{id:$o}=fo;if(isJsonRpcResult(fo)){const{result:Ao}=fo;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:Ao});const Lo=this.client.proposal.get($o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:Lo});const Wo=Lo.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:Wo});const jo=Ao.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:jo});const zo=await this.client.core.crypto.generateSharedKey(Wo,jo);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:zo});const Vo=await this.client.core.relayer.subscribe(zo,{transportType:mo});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:Vo}),await this.client.core.pairing.activate({topic:io})}else if(isJsonRpcError(fo)){await this.client.proposal.delete($o,er$1("USER_DISCONNECTED"));const Ao=Ms$1("session_connect");if(this.events.listenerCount(Ao)===0)throw new Error(`emitting ${Ao} without any listeners, 954`);this.events.emit(Ms$1("session_connect"),{error:fo.error})}},this.onSessionSettleRequest=async(io,fo)=>{const{id:mo,params:$o}=fo;try{this.isValidSessionSettleRequest($o);const{relay:Ao,controller:Lo,expiry:Wo,namespaces:jo,sessionProperties:zo,sessionConfig:Vo}=fo.params,Go=D$1(I$3(I$3({topic:io,relay:Ao,expiry:Wo,namespaces:jo,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:Lo.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:Lo.publicKey,metadata:Lo.metadata}},zo&&{sessionProperties:zo}),Vo&&{sessionConfig:Vo}),{transportType:F$2.relay}),Jo=Ms$1("session_connect");if(this.events.listenerCount(Jo)===0)throw new Error(`emitting ${Jo} without any listeners 997`);this.events.emit(Ms$1("session_connect"),{session:Go}),await this.sendResult({id:fo.id,topic:io,result:!0,throwOnFailedPublish:!0})}catch(Ao){await this.sendError({id:mo,topic:io,error:Ao}),this.client.logger.error(Ao)}},this.onSessionSettleResponse=async(io,fo)=>{const{id:mo}=fo;isJsonRpcResult(fo)?(await this.client.session.update(io,{acknowledged:!0}),this.events.emit(Ms$1("session_approve",mo),{})):isJsonRpcError(fo)&&(await this.client.session.delete(io,er$1("USER_DISCONNECTED")),this.events.emit(Ms$1("session_approve",mo),{error:fo.error}))},this.onSessionUpdateRequest=async(io,fo)=>{const{params:mo,id:$o}=fo;try{const Ao=`${io}_session_update`,Lo=Rh.get(Ao);if(Lo&&this.isRequestOutOfSync(Lo,$o)){this.client.logger.info(`Discarding out of sync request - ${$o}`),this.sendError({id:$o,topic:io,error:er$1("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(I$3({topic:io},mo));try{Rh.set(Ao,$o),await this.client.session.update(io,{namespaces:mo.namespaces}),await this.sendResult({id:$o,topic:io,result:!0,throwOnFailedPublish:!0})}catch(Wo){throw Rh.delete(Ao),Wo}this.client.events.emit("session_update",{id:$o,topic:io,params:mo})}catch(Ao){await this.sendError({id:$o,topic:io,error:Ao}),this.client.logger.error(Ao)}},this.isRequestOutOfSync=(io,fo)=>parseInt(fo.toString().slice(0,-3))<=parseInt(io.toString().slice(0,-3)),this.onSessionUpdateResponse=(io,fo)=>{const{id:mo}=fo,$o=Ms$1("session_update",mo);if(this.events.listenerCount($o)===0)throw new Error(`emitting ${$o} without any listeners`);isJsonRpcResult(fo)?this.events.emit(Ms$1("session_update",mo),{}):isJsonRpcError(fo)&&this.events.emit(Ms$1("session_update",mo),{error:fo.error})},this.onSessionExtendRequest=async(io,fo)=>{const{id:mo}=fo;try{this.isValidExtend({topic:io}),await this.setExpiry(io,ws$1(z$2)),await this.sendResult({id:mo,topic:io,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:mo,topic:io})}catch($o){await this.sendError({id:mo,topic:io,error:$o}),this.client.logger.error($o)}},this.onSessionExtendResponse=(io,fo)=>{const{id:mo}=fo,$o=Ms$1("session_extend",mo);if(this.events.listenerCount($o)===0)throw new Error(`emitting ${$o} without any listeners`);isJsonRpcResult(fo)?this.events.emit(Ms$1("session_extend",mo),{}):isJsonRpcError(fo)&&this.events.emit(Ms$1("session_extend",mo),{error:fo.error})},this.onSessionPingRequest=async(io,fo)=>{const{id:mo}=fo;try{this.isValidPing({topic:io}),await this.sendResult({id:mo,topic:io,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:mo,topic:io})}catch($o){await this.sendError({id:mo,topic:io,error:$o}),this.client.logger.error($o)}},this.onSessionPingResponse=(io,fo)=>{const{id:mo}=fo,$o=Ms$1("session_ping",mo);if(this.events.listenerCount($o)===0)throw new Error(`emitting ${$o} without any listeners`);setTimeout(()=>{isJsonRpcResult(fo)?this.events.emit(Ms$1("session_ping",mo),{}):isJsonRpcError(fo)&&this.events.emit(Ms$1("session_ping",mo),{error:fo.error})},500)},this.onSessionDeleteRequest=async(io,fo)=>{const{id:mo}=fo;try{this.isValidDisconnect({topic:io,reason:fo.params}),Promise.all([new Promise($o=>{this.client.core.relayer.once(w$3.publish,async()=>{$o(await this.deleteSession({topic:io,id:mo}))})}),this.sendResult({id:mo,topic:io,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:io,error:er$1("USER_DISCONNECTED")})]).catch($o=>this.client.logger.error($o))}catch($o){this.client.logger.error($o)}},this.onSessionRequest=async io=>{var fo,mo,$o;const{topic:Ao,payload:Lo,attestation:Wo,encryptedId:jo,transportType:zo}=io,{id:Vo,params:Go}=Lo;try{await this.isValidRequest(I$3({topic:Ao},Go));const Jo=this.client.session.get(Ao),Qo=await this.getVerifyContext({attestationId:Wo,hash:Ou(JSON.stringify(formatJsonRpcRequest("wc_sessionRequest",Go,Vo))),encryptedId:jo,metadata:Jo.peer.metadata,transportType:zo}),os={id:Vo,topic:Ao,params:Go,verifyContext:Qo};await this.setPendingSessionRequest(os),zo===F$2.link_mode&&(fo=Jo.peer.metadata.redirect)!=null&&fo.universal&&this.client.core.addLinkModeSupportedApp((mo=Jo.peer.metadata.redirect)==null?void 0:mo.universal),($o=this.client.signConfig)!=null&&$o.disableRequestQueue?this.emitSessionRequest(os):(this.addSessionRequestToSessionRequestQueue(os),this.processSessionRequestQueue())}catch(Jo){await this.sendError({id:Vo,topic:Ao,error:Jo}),this.client.logger.error(Jo)}},this.onSessionRequestResponse=(io,fo)=>{const{id:mo}=fo,$o=Ms$1("session_request",mo);if(this.events.listenerCount($o)===0)throw new Error(`emitting ${$o} without any listeners`);isJsonRpcResult(fo)?this.events.emit(Ms$1("session_request",mo),{result:fo.result}):isJsonRpcError(fo)&&this.events.emit(Ms$1("session_request",mo),{error:fo.error})},this.onSessionEventRequest=async(io,fo)=>{const{id:mo,params:$o}=fo;try{const Ao=`${io}_session_event_${$o.event.name}`,Lo=Rh.get(Ao);if(Lo&&this.isRequestOutOfSync(Lo,mo)){this.client.logger.info(`Discarding out of sync request - ${mo}`);return}this.isValidEmit(I$3({topic:io},$o)),this.client.events.emit("session_event",{id:mo,topic:io,params:$o}),Rh.set(Ao,mo)}catch(Ao){await this.sendError({id:mo,topic:io,error:Ao}),this.client.logger.error(Ao)}},this.onSessionAuthenticateResponse=(io,fo)=>{const{id:mo}=fo;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:io,payload:fo}),isJsonRpcResult(fo)?this.events.emit(Ms$1("session_request",mo),{result:fo.result}):isJsonRpcError(fo)&&this.events.emit(Ms$1("session_request",mo),{error:fo.error})},this.onSessionAuthenticateRequest=async io=>{var fo;const{topic:mo,payload:$o,attestation:Ao,encryptedId:Lo,transportType:Wo}=io;try{const{requester:jo,authPayload:zo,expiryTimestamp:Vo}=$o.params,Go=await this.getVerifyContext({attestationId:Ao,hash:Ou(JSON.stringify($o)),encryptedId:Lo,metadata:jo.metadata,transportType:Wo}),Jo={requester:jo,pairingTopic:mo,id:$o.id,authPayload:zo,verifyContext:Go,expiryTimestamp:Vo};await this.setAuthRequest($o.id,{request:Jo,pairingTopic:mo,transportType:Wo}),Wo===F$2.link_mode&&(fo=jo.metadata.redirect)!=null&&fo.universal&&this.client.core.addLinkModeSupportedApp(jo.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:mo,params:$o.params,id:$o.id,verifyContext:Go})}catch(jo){this.client.logger.error(jo);const zo=$o.params.requester.publicKey,Vo=await this.client.core.crypto.generateKeyPair(),Go=this.getAppLinkIfEnabled($o.params.requester.metadata,Wo),Jo={type:pr$2,receiverPublicKey:zo,senderPublicKey:Vo};await this.sendError({id:$o.id,topic:mo,error:jo,encodeOpts:Jo,rpcOpts:v$6.wc_sessionAuthenticate.autoReject,appLink:Go})}},this.addSessionRequestToSessionRequestQueue=io=>{this.sessionRequestQueue.queue.push(io)},this.cleanupAfterResponse=io=>{this.deletePendingSessionRequest(io.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=x$2.idle,this.processSessionRequestQueue()},cjs$3.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:io,error:fo})=>{const mo=this.client.core.history.pending;mo.length>0&&mo.filter($o=>$o.topic===io&&$o.request.method==="wc_sessionRequest").forEach($o=>{const Ao=$o.request.id,Lo=Ms$1("session_request",Ao);if(this.events.listenerCount(Lo)===0)throw new Error(`emitting ${Lo} without any listeners`);this.events.emit(Ms$1("session_request",$o.request.id),{error:fo})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===x$2.active){this.client.logger.info("session request queue is already active.");return}const io=this.sessionRequestQueue.queue[0];if(!io){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=x$2.active,this.emitSessionRequest(io)}catch(fo){this.client.logger.error(fo)}},this.emitSessionRequest=io=>{this.client.events.emit("session_request",io)},this.onPairingCreated=io=>{if(io.methods&&this.expectedPairingMethodMap.set(io.topic,io.methods),io.active)return;const fo=this.client.proposal.getAll().find(mo=>mo.pairingTopic===io.topic);fo&&this.onSessionProposeRequest({topic:io.topic,payload:formatJsonRpcRequest("wc_sessionPropose",{requiredNamespaces:fo.requiredNamespaces,optionalNamespaces:fo.optionalNamespaces,relays:fo.relays,proposer:fo.proposer,sessionProperties:fo.sessionProperties},fo.id)})},this.isValidConnect=async io=>{if(!Ah(io)){const{message:Wo}=xe$2("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(io)}`);throw new Error(Wo)}const{pairingTopic:fo,requiredNamespaces:mo,optionalNamespaces:$o,sessionProperties:Ao,relays:Lo}=io;if(Pe(fo)||await this.isValidPairingTopic(fo),!gh(Lo)){const{message:Wo}=xe$2("MISSING_OR_INVALID",`connect() relays: ${Lo}`);throw new Error(Wo)}!Pe(mo)&&Xr$1(mo)!==0&&this.validateNamespaces(mo,"requiredNamespaces"),!Pe($o)&&Xr$1($o)!==0&&this.validateNamespaces($o,"optionalNamespaces"),Pe(Ao)||this.validateSessionProps(Ao,"sessionProperties")},this.validateNamespaces=(io,fo)=>{const mo=vh(io,"connect()",fo);if(mo)throw new Error(mo.message)},this.isValidApprove=async io=>{if(!Ah(io))throw new Error(xe$2("MISSING_OR_INVALID",`approve() params: ${io}`).message);const{id:fo,namespaces:mo,relayProtocol:$o,sessionProperties:Ao}=io;this.checkRecentlyDeleted(fo),await this.isValidProposalId(fo);const Lo=this.client.proposal.get(fo),Wo=Oo(mo,"approve()");if(Wo)throw new Error(Wo.message);const jo=To(Lo.requiredNamespaces,mo,"approve()");if(jo)throw new Error(jo.message);if(!Yt$1($o,!0)){const{message:zo}=xe$2("MISSING_OR_INVALID",`approve() relayProtocol: ${$o}`);throw new Error(zo)}Pe(Ao)||this.validateSessionProps(Ao,"sessionProperties")},this.isValidReject=async io=>{if(!Ah(io)){const{message:$o}=xe$2("MISSING_OR_INVALID",`reject() params: ${io}`);throw new Error($o)}const{id:fo,reason:mo}=io;if(this.checkRecentlyDeleted(fo),await this.isValidProposalId(fo),!bh(mo)){const{message:$o}=xe$2("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(mo)}`);throw new Error($o)}},this.isValidSessionSettleRequest=io=>{if(!Ah(io)){const{message:jo}=xe$2("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${io}`);throw new Error(jo)}const{relay:fo,controller:mo,namespaces:$o,expiry:Ao}=io;if(!Po(fo)){const{message:jo}=xe$2("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(jo)}const Lo=ph(mo,"onSessionSettleRequest()");if(Lo)throw new Error(Lo.message);const Wo=Oo($o,"onSessionSettleRequest()");if(Wo)throw new Error(Wo.message);if(xs$1(Ao)){const{message:jo}=xe$2("EXPIRED","onSessionSettleRequest()");throw new Error(jo)}},this.isValidUpdate=async io=>{if(!Ah(io)){const{message:Wo}=xe$2("MISSING_OR_INVALID",`update() params: ${io}`);throw new Error(Wo)}const{topic:fo,namespaces:mo}=io;this.checkRecentlyDeleted(fo),await this.isValidSessionTopic(fo);const $o=this.client.session.get(fo),Ao=Oo(mo,"update()");if(Ao)throw new Error(Ao.message);const Lo=To($o.requiredNamespaces,mo,"update()");if(Lo)throw new Error(Lo.message)},this.isValidExtend=async io=>{if(!Ah(io)){const{message:mo}=xe$2("MISSING_OR_INVALID",`extend() params: ${io}`);throw new Error(mo)}const{topic:fo}=io;this.checkRecentlyDeleted(fo),await this.isValidSessionTopic(fo)},this.isValidRequest=async io=>{if(!Ah(io)){const{message:Wo}=xe$2("MISSING_OR_INVALID",`request() params: ${io}`);throw new Error(Wo)}const{topic:fo,request:mo,chainId:$o,expiry:Ao}=io;this.checkRecentlyDeleted(fo),await this.isValidSessionTopic(fo);const{namespaces:Lo}=this.client.session.get(fo);if(!Mh(Lo,$o)){const{message:Wo}=xe$2("MISSING_OR_INVALID",`request() chainId: ${$o}`);throw new Error(Wo)}if(!yh(mo)){const{message:Wo}=xe$2("MISSING_OR_INVALID",`request() ${JSON.stringify(mo)}`);throw new Error(Wo)}if(!Eh(Lo,$o,mo.method)){const{message:Wo}=xe$2("MISSING_OR_INVALID",`request() method: ${mo.method}`);throw new Error(Wo)}if(Ao&&!_h(Ao,me)){const{message:Wo}=xe$2("MISSING_OR_INVALID",`request() expiry: ${Ao}. Expiry must be a number (in seconds) between ${me.min} and ${me.max}`);throw new Error(Wo)}},this.isValidRespond=async io=>{var fo;if(!Ah(io)){const{message:Ao}=xe$2("MISSING_OR_INVALID",`respond() params: ${io}`);throw new Error(Ao)}const{topic:mo,response:$o}=io;try{await this.isValidSessionTopic(mo)}catch(Ao){throw(fo=io==null?void 0:io.response)!=null&&fo.id&&this.cleanupAfterResponse(io),Ao}if(!wh($o)){const{message:Ao}=xe$2("MISSING_OR_INVALID",`respond() response: ${JSON.stringify($o)}`);throw new Error(Ao)}},this.isValidPing=async io=>{if(!Ah(io)){const{message:mo}=xe$2("MISSING_OR_INVALID",`ping() params: ${io}`);throw new Error(mo)}const{topic:fo}=io;await this.isValidSessionOrPairingTopic(fo)},this.isValidEmit=async io=>{if(!Ah(io)){const{message:Lo}=xe$2("MISSING_OR_INVALID",`emit() params: ${io}`);throw new Error(Lo)}const{topic:fo,event:mo,chainId:$o}=io;await this.isValidSessionTopic(fo);const{namespaces:Ao}=this.client.session.get(fo);if(!Mh(Ao,$o)){const{message:Lo}=xe$2("MISSING_OR_INVALID",`emit() chainId: ${$o}`);throw new Error(Lo)}if(!xh(mo)){const{message:Lo}=xe$2("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(mo)}`);throw new Error(Lo)}if(!Sh(Ao,$o,mo.name)){const{message:Lo}=xe$2("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(mo)}`);throw new Error(Lo)}},this.isValidDisconnect=async io=>{if(!Ah(io)){const{message:mo}=xe$2("MISSING_OR_INVALID",`disconnect() params: ${io}`);throw new Error(mo)}const{topic:fo}=io;await this.isValidSessionOrPairingTopic(fo)},this.isValidAuthenticate=io=>{const{chains:fo,uri:mo,domain:$o,nonce:Ao}=io;if(!Array.isArray(fo)||fo.length===0)throw new Error("chains is required and must be a non-empty array");if(!Yt$1(mo,!1))throw new Error("uri is required parameter");if(!Yt$1($o,!1))throw new Error("domain is required parameter");if(!Yt$1(Ao,!1))throw new Error("nonce is required parameter");if([...new Set(fo.map(Wo=>An(Wo).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:Lo}=An(fo[0]);if(Lo!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async io=>{const{attestationId:fo,hash:mo,encryptedId:$o,metadata:Ao,transportType:Lo}=io,Wo={verified:{verifyUrl:Ao.verifyUrl||Z$1,validation:"UNKNOWN",origin:Ao.url||""}};try{if(Lo===F$2.link_mode){const zo=this.getAppLinkIfEnabled(Ao,Lo);return Wo.verified.validation=zo&&new URL(zo).origin===new URL(Ao.url).origin?"VALID":"INVALID",Wo}const jo=await this.client.core.verify.resolve({attestationId:fo,hash:mo,encryptedId:$o,verifyUrl:Ao.verifyUrl});jo&&(Wo.verified.origin=jo.origin,Wo.verified.isScam=jo.isScam,Wo.verified.validation=jo.origin===new URL(Ao.url).origin?"VALID":"INVALID")}catch(jo){this.client.logger.warn(jo)}return this.client.logger.debug(`Verify context: ${JSON.stringify(Wo)}`),Wo},this.validateSessionProps=(io,fo)=>{Object.values(io).forEach(mo=>{if(!Yt$1(mo,!1)){const{message:$o}=xe$2("MISSING_OR_INVALID",`${fo} must be in Record<string, string> format. Received: ${JSON.stringify(mo)}`);throw new Error($o)}})},this.getPendingAuthRequest=io=>{const fo=this.client.auth.requests.get(io);return typeof fo=="object"?fo:void 0},this.addToRecentlyDeleted=(io,fo)=>{if(this.recentlyDeletedMap.set(io,fo),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let mo=0;const $o=this.recentlyDeletedLimit/2;for(const Ao of this.recentlyDeletedMap.keys()){if(mo++>=$o)break;this.recentlyDeletedMap.delete(Ao)}}},this.checkRecentlyDeleted=io=>{const fo=this.recentlyDeletedMap.get(io);if(fo){const{message:mo}=xe$2("MISSING_OR_INVALID",`Record was recently deleted - ${fo}: ${io}`);throw new Error(mo)}},this.isLinkModeEnabled=(io,fo)=>{var mo,$o,Ao,Lo,Wo,jo,zo,Vo,Go;return!io||fo!==F$2.link_mode?!1:(($o=(mo=this.client.metadata)==null?void 0:mo.redirect)==null?void 0:$o.linkMode)===!0&&((Lo=(Ao=this.client.metadata)==null?void 0:Ao.redirect)==null?void 0:Lo.universal)!==void 0&&((jo=(Wo=this.client.metadata)==null?void 0:Wo.redirect)==null?void 0:jo.universal)!==""&&((zo=io==null?void 0:io.redirect)==null?void 0:zo.universal)!==void 0&&((Vo=io==null?void 0:io.redirect)==null?void 0:Vo.universal)!==""&&((Go=io==null?void 0:io.redirect)==null?void 0:Go.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(io.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"},this.getAppLinkIfEnabled=(io,fo)=>{var mo;return this.isLinkModeEnabled(io,fo)?(mo=io==null?void 0:io.redirect)==null?void 0:mo.universal:void 0},this.handleLinkModeMessage=({url:io})=>{if(!io||!io.includes("wc_ev")||!io.includes("topic"))return;const fo=Is$2(io,"topic")||"",mo=decodeURIComponent(Is$2(io,"wc_ev")||""),$o=this.client.session.keys.includes(fo);$o&&this.client.session.update(fo,{transportType:F$2.link_mode}),this.client.core.dispatchEnvelope({topic:fo,message:mo,sessionExists:$o})},this.registerLinkModeListeners=async()=>{var io;if(_s$1()||rr$1()&&(io=this.client.metadata.redirect)!=null&&io.linkMode){const fo=global==null?void 0:global.Linking;if(typeof fo<"u"){fo.addEventListener("url",this.handleLinkModeMessage,this.client.name);const mo=await fo.getInitialURL();mo&&setTimeout(()=>{this.handleLinkModeMessage({url:mo})},50)}}}}isInitialized(){if(!this.initialized){const{message:Mn}=xe$2("NOT_INITIALIZED",this.name);throw new Error(Mn)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(w$3.message,Mn=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(Mn):this.onRelayMessage(Mn)})}async onRelayMessage(Mn){const{topic:io,message:fo,attestation:mo,transportType:$o}=Mn,{publicKey:Ao}=this.client.auth.authKeys.keys.includes(ae$1)?this.client.auth.authKeys.get(ae$1):{responseTopic:void 0,publicKey:void 0},Lo=await this.client.core.crypto.decode(io,fo,{receiverPublicKey:Ao,encoding:$o===F$2.link_mode?Iu:tn$1});try{isJsonRpcRequest(Lo)?(this.client.core.history.set(io,Lo),this.onRelayEventRequest({topic:io,payload:Lo,attestation:mo,transportType:$o,encryptedId:Ou(fo)})):isJsonRpcResponse(Lo)?(await this.client.core.history.resolve(Lo),await this.onRelayEventResponse({topic:io,payload:Lo,transportType:$o}),this.client.core.history.delete(io,Lo.id)):this.onRelayEventUnknownPayload({topic:io,payload:Lo,transportType:$o})}catch(Wo){this.client.logger.error(Wo)}}registerExpirerEvents(){this.client.core.expirer.on(R$2.expired,async Mn=>{const{topic:io,id:fo}=ys$1(Mn.target);if(fo&&this.client.pendingRequest.keys.includes(fo))return await this.deletePendingSessionRequest(fo,xe$2("EXPIRED"),!0);if(fo&&this.client.auth.requests.keys.includes(fo))return await this.deletePendingAuthRequest(fo,xe$2("EXPIRED"),!0);io?this.client.session.keys.includes(io)&&(await this.deleteSession({topic:io,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:io})):fo&&(await this.deleteProposal(fo,!0),this.client.events.emit("proposal_expire",{id:fo}))})}registerPairingEvents(){this.client.core.pairing.events.on(q$2.create,Mn=>this.onPairingCreated(Mn)),this.client.core.pairing.events.on(q$2.delete,Mn=>{this.addToRecentlyDeleted(Mn.topic,"pairing")})}isValidPairingTopic(Mn){if(!Yt$1(Mn,!1)){const{message:io}=xe$2("MISSING_OR_INVALID",`pairing topic should be a string: ${Mn}`);throw new Error(io)}if(!this.client.core.pairing.pairings.keys.includes(Mn)){const{message:io}=xe$2("NO_MATCHING_KEY",`pairing topic doesn't exist: ${Mn}`);throw new Error(io)}if(xs$1(this.client.core.pairing.pairings.get(Mn).expiry)){const{message:io}=xe$2("EXPIRED",`pairing topic: ${Mn}`);throw new Error(io)}}async isValidSessionTopic(Mn){if(!Yt$1(Mn,!1)){const{message:io}=xe$2("MISSING_OR_INVALID",`session topic should be a string: ${Mn}`);throw new Error(io)}if(this.checkRecentlyDeleted(Mn),!this.client.session.keys.includes(Mn)){const{message:io}=xe$2("NO_MATCHING_KEY",`session topic doesn't exist: ${Mn}`);throw new Error(io)}if(xs$1(this.client.session.get(Mn).expiry)){await this.deleteSession({topic:Mn});const{message:io}=xe$2("EXPIRED",`session topic: ${Mn}`);throw new Error(io)}if(!this.client.core.crypto.keychain.has(Mn)){const{message:io}=xe$2("MISSING_OR_INVALID",`session topic does not exist in keychain: ${Mn}`);throw await this.deleteSession({topic:Mn}),new Error(io)}}async isValidSessionOrPairingTopic(Mn){if(this.checkRecentlyDeleted(Mn),this.client.session.keys.includes(Mn))await this.isValidSessionTopic(Mn);else if(this.client.core.pairing.pairings.keys.includes(Mn))this.isValidPairingTopic(Mn);else if(Yt$1(Mn,!1)){const{message:io}=xe$2("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${Mn}`);throw new Error(io)}else{const{message:io}=xe$2("MISSING_OR_INVALID",`session or pairing topic should be a string: ${Mn}`);throw new Error(io)}}async isValidProposalId(Mn){if(!mh(Mn)){const{message:io}=xe$2("MISSING_OR_INVALID",`proposal id should be a number: ${Mn}`);throw new Error(io)}if(!this.client.proposal.keys.includes(Mn)){const{message:io}=xe$2("NO_MATCHING_KEY",`proposal id doesn't exist: ${Mn}`);throw new Error(io)}if(xs$1(this.client.proposal.get(Mn).expiryTimestamp)){await this.deleteProposal(Mn);const{message:io}=xe$2("EXPIRED",`proposal id: ${Mn}`);throw new Error(io)}}}class Ss extends ai{constructor(Mn,io){super(Mn,io,st,ye$1),this.core=Mn,this.logger=io}}class yt extends ai{constructor(Mn,io){super(Mn,io,rt,ye$1),this.core=Mn,this.logger=io}}class Is extends ai{constructor(Mn,io){super(Mn,io,ot,ye$1,fo=>fo.id),this.core=Mn,this.logger=io}}class fs extends ai{constructor(Mn,io){super(Mn,io,pt$1,oe$1,()=>ae$1),this.core=Mn,this.logger=io}}class vs extends ai{constructor(Mn,io){super(Mn,io,ht,oe$1),this.core=Mn,this.logger=io}}class qs extends ai{constructor(Mn,io){super(Mn,io,dt,oe$1,fo=>fo.id),this.core=Mn,this.logger=io}}class Ts{constructor(Mn,io){this.core=Mn,this.logger=io,this.authKeys=new fs(this.core,this.logger),this.pairingTopics=new vs(this.core,this.logger),this.requests=new qs(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class _e extends S$6{constructor(Mn){super(Mn),this.protocol=be$1,this.version=Ce,this.name=we.name,this.events=new eventsExports.EventEmitter,this.on=(fo,mo)=>this.events.on(fo,mo),this.once=(fo,mo)=>this.events.once(fo,mo),this.off=(fo,mo)=>this.events.off(fo,mo),this.removeListener=(fo,mo)=>this.events.removeListener(fo,mo),this.removeAllListeners=fo=>this.events.removeAllListeners(fo),this.connect=async fo=>{try{return await this.engine.connect(fo)}catch(mo){throw this.logger.error(mo.message),mo}},this.pair=async fo=>{try{return await this.engine.pair(fo)}catch(mo){throw this.logger.error(mo.message),mo}},this.approve=async fo=>{try{return await this.engine.approve(fo)}catch(mo){throw this.logger.error(mo.message),mo}},this.reject=async fo=>{try{return await this.engine.reject(fo)}catch(mo){throw this.logger.error(mo.message),mo}},this.update=async fo=>{try{return await this.engine.update(fo)}catch(mo){throw this.logger.error(mo.message),mo}},this.extend=async fo=>{try{return await this.engine.extend(fo)}catch(mo){throw this.logger.error(mo.message),mo}},this.request=async fo=>{try{return await this.engine.request(fo)}catch(mo){throw this.logger.error(mo.message),mo}},this.respond=async fo=>{try{return await this.engine.respond(fo)}catch(mo){throw this.logger.error(mo.message),mo}},this.ping=async fo=>{try{return await this.engine.ping(fo)}catch(mo){throw this.logger.error(mo.message),mo}},this.emit=async fo=>{try{return await this.engine.emit(fo)}catch(mo){throw this.logger.error(mo.message),mo}},this.disconnect=async fo=>{try{return await this.engine.disconnect(fo)}catch(mo){throw this.logger.error(mo.message),mo}},this.find=fo=>{try{return this.engine.find(fo)}catch(mo){throw this.logger.error(mo.message),mo}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(fo){throw this.logger.error(fo.message),fo}},this.authenticate=async(fo,mo)=>{try{return await this.engine.authenticate(fo,mo)}catch($o){throw this.logger.error($o.message),$o}},this.formatAuthMessage=fo=>{try{return this.engine.formatAuthMessage(fo)}catch(mo){throw this.logger.error(mo.message),mo}},this.approveSessionAuthenticate=async fo=>{try{return await this.engine.approveSessionAuthenticate(fo)}catch(mo){throw this.logger.error(mo.message),mo}},this.rejectSessionAuthenticate=async fo=>{try{return await this.engine.rejectSessionAuthenticate(fo)}catch(mo){throw this.logger.error(mo.message),mo}},this.name=(Mn==null?void 0:Mn.name)||we.name,this.metadata=(Mn==null?void 0:Mn.metadata)||fs$1(),this.signConfig=Mn==null?void 0:Mn.signConfig;const io=typeof(Mn==null?void 0:Mn.logger)<"u"&&typeof(Mn==null?void 0:Mn.logger)!="string"?Mn.logger:Mg(k$4({level:(Mn==null?void 0:Mn.logger)||we.logger}));this.core=(Mn==null?void 0:Mn.core)||new On(Mn),this.logger=E$4(io,this.name),this.session=new yt(this.core,this.logger),this.proposal=new Ss(this.core,this.logger),this.pendingRequest=new Is(this.core,this.logger),this.engine=new Rs(this),this.auth=new Ts(this.core,this.logger)}static async init(Mn){const io=new _e(Mn);return await io.initialize(),io}get context(){return y$7(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(Mn){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(Mn.message),Mn}}}var browserPonyfill={exports:{}};(function(Fn,Mn){var io=typeof self<"u"?self:commonjsGlobal,fo=function(){function $o(){this.fetch=!1,this.DOMException=io.DOMException}return $o.prototype=io,new $o}();(function($o){(function(Ao){var Lo={searchParams:"URLSearchParams"in $o,iterable:"Symbol"in $o&&"iterator"in Symbol,blob:"FileReader"in $o&&"Blob"in $o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in $o,arrayBuffer:"ArrayBuffer"in $o};function Wo(rs){return rs&&DataView.prototype.isPrototypeOf(rs)}if(Lo.arrayBuffer)var jo=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],zo=ArrayBuffer.isView||function(rs){return rs&&jo.indexOf(Object.prototype.toString.call(rs))>-1};function Vo(rs){if(typeof rs!="string"&&(rs=String(rs)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(rs))throw new TypeError("Invalid character in header field name");return rs.toLowerCase()}function Go(rs){return typeof rs!="string"&&(rs=String(rs)),rs}function Jo(rs){var as={next:function(){var El=rs.shift();return{done:El===void 0,value:El}}};return Lo.iterable&&(as[Symbol.iterator]=function(){return as}),as}function Qo(rs){this.map={},rs instanceof Qo?rs.forEach(function(as,El){this.append(El,as)},this):Array.isArray(rs)?rs.forEach(function(as){this.append(as[0],as[1])},this):rs&&Object.getOwnPropertyNames(rs).forEach(function(as){this.append(as,rs[as])},this)}Qo.prototype.append=function(rs,as){rs=Vo(rs),as=Go(as);var El=this.map[rs];this.map[rs]=El?El+", "+as:as},Qo.prototype.delete=function(rs){delete this.map[Vo(rs)]},Qo.prototype.get=function(rs){return rs=Vo(rs),this.has(rs)?this.map[rs]:null},Qo.prototype.has=function(rs){return this.map.hasOwnProperty(Vo(rs))},Qo.prototype.set=function(rs,as){this.map[Vo(rs)]=Go(as)},Qo.prototype.forEach=function(rs,as){for(var El in this.map)this.map.hasOwnProperty(El)&&rs.call(as,this.map[El],El,this)},Qo.prototype.keys=function(){var rs=[];return this.forEach(function(as,El){rs.push(El)}),Jo(rs)},Qo.prototype.values=function(){var rs=[];return this.forEach(function(as){rs.push(as)}),Jo(rs)},Qo.prototype.entries=function(){var rs=[];return this.forEach(function(as,El){rs.push([El,as])}),Jo(rs)},Lo.iterable&&(Qo.prototype[Symbol.iterator]=Qo.prototype.entries);function os(rs){if(rs.bodyUsed)return Promise.reject(new TypeError("Already read"));rs.bodyUsed=!0}function Cl(rs){return new Promise(function(as,El){rs.onload=function(){as(rs.result)},rs.onerror=function(){El(rs.error)}})}function xl(rs){var as=new FileReader,El=Cl(as);return as.readAsArrayBuffer(rs),El}function ds(rs){var as=new FileReader,El=Cl(as);return as.readAsText(rs),El}function _c(rs){for(var as=new Uint8Array(rs),El=new Array(as.length),Pl=0;Pl<as.length;Pl++)El[Pl]=String.fromCharCode(as[Pl]);return El.join("")}function $l(rs){if(rs.slice)return rs.slice(0);var as=new Uint8Array(rs.byteLength);return as.set(new Uint8Array(rs)),as.buffer}function Al(){return this.bodyUsed=!1,this._initBody=function(rs){this._bodyInit=rs,rs?typeof rs=="string"?this._bodyText=rs:Lo.blob&&Blob.prototype.isPrototypeOf(rs)?this._bodyBlob=rs:Lo.formData&&FormData.prototype.isPrototypeOf(rs)?this._bodyFormData=rs:Lo.searchParams&&URLSearchParams.prototype.isPrototypeOf(rs)?this._bodyText=rs.toString():Lo.arrayBuffer&&Lo.blob&&Wo(rs)?(this._bodyArrayBuffer=$l(rs.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Lo.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(rs)||zo(rs))?this._bodyArrayBuffer=$l(rs):this._bodyText=rs=Object.prototype.toString.call(rs):this._bodyText="",this.headers.get("content-type")||(typeof rs=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Lo.searchParams&&URLSearchParams.prototype.isPrototypeOf(rs)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Lo.blob&&(this.blob=function(){var rs=os(this);if(rs)return rs;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?os(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(xl)}),this.text=function(){var rs=os(this);if(rs)return rs;if(this._bodyBlob)return ds(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Lo.formData&&(this.formData=function(){return this.text().then(Rl)}),this.json=function(){return this.text().then(JSON.parse)},this}var Il=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function us(rs){var as=rs.toUpperCase();return Il.indexOf(as)>-1?as:rs}function ps(rs,as){as=as||{};var El=as.body;if(rs instanceof ps){if(rs.bodyUsed)throw new TypeError("Already read");this.url=rs.url,this.credentials=rs.credentials,as.headers||(this.headers=new Qo(rs.headers)),this.method=rs.method,this.mode=rs.mode,this.signal=rs.signal,!El&&rs._bodyInit!=null&&(El=rs._bodyInit,rs.bodyUsed=!0)}else this.url=String(rs);if(this.credentials=as.credentials||this.credentials||"same-origin",(as.headers||!this.headers)&&(this.headers=new Qo(as.headers)),this.method=us(as.method||this.method||"GET"),this.mode=as.mode||this.mode||null,this.signal=as.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&El)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(El)}ps.prototype.clone=function(){return new ps(this,{body:this._bodyInit})};function Rl(rs){var as=new FormData;return rs.trim().split("&").forEach(function(El){if(El){var Pl=El.split("="),Sl=Pl.shift().replace(/\+/g," "),Tl=Pl.join("=").replace(/\+/g," ");as.append(decodeURIComponent(Sl),decodeURIComponent(Tl))}}),as}function Wl(rs){var as=new Qo,El=rs.replace(/\r?\n[\t ]+/g," ");return El.split(/\r?\n/).forEach(function(Pl){var Sl=Pl.split(":"),Tl=Sl.shift().trim();if(Tl){var hs=Sl.join(":").trim();as.append(Tl,hs)}}),as}Al.call(ps.prototype);function Nl(rs,as){as||(as={}),this.type="default",this.status=as.status===void 0?200:as.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in as?as.statusText:"OK",this.headers=new Qo(as.headers),this.url=as.url||"",this._initBody(rs)}Al.call(Nl.prototype),Nl.prototype.clone=function(){return new Nl(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Qo(this.headers),url:this.url})},Nl.error=function(){var rs=new Nl(null,{status:0,statusText:""});return rs.type="error",rs};var wl=[301,302,303,307,308];Nl.redirect=function(rs,as){if(wl.indexOf(as)===-1)throw new RangeError("Invalid status code");return new Nl(null,{status:as,headers:{location:rs}})},Ao.DOMException=$o.DOMException;try{new Ao.DOMException}catch{Ao.DOMException=function(as,El){this.message=as,this.name=El;var Pl=Error(as);this.stack=Pl.stack},Ao.DOMException.prototype=Object.create(Error.prototype),Ao.DOMException.prototype.constructor=Ao.DOMException}function Xo(rs,as){return new Promise(function(El,Pl){var Sl=new ps(rs,as);if(Sl.signal&&Sl.signal.aborted)return Pl(new Ao.DOMException("Aborted","AbortError"));var Tl=new XMLHttpRequest;function hs(){Tl.abort()}Tl.onload=function(){var yl={status:Tl.status,statusText:Tl.statusText,headers:Wl(Tl.getAllResponseHeaders()||"")};yl.url="responseURL"in Tl?Tl.responseURL:yl.headers.get("X-Request-URL");var Fl="response"in Tl?Tl.response:Tl.responseText;El(new Nl(Fl,yl))},Tl.onerror=function(){Pl(new TypeError("Network request failed"))},Tl.ontimeout=function(){Pl(new TypeError("Network request failed"))},Tl.onabort=function(){Pl(new Ao.DOMException("Aborted","AbortError"))},Tl.open(Sl.method,Sl.url,!0),Sl.credentials==="include"?Tl.withCredentials=!0:Sl.credentials==="omit"&&(Tl.withCredentials=!1),"responseType"in Tl&&Lo.blob&&(Tl.responseType="blob"),Sl.headers.forEach(function(yl,Fl){Tl.setRequestHeader(Fl,yl)}),Sl.signal&&(Sl.signal.addEventListener("abort",hs),Tl.onreadystatechange=function(){Tl.readyState===4&&Sl.signal.removeEventListener("abort",hs)}),Tl.send(typeof Sl._bodyInit>"u"?null:Sl._bodyInit)})}return Xo.polyfill=!0,$o.fetch||($o.fetch=Xo,$o.Headers=Qo,$o.Request=ps,$o.Response=Nl),Ao.Headers=Qo,Ao.Request=ps,Ao.Response=Nl,Ao.fetch=Xo,Object.defineProperty(Ao,"__esModule",{value:!0}),Ao})({})})(fo),fo.fetch.ponyfill=!0,delete fo.fetch.polyfill;var mo=fo;Mn=mo.fetch,Mn.default=mo.fetch,Mn.fetch=mo.fetch,Mn.Headers=mo.Headers,Mn.Request=mo.Request,Mn.Response=mo.Response,Fn.exports=Mn})(browserPonyfill,browserPonyfill.exports);var browserPonyfillExports=browserPonyfill.exports;const o$f=getDefaultExportFromCjs(browserPonyfillExports);var P$3=Object.defineProperty,w$2=Object.defineProperties,E$2=Object.getOwnPropertyDescriptors,c$9=Object.getOwnPropertySymbols,L$2=Object.prototype.hasOwnProperty,O$2=Object.prototype.propertyIsEnumerable,l$6=(Fn,Mn,io)=>Mn in Fn?P$3(Fn,Mn,{enumerable:!0,configurable:!0,writable:!0,value:io}):Fn[Mn]=io,p$7=(Fn,Mn)=>{for(var io in Mn||(Mn={}))L$2.call(Mn,io)&&l$6(Fn,io,Mn[io]);if(c$9)for(var io of c$9(Mn))O$2.call(Mn,io)&&l$6(Fn,io,Mn[io]);return Fn},v$5=(Fn,Mn)=>w$2(Fn,E$2(Mn));const j$3={Accept:"application/json","Content-Type":"application/json"},T$3="POST",d$5={headers:j$3,method:T$3},g$3=10;let f$9=class{constructor(Mn,io=!1){if(this.url=Mn,this.disableProviderPing=io,this.events=new eventsExports.EventEmitter,this.isAvailable=!1,this.registering=!1,!isHttpUrl(Mn))throw new Error(`Provided URL is not compatible with HTTP connection: ${Mn}`);this.url=Mn,this.disableProviderPing=io}get connected(){return this.isAvailable}get connecting(){return this.registering}on(Mn,io){this.events.on(Mn,io)}once(Mn,io){this.events.once(Mn,io)}off(Mn,io){this.events.off(Mn,io)}removeListener(Mn,io){this.events.removeListener(Mn,io)}async open(Mn=this.url){await this.register(Mn)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(Mn){this.isAvailable||await this.register();try{const io=safeJsonStringify(Mn),fo=await(await o$f(this.url,v$5(p$7({},d$5),{body:io}))).json();this.onPayload({data:fo})}catch(io){this.onError(Mn.id,io)}}async register(Mn=this.url){if(!isHttpUrl(Mn))throw new Error(`Provided URL is not compatible with HTTP connection: ${Mn}`);if(this.registering){const io=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=io||this.events.listenerCount("open")>=io)&&this.events.setMaxListeners(io+1),new Promise((fo,mo)=>{this.events.once("register_error",$o=>{this.resetMaxListeners(),mo($o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return mo(new Error("HTTP connection is missing or invalid"));fo()})})}this.url=Mn,this.registering=!0;try{if(!this.disableProviderPing){const io=safeJsonStringify({id:1,jsonrpc:"2.0",method:"test",params:[]});await o$f(Mn,v$5(p$7({},d$5),{body:io}))}this.onOpen()}catch(io){const fo=this.parseError(io);throw this.events.emit("register_error",fo),this.onClose(),fo}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(Mn){if(typeof Mn.data>"u")return;const io=typeof Mn.data=="string"?safeJsonParse(Mn.data):Mn.data;this.events.emit("payload",io)}onError(Mn,io){const fo=this.parseError(io),mo=fo.message||fo.toString(),$o=formatJsonRpcError(Mn,mo);this.events.emit("payload",$o)}parseError(Mn,io=this.url){return parseConnectionError(Mn,io,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>g$3&&this.events.setMaxListeners(g$3)}};const ya="error",Yg="wss://relay.walletconnect.org",Zg="wc",Xg="universal_provider",Sa=`${Zg}@2:${Xg}:`,Oa="https://rpc.walletconnect.org/v1/",ze="generic",Qg=`${Oa}bundler`,Tt={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var _n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qi={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(Fn,Mn){(function(){var io,fo="4.17.21",mo=200,$o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",Ao="Expected a function",Lo="Invalid `variable` option passed into `_.template`",Wo="__lodash_hash_undefined__",jo=500,zo="__lodash_placeholder__",Vo=1,Go=2,Jo=4,Qo=1,os=2,Cl=1,xl=2,ds=4,_c=8,$l=16,Al=32,Il=64,us=128,ps=256,Rl=512,Wl=30,Nl="...",wl=800,Xo=16,rs=1,as=2,El=3,Pl=1/0,Sl=9007199254740991,Tl=17976931348623157e292,hs=NaN,yl=4294967295,Fl=yl-1,Xl=yl>>>1,bu=[["ary",us],["bind",Cl],["bindKey",xl],["curry",_c],["curryRight",$l],["flip",Rl],["partial",Al],["partialRight",Il],["rearg",ps]],Ul="[object Arguments]",yu="[object Array]",Vl="[object AsyncFunction]",Jl="[object Boolean]",Ql="[object Date]",Ol="[object DOMException]",Zl="[object Error]",rp="[object Function]",op="[object GeneratorFunction]",lp="[object Map]",hp="[object Number]",xp="[object Null]",Ip="[object Object]",Ep="[object Promise]",vp="[object Proxy]",Tp="[object RegExp]",Ap="[object Set]",wp="[object String]",Cp="[object Symbol]",Rp="[object Undefined]",yp="[object WeakMap]",Pp="[object WeakSet]",zl="[object ArrayBuffer]",Dl="[object DataView]",Ll="[object Float32Array]",Gl="[object Float64Array]",fu="[object Int8Array]",_d="[object Int16Array]",sp="[object Int32Array]",fp="[object Uint8Array]",_p="[object Uint8ClampedArray]",Mp="[object Uint16Array]",Sp="[object Uint32Array]",Bp=/\b__p \+= '';/g,Jp=/\b(__p \+=) '' \+/g,Kp=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kp=/&(?:amp|lt|gt|quot|#39);/g,Hp=/[&<>"']/g,$p=RegExp(kp.source),Vp=RegExp(Hp.source),qp=/<%-([\s\S]+?)%>/g,Dp=/<%([\s\S]+?)%>/g,Yp=/<%=([\s\S]+?)%>/g,Xp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wp=/^\w*$/,o1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h0=/[\\^$.*+?()[\]{}|]/g,Fp=RegExp(h0.source),g0=/^\s+/,t1=/\s/,Lp=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Qp=/\{\n\/\* \[wrapped with (.+)\] \*/,s1=/,? & /,jp=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,b1=/[()=,{}\[\]\/\s]/,v1=/\\(\\)?/g,r1=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,d1=/\w*$/,tm=/^[-+]0x[0-9a-f]+$/i,rm=/^0b[01]+$/i,nm=/^\[object .+?Constructor\]$/,im=/^0o[0-7]+$/i,om=/^(?:0|[1-9]\d*)$/,U1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Em=/($^)/,Jm=/['\n\r\u2028\u2029\\]/g,Am="\\ud800-\\udfff",Xm="\\u0300-\\u036f",ew="\\ufe20-\\ufe2f",Sm="\\u20d0-\\u20ff",Fm=Xm+ew+Sm,jm="\\u2700-\\u27bf",Z1="a-z\\xdf-\\xf6\\xf8-\\xff",tw="\\xac\\xb1\\xd7\\xf7",rw="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",nw="\\u2000-\\u206f",Zw=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zv="A-Z\\xc0-\\xd6\\xd8-\\xde",Hv="\\ufe0e\\ufe0f",Qw=tw+rw+nw+Zw,Hy="[']",Yw="["+Am+"]",Vy="["+Qw+"]",Jw="["+Fm+"]",Vv="\\d+",Q2="["+jm+"]",qv="["+Z1+"]",Gv="[^"+Am+Qw+Vv+jm+Z1+zv+"]",gy="\\ud83c[\\udffb-\\udfff]",Y2="(?:"+Jw+"|"+gy+")",Kv="[^"+Am+"]",my="(?:\\ud83c[\\udde6-\\uddff]){2}",Rw="[\\ud800-\\udbff][\\udc00-\\udfff]",Dm="["+zv+"]",Zv="\\u200d",Qv="(?:"+qv+"|"+Gv+")",dw="(?:"+Dm+"|"+Gv+")",Yv="(?:"+Hy+"(?:d|ll|m|re|s|t|ve))?",Jv="(?:"+Hy+"(?:D|LL|M|RE|S|T|VE))?",Xv=Y2+"?",e2="["+Hv+"]?",J2="(?:"+Zv+"(?:"+[Kv,my,Rw].join("|")+")"+e2+Xv+")*",bw="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",t2="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",r2=e2+Xv+J2,wy="(?:"+[Q2,my,Rw].join("|")+")"+r2,X2="(?:"+[Kv+Jw+"?",Jw,my,Rw,Yw].join("|")+")",qy=RegExp(Hy,"g"),e3=RegExp(Jw,"g"),yy=RegExp(gy+"(?="+gy+")|"+X2+r2,"g"),n2=RegExp([Dm+"?"+qv+"+"+Yv+"(?="+[Vy,Dm,"$"].join("|")+")",dw+"+"+Jv+"(?="+[Vy,Dm+Qv,"$"].join("|")+")",Dm+"?"+Qv+"+"+Yv,Dm+"+"+Jv,t2,bw,Vv,wy].join("|"),"g"),i2=RegExp("["+Zv+Am+Fm+Hv+"]"),Xw=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,o2=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],t3=-1,A1={};A1[Ll]=A1[Gl]=A1[fu]=A1[_d]=A1[sp]=A1[fp]=A1[_p]=A1[Mp]=A1[Sp]=!0,A1[Ul]=A1[yu]=A1[zl]=A1[Jl]=A1[Dl]=A1[Ql]=A1[Zl]=A1[rp]=A1[lp]=A1[hp]=A1[Ip]=A1[Tp]=A1[Ap]=A1[wp]=A1[yp]=!1;var E1={};E1[Ul]=E1[yu]=E1[zl]=E1[Dl]=E1[Jl]=E1[Ql]=E1[Ll]=E1[Gl]=E1[fu]=E1[_d]=E1[sp]=E1[lp]=E1[hp]=E1[Ip]=E1[Tp]=E1[Ap]=E1[wp]=E1[Cp]=E1[fp]=E1[_p]=E1[Mp]=E1[Sp]=!0,E1[Zl]=E1[rp]=E1[yp]=!1;var wu={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},np={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mp={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Up={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},I1=parseFloat,l1=parseInt,P1=typeof _n=="object"&&_n&&_n.Object===Object&&_n,G1=typeof self=="object"&&self&&self.Object===Object&&self,w1=P1||G1||Function("return this")(),k1=Mn&&!Mn.nodeType&&Mn,j1=k1&&!0&&Fn&&!Fn.nodeType&&Fn,Tm=j1&&j1.exports===k1,K1=Tm&&P1.process,D1=function(){try{var ip=j1&&j1.require&&j1.require("util").types;return ip||K1&&K1.binding&&K1.binding("util")}catch{}}(),bm=D1&&D1.isArrayBuffer,iw=D1&&D1.isDate,zm=D1&&D1.isMap,hw=D1&&D1.isRegExp,Gy=D1&&D1.isSet,ey=D1&&D1.isTypedArray;function X1(ip,dp,up){switch(up.length){case 0:return ip.call(dp);case 1:return ip.call(dp,up[0]);case 2:return ip.call(dp,up[0],up[1]);case 3:return ip.call(dp,up[0],up[1],up[2])}return ip.apply(dp,up)}function O6(ip,dp,up,zp){for(var c1=-1,$1=ip==null?0:ip.length;++c1<$1;){var Q1=ip[c1];dp(zp,Q1,up(Q1),ip)}return zp}function Hm(ip,dp){for(var up=-1,zp=ip==null?0:ip.length;++up<zp&&dp(ip[up],up,ip)!==!1;);return ip}function M6(ip,dp){for(var up=ip==null?0:ip.length;up--&&dp(ip[up],up,ip)!==!1;);return ip}function d$(ip,dp){for(var up=-1,zp=ip==null?0:ip.length;++up<zp;)if(!dp(ip[up],up,ip))return!1;return!0}function Pw(ip,dp){for(var up=-1,zp=ip==null?0:ip.length,c1=0,$1=[];++up<zp;){var Q1=ip[up];dp(Q1,up,ip)&&($1[c1++]=Q1)}return $1}function s2(ip,dp){var up=ip==null?0:ip.length;return!!up&&by(ip,dp,0)>-1}function r3(ip,dp,up){for(var zp=-1,c1=ip==null?0:ip.length;++zp<c1;)if(up(dp,ip[zp]))return!0;return!1}function O1(ip,dp){for(var up=-1,zp=ip==null?0:ip.length,c1=Array(zp);++up<zp;)c1[up]=dp(ip[up],up,ip);return c1}function Nw(ip,dp){for(var up=-1,zp=dp.length,c1=ip.length;++up<zp;)ip[c1+up]=dp[up];return ip}function n3(ip,dp,up,zp){var c1=-1,$1=ip==null?0:ip.length;for(zp&&$1&&(up=ip[++c1]);++c1<$1;)up=dp(up,ip[c1],c1,ip);return up}function B6(ip,dp,up,zp){var c1=ip==null?0:ip.length;for(zp&&c1&&(up=ip[--c1]);c1--;)up=dp(up,ip[c1],c1,ip);return up}function i3(ip,dp){for(var up=-1,zp=ip==null?0:ip.length;++up<zp;)if(dp(ip[up],up,ip))return!0;return!1}var L6=o3("length");function U6(ip){return ip.split("")}function W6(ip){return ip.match(jp)||[]}function h$(ip,dp,up){var zp;return up(ip,function(c1,$1,Q1){if(dp(c1,$1,Q1))return zp=$1,!1}),zp}function a2(ip,dp,up,zp){for(var c1=ip.length,$1=up+(zp?1:-1);zp?$1--:++$1<c1;)if(dp(ip[$1],$1,ip))return $1;return-1}function by(ip,dp,up){return dp===dp?J6(ip,dp,up):a2(ip,f$,up)}function F6(ip,dp,up,zp){for(var c1=up-1,$1=ip.length;++c1<$1;)if(zp(ip[c1],dp))return c1;return-1}function f$(ip){return ip!==ip}function p$(ip,dp){var up=ip==null?0:ip.length;return up?a3(ip,dp)/up:hs}function o3(ip){return function(dp){return dp==null?io:dp[ip]}}function s3(ip){return function(dp){return ip==null?io:ip[dp]}}function g$(ip,dp,up,zp,c1){return c1(ip,function($1,Q1,R1){up=zp?(zp=!1,$1):dp(up,$1,Q1,R1)}),up}function j6(ip,dp){var up=ip.length;for(ip.sort(dp);up--;)ip[up]=ip[up].value;return ip}function a3(ip,dp){for(var up,zp=-1,c1=ip.length;++zp<c1;){var $1=dp(ip[zp]);$1!==io&&(up=up===io?$1:up+$1)}return up}function c3(ip,dp){for(var up=-1,zp=Array(ip);++up<ip;)zp[up]=dp(up);return zp}function z6(ip,dp){return O1(dp,function(up){return[up,ip[up]]})}function m$(ip){return ip&&ip.slice(0,v$(ip)+1).replace(g0,"")}function Om(ip){return function(dp){return ip(dp)}}function l3(ip,dp){return O1(dp,function(up){return ip[up]})}function Ky(ip,dp){return ip.has(dp)}function w$(ip,dp){for(var up=-1,zp=ip.length;++up<zp&&by(dp,ip[up],0)>-1;);return up}function y$(ip,dp){for(var up=ip.length;up--&&by(dp,ip[up],0)>-1;);return up}function H6(ip,dp){for(var up=ip.length,zp=0;up--;)ip[up]===dp&&++zp;return zp}var V6=s3(wu),q6=s3(np);function G6(ip){return"\\"+Up[ip]}function K6(ip,dp){return ip==null?io:ip[dp]}function vy(ip){return i2.test(ip)}function Z6(ip){return Xw.test(ip)}function Q6(ip){for(var dp,up=[];!(dp=ip.next()).done;)up.push(dp.value);return up}function u3(ip){var dp=-1,up=Array(ip.size);return ip.forEach(function(zp,c1){up[++dp]=[c1,zp]}),up}function b$(ip,dp){return function(up){return ip(dp(up))}}function Dw(ip,dp){for(var up=-1,zp=ip.length,c1=0,$1=[];++up<zp;){var Q1=ip[up];(Q1===dp||Q1===zo)&&(ip[up]=zo,$1[c1++]=up)}return $1}function c2(ip){var dp=-1,up=Array(ip.size);return ip.forEach(function(zp){up[++dp]=zp}),up}function Y6(ip){var dp=-1,up=Array(ip.size);return ip.forEach(function(zp){up[++dp]=[zp,zp]}),up}function J6(ip,dp,up){for(var zp=up-1,c1=ip.length;++zp<c1;)if(ip[zp]===dp)return zp;return-1}function X6(ip,dp,up){for(var zp=up+1;zp--;)if(ip[zp]===dp)return zp;return zp}function $y(ip){return vy(ip)?t4(ip):L6(ip)}function ow(ip){return vy(ip)?r4(ip):U6(ip)}function v$(ip){for(var dp=ip.length;dp--&&t1.test(ip.charAt(dp)););return dp}var e4=s3(mp);function t4(ip){for(var dp=yy.lastIndex=0;yy.test(ip);)++dp;return dp}function r4(ip){return ip.match(yy)||[]}function n4(ip){return ip.match(n2)||[]}var i4=function ip(dp){dp=dp==null?w1:xy.defaults(w1.Object(),dp,xy.pick(w1,o2));var up=dp.Array,zp=dp.Date,c1=dp.Error,$1=dp.Function,Q1=dp.Math,R1=dp.Object,d3=dp.RegExp,o4=dp.String,Vm=dp.TypeError,l2=up.prototype,s4=$1.prototype,Cy=R1.prototype,u2=dp["__core-js_shared__"],d2=s4.toString,C1=Cy.hasOwnProperty,a4=0,$$=function(){var Ho=/[^.]+$/.exec(u2&&u2.keys&&u2.keys.IE_PROTO||"");return Ho?"Symbol(src)_1."+Ho:""}(),h2=Cy.toString,c4=d2.call(R1),l4=w1._,u4=d3("^"+d2.call(C1).replace(h0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),f2=Tm?dp.Buffer:io,Ow=dp.Symbol,p2=dp.Uint8Array,x$=f2?f2.allocUnsafe:io,g2=b$(R1.getPrototypeOf,R1),C$=R1.create,_$=Cy.propertyIsEnumerable,m2=l2.splice,E$=Ow?Ow.isConcatSpreadable:io,Zy=Ow?Ow.iterator:io,ty=Ow?Ow.toStringTag:io,w2=function(){try{var Ho=sy(R1,"defineProperty");return Ho({},"",{}),Ho}catch{}}(),d4=dp.clearTimeout!==w1.clearTimeout&&dp.clearTimeout,h4=zp&&zp.now!==w1.Date.now&&zp.now,f4=dp.setTimeout!==w1.setTimeout&&dp.setTimeout,y2=Q1.ceil,b2=Q1.floor,h3=R1.getOwnPropertySymbols,p4=f2?f2.isBuffer:io,A$=dp.isFinite,g4=l2.join,m4=b$(R1.keys,R1),Y1=Q1.max,sm=Q1.min,w4=zp.now,y4=dp.parseInt,S$=Q1.random,b4=l2.reverse,f3=sy(dp,"DataView"),Qy=sy(dp,"Map"),p3=sy(dp,"Promise"),_y=sy(dp,"Set"),Yy=sy(dp,"WeakMap"),Jy=sy(R1,"create"),v2=Yy&&new Yy,Ey={},v4=ay(f3),$4=ay(Qy),x4=ay(p3),C4=ay(_y),_4=ay(Yy),$2=Ow?Ow.prototype:io,Xy=$2?$2.valueOf:io,T$=$2?$2.toString:io;function Kl(Ho){if(W1(Ho)&&!u1(Ho)&&!(Ho instanceof m1)){if(Ho instanceof qm)return Ho;if(C1.call(Ho,"__wrapped__"))return I5(Ho)}return new qm(Ho)}var Ay=function(){function Ho(){}return function(Yo){if(!B1(Yo))return{};if(C$)return C$(Yo);Ho.prototype=Yo;var _l=new Ho;return Ho.prototype=io,_l}}();function x2(){}function qm(Ho,Yo){this.__wrapped__=Ho,this.__actions__=[],this.__chain__=!!Yo,this.__index__=0,this.__values__=io}Kl.templateSettings={escape:qp,evaluate:Dp,interpolate:Yp,variable:"",imports:{_:Kl}},Kl.prototype=x2.prototype,Kl.prototype.constructor=Kl,qm.prototype=Ay(x2.prototype),qm.prototype.constructor=qm;function m1(Ho){this.__wrapped__=Ho,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=yl,this.__views__=[]}function E4(){var Ho=new m1(this.__wrapped__);return Ho.__actions__=Im(this.__actions__),Ho.__dir__=this.__dir__,Ho.__filtered__=this.__filtered__,Ho.__iteratees__=Im(this.__iteratees__),Ho.__takeCount__=this.__takeCount__,Ho.__views__=Im(this.__views__),Ho}function A4(){if(this.__filtered__){var Ho=new m1(this);Ho.__dir__=-1,Ho.__filtered__=!0}else Ho=this.clone(),Ho.__dir__*=-1;return Ho}function S4(){var Ho=this.__wrapped__.value(),Yo=this.__dir__,_l=u1(Ho),Ml=Yo<0,Hl=_l?Ho.length:0,Yl=Fx(0,Hl,this.__views__),Au=Yl.start,ep=Yl.end,ap=ep-Au,pp=Ml?ep:Au-1,gp=this.__iteratees__,bp=gp.length,Np=0,Gp=sm(ap,this.__takeCount__);if(!_l||!Ml&&Hl==ap&&Gp==ap)return J$(Ho,this.__actions__);var n1=[];e:for(;ap--&&Np<Gp;){pp+=Yo;for(var f1=-1,i1=Ho[pp];++f1<bp;){var g1=gp[f1],y1=g1.iteratee,Lm=g1.type,xm=y1(i1);if(Lm==as)i1=xm;else if(!xm){if(Lm==rs)continue e;break e}}n1[Np++]=i1}return n1}m1.prototype=Ay(x2.prototype),m1.prototype.constructor=m1;function ry(Ho){var Yo=-1,_l=Ho==null?0:Ho.length;for(this.clear();++Yo<_l;){var Ml=Ho[Yo];this.set(Ml[0],Ml[1])}}function T4(){this.__data__=Jy?Jy(null):{},this.size=0}function I4(Ho){var Yo=this.has(Ho)&&delete this.__data__[Ho];return this.size-=Yo?1:0,Yo}function k4(Ho){var Yo=this.__data__;if(Jy){var _l=Yo[Ho];return _l===Wo?io:_l}return C1.call(Yo,Ho)?Yo[Ho]:io}function R4(Ho){var Yo=this.__data__;return Jy?Yo[Ho]!==io:C1.call(Yo,Ho)}function P4(Ho,Yo){var _l=this.__data__;return this.size+=this.has(Ho)?0:1,_l[Ho]=Jy&&Yo===io?Wo:Yo,this}ry.prototype.clear=T4,ry.prototype.delete=I4,ry.prototype.get=k4,ry.prototype.has=R4,ry.prototype.set=P4;function vw(Ho){var Yo=-1,_l=Ho==null?0:Ho.length;for(this.clear();++Yo<_l;){var Ml=Ho[Yo];this.set(Ml[0],Ml[1])}}function D4(){this.__data__=[],this.size=0}function O4(Ho){var Yo=this.__data__,_l=C2(Yo,Ho);if(_l<0)return!1;var Ml=Yo.length-1;return _l==Ml?Yo.pop():m2.call(Yo,_l,1),--this.size,!0}function M4(Ho){var Yo=this.__data__,_l=C2(Yo,Ho);return _l<0?io:Yo[_l][1]}function B4(Ho){return C2(this.__data__,Ho)>-1}function L4(Ho,Yo){var _l=this.__data__,Ml=C2(_l,Ho);return Ml<0?(++this.size,_l.push([Ho,Yo])):_l[Ml][1]=Yo,this}vw.prototype.clear=D4,vw.prototype.delete=O4,vw.prototype.get=M4,vw.prototype.has=B4,vw.prototype.set=L4;function $w(Ho){var Yo=-1,_l=Ho==null?0:Ho.length;for(this.clear();++Yo<_l;){var Ml=Ho[Yo];this.set(Ml[0],Ml[1])}}function U4(){this.size=0,this.__data__={hash:new ry,map:new(Qy||vw),string:new ry}}function W4(Ho){var Yo=M2(this,Ho).delete(Ho);return this.size-=Yo?1:0,Yo}function F4(Ho){return M2(this,Ho).get(Ho)}function j4(Ho){return M2(this,Ho).has(Ho)}function z4(Ho,Yo){var _l=M2(this,Ho),Ml=_l.size;return _l.set(Ho,Yo),this.size+=_l.size==Ml?0:1,this}$w.prototype.clear=U4,$w.prototype.delete=W4,$w.prototype.get=F4,$w.prototype.has=j4,$w.prototype.set=z4;function ny(Ho){var Yo=-1,_l=Ho==null?0:Ho.length;for(this.__data__=new $w;++Yo<_l;)this.add(Ho[Yo])}function H4(Ho){return this.__data__.set(Ho,Wo),this}function V4(Ho){return this.__data__.has(Ho)}ny.prototype.add=ny.prototype.push=H4,ny.prototype.has=V4;function sw(Ho){var Yo=this.__data__=new vw(Ho);this.size=Yo.size}function q4(){this.__data__=new vw,this.size=0}function G4(Ho){var Yo=this.__data__,_l=Yo.delete(Ho);return this.size=Yo.size,_l}function K4(Ho){return this.__data__.get(Ho)}function Z4(Ho){return this.__data__.has(Ho)}function Q4(Ho,Yo){var _l=this.__data__;if(_l instanceof vw){var Ml=_l.__data__;if(!Qy||Ml.length<mo-1)return Ml.push([Ho,Yo]),this.size=++_l.size,this;_l=this.__data__=new $w(Ml)}return _l.set(Ho,Yo),this.size=_l.size,this}sw.prototype.clear=q4,sw.prototype.delete=G4,sw.prototype.get=K4,sw.prototype.has=Z4,sw.prototype.set=Q4;function I$(Ho,Yo){var _l=u1(Ho),Ml=!_l&&cy(Ho),Hl=!_l&&!Ml&&Ww(Ho),Yl=!_l&&!Ml&&!Hl&&ky(Ho),Au=_l||Ml||Hl||Yl,ep=Au?c3(Ho.length,o4):[],ap=ep.length;for(var pp in Ho)(Yo||C1.call(Ho,pp))&&!(Au&&(pp=="length"||Hl&&(pp=="offset"||pp=="parent")||Yl&&(pp=="buffer"||pp=="byteLength"||pp=="byteOffset")||Ew(pp,ap)))&&ep.push(pp);return ep}function k$(Ho){var Yo=Ho.length;return Yo?Ho[E3(0,Yo-1)]:io}function Y4(Ho,Yo){return B2(Im(Ho),iy(Yo,0,Ho.length))}function J4(Ho){return B2(Im(Ho))}function g3(Ho,Yo,_l){(_l!==io&&!aw(Ho[Yo],_l)||_l===io&&!(Yo in Ho))&&xw(Ho,Yo,_l)}function _b(Ho,Yo,_l){var Ml=Ho[Yo];(!(C1.call(Ho,Yo)&&aw(Ml,_l))||_l===io&&!(Yo in Ho))&&xw(Ho,Yo,_l)}function C2(Ho,Yo){for(var _l=Ho.length;_l--;)if(aw(Ho[_l][0],Yo))return _l;return-1}function X4(Ho,Yo,_l,Ml){return Mw(Ho,function(Hl,Yl,Au){Yo(Ml,Hl,_l(Hl),Au)}),Ml}function R$(Ho,Yo){return Ho&&pw(Yo,_g(Yo),Ho)}function ex(Ho,Yo){return Ho&&pw(Yo,Rm(Yo),Ho)}function xw(Ho,Yo,_l){Yo=="__proto__"&&w2?w2(Ho,Yo,{configurable:!0,enumerable:!0,value:_l,writable:!0}):Ho[Yo]=_l}function m3(Ho,Yo){for(var _l=-1,Ml=Yo.length,Hl=up(Ml),Yl=Ho==null;++_l<Ml;)Hl[_l]=Yl?io:Y3(Ho,Yo[_l]);return Hl}function iy(Ho,Yo,_l){return Ho===Ho&&(_l!==io&&(Ho=Ho<=_l?Ho:_l),Yo!==io&&(Ho=Ho>=Yo?Ho:Yo)),Ho}function Gm(Ho,Yo,_l,Ml,Hl,Yl){var Au,ep=Yo&Vo,ap=Yo&Go,pp=Yo&Jo;if(_l&&(Au=Hl?_l(Ho,Ml,Hl,Yl):_l(Ho)),Au!==io)return Au;if(!B1(Ho))return Ho;var gp=u1(Ho);if(gp){if(Au=zx(Ho),!ep)return Im(Ho,Au)}else{var bp=am(Ho),Np=bp==rp||bp==op;if(Ww(Ho))return t5(Ho,ep);if(bp==Ip||bp==Ul||Np&&!Hl){if(Au=ap||Np?{}:v5(Ho),!ep)return ap?Px(Ho,ex(Au,Ho)):Rx(Ho,R$(Au,Ho))}else{if(!E1[bp])return Hl?Ho:{};Au=Hx(Ho,bp,ep)}}Yl||(Yl=new sw);var Gp=Yl.get(Ho);if(Gp)return Gp;Yl.set(Ho,Au),Q5(Ho)?Ho.forEach(function(i1){Au.add(Gm(i1,Yo,_l,i1,Ho,Yl))}):K5(Ho)&&Ho.forEach(function(i1,g1){Au.set(g1,Gm(i1,Yo,_l,g1,Ho,Yl))});var n1=pp?ap?B3:M3:ap?Rm:_g,f1=gp?io:n1(Ho);return Hm(f1||Ho,function(i1,g1){f1&&(g1=i1,i1=Ho[g1]),_b(Au,g1,Gm(i1,Yo,_l,g1,Ho,Yl))}),Au}function tx(Ho){var Yo=_g(Ho);return function(_l){return P$(_l,Ho,Yo)}}function P$(Ho,Yo,_l){var Ml=_l.length;if(Ho==null)return!Ml;for(Ho=R1(Ho);Ml--;){var Hl=_l[Ml],Yl=Yo[Hl],Au=Ho[Hl];if(Au===io&&!(Hl in Ho)||!Yl(Au))return!1}return!0}function N$(Ho,Yo,_l){if(typeof Ho!="function")throw new Vm(Ao);return kv(function(){Ho.apply(io,_l)},Yo)}function yv(Ho,Yo,_l,Ml){var Hl=-1,Yl=s2,Au=!0,ep=Ho.length,ap=[],pp=Yo.length;if(!ep)return ap;_l&&(Yo=O1(Yo,Om(_l))),Ml?(Yl=r3,Au=!1):Yo.length>=mo&&(Yl=Ky,Au=!1,Yo=new ny(Yo));e:for(;++Hl<ep;){var gp=Ho[Hl],bp=_l==null?gp:_l(gp);if(gp=Ml||gp!==0?gp:0,Au&&bp===bp){for(var Np=pp;Np--;)if(Yo[Np]===bp)continue e;ap.push(gp)}else Yl(Yo,bp,Ml)||ap.push(gp)}return ap}var Mw=s5(fw),D$=s5(y3,!0);function rx(Ho,Yo){var _l=!0;return Mw(Ho,function(Ml,Hl,Yl){return _l=!!Yo(Ml,Hl,Yl),_l}),_l}function _2(Ho,Yo,_l){for(var Ml=-1,Hl=Ho.length;++Ml<Hl;){var Yl=Ho[Ml],Au=Yo(Yl);if(Au!=null&&(ep===io?Au===Au&&!Bm(Au):_l(Au,ep)))var ep=Au,ap=Yl}return ap}function nx(Ho,Yo,_l,Ml){var Hl=Ho.length;for(_l=h1(_l),_l<0&&(_l=-_l>Hl?0:Hl+_l),Ml=Ml===io||Ml>Hl?Hl:h1(Ml),Ml<0&&(Ml+=Hl),Ml=_l>Ml?0:J5(Ml);_l<Ml;)Ho[_l++]=Yo;return Ho}function O$(Ho,Yo){var _l=[];return Mw(Ho,function(Ml,Hl,Yl){Yo(Ml,Hl,Yl)&&_l.push(Ml)}),_l}function em(Ho,Yo,_l,Ml,Hl){var Yl=-1,Au=Ho.length;for(_l||(_l=qx),Hl||(Hl=[]);++Yl<Au;){var ep=Ho[Yl];Yo>0&&_l(ep)?Yo>1?em(ep,Yo-1,_l,Ml,Hl):Nw(Hl,ep):Ml||(Hl[Hl.length]=ep)}return Hl}var w3=a5(),M$=a5(!0);function fw(Ho,Yo){return Ho&&w3(Ho,Yo,_g)}function y3(Ho,Yo){return Ho&&M$(Ho,Yo,_g)}function E2(Ho,Yo){return Pw(Yo,function(_l){return Aw(Ho[_l])})}function oy(Ho,Yo){Yo=Lw(Yo,Ho);for(var _l=0,Ml=Yo.length;Ho!=null&&_l<Ml;)Ho=Ho[gw(Yo[_l++])];return _l&&_l==Ml?Ho:io}function B$(Ho,Yo,_l){var Ml=Yo(Ho);return u1(Ho)?Ml:Nw(Ml,_l(Ho))}function vm(Ho){return Ho==null?Ho===io?Rp:xp:ty&&ty in R1(Ho)?Wx(Ho):Xx(Ho)}function b3(Ho,Yo){return Ho>Yo}function ix(Ho,Yo){return Ho!=null&&C1.call(Ho,Yo)}function ox(Ho,Yo){return Ho!=null&&Yo in R1(Ho)}function sx(Ho,Yo,_l){return Ho>=sm(Yo,_l)&&Ho<Y1(Yo,_l)}function v3(Ho,Yo,_l){for(var Ml=_l?r3:s2,Hl=Ho[0].length,Yl=Ho.length,Au=Yl,ep=up(Yl),ap=1/0,pp=[];Au--;){var gp=Ho[Au];Au&&Yo&&(gp=O1(gp,Om(Yo))),ap=sm(gp.length,ap),ep[Au]=!_l&&(Yo||Hl>=120&&gp.length>=120)?new ny(Au&&gp):io}gp=Ho[0];var bp=-1,Np=ep[0];e:for(;++bp<Hl&&pp.length<ap;){var Gp=gp[bp],n1=Yo?Yo(Gp):Gp;if(Gp=_l||Gp!==0?Gp:0,!(Np?Ky(Np,n1):Ml(pp,n1,_l))){for(Au=Yl;--Au;){var f1=ep[Au];if(!(f1?Ky(f1,n1):Ml(Ho[Au],n1,_l)))continue e}Np&&Np.push(n1),pp.push(Gp)}}return pp}function ax(Ho,Yo,_l,Ml){return fw(Ho,function(Hl,Yl,Au){Yo(Ml,_l(Hl),Yl,Au)}),Ml}function bv(Ho,Yo,_l){Yo=Lw(Yo,Ho),Ho=_5(Ho,Yo);var Ml=Ho==null?Ho:Ho[gw(Zm(Yo))];return Ml==null?io:X1(Ml,Ho,_l)}function L$(Ho){return W1(Ho)&&vm(Ho)==Ul}function lx(Ho){return W1(Ho)&&vm(Ho)==zl}function ux(Ho){return W1(Ho)&&vm(Ho)==Ql}function $v(Ho,Yo,_l,Ml,Hl){return Ho===Yo?!0:Ho==null||Yo==null||!W1(Ho)&&!W1(Yo)?Ho!==Ho&&Yo!==Yo:dx(Ho,Yo,_l,Ml,$v,Hl)}function dx(Ho,Yo,_l,Ml,Hl,Yl){var Au=u1(Ho),ep=u1(Yo),ap=Au?yu:am(Ho),pp=ep?yu:am(Yo);ap=ap==Ul?Ip:ap,pp=pp==Ul?Ip:pp;var gp=ap==Ip,bp=pp==Ip,Np=ap==pp;if(Np&&Ww(Ho)){if(!Ww(Yo))return!1;Au=!0,gp=!1}if(Np&&!gp)return Yl||(Yl=new sw),Au||ky(Ho)?w5(Ho,Yo,_l,Ml,Hl,Yl):Lx(Ho,Yo,ap,_l,Ml,Hl,Yl);if(!(_l&Qo)){var Gp=gp&&C1.call(Ho,"__wrapped__"),n1=bp&&C1.call(Yo,"__wrapped__");if(Gp||n1){var f1=Gp?Ho.value():Ho,i1=n1?Yo.value():Yo;return Yl||(Yl=new sw),Hl(f1,i1,_l,Ml,Yl)}}return Np?(Yl||(Yl=new sw),Ux(Ho,Yo,_l,Ml,Hl,Yl)):!1}function hx(Ho){return W1(Ho)&&am(Ho)==lp}function $3(Ho,Yo,_l,Ml){var Hl=_l.length,Yl=Hl,Au=!Ml;if(Ho==null)return!Yl;for(Ho=R1(Ho);Hl--;){var ep=_l[Hl];if(Au&&ep[2]?ep[1]!==Ho[ep[0]]:!(ep[0]in Ho))return!1}for(;++Hl<Yl;){ep=_l[Hl];var ap=ep[0],pp=Ho[ap],gp=ep[1];if(Au&&ep[2]){if(pp===io&&!(ap in Ho))return!1}else{var bp=new sw;if(Ml)var Np=Ml(pp,gp,ap,Ho,Yo,bp);if(!(Np===io?$v(gp,pp,Qo|os,Ml,bp):Np))return!1}}return!0}function U$(Ho){if(!B1(Ho)||Kx(Ho))return!1;var Yo=Aw(Ho)?u4:nm;return Yo.test(ay(Ho))}function fx(Ho){return W1(Ho)&&vm(Ho)==Tp}function px(Ho){return W1(Ho)&&am(Ho)==Ap}function gx(Ho){return W1(Ho)&&z2(Ho.length)&&!!A1[vm(Ho)]}function W$(Ho){return typeof Ho=="function"?Ho:Ho==null?Pm:typeof Ho=="object"?u1(Ho)?z$(Ho[0],Ho[1]):j$(Ho):l6(Ho)}function x3(Ho){if(!Tv(Ho))return m4(Ho);var Yo=[];for(var _l in R1(Ho))C1.call(Ho,_l)&&_l!="constructor"&&Yo.push(_l);return Yo}function mx(Ho){if(!B1(Ho))return Jx(Ho);var Yo=Tv(Ho),_l=[];for(var Ml in Ho)Ml=="constructor"&&(Yo||!C1.call(Ho,Ml))||_l.push(Ml);return _l}function C3(Ho,Yo){return Ho<Yo}function F$(Ho,Yo){var _l=-1,Ml=km(Ho)?up(Ho.length):[];return Mw(Ho,function(Hl,Yl,Au){Ml[++_l]=Yo(Hl,Yl,Au)}),Ml}function j$(Ho){var Yo=U3(Ho);return Yo.length==1&&Yo[0][2]?x5(Yo[0][0],Yo[0][1]):function(_l){return _l===Ho||$3(_l,Ho,Yo)}}function z$(Ho,Yo){return F3(Ho)&&$5(Yo)?x5(gw(Ho),Yo):function(_l){var Ml=Y3(_l,Ho);return Ml===io&&Ml===Yo?J3(_l,Ho):$v(Yo,Ml,Qo|os)}}function A2(Ho,Yo,_l,Ml,Hl){Ho!==Yo&&w3(Yo,function(Yl,Au){if(Hl||(Hl=new sw),B1(Yl))wx(Ho,Yo,Au,_l,A2,Ml,Hl);else{var ep=Ml?Ml(z3(Ho,Au),Yl,Au+"",Ho,Yo,Hl):io;ep===io&&(ep=Yl),g3(Ho,Au,ep)}},Rm)}function wx(Ho,Yo,_l,Ml,Hl,Yl,Au){var ep=z3(Ho,_l),ap=z3(Yo,_l),pp=Au.get(ap);if(pp){g3(Ho,_l,pp);return}var gp=Yl?Yl(ep,ap,_l+"",Ho,Yo,Au):io,bp=gp===io;if(bp){var Np=u1(ap),Gp=!Np&&Ww(ap),n1=!Np&&!Gp&&ky(ap);gp=ap,Np||Gp||n1?u1(ep)?gp=ep:z1(ep)?gp=Im(ep):Gp?(bp=!1,gp=t5(ap,!0)):n1?(bp=!1,gp=r5(ap,!0)):gp=[]:Rv(ap)||cy(ap)?(gp=ep,cy(ep)?gp=X5(ep):(!B1(ep)||Aw(ep))&&(gp=v5(ap))):bp=!1}bp&&(Au.set(ap,gp),Hl(gp,ap,Ml,Yl,Au),Au.delete(ap)),g3(Ho,_l,gp)}function H$(Ho,Yo){var _l=Ho.length;if(_l)return Yo+=Yo<0?_l:0,Ew(Yo,_l)?Ho[Yo]:io}function V$(Ho,Yo,_l){Yo.length?Yo=O1(Yo,function(Yl){return u1(Yl)?function(Au){return oy(Au,Yl.length===1?Yl[0]:Yl)}:Yl}):Yo=[Pm];var Ml=-1;Yo=O1(Yo,Om(e1()));var Hl=F$(Ho,function(Yl,Au,ep){var ap=O1(Yo,function(pp){return pp(Yl)});return{criteria:ap,index:++Ml,value:Yl}});return j6(Hl,function(Yl,Au){return kx(Yl,Au,_l)})}function yx(Ho,Yo){return q$(Ho,Yo,function(_l,Ml){return J3(Ho,Ml)})}function q$(Ho,Yo,_l){for(var Ml=-1,Hl=Yo.length,Yl={};++Ml<Hl;){var Au=Yo[Ml],ep=oy(Ho,Au);_l(ep,Au)&&Ev(Yl,Lw(Au,Ho),ep)}return Yl}function bx(Ho){return function(Yo){return oy(Yo,Ho)}}function _3(Ho,Yo,_l,Ml){var Hl=Ml?F6:by,Yl=-1,Au=Yo.length,ep=Ho;for(Ho===Yo&&(Yo=Im(Yo)),_l&&(ep=O1(Ho,Om(_l)));++Yl<Au;)for(var ap=0,pp=Yo[Yl],gp=_l?_l(pp):pp;(ap=Hl(ep,gp,ap,Ml))>-1;)ep!==Ho&&m2.call(ep,ap,1),m2.call(Ho,ap,1);return Ho}function G$(Ho,Yo){for(var _l=Ho?Yo.length:0,Ml=_l-1;_l--;){var Hl=Yo[_l];if(_l==Ml||Hl!==Yl){var Yl=Hl;Ew(Hl)?m2.call(Ho,Hl,1):T3(Ho,Hl)}}return Ho}function E3(Ho,Yo){return Ho+b2(S$()*(Yo-Ho+1))}function vx(Ho,Yo,_l,Ml){for(var Hl=-1,Yl=Y1(y2((Yo-Ho)/(_l||1)),0),Au=up(Yl);Yl--;)Au[Ml?Yl:++Hl]=Ho,Ho+=_l;return Au}function A3(Ho,Yo){var _l="";if(!Ho||Yo<1||Yo>Sl)return _l;do Yo%2&&(_l+=Ho),Yo=b2(Yo/2),Yo&&(Ho+=Ho);while(Yo);return _l}function p1(Ho,Yo){return H3(C5(Ho,Yo,Pm),Ho+"")}function $x(Ho){return k$(Ry(Ho))}function xx(Ho,Yo){var _l=Ry(Ho);return B2(_l,iy(Yo,0,_l.length))}function Ev(Ho,Yo,_l,Ml){if(!B1(Ho))return Ho;Yo=Lw(Yo,Ho);for(var Hl=-1,Yl=Yo.length,Au=Yl-1,ep=Ho;ep!=null&&++Hl<Yl;){var ap=gw(Yo[Hl]),pp=_l;if(ap==="__proto__"||ap==="constructor"||ap==="prototype")return Ho;if(Hl!=Au){var gp=ep[ap];pp=Ml?Ml(gp,ap,ep):io,pp===io&&(pp=B1(gp)?gp:Ew(Yo[Hl+1])?[]:{})}_b(ep,ap,pp),ep=ep[ap]}return Ho}var K$=v2?function(Ho,Yo){return v2.set(Ho,Yo),Ho}:Pm,Cx=w2?function(Ho,Yo){return w2(Ho,"toString",{configurable:!0,enumerable:!1,value:e$(Yo),writable:!0})}:Pm;function _x(Ho){return B2(Ry(Ho))}function Km(Ho,Yo,_l){var Ml=-1,Hl=Ho.length;Yo<0&&(Yo=-Yo>Hl?0:Hl+Yo),_l=_l>Hl?Hl:_l,_l<0&&(_l+=Hl),Hl=Yo>_l?0:_l-Yo>>>0,Yo>>>=0;for(var Yl=up(Hl);++Ml<Hl;)Yl[Ml]=Ho[Ml+Yo];return Yl}function Ex(Ho,Yo){var _l;return Mw(Ho,function(Ml,Hl,Yl){return _l=Yo(Ml,Hl,Yl),!_l}),!!_l}function S2(Ho,Yo,_l){var Ml=0,Hl=Ho==null?Ml:Ho.length;if(typeof Yo=="number"&&Yo===Yo&&Hl<=Xl){for(;Ml<Hl;){var Yl=Ml+Hl>>>1,Au=Ho[Yl];Au!==null&&!Bm(Au)&&(_l?Au<=Yo:Au<Yo)?Ml=Yl+1:Hl=Yl}return Hl}return S3(Ho,Yo,Pm,_l)}function S3(Ho,Yo,_l,Ml){var Hl=0,Yl=Ho==null?0:Ho.length;if(Yl===0)return 0;Yo=_l(Yo);for(var Au=Yo!==Yo,ep=Yo===null,ap=Bm(Yo),pp=Yo===io;Hl<Yl;){var gp=b2((Hl+Yl)/2),bp=_l(Ho[gp]),Np=bp!==io,Gp=bp===null,n1=bp===bp,f1=Bm(bp);if(Au)var i1=Ml||n1;else pp?i1=n1&&(Ml||Np):ep?i1=n1&&Np&&(Ml||!Gp):ap?i1=n1&&Np&&!Gp&&(Ml||!f1):Gp||f1?i1=!1:i1=Ml?bp<=Yo:bp<Yo;i1?Hl=gp+1:Yl=gp}return sm(Yl,Fl)}function Z$(Ho,Yo){for(var _l=-1,Ml=Ho.length,Hl=0,Yl=[];++_l<Ml;){var Au=Ho[_l],ep=Yo?Yo(Au):Au;if(!_l||!aw(ep,ap)){var ap=ep;Yl[Hl++]=Au===0?0:Au}}return Yl}function Q$(Ho){return typeof Ho=="number"?Ho:Bm(Ho)?hs:+Ho}function Mm(Ho){if(typeof Ho=="string")return Ho;if(u1(Ho))return O1(Ho,Mm)+"";if(Bm(Ho))return T$?T$.call(Ho):"";var Yo=Ho+"";return Yo=="0"&&1/Ho==-Pl?"-0":Yo}function Bw(Ho,Yo,_l){var Ml=-1,Hl=s2,Yl=Ho.length,Au=!0,ep=[],ap=ep;if(_l)Au=!1,Hl=r3;else if(Yl>=mo){var pp=Yo?null:Mx(Ho);if(pp)return c2(pp);Au=!1,Hl=Ky,ap=new ny}else ap=Yo?[]:ep;e:for(;++Ml<Yl;){var gp=Ho[Ml],bp=Yo?Yo(gp):gp;if(gp=_l||gp!==0?gp:0,Au&&bp===bp){for(var Np=ap.length;Np--;)if(ap[Np]===bp)continue e;Yo&&ap.push(bp),ep.push(gp)}else Hl(ap,bp,_l)||(ap!==ep&&ap.push(bp),ep.push(gp))}return ep}function T3(Ho,Yo){return Yo=Lw(Yo,Ho),Ho=_5(Ho,Yo),Ho==null||delete Ho[gw(Zm(Yo))]}function Y$(Ho,Yo,_l,Ml){return Ev(Ho,Yo,_l(oy(Ho,Yo)),Ml)}function T2(Ho,Yo,_l,Ml){for(var Hl=Ho.length,Yl=Ml?Hl:-1;(Ml?Yl--:++Yl<Hl)&&Yo(Ho[Yl],Yl,Ho););return _l?Km(Ho,Ml?0:Yl,Ml?Yl+1:Hl):Km(Ho,Ml?Yl+1:0,Ml?Hl:Yl)}function J$(Ho,Yo){var _l=Ho;return _l instanceof m1&&(_l=_l.value()),n3(Yo,function(Ml,Hl){return Hl.func.apply(Hl.thisArg,Nw([Ml],Hl.args))},_l)}function I3(Ho,Yo,_l){var Ml=Ho.length;if(Ml<2)return Ml?Bw(Ho[0]):[];for(var Hl=-1,Yl=up(Ml);++Hl<Ml;)for(var Au=Ho[Hl],ep=-1;++ep<Ml;)ep!=Hl&&(Yl[Hl]=yv(Yl[Hl]||Au,Ho[ep],Yo,_l));return Bw(em(Yl,1),Yo,_l)}function X$(Ho,Yo,_l){for(var Ml=-1,Hl=Ho.length,Yl=Yo.length,Au={};++Ml<Hl;){var ep=Ml<Yl?Yo[Ml]:io;_l(Au,Ho[Ml],ep)}return Au}function k3(Ho){return z1(Ho)?Ho:[]}function R3(Ho){return typeof Ho=="function"?Ho:Pm}function Lw(Ho,Yo){return u1(Ho)?Ho:F3(Ho,Yo)?[Ho]:T5(x1(Ho))}var Ax=p1;function Uw(Ho,Yo,_l){var Ml=Ho.length;return _l=_l===io?Ml:_l,!Yo&&_l>=Ml?Ho:Km(Ho,Yo,_l)}var e5=d4||function(Ho){return w1.clearTimeout(Ho)};function t5(Ho,Yo){if(Yo)return Ho.slice();var _l=Ho.length,Ml=x$?x$(_l):new Ho.constructor(_l);return Ho.copy(Ml),Ml}function P3(Ho){var Yo=new Ho.constructor(Ho.byteLength);return new p2(Yo).set(new p2(Ho)),Yo}function Sx(Ho,Yo){var _l=Yo?P3(Ho.buffer):Ho.buffer;return new Ho.constructor(_l,Ho.byteOffset,Ho.byteLength)}function Tx(Ho){var Yo=new Ho.constructor(Ho.source,d1.exec(Ho));return Yo.lastIndex=Ho.lastIndex,Yo}function Ix(Ho){return Xy?R1(Xy.call(Ho)):{}}function r5(Ho,Yo){var _l=Yo?P3(Ho.buffer):Ho.buffer;return new Ho.constructor(_l,Ho.byteOffset,Ho.length)}function n5(Ho,Yo){if(Ho!==Yo){var _l=Ho!==io,Ml=Ho===null,Hl=Ho===Ho,Yl=Bm(Ho),Au=Yo!==io,ep=Yo===null,ap=Yo===Yo,pp=Bm(Yo);if(!ep&&!pp&&!Yl&&Ho>Yo||Yl&&Au&&ap&&!ep&&!pp||Ml&&Au&&ap||!_l&&ap||!Hl)return 1;if(!Ml&&!Yl&&!pp&&Ho<Yo||pp&&_l&&Hl&&!Ml&&!Yl||ep&&_l&&Hl||!Au&&Hl||!ap)return-1}return 0}function kx(Ho,Yo,_l){for(var Ml=-1,Hl=Ho.criteria,Yl=Yo.criteria,Au=Hl.length,ep=_l.length;++Ml<Au;){var ap=n5(Hl[Ml],Yl[Ml]);if(ap){if(Ml>=ep)return ap;var pp=_l[Ml];return ap*(pp=="desc"?-1:1)}}return Ho.index-Yo.index}function i5(Ho,Yo,_l,Ml){for(var Hl=-1,Yl=Ho.length,Au=_l.length,ep=-1,ap=Yo.length,pp=Y1(Yl-Au,0),gp=up(ap+pp),bp=!Ml;++ep<ap;)gp[ep]=Yo[ep];for(;++Hl<Au;)(bp||Hl<Yl)&&(gp[_l[Hl]]=Ho[Hl]);for(;pp--;)gp[ep++]=Ho[Hl++];return gp}function o5(Ho,Yo,_l,Ml){for(var Hl=-1,Yl=Ho.length,Au=-1,ep=_l.length,ap=-1,pp=Yo.length,gp=Y1(Yl-ep,0),bp=up(gp+pp),Np=!Ml;++Hl<gp;)bp[Hl]=Ho[Hl];for(var Gp=Hl;++ap<pp;)bp[Gp+ap]=Yo[ap];for(;++Au<ep;)(Np||Hl<Yl)&&(bp[Gp+_l[Au]]=Ho[Hl++]);return bp}function Im(Ho,Yo){var _l=-1,Ml=Ho.length;for(Yo||(Yo=up(Ml));++_l<Ml;)Yo[_l]=Ho[_l];return Yo}function pw(Ho,Yo,_l,Ml){var Hl=!_l;_l||(_l={});for(var Yl=-1,Au=Yo.length;++Yl<Au;){var ep=Yo[Yl],ap=Ml?Ml(_l[ep],Ho[ep],ep,_l,Ho):io;ap===io&&(ap=Ho[ep]),Hl?xw(_l,ep,ap):_b(_l,ep,ap)}return _l}function Rx(Ho,Yo){return pw(Ho,W3(Ho),Yo)}function Px(Ho,Yo){return pw(Ho,y5(Ho),Yo)}function I2(Ho,Yo){return function(_l,Ml){var Hl=u1(_l)?O6:X4,Yl=Yo?Yo():{};return Hl(_l,Ho,e1(Ml,2),Yl)}}function Sy(Ho){return p1(function(Yo,_l){var Ml=-1,Hl=_l.length,Yl=Hl>1?_l[Hl-1]:io,Au=Hl>2?_l[2]:io;for(Yl=Ho.length>3&&typeof Yl=="function"?(Hl--,Yl):io,Au&&$m(_l[0],_l[1],Au)&&(Yl=Hl<3?io:Yl,Hl=1),Yo=R1(Yo);++Ml<Hl;){var ep=_l[Ml];ep&&Ho(Yo,ep,Ml,Yl)}return Yo})}function s5(Ho,Yo){return function(_l,Ml){if(_l==null)return _l;if(!km(_l))return Ho(_l,Ml);for(var Hl=_l.length,Yl=Yo?Hl:-1,Au=R1(_l);(Yo?Yl--:++Yl<Hl)&&Ml(Au[Yl],Yl,Au)!==!1;);return _l}}function a5(Ho){return function(Yo,_l,Ml){for(var Hl=-1,Yl=R1(Yo),Au=Ml(Yo),ep=Au.length;ep--;){var ap=Au[Ho?ep:++Hl];if(_l(Yl[ap],ap,Yl)===!1)break}return Yo}}function Nx(Ho,Yo,_l){var Ml=Yo&Cl,Hl=Sv(Ho);function Yl(){var Au=this&&this!==w1&&this instanceof Yl?Hl:Ho;return Au.apply(Ml?_l:this,arguments)}return Yl}function c5(Ho){return function(Yo){Yo=x1(Yo);var _l=vy(Yo)?ow(Yo):io,Ml=_l?_l[0]:Yo.charAt(0),Hl=_l?Uw(_l,1).join(""):Yo.slice(1);return Ml[Ho]()+Hl}}function Ty(Ho){return function(Yo){return n3(a6(s6(Yo).replace(qy,"")),Ho,"")}}function Sv(Ho){return function(){var Yo=arguments;switch(Yo.length){case 0:return new Ho;case 1:return new Ho(Yo[0]);case 2:return new Ho(Yo[0],Yo[1]);case 3:return new Ho(Yo[0],Yo[1],Yo[2]);case 4:return new Ho(Yo[0],Yo[1],Yo[2],Yo[3]);case 5:return new Ho(Yo[0],Yo[1],Yo[2],Yo[3],Yo[4]);case 6:return new Ho(Yo[0],Yo[1],Yo[2],Yo[3],Yo[4],Yo[5]);case 7:return new Ho(Yo[0],Yo[1],Yo[2],Yo[3],Yo[4],Yo[5],Yo[6])}var _l=Ay(Ho.prototype),Ml=Ho.apply(_l,Yo);return B1(Ml)?Ml:_l}}function Dx(Ho,Yo,_l){var Ml=Sv(Ho);function Hl(){for(var Yl=arguments.length,Au=up(Yl),ep=Yl,ap=Iy(Hl);ep--;)Au[ep]=arguments[ep];var pp=Yl<3&&Au[0]!==ap&&Au[Yl-1]!==ap?[]:Dw(Au,ap);if(Yl-=pp.length,Yl<_l)return f5(Ho,Yo,k2,Hl.placeholder,io,Au,pp,io,io,_l-Yl);var gp=this&&this!==w1&&this instanceof Hl?Ml:Ho;return X1(gp,this,Au)}return Hl}function l5(Ho){return function(Yo,_l,Ml){var Hl=R1(Yo);if(!km(Yo)){var Yl=e1(_l,3);Yo=_g(Yo),_l=function(ep){return Yl(Hl[ep],ep,Hl)}}var Au=Ho(Yo,_l,Ml);return Au>-1?Hl[Yl?Yo[Au]:Au]:io}}function u5(Ho){return _w(function(Yo){var _l=Yo.length,Ml=_l,Hl=qm.prototype.thru;for(Ho&&Yo.reverse();Ml--;){var Yl=Yo[Ml];if(typeof Yl!="function")throw new Vm(Ao);if(Hl&&!Au&&O2(Yl)=="wrapper")var Au=new qm([],!0)}for(Ml=Au?Ml:_l;++Ml<_l;){Yl=Yo[Ml];var ep=O2(Yl),ap=ep=="wrapper"?L3(Yl):io;ap&&j3(ap[0])&&ap[1]==(us|_c|Al|ps)&&!ap[4].length&&ap[9]==1?Au=Au[O2(ap[0])].apply(Au,ap[3]):Au=Yl.length==1&&j3(Yl)?Au[ep]():Au.thru(Yl)}return function(){var pp=arguments,gp=pp[0];if(Au&&pp.length==1&&u1(gp))return Au.plant(gp).value();for(var bp=0,Np=_l?Yo[bp].apply(this,pp):gp;++bp<_l;)Np=Yo[bp].call(this,Np);return Np}})}function k2(Ho,Yo,_l,Ml,Hl,Yl,Au,ep,ap,pp){var gp=Yo&us,bp=Yo&Cl,Np=Yo&xl,Gp=Yo&(_c|$l),n1=Yo&Rl,f1=Np?io:Sv(Ho);function i1(){for(var g1=arguments.length,y1=up(g1),Lm=g1;Lm--;)y1[Lm]=arguments[Lm];if(Gp)var xm=Iy(i1),Um=H6(y1,xm);if(Ml&&(y1=i5(y1,Ml,Hl,Gp)),Yl&&(y1=o5(y1,Yl,Au,Gp)),g1-=Um,Gp&&g1<pp){var H1=Dw(y1,xm);return f5(Ho,Yo,k2,i1.placeholder,_l,y1,H1,ep,ap,pp-g1)}var cw=bp?_l:this,Tw=Np?cw[Ho]:Ho;return g1=y1.length,ep?y1=eC(y1,ep):n1&&g1>1&&y1.reverse(),gp&&ap<g1&&(y1.length=ap),this&&this!==w1&&this instanceof i1&&(Tw=f1||Sv(Tw)),Tw.apply(cw,y1)}return i1}function d5(Ho,Yo){return function(_l,Ml){return ax(_l,Ho,Yo(Ml),{})}}function R2(Ho,Yo){return function(_l,Ml){var Hl;if(_l===io&&Ml===io)return Yo;if(_l!==io&&(Hl=_l),Ml!==io){if(Hl===io)return Ml;typeof _l=="string"||typeof Ml=="string"?(_l=Mm(_l),Ml=Mm(Ml)):(_l=Q$(_l),Ml=Q$(Ml)),Hl=Ho(_l,Ml)}return Hl}}function D3(Ho){return _w(function(Yo){return Yo=O1(Yo,Om(e1())),p1(function(_l){var Ml=this;return Ho(Yo,function(Hl){return X1(Hl,Ml,_l)})})})}function P2(Ho,Yo){Yo=Yo===io?" ":Mm(Yo);var _l=Yo.length;if(_l<2)return _l?A3(Yo,Ho):Yo;var Ml=A3(Yo,y2(Ho/$y(Yo)));return vy(Yo)?Uw(ow(Ml),0,Ho).join(""):Ml.slice(0,Ho)}function Ox(Ho,Yo,_l,Ml){var Hl=Yo&Cl,Yl=Sv(Ho);function Au(){for(var ep=-1,ap=arguments.length,pp=-1,gp=Ml.length,bp=up(gp+ap),Np=this&&this!==w1&&this instanceof Au?Yl:Ho;++pp<gp;)bp[pp]=Ml[pp];for(;ap--;)bp[pp++]=arguments[++ep];return X1(Np,Hl?_l:this,bp)}return Au}function h5(Ho){return function(Yo,_l,Ml){return Ml&&typeof Ml!="number"&&$m(Yo,_l,Ml)&&(_l=Ml=io),Yo=Sw(Yo),_l===io?(_l=Yo,Yo=0):_l=Sw(_l),Ml=Ml===io?Yo<_l?1:-1:Sw(Ml),vx(Yo,_l,Ml,Ho)}}function D2(Ho){return function(Yo,_l){return typeof Yo=="string"&&typeof _l=="string"||(Yo=Qm(Yo),_l=Qm(_l)),Ho(Yo,_l)}}function f5(Ho,Yo,_l,Ml,Hl,Yl,Au,ep,ap,pp){var gp=Yo&_c,bp=gp?Au:io,Np=gp?io:Au,Gp=gp?Yl:io,n1=gp?io:Yl;Yo|=gp?Al:Il,Yo&=~(gp?Il:Al),Yo&ds||(Yo&=~(Cl|xl));var f1=[Ho,Yo,Hl,Gp,bp,n1,Np,ep,ap,pp],i1=_l.apply(io,f1);return j3(Ho)&&E5(i1,f1),i1.placeholder=Ml,A5(i1,Ho,Yo)}function O3(Ho){var Yo=Q1[Ho];return function(_l,Ml){if(_l=Qm(_l),Ml=Ml==null?0:sm(h1(Ml),292),Ml&&A$(_l)){var Hl=(x1(_l)+"e").split("e"),Yl=Yo(Hl[0]+"e"+(+Hl[1]+Ml));return Hl=(x1(Yl)+"e").split("e"),+(Hl[0]+"e"+(+Hl[1]-Ml))}return Yo(_l)}}var Mx=_y&&1/c2(new _y([,-0]))[1]==Pl?function(Ho){return new _y(Ho)}:n$;function p5(Ho){return function(Yo){var _l=am(Yo);return _l==lp?u3(Yo):_l==Ap?Y6(Yo):z6(Yo,Ho(Yo))}}function Cw(Ho,Yo,_l,Ml,Hl,Yl,Au,ep){var ap=Yo&xl;if(!ap&&typeof Ho!="function")throw new Vm(Ao);var pp=Ml?Ml.length:0;if(pp||(Yo&=~(Al|Il),Ml=Hl=io),Au=Au===io?Au:Y1(h1(Au),0),ep=ep===io?ep:h1(ep),pp-=Hl?Hl.length:0,Yo&Il){var gp=Ml,bp=Hl;Ml=Hl=io}var Np=ap?io:L3(Ho),Gp=[Ho,Yo,_l,Ml,Hl,gp,bp,Yl,Au,ep];if(Np&&Yx(Gp,Np),Ho=Gp[0],Yo=Gp[1],_l=Gp[2],Ml=Gp[3],Hl=Gp[4],ep=Gp[9]=Gp[9]===io?ap?0:Ho.length:Y1(Gp[9]-pp,0),!ep&&Yo&(_c|$l)&&(Yo&=~(_c|$l)),!Yo||Yo==Cl)var n1=Nx(Ho,Yo,_l);else Yo==_c||Yo==$l?n1=Dx(Ho,Yo,ep):(Yo==Al||Yo==(Cl|Al))&&!Hl.length?n1=Ox(Ho,Yo,_l,Ml):n1=k2.apply(io,Gp);var f1=Np?K$:E5;return A5(f1(n1,Gp),Ho,Yo)}function g5(Ho,Yo,_l,Ml){return Ho===io||aw(Ho,Cy[_l])&&!C1.call(Ml,_l)?Yo:Ho}function m5(Ho,Yo,_l,Ml,Hl,Yl){return B1(Ho)&&B1(Yo)&&(Yl.set(Yo,Ho),A2(Ho,Yo,io,m5,Yl),Yl.delete(Yo)),Ho}function Bx(Ho){return Rv(Ho)?io:Ho}function w5(Ho,Yo,_l,Ml,Hl,Yl){var Au=_l&Qo,ep=Ho.length,ap=Yo.length;if(ep!=ap&&!(Au&&ap>ep))return!1;var pp=Yl.get(Ho),gp=Yl.get(Yo);if(pp&&gp)return pp==Yo&&gp==Ho;var bp=-1,Np=!0,Gp=_l&os?new ny:io;for(Yl.set(Ho,Yo),Yl.set(Yo,Ho);++bp<ep;){var n1=Ho[bp],f1=Yo[bp];if(Ml)var i1=Au?Ml(f1,n1,bp,Yo,Ho,Yl):Ml(n1,f1,bp,Ho,Yo,Yl);if(i1!==io){if(i1)continue;Np=!1;break}if(Gp){if(!i3(Yo,function(g1,y1){if(!Ky(Gp,y1)&&(n1===g1||Hl(n1,g1,_l,Ml,Yl)))return Gp.push(y1)})){Np=!1;break}}else if(!(n1===f1||Hl(n1,f1,_l,Ml,Yl))){Np=!1;break}}return Yl.delete(Ho),Yl.delete(Yo),Np}function Lx(Ho,Yo,_l,Ml,Hl,Yl,Au){switch(_l){case Dl:if(Ho.byteLength!=Yo.byteLength||Ho.byteOffset!=Yo.byteOffset)return!1;Ho=Ho.buffer,Yo=Yo.buffer;case zl:return!(Ho.byteLength!=Yo.byteLength||!Yl(new p2(Ho),new p2(Yo)));case Jl:case Ql:case hp:return aw(+Ho,+Yo);case Zl:return Ho.name==Yo.name&&Ho.message==Yo.message;case Tp:case wp:return Ho==Yo+"";case lp:var ep=u3;case Ap:var ap=Ml&Qo;if(ep||(ep=c2),Ho.size!=Yo.size&&!ap)return!1;var pp=Au.get(Ho);if(pp)return pp==Yo;Ml|=os,Au.set(Ho,Yo);var gp=w5(ep(Ho),ep(Yo),Ml,Hl,Yl,Au);return Au.delete(Ho),gp;case Cp:if(Xy)return Xy.call(Ho)==Xy.call(Yo)}return!1}function Ux(Ho,Yo,_l,Ml,Hl,Yl){var Au=_l&Qo,ep=M3(Ho),ap=ep.length,pp=M3(Yo),gp=pp.length;if(ap!=gp&&!Au)return!1;for(var bp=ap;bp--;){var Np=ep[bp];if(!(Au?Np in Yo:C1.call(Yo,Np)))return!1}var Gp=Yl.get(Ho),n1=Yl.get(Yo);if(Gp&&n1)return Gp==Yo&&n1==Ho;var f1=!0;Yl.set(Ho,Yo),Yl.set(Yo,Ho);for(var i1=Au;++bp<ap;){Np=ep[bp];var g1=Ho[Np],y1=Yo[Np];if(Ml)var Lm=Au?Ml(y1,g1,Np,Yo,Ho,Yl):Ml(g1,y1,Np,Ho,Yo,Yl);if(!(Lm===io?g1===y1||Hl(g1,y1,_l,Ml,Yl):Lm)){f1=!1;break}i1||(i1=Np=="constructor")}if(f1&&!i1){var xm=Ho.constructor,Um=Yo.constructor;xm!=Um&&"constructor"in Ho&&"constructor"in Yo&&!(typeof xm=="function"&&xm instanceof xm&&typeof Um=="function"&&Um instanceof Um)&&(f1=!1)}return Yl.delete(Ho),Yl.delete(Yo),f1}function _w(Ho){return H3(C5(Ho,io,P5),Ho+"")}function M3(Ho){return B$(Ho,_g,W3)}function B3(Ho){return B$(Ho,Rm,y5)}var L3=v2?function(Ho){return v2.get(Ho)}:n$;function O2(Ho){for(var Yo=Ho.name+"",_l=Ey[Yo],Ml=C1.call(Ey,Yo)?_l.length:0;Ml--;){var Hl=_l[Ml],Yl=Hl.func;if(Yl==null||Yl==Ho)return Hl.name}return Yo}function Iy(Ho){var Yo=C1.call(Kl,"placeholder")?Kl:Ho;return Yo.placeholder}function e1(){var Ho=Kl.iteratee||t$;return Ho=Ho===t$?W$:Ho,arguments.length?Ho(arguments[0],arguments[1]):Ho}function M2(Ho,Yo){var _l=Ho.__data__;return Gx(Yo)?_l[typeof Yo=="string"?"string":"hash"]:_l.map}function U3(Ho){for(var Yo=_g(Ho),_l=Yo.length;_l--;){var Ml=Yo[_l],Hl=Ho[Ml];Yo[_l]=[Ml,Hl,$5(Hl)]}return Yo}function sy(Ho,Yo){var _l=K6(Ho,Yo);return U$(_l)?_l:io}function Wx(Ho){var Yo=C1.call(Ho,ty),_l=Ho[ty];try{Ho[ty]=io;var Ml=!0}catch{}var Hl=h2.call(Ho);return Ml&&(Yo?Ho[ty]=_l:delete Ho[ty]),Hl}var W3=h3?function(Ho){return Ho==null?[]:(Ho=R1(Ho),Pw(h3(Ho),function(Yo){return _$.call(Ho,Yo)}))}:i$,y5=h3?function(Ho){for(var Yo=[];Ho;)Nw(Yo,W3(Ho)),Ho=g2(Ho);return Yo}:i$,am=vm;(f3&&am(new f3(new ArrayBuffer(1)))!=Dl||Qy&&am(new Qy)!=lp||p3&&am(p3.resolve())!=Ep||_y&&am(new _y)!=Ap||Yy&&am(new Yy)!=yp)&&(am=function(Ho){var Yo=vm(Ho),_l=Yo==Ip?Ho.constructor:io,Ml=_l?ay(_l):"";if(Ml)switch(Ml){case v4:return Dl;case $4:return lp;case x4:return Ep;case C4:return Ap;case _4:return yp}return Yo});function Fx(Ho,Yo,_l){for(var Ml=-1,Hl=_l.length;++Ml<Hl;){var Yl=_l[Ml],Au=Yl.size;switch(Yl.type){case"drop":Ho+=Au;break;case"dropRight":Yo-=Au;break;case"take":Yo=sm(Yo,Ho+Au);break;case"takeRight":Ho=Y1(Ho,Yo-Au);break}}return{start:Ho,end:Yo}}function jx(Ho){var Yo=Ho.match(Qp);return Yo?Yo[1].split(s1):[]}function b5(Ho,Yo,_l){Yo=Lw(Yo,Ho);for(var Ml=-1,Hl=Yo.length,Yl=!1;++Ml<Hl;){var Au=gw(Yo[Ml]);if(!(Yl=Ho!=null&&_l(Ho,Au)))break;Ho=Ho[Au]}return Yl||++Ml!=Hl?Yl:(Hl=Ho==null?0:Ho.length,!!Hl&&z2(Hl)&&Ew(Au,Hl)&&(u1(Ho)||cy(Ho)))}function zx(Ho){var Yo=Ho.length,_l=new Ho.constructor(Yo);return Yo&&typeof Ho[0]=="string"&&C1.call(Ho,"index")&&(_l.index=Ho.index,_l.input=Ho.input),_l}function v5(Ho){return typeof Ho.constructor=="function"&&!Tv(Ho)?Ay(g2(Ho)):{}}function Hx(Ho,Yo,_l){var Ml=Ho.constructor;switch(Yo){case zl:return P3(Ho);case Jl:case Ql:return new Ml(+Ho);case Dl:return Sx(Ho,_l);case Ll:case Gl:case fu:case _d:case sp:case fp:case _p:case Mp:case Sp:return r5(Ho,_l);case lp:return new Ml;case hp:case wp:return new Ml(Ho);case Tp:return Tx(Ho);case Ap:return new Ml;case Cp:return Ix(Ho)}}function Vx(Ho,Yo){var _l=Yo.length;if(!_l)return Ho;var Ml=_l-1;return Yo[Ml]=(_l>1?"& ":"")+Yo[Ml],Yo=Yo.join(_l>2?", ":" "),Ho.replace(Lp,`{
/* [wrapped with `+Yo+`] */
`)}function qx(Ho){return u1(Ho)||cy(Ho)||!!(E$&&Ho&&Ho[E$])}function Ew(Ho,Yo){var _l=typeof Ho;return Yo=Yo??Sl,!!Yo&&(_l=="number"||_l!="symbol"&&om.test(Ho))&&Ho>-1&&Ho%1==0&&Ho<Yo}function $m(Ho,Yo,_l){if(!B1(_l))return!1;var Ml=typeof Yo;return(Ml=="number"?km(_l)&&Ew(Yo,_l.length):Ml=="string"&&Yo in _l)?aw(_l[Yo],Ho):!1}function F3(Ho,Yo){if(u1(Ho))return!1;var _l=typeof Ho;return _l=="number"||_l=="symbol"||_l=="boolean"||Ho==null||Bm(Ho)?!0:Wp.test(Ho)||!Xp.test(Ho)||Yo!=null&&Ho in R1(Yo)}function Gx(Ho){var Yo=typeof Ho;return Yo=="string"||Yo=="number"||Yo=="symbol"||Yo=="boolean"?Ho!=="__proto__":Ho===null}function j3(Ho){var Yo=O2(Ho),_l=Kl[Yo];if(typeof _l!="function"||!(Yo in m1.prototype))return!1;if(Ho===_l)return!0;var Ml=L3(_l);return!!Ml&&Ho===Ml[0]}function Kx(Ho){return!!$$&&$$ in Ho}var Zx=u2?Aw:o$;function Tv(Ho){var Yo=Ho&&Ho.constructor,_l=typeof Yo=="function"&&Yo.prototype||Cy;return Ho===_l}function $5(Ho){return Ho===Ho&&!B1(Ho)}function x5(Ho,Yo){return function(_l){return _l==null?!1:_l[Ho]===Yo&&(Yo!==io||Ho in R1(_l))}}function Qx(Ho){var Yo=F2(Ho,function(Ml){return _l.size===jo&&_l.clear(),Ml}),_l=Yo.cache;return Yo}function Yx(Ho,Yo){var _l=Ho[1],Ml=Yo[1],Hl=_l|Ml,Yl=Hl<(Cl|xl|us),Au=Ml==us&&_l==_c||Ml==us&&_l==ps&&Ho[7].length<=Yo[8]||Ml==(us|ps)&&Yo[7].length<=Yo[8]&&_l==_c;if(!(Yl||Au))return Ho;Ml&Cl&&(Ho[2]=Yo[2],Hl|=_l&Cl?0:ds);var ep=Yo[3];if(ep){var ap=Ho[3];Ho[3]=ap?i5(ap,ep,Yo[4]):ep,Ho[4]=ap?Dw(Ho[3],zo):Yo[4]}return ep=Yo[5],ep&&(ap=Ho[5],Ho[5]=ap?o5(ap,ep,Yo[6]):ep,Ho[6]=ap?Dw(Ho[5],zo):Yo[6]),ep=Yo[7],ep&&(Ho[7]=ep),Ml&us&&(Ho[8]=Ho[8]==null?Yo[8]:sm(Ho[8],Yo[8])),Ho[9]==null&&(Ho[9]=Yo[9]),Ho[0]=Yo[0],Ho[1]=Hl,Ho}function Jx(Ho){var Yo=[];if(Ho!=null)for(var _l in R1(Ho))Yo.push(_l);return Yo}function Xx(Ho){return h2.call(Ho)}function C5(Ho,Yo,_l){return Yo=Y1(Yo===io?Ho.length-1:Yo,0),function(){for(var Ml=arguments,Hl=-1,Yl=Y1(Ml.length-Yo,0),Au=up(Yl);++Hl<Yl;)Au[Hl]=Ml[Yo+Hl];Hl=-1;for(var ep=up(Yo+1);++Hl<Yo;)ep[Hl]=Ml[Hl];return ep[Yo]=_l(Au),X1(Ho,this,ep)}}function _5(Ho,Yo){return Yo.length<2?Ho:oy(Ho,Km(Yo,0,-1))}function eC(Ho,Yo){for(var _l=Ho.length,Ml=sm(Yo.length,_l),Hl=Im(Ho);Ml--;){var Yl=Yo[Ml];Ho[Ml]=Ew(Yl,_l)?Hl[Yl]:io}return Ho}function z3(Ho,Yo){if(!(Yo==="constructor"&&typeof Ho[Yo]=="function")&&Yo!="__proto__")return Ho[Yo]}var E5=S5(K$),kv=f4||function(Ho,Yo){return w1.setTimeout(Ho,Yo)},H3=S5(Cx);function A5(Ho,Yo,_l){var Ml=Yo+"";return H3(Ho,Vx(Ml,tC(jx(Ml),_l)))}function S5(Ho){var Yo=0,_l=0;return function(){var Ml=w4(),Hl=Xo-(Ml-_l);if(_l=Ml,Hl>0){if(++Yo>=wl)return arguments[0]}else Yo=0;return Ho.apply(io,arguments)}}function B2(Ho,Yo){var _l=-1,Ml=Ho.length,Hl=Ml-1;for(Yo=Yo===io?Ml:Yo;++_l<Yo;){var Yl=E3(_l,Hl),Au=Ho[Yl];Ho[Yl]=Ho[_l],Ho[_l]=Au}return Ho.length=Yo,Ho}var T5=Qx(function(Ho){var Yo=[];return Ho.charCodeAt(0)===46&&Yo.push(""),Ho.replace(o1,function(_l,Ml,Hl,Yl){Yo.push(Hl?Yl.replace(v1,"$1"):Ml||_l)}),Yo});function gw(Ho){if(typeof Ho=="string"||Bm(Ho))return Ho;var Yo=Ho+"";return Yo=="0"&&1/Ho==-Pl?"-0":Yo}function ay(Ho){if(Ho!=null){try{return d2.call(Ho)}catch{}try{return Ho+""}catch{}}return""}function tC(Ho,Yo){return Hm(bu,function(_l){var Ml="_."+_l[0];Yo&_l[1]&&!s2(Ho,Ml)&&Ho.push(Ml)}),Ho.sort()}function I5(Ho){if(Ho instanceof m1)return Ho.clone();var Yo=new qm(Ho.__wrapped__,Ho.__chain__);return Yo.__actions__=Im(Ho.__actions__),Yo.__index__=Ho.__index__,Yo.__values__=Ho.__values__,Yo}function rC(Ho,Yo,_l){(_l?$m(Ho,Yo,_l):Yo===io)?Yo=1:Yo=Y1(h1(Yo),0);var Ml=Ho==null?0:Ho.length;if(!Ml||Yo<1)return[];for(var Hl=0,Yl=0,Au=up(y2(Ml/Yo));Hl<Ml;)Au[Yl++]=Km(Ho,Hl,Hl+=Yo);return Au}function nC(Ho){for(var Yo=-1,_l=Ho==null?0:Ho.length,Ml=0,Hl=[];++Yo<_l;){var Yl=Ho[Yo];Yl&&(Hl[Ml++]=Yl)}return Hl}function iC(){var Ho=arguments.length;if(!Ho)return[];for(var Yo=up(Ho-1),_l=arguments[0],Ml=Ho;Ml--;)Yo[Ml-1]=arguments[Ml];return Nw(u1(_l)?Im(_l):[_l],em(Yo,1))}var oC=p1(function(Ho,Yo){return z1(Ho)?yv(Ho,em(Yo,1,z1,!0)):[]}),sC=p1(function(Ho,Yo){var _l=Zm(Yo);return z1(_l)&&(_l=io),z1(Ho)?yv(Ho,em(Yo,1,z1,!0),e1(_l,2)):[]}),aC=p1(function(Ho,Yo){var _l=Zm(Yo);return z1(_l)&&(_l=io),z1(Ho)?yv(Ho,em(Yo,1,z1,!0),io,_l):[]});function cC(Ho,Yo,_l){var Ml=Ho==null?0:Ho.length;return Ml?(Yo=_l||Yo===io?1:h1(Yo),Km(Ho,Yo<0?0:Yo,Ml)):[]}function lC(Ho,Yo,_l){var Ml=Ho==null?0:Ho.length;return Ml?(Yo=_l||Yo===io?1:h1(Yo),Yo=Ml-Yo,Km(Ho,0,Yo<0?0:Yo)):[]}function uC(Ho,Yo){return Ho&&Ho.length?T2(Ho,e1(Yo,3),!0,!0):[]}function dC(Ho,Yo){return Ho&&Ho.length?T2(Ho,e1(Yo,3),!0):[]}function hC(Ho,Yo,_l,Ml){var Hl=Ho==null?0:Ho.length;return Hl?(_l&&typeof _l!="number"&&$m(Ho,Yo,_l)&&(_l=0,Ml=Hl),nx(Ho,Yo,_l,Ml)):[]}function k5(Ho,Yo,_l){var Ml=Ho==null?0:Ho.length;if(!Ml)return-1;var Hl=_l==null?0:h1(_l);return Hl<0&&(Hl=Y1(Ml+Hl,0)),a2(Ho,e1(Yo,3),Hl)}function R5(Ho,Yo,_l){var Ml=Ho==null?0:Ho.length;if(!Ml)return-1;var Hl=Ml-1;return _l!==io&&(Hl=h1(_l),Hl=_l<0?Y1(Ml+Hl,0):sm(Hl,Ml-1)),a2(Ho,e1(Yo,3),Hl,!0)}function P5(Ho){var Yo=Ho==null?0:Ho.length;return Yo?em(Ho,1):[]}function fC(Ho){var Yo=Ho==null?0:Ho.length;return Yo?em(Ho,Pl):[]}function pC(Ho,Yo){var _l=Ho==null?0:Ho.length;return _l?(Yo=Yo===io?1:h1(Yo),em(Ho,Yo)):[]}function gC(Ho){for(var Yo=-1,_l=Ho==null?0:Ho.length,Ml={};++Yo<_l;){var Hl=Ho[Yo];Ml[Hl[0]]=Hl[1]}return Ml}function D5(Ho){return Ho&&Ho.length?Ho[0]:io}function mC(Ho,Yo,_l){var Ml=Ho==null?0:Ho.length;if(!Ml)return-1;var Hl=_l==null?0:h1(_l);return Hl<0&&(Hl=Y1(Ml+Hl,0)),by(Ho,Yo,Hl)}function wC(Ho){var Yo=Ho==null?0:Ho.length;return Yo?Km(Ho,0,-1):[]}var yC=p1(function(Ho){var Yo=O1(Ho,k3);return Yo.length&&Yo[0]===Ho[0]?v3(Yo):[]}),bC=p1(function(Ho){var Yo=Zm(Ho),_l=O1(Ho,k3);return Yo===Zm(_l)?Yo=io:_l.pop(),_l.length&&_l[0]===Ho[0]?v3(_l,e1(Yo,2)):[]}),vC=p1(function(Ho){var Yo=Zm(Ho),_l=O1(Ho,k3);return Yo=typeof Yo=="function"?Yo:io,Yo&&_l.pop(),_l.length&&_l[0]===Ho[0]?v3(_l,io,Yo):[]});function $C(Ho,Yo){return Ho==null?"":g4.call(Ho,Yo)}function Zm(Ho){var Yo=Ho==null?0:Ho.length;return Yo?Ho[Yo-1]:io}function xC(Ho,Yo,_l){var Ml=Ho==null?0:Ho.length;if(!Ml)return-1;var Hl=Ml;return _l!==io&&(Hl=h1(_l),Hl=Hl<0?Y1(Ml+Hl,0):sm(Hl,Ml-1)),Yo===Yo?X6(Ho,Yo,Hl):a2(Ho,f$,Hl,!0)}function CC(Ho,Yo){return Ho&&Ho.length?H$(Ho,h1(Yo)):io}var _C=p1(O5);function O5(Ho,Yo){return Ho&&Ho.length&&Yo&&Yo.length?_3(Ho,Yo):Ho}function AC(Ho,Yo,_l){return Ho&&Ho.length&&Yo&&Yo.length?_3(Ho,Yo,e1(_l,2)):Ho}function SC(Ho,Yo,_l){return Ho&&Ho.length&&Yo&&Yo.length?_3(Ho,Yo,io,_l):Ho}var TC=_w(function(Ho,Yo){var _l=Ho==null?0:Ho.length,Ml=m3(Ho,Yo);return G$(Ho,O1(Yo,function(Hl){return Ew(Hl,_l)?+Hl:Hl}).sort(n5)),Ml});function IC(Ho,Yo){var _l=[];if(!(Ho&&Ho.length))return _l;var Ml=-1,Hl=[],Yl=Ho.length;for(Yo=e1(Yo,3);++Ml<Yl;){var Au=Ho[Ml];Yo(Au,Ml,Ho)&&(_l.push(Au),Hl.push(Ml))}return G$(Ho,Hl),_l}function V3(Ho){return Ho==null?Ho:b4.call(Ho)}function kC(Ho,Yo,_l){var Ml=Ho==null?0:Ho.length;return Ml?(_l&&typeof _l!="number"&&$m(Ho,Yo,_l)?(Yo=0,_l=Ml):(Yo=Yo==null?0:h1(Yo),_l=_l===io?Ml:h1(_l)),Km(Ho,Yo,_l)):[]}function RC(Ho,Yo){return S2(Ho,Yo)}function PC(Ho,Yo,_l){return S3(Ho,Yo,e1(_l,2))}function NC(Ho,Yo){var _l=Ho==null?0:Ho.length;if(_l){var Ml=S2(Ho,Yo);if(Ml<_l&&aw(Ho[Ml],Yo))return Ml}return-1}function DC(Ho,Yo){return S2(Ho,Yo,!0)}function OC(Ho,Yo,_l){return S3(Ho,Yo,e1(_l,2),!0)}function MC(Ho,Yo){var _l=Ho==null?0:Ho.length;if(_l){var Ml=S2(Ho,Yo,!0)-1;if(aw(Ho[Ml],Yo))return Ml}return-1}function BC(Ho){return Ho&&Ho.length?Z$(Ho):[]}function LC(Ho,Yo){return Ho&&Ho.length?Z$(Ho,e1(Yo,2)):[]}function UC(Ho){var Yo=Ho==null?0:Ho.length;return Yo?Km(Ho,1,Yo):[]}function WC(Ho,Yo,_l){return Ho&&Ho.length?(Yo=_l||Yo===io?1:h1(Yo),Km(Ho,0,Yo<0?0:Yo)):[]}function FC(Ho,Yo,_l){var Ml=Ho==null?0:Ho.length;return Ml?(Yo=_l||Yo===io?1:h1(Yo),Yo=Ml-Yo,Km(Ho,Yo<0?0:Yo,Ml)):[]}function jC(Ho,Yo){return Ho&&Ho.length?T2(Ho,e1(Yo,3),!1,!0):[]}function zC(Ho,Yo){return Ho&&Ho.length?T2(Ho,e1(Yo,3)):[]}var HC=p1(function(Ho){return Bw(em(Ho,1,z1,!0))}),VC=p1(function(Ho){var Yo=Zm(Ho);return z1(Yo)&&(Yo=io),Bw(em(Ho,1,z1,!0),e1(Yo,2))}),qC=p1(function(Ho){var Yo=Zm(Ho);return Yo=typeof Yo=="function"?Yo:io,Bw(em(Ho,1,z1,!0),io,Yo)});function GC(Ho){return Ho&&Ho.length?Bw(Ho):[]}function KC(Ho,Yo){return Ho&&Ho.length?Bw(Ho,e1(Yo,2)):[]}function ZC(Ho,Yo){return Yo=typeof Yo=="function"?Yo:io,Ho&&Ho.length?Bw(Ho,io,Yo):[]}function q3(Ho){if(!(Ho&&Ho.length))return[];var Yo=0;return Ho=Pw(Ho,function(_l){if(z1(_l))return Yo=Y1(_l.length,Yo),!0}),c3(Yo,function(_l){return O1(Ho,o3(_l))})}function M5(Ho,Yo){if(!(Ho&&Ho.length))return[];var _l=q3(Ho);return Yo==null?_l:O1(_l,function(Ml){return X1(Yo,io,Ml)})}var QC=p1(function(Ho,Yo){return z1(Ho)?yv(Ho,Yo):[]}),YC=p1(function(Ho){return I3(Pw(Ho,z1))}),JC=p1(function(Ho){var Yo=Zm(Ho);return z1(Yo)&&(Yo=io),I3(Pw(Ho,z1),e1(Yo,2))}),XC=p1(function(Ho){var Yo=Zm(Ho);return Yo=typeof Yo=="function"?Yo:io,I3(Pw(Ho,z1),io,Yo)}),e8=p1(q3);function t8(Ho,Yo){return X$(Ho||[],Yo||[],_b)}function r8(Ho,Yo){return X$(Ho||[],Yo||[],Ev)}var n8=p1(function(Ho){var Yo=Ho.length,_l=Yo>1?Ho[Yo-1]:io;return _l=typeof _l=="function"?(Ho.pop(),_l):io,M5(Ho,_l)});function B5(Ho){var Yo=Kl(Ho);return Yo.__chain__=!0,Yo}function i8(Ho,Yo){return Yo(Ho),Ho}function L2(Ho,Yo){return Yo(Ho)}var o8=_w(function(Ho){var Yo=Ho.length,_l=Yo?Ho[0]:0,Ml=this.__wrapped__,Hl=function(Yl){return m3(Yl,Ho)};return Yo>1||this.__actions__.length||!(Ml instanceof m1)||!Ew(_l)?this.thru(Hl):(Ml=Ml.slice(_l,+_l+(Yo?1:0)),Ml.__actions__.push({func:L2,args:[Hl],thisArg:io}),new qm(Ml,this.__chain__).thru(function(Yl){return Yo&&!Yl.length&&Yl.push(io),Yl}))});function s8(){return B5(this)}function a8(){return new qm(this.value(),this.__chain__)}function c8(){this.__values__===io&&(this.__values__=Y5(this.value()));var Ho=this.__index__>=this.__values__.length,Yo=Ho?io:this.__values__[this.__index__++];return{done:Ho,value:Yo}}function l8(){return this}function u8(Ho){for(var Yo,_l=this;_l instanceof x2;){var Ml=I5(_l);Ml.__index__=0,Ml.__values__=io,Yo?Hl.__wrapped__=Ml:Yo=Ml;var Hl=Ml;_l=_l.__wrapped__}return Hl.__wrapped__=Ho,Yo}function d8(){var Ho=this.__wrapped__;if(Ho instanceof m1){var Yo=Ho;return this.__actions__.length&&(Yo=new m1(this)),Yo=Yo.reverse(),Yo.__actions__.push({func:L2,args:[V3],thisArg:io}),new qm(Yo,this.__chain__)}return this.thru(V3)}function h8(){return J$(this.__wrapped__,this.__actions__)}var f8=I2(function(Ho,Yo,_l){C1.call(Ho,_l)?++Ho[_l]:xw(Ho,_l,1)});function p8(Ho,Yo,_l){var Ml=u1(Ho)?d$:rx;return _l&&$m(Ho,Yo,_l)&&(Yo=io),Ml(Ho,e1(Yo,3))}function g8(Ho,Yo){var _l=u1(Ho)?Pw:O$;return _l(Ho,e1(Yo,3))}var m8=l5(k5),w8=l5(R5);function y8(Ho,Yo){return em(U2(Ho,Yo),1)}function b8(Ho,Yo){return em(U2(Ho,Yo),Pl)}function v8(Ho,Yo,_l){return _l=_l===io?1:h1(_l),em(U2(Ho,Yo),_l)}function L5(Ho,Yo){var _l=u1(Ho)?Hm:Mw;return _l(Ho,e1(Yo,3))}function U5(Ho,Yo){var _l=u1(Ho)?M6:D$;return _l(Ho,e1(Yo,3))}var $8=I2(function(Ho,Yo,_l){C1.call(Ho,_l)?Ho[_l].push(Yo):xw(Ho,_l,[Yo])});function x8(Ho,Yo,_l,Ml){Ho=km(Ho)?Ho:Ry(Ho),_l=_l&&!Ml?h1(_l):0;var Hl=Ho.length;return _l<0&&(_l=Y1(Hl+_l,0)),H2(Ho)?_l<=Hl&&Ho.indexOf(Yo,_l)>-1:!!Hl&&by(Ho,Yo,_l)>-1}var C8=p1(function(Ho,Yo,_l){var Ml=-1,Hl=typeof Yo=="function",Yl=km(Ho)?up(Ho.length):[];return Mw(Ho,function(Au){Yl[++Ml]=Hl?X1(Yo,Au,_l):bv(Au,Yo,_l)}),Yl}),_8=I2(function(Ho,Yo,_l){xw(Ho,_l,Yo)});function U2(Ho,Yo){var _l=u1(Ho)?O1:F$;return _l(Ho,e1(Yo,3))}function E8(Ho,Yo,_l,Ml){return Ho==null?[]:(u1(Yo)||(Yo=Yo==null?[]:[Yo]),_l=Ml?io:_l,u1(_l)||(_l=_l==null?[]:[_l]),V$(Ho,Yo,_l))}var A8=I2(function(Ho,Yo,_l){Ho[_l?0:1].push(Yo)},function(){return[[],[]]});function S8(Ho,Yo,_l){var Ml=u1(Ho)?n3:g$,Hl=arguments.length<3;return Ml(Ho,e1(Yo,4),_l,Hl,Mw)}function T8(Ho,Yo,_l){var Ml=u1(Ho)?B6:g$,Hl=arguments.length<3;return Ml(Ho,e1(Yo,4),_l,Hl,D$)}function I8(Ho,Yo){var _l=u1(Ho)?Pw:O$;return _l(Ho,j2(e1(Yo,3)))}function k8(Ho){var Yo=u1(Ho)?k$:$x;return Yo(Ho)}function R8(Ho,Yo,_l){(_l?$m(Ho,Yo,_l):Yo===io)?Yo=1:Yo=h1(Yo);var Ml=u1(Ho)?Y4:xx;return Ml(Ho,Yo)}function P8(Ho){var Yo=u1(Ho)?J4:_x;return Yo(Ho)}function D8(Ho){if(Ho==null)return 0;if(km(Ho))return H2(Ho)?$y(Ho):Ho.length;var Yo=am(Ho);return Yo==lp||Yo==Ap?Ho.size:x3(Ho).length}function O8(Ho,Yo,_l){var Ml=u1(Ho)?i3:Ex;return _l&&$m(Ho,Yo,_l)&&(Yo=io),Ml(Ho,e1(Yo,3))}var M8=p1(function(Ho,Yo){if(Ho==null)return[];var _l=Yo.length;return _l>1&&$m(Ho,Yo[0],Yo[1])?Yo=[]:_l>2&&$m(Yo[0],Yo[1],Yo[2])&&(Yo=[Yo[0]]),V$(Ho,em(Yo,1),[])}),W2=h4||function(){return w1.Date.now()};function B8(Ho,Yo){if(typeof Yo!="function")throw new Vm(Ao);return Ho=h1(Ho),function(){if(--Ho<1)return Yo.apply(this,arguments)}}function W5(Ho,Yo,_l){return Yo=_l?io:Yo,Yo=Ho&&Yo==null?Ho.length:Yo,Cw(Ho,us,io,io,io,io,Yo)}function F5(Ho,Yo){var _l;if(typeof Yo!="function")throw new Vm(Ao);return Ho=h1(Ho),function(){return--Ho>0&&(_l=Yo.apply(this,arguments)),Ho<=1&&(Yo=io),_l}}var G3=p1(function(Ho,Yo,_l){var Ml=Cl;if(_l.length){var Hl=Dw(_l,Iy(G3));Ml|=Al}return Cw(Ho,Ml,Yo,_l,Hl)}),j5=p1(function(Ho,Yo,_l){var Ml=Cl|xl;if(_l.length){var Hl=Dw(_l,Iy(j5));Ml|=Al}return Cw(Yo,Ml,Ho,_l,Hl)});function z5(Ho,Yo,_l){Yo=_l?io:Yo;var Ml=Cw(Ho,_c,io,io,io,io,io,Yo);return Ml.placeholder=z5.placeholder,Ml}function H5(Ho,Yo,_l){Yo=_l?io:Yo;var Ml=Cw(Ho,$l,io,io,io,io,io,Yo);return Ml.placeholder=H5.placeholder,Ml}function V5(Ho,Yo,_l){var Ml,Hl,Yl,Au,ep,ap,pp=0,gp=!1,bp=!1,Np=!0;if(typeof Ho!="function")throw new Vm(Ao);Yo=Qm(Yo)||0,B1(_l)&&(gp=!!_l.leading,bp="maxWait"in _l,Yl=bp?Y1(Qm(_l.maxWait)||0,Yo):Yl,Np="trailing"in _l?!!_l.trailing:Np);function Gp(H1){var cw=Ml,Tw=Hl;return Ml=Hl=io,pp=H1,Au=Ho.apply(Tw,cw),Au}function n1(H1){return pp=H1,ep=kv(g1,Yo),gp?Gp(H1):Au}function f1(H1){var cw=H1-ap,Tw=H1-pp,u6=Yo-cw;return bp?sm(u6,Yl-Tw):u6}function i1(H1){var cw=H1-ap,Tw=H1-pp;return ap===io||cw>=Yo||cw<0||bp&&Tw>=Yl}function g1(){var H1=W2();if(i1(H1))return y1(H1);ep=kv(g1,f1(H1))}function y1(H1){return ep=io,Np&&Ml?Gp(H1):(Ml=Hl=io,Au)}function Lm(){ep!==io&&e5(ep),pp=0,Ml=ap=Hl=ep=io}function xm(){return ep===io?Au:y1(W2())}function Um(){var H1=W2(),cw=i1(H1);if(Ml=arguments,Hl=this,ap=H1,cw){if(ep===io)return n1(ap);if(bp)return e5(ep),ep=kv(g1,Yo),Gp(ap)}return ep===io&&(ep=kv(g1,Yo)),Au}return Um.cancel=Lm,Um.flush=xm,Um}var L8=p1(function(Ho,Yo){return N$(Ho,1,Yo)}),U8=p1(function(Ho,Yo,_l){return N$(Ho,Qm(Yo)||0,_l)});function W8(Ho){return Cw(Ho,Rl)}function F2(Ho,Yo){if(typeof Ho!="function"||Yo!=null&&typeof Yo!="function")throw new Vm(Ao);var _l=function(){var Ml=arguments,Hl=Yo?Yo.apply(this,Ml):Ml[0],Yl=_l.cache;if(Yl.has(Hl))return Yl.get(Hl);var Au=Ho.apply(this,Ml);return _l.cache=Yl.set(Hl,Au)||Yl,Au};return _l.cache=new(F2.Cache||$w),_l}F2.Cache=$w;function j2(Ho){if(typeof Ho!="function")throw new Vm(Ao);return function(){var Yo=arguments;switch(Yo.length){case 0:return!Ho.call(this);case 1:return!Ho.call(this,Yo[0]);case 2:return!Ho.call(this,Yo[0],Yo[1]);case 3:return!Ho.call(this,Yo[0],Yo[1],Yo[2])}return!Ho.apply(this,Yo)}}function F8(Ho){return F5(2,Ho)}var j8=Ax(function(Ho,Yo){Yo=Yo.length==1&&u1(Yo[0])?O1(Yo[0],Om(e1())):O1(em(Yo,1),Om(e1()));var _l=Yo.length;return p1(function(Ml){for(var Hl=-1,Yl=sm(Ml.length,_l);++Hl<Yl;)Ml[Hl]=Yo[Hl].call(this,Ml[Hl]);return X1(Ho,this,Ml)})}),K3=p1(function(Ho,Yo){var _l=Dw(Yo,Iy(K3));return Cw(Ho,Al,io,Yo,_l)}),q5=p1(function(Ho,Yo){var _l=Dw(Yo,Iy(q5));return Cw(Ho,Il,io,Yo,_l)}),z8=_w(function(Ho,Yo){return Cw(Ho,ps,io,io,io,Yo)});function H8(Ho,Yo){if(typeof Ho!="function")throw new Vm(Ao);return Yo=Yo===io?Yo:h1(Yo),p1(Ho,Yo)}function V8(Ho,Yo){if(typeof Ho!="function")throw new Vm(Ao);return Yo=Yo==null?0:Y1(h1(Yo),0),p1(function(_l){var Ml=_l[Yo],Hl=Uw(_l,0,Yo);return Ml&&Nw(Hl,Ml),X1(Ho,this,Hl)})}function q8(Ho,Yo,_l){var Ml=!0,Hl=!0;if(typeof Ho!="function")throw new Vm(Ao);return B1(_l)&&(Ml="leading"in _l?!!_l.leading:Ml,Hl="trailing"in _l?!!_l.trailing:Hl),V5(Ho,Yo,{leading:Ml,maxWait:Yo,trailing:Hl})}function G8(Ho){return W5(Ho,1)}function K8(Ho,Yo){return K3(R3(Yo),Ho)}function Z8(){if(!arguments.length)return[];var Ho=arguments[0];return u1(Ho)?Ho:[Ho]}function Q8(Ho){return Gm(Ho,Jo)}function Y8(Ho,Yo){return Yo=typeof Yo=="function"?Yo:io,Gm(Ho,Jo,Yo)}function J8(Ho){return Gm(Ho,Vo|Jo)}function X8(Ho,Yo){return Yo=typeof Yo=="function"?Yo:io,Gm(Ho,Vo|Jo,Yo)}function e_(Ho,Yo){return Yo==null||P$(Ho,Yo,_g(Yo))}function aw(Ho,Yo){return Ho===Yo||Ho!==Ho&&Yo!==Yo}var t_=D2(b3),r_=D2(function(Ho,Yo){return Ho>=Yo}),cy=L$(function(){return arguments}())?L$:function(Ho){return W1(Ho)&&C1.call(Ho,"callee")&&!_$.call(Ho,"callee")},u1=up.isArray,n_=bm?Om(bm):lx;function km(Ho){return Ho!=null&&z2(Ho.length)&&!Aw(Ho)}function z1(Ho){return W1(Ho)&&km(Ho)}function i_(Ho){return Ho===!0||Ho===!1||W1(Ho)&&vm(Ho)==Jl}var Ww=p4||o$,o_=iw?Om(iw):ux;function s_(Ho){return W1(Ho)&&Ho.nodeType===1&&!Rv(Ho)}function a_(Ho){if(Ho==null)return!0;if(km(Ho)&&(u1(Ho)||typeof Ho=="string"||typeof Ho.splice=="function"||Ww(Ho)||ky(Ho)||cy(Ho)))return!Ho.length;var Yo=am(Ho);if(Yo==lp||Yo==Ap)return!Ho.size;if(Tv(Ho))return!x3(Ho).length;for(var _l in Ho)if(C1.call(Ho,_l))return!1;return!0}function c_(Ho,Yo){return $v(Ho,Yo)}function l_(Ho,Yo,_l){_l=typeof _l=="function"?_l:io;var Ml=_l?_l(Ho,Yo):io;return Ml===io?$v(Ho,Yo,io,_l):!!Ml}function Z3(Ho){if(!W1(Ho))return!1;var Yo=vm(Ho);return Yo==Zl||Yo==Ol||typeof Ho.message=="string"&&typeof Ho.name=="string"&&!Rv(Ho)}function u_(Ho){return typeof Ho=="number"&&A$(Ho)}function Aw(Ho){if(!B1(Ho))return!1;var Yo=vm(Ho);return Yo==rp||Yo==op||Yo==Vl||Yo==vp}function G5(Ho){return typeof Ho=="number"&&Ho==h1(Ho)}function z2(Ho){return typeof Ho=="number"&&Ho>-1&&Ho%1==0&&Ho<=Sl}function B1(Ho){var Yo=typeof Ho;return Ho!=null&&(Yo=="object"||Yo=="function")}function W1(Ho){return Ho!=null&&typeof Ho=="object"}var K5=zm?Om(zm):hx;function d_(Ho,Yo){return Ho===Yo||$3(Ho,Yo,U3(Yo))}function h_(Ho,Yo,_l){return _l=typeof _l=="function"?_l:io,$3(Ho,Yo,U3(Yo),_l)}function f_(Ho){return Z5(Ho)&&Ho!=+Ho}function p_(Ho){if(Zx(Ho))throw new c1($o);return U$(Ho)}function g_(Ho){return Ho===null}function m_(Ho){return Ho==null}function Z5(Ho){return typeof Ho=="number"||W1(Ho)&&vm(Ho)==hp}function Rv(Ho){if(!W1(Ho)||vm(Ho)!=Ip)return!1;var Yo=g2(Ho);if(Yo===null)return!0;var _l=C1.call(Yo,"constructor")&&Yo.constructor;return typeof _l=="function"&&_l instanceof _l&&d2.call(_l)==c4}var Q3=hw?Om(hw):fx;function w_(Ho){return G5(Ho)&&Ho>=-Sl&&Ho<=Sl}var Q5=Gy?Om(Gy):px;function H2(Ho){return typeof Ho=="string"||!u1(Ho)&&W1(Ho)&&vm(Ho)==wp}function Bm(Ho){return typeof Ho=="symbol"||W1(Ho)&&vm(Ho)==Cp}var ky=ey?Om(ey):gx;function y_(Ho){return Ho===io}function b_(Ho){return W1(Ho)&&am(Ho)==yp}function v_(Ho){return W1(Ho)&&vm(Ho)==Pp}var $_=D2(C3),x_=D2(function(Ho,Yo){return Ho<=Yo});function Y5(Ho){if(!Ho)return[];if(km(Ho))return H2(Ho)?ow(Ho):Im(Ho);if(Zy&&Ho[Zy])return Q6(Ho[Zy]());var Yo=am(Ho),_l=Yo==lp?u3:Yo==Ap?c2:Ry;return _l(Ho)}function Sw(Ho){if(!Ho)return Ho===0?Ho:0;if(Ho=Qm(Ho),Ho===Pl||Ho===-Pl){var Yo=Ho<0?-1:1;return Yo*Tl}return Ho===Ho?Ho:0}function h1(Ho){var Yo=Sw(Ho),_l=Yo%1;return Yo===Yo?_l?Yo-_l:Yo:0}function J5(Ho){return Ho?iy(h1(Ho),0,yl):0}function Qm(Ho){if(typeof Ho=="number")return Ho;if(Bm(Ho))return hs;if(B1(Ho)){var Yo=typeof Ho.valueOf=="function"?Ho.valueOf():Ho;Ho=B1(Yo)?Yo+"":Yo}if(typeof Ho!="string")return Ho===0?Ho:+Ho;Ho=m$(Ho);var _l=rm.test(Ho);return _l||im.test(Ho)?l1(Ho.slice(2),_l?2:8):tm.test(Ho)?hs:+Ho}function X5(Ho){return pw(Ho,Rm(Ho))}function C_(Ho){return Ho?iy(h1(Ho),-Sl,Sl):Ho===0?Ho:0}function x1(Ho){return Ho==null?"":Mm(Ho)}var __=Sy(function(Ho,Yo){if(Tv(Yo)||km(Yo)){pw(Yo,_g(Yo),Ho);return}for(var _l in Yo)C1.call(Yo,_l)&&_b(Ho,_l,Yo[_l])}),e6=Sy(function(Ho,Yo){pw(Yo,Rm(Yo),Ho)}),V2=Sy(function(Ho,Yo,_l,Ml){pw(Yo,Rm(Yo),Ho,Ml)}),E_=Sy(function(Ho,Yo,_l,Ml){pw(Yo,_g(Yo),Ho,Ml)}),A_=_w(m3);function S_(Ho,Yo){var _l=Ay(Ho);return Yo==null?_l:R$(_l,Yo)}var T_=p1(function(Ho,Yo){Ho=R1(Ho);var _l=-1,Ml=Yo.length,Hl=Ml>2?Yo[2]:io;for(Hl&&$m(Yo[0],Yo[1],Hl)&&(Ml=1);++_l<Ml;)for(var Yl=Yo[_l],Au=Rm(Yl),ep=-1,ap=Au.length;++ep<ap;){var pp=Au[ep],gp=Ho[pp];(gp===io||aw(gp,Cy[pp])&&!C1.call(Ho,pp))&&(Ho[pp]=Yl[pp])}return Ho}),I_=p1(function(Ho){return Ho.push(io,m5),X1(t6,io,Ho)});function k_(Ho,Yo){return h$(Ho,e1(Yo,3),fw)}function R_(Ho,Yo){return h$(Ho,e1(Yo,3),y3)}function P_(Ho,Yo){return Ho==null?Ho:w3(Ho,e1(Yo,3),Rm)}function N_(Ho,Yo){return Ho==null?Ho:M$(Ho,e1(Yo,3),Rm)}function D_(Ho,Yo){return Ho&&fw(Ho,e1(Yo,3))}function O_(Ho,Yo){return Ho&&y3(Ho,e1(Yo,3))}function M_(Ho){return Ho==null?[]:E2(Ho,_g(Ho))}function B_(Ho){return Ho==null?[]:E2(Ho,Rm(Ho))}function Y3(Ho,Yo,_l){var Ml=Ho==null?io:oy(Ho,Yo);return Ml===io?_l:Ml}function L_(Ho,Yo){return Ho!=null&&b5(Ho,Yo,ix)}function J3(Ho,Yo){return Ho!=null&&b5(Ho,Yo,ox)}var U_=d5(function(Ho,Yo,_l){Yo!=null&&typeof Yo.toString!="function"&&(Yo=h2.call(Yo)),Ho[Yo]=_l},e$(Pm)),W_=d5(function(Ho,Yo,_l){Yo!=null&&typeof Yo.toString!="function"&&(Yo=h2.call(Yo)),C1.call(Ho,Yo)?Ho[Yo].push(_l):Ho[Yo]=[_l]},e1),F_=p1(bv);function _g(Ho){return km(Ho)?I$(Ho):x3(Ho)}function Rm(Ho){return km(Ho)?I$(Ho,!0):mx(Ho)}function j_(Ho,Yo){var _l={};return Yo=e1(Yo,3),fw(Ho,function(Ml,Hl,Yl){xw(_l,Yo(Ml,Hl,Yl),Ml)}),_l}function z_(Ho,Yo){var _l={};return Yo=e1(Yo,3),fw(Ho,function(Ml,Hl,Yl){xw(_l,Hl,Yo(Ml,Hl,Yl))}),_l}var H_=Sy(function(Ho,Yo,_l){A2(Ho,Yo,_l)}),t6=Sy(function(Ho,Yo,_l,Ml){A2(Ho,Yo,_l,Ml)}),V_=_w(function(Ho,Yo){var _l={};if(Ho==null)return _l;var Ml=!1;Yo=O1(Yo,function(Yl){return Yl=Lw(Yl,Ho),Ml||(Ml=Yl.length>1),Yl}),pw(Ho,B3(Ho),_l),Ml&&(_l=Gm(_l,Vo|Go|Jo,Bx));for(var Hl=Yo.length;Hl--;)T3(_l,Yo[Hl]);return _l});function q_(Ho,Yo){return r6(Ho,j2(e1(Yo)))}var G_=_w(function(Ho,Yo){return Ho==null?{}:yx(Ho,Yo)});function r6(Ho,Yo){if(Ho==null)return{};var _l=O1(B3(Ho),function(Ml){return[Ml]});return Yo=e1(Yo),q$(Ho,_l,function(Ml,Hl){return Yo(Ml,Hl[0])})}function K_(Ho,Yo,_l){Yo=Lw(Yo,Ho);var Ml=-1,Hl=Yo.length;for(Hl||(Hl=1,Ho=io);++Ml<Hl;){var Yl=Ho==null?io:Ho[gw(Yo[Ml])];Yl===io&&(Ml=Hl,Yl=_l),Ho=Aw(Yl)?Yl.call(Ho):Yl}return Ho}function Z_(Ho,Yo,_l){return Ho==null?Ho:Ev(Ho,Yo,_l)}function Q_(Ho,Yo,_l,Ml){return Ml=typeof Ml=="function"?Ml:io,Ho==null?Ho:Ev(Ho,Yo,_l,Ml)}var n6=p5(_g),i6=p5(Rm);function Y_(Ho,Yo,_l){var Ml=u1(Ho),Hl=Ml||Ww(Ho)||ky(Ho);if(Yo=e1(Yo,4),_l==null){var Yl=Ho&&Ho.constructor;Hl?_l=Ml?new Yl:[]:B1(Ho)?_l=Aw(Yl)?Ay(g2(Ho)):{}:_l={}}return(Hl?Hm:fw)(Ho,function(Au,ep,ap){return Yo(_l,Au,ep,ap)}),_l}function J_(Ho,Yo){return Ho==null?!0:T3(Ho,Yo)}function X_(Ho,Yo,_l){return Ho==null?Ho:Y$(Ho,Yo,R3(_l))}function eE(Ho,Yo,_l,Ml){return Ml=typeof Ml=="function"?Ml:io,Ho==null?Ho:Y$(Ho,Yo,R3(_l),Ml)}function Ry(Ho){return Ho==null?[]:l3(Ho,_g(Ho))}function tE(Ho){return Ho==null?[]:l3(Ho,Rm(Ho))}function rE(Ho,Yo,_l){return _l===io&&(_l=Yo,Yo=io),_l!==io&&(_l=Qm(_l),_l=_l===_l?_l:0),Yo!==io&&(Yo=Qm(Yo),Yo=Yo===Yo?Yo:0),iy(Qm(Ho),Yo,_l)}function nE(Ho,Yo,_l){return Yo=Sw(Yo),_l===io?(_l=Yo,Yo=0):_l=Sw(_l),Ho=Qm(Ho),sx(Ho,Yo,_l)}function iE(Ho,Yo,_l){if(_l&&typeof _l!="boolean"&&$m(Ho,Yo,_l)&&(Yo=_l=io),_l===io&&(typeof Yo=="boolean"?(_l=Yo,Yo=io):typeof Ho=="boolean"&&(_l=Ho,Ho=io)),Ho===io&&Yo===io?(Ho=0,Yo=1):(Ho=Sw(Ho),Yo===io?(Yo=Ho,Ho=0):Yo=Sw(Yo)),Ho>Yo){var Ml=Ho;Ho=Yo,Yo=Ml}if(_l||Ho%1||Yo%1){var Hl=S$();return sm(Ho+Hl*(Yo-Ho+I1("1e-"+((Hl+"").length-1))),Yo)}return E3(Ho,Yo)}var oE=Ty(function(Ho,Yo,_l){return Yo=Yo.toLowerCase(),Ho+(_l?o6(Yo):Yo)});function o6(Ho){return X3(x1(Ho).toLowerCase())}function s6(Ho){return Ho=x1(Ho),Ho&&Ho.replace(U1,V6).replace(e3,"")}function sE(Ho,Yo,_l){Ho=x1(Ho),Yo=Mm(Yo);var Ml=Ho.length;_l=_l===io?Ml:iy(h1(_l),0,Ml);var Hl=_l;return _l-=Yo.length,_l>=0&&Ho.slice(_l,Hl)==Yo}function aE(Ho){return Ho=x1(Ho),Ho&&Vp.test(Ho)?Ho.replace(Hp,q6):Ho}function cE(Ho){return Ho=x1(Ho),Ho&&Fp.test(Ho)?Ho.replace(h0,"\\$&"):Ho}var lE=Ty(function(Ho,Yo,_l){return Ho+(_l?"-":"")+Yo.toLowerCase()}),uE=Ty(function(Ho,Yo,_l){return Ho+(_l?" ":"")+Yo.toLowerCase()}),dE=c5("toLowerCase");function hE(Ho,Yo,_l){Ho=x1(Ho),Yo=h1(Yo);var Ml=Yo?$y(Ho):0;if(!Yo||Ml>=Yo)return Ho;var Hl=(Yo-Ml)/2;return P2(b2(Hl),_l)+Ho+P2(y2(Hl),_l)}function fE(Ho,Yo,_l){Ho=x1(Ho),Yo=h1(Yo);var Ml=Yo?$y(Ho):0;return Yo&&Ml<Yo?Ho+P2(Yo-Ml,_l):Ho}function pE(Ho,Yo,_l){Ho=x1(Ho),Yo=h1(Yo);var Ml=Yo?$y(Ho):0;return Yo&&Ml<Yo?P2(Yo-Ml,_l)+Ho:Ho}function gE(Ho,Yo,_l){return _l||Yo==null?Yo=0:Yo&&(Yo=+Yo),y4(x1(Ho).replace(g0,""),Yo||0)}function mE(Ho,Yo,_l){return(_l?$m(Ho,Yo,_l):Yo===io)?Yo=1:Yo=h1(Yo),A3(x1(Ho),Yo)}function wE(){var Ho=arguments,Yo=x1(Ho[0]);return Ho.length<3?Yo:Yo.replace(Ho[1],Ho[2])}var yE=Ty(function(Ho,Yo,_l){return Ho+(_l?"_":"")+Yo.toLowerCase()});function bE(Ho,Yo,_l){return _l&&typeof _l!="number"&&$m(Ho,Yo,_l)&&(Yo=_l=io),_l=_l===io?yl:_l>>>0,_l?(Ho=x1(Ho),Ho&&(typeof Yo=="string"||Yo!=null&&!Q3(Yo))&&(Yo=Mm(Yo),!Yo&&vy(Ho))?Uw(ow(Ho),0,_l):Ho.split(Yo,_l)):[]}var vE=Ty(function(Ho,Yo,_l){return Ho+(_l?" ":"")+X3(Yo)});function $E(Ho,Yo,_l){return Ho=x1(Ho),_l=_l==null?0:iy(h1(_l),0,Ho.length),Yo=Mm(Yo),Ho.slice(_l,_l+Yo.length)==Yo}function xE(Ho,Yo,_l){var Ml=Kl.templateSettings;_l&&$m(Ho,Yo,_l)&&(Yo=io),Ho=x1(Ho),Yo=V2({},Yo,Ml,g5);var Hl=V2({},Yo.imports,Ml.imports,g5),Yl=_g(Hl),Au=l3(Hl,Yl),ep,ap,pp=0,gp=Yo.interpolate||Em,bp="__p += '",Np=d3((Yo.escape||Em).source+"|"+gp.source+"|"+(gp===Yp?r1:Em).source+"|"+(Yo.evaluate||Em).source+"|$","g"),Gp="//# sourceURL="+(C1.call(Yo,"sourceURL")?(Yo.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++t3+"]")+`
`;Ho.replace(Np,function(i1,g1,y1,Lm,xm,Um){return y1||(y1=Lm),bp+=Ho.slice(pp,Um).replace(Jm,G6),g1&&(ep=!0,bp+=`' +
__e(`+g1+`) +
'`),xm&&(ap=!0,bp+=`';
`+xm+`;
__p += '`),y1&&(bp+=`' +
((__t = (`+y1+`)) == null ? '' : __t) +
'`),pp=Um+i1.length,i1}),bp+=`';
`;var n1=C1.call(Yo,"variable")&&Yo.variable;if(!n1)bp=`with (obj) {
`+bp+`
}
`;else if(b1.test(n1))throw new c1(Lo);bp=(ap?bp.replace(Bp,""):bp).replace(Jp,"$1").replace(Kp,"$1;"),bp="function("+(n1||"obj")+`) {
`+(n1?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ep?", __e = _.escape":"")+(ap?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+bp+`return __p
}`;var f1=c6(function(){return $1(Yl,Gp+"return "+bp).apply(io,Au)});if(f1.source=bp,Z3(f1))throw f1;return f1}function CE(Ho){return x1(Ho).toLowerCase()}function _E(Ho){return x1(Ho).toUpperCase()}function EE(Ho,Yo,_l){if(Ho=x1(Ho),Ho&&(_l||Yo===io))return m$(Ho);if(!Ho||!(Yo=Mm(Yo)))return Ho;var Ml=ow(Ho),Hl=ow(Yo),Yl=w$(Ml,Hl),Au=y$(Ml,Hl)+1;return Uw(Ml,Yl,Au).join("")}function AE(Ho,Yo,_l){if(Ho=x1(Ho),Ho&&(_l||Yo===io))return Ho.slice(0,v$(Ho)+1);if(!Ho||!(Yo=Mm(Yo)))return Ho;var Ml=ow(Ho),Hl=y$(Ml,ow(Yo))+1;return Uw(Ml,0,Hl).join("")}function SE(Ho,Yo,_l){if(Ho=x1(Ho),Ho&&(_l||Yo===io))return Ho.replace(g0,"");if(!Ho||!(Yo=Mm(Yo)))return Ho;var Ml=ow(Ho),Hl=w$(Ml,ow(Yo));return Uw(Ml,Hl).join("")}function TE(Ho,Yo){var _l=Wl,Ml=Nl;if(B1(Yo)){var Hl="separator"in Yo?Yo.separator:Hl;_l="length"in Yo?h1(Yo.length):_l,Ml="omission"in Yo?Mm(Yo.omission):Ml}Ho=x1(Ho);var Yl=Ho.length;if(vy(Ho)){var Au=ow(Ho);Yl=Au.length}if(_l>=Yl)return Ho;var ep=_l-$y(Ml);if(ep<1)return Ml;var ap=Au?Uw(Au,0,ep).join(""):Ho.slice(0,ep);if(Hl===io)return ap+Ml;if(Au&&(ep+=ap.length-ep),Q3(Hl)){if(Ho.slice(ep).search(Hl)){var pp,gp=ap;for(Hl.global||(Hl=d3(Hl.source,x1(d1.exec(Hl))+"g")),Hl.lastIndex=0;pp=Hl.exec(gp);)var bp=pp.index;ap=ap.slice(0,bp===io?ep:bp)}}else if(Ho.indexOf(Mm(Hl),ep)!=ep){var Np=ap.lastIndexOf(Hl);Np>-1&&(ap=ap.slice(0,Np))}return ap+Ml}function IE(Ho){return Ho=x1(Ho),Ho&&$p.test(Ho)?Ho.replace(kp,e4):Ho}var kE=Ty(function(Ho,Yo,_l){return Ho+(_l?" ":"")+Yo.toUpperCase()}),X3=c5("toUpperCase");function a6(Ho,Yo,_l){return Ho=x1(Ho),Yo=_l?io:Yo,Yo===io?Z6(Ho)?n4(Ho):W6(Ho):Ho.match(Yo)||[]}var c6=p1(function(Ho,Yo){try{return X1(Ho,io,Yo)}catch(_l){return Z3(_l)?_l:new c1(_l)}}),RE=_w(function(Ho,Yo){return Hm(Yo,function(_l){_l=gw(_l),xw(Ho,_l,G3(Ho[_l],Ho))}),Ho});function PE(Ho){var Yo=Ho==null?0:Ho.length,_l=e1();return Ho=Yo?O1(Ho,function(Ml){if(typeof Ml[1]!="function")throw new Vm(Ao);return[_l(Ml[0]),Ml[1]]}):[],p1(function(Ml){for(var Hl=-1;++Hl<Yo;){var Yl=Ho[Hl];if(X1(Yl[0],this,Ml))return X1(Yl[1],this,Ml)}})}function NE(Ho){return tx(Gm(Ho,Vo))}function e$(Ho){return function(){return Ho}}function DE(Ho,Yo){return Ho==null||Ho!==Ho?Yo:Ho}var OE=u5(),ME=u5(!0);function Pm(Ho){return Ho}function t$(Ho){return W$(typeof Ho=="function"?Ho:Gm(Ho,Vo))}function BE(Ho){return j$(Gm(Ho,Vo))}function LE(Ho,Yo){return z$(Ho,Gm(Yo,Vo))}var UE=p1(function(Ho,Yo){return function(_l){return bv(_l,Ho,Yo)}}),WE=p1(function(Ho,Yo){return function(_l){return bv(Ho,_l,Yo)}});function r$(Ho,Yo,_l){var Ml=_g(Yo),Hl=E2(Yo,Ml);_l==null&&!(B1(Yo)&&(Hl.length||!Ml.length))&&(_l=Yo,Yo=Ho,Ho=this,Hl=E2(Yo,_g(Yo)));var Yl=!(B1(_l)&&"chain"in _l)||!!_l.chain,Au=Aw(Ho);return Hm(Hl,function(ep){var ap=Yo[ep];Ho[ep]=ap,Au&&(Ho.prototype[ep]=function(){var pp=this.__chain__;if(Yl||pp){var gp=Ho(this.__wrapped__),bp=gp.__actions__=Im(this.__actions__);return bp.push({func:ap,args:arguments,thisArg:Ho}),gp.__chain__=pp,gp}return ap.apply(Ho,Nw([this.value()],arguments))})}),Ho}function FE(){return w1._===this&&(w1._=l4),this}function n$(){}function jE(Ho){return Ho=h1(Ho),p1(function(Yo){return H$(Yo,Ho)})}var zE=D3(O1),HE=D3(d$),VE=D3(i3);function l6(Ho){return F3(Ho)?o3(gw(Ho)):bx(Ho)}function qE(Ho){return function(Yo){return Ho==null?io:oy(Ho,Yo)}}var GE=h5(),KE=h5(!0);function i$(){return[]}function o$(){return!1}function ZE(){return{}}function QE(){return""}function YE(){return!0}function JE(Ho,Yo){if(Ho=h1(Ho),Ho<1||Ho>Sl)return[];var _l=yl,Ml=sm(Ho,yl);Yo=e1(Yo),Ho-=yl;for(var Hl=c3(Ml,Yo);++_l<Ho;)Yo(_l);return Hl}function XE(Ho){return u1(Ho)?O1(Ho,gw):Bm(Ho)?[Ho]:Im(T5(x1(Ho)))}function eA(Ho){var Yo=++a4;return x1(Ho)+Yo}var tA=R2(function(Ho,Yo){return Ho+Yo},0),rA=O3("ceil"),nA=R2(function(Ho,Yo){return Ho/Yo},1),iA=O3("floor");function oA(Ho){return Ho&&Ho.length?_2(Ho,Pm,b3):io}function sA(Ho,Yo){return Ho&&Ho.length?_2(Ho,e1(Yo,2),b3):io}function aA(Ho){return p$(Ho,Pm)}function cA(Ho,Yo){return p$(Ho,e1(Yo,2))}function lA(Ho){return Ho&&Ho.length?_2(Ho,Pm,C3):io}function uA(Ho,Yo){return Ho&&Ho.length?_2(Ho,e1(Yo,2),C3):io}var dA=R2(function(Ho,Yo){return Ho*Yo},1),hA=O3("round"),fA=R2(function(Ho,Yo){return Ho-Yo},0);function pA(Ho){return Ho&&Ho.length?a3(Ho,Pm):0}function gA(Ho,Yo){return Ho&&Ho.length?a3(Ho,e1(Yo,2)):0}return Kl.after=B8,Kl.ary=W5,Kl.assign=__,Kl.assignIn=e6,Kl.assignInWith=V2,Kl.assignWith=E_,Kl.at=A_,Kl.before=F5,Kl.bind=G3,Kl.bindAll=RE,Kl.bindKey=j5,Kl.castArray=Z8,Kl.chain=B5,Kl.chunk=rC,Kl.compact=nC,Kl.concat=iC,Kl.cond=PE,Kl.conforms=NE,Kl.constant=e$,Kl.countBy=f8,Kl.create=S_,Kl.curry=z5,Kl.curryRight=H5,Kl.debounce=V5,Kl.defaults=T_,Kl.defaultsDeep=I_,Kl.defer=L8,Kl.delay=U8,Kl.difference=oC,Kl.differenceBy=sC,Kl.differenceWith=aC,Kl.drop=cC,Kl.dropRight=lC,Kl.dropRightWhile=uC,Kl.dropWhile=dC,Kl.fill=hC,Kl.filter=g8,Kl.flatMap=y8,Kl.flatMapDeep=b8,Kl.flatMapDepth=v8,Kl.flatten=P5,Kl.flattenDeep=fC,Kl.flattenDepth=pC,Kl.flip=W8,Kl.flow=OE,Kl.flowRight=ME,Kl.fromPairs=gC,Kl.functions=M_,Kl.functionsIn=B_,Kl.groupBy=$8,Kl.initial=wC,Kl.intersection=yC,Kl.intersectionBy=bC,Kl.intersectionWith=vC,Kl.invert=U_,Kl.invertBy=W_,Kl.invokeMap=C8,Kl.iteratee=t$,Kl.keyBy=_8,Kl.keys=_g,Kl.keysIn=Rm,Kl.map=U2,Kl.mapKeys=j_,Kl.mapValues=z_,Kl.matches=BE,Kl.matchesProperty=LE,Kl.memoize=F2,Kl.merge=H_,Kl.mergeWith=t6,Kl.method=UE,Kl.methodOf=WE,Kl.mixin=r$,Kl.negate=j2,Kl.nthArg=jE,Kl.omit=V_,Kl.omitBy=q_,Kl.once=F8,Kl.orderBy=E8,Kl.over=zE,Kl.overArgs=j8,Kl.overEvery=HE,Kl.overSome=VE,Kl.partial=K3,Kl.partialRight=q5,Kl.partition=A8,Kl.pick=G_,Kl.pickBy=r6,Kl.property=l6,Kl.propertyOf=qE,Kl.pull=_C,Kl.pullAll=O5,Kl.pullAllBy=AC,Kl.pullAllWith=SC,Kl.pullAt=TC,Kl.range=GE,Kl.rangeRight=KE,Kl.rearg=z8,Kl.reject=I8,Kl.remove=IC,Kl.rest=H8,Kl.reverse=V3,Kl.sampleSize=R8,Kl.set=Z_,Kl.setWith=Q_,Kl.shuffle=P8,Kl.slice=kC,Kl.sortBy=M8,Kl.sortedUniq=BC,Kl.sortedUniqBy=LC,Kl.split=bE,Kl.spread=V8,Kl.tail=UC,Kl.take=WC,Kl.takeRight=FC,Kl.takeRightWhile=jC,Kl.takeWhile=zC,Kl.tap=i8,Kl.throttle=q8,Kl.thru=L2,Kl.toArray=Y5,Kl.toPairs=n6,Kl.toPairsIn=i6,Kl.toPath=XE,Kl.toPlainObject=X5,Kl.transform=Y_,Kl.unary=G8,Kl.union=HC,Kl.unionBy=VC,Kl.unionWith=qC,Kl.uniq=GC,Kl.uniqBy=KC,Kl.uniqWith=ZC,Kl.unset=J_,Kl.unzip=q3,Kl.unzipWith=M5,Kl.update=X_,Kl.updateWith=eE,Kl.values=Ry,Kl.valuesIn=tE,Kl.without=QC,Kl.words=a6,Kl.wrap=K8,Kl.xor=YC,Kl.xorBy=JC,Kl.xorWith=XC,Kl.zip=e8,Kl.zipObject=t8,Kl.zipObjectDeep=r8,Kl.zipWith=n8,Kl.entries=n6,Kl.entriesIn=i6,Kl.extend=e6,Kl.extendWith=V2,r$(Kl,Kl),Kl.add=tA,Kl.attempt=c6,Kl.camelCase=oE,Kl.capitalize=o6,Kl.ceil=rA,Kl.clamp=rE,Kl.clone=Q8,Kl.cloneDeep=J8,Kl.cloneDeepWith=X8,Kl.cloneWith=Y8,Kl.conformsTo=e_,Kl.deburr=s6,Kl.defaultTo=DE,Kl.divide=nA,Kl.endsWith=sE,Kl.eq=aw,Kl.escape=aE,Kl.escapeRegExp=cE,Kl.every=p8,Kl.find=m8,Kl.findIndex=k5,Kl.findKey=k_,Kl.findLast=w8,Kl.findLastIndex=R5,Kl.findLastKey=R_,Kl.floor=iA,Kl.forEach=L5,Kl.forEachRight=U5,Kl.forIn=P_,Kl.forInRight=N_,Kl.forOwn=D_,Kl.forOwnRight=O_,Kl.get=Y3,Kl.gt=t_,Kl.gte=r_,Kl.has=L_,Kl.hasIn=J3,Kl.head=D5,Kl.identity=Pm,Kl.includes=x8,Kl.indexOf=mC,Kl.inRange=nE,Kl.invoke=F_,Kl.isArguments=cy,Kl.isArray=u1,Kl.isArrayBuffer=n_,Kl.isArrayLike=km,Kl.isArrayLikeObject=z1,Kl.isBoolean=i_,Kl.isBuffer=Ww,Kl.isDate=o_,Kl.isElement=s_,Kl.isEmpty=a_,Kl.isEqual=c_,Kl.isEqualWith=l_,Kl.isError=Z3,Kl.isFinite=u_,Kl.isFunction=Aw,Kl.isInteger=G5,Kl.isLength=z2,Kl.isMap=K5,Kl.isMatch=d_,Kl.isMatchWith=h_,Kl.isNaN=f_,Kl.isNative=p_,Kl.isNil=m_,Kl.isNull=g_,Kl.isNumber=Z5,Kl.isObject=B1,Kl.isObjectLike=W1,Kl.isPlainObject=Rv,Kl.isRegExp=Q3,Kl.isSafeInteger=w_,Kl.isSet=Q5,Kl.isString=H2,Kl.isSymbol=Bm,Kl.isTypedArray=ky,Kl.isUndefined=y_,Kl.isWeakMap=b_,Kl.isWeakSet=v_,Kl.join=$C,Kl.kebabCase=lE,Kl.last=Zm,Kl.lastIndexOf=xC,Kl.lowerCase=uE,Kl.lowerFirst=dE,Kl.lt=$_,Kl.lte=x_,Kl.max=oA,Kl.maxBy=sA,Kl.mean=aA,Kl.meanBy=cA,Kl.min=lA,Kl.minBy=uA,Kl.stubArray=i$,Kl.stubFalse=o$,Kl.stubObject=ZE,Kl.stubString=QE,Kl.stubTrue=YE,Kl.multiply=dA,Kl.nth=CC,Kl.noConflict=FE,Kl.noop=n$,Kl.now=W2,Kl.pad=hE,Kl.padEnd=fE,Kl.padStart=pE,Kl.parseInt=gE,Kl.random=iE,Kl.reduce=S8,Kl.reduceRight=T8,Kl.repeat=mE,Kl.replace=wE,Kl.result=K_,Kl.round=hA,Kl.runInContext=ip,Kl.sample=k8,Kl.size=D8,Kl.snakeCase=yE,Kl.some=O8,Kl.sortedIndex=RC,Kl.sortedIndexBy=PC,Kl.sortedIndexOf=NC,Kl.sortedLastIndex=DC,Kl.sortedLastIndexBy=OC,Kl.sortedLastIndexOf=MC,Kl.startCase=vE,Kl.startsWith=$E,Kl.subtract=fA,Kl.sum=pA,Kl.sumBy=gA,Kl.template=xE,Kl.times=JE,Kl.toFinite=Sw,Kl.toInteger=h1,Kl.toLength=J5,Kl.toLower=CE,Kl.toNumber=Qm,Kl.toSafeInteger=C_,Kl.toString=x1,Kl.toUpper=_E,Kl.trim=EE,Kl.trimEnd=AE,Kl.trimStart=SE,Kl.truncate=TE,Kl.unescape=IE,Kl.uniqueId=eA,Kl.upperCase=kE,Kl.upperFirst=X3,Kl.each=L5,Kl.eachRight=U5,Kl.first=D5,r$(Kl,function(){var Ho={};return fw(Kl,function(Yo,_l){C1.call(Kl.prototype,_l)||(Ho[_l]=Yo)}),Ho}(),{chain:!1}),Kl.VERSION=fo,Hm(["bind","bindKey","curry","curryRight","partial","partialRight"],function(Ho){Kl[Ho].placeholder=Kl}),Hm(["drop","take"],function(Ho,Yo){m1.prototype[Ho]=function(_l){_l=_l===io?1:Y1(h1(_l),0);var Ml=this.__filtered__&&!Yo?new m1(this):this.clone();return Ml.__filtered__?Ml.__takeCount__=sm(_l,Ml.__takeCount__):Ml.__views__.push({size:sm(_l,yl),type:Ho+(Ml.__dir__<0?"Right":"")}),Ml},m1.prototype[Ho+"Right"]=function(_l){return this.reverse()[Ho](_l).reverse()}}),Hm(["filter","map","takeWhile"],function(Ho,Yo){var _l=Yo+1,Ml=_l==rs||_l==El;m1.prototype[Ho]=function(Hl){var Yl=this.clone();return Yl.__iteratees__.push({iteratee:e1(Hl,3),type:_l}),Yl.__filtered__=Yl.__filtered__||Ml,Yl}}),Hm(["head","last"],function(Ho,Yo){var _l="take"+(Yo?"Right":"");m1.prototype[Ho]=function(){return this[_l](1).value()[0]}}),Hm(["initial","tail"],function(Ho,Yo){var _l="drop"+(Yo?"":"Right");m1.prototype[Ho]=function(){return this.__filtered__?new m1(this):this[_l](1)}}),m1.prototype.compact=function(){return this.filter(Pm)},m1.prototype.find=function(Ho){return this.filter(Ho).head()},m1.prototype.findLast=function(Ho){return this.reverse().find(Ho)},m1.prototype.invokeMap=p1(function(Ho,Yo){return typeof Ho=="function"?new m1(this):this.map(function(_l){return bv(_l,Ho,Yo)})}),m1.prototype.reject=function(Ho){return this.filter(j2(e1(Ho)))},m1.prototype.slice=function(Ho,Yo){Ho=h1(Ho);var _l=this;return _l.__filtered__&&(Ho>0||Yo<0)?new m1(_l):(Ho<0?_l=_l.takeRight(-Ho):Ho&&(_l=_l.drop(Ho)),Yo!==io&&(Yo=h1(Yo),_l=Yo<0?_l.dropRight(-Yo):_l.take(Yo-Ho)),_l)},m1.prototype.takeRightWhile=function(Ho){return this.reverse().takeWhile(Ho).reverse()},m1.prototype.toArray=function(){return this.take(yl)},fw(m1.prototype,function(Ho,Yo){var _l=/^(?:filter|find|map|reject)|While$/.test(Yo),Ml=/^(?:head|last)$/.test(Yo),Hl=Kl[Ml?"take"+(Yo=="last"?"Right":""):Yo],Yl=Ml||/^find/.test(Yo);Hl&&(Kl.prototype[Yo]=function(){var Au=this.__wrapped__,ep=Ml?[1]:arguments,ap=Au instanceof m1,pp=ep[0],gp=ap||u1(Au),bp=function(g1){var y1=Hl.apply(Kl,Nw([g1],ep));return Ml&&Np?y1[0]:y1};gp&&_l&&typeof pp=="function"&&pp.length!=1&&(ap=gp=!1);var Np=this.__chain__,Gp=!!this.__actions__.length,n1=Yl&&!Np,f1=ap&&!Gp;if(!Yl&&gp){Au=f1?Au:new m1(this);var i1=Ho.apply(Au,ep);return i1.__actions__.push({func:L2,args:[bp],thisArg:io}),new qm(i1,Np)}return n1&&f1?Ho.apply(this,ep):(i1=this.thru(bp),n1?Ml?i1.value()[0]:i1.value():i1)})}),Hm(["pop","push","shift","sort","splice","unshift"],function(Ho){var Yo=l2[Ho],_l=/^(?:push|sort|unshift)$/.test(Ho)?"tap":"thru",Ml=/^(?:pop|shift)$/.test(Ho);Kl.prototype[Ho]=function(){var Hl=arguments;if(Ml&&!this.__chain__){var Yl=this.value();return Yo.apply(u1(Yl)?Yl:[],Hl)}return this[_l](function(Au){return Yo.apply(u1(Au)?Au:[],Hl)})}}),fw(m1.prototype,function(Ho,Yo){var _l=Kl[Yo];if(_l){var Ml=_l.name+"";C1.call(Ey,Ml)||(Ey[Ml]=[]),Ey[Ml].push({name:Yo,func:_l})}}),Ey[k2(io,xl).name]=[{name:"wrapper",func:io}],m1.prototype.clone=E4,m1.prototype.reverse=A4,m1.prototype.value=S4,Kl.prototype.at=o8,Kl.prototype.chain=s8,Kl.prototype.commit=a8,Kl.prototype.next=c8,Kl.prototype.plant=u8,Kl.prototype.reverse=d8,Kl.prototype.toJSON=Kl.prototype.valueOf=Kl.prototype.value=h8,Kl.prototype.first=Kl.prototype.head,Zy&&(Kl.prototype[Zy]=l8),Kl},xy=i4();j1?((j1.exports=xy)._=xy,k1._=xy):w1._=xy}).call(_n)})(qi,qi.exports);var Vg=Object.defineProperty,kg=Object.defineProperties,jg=Object.getOwnPropertyDescriptors,Ra=Object.getOwnPropertySymbols,tv=Object.prototype.hasOwnProperty,ev=Object.prototype.propertyIsEnumerable,ba=(Fn,Mn,io)=>Mn in Fn?Vg(Fn,Mn,{enumerable:!0,configurable:!0,writable:!0,value:io}):Fn[Mn]=io,lr=(Fn,Mn)=>{for(var io in Mn||(Mn={}))tv.call(Mn,io)&&ba(Fn,io,Mn[io]);if(Ra)for(var io of Ra(Mn))ev.call(Mn,io)&&ba(Fn,io,Mn[io]);return Fn},nv=(Fn,Mn)=>kg(Fn,jg(Mn));function Lt$1(Fn,Mn,io){var fo;const mo=An(Fn);return((fo=Mn.rpcMap)==null?void 0:fo[mo.reference])||`${Oa}?chainId=${mo.namespace}:${mo.reference}&projectId=${io}`}function Ae$1(Fn){return Fn.includes(":")?Fn.split(":")[1]:Fn}function Ta(Fn){return Fn.map(Mn=>`${Mn.split(":")[0]}:${Mn.split(":")[1]}`)}function rv(Fn,Mn){const io=Object.keys(Mn.namespaces).filter(mo=>mo.includes(Fn));if(!io.length)return[];const fo=[];return io.forEach(mo=>{const $o=Mn.namespaces[mo].accounts;fo.push(...$o)}),fo}function Fi(Fn={},Mn={}){const io=La(Fn),fo=La(Mn);return qi.exports.merge(io,fo)}function La(Fn){var Mn,io,fo,mo;const $o={};if(!Xr$1(Fn))return $o;for(const[Ao,Lo]of Object.entries(Fn)){const Wo=on$1(Ao)?[Ao]:Lo.chains,jo=Lo.methods||[],zo=Lo.events||[],Vo=Lo.rpcMap||{},Go=xo(Ao);$o[Go]=nv(lr(lr({},$o[Go]),Lo),{chains:me$1(Wo,(Mn=$o[Go])==null?void 0:Mn.chains),methods:me$1(jo,(io=$o[Go])==null?void 0:io.methods),events:me$1(zo,(fo=$o[Go])==null?void 0:fo.events),rpcMap:lr(lr({},Vo),(mo=$o[Go])==null?void 0:mo.rpcMap)})}return $o}function iv(Fn){return Fn.includes(":")?Fn.split(":")[2]:Fn}function Ha(Fn){const Mn={};for(const[io,fo]of Object.entries(Fn)){const mo=fo.methods||[],$o=fo.events||[],Ao=fo.accounts||[],Lo=on$1(io)?[io]:fo.chains?fo.chains:Ta(fo.accounts);Mn[io]={chains:Lo,methods:mo,events:$o,accounts:Ao}}return Mn}function Wi(Fn){return typeof Fn=="number"?Fn:Fn.includes("0x")?parseInt(Fn,16):(Fn=Fn.includes(":")?Fn.split(":")[1]:Fn,isNaN(Number(Fn))?Fn:Number(Fn))}const Da={},F$1=Fn=>Da[Fn],Mi=(Fn,Mn)=>{Da[Fn]=Mn};class sv{constructor(Mn){this.name="polkadot",this.namespace=Mn.namespace,this.events=F$1("events"),this.client=F$1("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Mn){this.namespace=Object.assign(this.namespace,Mn)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Mn=this.namespace.chains[0];if(!Mn)throw new Error("ChainId not found");return Mn.split(":")[1]}request(Mn){return this.namespace.methods.includes(Mn.request.method)?this.client.request(Mn):this.getHttpProvider().request(Mn.request)}setDefaultChain(Mn,io){this.httpProviders[Mn]||this.setHttpProvider(Mn,io),this.chainId=Mn,this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${Mn}`)}getAccounts(){const Mn=this.namespace.accounts;return Mn?Mn.filter(io=>io.split(":")[1]===this.chainId.toString()).map(io=>io.split(":")[2])||[]:[]}createHttpProviders(){const Mn={};return this.namespace.chains.forEach(io=>{var fo;const mo=Ae$1(io);Mn[mo]=this.createHttpProvider(mo,(fo=this.namespace.rpcMap)==null?void 0:fo[io])}),Mn}getHttpProvider(){const Mn=`${this.name}:${this.chainId}`,io=this.httpProviders[Mn];if(typeof io>"u")throw new Error(`JSON-RPC provider for ${Mn} not found`);return io}setHttpProvider(Mn,io){const fo=this.createHttpProvider(Mn,io);fo&&(this.httpProviders[Mn]=fo)}createHttpProvider(Mn,io){const fo=io||Lt$1(Mn,this.namespace,this.client.core.projectId);if(!fo)throw new Error(`No RPC url provided for chainId: ${Mn}`);return new o$g(new f$9(fo,F$1("disableProviderPing")))}}var uv=Object.defineProperty,av=Object.defineProperties,ov=Object.getOwnPropertyDescriptors,Na=Object.getOwnPropertySymbols,cv=Object.prototype.hasOwnProperty,fv=Object.prototype.propertyIsEnumerable,$a=(Fn,Mn,io)=>Mn in Fn?uv(Fn,Mn,{enumerable:!0,configurable:!0,writable:!0,value:io}):Fn[Mn]=io,Ua=(Fn,Mn)=>{for(var io in Mn||(Mn={}))cv.call(Mn,io)&&$a(Fn,io,Mn[io]);if(Na)for(var io of Na(Mn))fv.call(Mn,io)&&$a(Fn,io,Mn[io]);return Fn},qa=(Fn,Mn)=>av(Fn,ov(Mn));class hv{constructor(Mn){this.name="eip155",this.namespace=Mn.namespace,this.events=F$1("events"),this.client=F$1("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(Mn){switch(Mn.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(Mn);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(Mn);case"wallet_getCallsStatus":return await this.getCallStatus(Mn)}return this.namespace.methods.includes(Mn.request.method)?await this.client.request(Mn):this.getHttpProvider().request(Mn.request)}updateNamespace(Mn){this.namespace=Object.assign(this.namespace,Mn)}setDefaultChain(Mn,io){this.httpProviders[Mn]||this.setHttpProvider(parseInt(Mn),io),this.chainId=parseInt(Mn),this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${Mn}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const Mn=this.namespace.chains[0];if(!Mn)throw new Error("ChainId not found");return Mn.split(":")[1]}createHttpProvider(Mn,io){const fo=io||Lt$1(`${this.name}:${Mn}`,this.namespace,this.client.core.projectId);if(!fo)throw new Error(`No RPC url provided for chainId: ${Mn}`);return new o$g(new f$9(fo,F$1("disableProviderPing")))}setHttpProvider(Mn,io){const fo=this.createHttpProvider(Mn,io);fo&&(this.httpProviders[Mn]=fo)}createHttpProviders(){const Mn={};return this.namespace.chains.forEach(io=>{var fo;const mo=parseInt(Ae$1(io));Mn[mo]=this.createHttpProvider(mo,(fo=this.namespace.rpcMap)==null?void 0:fo[io])}),Mn}getAccounts(){const Mn=this.namespace.accounts;return Mn?[...new Set(Mn.filter(io=>io.split(":")[1]===this.chainId.toString()).map(io=>io.split(":")[2]))]:[]}getHttpProvider(){const Mn=this.chainId,io=this.httpProviders[Mn];if(typeof io>"u")throw new Error(`JSON-RPC provider for ${Mn} not found`);return io}async handleSwitchChain(Mn){var io,fo;let mo=Mn.request.params?(io=Mn.request.params[0])==null?void 0:io.chainId:"0x0";mo=mo.startsWith("0x")?mo:`0x${mo}`;const $o=parseInt(mo,16);if(this.isChainApproved($o))this.setDefaultChain(`${$o}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:Mn.topic,request:{method:Mn.request.method,params:[{chainId:mo}]},chainId:(fo=this.namespace.chains)==null?void 0:fo[0]}),this.setDefaultChain(`${$o}`);else throw new Error(`Failed to switch to chain 'eip155:${$o}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(Mn){return this.namespace.chains.includes(`${this.name}:${Mn}`)}async getCapabilities(Mn){var io,fo,mo;const $o=(fo=(io=Mn.request)==null?void 0:io.params)==null?void 0:fo[0];if(!$o)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const Ao=this.client.session.get(Mn.topic),Lo=((mo=Ao==null?void 0:Ao.sessionProperties)==null?void 0:mo.capabilities)||{};if(Lo!=null&&Lo[$o])return Lo==null?void 0:Lo[$o];const Wo=await this.client.request(Mn);try{await this.client.session.update(Mn.topic,{sessionProperties:qa(Ua({},Ao.sessionProperties||{}),{capabilities:qa(Ua({},Lo||{}),{[$o]:Wo})})})}catch(jo){console.warn("Failed to update session with capabilities",jo)}return Wo}async getCallStatus(Mn){var io,fo;const mo=this.client.session.get(Mn.topic),$o=(io=mo.sessionProperties)==null?void 0:io.bundler_name;if($o){const Lo=this.getBundlerUrl(Mn.chainId,$o);try{return await this.getUserOperationReceipt(Lo,Mn)}catch(Wo){console.warn("Failed to fetch call status from bundler",Wo,Lo)}}const Ao=(fo=mo.sessionProperties)==null?void 0:fo.bundler_url;if(Ao)try{return await this.getUserOperationReceipt(Ao,Mn)}catch(Lo){console.warn("Failed to fetch call status from custom bundler",Lo,Ao)}if(this.namespace.methods.includes(Mn.request.method))return await this.client.request(Mn);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(Mn,io){var fo;const mo=new URL(Mn),$o=await fetch(mo,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(formatJsonRpcRequest("eth_getUserOperationReceipt",[(fo=io.request.params)==null?void 0:fo[0]]))});if(!$o.ok)throw new Error(`Failed to fetch user operation receipt - ${$o.status}`);return await $o.json()}getBundlerUrl(Mn,io){return`${Qg}?projectId=${this.client.core.projectId}&chainId=${Mn}&bundler=${io}`}}class lv{constructor(Mn){this.name="solana",this.namespace=Mn.namespace,this.events=F$1("events"),this.client=F$1("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Mn){this.namespace=Object.assign(this.namespace,Mn)}requestAccounts(){return this.getAccounts()}request(Mn){return this.namespace.methods.includes(Mn.request.method)?this.client.request(Mn):this.getHttpProvider().request(Mn.request)}setDefaultChain(Mn,io){this.httpProviders[Mn]||this.setHttpProvider(Mn,io),this.chainId=Mn,this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${Mn}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Mn=this.namespace.chains[0];if(!Mn)throw new Error("ChainId not found");return Mn.split(":")[1]}getAccounts(){const Mn=this.namespace.accounts;return Mn?[...new Set(Mn.filter(io=>io.split(":")[1]===this.chainId.toString()).map(io=>io.split(":")[2]))]:[]}createHttpProviders(){const Mn={};return this.namespace.chains.forEach(io=>{var fo;const mo=Ae$1(io);Mn[mo]=this.createHttpProvider(mo,(fo=this.namespace.rpcMap)==null?void 0:fo[io])}),Mn}getHttpProvider(){const Mn=`${this.name}:${this.chainId}`,io=this.httpProviders[Mn];if(typeof io>"u")throw new Error(`JSON-RPC provider for ${Mn} not found`);return io}setHttpProvider(Mn,io){const fo=this.createHttpProvider(Mn,io);fo&&(this.httpProviders[Mn]=fo)}createHttpProvider(Mn,io){const fo=io||Lt$1(Mn,this.namespace,this.client.core.projectId);if(!fo)throw new Error(`No RPC url provided for chainId: ${Mn}`);return new o$g(new f$9(fo,F$1("disableProviderPing")))}}class pv{constructor(Mn){this.name="cosmos",this.namespace=Mn.namespace,this.events=F$1("events"),this.client=F$1("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Mn){this.namespace=Object.assign(this.namespace,Mn)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Mn=this.namespace.chains[0];if(!Mn)throw new Error("ChainId not found");return Mn.split(":")[1]}request(Mn){return this.namespace.methods.includes(Mn.request.method)?this.client.request(Mn):this.getHttpProvider().request(Mn.request)}setDefaultChain(Mn,io){this.httpProviders[Mn]||this.setHttpProvider(Mn,io),this.chainId=Mn,this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const Mn=this.namespace.accounts;return Mn?[...new Set(Mn.filter(io=>io.split(":")[1]===this.chainId.toString()).map(io=>io.split(":")[2]))]:[]}createHttpProviders(){const Mn={};return this.namespace.chains.forEach(io=>{var fo;const mo=Ae$1(io);Mn[mo]=this.createHttpProvider(mo,(fo=this.namespace.rpcMap)==null?void 0:fo[io])}),Mn}getHttpProvider(){const Mn=`${this.name}:${this.chainId}`,io=this.httpProviders[Mn];if(typeof io>"u")throw new Error(`JSON-RPC provider for ${Mn} not found`);return io}setHttpProvider(Mn,io){const fo=this.createHttpProvider(Mn,io);fo&&(this.httpProviders[Mn]=fo)}createHttpProvider(Mn,io){const fo=io||Lt$1(Mn,this.namespace,this.client.core.projectId);if(!fo)throw new Error(`No RPC url provided for chainId: ${Mn}`);return new o$g(new f$9(fo,F$1("disableProviderPing")))}}class dv{constructor(Mn){this.name="algorand",this.namespace=Mn.namespace,this.events=F$1("events"),this.client=F$1("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Mn){this.namespace=Object.assign(this.namespace,Mn)}requestAccounts(){return this.getAccounts()}request(Mn){return this.namespace.methods.includes(Mn.request.method)?this.client.request(Mn):this.getHttpProvider().request(Mn.request)}setDefaultChain(Mn,io){if(!this.httpProviders[Mn]){const fo=io||Lt$1(`${this.name}:${Mn}`,this.namespace,this.client.core.projectId);if(!fo)throw new Error(`No RPC url provided for chainId: ${Mn}`);this.setHttpProvider(Mn,fo)}this.chainId=Mn,this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Mn=this.namespace.chains[0];if(!Mn)throw new Error("ChainId not found");return Mn.split(":")[1]}getAccounts(){const Mn=this.namespace.accounts;return Mn?[...new Set(Mn.filter(io=>io.split(":")[1]===this.chainId.toString()).map(io=>io.split(":")[2]))]:[]}createHttpProviders(){const Mn={};return this.namespace.chains.forEach(io=>{var fo;Mn[io]=this.createHttpProvider(io,(fo=this.namespace.rpcMap)==null?void 0:fo[io])}),Mn}getHttpProvider(){const Mn=`${this.name}:${this.chainId}`,io=this.httpProviders[Mn];if(typeof io>"u")throw new Error(`JSON-RPC provider for ${Mn} not found`);return io}setHttpProvider(Mn,io){const fo=this.createHttpProvider(Mn,io);fo&&(this.httpProviders[Mn]=fo)}createHttpProvider(Mn,io){const fo=io||Lt$1(Mn,this.namespace,this.client.core.projectId);return typeof fo>"u"?void 0:new o$g(new f$9(fo,F$1("disableProviderPing")))}}class gv{constructor(Mn){this.name="cip34",this.namespace=Mn.namespace,this.events=F$1("events"),this.client=F$1("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Mn){this.namespace=Object.assign(this.namespace,Mn)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Mn=this.namespace.chains[0];if(!Mn)throw new Error("ChainId not found");return Mn.split(":")[1]}request(Mn){return this.namespace.methods.includes(Mn.request.method)?this.client.request(Mn):this.getHttpProvider().request(Mn.request)}setDefaultChain(Mn,io){this.httpProviders[Mn]||this.setHttpProvider(Mn,io),this.chainId=Mn,this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const Mn=this.namespace.accounts;return Mn?[...new Set(Mn.filter(io=>io.split(":")[1]===this.chainId.toString()).map(io=>io.split(":")[2]))]:[]}createHttpProviders(){const Mn={};return this.namespace.chains.forEach(io=>{const fo=this.getCardanoRPCUrl(io),mo=Ae$1(io);Mn[mo]=this.createHttpProvider(mo,fo)}),Mn}getHttpProvider(){const Mn=`${this.name}:${this.chainId}`,io=this.httpProviders[Mn];if(typeof io>"u")throw new Error(`JSON-RPC provider for ${Mn} not found`);return io}getCardanoRPCUrl(Mn){const io=this.namespace.rpcMap;if(io)return io[Mn]}setHttpProvider(Mn,io){const fo=this.createHttpProvider(Mn,io);fo&&(this.httpProviders[Mn]=fo)}createHttpProvider(Mn,io){const fo=io||this.getCardanoRPCUrl(Mn);if(!fo)throw new Error(`No RPC url provided for chainId: ${Mn}`);return new o$g(new f$9(fo,F$1("disableProviderPing")))}}class vv{constructor(Mn){this.name="elrond",this.namespace=Mn.namespace,this.events=F$1("events"),this.client=F$1("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Mn){this.namespace=Object.assign(this.namespace,Mn)}requestAccounts(){return this.getAccounts()}request(Mn){return this.namespace.methods.includes(Mn.request.method)?this.client.request(Mn):this.getHttpProvider().request(Mn.request)}setDefaultChain(Mn,io){this.httpProviders[Mn]||this.setHttpProvider(Mn,io),this.chainId=Mn,this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${Mn}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Mn=this.namespace.chains[0];if(!Mn)throw new Error("ChainId not found");return Mn.split(":")[1]}getAccounts(){const Mn=this.namespace.accounts;return Mn?[...new Set(Mn.filter(io=>io.split(":")[1]===this.chainId.toString()).map(io=>io.split(":")[2]))]:[]}createHttpProviders(){const Mn={};return this.namespace.chains.forEach(io=>{var fo;const mo=Ae$1(io);Mn[mo]=this.createHttpProvider(mo,(fo=this.namespace.rpcMap)==null?void 0:fo[io])}),Mn}getHttpProvider(){const Mn=`${this.name}:${this.chainId}`,io=this.httpProviders[Mn];if(typeof io>"u")throw new Error(`JSON-RPC provider for ${Mn} not found`);return io}setHttpProvider(Mn,io){const fo=this.createHttpProvider(Mn,io);fo&&(this.httpProviders[Mn]=fo)}createHttpProvider(Mn,io){const fo=io||Lt$1(Mn,this.namespace,this.client.core.projectId);if(!fo)throw new Error(`No RPC url provided for chainId: ${Mn}`);return new o$g(new f$9(fo,F$1("disableProviderPing")))}}class _v{constructor(Mn){this.name="multiversx",this.namespace=Mn.namespace,this.events=F$1("events"),this.client=F$1("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Mn){this.namespace=Object.assign(this.namespace,Mn)}requestAccounts(){return this.getAccounts()}request(Mn){return this.namespace.methods.includes(Mn.request.method)?this.client.request(Mn):this.getHttpProvider().request(Mn.request)}setDefaultChain(Mn,io){this.httpProviders[Mn]||this.setHttpProvider(Mn,io),this.chainId=Mn,this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${Mn}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Mn=this.namespace.chains[0];if(!Mn)throw new Error("ChainId not found");return Mn.split(":")[1]}getAccounts(){const Mn=this.namespace.accounts;return Mn?[...new Set(Mn.filter(io=>io.split(":")[1]===this.chainId.toString()).map(io=>io.split(":")[2]))]:[]}createHttpProviders(){const Mn={};return this.namespace.chains.forEach(io=>{var fo;const mo=Ae$1(io);Mn[mo]=this.createHttpProvider(mo,(fo=this.namespace.rpcMap)==null?void 0:fo[io])}),Mn}getHttpProvider(){const Mn=`${this.name}:${this.chainId}`,io=this.httpProviders[Mn];if(typeof io>"u")throw new Error(`JSON-RPC provider for ${Mn} not found`);return io}setHttpProvider(Mn,io){const fo=this.createHttpProvider(Mn,io);fo&&(this.httpProviders[Mn]=fo)}createHttpProvider(Mn,io){const fo=io||Lt$1(Mn,this.namespace,this.client.core.projectId);if(!fo)throw new Error(`No RPC url provided for chainId: ${Mn}`);return new o$g(new f$9(fo,F$1("disableProviderPing")))}}class mv{constructor(Mn){this.name="near",this.namespace=Mn.namespace,this.events=F$1("events"),this.client=F$1("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Mn){this.namespace=Object.assign(this.namespace,Mn)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Mn=this.namespace.chains[0];if(!Mn)throw new Error("ChainId not found");return Mn.split(":")[1]}request(Mn){return this.namespace.methods.includes(Mn.request.method)?this.client.request(Mn):this.getHttpProvider().request(Mn.request)}setDefaultChain(Mn,io){if(this.chainId=Mn,!this.httpProviders[Mn]){const fo=io||Lt$1(`${this.name}:${Mn}`,this.namespace);if(!fo)throw new Error(`No RPC url provided for chainId: ${Mn}`);this.setHttpProvider(Mn,fo)}this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const Mn=this.namespace.accounts;return Mn?Mn.filter(io=>io.split(":")[1]===this.chainId.toString()).map(io=>io.split(":")[2])||[]:[]}createHttpProviders(){const Mn={};return this.namespace.chains.forEach(io=>{var fo;Mn[io]=this.createHttpProvider(io,(fo=this.namespace.rpcMap)==null?void 0:fo[io])}),Mn}getHttpProvider(){const Mn=`${this.name}:${this.chainId}`,io=this.httpProviders[Mn];if(typeof io>"u")throw new Error(`JSON-RPC provider for ${Mn} not found`);return io}setHttpProvider(Mn,io){const fo=this.createHttpProvider(Mn,io);fo&&(this.httpProviders[Mn]=fo)}createHttpProvider(Mn,io){const fo=io||Lt$1(Mn,this.namespace);return typeof fo>"u"?void 0:new o$g(new f$9(fo,F$1("disableProviderPing")))}}class wv{constructor(Mn){this.name=ze,this.namespace=Mn.namespace,this.events=F$1("events"),this.client=F$1("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(Mn){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(Mn.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(Mn.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(Mn.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(Mn.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(Mn){return this.namespace.methods.includes(Mn.request.method)?this.client.request(Mn):this.getHttpProvider(Mn.chainId).request(Mn.request)}setDefaultChain(Mn,io){this.httpProviders[Mn]||this.setHttpProvider(Mn,io),this.chainId=Mn,this.events.emit(Tt.DEFAULT_CHAIN_CHANGED,`${this.name}:${Mn}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const Mn=this.namespace.chains[0];if(!Mn)throw new Error("ChainId not found");return Mn.split(":")[1]}getAccounts(){const Mn=this.namespace.accounts;return Mn?[...new Set(Mn.filter(io=>io.split(":")[1]===this.chainId.toString()).map(io=>io.split(":")[2]))]:[]}createHttpProviders(){var Mn,io;const fo={};return(io=(Mn=this.namespace)==null?void 0:Mn.accounts)==null||io.forEach(mo=>{const $o=An(mo);fo[`${$o.namespace}:${$o.reference}`]=this.createHttpProvider(mo)}),fo}getHttpProvider(Mn){const io=this.httpProviders[Mn];if(typeof io>"u")throw new Error(`JSON-RPC provider for ${Mn} not found`);return io}setHttpProvider(Mn,io){const fo=this.createHttpProvider(Mn,io);fo&&(this.httpProviders[Mn]=fo)}createHttpProvider(Mn,io){const fo=io||Lt$1(Mn,this.namespace,this.client.core.projectId);if(!fo)throw new Error(`No RPC url provided for chainId: ${Mn}`);return new o$g(new f$9(fo,F$1("disableProviderPing")))}}var Pv=Object.defineProperty,Cv=Object.defineProperties,Av=Object.getOwnPropertyDescriptors,Fa=Object.getOwnPropertySymbols,Iv=Object.prototype.hasOwnProperty,xv=Object.prototype.propertyIsEnumerable,Wa=(Fn,Mn,io)=>Mn in Fn?Pv(Fn,Mn,{enumerable:!0,configurable:!0,writable:!0,value:io}):Fn[Mn]=io,pr=(Fn,Mn)=>{for(var io in Mn||(Mn={}))Iv.call(Mn,io)&&Wa(Fn,io,Mn[io]);if(Fa)for(var io of Fa(Mn))xv.call(Mn,io)&&Wa(Fn,io,Mn[io]);return Fn},Bi=(Fn,Mn)=>Cv(Fn,Av(Mn));class dr{constructor(Mn){this.events=new Jg,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=Mn,this.logger=typeof(Mn==null?void 0:Mn.logger)<"u"&&typeof(Mn==null?void 0:Mn.logger)!="string"?Mn.logger:Mg(k$4({level:(Mn==null?void 0:Mn.logger)||ya})),this.disableProviderPing=(Mn==null?void 0:Mn.disableProviderPing)||!1}static async init(Mn){const io=new dr(Mn);return await io.initialize(),io}async request(Mn,io,fo){const[mo,$o]=this.validateChain(io);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(mo).request({request:pr({},Mn),chainId:`${mo}:${$o}`,topic:this.session.topic,expiry:fo})}sendAsync(Mn,io,fo,mo){const $o=new Date().getTime();this.request(Mn,fo,mo).then(Ao=>io(null,formatJsonRpcResult($o,Ao))).catch(Ao=>io(Ao,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var Mn;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(Mn=this.session)==null?void 0:Mn.topic,reason:er$1("USER_DISCONNECTED")}),await this.cleanup()}async connect(Mn){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(Mn),await this.cleanupPendingPairings(),!Mn.skipPairing)return await this.pair(Mn.pairingTopic)}async authenticate(Mn,io){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(Mn),await this.cleanupPendingPairings();const{uri:fo,response:mo}=await this.client.authenticate(Mn,io);fo&&(this.uri=fo,this.events.emit("display_uri",fo));const $o=await mo();if(this.session=$o.session,this.session){const Ao=Ha(this.session.namespaces);this.namespaces=Fi(this.namespaces,Ao),this.persist("namespaces",this.namespaces),this.onConnect()}return $o}on(Mn,io){this.events.on(Mn,io)}once(Mn,io){this.events.once(Mn,io)}removeListener(Mn,io){this.events.removeListener(Mn,io)}off(Mn,io){this.events.off(Mn,io)}get isWalletConnect(){return!0}async pair(Mn){this.shouldAbortPairingAttempt=!1;let io=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(io>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:fo,approval:mo}=await this.client.connect({pairingTopic:Mn,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});fo&&(this.uri=fo,this.events.emit("display_uri",fo)),await mo().then($o=>{this.session=$o;const Ao=Ha($o.namespaces);this.namespaces=Fi(this.namespaces,Ao),this.persist("namespaces",this.namespaces)}).catch($o=>{if($o.message!==it$1)throw $o;io++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(Mn,io){try{if(!this.session)return;const[fo,mo]=this.validateChain(Mn),$o=this.getProvider(fo);$o.name===ze?$o.setDefaultChain(`${fo}:${mo}`,io):$o.setDefaultChain(mo,io)}catch(fo){if(!/Please call connect/.test(fo.message))throw fo}}async cleanupPendingPairings(Mn={}){this.logger.info("Cleaning up inactive pairings...");const io=this.client.pairing.getAll();if(Nr$1(io)){for(const fo of io)Mn.deletePairings?this.client.core.expirer.set(fo.topic,0):await this.client.core.relayer.subscriber.unsubscribe(fo.topic);this.logger.info(`Inactive pairings cleared: ${io.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const Mn=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[Mn]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await _e.init({core:this.providerOpts.core,logger:this.providerOpts.logger||ya,relayUrl:this.providerOpts.relayUrl||Yg,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const Mn=[...new Set(Object.keys(this.session.namespaces).map(io=>xo(io)))];Mi("client",this.client),Mi("events",this.events),Mi("disableProviderPing",this.disableProviderPing),Mn.forEach(io=>{if(!this.session)return;const fo=rv(io,this.session),mo=Ta(fo),$o=Fi(this.namespaces,this.optionalNamespaces),Ao=Bi(pr({},$o[io]),{accounts:fo,chains:mo});switch(io){case"eip155":this.rpcProviders[io]=new hv({namespace:Ao});break;case"algorand":this.rpcProviders[io]=new dv({namespace:Ao});break;case"solana":this.rpcProviders[io]=new lv({namespace:Ao});break;case"cosmos":this.rpcProviders[io]=new pv({namespace:Ao});break;case"polkadot":this.rpcProviders[io]=new sv({namespace:Ao});break;case"cip34":this.rpcProviders[io]=new gv({namespace:Ao});break;case"elrond":this.rpcProviders[io]=new vv({namespace:Ao});break;case"multiversx":this.rpcProviders[io]=new _v({namespace:Ao});break;case"near":this.rpcProviders[io]=new mv({namespace:Ao});break;default:this.rpcProviders[ze]?this.rpcProviders[ze].updateNamespace(Ao):this.rpcProviders[ze]=new wv({namespace:Ao})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",Mn=>{this.events.emit("session_ping",Mn)}),this.client.on("session_event",Mn=>{const{params:io}=Mn,{event:fo}=io;if(fo.name==="accountsChanged"){const mo=fo.data;mo&&Nr$1(mo)&&this.events.emit("accountsChanged",mo.map(iv))}else if(fo.name==="chainChanged"){const mo=io.chainId,$o=io.event.data,Ao=xo(mo),Lo=Wi(mo)!==Wi($o)?`${Ao}:${Wi($o)}`:mo;this.onChainChanged(Lo)}else this.events.emit(fo.name,fo.data);this.events.emit("session_event",Mn)}),this.client.on("session_update",({topic:Mn,params:io})=>{var fo;const{namespaces:mo}=io,$o=(fo=this.client)==null?void 0:fo.session.get(Mn);this.session=Bi(pr({},$o),{namespaces:mo}),this.onSessionUpdate(),this.events.emit("session_update",{topic:Mn,params:io})}),this.client.on("session_delete",async Mn=>{await this.cleanup(),this.events.emit("session_delete",Mn),this.events.emit("disconnect",Bi(pr({},er$1("USER_DISCONNECTED")),{data:Mn.topic}))}),this.on(Tt.DEFAULT_CHAIN_CHANGED,Mn=>{this.onChainChanged(Mn,!0)})}getProvider(Mn){return this.rpcProviders[Mn]||this.rpcProviders[ze]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(Mn=>{var io;this.getProvider(Mn).updateNamespace((io=this.session)==null?void 0:io.namespaces[Mn])})}setNamespaces(Mn){const{namespaces:io,optionalNamespaces:fo,sessionProperties:mo}=Mn;io&&Object.keys(io).length&&(this.namespaces=io),fo&&Object.keys(fo).length&&(this.optionalNamespaces=fo),this.sessionProperties=mo,this.persist("namespaces",io),this.persist("optionalNamespaces",fo)}validateChain(Mn){const[io,fo]=(Mn==null?void 0:Mn.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[io,fo];if(io&&!Object.keys(this.namespaces||{}).map(Ao=>xo(Ao)).includes(io))throw new Error(`Namespace '${io}' is not configured. Please call connect() first with namespace config.`);if(io&&fo)return[io,fo];const mo=xo(Object.keys(this.namespaces)[0]),$o=this.rpcProviders[mo].getDefaultChain();return[mo,$o]}async requestAccounts(){const[Mn]=this.validateChain();return await this.getProvider(Mn).requestAccounts()}onChainChanged(Mn,io=!1){if(!this.namespaces)return;const[fo,mo]=this.validateChain(Mn);mo&&(io||this.getProvider(fo).setDefaultChain(mo),this.namespaces[fo]?this.namespaces[fo].defaultChain=mo:this.namespaces[`${fo}:${mo}`]?this.namespaces[`${fo}:${mo}`].defaultChain=mo:this.namespaces[`${fo}:${mo}`]={defaultChain:mo},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",mo))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(Mn,io){this.client.core.storage.setItem(`${Sa}/${Mn}`,io)}async getFromStore(Mn){return await this.client.core.storage.getItem(`${Sa}/${Mn}`)}}const SIWXUtil={getSIWX(){return OptionsController.state.siwx},async initializeIfEnabled(){var $o;const Fn=OptionsController.state.siwx,Mn=ChainController.getActiveCaipAddress();if(!(Fn&&Mn))return;const[io,fo,mo]=Mn.split(":");try{if((await Fn.getSessions(`${io}:${fo}`,mo)).length)return;await ModalController.open({view:"SIWXSignMessage"})}catch(Ao){console.error("SIWXUtil:initializeIfEnabled",Ao),EventsController.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await(($o=ConnectionController._getClient())==null?void 0:$o.disconnect().catch(console.error)),RouterController.reset("Connect"),SnackController.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const Fn=OptionsController.state.siwx,Mn=CoreHelperUtil.getPlainAddress(ChainController.getActiveCaipAddress()),io=ChainController.getActiveCaipNetwork(),fo=ConnectionController._getClient();if(!Fn)throw new Error("SIWX is not enabled");if(!Mn)throw new Error("No ActiveCaipAddress found");if(!io)throw new Error("No ActiveCaipNetwork or client found");if(!fo)throw new Error("No ConnectionController client found");try{const mo=await Fn.createMessage({chainId:io.caipNetworkId,accountAddress:Mn}),$o=mo.toString();StorageUtil.getConnectedConnector()==="ID_AUTH"&&RouterController.pushTransactionStack({view:null,goBack:!1,replace:!0});const Ao=await fo.signMessage($o);await Fn.addSession({data:mo,message:$o,signature:Ao}),ModalController.close(),EventsController.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(mo){const $o=this.getSIWXEventProperties();(!ModalController.state.open||RouterController.state.view==="ApproveTransaction")&&await ModalController.open({view:"SIWXSignMessage"}),$o.isSmartAccount?SnackController.showError("This application might not support Smart Accounts"):SnackController.showError("Signature declined"),EventsController.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:$o}),console.error("SWIXUtil:requestSignMessage",mo)}},async cancelSignMessage(){try{await ConnectionController.disconnect(),RouterController.reset("Connect"),EventsController.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(Fn){console.error("SIWXUtil:cancelSignMessage",Fn)}},async getSessions(){const Fn=OptionsController.state.siwx,Mn=CoreHelperUtil.getPlainAddress(ChainController.getActiveCaipAddress()),io=ChainController.getActiveCaipNetwork();return Fn&&Mn&&io?Fn.getSessions(io.caipNetworkId,Mn):[]},async isSIWXCloseDisabled(){if(this.getSIWX()){const Mn=RouterController.state.view==="ApproveTransaction",io=RouterController.state.view==="SIWXSignMessage";if(Mn||io)return(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:Fn,chains:Mn,methods:io}){var Lo;const fo=SIWXUtil.getSIWX(),mo=new Set(Mn.map(Wo=>Wo.split(":")[0]));if(!fo||mo.size!==1)return!1;const $o=await fo.createMessage({chainId:"",accountAddress:""}),Ao=await Fn.authenticate({nonce:$o.nonce,domain:$o.domain,uri:$o.uri,exp:$o.expirationTime,iat:$o.issuedAt,nbf:$o.notBefore,requestId:$o.requestId,version:$o.version,resources:$o.resources,statement:$o.statement,methods:io,chains:Mn});if((Lo=Ao==null?void 0:Ao.auths)!=null&&Lo.length){const Wo=Ao.auths.map(jo=>{const zo=Fn.client.formatAuthMessage({request:jo.p,iss:jo.p.iss});return{data:{...jo.p,accountAddress:jo.p.iss.split(":").slice(-1).join(""),chainId:jo.p.iss.split(":").slice(2,4).join(":"),uri:jo.p.aud,version:jo.p.version||$o.version,expirationTime:jo.p.exp,issuedAt:jo.p.iat,notBefore:jo.p.nbf},message:zo,signature:jo.s.s,cacao:jo}});try{await fo.setSessions(Wo),EventsController.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:SIWXUtil.getSIWXEventProperties()})}catch(jo){throw console.error("SIWX:universalProviderAuth - failed to set sessions",jo),EventsController.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:SIWXUtil.getSIWXEventProperties()}),await Fn.disconnect().catch(console.error),jo}}return!0},getSIWXEventProperties(){var Fn;return{network:((Fn=ChainController.state.activeCaipNetwork)==null?void 0:Fn.caipNetworkId)||"",isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$8=globalThis,e$d=t$8.ShadowRoot&&(t$8.ShadyCSS===void 0||t$8.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$6=Symbol(),o$e=new WeakMap;let n$f=class{constructor(Mn,io,fo){if(this._$cssResult$=!0,fo!==s$6)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=Mn,this.t=io}get styleSheet(){let Mn=this.o;const io=this.t;if(e$d&&Mn===void 0){const fo=io!==void 0&&io.length===1;fo&&(Mn=o$e.get(io)),Mn===void 0&&((this.o=Mn=new CSSStyleSheet).replaceSync(this.cssText),fo&&o$e.set(io,Mn))}return Mn}toString(){return this.cssText}};const r$h=Fn=>new n$f(typeof Fn=="string"?Fn:Fn+"",void 0,s$6),i$a=(Fn,...Mn)=>{const io=Fn.length===1?Fn[0]:Mn.reduce((fo,mo,$o)=>fo+(Ao=>{if(Ao._$cssResult$===!0)return Ao.cssText;if(typeof Ao=="number")return Ao;throw Error("Value passed to 'css' function must be a 'css' function result: "+Ao+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(mo)+Fn[$o+1],Fn[0]);return new n$f(io,Fn,s$6)},S$4=(Fn,Mn)=>{if(e$d)Fn.adoptedStyleSheets=Mn.map(io=>io instanceof CSSStyleSheet?io:io.styleSheet);else for(const io of Mn){const fo=document.createElement("style"),mo=t$8.litNonce;mo!==void 0&&fo.setAttribute("nonce",mo),fo.textContent=io.cssText,Fn.appendChild(fo)}},c$8=e$d?Fn=>Fn:Fn=>Fn instanceof CSSStyleSheet?(Mn=>{let io="";for(const fo of Mn.cssRules)io+=fo.cssText;return r$h(io)})(Fn):Fn;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:i$9,defineProperty:e$c,getOwnPropertyDescriptor:r$g,getOwnPropertyNames:h$b,getOwnPropertySymbols:o$d,getPrototypeOf:n$e}=Object,a$4=globalThis,c$7=a$4.trustedTypes,l$5=c$7?c$7.emptyScript:"",p$6=a$4.reactiveElementPolyfillSupport,d$4=(Fn,Mn)=>Fn,u$7={toAttribute(Fn,Mn){switch(Mn){case Boolean:Fn=Fn?l$5:null;break;case Object:case Array:Fn=Fn==null?Fn:JSON.stringify(Fn)}return Fn},fromAttribute(Fn,Mn){let io=Fn;switch(Mn){case Boolean:io=Fn!==null;break;case Number:io=Fn===null?null:Number(Fn);break;case Object:case Array:try{io=JSON.parse(Fn)}catch{io=null}}return io}},f$8=(Fn,Mn)=>!i$9(Fn,Mn),y$3={attribute:!0,type:String,converter:u$7,reflect:!1,hasChanged:f$8};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),a$4.litPropertyMetadata??(a$4.litPropertyMetadata=new WeakMap);let b$3=class extends HTMLElement{static addInitializer(Mn){this._$Ei(),(this.l??(this.l=[])).push(Mn)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(Mn,io=y$3){if(io.state&&(io.attribute=!1),this._$Ei(),this.elementProperties.set(Mn,io),!io.noAccessor){const fo=Symbol(),mo=this.getPropertyDescriptor(Mn,fo,io);mo!==void 0&&e$c(this.prototype,Mn,mo)}}static getPropertyDescriptor(Mn,io,fo){const{get:mo,set:$o}=r$g(this.prototype,Mn)??{get(){return this[io]},set(Ao){this[io]=Ao}};return{get(){return mo==null?void 0:mo.call(this)},set(Ao){const Lo=mo==null?void 0:mo.call(this);$o.call(this,Ao),this.requestUpdate(Mn,Lo,fo)},configurable:!0,enumerable:!0}}static getPropertyOptions(Mn){return this.elementProperties.get(Mn)??y$3}static _$Ei(){if(this.hasOwnProperty(d$4("elementProperties")))return;const Mn=n$e(this);Mn.finalize(),Mn.l!==void 0&&(this.l=[...Mn.l]),this.elementProperties=new Map(Mn.elementProperties)}static finalize(){if(this.hasOwnProperty(d$4("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d$4("properties"))){const io=this.properties,fo=[...h$b(io),...o$d(io)];for(const mo of fo)this.createProperty(mo,io[mo])}const Mn=this[Symbol.metadata];if(Mn!==null){const io=litPropertyMetadata.get(Mn);if(io!==void 0)for(const[fo,mo]of io)this.elementProperties.set(fo,mo)}this._$Eh=new Map;for(const[io,fo]of this.elementProperties){const mo=this._$Eu(io,fo);mo!==void 0&&this._$Eh.set(mo,io)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(Mn){const io=[];if(Array.isArray(Mn)){const fo=new Set(Mn.flat(1/0).reverse());for(const mo of fo)io.unshift(c$8(mo))}else Mn!==void 0&&io.push(c$8(Mn));return io}static _$Eu(Mn,io){const fo=io.attribute;return fo===!1?void 0:typeof fo=="string"?fo:typeof Mn=="string"?Mn.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var Mn;this._$ES=new Promise(io=>this.enableUpdating=io),this._$AL=new Map,this._$E_(),this.requestUpdate(),(Mn=this.constructor.l)==null||Mn.forEach(io=>io(this))}addController(Mn){var io;(this._$EO??(this._$EO=new Set)).add(Mn),this.renderRoot!==void 0&&this.isConnected&&((io=Mn.hostConnected)==null||io.call(Mn))}removeController(Mn){var io;(io=this._$EO)==null||io.delete(Mn)}_$E_(){const Mn=new Map,io=this.constructor.elementProperties;for(const fo of io.keys())this.hasOwnProperty(fo)&&(Mn.set(fo,this[fo]),delete this[fo]);Mn.size>0&&(this._$Ep=Mn)}createRenderRoot(){const Mn=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return S$4(Mn,this.constructor.elementStyles),Mn}connectedCallback(){var Mn;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(Mn=this._$EO)==null||Mn.forEach(io=>{var fo;return(fo=io.hostConnected)==null?void 0:fo.call(io)})}enableUpdating(Mn){}disconnectedCallback(){var Mn;(Mn=this._$EO)==null||Mn.forEach(io=>{var fo;return(fo=io.hostDisconnected)==null?void 0:fo.call(io)})}attributeChangedCallback(Mn,io,fo){this._$AK(Mn,fo)}_$EC(Mn,io){var $o;const fo=this.constructor.elementProperties.get(Mn),mo=this.constructor._$Eu(Mn,fo);if(mo!==void 0&&fo.reflect===!0){const Ao=((($o=fo.converter)==null?void 0:$o.toAttribute)!==void 0?fo.converter:u$7).toAttribute(io,fo.type);this._$Em=Mn,Ao==null?this.removeAttribute(mo):this.setAttribute(mo,Ao),this._$Em=null}}_$AK(Mn,io){var $o;const fo=this.constructor,mo=fo._$Eh.get(Mn);if(mo!==void 0&&this._$Em!==mo){const Ao=fo.getPropertyOptions(mo),Lo=typeof Ao.converter=="function"?{fromAttribute:Ao.converter}:(($o=Ao.converter)==null?void 0:$o.fromAttribute)!==void 0?Ao.converter:u$7;this._$Em=mo,this[mo]=Lo.fromAttribute(io,Ao.type),this._$Em=null}}requestUpdate(Mn,io,fo){if(Mn!==void 0){if(fo??(fo=this.constructor.getPropertyOptions(Mn)),!(fo.hasChanged??f$8)(this[Mn],io))return;this.P(Mn,io,fo)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(Mn,io,fo){this._$AL.has(Mn)||this._$AL.set(Mn,io),fo.reflect===!0&&this._$Em!==Mn&&(this._$Ej??(this._$Ej=new Set)).add(Mn)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(io){Promise.reject(io)}const Mn=this.scheduleUpdate();return Mn!=null&&await Mn,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var fo;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[$o,Ao]of this._$Ep)this[$o]=Ao;this._$Ep=void 0}const mo=this.constructor.elementProperties;if(mo.size>0)for(const[$o,Ao]of mo)Ao.wrapped!==!0||this._$AL.has($o)||this[$o]===void 0||this.P($o,this[$o],Ao)}let Mn=!1;const io=this._$AL;try{Mn=this.shouldUpdate(io),Mn?(this.willUpdate(io),(fo=this._$EO)==null||fo.forEach(mo=>{var $o;return($o=mo.hostUpdate)==null?void 0:$o.call(mo)}),this.update(io)):this._$EU()}catch(mo){throw Mn=!1,this._$EU(),mo}Mn&&this._$AE(io)}willUpdate(Mn){}_$AE(Mn){var io;(io=this._$EO)==null||io.forEach(fo=>{var mo;return(mo=fo.hostUpdated)==null?void 0:mo.call(fo)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(Mn)),this.updated(Mn)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(Mn){return!0}update(Mn){this._$Ej&&(this._$Ej=this._$Ej.forEach(io=>this._$EC(io,this[io]))),this._$EU()}updated(Mn){}firstUpdated(Mn){}};b$3.elementStyles=[],b$3.shadowRootOptions={mode:"open"},b$3[d$4("elementProperties")]=new Map,b$3[d$4("finalized")]=new Map,p$6==null||p$6({ReactiveElement:b$3}),(a$4.reactiveElementVersions??(a$4.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$7=globalThis,i$8=t$7.trustedTypes,s$5=i$8?i$8.createPolicy("lit-html",{createHTML:Fn=>Fn}):void 0,e$b="$lit$",h$a=`lit$${Math.random().toFixed(9).slice(2)}$`,o$c="?"+h$a,n$d=`<${o$c}>`,r$f=document,l$4=()=>r$f.createComment(""),c$6=Fn=>Fn===null||typeof Fn!="object"&&typeof Fn!="function",a$3=Array.isArray,u$6=Fn=>a$3(Fn)||typeof(Fn==null?void 0:Fn[Symbol.iterator])=="function",d$3=`[ 	
\f\r]`,f$7=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v$4=/-->/g,_$2=/>/g,m$3=RegExp(`>|${d$3}(?:([^\\s"'>=/]+)(${d$3}*=${d$3}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),p$5=/'/g,g$2=/"/g,$$2=/^(?:script|style|textarea|title)$/i,y$2=Fn=>(Mn,...io)=>({_$litType$:Fn,strings:Mn,values:io}),x$1=y$2(1),b$2=y$2(2),T$2=Symbol.for("lit-noChange"),E$1=Symbol.for("lit-nothing"),A$2=new WeakMap,C$1=r$f.createTreeWalker(r$f,129);function P$2(Fn,Mn){if(!a$3(Fn)||!Fn.hasOwnProperty("raw"))throw Error("invalid template strings array");return s$5!==void 0?s$5.createHTML(Mn):Mn}const V$2=(Fn,Mn)=>{const io=Fn.length-1,fo=[];let mo,$o=Mn===2?"<svg>":Mn===3?"<math>":"",Ao=f$7;for(let Lo=0;Lo<io;Lo++){const Wo=Fn[Lo];let jo,zo,Vo=-1,Go=0;for(;Go<Wo.length&&(Ao.lastIndex=Go,zo=Ao.exec(Wo),zo!==null);)Go=Ao.lastIndex,Ao===f$7?zo[1]==="!--"?Ao=v$4:zo[1]!==void 0?Ao=_$2:zo[2]!==void 0?($$2.test(zo[2])&&(mo=RegExp("</"+zo[2],"g")),Ao=m$3):zo[3]!==void 0&&(Ao=m$3):Ao===m$3?zo[0]===">"?(Ao=mo??f$7,Vo=-1):zo[1]===void 0?Vo=-2:(Vo=Ao.lastIndex-zo[2].length,jo=zo[1],Ao=zo[3]===void 0?m$3:zo[3]==='"'?g$2:p$5):Ao===g$2||Ao===p$5?Ao=m$3:Ao===v$4||Ao===_$2?Ao=f$7:(Ao=m$3,mo=void 0);const Jo=Ao===m$3&&Fn[Lo+1].startsWith("/>")?" ":"";$o+=Ao===f$7?Wo+n$d:Vo>=0?(fo.push(jo),Wo.slice(0,Vo)+e$b+Wo.slice(Vo)+h$a+Jo):Wo+h$a+(Vo===-2?Lo:Jo)}return[P$2(Fn,$o+(Fn[io]||"<?>")+(Mn===2?"</svg>":Mn===3?"</math>":"")),fo]};let N$1=class P6{constructor({strings:Mn,_$litType$:io},fo){let mo;this.parts=[];let $o=0,Ao=0;const Lo=Mn.length-1,Wo=this.parts,[jo,zo]=V$2(Mn,io);if(this.el=P6.createElement(jo,fo),C$1.currentNode=this.el.content,io===2||io===3){const Vo=this.el.content.firstChild;Vo.replaceWith(...Vo.childNodes)}for(;(mo=C$1.nextNode())!==null&&Wo.length<Lo;){if(mo.nodeType===1){if(mo.hasAttributes())for(const Vo of mo.getAttributeNames())if(Vo.endsWith(e$b)){const Go=zo[Ao++],Jo=mo.getAttribute(Vo).split(h$a),Qo=/([.?@])?(.*)/.exec(Go);Wo.push({type:1,index:$o,name:Qo[2],strings:Jo,ctor:Qo[1]==="."?H$1:Qo[1]==="?"?I$2:Qo[1]==="@"?L$1:k$2}),mo.removeAttribute(Vo)}else Vo.startsWith(h$a)&&(Wo.push({type:6,index:$o}),mo.removeAttribute(Vo));if($$2.test(mo.tagName)){const Vo=mo.textContent.split(h$a),Go=Vo.length-1;if(Go>0){mo.textContent=i$8?i$8.emptyScript:"";for(let Jo=0;Jo<Go;Jo++)mo.append(Vo[Jo],l$4()),C$1.nextNode(),Wo.push({type:2,index:++$o});mo.append(Vo[Go],l$4())}}}else if(mo.nodeType===8)if(mo.data===o$c)Wo.push({type:2,index:$o});else{let Vo=-1;for(;(Vo=mo.data.indexOf(h$a,Vo+1))!==-1;)Wo.push({type:7,index:$o}),Vo+=h$a.length-1}$o++}}static createElement(Mn,io){const fo=r$f.createElement("template");return fo.innerHTML=Mn,fo}};function S$3(Fn,Mn,io=Fn,fo){var Ao,Lo;if(Mn===T$2)return Mn;let mo=fo!==void 0?(Ao=io._$Co)==null?void 0:Ao[fo]:io._$Cl;const $o=c$6(Mn)?void 0:Mn._$litDirective$;return(mo==null?void 0:mo.constructor)!==$o&&((Lo=mo==null?void 0:mo._$AO)==null||Lo.call(mo,!1),$o===void 0?mo=void 0:(mo=new $o(Fn),mo._$AT(Fn,io,fo)),fo!==void 0?(io._$Co??(io._$Co=[]))[fo]=mo:io._$Cl=mo),mo!==void 0&&(Mn=S$3(Fn,mo._$AS(Fn,Mn.values),mo,fo)),Mn}let M$2=class{constructor(Mn,io){this._$AV=[],this._$AN=void 0,this._$AD=Mn,this._$AM=io}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(Mn){const{el:{content:io},parts:fo}=this._$AD,mo=((Mn==null?void 0:Mn.creationScope)??r$f).importNode(io,!0);C$1.currentNode=mo;let $o=C$1.nextNode(),Ao=0,Lo=0,Wo=fo[0];for(;Wo!==void 0;){if(Ao===Wo.index){let jo;Wo.type===2?jo=new R$1($o,$o.nextSibling,this,Mn):Wo.type===1?jo=new Wo.ctor($o,Wo.name,Wo.strings,this,Mn):Wo.type===6&&(jo=new z$1($o,this,Mn)),this._$AV.push(jo),Wo=fo[++Lo]}Ao!==(Wo==null?void 0:Wo.index)&&($o=C$1.nextNode(),Ao++)}return C$1.currentNode=r$f,mo}p(Mn){let io=0;for(const fo of this._$AV)fo!==void 0&&(fo.strings!==void 0?(fo._$AI(Mn,fo,io),io+=fo.strings.length-2):fo._$AI(Mn[io])),io++}},R$1=class D6{get _$AU(){var Mn;return((Mn=this._$AM)==null?void 0:Mn._$AU)??this._$Cv}constructor(Mn,io,fo,mo){this.type=2,this._$AH=E$1,this._$AN=void 0,this._$AA=Mn,this._$AB=io,this._$AM=fo,this.options=mo,this._$Cv=(mo==null?void 0:mo.isConnected)??!0}get parentNode(){let Mn=this._$AA.parentNode;const io=this._$AM;return io!==void 0&&(Mn==null?void 0:Mn.nodeType)===11&&(Mn=io.parentNode),Mn}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(Mn,io=this){Mn=S$3(this,Mn,io),c$6(Mn)?Mn===E$1||Mn==null||Mn===""?(this._$AH!==E$1&&this._$AR(),this._$AH=E$1):Mn!==this._$AH&&Mn!==T$2&&this._(Mn):Mn._$litType$!==void 0?this.$(Mn):Mn.nodeType!==void 0?this.T(Mn):u$6(Mn)?this.k(Mn):this._(Mn)}O(Mn){return this._$AA.parentNode.insertBefore(Mn,this._$AB)}T(Mn){this._$AH!==Mn&&(this._$AR(),this._$AH=this.O(Mn))}_(Mn){this._$AH!==E$1&&c$6(this._$AH)?this._$AA.nextSibling.data=Mn:this.T(r$f.createTextNode(Mn)),this._$AH=Mn}$(Mn){var $o;const{values:io,_$litType$:fo}=Mn,mo=typeof fo=="number"?this._$AC(Mn):(fo.el===void 0&&(fo.el=N$1.createElement(P$2(fo.h,fo.h[0]),this.options)),fo);if((($o=this._$AH)==null?void 0:$o._$AD)===mo)this._$AH.p(io);else{const Ao=new M$2(mo,this),Lo=Ao.u(this.options);Ao.p(io),this.T(Lo),this._$AH=Ao}}_$AC(Mn){let io=A$2.get(Mn.strings);return io===void 0&&A$2.set(Mn.strings,io=new N$1(Mn)),io}k(Mn){a$3(this._$AH)||(this._$AH=[],this._$AR());const io=this._$AH;let fo,mo=0;for(const $o of Mn)mo===io.length?io.push(fo=new D6(this.O(l$4()),this.O(l$4()),this,this.options)):fo=io[mo],fo._$AI($o),mo++;mo<io.length&&(this._$AR(fo&&fo._$AB.nextSibling,mo),io.length=mo)}_$AR(Mn=this._$AA.nextSibling,io){var fo;for((fo=this._$AP)==null?void 0:fo.call(this,!1,!0,io);Mn&&Mn!==this._$AB;){const mo=Mn.nextSibling;Mn.remove(),Mn=mo}}setConnected(Mn){var io;this._$AM===void 0&&(this._$Cv=Mn,(io=this._$AP)==null||io.call(this,Mn))}},k$2=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(Mn,io,fo,mo,$o){this.type=1,this._$AH=E$1,this._$AN=void 0,this.element=Mn,this.name=io,this._$AM=mo,this.options=$o,fo.length>2||fo[0]!==""||fo[1]!==""?(this._$AH=Array(fo.length-1).fill(new String),this.strings=fo):this._$AH=E$1}_$AI(Mn,io=this,fo,mo){const $o=this.strings;let Ao=!1;if($o===void 0)Mn=S$3(this,Mn,io,0),Ao=!c$6(Mn)||Mn!==this._$AH&&Mn!==T$2,Ao&&(this._$AH=Mn);else{const Lo=Mn;let Wo,jo;for(Mn=$o[0],Wo=0;Wo<$o.length-1;Wo++)jo=S$3(this,Lo[fo+Wo],io,Wo),jo===T$2&&(jo=this._$AH[Wo]),Ao||(Ao=!c$6(jo)||jo!==this._$AH[Wo]),jo===E$1?Mn=E$1:Mn!==E$1&&(Mn+=(jo??"")+$o[Wo+1]),this._$AH[Wo]=jo}Ao&&!mo&&this.j(Mn)}j(Mn){Mn===E$1?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,Mn??"")}},H$1=class extends k$2{constructor(){super(...arguments),this.type=3}j(Mn){this.element[this.name]=Mn===E$1?void 0:Mn}},I$2=class extends k$2{constructor(){super(...arguments),this.type=4}j(Mn){this.element.toggleAttribute(this.name,!!Mn&&Mn!==E$1)}},L$1=class extends k$2{constructor(Mn,io,fo,mo,$o){super(Mn,io,fo,mo,$o),this.type=5}_$AI(Mn,io=this){if((Mn=S$3(this,Mn,io,0)??E$1)===T$2)return;const fo=this._$AH,mo=Mn===E$1&&fo!==E$1||Mn.capture!==fo.capture||Mn.once!==fo.once||Mn.passive!==fo.passive,$o=Mn!==E$1&&(fo===E$1||mo);mo&&this.element.removeEventListener(this.name,this,fo),$o&&this.element.addEventListener(this.name,this,Mn),this._$AH=Mn}handleEvent(Mn){var io;typeof this._$AH=="function"?this._$AH.call(((io=this.options)==null?void 0:io.host)??this.element,Mn):this._$AH.handleEvent(Mn)}},z$1=class{constructor(Mn,io,fo){this.element=Mn,this.type=6,this._$AN=void 0,this._$AM=io,this.options=fo}get _$AU(){return this._$AM._$AU}_$AI(Mn){S$3(this,Mn)}};const j$2=t$7.litHtmlPolyfillSupport;j$2==null||j$2(N$1,R$1),(t$7.litHtmlVersions??(t$7.litHtmlVersions=[])).push("3.2.1");const B$1=(Fn,Mn,io)=>{const fo=(io==null?void 0:io.renderBefore)??Mn;let mo=fo._$litPart$;if(mo===void 0){const $o=(io==null?void 0:io.renderBefore)??null;fo._$litPart$=mo=new R$1(Mn.insertBefore(l$4(),$o),$o,void 0,io??{})}return mo._$AI(Fn),mo};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let r$e=class extends b$3{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var io;const Mn=super.createRenderRoot();return(io=this.renderOptions).renderBefore??(io.renderBefore=Mn.firstChild),Mn}update(Mn){const io=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(Mn),this._$Do=B$1(io,this.renderRoot,this.renderOptions)}connectedCallback(){var Mn;super.connectedCallback(),(Mn=this._$Do)==null||Mn.setConnected(!0)}disconnectedCallback(){var Mn;super.disconnectedCallback(),(Mn=this._$Do)==null||Mn.setConnected(!1)}render(){return T$2}};var f6;r$e._$litElement$=!0,r$e.finalized=!0,(f6=globalThis.litElementHydrateSupport)==null||f6.call(globalThis,{LitElement:r$e});const i$7=globalThis.litElementPolyfillSupport;i$7==null||i$7({LitElement:r$e});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.1.1");let themeTag,darkModeTag,lightModeTag;function initializeTheming(Fn,Mn){themeTag=document.createElement("style"),darkModeTag=document.createElement("style"),lightModeTag=document.createElement("style"),themeTag.textContent=createRootStyles(Fn).core.cssText,darkModeTag.textContent=createRootStyles(Fn).dark.cssText,lightModeTag.textContent=createRootStyles(Fn).light.cssText,document.head.appendChild(themeTag),document.head.appendChild(darkModeTag),document.head.appendChild(lightModeTag),setColorTheme(Mn)}function setColorTheme(Fn){darkModeTag&&lightModeTag&&(Fn==="light"?(darkModeTag.removeAttribute("media"),lightModeTag.media="enabled"):(lightModeTag.removeAttribute("media"),darkModeTag.media="enabled"))}function setThemeVariables(Fn){themeTag&&darkModeTag&&lightModeTag&&(themeTag.textContent=createRootStyles(Fn).core.cssText,darkModeTag.textContent=createRootStyles(Fn).dark.cssText,lightModeTag.textContent=createRootStyles(Fn).light.cssText)}function createRootStyles(Fn){return{core:i$a`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${r$h(Fn!=null&&Fn["--w3m-color-mix-strength"]?`${Fn["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${r$h((Fn==null?void 0:Fn["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${r$h((Fn==null?void 0:Fn["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${r$h((Fn==null?void 0:Fn["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${r$h((Fn==null?void 0:Fn["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );
        }
      }
    `,light:i$a`
      :root {
        --w3m-color-mix: ${r$h((Fn==null?void 0:Fn["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${r$h(getW3mThemeVariables(Fn,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${r$h(getW3mThemeVariables(Fn,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;
      }
    `,dark:i$a`
      :root {
        --w3m-color-mix: ${r$h((Fn==null?void 0:Fn["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${r$h(getW3mThemeVariables(Fn,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${r$h(getW3mThemeVariables(Fn,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);
      }
    `}}const resetStyles=i$a`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,elementStyles=i$a`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,colorStyles=i$a`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`;function standardCustomElement(Fn,Mn){const{kind:io,elements:fo}=Mn;return{kind:io,elements:fo,finisher(mo){customElements.get(Fn)||customElements.define(Fn,mo)}}}function legacyCustomElement(Fn,Mn){return customElements.get(Fn)||customElements.define(Fn,Mn),Mn}function customElement(Fn){return function(io){return typeof io=="function"?legacyCustomElement(Fn,io):standardCustomElement(Fn,io)}}const styles$2k=i$a`
  :host {
    display: block;
    border-radius: clamp(0px, var(--wui-border-radius-l), 44px);
    box-shadow: 0 0 0 1px var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-modal-bg);
    overflow: hidden;
  }
`;var __decorate$2W=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiCard=class extends r$e{render(){return x$1`<slot></slot>`}};WuiCard.styles=[resetStyles,styles$2k];WuiCard=__decorate$2W([customElement("wui-card")],WuiCard);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o$b={attribute:!0,type:String,converter:u$7,reflect:!1,hasChanged:f$8},r$d=(Fn=o$b,Mn,io)=>{const{kind:fo,metadata:mo}=io;let $o=globalThis.litPropertyMetadata.get(mo);if($o===void 0&&globalThis.litPropertyMetadata.set(mo,$o=new Map),$o.set(io.name,Fn),fo==="accessor"){const{name:Ao}=io;return{set(Lo){const Wo=Mn.get.call(this);Mn.set.call(this,Lo),this.requestUpdate(Ao,Wo,Fn)},init(Lo){return Lo!==void 0&&this.P(Ao,void 0,Fn),Lo}}}if(fo==="setter"){const{name:Ao}=io;return function(Lo){const Wo=this[Ao];Mn.call(this,Lo),this.requestUpdate(Ao,Wo,Fn)}}throw Error("Unsupported decorator location: "+fo)};function n$c(Fn){return(Mn,io)=>typeof io=="object"?r$d(Fn,Mn,io):((fo,mo,$o)=>{const Ao=mo.hasOwnProperty($o);return mo.constructor.createProperty($o,Ao?{...fo,wrapped:!0}:fo),Ao?Object.getOwnPropertyDescriptor(mo,$o):void 0})(Fn,Mn,io)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function r$c(Fn){return n$c({...Fn,state:!0,attribute:!1})}const styles$2j=i$a`
  :host {
    display: flex;
    aspect-ratio: 1 / 1;
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    width: inherit;
    height: inherit;
    object-fit: contain;
    object-position: center;
  }
`,addSvg=b$2`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M7.0023 0.875C7.48571 0.875 7.8776 1.26675 7.8776 1.75V6.125H12.2541C12.7375 6.125 13.1294 6.51675 13.1294 7C13.1294 7.48325 12.7375 7.875 12.2541 7.875H7.8776V12.25C7.8776 12.7332 7.48571 13.125 7.0023 13.125C6.51889 13.125 6.12701 12.7332 6.12701 12.25V7.875H1.75054C1.26713 7.875 0.875244 7.48325 0.875244 7C0.875244 6.51675 1.26713 6.125 1.75054 6.125H6.12701V1.75C6.12701 1.26675 6.51889 0.875 7.0023 0.875Z"
    fill="#667dff"
  /></svg
>`,allWalletsSvg=b$2`<svg fill="none" viewBox="0 0 24 24">
  <path
    style="fill: var(--wui-color-accent-100);"
    d="M10.2 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM10.2 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0Z"
  />
</svg>`,arrowBottomCircleSvg=b$2`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10.5 2.42908C6.31875 2.42908 2.92859 5.81989 2.92859 10.0034C2.92859 14.1869 6.31875 17.5777 10.5 17.5777C14.6813 17.5777 18.0714 14.1869 18.0714 10.0034C18.0714 5.81989 14.6813 2.42908 10.5 2.42908ZM0.928589 10.0034C0.928589 4.71596 5.21355 0.429077 10.5 0.429077C15.7865 0.429077 20.0714 4.71596 20.0714 10.0034C20.0714 15.2908 15.7865 19.5777 10.5 19.5777C5.21355 19.5777 0.928589 15.2908 0.928589 10.0034ZM10.5 5.75003C11.0523 5.75003 11.5 6.19774 11.5 6.75003L11.5 10.8343L12.7929 9.54137C13.1834 9.15085 13.8166 9.15085 14.2071 9.54137C14.5976 9.9319 14.5976 10.5651 14.2071 10.9556L11.2071 13.9556C10.8166 14.3461 10.1834 14.3461 9.79291 13.9556L6.79291 10.9556C6.40239 10.5651 6.40239 9.9319 6.79291 9.54137C7.18343 9.15085 7.8166 9.15085 8.20712 9.54137L9.50002 10.8343L9.50002 6.75003C9.50002 6.19774 9.94773 5.75003 10.5 5.75003Z"
    clip-rule="evenodd"
  /></svg
>`,appStoreSvg=b$2`
<svg width="36" height="36">
  <path
    d="M28.724 0H7.271A7.269 7.269 0 0 0 0 7.272v21.46A7.268 7.268 0 0 0 7.271 36H28.73A7.272 7.272 0 0 0 36 28.728V7.272A7.275 7.275 0 0 0 28.724 0Z"
    fill="url(#a)"
  />
  <path
    d="m17.845 8.271.729-1.26a1.64 1.64 0 1 1 2.843 1.638l-7.023 12.159h5.08c1.646 0 2.569 1.935 1.853 3.276H6.434a1.632 1.632 0 0 1-1.638-1.638c0-.909.73-1.638 1.638-1.638h4.176l5.345-9.265-1.67-2.898a1.642 1.642 0 0 1 2.844-1.638l.716 1.264Zm-6.317 17.5-1.575 2.732a1.64 1.64 0 1 1-2.844-1.638l1.17-2.025c1.323-.41 2.398-.095 3.249.931Zm13.56-4.954h4.262c.909 0 1.638.729 1.638 1.638 0 .909-.73 1.638-1.638 1.638h-2.367l1.597 2.772c.45.788.185 1.782-.602 2.241a1.642 1.642 0 0 1-2.241-.603c-2.69-4.666-4.711-8.159-6.052-10.485-1.372-2.367-.391-4.743.576-5.549 1.075 1.846 2.682 4.631 4.828 8.348Z"
    fill="#fff"
  />
  <defs>
    <linearGradient id="a" x1="18" y1="0" x2="18" y2="36" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB" />
      <stop offset="1" stop-color="#2072F3" />
    </linearGradient>
  </defs>
</svg>`,appleSvg=b$2`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,arrowBottomSvg=b$2`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 1.99a1 1 0 0 1 1 1v7.58l2.46-2.46a1 1 0 0 1 1.41 1.42L7.7 13.69a1 1 0 0 1-1.41 0L2.12 9.53A1 1 0 0 1 3.54 8.1L6 10.57V3a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`,arrowLeftSvg=b$2`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13 7.99a1 1 0 0 1-1 1H4.4l2.46 2.46a1 1 0 1 1-1.41 1.41L1.29 8.7a1 1 0 0 1 0-1.41L5.46 3.1a1 1 0 0 1 1.41 1.42L4.41 6.99H12a1 1 0 0 1 1 1Z"
    clip-rule="evenodd"
  />
</svg>`,arrowRightSvg=b$2`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1 7.99a1 1 0 0 1 1-1h7.58L7.12 4.53A1 1 0 1 1 8.54 3.1l4.16 4.17a1 1 0 0 1 0 1.41l-4.16 4.17a1 1 0 1 1-1.42-1.41l2.46-2.46H2a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,arrowTopSvg=b$2`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 13.99a1 1 0 0 1-1-1V5.4L3.54 7.86a1 1 0 0 1-1.42-1.41L6.3 2.28a1 1 0 0 1 1.41 0l4.17 4.17a1 1 0 1 1-1.41 1.41L8 5.4v7.59a1 1 0 0 1-1 1Z"
    clip-rule="evenodd"
  />
</svg>`,bankSvg=b$2`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5.61391 1.57124C5.85142 1.42873 6.14813 1.42873 6.38564 1.57124L11.0793 4.38749C11.9179 4.89067 11.5612 6.17864 10.5832 6.17864H9.96398V10.0358H10.2854C10.6996 10.0358 11.0354 10.3716 11.0354 10.7858C11.0354 11.2 10.6996 11.5358 10.2854 11.5358H1.71416C1.29995 11.5358 0.964172 11.2 0.964172 10.7858C0.964172 10.3716 1.29995 10.0358 1.71416 10.0358H2.03558L2.03558 6.17864H1.41637C0.438389 6.17864 0.0816547 4.89066 0.920263 4.38749L5.61391 1.57124ZM3.53554 6.17864V10.0358H5.24979V6.17864H3.53554ZM6.74976 6.17864V10.0358H8.46401V6.17864H6.74976ZM8.64913 4.67864H3.35043L5.99978 3.089L8.64913 4.67864Z"
    fill="currentColor"
  /></svg
>`,browserSvg$1=b$2`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4 6.4a1 1 0 0 1-.46.89 6.98 6.98 0 0 0 .38 6.18A7 7 0 0 0 16.46 7.3a1 1 0 0 1-.47-.92 7 7 0 0 0-12 .03Zm-2.02-.5a9 9 0 1 1 16.03 8.2A9 9 0 0 1 1.98 5.9Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.03 8.63c-1.46-.3-2.72-.75-3.6-1.35l-.02-.01-.14-.11a1 1 0 0 1 1.2-1.6l.1.08c.6.4 1.52.74 2.69 1 .16-.99.39-1.88.67-2.65.3-.79.68-1.5 1.15-2.02A2.58 2.58 0 0 1 9.99 1c.8 0 1.45.44 1.92.97.47.52.84 1.23 1.14 2.02.29.77.52 1.66.68 2.64a8 8 0 0 0 2.7-1l.26-.18h.48a1 1 0 0 1 .12 2c-.86.51-2.01.91-3.34 1.18a22.24 22.24 0 0 1-.03 3.19c1.45.29 2.7.73 3.58 1.31a1 1 0 0 1-1.1 1.68c-.6-.4-1.56-.76-2.75-1-.15.8-.36 1.55-.6 2.2-.3.79-.67 1.5-1.14 2.02-.47.53-1.12.97-1.92.97-.8 0-1.45-.44-1.91-.97a6.51 6.51 0 0 1-1.15-2.02c-.24-.65-.44-1.4-.6-2.2-1.18.24-2.13.6-2.73.99a1 1 0 1 1-1.1-1.67c.88-.58 2.12-1.03 3.57-1.31a22.03 22.03 0 0 1-.04-3.2Zm2.2-1.7c.15-.86.34-1.61.58-2.24.24-.65.51-1.12.76-1.4.25-.28.4-.29.42-.29.03 0 .17.01.42.3.25.27.52.74.77 1.4.23.62.43 1.37.57 2.22a19.96 19.96 0 0 1-3.52 0Zm-.18 4.6a20.1 20.1 0 0 1-.03-2.62 21.95 21.95 0 0 0 3.94 0 20.4 20.4 0 0 1-.03 2.63 21.97 21.97 0 0 0-3.88 0Zm.27 2c.13.66.3 1.26.49 1.78.24.65.51 1.12.76 1.4.25.28.4.29.42.29.03 0 .17-.01.42-.3.25-.27.52-.74.77-1.4.19-.5.36-1.1.49-1.78a20.03 20.03 0 0 0-3.35 0Z"
    clip-rule="evenodd"
  />
</svg>`,cardSvg=b$2`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.16072 2C4.17367 2 4.18665 2 4.19968 2L7.83857 2C8.36772 1.99998 8.82398 1.99996 9.19518 2.04018C9.5895 2.0829 9.97577 2.17811 10.3221 2.42971C10.5131 2.56849 10.6811 2.73647 10.8198 2.92749C11.0714 3.27379 11.1666 3.66007 11.2094 4.0544C11.2496 4.42561 11.2496 4.88188 11.2495 5.41105V7.58896C11.2496 8.11812 11.2496 8.57439 11.2094 8.94561C11.1666 9.33994 11.0714 9.72621 10.8198 10.0725C10.6811 10.2635 10.5131 10.4315 10.3221 10.5703C9.97577 10.8219 9.5895 10.9171 9.19518 10.9598C8.82398 11 8.36772 11 7.83856 11H4.16073C3.63157 11 3.17531 11 2.80411 10.9598C2.40979 10.9171 2.02352 10.8219 1.67722 10.5703C1.48621 10.4315 1.31824 10.2635 1.17946 10.0725C0.927858 9.72621 0.832652 9.33994 0.78993 8.94561C0.749713 8.5744 0.749733 8.11813 0.749757 7.58896L0.749758 5.45C0.749758 5.43697 0.749758 5.42399 0.749757 5.41104C0.749733 4.88188 0.749713 4.42561 0.78993 4.0544C0.832652 3.66007 0.927858 3.27379 1.17946 2.92749C1.31824 2.73647 1.48621 2.56849 1.67722 2.42971C2.02352 2.17811 2.40979 2.0829 2.80411 2.04018C3.17531 1.99996 3.63157 1.99998 4.16072 2ZM2.96567 3.53145C2.69897 3.56034 2.60687 3.60837 2.55888 3.64324C2.49521 3.6895 2.43922 3.74549 2.39296 3.80916C2.35809 3.85715 2.31007 3.94926 2.28117 4.21597C2.26629 4.35335 2.25844 4.51311 2.25431 4.70832H9.74498C9.74085 4.51311 9.733 4.35335 9.71812 4.21597C9.68922 3.94926 9.6412 3.85715 9.60633 3.80916C9.56007 3.74549 9.50408 3.6895 9.44041 3.64324C9.39242 3.60837 9.30031 3.56034 9.03362 3.53145C8.75288 3.50103 8.37876 3.5 7.79961 3.5H4.19968C3.62053 3.5 3.24641 3.50103 2.96567 3.53145ZM9.74956 6.20832H2.24973V7.55C2.24973 8.12917 2.25076 8.5033 2.28117 8.78404C2.31007 9.05074 2.35809 9.14285 2.39296 9.19084C2.43922 9.25451 2.49521 9.31051 2.55888 9.35677C2.60687 9.39163 2.69897 9.43966 2.96567 9.46856C3.24641 9.49897 3.62053 9.5 4.19968 9.5H7.79961C8.37876 9.5 8.75288 9.49897 9.03362 9.46856C9.30032 9.43966 9.39242 9.39163 9.44041 9.35677C9.50408 9.31051 9.56007 9.25451 9.60633 9.19084C9.6412 9.14285 9.68922 9.05075 9.71812 8.78404C9.74854 8.5033 9.74956 8.12917 9.74956 7.55V6.20832ZM6.74963 8C6.74963 7.58579 7.08541 7.25 7.49961 7.25H8.2496C8.6638 7.25 8.99958 7.58579 8.99958 8C8.99958 8.41422 8.6638 8.75 8.2496 8.75H7.49961C7.08541 8.75 6.74963 8.41422 6.74963 8Z"
    fill="currentColor"
  /></svg
>`,checkmarkBoldSvg=b$2`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M12.9576 2.23383C13.3807 2.58873 13.4361 3.21947 13.0812 3.64263L6.37159 11.6426C6.19161 11.8572 5.92989 11.9865 5.65009 11.999C5.3703 12.0115 5.09808 11.9062 4.89965 11.7085L0.979321 7.80331C0.588042 7.41354 0.586817 6.78038 0.976585 6.3891C1.36635 5.99782 1.99952 5.99659 2.3908 6.38636L5.53928 9.52268L11.5488 2.35742C11.9037 1.93426 12.5344 1.87893 12.9576 2.23383Z"
    clip-rule="evenodd"
  />
</svg>`,checkmarkSvg=b$2`<svg
  width="28"
  height="28"
  viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M25.5297 4.92733C26.1221 5.4242 26.1996 6.30724 25.7027 6.89966L12.2836 22.8997C12.0316 23.2001 11.6652 23.3811 11.2735 23.3986C10.8817 23.4161 10.5006 23.2686 10.2228 22.9919L2.38218 15.1815C1.83439 14.6358 1.83268 13.7494 2.37835 13.2016C2.92403 12.6538 3.81046 12.6521 4.35825 13.1978L11.1183 19.9317L23.5573 5.10036C24.0542 4.50794 24.9372 4.43047 25.5297 4.92733Z"
    fill="currentColor"/>
</svg>
`,chevronBottomSvg=b$2`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1.46 4.96a1 1 0 0 1 1.41 0L8 10.09l5.13-5.13a1 1 0 1 1 1.41 1.41l-5.83 5.84a1 1 0 0 1-1.42 0L1.46 6.37a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`,chevronLeftSvg=b$2`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M11.04 1.46a1 1 0 0 1 0 1.41L5.91 8l5.13 5.13a1 1 0 1 1-1.41 1.41L3.79 8.71a1 1 0 0 1 0-1.42l5.84-5.83a1 1 0 0 1 1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`,chevronRightSvg=b$2`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.96 14.54a1 1 0 0 1 0-1.41L10.09 8 4.96 2.87a1 1 0 0 1 1.41-1.41l5.84 5.83a1 1 0 0 1 0 1.42l-5.84 5.83a1 1 0 0 1-1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`,chevronTopSvg=b$2`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.54 11.04a1 1 0 0 1-1.41 0L8 5.92l-5.13 5.12a1 1 0 1 1-1.41-1.41l5.83-5.84a1 1 0 0 1 1.42 0l5.83 5.84a1 1 0 0 1 0 1.41Z"
    clip-rule="evenodd"
  />
</svg>`,chromeStoreSvg=b$2`<svg width="36" height="36" fill="none">
  <path
    fill="#fff"
    fill-opacity=".05"
    d="M0 14.94c0-5.55 0-8.326 1.182-10.4a9 9 0 0 1 3.359-3.358C6.614 0 9.389 0 14.94 0h6.12c5.55 0 8.326 0 10.4 1.182a9 9 0 0 1 3.358 3.359C36 6.614 36 9.389 36 14.94v6.12c0 5.55 0 8.326-1.182 10.4a9 9 0 0 1-3.359 3.358C29.386 36 26.611 36 21.06 36h-6.12c-5.55 0-8.326 0-10.4-1.182a9 9 0 0 1-3.358-3.359C0 29.386 0 26.611 0 21.06v-6.12Z"
  />
  <path
    stroke="#fff"
    stroke-opacity=".05"
    d="M14.94.5h6.12c2.785 0 4.84 0 6.46.146 1.612.144 2.743.43 3.691.97a8.5 8.5 0 0 1 3.172 3.173c.541.948.826 2.08.971 3.692.145 1.62.146 3.675.146 6.459v6.12c0 2.785 0 4.84-.146 6.46-.145 1.612-.43 2.743-.97 3.691a8.5 8.5 0 0 1-3.173 3.172c-.948.541-2.08.826-3.692.971-1.62.145-3.674.146-6.459.146h-6.12c-2.784 0-4.84 0-6.46-.146-1.612-.145-2.743-.43-3.691-.97a8.5 8.5 0 0 1-3.172-3.173c-.541-.948-.827-2.08-.971-3.692C.5 25.9.5 23.845.5 21.06v-6.12c0-2.784 0-4.84.146-6.46.144-1.612.43-2.743.97-3.691A8.5 8.5 0 0 1 4.79 1.617C5.737 1.076 6.869.79 8.48.646 10.1.5 12.156.5 14.94.5Z"
  />
  <path
    fill="url(#a)"
    d="M17.998 10.8h12.469a14.397 14.397 0 0 0-24.938.001l6.234 10.798.006-.001a7.19 7.19 0 0 1 6.23-10.799Z"
  />
  <path
    fill="url(#b)"
    d="m24.237 21.598-6.234 10.798A14.397 14.397 0 0 0 30.47 10.798H18.002l-.002.006a7.191 7.191 0 0 1 6.237 10.794Z"
  />
  <path
    fill="url(#c)"
    d="M11.765 21.601 5.531 10.803A14.396 14.396 0 0 0 18.001 32.4l6.235-10.798-.004-.004a7.19 7.19 0 0 1-12.466.004Z"
  />
  <path fill="#fff" d="M18 25.2a7.2 7.2 0 1 0 0-14.4 7.2 7.2 0 0 0 0 14.4Z" />
  <path fill="#1A73E8" d="M18 23.7a5.7 5.7 0 1 0 0-11.4 5.7 5.7 0 0 0 0 11.4Z" />
  <defs>
    <linearGradient
      id="a"
      x1="6.294"
      x2="41.1"
      y1="5.995"
      y2="5.995"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#D93025" />
      <stop offset="1" stop-color="#EA4335" />
    </linearGradient>
    <linearGradient
      id="b"
      x1="20.953"
      x2="37.194"
      y1="32.143"
      y2="2.701"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#FCC934" />
      <stop offset="1" stop-color="#FBBC04" />
    </linearGradient>
    <linearGradient
      id="c"
      x1="25.873"
      x2="9.632"
      y1="31.2"
      y2="1.759"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#1E8E3E" />
      <stop offset="1" stop-color="#34A853" />
    </linearGradient>
  </defs>
</svg>`,clockSvg=b$2`<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path 
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M7.00235 2C4.24 2 2.00067 4.23858 2.00067 7C2.00067 9.76142 4.24 12 7.00235 12C9.7647 12 12.004 9.76142 12.004 7C12.004 4.23858 9.7647 2 7.00235 2ZM0 7C0 3.13401 3.13506 0 7.00235 0C10.8696 0 14.0047 3.13401 14.0047 7C14.0047 10.866 10.8696 14 7.00235 14C3.13506 14 0 10.866 0 7ZM7.00235 3C7.55482 3 8.00269 3.44771 8.00269 4V6.58579L9.85327 8.43575C10.2439 8.82627 10.2439 9.45944 9.85327 9.84996C9.46262 10.2405 8.82924 10.2405 8.43858 9.84996L6.29501 7.70711C6.10741 7.51957 6.00201 7.26522 6.00201 7V4C6.00201 3.44771 6.44988 3 7.00235 3Z" 
    fill="currentColor"
  />
</svg>`,closeSvg=b$2`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M2.54 2.54a1 1 0 0 1 1.42 0L8 6.6l4.04-4.05a1 1 0 1 1 1.42 1.42L9.4 8l4.05 4.04a1 1 0 0 1-1.42 1.42L8 9.4l-4.04 4.05a1 1 0 0 1-1.42-1.42L6.6 8 2.54 3.96a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`,coinPlaceholderSvg=b$2`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 3a7 7 0 0 0-6.85 8.44l8.29-8.3C10.97 3.06 10.49 3 10 3Zm3.49.93-9.56 9.56c.32.55.71 1.06 1.16 1.5L15 5.1a7.03 7.03 0 0 0-1.5-1.16Zm2.7 2.8-9.46 9.46a7 7 0 0 0 9.46-9.46ZM1.99 5.9A9 9 0 1 1 18 14.09 9 9 0 0 1 1.98 5.91Z"
    clip-rule="evenodd"
  />
</svg>`,compassSvg=b$2`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 2a6 6 0 1 0 0 12A6 6 0 0 0 8 2ZM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm10.66-2.65a1 1 0 0 1 .23 1.06L9.83 9.24a1 1 0 0 1-.59.58l-2.83 1.06A1 1 0 0 1 5.13 9.6l1.06-2.82a1 1 0 0 1 .58-.59L9.6 5.12a1 1 0 0 1 1.06.23ZM7.9 7.89l-.13.35.35-.13.12-.35-.34.13Z"
    clip-rule="evenodd"
  />
</svg>`,copySvg=b$2`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M9.21498 1.28565H10.5944C11.1458 1.28562 11.6246 1.2856 12.0182 1.32093C12.4353 1.35836 12.853 1.44155 13.2486 1.66724C13.7005 1.92498 14.0749 2.29935 14.3326 2.75122C14.5583 3.14689 14.6415 3.56456 14.6789 3.9817C14.7143 4.37531 14.7142 4.85403 14.7142 5.40545V6.78489C14.7142 7.33631 14.7143 7.81503 14.6789 8.20865C14.6415 8.62578 14.5583 9.04345 14.3326 9.43912C14.0749 9.89099 13.7005 10.2654 13.2486 10.5231C12.853 10.7488 12.4353 10.832 12.0182 10.8694C11.7003 10.8979 11.3269 10.9034 10.9045 10.9045C10.9034 11.3269 10.8979 11.7003 10.8694 12.0182C10.832 12.4353 10.7488 12.853 10.5231 13.2486C10.2654 13.7005 9.89099 14.0749 9.43912 14.3326C9.04345 14.5583 8.62578 14.6415 8.20865 14.6789C7.81503 14.7143 7.33631 14.7142 6.78489 14.7142H5.40545C4.85403 14.7142 4.37531 14.7143 3.9817 14.6789C3.56456 14.6415 3.14689 14.5583 2.75122 14.3326C2.29935 14.0749 1.92498 13.7005 1.66724 13.2486C1.44155 12.853 1.35836 12.4353 1.32093 12.0182C1.2856 11.6246 1.28562 11.1458 1.28565 10.5944V9.21498C1.28562 8.66356 1.2856 8.18484 1.32093 7.79122C1.35836 7.37409 1.44155 6.95642 1.66724 6.56074C1.92498 6.10887 2.29935 5.73451 2.75122 5.47677C3.14689 5.25108 3.56456 5.16789 3.9817 5.13045C4.2996 5.10192 4.67301 5.09645 5.09541 5.09541C5.09645 4.67302 5.10192 4.2996 5.13045 3.9817C5.16789 3.56456 5.25108 3.14689 5.47676 2.75122C5.73451 2.29935 6.10887 1.92498 6.56074 1.66724C6.95642 1.44155 7.37409 1.35836 7.79122 1.32093C8.18484 1.2856 8.66356 1.28562 9.21498 1.28565ZM5.09541 7.09552C4.68397 7.09667 4.39263 7.10161 4.16046 7.12245C3.88053 7.14757 3.78516 7.18949 3.74214 7.21403C3.60139 7.29431 3.48478 7.41091 3.4045 7.55166C3.37997 7.59468 3.33804 7.69005 3.31292 7.96999C3.28659 8.26345 3.28565 8.65147 3.28565 9.25708V10.5523C3.28565 11.1579 3.28659 11.5459 3.31292 11.8394C3.33804 12.1193 3.37997 12.2147 3.4045 12.2577C3.48478 12.3985 3.60139 12.5151 3.74214 12.5954C3.78516 12.6199 3.88053 12.6618 4.16046 12.6869C4.45393 12.7133 4.84195 12.7142 5.44755 12.7142H6.74279C7.3484 12.7142 7.73641 12.7133 8.02988 12.6869C8.30981 12.6618 8.40518 12.6199 8.44821 12.5954C8.58895 12.5151 8.70556 12.3985 8.78584 12.2577C8.81038 12.2147 8.8523 12.1193 8.87742 11.8394C8.89825 11.6072 8.90319 11.3159 8.90435 10.9045C8.48219 10.9034 8.10898 10.8979 7.79122 10.8694C7.37409 10.832 6.95641 10.7488 6.56074 10.5231C6.10887 10.2654 5.73451 9.89099 5.47676 9.43912C5.25108 9.04345 5.16789 8.62578 5.13045 8.20865C5.10194 7.89089 5.09645 7.51767 5.09541 7.09552ZM7.96999 3.31292C7.69005 3.33804 7.59468 3.37997 7.55166 3.4045C7.41091 3.48478 7.29431 3.60139 7.21403 3.74214C7.18949 3.78516 7.14757 3.88053 7.12245 4.16046C7.09611 4.45393 7.09517 4.84195 7.09517 5.44755V6.74279C7.09517 7.3484 7.09611 7.73641 7.12245 8.02988C7.14757 8.30981 7.18949 8.40518 7.21403 8.4482C7.29431 8.58895 7.41091 8.70556 7.55166 8.78584C7.59468 8.81038 7.69005 8.8523 7.96999 8.87742C8.26345 8.90376 8.65147 8.9047 9.25708 8.9047H10.5523C11.1579 8.9047 11.5459 8.90376 11.8394 8.87742C12.1193 8.8523 12.2147 8.81038 12.2577 8.78584C12.3985 8.70556 12.5151 8.58895 12.5954 8.4482C12.6199 8.40518 12.6618 8.30981 12.6869 8.02988C12.7133 7.73641 12.7142 7.3484 12.7142 6.74279V5.44755C12.7142 4.84195 12.7133 4.45393 12.6869 4.16046C12.6618 3.88053 12.6199 3.78516 12.5954 3.74214C12.5151 3.60139 12.3985 3.48478 12.2577 3.4045C12.2147 3.37997 12.1193 3.33804 11.8394 3.31292C11.5459 3.28659 11.1579 3.28565 10.5523 3.28565H9.25708C8.65147 3.28565 8.26345 3.28659 7.96999 3.31292Z"
    fill="#788181"
  /></svg
>`,cursorSvg=b$2` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`,cursorTransparentSvg=b$2`<svg fill="none" viewBox="0 0 14 6">
  <path style="fill: var(--wui-color-bg-150);" d="M0 1h14L9.21 5.12a3.31 3.31 0 0 1-4.49 0L0 1Z" />
  <path
    style="stroke: var(--wui-color-inverse-100);"
    stroke-opacity=".05"
    d="M1.33 1.5h11.32L8.88 4.75l-.01.01a2.81 2.81 0 0 1-3.8 0l-.02-.01L1.33 1.5Z"
  />
  <path
    style="fill: var(--wui-color-bg-150);"
    d="M1.25.71h11.5L9.21 3.88a3.31 3.31 0 0 1-4.49 0L1.25.71Z"
  />
</svg> `,desktopSvg=b$2`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13.66 2H6.34c-1.07 0-1.96 0-2.68.08-.74.08-1.42.25-2.01.68a4 4 0 0 0-.89.89c-.43.6-.6 1.27-.68 2.01C0 6.38 0 7.26 0 8.34v.89c0 1.07 0 1.96.08 2.68.08.74.25 1.42.68 2.01a4 4 0 0 0 .89.89c.6.43 1.27.6 2.01.68a27 27 0 0 0 2.68.08h7.32a27 27 0 0 0 2.68-.08 4.03 4.03 0 0 0 2.01-.68 4 4 0 0 0 .89-.89c.43-.6.6-1.27.68-2.01.08-.72.08-1.6.08-2.68v-.89c0-1.07 0-1.96-.08-2.68a4.04 4.04 0 0 0-.68-2.01 4 4 0 0 0-.89-.89c-.6-.43-1.27-.6-2.01-.68C15.62 2 14.74 2 13.66 2ZM2.82 4.38c.2-.14.48-.25 1.06-.31C4.48 4 5.25 4 6.4 4h7.2c1.15 0 1.93 0 2.52.07.58.06.86.17 1.06.31a2 2 0 0 1 .44.44c.14.2.25.48.31 1.06.07.6.07 1.37.07 2.52v.77c0 1.15 0 1.93-.07 2.52-.06.58-.17.86-.31 1.06a2 2 0 0 1-.44.44c-.2.14-.48.25-1.06.32-.6.06-1.37.06-2.52.06H6.4c-1.15 0-1.93 0-2.52-.06-.58-.07-.86-.18-1.06-.32a2 2 0 0 1-.44-.44c-.14-.2-.25-.48-.31-1.06C2 11.1 2 10.32 2 9.17V8.4c0-1.15 0-1.93.07-2.52.06-.58.17-.86.31-1.06a2 2 0 0 1 .44-.44Z"
    clip-rule="evenodd"
  />
  <path fill="currentColor" d="M6.14 17.57a1 1 0 1 0 0 2h7.72a1 1 0 1 0 0-2H6.14Z" />
</svg>`,disconnectSvg=b$2`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.07 1h.57a1 1 0 0 1 0 2h-.52c-.98 0-1.64 0-2.14.06-.48.05-.7.14-.84.24-.13.1-.25.22-.34.35-.1.14-.2.35-.25.83-.05.5-.05 1.16-.05 2.15v2.74c0 .99 0 1.65.05 2.15.05.48.14.7.25.83.1.14.2.25.34.35.14.1.36.2.84.25.5.05 1.16.05 2.14.05h.52a1 1 0 0 1 0 2h-.57c-.92 0-1.69 0-2.3-.07a3.6 3.6 0 0 1-1.8-.61c-.3-.22-.57-.49-.8-.8a3.6 3.6 0 0 1-.6-1.79C.5 11.11.5 10.35.5 9.43V6.58c0-.92 0-1.7.06-2.31a3.6 3.6 0 0 1 .62-1.8c.22-.3.48-.57.79-.79a3.6 3.6 0 0 1 1.8-.61C4.37 1 5.14 1 6.06 1ZM9.5 3a1 1 0 0 1 1.42 0l4.28 4.3a1 1 0 0 1 0 1.4L10.93 13a1 1 0 0 1-1.42-1.42L12.1 9H6.8a1 1 0 1 1 0-2h5.3L9.51 4.42a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`,discordSvg=b$2`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`,etherscanSvg=b$2`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`,extensionSvg=b$2`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.71 2.99a.57.57 0 0 0-.57.57 1 1 0 0 1-1 1c-.58 0-.96 0-1.24.03-.27.03-.37.07-.42.1a.97.97 0 0 0-.36.35c-.04.08-.09.21-.11.67a2.57 2.57 0 0 1 0 5.13c.02.45.07.6.11.66.09.15.21.28.36.36.07.04.21.1.67.12a2.57 2.57 0 0 1 5.12 0c.46-.03.6-.08.67-.12a.97.97 0 0 0 .36-.36c.03-.04.07-.14.1-.41.02-.29.03-.66.03-1.24a1 1 0 0 1 1-1 .57.57 0 0 0 0-1.15 1 1 0 0 1-1-1c0-.58 0-.95-.03-1.24a1.04 1.04 0 0 0-.1-.42.97.97 0 0 0-.36-.36 1.04 1.04 0 0 0-.42-.1c-.28-.02-.65-.02-1.24-.02a1 1 0 0 1-1-1 .57.57 0 0 0-.57-.57ZM5.15 13.98a1 1 0 0 0 .99-1v-.78a.57.57 0 0 1 1.14 0v.78a1 1 0 0 0 .99 1H8.36a66.26 66.26 0 0 0 .73 0 3.78 3.78 0 0 0 1.84-.38c.46-.26.85-.64 1.1-1.1.23-.4.32-.8.36-1.22.02-.2.03-.4.03-.63a2.57 2.57 0 0 0 0-4.75c0-.23-.01-.44-.03-.63a2.96 2.96 0 0 0-.35-1.22 2.97 2.97 0 0 0-1.1-1.1c-.4-.22-.8-.31-1.22-.35a8.7 8.7 0 0 0-.64-.04 2.57 2.57 0 0 0-4.74 0c-.23 0-.44.02-.63.04-.42.04-.83.13-1.22.35-.46.26-.84.64-1.1 1.1-.33.57-.37 1.2-.39 1.84a21.39 21.39 0 0 0 0 .72v.1a1 1 0 0 0 1 .99h.78a.57.57 0 0 1 0 1.15h-.77a1 1 0 0 0-1 .98v.1a63.87 63.87 0 0 0 0 .73c0 .64.05 1.27.38 1.83.26.47.64.85 1.1 1.11.56.32 1.2.37 1.84.38a20.93 20.93 0 0 0 .72 0h.1Z"
    clip-rule="evenodd"
  />
</svg>`,externalLinkSvg=b$2`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.74 3.99a1 1 0 0 1 1-1H11a1 1 0 0 1 1 1v6.26a1 1 0 0 1-2 0V6.4l-6.3 6.3a1 1 0 0 1-1.4-1.42l6.29-6.3H4.74a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,facebookSvg=b$2`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,farcasterSvg=b$2`<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`,filtersSvg=b$2`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 3a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1Zm2.63 5.25a1 1 0 0 1 1-1h8.75a1 1 0 1 1 0 2H3.63a1 1 0 0 1-1-1Zm2.62 5.25a1 1 0 0 1 1-1h3.5a1 1 0 0 1 0 2h-3.5a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,githubSvg=b$2`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,googleSvg$1=b$2`<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`,helpCircleSvg=b$2`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M8.51 5.66a.83.83 0 0 0-.57-.2.83.83 0 0 0-.52.28.8.8 0 0 0-.25.52 1 1 0 0 1-2 0c0-.75.34-1.43.81-1.91a2.75 2.75 0 0 1 4.78 1.92c0 1.24-.8 1.86-1.25 2.2l-.04.03c-.47.36-.5.43-.5.65a1 1 0 1 1-2 0c0-1.25.8-1.86 1.24-2.2l.04-.04c.47-.36.5-.43.5-.65 0-.3-.1-.49-.24-.6ZM9.12 11.87a1.13 1.13 0 1 1-2.25 0 1.13 1.13 0 0 1 2.25 0Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6a6 6 0 1 0 0 12A6 6 0 0 0 8 2Z"
    clip-rule="evenodd"
  />
</svg>`,imageSvg=b$2`<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path d="M4.98926 3.73932C4.2989 3.73932 3.73926 4.29896 3.73926 4.98932C3.73926 5.67968 4.2989 6.23932 4.98926 6.23932C5.67962 6.23932 6.23926 5.67968 6.23926 4.98932C6.23926 4.29896 5.67962 3.73932 4.98926 3.73932Z" fill="currentColor"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.60497 0.500001H6.39504C5.41068 0.499977 4.59185 0.499958 3.93178 0.571471C3.24075 0.64634 2.60613 0.809093 2.04581 1.21619C1.72745 1.44749 1.44749 1.72745 1.21619 2.04581C0.809093 2.60613 0.64634 3.24075 0.571471 3.93178C0.499958 4.59185 0.499977 5.41065 0.500001 6.39501V7.57815C0.499998 8.37476 0.499995 9.05726 0.534869 9.62725C0.570123 10.2034 0.644114 10.7419 0.828442 11.2302C0.925651 11.4877 1.05235 11.7287 1.21619 11.9542C1.44749 12.2726 1.72745 12.5525 2.04581 12.7838C2.60613 13.1909 3.24075 13.3537 3.93178 13.4285C4.59185 13.5001 5.41066 13.5 6.39503 13.5H7.60496C8.58933 13.5 9.40815 13.5001 10.0682 13.4285C10.7593 13.3537 11.3939 13.1909 11.9542 12.7838C12.2726 12.5525 12.5525 12.2726 12.7838 11.9542C13.1909 11.3939 13.3537 10.7593 13.4285 10.0682C13.5 9.40816 13.5 8.58935 13.5 7.60497V6.39505C13.5 5.41068 13.5 4.59185 13.4285 3.93178C13.3537 3.24075 13.1909 2.60613 12.7838 2.04581C12.5525 1.72745 12.2726 1.44749 11.9542 1.21619C11.3939 0.809093 10.7593 0.64634 10.0682 0.571471C9.40816 0.499958 8.58933 0.499977 7.60497 0.500001ZM3.22138 2.83422C3.38394 2.71612 3.62634 2.61627 4.14721 2.55984C4.68679 2.50138 5.39655 2.5 6.45 2.5H7.55C8.60345 2.5 9.31322 2.50138 9.8528 2.55984C10.3737 2.61627 10.6161 2.71612 10.7786 2.83422C10.9272 2.94216 11.0578 3.07281 11.1658 3.22138C11.2839 3.38394 11.3837 3.62634 11.4402 4.14721C11.4986 4.68679 11.5 5.39655 11.5 6.45V6.49703C10.9674 6.11617 10.386 5.84936 9.74213 5.81948C8.40536 5.75745 7.3556 6.73051 6.40509 7.84229C6.33236 7.92737 6.27406 7.98735 6.22971 8.02911L6.1919 8.00514L6.17483 7.99427C6.09523 7.94353 5.98115 7.87083 5.85596 7.80302C5.56887 7.64752 5.18012 7.4921 4.68105 7.4921C4.66697 7.4921 4.6529 7.49239 4.63884 7.49299C3.79163 7.52878 3.09922 8.1106 2.62901 8.55472C2.58751 8.59392 2.54594 8.6339 2.50435 8.6745C2.50011 8.34653 2.5 7.97569 2.5 7.55V6.45C2.5 5.39655 2.50138 4.68679 2.55984 4.14721C2.61627 3.62634 2.71612 3.38394 2.83422 3.22138C2.94216 3.07281 3.07281 2.94216 3.22138 2.83422ZM10.3703 8.14825C10.6798 8.37526 11.043 8.71839 11.4832 9.20889C11.4744 9.44992 11.4608 9.662 11.4402 9.8528C11.3837 10.3737 11.2839 10.6161 11.1658 10.7786C11.0578 10.9272 10.9272 11.0578 10.7786 11.1658C10.6161 11.2839 10.3737 11.3837 9.8528 11.4402C9.31322 11.4986 8.60345 11.5 7.55 11.5H6.45C5.39655 11.5 4.68679 11.4986 4.14721 11.4402C3.62634 11.3837 3.38394 11.2839 3.22138 11.1658C3.15484 11.1174 3.0919 11.0645 3.03298 11.0075C3.10126 10.9356 3.16806 10.8649 3.23317 10.7959L3.29772 10.7276C3.55763 10.4525 3.78639 10.2126 4.00232 10.0087C4.22016 9.80294 4.39412 9.66364 4.53524 9.57742C4.63352 9.51738 4.69022 9.49897 4.71275 9.49345C4.76387 9.49804 4.81803 9.51537 4.90343 9.56162C4.96409 9.59447 5.02355 9.63225 5.11802 9.69238L5.12363 9.69595C5.20522 9.74789 5.32771 9.82587 5.46078 9.89278C5.76529 10.0459 6.21427 10.186 6.74977 10.0158C7.21485 9.86796 7.59367 9.52979 7.92525 9.14195C8.91377 7.98571 9.38267 7.80495 9.64941 7.81733C9.7858 7.82366 10.0101 7.884 10.3703 8.14825Z" fill="currentColor"/>
</svg>`,infoCircleSvg=b$2`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    d="M6 10.49a1 1 0 1 0 2 0v-2a1 1 0 0 0-2 0v2ZM7 4.49a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 14.99a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm5-7a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"
    clip-rule="evenodd"
  />
</svg>`,mailSvg=b$2`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.83 1.34h6.34c.68 0 1.26 0 1.73.04.5.05.97.15 1.42.4.52.3.95.72 1.24 1.24.26.45.35.92.4 1.42.04.47.04 1.05.04 1.73v3.71c0 .69 0 1.26-.04 1.74-.05.5-.14.97-.4 1.41-.3.52-.72.95-1.24 1.25-.45.25-.92.35-1.42.4-.47.03-1.05.03-1.73.03H4.83c-.68 0-1.26 0-1.73-.04-.5-.04-.97-.14-1.42-.4-.52-.29-.95-.72-1.24-1.24a3.39 3.39 0 0 1-.4-1.41A20.9 20.9 0 0 1 0 9.88v-3.7c0-.7 0-1.27.04-1.74.05-.5.14-.97.4-1.42.3-.52.72-.95 1.24-1.24.45-.25.92-.35 1.42-.4.47-.04 1.05-.04 1.73-.04ZM3.28 3.38c-.36.03-.51.08-.6.14-.21.11-.39.29-.5.5a.8.8 0 0 0-.08.19l5.16 3.44c.45.3 1.03.3 1.48 0L13.9 4.2a.79.79 0 0 0-.08-.2c-.11-.2-.29-.38-.5-.5-.09-.05-.24-.1-.6-.13-.37-.04-.86-.04-1.6-.04H4.88c-.73 0-1.22 0-1.6.04ZM14 6.54 9.85 9.31a3.33 3.33 0 0 1-3.7 0L2 6.54v3.3c0 .74 0 1.22.03 1.6.04.36.1.5.15.6.11.2.29.38.5.5.09.05.24.1.6.14.37.03.86.03 1.6.03h6.25c.73 0 1.22 0 1.6-.03.35-.03.5-.09.6-.14.2-.12.38-.3.5-.5.05-.1.1-.24.14-.6.03-.38.03-.86.03-1.6v-3.3Z"
    clip-rule="evenodd"
  />
</svg>`,mobileSvg=b$2`<svg fill="none" viewBox="0 0 20 20">
  <path fill="currentColor" d="M10.81 5.81a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z" />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3 4.75A4.75 4.75 0 0 1 7.75 0h4.5A4.75 4.75 0 0 1 17 4.75v10.5A4.75 4.75 0 0 1 12.25 20h-4.5A4.75 4.75 0 0 1 3 15.25V4.75ZM7.75 2A2.75 2.75 0 0 0 5 4.75v10.5A2.75 2.75 0 0 0 7.75 18h4.5A2.75 2.75 0 0 0 15 15.25V4.75A2.75 2.75 0 0 0 12.25 2h-4.5Z"
    clip-rule="evenodd"
  />
</svg>`,moreSvg=b$2`<svg fill="none" viewBox="0 0 41 40">
  <path
    style="fill: var(--wui-color-fg-100);"
    fill-opacity=".05"
    d="M.6 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z"
  />
  <path
    fill="#949E9E"
    d="M15.6 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM23.1 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM28.1 22.81a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"
  />
</svg>`,networkPlaceholderSvg=b$2`<svg fill="none" viewBox="0 0 22 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M16.32 13.62a3.14 3.14 0 1 1-.99 1.72l-1.6-.93a3.83 3.83 0 0 1-3.71 1 3.66 3.66 0 0 1-1.74-1l-1.6.94a3.14 3.14 0 1 1-1-1.73l1.6-.94a3.7 3.7 0 0 1 0-2 3.81 3.81 0 0 1 1.8-2.33c.29-.17.6-.3.92-.38V6.1a3.14 3.14 0 1 1 2 0l-.01.02v1.85H12a3.82 3.82 0 0 1 2.33 1.8 3.7 3.7 0 0 1 .39 2.91l1.6.93ZM2.6 16.54a1.14 1.14 0 0 0 1.98-1.14 1.14 1.14 0 0 0-1.98 1.14ZM11 2.01a1.14 1.14 0 1 0 0 2.28 1.14 1.14 0 0 0 0-2.28Zm1.68 10.45c.08-.19.14-.38.16-.58v-.05l.02-.13v-.13a1.92 1.92 0 0 0-.24-.8l-.11-.15a1.89 1.89 0 0 0-.74-.6 1.86 1.86 0 0 0-.77-.17h-.19a1.97 1.97 0 0 0-.89.34 1.98 1.98 0 0 0-.61.74 1.99 1.99 0 0 0-.16.9v.05a1.87 1.87 0 0 0 .24.74l.1.15c.12.16.26.3.42.42l.16.1.13.07.04.02a1.84 1.84 0 0 0 .76.17h.17a2 2 0 0 0 .91-.35 1.78 1.78 0 0 0 .52-.58l.03-.05a.84.84 0 0 0 .05-.11Zm5.15 4.5a1.14 1.14 0 0 0 1.14-1.97 1.13 1.13 0 0 0-1.55.41c-.32.55-.13 1.25.41 1.56Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.63 9.43a1.5 1.5 0 1 0 1.5-2.6 1.5 1.5 0 0 0-1.5 2.6Zm.32-1.55a.5.5 0 0 1 .68-.19.5.5 0 0 1 .18.68.5.5 0 0 1-.68.19.5.5 0 0 1-.18-.68ZM17.94 8.88a1.5 1.5 0 1 1-2.6-1.5 1.5 1.5 0 1 1 2.6 1.5ZM16.9 7.69a.5.5 0 0 0-.68.19.5.5 0 0 0 .18.68.5.5 0 0 0 .68-.19.5.5 0 0 0-.18-.68ZM9.75 17.75a1.5 1.5 0 1 1 2.6 1.5 1.5 1.5 0 1 1-2.6-1.5Zm1.05 1.18a.5.5 0 0 0 .68-.18.5.5 0 0 0-.18-.68.5.5 0 0 0-.68.18.5.5 0 0 0 .18.68Z"
    clip-rule="evenodd"
  />
</svg>`,nftPlaceholderSvg=b$2`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.13 1h1.71c1.46 0 2.63 0 3.56.1.97.1 1.8.33 2.53.85a5 5 0 0 1 1.1 1.11c.53.73.75 1.56.86 2.53.1.93.1 2.1.1 3.55v1.72c0 1.45 0 2.62-.1 3.55-.1.97-.33 1.8-.86 2.53a5 5 0 0 1-1.1 1.1c-.73.53-1.56.75-2.53.86-.93.1-2.1.1-3.55.1H9.13c-1.45 0-2.62 0-3.56-.1-.96-.1-1.8-.33-2.52-.85a5 5 0 0 1-1.1-1.11 5.05 5.05 0 0 1-.86-2.53c-.1-.93-.1-2.1-.1-3.55V9.14c0-1.45 0-2.62.1-3.55.1-.97.33-1.8.85-2.53a5 5 0 0 1 1.1-1.1 5.05 5.05 0 0 1 2.53-.86C6.51 1 7.67 1 9.13 1ZM5.79 3.09a3.1 3.1 0 0 0-1.57.48 3 3 0 0 0-.66.67c-.24.32-.4.77-.48 1.56-.1.82-.1 1.88-.1 3.4v1.6c0 1.15 0 2.04.05 2.76l.41-.42c.5-.5.93-.92 1.32-1.24.41-.33.86-.6 1.43-.7a3 3 0 0 1 .94 0c.35.06.66.2.95.37a17.11 17.11 0 0 0 .8.45c.1-.08.2-.2.41-.4l.04-.03a27 27 0 0 1 1.95-1.84 4.03 4.03 0 0 1 1.91-.94 4 4 0 0 1 1.25 0c.73.11 1.33.46 1.91.94l.64.55V9.2c0-1.52 0-2.58-.1-3.4a3.1 3.1 0 0 0-.48-1.56 3 3 0 0 0-.66-.67 3.1 3.1 0 0 0-1.56-.48C13.37 3 12.3 3 10.79 3h-1.6c-1.52 0-2.59 0-3.4.09Zm11.18 10-.04-.05a26.24 26.24 0 0 0-1.83-1.74c-.45-.36-.73-.48-.97-.52a2 2 0 0 0-.63 0c-.24.04-.51.16-.97.52-.46.38-1.01.93-1.83 1.74l-.02.02c-.17.18-.34.34-.49.47a2.04 2.04 0 0 1-1.08.5 1.97 1.97 0 0 1-1.25-.27l-.79-.46-.02-.02a.65.65 0 0 0-.24-.1 1 1 0 0 0-.31 0c-.08.02-.21.06-.49.28-.3.24-.65.59-1.2 1.14l-.56.56-.65.66a3 3 0 0 0 .62.6c.33.24.77.4 1.57.49.81.09 1.88.09 3.4.09h1.6c1.52 0 2.58 0 3.4-.09a3.1 3.1 0 0 0 1.56-.48 3 3 0 0 0 .66-.67c.24-.32.4-.77.49-1.56l.07-1.12Zm-8.02-1.03ZM4.99 7a2 2 0 1 1 4 0 2 2 0 0 1-4 0Z"
    clip-rule="evenodd"
  />
</svg>`,offSvg=b$2`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 0a1 1 0 0 1 1 1v5.38a1 1 0 0 1-2 0V1a1 1 0 0 1 1-1ZM5.26 2.6a1 1 0 0 1-.28 1.39 5.46 5.46 0 1 0 6.04 0 1 1 0 1 1 1.1-1.67 7.46 7.46 0 1 1-8.25 0 1 1 0 0 1 1.4.28Z"
    clip-rule="evenodd"
  />
</svg>`,playStoreSvg=b$2` <svg
  width="36"
  height="36"
  fill="none"
>
  <path
    d="M0 8a8 8 0 0 1 8-8h20a8 8 0 0 1 8 8v20a8 8 0 0 1-8 8H8a8 8 0 0 1-8-8V8Z"
    fill="#fff"
    fill-opacity=".05"
  />
  <path
    d="m18.262 17.513-8.944 9.49v.01a2.417 2.417 0 0 0 3.56 1.452l.026-.017 10.061-5.803-4.703-5.132Z"
    fill="#EA4335"
  />
  <path
    d="m27.307 15.9-.008-.008-4.342-2.52-4.896 4.36 4.913 4.912 4.325-2.494a2.42 2.42 0 0 0 .008-4.25Z"
    fill="#FBBC04"
  />
  <path
    d="M9.318 8.997c-.05.202-.084.403-.084.622V26.39c0 .218.025.42.084.621l9.246-9.247-9.246-8.768Z"
    fill="#4285F4"
  />
  <path
    d="m18.33 18 4.627-4.628-10.053-5.828a2.427 2.427 0 0 0-3.586 1.444L18.329 18Z"
    fill="#34A853"
  />
  <path
    d="M8 .5h20A7.5 7.5 0 0 1 35.5 8v20a7.5 7.5 0 0 1-7.5 7.5H8A7.5 7.5 0 0 1 .5 28V8A7.5 7.5 0 0 1 8 .5Z"
    stroke="#fff"
    stroke-opacity=".05"
  />
</svg>`,plusSvg=b$2`<svg
  width="13"
  height="12"
  viewBox="0 0 13 12"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M0.794373 5.99982C0.794373 5.52643 1.17812 5.14268 1.6515 5.14268H5.643V1.15109C5.643 0.677701 6.02675 0.293946 6.50012 0.293945C6.9735 0.293946 7.35725 0.677701 7.35725 1.15109V5.14268H11.3488C11.8221 5.14268 12.2059 5.52643 12.2059 5.99982C12.2059 6.47321 11.8221 6.85696 11.3488 6.85696H7.35725V10.8486C7.35725 11.3219 6.9735 11.7057 6.50012 11.7057C6.02675 11.7057 5.643 11.3219 5.643 10.8486V6.85696H1.6515C1.17812 6.85696 0.794373 6.47321 0.794373 5.99982Z"
  /></svg
>`,qrCodeIcon=b$2`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M3 6a3 3 0 0 1 3-3h1a1 1 0 1 0 0-2H6a5 5 0 0 0-5 5v1a1 1 0 0 0 2 0V6ZM13 1a1 1 0 1 0 0 2h1a3 3 0 0 1 3 3v1a1 1 0 1 0 2 0V6a5 5 0 0 0-5-5h-1ZM3 13a1 1 0 1 0-2 0v1a5 5 0 0 0 5 5h1a1 1 0 1 0 0-2H6a3 3 0 0 1-3-3v-1ZM19 13a1 1 0 1 0-2 0v1a3 3 0 0 1-3 3h-1a1 1 0 1 0 0 2h1.01a5 5 0 0 0 5-5v-1ZM5.3 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05A1.5 1.5 0 0 0 9.2 8.14c.06-.2.06-.43.06-.89s0-.7-.06-.89A1.5 1.5 0 0 0 8.14 5.3c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM10.8 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM5.26 12.75c0-.46 0-.7.05-.89a1.5 1.5 0 0 1 1.06-1.06c.19-.05.42-.05.89-.05.46 0 .7 0 .88.05.52.14.93.54 1.06 1.06.06.2.06.43.06.89s0 .7-.06.89a1.5 1.5 0 0 1-1.06 1.06c-.19.05-.42.05-.88.05-.47 0-.7 0-.9-.05a1.5 1.5 0 0 1-1.05-1.06c-.05-.2-.05-.43-.05-.89ZM10.8 11.86c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06Z"
  />
</svg>`,recycleHorizontalSvg=b$2`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    d="M8.8071 0.292893C9.19763 0.683417 9.19763 1.31658 8.8071 1.70711L6.91421 3.6H11.8404C14.3368 3.6 16.5533 5.1975 17.3427 7.56588L17.4487 7.88377C17.6233 8.40772 17.3402 8.97404 16.8162 9.14868C16.2923 9.32333 15.726 9.04017 15.5513 8.51623L15.4453 8.19834C14.9281 6.64664 13.476 5.6 11.8404 5.6H6.91421L8.8071 7.49289C9.19763 7.88342 9.19763 8.51658 8.8071 8.90711C8.41658 9.29763 7.78341 9.29763 7.39289 8.90711L3.79289 5.30711C3.40236 4.91658 3.40236 4.28342 3.79289 3.89289L7.39289 0.292893C7.78341 -0.0976311 8.41658 -0.0976311 8.8071 0.292893ZM4.18377 10.8513C4.70771 10.6767 5.27403 10.9598 5.44868 11.4838L5.55464 11.8017C6.07188 13.3534 7.52401 14.4 9.15964 14.4L14.0858 14.4L12.1929 12.5071C11.8024 12.1166 11.8024 11.4834 12.1929 11.0929C12.5834 10.7024 13.2166 10.7024 13.6071 11.0929L17.2071 14.6929C17.5976 15.0834 17.5976 15.7166 17.2071 16.1071L13.6071 19.7071C13.2166 20.0976 12.5834 20.0976 12.1929 19.7071C11.8024 19.3166 11.8024 18.6834 12.1929 18.2929L14.0858 16.4L9.15964 16.4C6.66314 16.4 4.44674 14.8025 3.65728 12.4341L3.55131 12.1162C3.37667 11.5923 3.65983 11.026 4.18377 10.8513Z"
  /></svg
>`,refreshSvg=b$2`<svg fill="none" viewBox="0 0 14 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.94 1.04a1 1 0 0 1 .7 1.23l-.48 1.68a5.85 5.85 0 0 1 8.53 4.32 5.86 5.86 0 0 1-11.4 2.56 1 1 0 0 1 1.9-.57 3.86 3.86 0 1 0 1.83-4.5l1.87.53a1 1 0 0 1-.55 1.92l-4.1-1.15a1 1 0 0 1-.69-1.23l1.16-4.1a1 1 0 0 1 1.23-.7Z"
    clip-rule="evenodd"
  />
</svg>`,searchSvg=b$2`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.36 4.21a5.14 5.14 0 1 0 0 10.29 5.14 5.14 0 0 0 0-10.29ZM1.64 9.36a7.71 7.71 0 1 1 14 4.47l2.52 2.5a1.29 1.29 0 1 1-1.82 1.83l-2.51-2.51A7.71 7.71 0 0 1 1.65 9.36Z"
    clip-rule="evenodd"
  />
</svg>`,sendSvg=b$2`<svg fill="none" viewBox="0 0 21 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.3808 4.34812C13.72 4.47798 12.8501 4.7587 11.5748 5.17296L9.00869 6.00646C6.90631 6.68935 5.40679 7.17779 4.38121 7.63178C3.87166 7.85734 3.5351 8.05091 3.32022 8.22035C3.11183 8.38466 3.07011 8.48486 3.05969 8.51817C2.98058 8.77103 2.98009 9.04195 3.05831 9.29509C3.06861 9.32844 3.10998 9.42878 3.31777 9.59384C3.53205 9.76404 3.86792 9.95881 4.37667 10.1862C5.29287 10.5957 6.58844 11.0341 8.35529 11.6164L10.8876 8.59854C11.2426 8.17547 11.8733 8.12028 12.2964 8.47528C12.7195 8.83029 12.7746 9.46104 12.4196 9.88412L9.88738 12.9019C10.7676 14.5408 11.4244 15.7406 11.9867 16.5718C12.299 17.0333 12.5491 17.3303 12.7539 17.5117C12.9526 17.6877 13.0586 17.711 13.0932 17.7154C13.3561 17.7484 13.6228 17.7009 13.8581 17.5791C13.8891 17.563 13.9805 17.5046 14.1061 17.2708C14.2357 17.0298 14.3679 16.6647 14.5015 16.1237C14.7705 15.0349 14.9912 13.4733 15.2986 11.2843L15.6738 8.61249C15.8603 7.28456 15.9857 6.37917 15.9989 5.7059C16.012 5.03702 15.9047 4.8056 15.8145 4.69183C15.7044 4.55297 15.5673 4.43792 15.4114 4.35365C15.2837 4.28459 15.0372 4.2191 14.3808 4.34812ZM7.99373 13.603C6.11919 12.9864 4.6304 12.4902 3.5606 12.0121C2.98683 11.7557 2.4778 11.4808 2.07383 11.1599C1.66337 10.8339 1.31312 10.4217 1.14744 9.88551C0.949667 9.24541 0.950886 8.56035 1.15094 7.92096C1.31852 7.38534 1.67024 6.97442 2.08185 6.64985C2.48697 6.33041 2.99697 6.05734 3.57166 5.80295C4.70309 5.3021 6.30179 4.78283 8.32903 4.12437L11.0196 3.25042C12.2166 2.86159 13.2017 2.54158 13.9951 2.38566C14.8065 2.22618 15.6202 2.19289 16.3627 2.59437C16.7568 2.80747 17.1035 3.09839 17.3818 3.4495C17.9062 4.111 18.0147 4.91815 17.9985 5.74496C17.9827 6.55332 17.8386 7.57903 17.6636 8.82534L17.2701 11.6268C16.9737 13.7376 16.7399 15.4022 16.4432 16.6034C16.2924 17.2135 16.1121 17.7632 15.8678 18.2176C15.6197 18.6794 15.2761 19.0971 14.7777 19.3551C14.1827 19.6632 13.5083 19.7833 12.8436 19.6997C12.2867 19.6297 11.82 19.3563 11.4277 19.0087C11.0415 18.6666 10.6824 18.213 10.3302 17.6925C9.67361 16.722 8.92648 15.342 7.99373 13.603Z"
    clip-rule="evenodd"
  />
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="21"
    height="20"
    viewBox="0 0 21 20"
    fill="none"
  ></svg></svg
>`,swapHorizontalSvg=b$2`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.76.3a1 1 0 0 1 0 1.4L4.07 4.4h9a1 1 0 1 1 0 2h-9l2.69 2.68a1 1 0 1 1-1.42 1.42L.95 6.09a1 1 0 0 1 0-1.4l4.4-4.4a1 1 0 0 1 1.4 0Zm6.49 9.21a1 1 0 0 1 1.41 0l4.39 4.4a1 1 0 0 1 0 1.4l-4.39 4.4a1 1 0 0 1-1.41-1.42l2.68-2.68h-9a1 1 0 0 1 0-2h9l-2.68-2.68a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`,swapHorizontalBoldSvg=b$2`<svg width="10" height="10" viewBox="0 0 10 10">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.77986 0.566631C4.0589 0.845577 4.0589 1.29784 3.77986 1.57678L3.08261 2.2738H6.34184C6.73647 2.2738 7.05637 2.5936 7.05637 2.98808C7.05637 3.38257 6.73647 3.70237 6.34184 3.70237H3.08261L3.77986 4.39938C4.0589 4.67833 4.0589 5.13059 3.77986 5.40954C3.50082 5.68848 3.04841 5.68848 2.76937 5.40954L0.852346 3.49316C0.573306 3.21421 0.573306 2.76195 0.852346 2.48301L2.76937 0.566631C3.04841 0.287685 3.50082 0.287685 3.77986 0.566631ZM6.22 4.59102C6.49904 4.31208 6.95145 4.31208 7.23049 4.59102L9.14751 6.5074C9.42655 6.78634 9.42655 7.23861 9.14751 7.51755L7.23049 9.43393C6.95145 9.71287 6.49904 9.71287 6.22 9.43393C5.94096 9.15498 5.94096 8.70272 6.22 8.42377L6.91725 7.72676L3.65802 7.72676C3.26339 7.72676 2.94349 7.40696 2.94349 7.01247C2.94349 6.61798 3.26339 6.29819 3.65802 6.29819L6.91725 6.29819L6.22 5.60117C5.94096 5.32223 5.94096 4.86997 6.22 4.59102Z"
    clip-rule="evenodd"
  />
</svg>`,swapHorizontalMediumSvg=b$2`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M13.7306 3.24213C14.0725 3.58384 14.0725 4.13786 13.7306 4.47957L10.7418 7.46737C10.4 7.80908 9.84581 7.80908 9.50399 7.46737C9.16216 7.12567 9.16216 6.57165 9.50399 6.22994L10.9986 4.73585H5.34082C4.85741 4.73585 4.46553 4.3441 4.46553 3.86085C4.46553 3.3776 4.85741 2.98585 5.34082 2.98585L10.9986 2.98585L9.50399 1.49177C9.16216 1.15006 9.16216 0.596037 9.50399 0.254328C9.84581 -0.0873803 10.4 -0.0873803 10.7418 0.254328L13.7306 3.24213ZM9.52515 10.1352C9.52515 10.6185 9.13327 11.0102 8.64986 11.0102L2.9921 11.0102L4.48669 12.5043C4.82852 12.846 4.82852 13.4001 4.48669 13.7418C4.14487 14.0835 3.59066 14.0835 3.24884 13.7418L0.26003 10.754C0.0958806 10.5899 0.0036621 10.3673 0.00366211 10.1352C0.00366212 9.90318 0.0958806 9.68062 0.26003 9.51652L3.24884 6.52872C3.59066 6.18701 4.14487 6.18701 4.48669 6.52872C4.82851 6.87043 4.82851 7.42445 4.48669 7.76616L2.9921 9.26024L8.64986 9.26024C9.13327 9.26024 9.52515 9.65199 9.52515 10.1352Z"
    fill="currentColor"
  />
</svg>

`,swapHorizontalRoundedBoldSvg=b$2`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
  <path 
    fill="currentColor"
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M8.3071 0.292893C8.69763 0.683417 8.69763 1.31658 8.3071 1.70711L6.41421 3.6H11.3404C13.8368 3.6 16.0533 5.1975 16.8427 7.56588L16.9487 7.88377C17.1233 8.40772 16.8402 8.97404 16.3162 9.14868C15.7923 9.32333 15.226 9.04017 15.0513 8.51623L14.9453 8.19834C14.4281 6.64664 12.976 5.6 11.3404 5.6H6.41421L8.3071 7.49289C8.69763 7.88342 8.69763 8.51658 8.3071 8.90711C7.91658 9.29763 7.28341 9.29763 6.89289 8.90711L3.29289 5.30711C2.90236 4.91658 2.90236 4.28342 3.29289 3.89289L6.89289 0.292893C7.28341 -0.0976311 7.91658 -0.0976311 8.3071 0.292893ZM3.68377 10.8513C4.20771 10.6767 4.77403 10.9598 4.94868 11.4838L5.05464 11.8017C5.57188 13.3534 7.024 14.4 8.65964 14.4L13.5858 14.4L11.6929 12.5071C11.3024 12.1166 11.3024 11.4834 11.6929 11.0929C12.0834 10.7024 12.7166 10.7024 13.1071 11.0929L16.7071 14.6929C17.0976 15.0834 17.0976 15.7166 16.7071 16.1071L13.1071 19.7071C12.7166 20.0976 12.0834 20.0976 11.6929 19.7071C11.3024 19.3166 11.3024 18.6834 11.6929 18.2929L13.5858 16.4L8.65964 16.4C6.16314 16.4 3.94674 14.8025 3.15728 12.4341L3.05131 12.1162C2.87667 11.5923 3.15983 11.026 3.68377 10.8513Z" 
  />
</svg>`,swapVerticalSvg=b$2`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.48 2.18a1 1 0 0 1 1.41 0l2.68 2.68a1 1 0 1 1-1.41 1.42l-.98-.98v4.56a1 1 0 0 1-2 0V5.3l-.97.98A1 1 0 0 1 .79 4.86l2.69-2.68Zm6.34 2.93a1 1 0 0 1 1 1v4.56l.97-.98a1 1 0 1 1 1.42 1.42l-2.69 2.68a1 1 0 0 1-1.41 0l-2.68-2.68a1 1 0 0 1 1.41-1.42l.98.98V6.1a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`,telegramSvg=b$2`<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`,threeDotsSvg=b$2`<svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M7 3.71875C6.0335 3.71875 5.25 2.93525 5.25 1.96875C5.25 1.00225 6.0335 0.21875 7 0.21875C7.9665 0.21875 8.75 1.00225 8.75 1.96875C8.75 2.93525 7.9665 3.71875 7 3.71875Z" fill="#949E9E"/>
  <path d="M7 8.96875C6.0335 8.96875 5.25 8.18525 5.25 7.21875C5.25 6.25225 6.0335 5.46875 7 5.46875C7.9665 5.46875 8.75 6.25225 8.75 7.21875C8.75 8.18525 7.9665 8.96875 7 8.96875Z" fill="#949E9E"/>
  <path d="M5.25 12.4688C5.25 13.4352 6.0335 14.2187 7 14.2187C7.9665 14.2187 8.75 13.4352 8.75 12.4688C8.75 11.5023 7.9665 10.7188 7 10.7188C6.0335 10.7188 5.25 11.5023 5.25 12.4688Z" fill="#949E9E"/>
</svg>`,twitchSvg=b$2`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,twitterIconSvg=b$2`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`,verifySvg=b$2`<svg fill="none" viewBox="0 0 28 28">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M18.1 4.76c-.42-.73-1.33-1.01-2.09-.66l-1.42.66c-.37.18-.8.18-1.18 0l-1.4-.65a1.63 1.63 0 0 0-2.1.66l-.84 1.45c-.2.34-.53.59-.92.67l-1.7.35c-.83.17-1.39.94-1.3 1.78l.19 1.56c.04.39-.08.78-.33 1.07l-1.12 1.3c-.52.6-.52 1.5 0 2.11L5 16.38c.25.3.37.68.33 1.06l-.18 1.57c-.1.83.46 1.6 1.28 1.78l1.7.35c.4.08.73.32.93.66l.84 1.43a1.63 1.63 0 0 0 2.09.66l1.41-.66c.37-.17.8-.17 1.18 0l1.43.67c.76.35 1.66.07 2.08-.65l.86-1.45c.2-.34.54-.58.92-.66l1.68-.35A1.63 1.63 0 0 0 22.84 19l-.18-1.57a1.4 1.4 0 0 1 .33-1.06l1.12-1.32c.52-.6.52-1.5 0-2.11l-1.12-1.3a1.4 1.4 0 0 1-.33-1.07l.18-1.57c.1-.83-.46-1.6-1.28-1.77l-1.68-.35a1.4 1.4 0 0 1-.92-.66l-.86-1.47Zm-3.27-3.2a4.43 4.43 0 0 1 5.69 1.78l.54.93 1.07.22a4.43 4.43 0 0 1 3.5 4.84l-.11.96.7.83a4.43 4.43 0 0 1 .02 5.76l-.72.85.1.96a4.43 4.43 0 0 1-3.5 4.84l-1.06.22-.54.92a4.43 4.43 0 0 1-5.68 1.77l-.84-.4-.82.39a4.43 4.43 0 0 1-5.7-1.79l-.51-.89-1.09-.22a4.43 4.43 0 0 1-3.5-4.84l.1-.96-.72-.85a4.43 4.43 0 0 1 .01-5.76l.71-.83-.1-.95a4.43 4.43 0 0 1 3.5-4.84l1.08-.23.53-.9a4.43 4.43 0 0 1 5.7-1.8l.81.38.83-.39ZM18.2 9.4c.65.42.84 1.28.42 1.93l-4.4 6.87a1.4 1.4 0 0 1-2.26.14L9.5 15.39a1.4 1.4 0 0 1 2.15-1.8l1.23 1.48 3.38-5.26a1.4 1.4 0 0 1 1.93-.42Z"
    clip-rule="evenodd"
  />
</svg>`,verifyFilledSvg=b$2`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="m4.1 12.43-.45-.78-.93-.2a1.65 1.65 0 0 1-1.31-1.8l.1-.86-.61-.71a1.65 1.65 0 0 1 0-2.16l.6-.7-.09-.85c-.1-.86.47-1.64 1.3-1.81l.94-.2.45-.78A1.65 1.65 0 0 1 6.23.9l.77.36.78-.36c.77-.36 1.69-.07 2.12.66l.47.8.91.2c.84.17 1.4.95 1.31 1.8l-.1.86.6.7c.54.62.54 1.54.01 2.16l-.6.71.09.86c.1.85-.47 1.63-1.3 1.8l-.92.2-.47.79a1.65 1.65 0 0 1-2.12.66L7 12.74l-.77.36c-.78.35-1.7.07-2.13-.67Zm5.74-6.9a1 1 0 1 0-1.68-1.07L6.32 7.3l-.55-.66a1 1 0 0 0-1.54 1.28l1.43 1.71a1 1 0 0 0 1.61-.1l2.57-4Z"
    clip-rule="evenodd"
  />
</svg>`,walletPlaceholderSvg=b$2`
  <svg fill="none" viewBox="0 0 48 44">
    <path
      style="fill: var(--wui-color-bg-300);"
      d="M4.56 8.64c-1.23 1.68-1.23 4.08-1.23 8.88v8.96c0 4.8 0 7.2 1.23 8.88.39.55.87 1.02 1.41 1.42C7.65 38 10.05 38 14.85 38h14.3c4.8 0 7.2 0 8.88-1.22a6.4 6.4 0 0 0 1.41-1.42c.83-1.14 1.1-2.6 1.19-4.92a6.4 6.4 0 0 0 5.16-4.65c.21-.81.21-1.8.21-3.79 0-1.98 0-2.98-.22-3.79a6.4 6.4 0 0 0-5.15-4.65c-.1-2.32-.36-3.78-1.19-4.92a6.4 6.4 0 0 0-1.41-1.42C36.35 6 33.95 6 29.15 6h-14.3c-4.8 0-7.2 0-8.88 1.22a6.4 6.4 0 0 0-1.41 1.42Z"
    />
    <path
      style="fill: var(--wui-color-fg-200);"
      fill-rule="evenodd"
      d="M2.27 11.33a6.4 6.4 0 0 1 6.4-6.4h26.66a6.4 6.4 0 0 1 6.4 6.4v1.7a6.4 6.4 0 0 1 5.34 6.3v5.34a6.4 6.4 0 0 1-5.34 6.3v1.7a6.4 6.4 0 0 1-6.4 6.4H8.67a6.4 6.4 0 0 1-6.4-6.4V11.33ZM39.6 31.07h-6.93a9.07 9.07 0 1 1 0-18.14h6.93v-1.6a4.27 4.27 0 0 0-4.27-4.26H8.67a4.27 4.27 0 0 0-4.27 4.26v21.34a4.27 4.27 0 0 0 4.27 4.26h26.66a4.27 4.27 0 0 0 4.27-4.26v-1.6Zm-6.93-16a6.93 6.93 0 0 0 0 13.86h8a4.27 4.27 0 0 0 4.26-4.26v-5.34a4.27 4.27 0 0 0-4.26-4.26h-8Z"
      clip-rule="evenodd"
    />
  </svg>
`,walletSvg=b$2`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z"
    clip-rule="evenodd"
  />
</svg>`,walletConnectSvg=b$2`<svg fill="none" viewBox="0 0 96 67">
  <path
    fill="currentColor"
    d="M25.32 18.8a32.56 32.56 0 0 1 45.36 0l1.5 1.47c.63.62.63 1.61 0 2.22l-5.15 5.05c-.31.3-.82.3-1.14 0l-2.07-2.03a22.71 22.71 0 0 0-31.64 0l-2.22 2.18c-.31.3-.82.3-1.14 0l-5.15-5.05a1.55 1.55 0 0 1 0-2.22l1.65-1.62Zm56.02 10.44 4.59 4.5c.63.6.63 1.6 0 2.21l-20.7 20.26c-.62.61-1.63.61-2.26 0L48.28 41.83a.4.4 0 0 0-.56 0L33.03 56.21c-.63.61-1.64.61-2.27 0L10.07 35.95a1.55 1.55 0 0 1 0-2.22l4.59-4.5a1.63 1.63 0 0 1 2.27 0L31.6 43.63a.4.4 0 0 0 .57 0l14.69-14.38a1.63 1.63 0 0 1 2.26 0l14.69 14.38a.4.4 0 0 0 .57 0l14.68-14.38a1.63 1.63 0 0 1 2.27 0Z"
  />
  <path
    stroke="#000"
    stroke-opacity=".1"
    d="M25.67 19.15a32.06 32.06 0 0 1 44.66 0l1.5 1.48c.43.42.43 1.09 0 1.5l-5.15 5.05a.31.31 0 0 1-.44 0l-2.07-2.03a23.21 23.21 0 0 0-32.34 0l-2.22 2.18a.31.31 0 0 1-.44 0l-5.15-5.05a1.05 1.05 0 0 1 0-1.5l1.65-1.63ZM81 29.6l4.6 4.5c.42.41.42 1.09 0 1.5l-20.7 20.26c-.43.43-1.14.43-1.57 0L48.63 41.47a.9.9 0 0 0-1.26 0L32.68 55.85c-.43.43-1.14.43-1.57 0L10.42 35.6a1.05 1.05 0 0 1 0-1.5l4.59-4.5a1.13 1.13 0 0 1 1.57 0l14.68 14.38a.9.9 0 0 0 1.27 0l-.35-.35.35.35L47.22 29.6a1.13 1.13 0 0 1 1.56 0l14.7 14.38a.9.9 0 0 0 1.26 0L79.42 29.6a1.13 1.13 0 0 1 1.57 0Z"
  />
</svg>`,walletConnectLightBrownSvg=b$2`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="#202020"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`,walletConnectBrownSvg=b$2`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`,warningCircleSvg=b$2`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M11 6.67a1 1 0 1 0-2 0v2.66a1 1 0 0 0 2 0V6.67ZM10 14.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 1a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm-7 9a7 7 0 1 1 14 0 7 7 0 0 1-14 0Z"
    clip-rule="evenodd"
  />
</svg>`,lightbulbSvg$1=b$2`<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.00177 1.78569C3.8179 1.78569 2.85819 2.74508 2.85819 3.92855C2.85819 4.52287 3.09928 5.05956 3.49077 5.4485L3.5005 5.45817C3.64381 5.60054 3.76515 5.72108 3.85631 5.81845C3.93747 5.90512 4.05255 6.03218 4.12889 6.1805C4.16999 6.26034 4.19 6.30843 4.21768 6.39385C4.22145 6.40546 4.22499 6.41703 4.22833 6.42855H5.77521C5.77854 6.41703 5.78208 6.40547 5.78585 6.39385C5.81353 6.30843 5.83354 6.26034 5.87464 6.1805C5.95098 6.03218 6.06606 5.90512 6.14722 5.81845C6.23839 5.72108 6.35973 5.60053 6.50304 5.45816L6.51276 5.4485C6.90425 5.05956 7.14534 4.52287 7.14534 3.92855C7.14534 2.74508 6.18563 1.78569 5.00177 1.78569ZM5.71629 7.85712H4.28724C4.28724 8.21403 4.28876 8.40985 4.30703 8.54571C4.30727 8.54748 4.30751 8.54921 4.30774 8.55091C4.30944 8.55115 4.31118 8.55138 4.31295 8.55162C4.44884 8.56989 4.64474 8.5714 5.00177 8.5714C5.3588 8.5714 5.55469 8.56989 5.69059 8.55162C5.69236 8.55138 5.69409 8.55115 5.69579 8.55091C5.69603 8.54921 5.69627 8.54748 5.6965 8.54571C5.71477 8.40985 5.71629 8.21403 5.71629 7.85712ZM2.85819 7.14283C2.85819 6.9948 2.85796 6.91114 2.8548 6.85032C2.85461 6.84656 2.85441 6.84309 2.85421 6.83988C2.84393 6.8282 2.83047 6.81334 2.81301 6.79469C2.74172 6.71856 2.63908 6.61643 2.48342 6.46178C1.83307 5.81566 1.42914 4.91859 1.42914 3.92855C1.42914 1.9561 3.02866 0.357117 5.00177 0.357117C6.97487 0.357117 8.57439 1.9561 8.57439 3.92855C8.57439 4.91859 8.17047 5.81566 7.52012 6.46178C7.36445 6.61643 7.26182 6.71856 7.19053 6.79469C7.17306 6.81334 7.1596 6.8282 7.14932 6.83988C7.14912 6.84309 7.14892 6.84656 7.14873 6.85032C7.14557 6.91114 7.14534 6.9948 7.14534 7.14283V7.85712C7.14534 7.87009 7.14535 7.88304 7.14535 7.89598C7.14541 8.19889 7.14547 8.49326 7.11281 8.73606C7.076 9.00978 6.98631 9.32212 6.72678 9.58156C6.46726 9.841 6.15481 9.93065 5.881 9.96745C5.63813 10.0001 5.34365 10 5.04064 9.99998C5.0277 9.99998 5.01474 9.99998 5.00177 9.99998C4.98879 9.99998 4.97583 9.99998 4.96289 9.99998C4.65988 10 4.36541 10.0001 4.12253 9.96745C3.84872 9.93065 3.53628 9.841 3.27675 9.58156C3.01722 9.32212 2.92753 9.00978 2.89072 8.73606C2.85807 8.49326 2.85812 8.19889 2.85818 7.89598C2.85819 7.88304 2.85819 7.87008 2.85819 7.85712V7.14283ZM7.1243 6.86977C7.12366 6.87069 7.1233 6.87116 7.12327 6.87119C7.12323 6.87123 7.12356 6.87076 7.1243 6.86977ZM2.88027 6.8712C2.88025 6.87119 2.87988 6.8707 2.87921 6.86975C2.87995 6.87072 2.88028 6.8712 2.88027 6.8712Z" fill="#949E9E"/>
</svg>`,idSvg=b$2`<svg
 xmlns="http://www.w3.org/2000/svg"
 width="28"
 height="28"
 viewBox="0 0 28 28"
 fill="none">
  <path
    fill="#949E9E"
    fill-rule="evenodd"
    d="M7.974 2.975h12.052c1.248 0 2.296 0 3.143.092.89.096 1.723.307 2.461.844a4.9 4.9 0 0 1 1.084 1.084c.537.738.748 1.57.844 2.461.092.847.092 1.895.092 3.143v6.802c0 1.248 0 2.296-.092 3.143-.096.89-.307 1.723-.844 2.461a4.9 4.9 0 0 1-1.084 1.084c-.738.537-1.57.748-2.461.844-.847.092-1.895.092-3.143.092H7.974c-1.247 0-2.296 0-3.143-.092-.89-.096-1.723-.307-2.461-.844a4.901 4.901 0 0 1-1.084-1.084c-.537-.738-.748-1.571-.844-2.461C.35 19.697.35 18.649.35 17.4v-6.802c0-1.248 0-2.296.092-3.143.096-.89.307-1.723.844-2.461A4.9 4.9 0 0 1 2.37 3.91c.738-.537 1.571-.748 2.461-.844.847-.092 1.895-.092 3.143-.092ZM5.133 5.85c-.652.071-.936.194-1.117.326a2.1 2.1 0 0 0-.465.465c-.132.181-.255.465-.325 1.117-.074.678-.076 1.573-.076 2.917v6.65c0 1.344.002 2.239.076 2.917.07.652.193.936.325 1.117a2.1 2.1 0 0 0 .465.465c.181.132.465.255 1.117.326.678.073 1.574.075 2.917.075h11.9c1.344 0 2.239-.002 2.917-.075.652-.071.936-.194 1.117-.326.179-.13.335-.286.465-.465.132-.181.255-.465.326-1.117.073-.678.075-1.573.075-2.917v-6.65c0-1.344-.002-2.239-.075-2.917-.071-.652-.194-.936-.326-1.117a2.1 2.1 0 0 0-.465-.465c-.181-.132-.465-.255-1.117-.326-.678-.073-1.573-.075-2.917-.075H8.05c-1.343 0-2.239.002-2.917.075Zm.467 7.275a3.15 3.15 0 1 1 6.3 0 3.15 3.15 0 0 1-6.3 0Zm8.75-1.75a1.4 1.4 0 0 1 1.4-1.4h3.5a1.4 1.4 0 0 1 0 2.8h-3.5a1.4 1.4 0 0 1-1.4-1.4Zm0 5.25a1.4 1.4 0 0 1 1.4-1.4H21a1.4 1.4 0 1 1 0 2.8h-5.25a1.4 1.4 0 0 1-1.4-1.4Z"
    clip-rule="evenodd"/>
</svg>`,xSvg=b$2`<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`,infoSvg=b$2`<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.125 6.875C9.125 6.57833 9.21298 6.28832 9.3778 6.04165C9.54262 5.79497 9.77689 5.60271 10.051 5.48918C10.3251 5.37565 10.6267 5.34594 10.9176 5.40382C11.2086 5.4617 11.4759 5.60456 11.6857 5.81434C11.8954 6.02412 12.0383 6.29139 12.0962 6.58236C12.1541 6.87334 12.1244 7.17494 12.0108 7.44903C11.8973 7.72311 11.705 7.95738 11.4584 8.1222C11.2117 8.28703 10.9217 8.375 10.625 8.375C10.2272 8.375 9.84565 8.21696 9.56434 7.93566C9.28304 7.65436 9.125 7.27282 9.125 6.875ZM21.125 11C21.125 13.0025 20.5312 14.9601 19.4186 16.6251C18.3061 18.2902 16.7248 19.5879 14.8747 20.3543C13.0246 21.1206 10.9888 21.3211 9.02471 20.9305C7.06066 20.5398 5.25656 19.5755 3.84055 18.1595C2.42454 16.7435 1.46023 14.9393 1.06955 12.9753C0.678878 11.0112 0.879387 8.97543 1.64572 7.12533C2.41206 5.27523 3.70981 3.69392 5.37486 2.58137C7.0399 1.46882 8.99747 0.875 11 0.875C13.6844 0.877978 16.258 1.94567 18.1562 3.84383C20.0543 5.74199 21.122 8.3156 21.125 11ZM18.875 11C18.875 9.44247 18.4131 7.91992 17.5478 6.62488C16.6825 5.32985 15.4526 4.32049 14.0136 3.72445C12.5747 3.12841 10.9913 2.97246 9.46367 3.27632C7.93607 3.58017 6.53288 4.3302 5.43154 5.43153C4.3302 6.53287 3.58018 7.93606 3.27632 9.46366C2.97246 10.9913 3.12841 12.5747 3.72445 14.0136C4.32049 15.4526 5.32985 16.6825 6.62489 17.5478C7.91993 18.4131 9.44248 18.875 11 18.875C13.0879 18.8728 15.0896 18.0424 16.566 16.566C18.0424 15.0896 18.8728 13.0879 18.875 11ZM12.125 14.4387V11.375C12.125 10.8777 11.9275 10.4008 11.5758 10.0492C11.2242 9.69754 10.7473 9.5 10.25 9.5C9.98433 9.4996 9.72708 9.59325 9.52383 9.76435C9.32058 9.93544 9.18444 10.173 9.13952 10.4348C9.09461 10.6967 9.14381 10.966 9.27843 11.195C9.41304 11.4241 9.62438 11.5981 9.875 11.6863V14.75C9.875 15.2473 10.0725 15.7242 10.4242 16.0758C10.7758 16.4275 11.2527 16.625 11.75 16.625C12.0157 16.6254 12.2729 16.5318 12.4762 16.3607C12.6794 16.1896 12.8156 15.952 12.8605 15.6902C12.9054 15.4283 12.8562 15.159 12.7216 14.93C12.587 14.7009 12.3756 14.5269 12.125 14.4387Z" fill="currentColor"/>
</svg>`,exclamationTriangleSvg=b$2`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.0162 11.6312L9.55059 2.13937C9.39228 1.86862 9.16584 1.64405 8.8938 1.48798C8.62176 1.33192 8.3136 1.2498 7.99997 1.2498C7.68634 1.2498 7.37817 1.33192 7.10613 1.48798C6.83409 1.64405 6.60765 1.86862 6.44934 2.13937L0.983716 11.6312C0.830104 11.894 0.749146 12.1928 0.749146 12.4972C0.749146 12.8015 0.830104 13.1004 0.983716 13.3631C1.14027 13.6352 1.3664 13.8608 1.63889 14.0166C1.91139 14.1725 2.22044 14.253 2.53434 14.25H13.4656C13.7793 14.2528 14.0881 14.1721 14.3603 14.0163C14.6326 13.8604 14.8585 13.635 15.015 13.3631C15.1688 13.1005 15.2499 12.8017 15.2502 12.4973C15.2504 12.193 15.1696 11.8941 15.0162 11.6312ZM13.7162 12.6125C13.6908 12.6558 13.6541 12.6914 13.6101 12.7157C13.5661 12.7399 13.5164 12.7517 13.4662 12.75H2.53434C2.48415 12.7517 2.43442 12.7399 2.39042 12.7157C2.34641 12.6914 2.30976 12.6558 2.28434 12.6125C2.26278 12.5774 2.25137 12.5371 2.25137 12.4959C2.25137 12.4548 2.26278 12.4144 2.28434 12.3794L7.74997 2.88749C7.77703 2.84583 7.81408 2.8116 7.85774 2.7879C7.9014 2.7642 7.95029 2.75178 7.99997 2.75178C8.04964 2.75178 8.09854 2.7642 8.1422 2.7879C8.18586 2.8116 8.2229 2.84583 8.24997 2.88749L13.715 12.3794C13.7367 12.4143 13.7483 12.4546 13.7486 12.4958C13.7488 12.5369 13.7376 12.5773 13.7162 12.6125ZM7.24997 8.49999V6.49999C7.24997 6.30108 7.32898 6.11031 7.46964 5.96966C7.61029 5.82901 7.80105 5.74999 7.99997 5.74999C8.19888 5.74999 8.38964 5.82901 8.5303 5.96966C8.67095 6.11031 8.74997 6.30108 8.74997 6.49999V8.49999C8.74997 8.6989 8.67095 8.88967 8.5303 9.03032C8.38964 9.17097 8.19888 9.24999 7.99997 9.24999C7.80105 9.24999 7.61029 9.17097 7.46964 9.03032C7.32898 8.88967 7.24997 8.6989 7.24997 8.49999ZM8.99997 11C8.99997 11.1978 8.94132 11.3911 8.83144 11.5556C8.72155 11.72 8.56538 11.8482 8.38265 11.9239C8.19992 11.9996 7.99886 12.0194 7.80488 11.9808C7.6109 11.9422 7.43271 11.847 7.29286 11.7071C7.15301 11.5672 7.05777 11.3891 7.01918 11.1951C6.9806 11.0011 7.0004 10.8 7.07609 10.6173C7.15177 10.4346 7.27995 10.2784 7.4444 10.1685C7.60885 10.0586 7.80219 9.99999 7.99997 9.99999C8.26518 9.99999 8.51954 10.1053 8.70707 10.2929C8.89461 10.4804 8.99997 10.7348 8.99997 11Z" fill="currentColor"/>
</svg>
`;var __decorate$2V=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const svgOptions$1={add:addSvg,allWallets:allWalletsSvg,arrowBottomCircle:arrowBottomCircleSvg,appStore:appStoreSvg,apple:appleSvg,arrowBottom:arrowBottomSvg,arrowLeft:arrowLeftSvg,arrowRight:arrowRightSvg,arrowTop:arrowTopSvg,bank:bankSvg,browser:browserSvg$1,card:cardSvg,checkmark:checkmarkSvg,checkmarkBold:checkmarkBoldSvg,chevronBottom:chevronBottomSvg,chevronLeft:chevronLeftSvg,chevronRight:chevronRightSvg,chevronTop:chevronTopSvg,chromeStore:chromeStoreSvg,clock:clockSvg,close:closeSvg,compass:compassSvg,coinPlaceholder:coinPlaceholderSvg,copy:copySvg,cursor:cursorSvg,cursorTransparent:cursorTransparentSvg,desktop:desktopSvg,disconnect:disconnectSvg,discord:discordSvg,etherscan:etherscanSvg,extension:extensionSvg,externalLink:externalLinkSvg,facebook:facebookSvg,farcaster:farcasterSvg,filters:filtersSvg,github:githubSvg,google:googleSvg$1,helpCircle:helpCircleSvg,image:imageSvg,id:idSvg,infoCircle:infoCircleSvg,lightbulb:lightbulbSvg$1,mail:mailSvg,mobile:mobileSvg,more:moreSvg,networkPlaceholder:networkPlaceholderSvg,nftPlaceholder:nftPlaceholderSvg,off:offSvg,playStore:playStoreSvg,plus:plusSvg,qrCode:qrCodeIcon,recycleHorizontal:recycleHorizontalSvg,refresh:refreshSvg,search:searchSvg,send:sendSvg,swapHorizontal:swapHorizontalSvg,swapHorizontalMedium:swapHorizontalMediumSvg,swapHorizontalBold:swapHorizontalBoldSvg,swapHorizontalRoundedBold:swapHorizontalRoundedBoldSvg,swapVertical:swapVerticalSvg,telegram:telegramSvg,threeDots:threeDotsSvg,twitch:twitchSvg,twitter:xSvg,twitterIcon:twitterIconSvg,verify:verifySvg,verifyFilled:verifyFilledSvg,wallet:walletSvg,walletConnect:walletConnectSvg,walletConnectLightBrown:walletConnectLightBrownSvg,walletConnectBrown:walletConnectBrownSvg,walletPlaceholder:walletPlaceholderSvg,warningCircle:warningCircleSvg,x:xSvg,info:infoSvg,exclamationTriangle:exclamationTriangleSvg};let WuiIcon=class extends r$e{constructor(){super(...arguments),this.size="md",this.name="copy",this.color="fg-300"}render(){return this.style.cssText=`
      --local-color: ${`var(--wui-color-${this.color});`}
      --local-width: ${`var(--wui-icon-size-${this.size});`}
    `,x$1`${svgOptions$1[this.name]}`}};WuiIcon.styles=[resetStyles,colorStyles,styles$2j];__decorate$2V([n$c()],WuiIcon.prototype,"size",void 0);__decorate$2V([n$c()],WuiIcon.prototype,"name",void 0);__decorate$2V([n$c()],WuiIcon.prototype,"color",void 0);WuiIcon=__decorate$2V([customElement("wui-icon")],WuiIcon);const styles$2i=i$a`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
  }
`;var __decorate$2U=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiImage=class extends r$e{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0}render(){return this.style.cssText=`
      --local-width: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      --local-height: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      `,x$1`<img src=${this.src} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};WuiImage.styles=[resetStyles,colorStyles,styles$2i];__decorate$2U([n$c()],WuiImage.prototype,"src",void 0);__decorate$2U([n$c()],WuiImage.prototype,"alt",void 0);__decorate$2U([n$c()],WuiImage.prototype,"size",void 0);WuiImage=__decorate$2U([customElement("wui-image")],WuiImage);const styles$2h=i$a`
  :host {
    display: block;
    width: var(--wui-box-size-lg);
    height: var(--wui-box-size-lg);
  }

  svg {
    width: var(--wui-box-size-lg);
    height: var(--wui-box-size-lg);
    fill: none;
    stroke: transparent;
    stroke-linecap: round;
  }

  use {
    stroke: var(--wui-color-accent-100);
    stroke-width: 2px;
    stroke-dasharray: 54, 118;
    stroke-dashoffset: 172;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`;var __decorate$2T=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiLoadingHexagon=class extends r$e{render(){return x$1`
      <svg viewBox="0 0 54 59">
        <path
          id="wui-loader-path"
          d="M17.22 5.295c3.877-2.277 5.737-3.363 7.72-3.726a11.44 11.44 0 0 1 4.12 0c1.983.363 3.844 1.45 7.72 3.726l6.065 3.562c3.876 2.276 5.731 3.372 7.032 4.938a11.896 11.896 0 0 1 2.06 3.63c.683 1.928.688 4.11.688 8.663v7.124c0 4.553-.005 6.735-.688 8.664a11.896 11.896 0 0 1-2.06 3.63c-1.3 1.565-3.156 2.66-7.032 4.937l-6.065 3.563c-3.877 2.276-5.737 3.362-7.72 3.725a11.46 11.46 0 0 1-4.12 0c-1.983-.363-3.844-1.449-7.72-3.726l-6.065-3.562c-3.876-2.276-5.731-3.372-7.032-4.938a11.885 11.885 0 0 1-2.06-3.63c-.682-1.928-.688-4.11-.688-8.663v-7.124c0-4.553.006-6.735.688-8.664a11.885 11.885 0 0 1 2.06-3.63c1.3-1.565 3.156-2.66 7.032-4.937l6.065-3.562Z"
        />
        <use xlink:href="#wui-loader-path"></use>
      </svg>
    `}};WuiLoadingHexagon.styles=[resetStyles,styles$2h];WuiLoadingHexagon=__decorate$2T([customElement("wui-loading-hexagon")],WuiLoadingHexagon);const styles$2g=i$a`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 2s linear infinite;
  }

  circle {
    fill: none;
    stroke: var(--local-color);
    stroke-width: 4px;
    stroke-dasharray: 1, 124;
    stroke-dashoffset: 0;
    stroke-linecap: round;
    animation: dash 1.5s ease-in-out infinite;
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes dash {
    0% {
      stroke-dasharray: 1, 124;
      stroke-dashoffset: 0;
    }

    50% {
      stroke-dasharray: 90, 124;
      stroke-dashoffset: -35;
    }

    100% {
      stroke-dashoffset: -125;
    }
  }
`;var __decorate$2S=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiLoadingSpinner=class extends r$e{constructor(){super(...arguments),this.color="accent-100",this.size="lg"}render(){return this.style.cssText=`--local-color: ${this.color==="inherit"?"inherit":`var(--wui-color-${this.color})`}`,this.dataset.size=this.size,x$1`<svg viewBox="25 25 50 50">
      <circle r="20" cy="50" cx="50"></circle>
    </svg>`}};WuiLoadingSpinner.styles=[resetStyles,styles$2g];__decorate$2S([n$c()],WuiLoadingSpinner.prototype,"color",void 0);__decorate$2S([n$c()],WuiLoadingSpinner.prototype,"size",void 0);WuiLoadingSpinner=__decorate$2S([customElement("wui-loading-spinner")],WuiLoadingSpinner);const styles$2f=i$a`
  :host {
    display: block;
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  svg {
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  rect {
    fill: none;
    stroke: var(--wui-color-accent-100);
    stroke-width: 4px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`;var __decorate$2R=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiLoadingThumbnail=class extends r$e{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){const Mn=this.radius>50?50:this.radius,fo=36-Mn,mo=116+fo,$o=245+fo,Ao=360+fo*1.75;return x$1`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${Mn}
          stroke-dasharray="${mo} ${$o}"
          stroke-dashoffset=${Ao}
        />
      </svg>
    `}};WuiLoadingThumbnail.styles=[resetStyles,styles$2f];__decorate$2R([n$c({type:Number})],WuiLoadingThumbnail.prototype,"radius",void 0);WuiLoadingThumbnail=__decorate$2R([customElement("wui-loading-thumbnail")],WuiLoadingThumbnail);const styles$2e=i$a`
  :host {
    display: block;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-200) 5%,
      var(--wui-color-bg-200) 48%,
      var(--wui-color-bg-300) 55%,
      var(--wui-color-bg-300) 60%,
      var(--wui-color-bg-300) calc(60% + 10px),
      var(--wui-color-bg-200) calc(60% + 12px),
      var(--wui-color-bg-200) 100%
    );
    background-size: 250%;
    animation: shimmer 3s linear infinite reverse;
  }

  :host([variant='light']) {
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-150) 5%,
      var(--wui-color-bg-150) 48%,
      var(--wui-color-bg-200) 55%,
      var(--wui-color-bg-200) 60%,
      var(--wui-color-bg-200) calc(60% + 10px),
      var(--wui-color-bg-150) calc(60% + 12px),
      var(--wui-color-bg-150) 100%
    );
    background-size: 250%;
  }

  @keyframes shimmer {
    from {
      background-position: -250% 0;
    }
    to {
      background-position: 250% 0;
    }
  }
`;var __decorate$2Q=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiShimmer=class extends r$e{constructor(){super(...arguments),this.width="",this.height="",this.borderRadius="m",this.variant="default"}render(){return this.style.cssText=`
      width: ${this.width};
      height: ${this.height};
      border-radius: ${`clamp(0px,var(--wui-border-radius-${this.borderRadius}), 40px)`};
    `,x$1`<slot></slot>`}};WuiShimmer.styles=[styles$2e];__decorate$2Q([n$c()],WuiShimmer.prototype,"width",void 0);__decorate$2Q([n$c()],WuiShimmer.prototype,"height",void 0);__decorate$2Q([n$c()],WuiShimmer.prototype,"borderRadius",void 0);__decorate$2Q([n$c()],WuiShimmer.prototype,"variant",void 0);WuiShimmer=__decorate$2Q([customElement("wui-shimmer")],WuiShimmer);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$6={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e$a=Fn=>(...Mn)=>({_$litDirective$:Fn,values:Mn});let i$6=class{constructor(Mn){}get _$AU(){return this._$AM._$AU}_$AT(Mn,io,fo){this._$Ct=Mn,this._$AM=io,this._$Ci=fo}_$AS(Mn,io){return this.update(Mn,io)}update(Mn,io){return this.render(...io)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$9=e$a(class extends i$6{constructor(Fn){var Mn;if(super(Fn),Fn.type!==t$6.ATTRIBUTE||Fn.name!=="class"||((Mn=Fn.strings)==null?void 0:Mn.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(Fn){return" "+Object.keys(Fn).filter(Mn=>Fn[Mn]).join(" ")+" "}update(Fn,[Mn]){var fo,mo;if(this.st===void 0){this.st=new Set,Fn.strings!==void 0&&(this.nt=new Set(Fn.strings.join(" ").split(/\s/).filter($o=>$o!=="")));for(const $o in Mn)Mn[$o]&&!((fo=this.nt)!=null&&fo.has($o))&&this.st.add($o);return this.render(Mn)}const io=Fn.element.classList;for(const $o of this.st)$o in Mn||(io.remove($o),this.st.delete($o));for(const $o in Mn){const Ao=!!Mn[$o];Ao===this.st.has($o)||(mo=this.nt)!=null&&mo.has($o)||(Ao?(io.add($o),this.st.add($o)):(io.remove($o),this.st.delete($o)))}return T$2}}),styles$2d=i$a`
  :host {
    display: inline-flex !important;
  }

  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    font-family: var(--wui-font-family);
    font-feature-settings:
      'tnum' on,
      'lnum' on,
      'case' on;
    line-height: 130%;
    font-weight: var(--wui-font-weight-regular);
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .wui-font-medium-400 {
    font-size: var(--wui-font-size-medium);
    font-weight: var(--wui-font-weight-light);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-medium-600 {
    font-size: var(--wui-font-size-medium);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-title-600 {
    font-size: var(--wui-font-size-title);
    letter-spacing: var(--wui-letter-spacing-title);
  }

  .wui-font-title-6-600 {
    font-size: var(--wui-font-size-title-6);
    letter-spacing: var(--wui-letter-spacing-title-6);
  }

  .wui-font-mini-700 {
    font-size: var(--wui-font-size-mini);
    letter-spacing: var(--wui-letter-spacing-mini);
    text-transform: uppercase;
  }

  .wui-font-large-500,
  .wui-font-large-600,
  .wui-font-large-700 {
    font-size: var(--wui-font-size-large);
    letter-spacing: var(--wui-letter-spacing-large);
  }

  .wui-font-2xl-500,
  .wui-font-2xl-600,
  .wui-font-2xl-700 {
    font-size: var(--wui-font-size-2xl);
    letter-spacing: var(--wui-letter-spacing-2xl);
  }

  .wui-font-paragraph-400,
  .wui-font-paragraph-500,
  .wui-font-paragraph-600,
  .wui-font-paragraph-700 {
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
  }

  .wui-font-small-400,
  .wui-font-small-500,
  .wui-font-small-600 {
    font-size: var(--wui-font-size-small);
    letter-spacing: var(--wui-letter-spacing-small);
  }

  .wui-font-tiny-400,
  .wui-font-tiny-500,
  .wui-font-tiny-600 {
    font-size: var(--wui-font-size-tiny);
    letter-spacing: var(--wui-letter-spacing-tiny);
  }

  .wui-font-micro-700,
  .wui-font-micro-600 {
    font-size: var(--wui-font-size-micro);
    letter-spacing: var(--wui-letter-spacing-micro);
    text-transform: uppercase;
  }

  .wui-font-tiny-400,
  .wui-font-small-400,
  .wui-font-medium-400,
  .wui-font-paragraph-400 {
    font-weight: var(--wui-font-weight-light);
  }

  .wui-font-large-700,
  .wui-font-paragraph-700,
  .wui-font-micro-700,
  .wui-font-mini-700 {
    font-weight: var(--wui-font-weight-bold);
  }

  .wui-font-medium-600,
  .wui-font-medium-title-600,
  .wui-font-title-6-600,
  .wui-font-large-600,
  .wui-font-paragraph-600,
  .wui-font-small-600,
  .wui-font-tiny-600,
  .wui-font-micro-600 {
    font-weight: var(--wui-font-weight-medium);
  }

  :host([disabled]) {
    opacity: 0.4;
  }
`;var __decorate$2P=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiText=class extends r$e{constructor(){super(...arguments),this.variant="paragraph-500",this.color="fg-300",this.align="left",this.lineClamp=void 0}render(){const Mn={[`wui-font-${this.variant}`]:!0,[`wui-color-${this.color}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      --local-align: ${this.align};
      --local-color: var(--wui-color-${this.color});
    `,x$1`<slot class=${e$9(Mn)}></slot>`}};WuiText.styles=[resetStyles,styles$2d];__decorate$2P([n$c()],WuiText.prototype,"variant",void 0);__decorate$2P([n$c()],WuiText.prototype,"color",void 0);__decorate$2P([n$c()],WuiText.prototype,"align",void 0);__decorate$2P([n$c()],WuiText.prototype,"lineClamp",void 0);WuiText=__decorate$2P([customElement("wui-text")],WuiText);const browserSvg=b$2`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#1DC956" rx="30" />
  <circle cx="30" cy="30" r="3" fill="#fff" />
  <path
    fill="#2BEE6C"
    stroke="#fff"
    stroke-width="2"
    d="m45.32 17.9-.88-.42.88.42.02-.05c.1-.2.21-.44.26-.7l-.82-.15.82.16a2 2 0 0 0-.24-1.4c-.13-.23-.32-.42-.47-.57a8.42 8.42 0 0 1-.04-.04l-.04-.04a2.9 2.9 0 0 0-.56-.47l-.51.86.5-.86a2 2 0 0 0-1.4-.24c-.26.05-.5.16-.69.26l-.05.02-15.05 7.25-.1.05c-1.14.55-1.85.89-2.46 1.37a7 7 0 0 0-1.13 1.14c-.5.6-.83 1.32-1.38 2.45l-.05.11-7.25 15.05-.02.05c-.1.2-.21.43-.26.69a2 2 0 0 0 .24 1.4l.85-.5-.85.5c.13.23.32.42.47.57l.04.04.04.04c.15.15.34.34.56.47a2 2 0 0 0 1.41.24l-.2-.98.2.98c.25-.05.5-.17.69-.26l.05-.02-.42-.87.42.87 15.05-7.25.1-.05c1.14-.55 1.85-.89 2.46-1.38a7 7 0 0 0 1.13-1.13 12.87 12.87 0 0 0 1.43-2.56l7.25-15.05Z"
  />
  <path
    fill="#1DC956"
    d="M33.38 32.72 30.7 29.3 15.86 44.14l.2.2a1 1 0 0 0 1.14.2l15.1-7.27a3 3 0 0 0 1.08-4.55Z"
  />
  <path
    fill="#86F999"
    d="m26.62 27.28 2.67 3.43 14.85-14.85-.2-.2a1 1 0 0 0-1.14-.2l-15.1 7.27a3 3 0 0 0-1.08 4.55Z"
  />
  <circle cx="30" cy="30" r="3" fill="#fff" transform="rotate(45 30 30)" />
  <rect width="59" height="59" x=".5" y=".5" stroke="#062B2B" stroke-opacity=".1" rx="29.5" />
</svg> `,daoSvg=b$2`<svg viewBox="0 0 60 60" fill="none">
  <g clip-path="url(#clip0_7734_50402)">
    <path
      d="M0 24.9C0 15.6485 0 11.0228 1.97053 7.56812C3.3015 5.23468 5.23468 3.3015 7.56812 1.97053C11.0228 0 15.6485 0 24.9 0H35.1C44.3514 0 48.9772 0 52.4319 1.97053C54.7653 3.3015 56.6985 5.23468 58.0295 7.56812C60 11.0228 60 15.6485 60 24.9V35.1C60 44.3514 60 48.9772 58.0295 52.4319C56.6985 54.7653 54.7653 56.6985 52.4319 58.0295C48.9772 60 44.3514 60 35.1 60H24.9C15.6485 60 11.0228 60 7.56812 58.0295C5.23468 56.6985 3.3015 54.7653 1.97053 52.4319C0 48.9772 0 44.3514 0 35.1V24.9Z"
      fill="#EB8B47"
    />
    <path
      d="M0.5 24.9C0.5 20.2652 0.50047 16.8221 0.744315 14.105C0.987552 11.3946 1.46987 9.45504 2.40484 7.81585C3.69145 5.56019 5.56019 3.69145 7.81585 2.40484C9.45504 1.46987 11.3946 0.987552 14.105 0.744315C16.8221 0.50047 20.2652 0.5 24.9 0.5H35.1C39.7348 0.5 43.1779 0.50047 45.895 0.744315C48.6054 0.987552 50.545 1.46987 52.1841 2.40484C54.4398 3.69145 56.3086 5.56019 57.5952 7.81585C58.5301 9.45504 59.0124 11.3946 59.2557 14.105C59.4995 16.8221 59.5 20.2652 59.5 24.9V35.1C59.5 39.7348 59.4995 43.1779 59.2557 45.895C59.0124 48.6054 58.5301 50.545 57.5952 52.1841C56.3086 54.4398 54.4398 56.3086 52.1841 57.5952C50.545 58.5301 48.6054 59.0124 45.895 59.2557C43.1779 59.4995 39.7348 59.5 35.1 59.5H24.9C20.2652 59.5 16.8221 59.4995 14.105 59.2557C11.3946 59.0124 9.45504 58.5301 7.81585 57.5952C5.56019 56.3086 3.69145 54.4398 2.40484 52.1841C1.46987 50.545 0.987552 48.6054 0.744315 45.895C0.50047 43.1779 0.5 39.7348 0.5 35.1V24.9Z"
      stroke="#062B2B"
      stroke-opacity="0.1"
    />
    <path
      d="M19 52C24.5228 52 29 47.5228 29 42C29 36.4772 24.5228 32 19 32C13.4772 32 9 36.4772 9 42C9 47.5228 13.4772 52 19 52Z"
      fill="#FF974C"
      stroke="white"
      stroke-width="2"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M42.8437 8.3264C42.4507 7.70891 41.5493 7.70891 41.1564 8.32641L28.978 27.4638C28.5544 28.1295 29.0326 29.0007 29.8217 29.0007H54.1783C54.9674 29.0007 55.4456 28.1295 55.022 27.4638L42.8437 8.3264Z"
      fill="white"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M42.3348 11.6456C42.659 11.7608 42.9061 12.1492 43.4005 12.926L50.7332 24.4488C51.2952 25.332 51.5763 25.7737 51.5254 26.1382C51.4915 26.3808 51.3698 26.6026 51.1833 26.7614C50.9031 27 50.3796 27 49.3327 27H34.6673C33.6204 27 33.0969 27 32.8167 26.7614C32.6302 26.6026 32.5085 26.3808 32.4746 26.1382C32.4237 25.7737 32.7048 25.332 33.2669 24.4488L40.5995 12.926C41.0939 12.1492 41.341 11.7608 41.6652 11.6456C41.8818 11.5687 42.1182 11.5687 42.3348 11.6456ZM35.0001 26.999C38.8661 26.999 42.0001 23.865 42.0001 19.999C42.0001 23.865 45.1341 26.999 49.0001 26.999H35.0001Z"
      fill="#FF974C"
    />
    <path
      d="M10.1061 9.35712C9.9973 9.67775 9.99867 10.0388 9.99978 10.3323C9.99989 10.3611 10 10.3893 10 10.4167V25.5833C10 25.6107 9.99989 25.6389 9.99978 25.6677C9.99867 25.9612 9.9973 26.3222 10.1061 26.6429C10.306 27.2317 10.7683 27.694 11.3571 27.8939C11.6777 28.0027 12.0388 28.0013 12.3323 28.0002C12.3611 28.0001 12.3893 28 12.4167 28H19C24.5228 28 29 23.5228 29 18C29 12.4772 24.5228 8 19 8H12.4167C12.3893 8 12.3611 7.99989 12.3323 7.99978C12.0388 7.99867 11.6778 7.9973 11.3571 8.10614C10.7683 8.306 10.306 8.76834 10.1061 9.35712Z"
      fill="#FF974C"
      stroke="white"
      stroke-width="2"
    />
    <circle cx="19" cy="18" r="4" fill="#EB8B47" stroke="white" stroke-width="2" />
    <circle cx="19" cy="42" r="4" fill="#EB8B47" stroke="white" stroke-width="2" />
  </g>
  <defs>
    <clipPath id="clip0_7734_50402">
      <rect width="60" height="60" fill="white" />
    </clipPath>
  </defs>
</svg> `,defiSvg=b$2`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <path
      fill="#1DC956"
      d="M0 25.01c0-9.25 0-13.88 1.97-17.33a15 15 0 0 1 5.6-5.6C11.02.11 15.65.11 24.9.11h10.2c9.25 0 13.88 0 17.33 1.97a15 15 0 0 1 5.6 5.6C60 11.13 60 15.76 60 25v10.2c0 9.25 0 13.88-1.97 17.33a15 15 0 0 1-5.6 5.6c-3.45 1.97-8.08 1.97-17.33 1.97H24.9c-9.25 0-13.88 0-17.33-1.97a15 15 0 0 1-5.6-5.6C0 49.1 0 44.46 0 35.21v-10.2Z"
    />
    <path
      fill="#2BEE6C"
      d="M16.1 60c-3.82-.18-6.4-.64-8.53-1.86a15 15 0 0 1-5.6-5.6C.55 50.06.16 46.97.04 41.98L4.2 40.6a4 4 0 0 0 2.48-2.39l4.65-12.4a2 2 0 0 1 2.5-1.2l2.53.84a2 2 0 0 0 2.43-1l2.96-5.94a2 2 0 0 1 3.7.32l3.78 12.58a2 2 0 0 0 3.03 1.09l3.34-2.23a2 2 0 0 0 .65-.7l5.3-9.72a2 2 0 0 1 1.42-1.01l4.14-.69a2 2 0 0 1 1.6.44l3.9 3.24a2 2 0 0 0 2.7-.12l4.62-4.63c.08 2.2.08 4.8.08 7.93v10.2c0 9.25 0 13.88-1.97 17.33a15 15 0 0 1-5.6 5.6c-2.13 1.22-4.7 1.68-8.54 1.86H16.11Z"
    />
    <path
      fill="#fff"
      d="m.07 43.03-.05-2.1 3.85-1.28a3 3 0 0 0 1.86-1.79l4.66-12.4a3 3 0 0 1 3.75-1.8l2.53.84a1 1 0 0 0 1.21-.5l2.97-5.94a3 3 0 0 1 5.56.48l3.77 12.58a1 1 0 0 0 1.51.55l3.34-2.23a1 1 0 0 0 .33-.35l5.3-9.71a3 3 0 0 1 2.14-1.53l4.13-.69a3 3 0 0 1 2.41.66l3.9 3.24a1 1 0 0 0 1.34-.06l5.28-5.28c.05.85.08 1.75.1 2.73L56 22.41a3 3 0 0 1-4.04.19l-3.9-3.25a1 1 0 0 0-.8-.21l-4.13.69a1 1 0 0 0-.72.5l-5.3 9.72a3 3 0 0 1-.97 1.05l-3.34 2.23a3 3 0 0 1-4.53-1.63l-3.78-12.58a1 1 0 0 0-1.85-.16l-2.97 5.94a3 3 0 0 1-3.63 1.5l-2.53-.84a1 1 0 0 0-1.25.6l-4.65 12.4a5 5 0 0 1-3.1 3L.07 43.02Z"
    />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="M49.5 19a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"
      clip-rule="evenodd"
    />
    <path fill="#fff" d="M45 .28v59.66l-2 .1V.19c.7.02 1.37.05 2 .1Z" />
    <path fill="#2BEE6C" d="M47.5 19a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z" />
    <path
      stroke="#fff"
      stroke-opacity=".1"
      d="M.5 25.01c0-4.63 0-8.08.24-10.8.25-2.7.73-4.64 1.66-6.28a14.5 14.5 0 0 1 5.42-5.41C9.46 1.58 11.39 1.1 14.1.85A133 133 0 0 1 24.9.61h10.2c4.63 0 8.08 0 10.8.24 2.7.25 4.65.73 6.28 1.67a14.5 14.5 0 0 1 5.42 5.4c.93 1.65 1.41 3.58 1.66 6.3.24 2.71.24 6.16.24 10.79v10.2c0 4.64 0 8.08-.24 10.8-.25 2.7-.73 4.65-1.66 6.28a14.5 14.5 0 0 1-5.42 5.42c-1.63.93-3.57 1.41-6.28 1.66-2.72.24-6.17.24-10.8.24H24.9c-4.63 0-8.08 0-10.8-.24-2.7-.25-4.64-.73-6.28-1.66a14.5 14.5 0 0 1-5.42-5.42C1.47 50.66 1 48.72.74 46.01A133 133 0 0 1 .5 35.2v-10.2Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M0 0h60v60H0z" /></clipPath>
  </defs>
</svg>`,defiAltSvg=b$2`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#C653C6" rx="30" />
    <path
      fill="#E87DE8"
      d="M57.98.01v19.5a4.09 4.09 0 0 0-2.63 2.29L50.7 34.2a2 2 0 0 1-2.5 1.2l-2.53-.84a2 2 0 0 0-2.42 1l-2.97 5.94a2 2 0 0 1-3.7-.32L32.8 28.6a2 2 0 0 0-3.02-1.09l-3.35 2.23a2 2 0 0 0-.64.7l-5.3 9.72a2 2 0 0 1-1.43 1.01l-4.13.69a2 2 0 0 1-1.61-.44l-3.9-3.24a2 2 0 0 0-2.69.12L2.1 42.93.02 43V.01h57.96Z"
    />
    <path
      fill="#fff"
      d="m61.95 16.94.05 2.1-3.85 1.28a3 3 0 0 0-1.86 1.79l-4.65 12.4a3 3 0 0 1-3.76 1.8l-2.53-.84a1 1 0 0 0-1.2.5l-2.98 5.94a3 3 0 0 1-5.55-.48l-3.78-12.58a1 1 0 0 0-1.5-.55l-3.35 2.23a1 1 0 0 0-.32.35l-5.3 9.72a3 3 0 0 1-2.14 1.52l-4.14.69a3 3 0 0 1-2.41-.66l-3.9-3.24a1 1 0 0 0-1.34.06l-5.28 5.28c-.05-.84-.08-1.75-.1-2.73l3.97-3.96a3 3 0 0 1 4.04-.19l3.89 3.25a1 1 0 0 0 .8.21l4.14-.68a1 1 0 0 0 .71-.51l5.3-9.71a3 3 0 0 1 .97-1.06l3.34-2.23a3 3 0 0 1 4.54 1.63l3.77 12.58a1 1 0 0 0 1.86.16l2.96-5.93a3 3 0 0 1 3.64-1.5l2.52.83a1 1 0 0 0 1.25-.6l4.66-12.4a5 5 0 0 1 3.1-2.99l4.43-1.48Z"
    />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="M35.5 27a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"
      clip-rule="evenodd"
    />
    <path fill="#fff" d="M31 0v60h-2V0h2Z" />
    <path fill="#E87DE8" d="M33.5 27a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z" />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="29.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="30" /></clipPath>
  </defs>
</svg> `,ethSvg=b$2`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#987DE8" rx="30" />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="m15.48 28.37 11.97-19.3a3 3 0 0 1 5.1 0l11.97 19.3a6 6 0 0 1 .9 3.14v.03a6 6 0 0 1-1.16 3.56L33.23 50.2a4 4 0 0 1-6.46 0L15.73 35.1a6 6 0 0 1-1.15-3.54v-.03a6 6 0 0 1 .9-3.16Z"
      clip-rule="evenodd"
    />
    <path
      fill="#643CDD"
      d="M30.84 10.11a1 1 0 0 0-.84-.46V24.5l12.6 5.53a2 2 0 0 0-.28-1.4L30.84 10.11Z"
    />
    <path
      fill="#BDADEB"
      d="M30 9.65a1 1 0 0 0-.85.46L17.66 28.64a2 2 0 0 0-.26 1.39L30 24.5V9.65Z"
    />
    <path
      fill="#643CDD"
      d="M30 50.54a1 1 0 0 0 .8-.4l11.24-15.38c.3-.44-.2-1-.66-.73l-9.89 5.68a3 3 0 0 1-1.5.4v10.43Z"
    />
    <path
      fill="#BDADEB"
      d="m17.97 34.76 11.22 15.37c.2.28.5.41.8.41V40.11a3 3 0 0 1-1.49-.4l-9.88-5.68c-.47-.27-.97.3-.65.73Z"
    />
    <path
      fill="#401AB3"
      d="M42.6 30.03 30 24.5v13.14a3 3 0 0 0 1.5-.4l10.14-5.83a2 2 0 0 0 .95-1.38Z"
    />
    <path
      fill="#7C5AE2"
      d="M30 37.64V24.46l-12.6 5.57a2 2 0 0 0 .97 1.39l10.13 5.82a3 3 0 0 0 1.5.4Z"
    />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="29.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="30" /></clipPath>
  </defs>
</svg> `,layersSvg=b$2`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#1DC956" rx="3" />
  <path
    fill="#1FAD7E"
    stroke="#fff"
    stroke-width="2"
    d="m30.49 29.13-.49-.27-.49.27-12.77 7.1-.05.02c-.86.48-1.58.88-2.1 1.24-.54.37-1.04.81-1.28 1.45a3 3 0 0 0 0 2.12c.24.63.74 1.08 1.27 1.45.53.36 1.25.76 2.11 1.24l.05.03 6.33 3.51.17.1c2.33 1.3 3.72 2.06 5.22 2.32a9 9 0 0 0 3.08 0c1.5-.26 2.9-1.03 5.22-2.32l.18-.1 6.32-3.51.05-.03a26.9 26.9 0 0 0 2.1-1.24 3.21 3.21 0 0 0 1.28-1.45l-.94-.35.94.35a3 3 0 0 0 0-2.12l-.94.35.94-.35a3.21 3.21 0 0 0-1.27-1.45c-.53-.36-1.25-.76-2.11-1.24l-.05-.03-12.77-7.1Z"
  />
  <path
    fill="#2BEE6C"
    stroke="#fff"
    stroke-width="2"
    d="m30.49 19.13-.49-.27-.49.27-12.77 7.1-.05.02c-.86.48-1.58.88-2.1 1.24-.54.37-1.04.81-1.28 1.45a3 3 0 0 0 0 2.12c.24.63.74 1.08 1.27 1.45.53.36 1.25.76 2.11 1.24l.05.03 6.33 3.51.17.1c2.33 1.3 3.72 2.06 5.22 2.32a9 9 0 0 0 3.08 0c1.5-.26 2.9-1.03 5.22-2.32l.18-.1 6.32-3.51.05-.03a26.9 26.9 0 0 0 2.1-1.24 3.21 3.21 0 0 0 1.28-1.45l-.94-.35.94.35a3 3 0 0 0 0-2.12l-.94.35.94-.35a3.21 3.21 0 0 0-1.27-1.45c-.53-.36-1.25-.76-2.11-1.24l-.05-.03-12.77-7.1Z"
  />
  <path
    fill="#86F999"
    stroke="#fff"
    stroke-width="2"
    d="m46.69 21.06-.94-.35.94.35a3 3 0 0 0 0-2.12l-.94.35.94-.35a3.21 3.21 0 0 0-1.27-1.45c-.53-.36-1.25-.76-2.11-1.24l-.05-.03-6.32-3.51-.18-.1c-2.33-1.3-3.72-2.06-5.22-2.33a9 9 0 0 0-3.08 0c-1.5.27-2.9 1.04-5.22 2.33l-.17.1-6.33 3.51-.05.03c-.86.48-1.58.88-2.1 1.24-.54.37-1.04.81-1.28 1.45a3 3 0 0 0 0 2.12c.24.63.74 1.08 1.27 1.45.53.36 1.25.76 2.11 1.24l.05.03 6.33 3.51.17.1c2.33 1.3 3.72 2.06 5.22 2.32a9 9 0 0 0 3.08 0c1.5-.26 2.9-1.03 5.22-2.32l.18-.1 6.32-3.51.05-.03a26.9 26.9 0 0 0 2.1-1.24 3.21 3.21 0 0 0 1.28-1.45Z"
  />
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
</svg>`,lockSvg=b$2`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#C653C6" rx="3" />
  <path
    fill="#fff"
    d="M20.03 15.22C20 15.6 20 16.07 20 17v2.8c0 1.14 0 1.7-.2 2.12-.15.31-.3.5-.58.71-.37.28-1.06.42-2.43.7-.59.12-1.11.29-1.6.51a9 9 0 0 0-4.35 4.36C10 30 10 32.34 10 37c0 4.66 0 7 .84 8.8a9 9 0 0 0 4.36 4.36C17 51 19.34 51 24 51h12c4.66 0 7 0 8.8-.84a9 9 0 0 0 4.36-4.36C50 44 50 41.66 50 37c0-4.66 0-7-.84-8.8a9 9 0 0 0-4.36-4.36c-.48-.22-1-.39-1.6-.5-1.36-.29-2.05-.43-2.42-.7-.27-.22-.43-.4-.58-.72-.2-.42-.2-.98-.2-2.11V17c0-.93 0-1.4-.03-1.78a9 9 0 0 0-8.19-8.19C31.4 7 30.93 7 30 7s-1.4 0-1.78.03a9 9 0 0 0-8.19 8.19Z"
  />
  <path
    fill="#E87DE8"
    d="M22 17c0-.93 0-1.4.04-1.78a7 7 0 0 1 6.18-6.18C28.6 9 29.07 9 30 9s1.4 0 1.78.04a7 7 0 0 1 6.18 6.18c.04.39.04.85.04 1.78v4.5a1.5 1.5 0 0 1-3 0V17c0-.93 0-1.4-.08-1.78a4 4 0 0 0-3.14-3.14C31.39 12 30.93 12 30 12s-1.4 0-1.78.08a4 4 0 0 0-3.14 3.14c-.08.39-.08.85-.08 1.78v4.5a1.5 1.5 0 0 1-3 0V17Z"
  />
  <path
    fill="#E87DE8"
    fill-rule="evenodd"
    d="M12 36.62c0-4.32 0-6.48.92-8.09a7 7 0 0 1 2.61-2.61C17.14 25 19.3 25 23.62 25h6.86c.46 0 .7 0 .9.02 2.73.22 4.37 2.43 4.62 4.98.27-2.7 2.11-5 5.02-5A6.98 6.98 0 0 1 48 31.98v5.4c0 4.32 0 6.48-.92 8.09a7 7 0 0 1-2.61 2.61c-1.61.92-3.77.92-8.09.92h-5.86c-.46 0-.7 0-.9-.02-2.73-.22-4.37-2.43-4.62-4.98-.26 2.58-1.94 4.82-4.71 4.99l-.7.01c-.55 0-.82 0-1.05-.02a7 7 0 0 1-6.52-6.52c-.02-.23-.02-.5-.02-1.05v-4.79Zm21.24-.27a4 4 0 1 0-6.48 0 31.28 31.28 0 0 1 1.57 2.23c.17.4.17.81.17 1.24V42.5a1.5 1.5 0 0 0 3 0V39.82c0-.43 0-.85.17-1.24.09-.2.58-.87 1.57-2.23Z"
    clip-rule="evenodd"
  />
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
</svg>`,loginSvg=b$2`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <path
      fill="#EB8B47"
      d="M0 24.9c0-9.25 0-13.88 1.97-17.33a15 15 0 0 1 5.6-5.6C11.02 0 15.65 0 24.9 0h10.2c9.25 0 13.88 0 17.33 1.97a15 15 0 0 1 5.6 5.6C60 11.02 60 15.65 60 24.9v10.2c0 9.25 0 13.88-1.97 17.33a15 15 0 0 1-5.6 5.6C48.98 60 44.35 60 35.1 60H24.9c-9.25 0-13.88 0-17.33-1.97a15 15 0 0 1-5.6-5.6C0 48.98 0 44.35 0 35.1V24.9Z"
    />
    <path
      stroke="#062B2B"
      stroke-opacity=".1"
      d="M.5 24.9c0-4.64 0-8.08.24-10.8.25-2.7.73-4.65 1.66-6.28A14.5 14.5 0 0 1 7.82 2.4C9.46 1.47 11.39 1 14.1.74A133 133 0 0 1 24.9.5h10.2c4.63 0 8.08 0 10.8.24 2.7.25 4.65.73 6.28 1.66a14.5 14.5 0 0 1 5.42 5.42c.93 1.63 1.41 3.57 1.66 6.28.24 2.72.24 6.16.24 10.8v10.2c0 4.63 0 8.08-.24 10.8-.25 2.7-.73 4.64-1.66 6.28a14.5 14.5 0 0 1-5.42 5.41c-1.63.94-3.57 1.42-6.28 1.67-2.72.24-6.17.24-10.8.24H24.9c-4.63 0-8.08 0-10.8-.24-2.7-.25-4.64-.73-6.28-1.67a14.5 14.5 0 0 1-5.42-5.4C1.47 50.53 1 48.6.74 45.88A133 133 0 0 1 .5 35.1V24.9Z"
    />
    <path
      fill="#FF974C"
      stroke="#fff"
      stroke-width="2"
      d="M39.2 29.2a13 13 0 1 0-18.4 0l1.3 1.28a12.82 12.82 0 0 1 2.1 2.39 6 6 0 0 1 .6 1.47c.2.76.2 1.56.2 3.17v11.24c0 1.08 0 1.61.13 2.12a4 4 0 0 0 .41.98c.26.45.64.83 1.4 1.6l.3.29c.65.65.98.98 1.36 1.09.26.07.54.07.8 0 .38-.11.7-.44 1.36-1.1l3.48-3.47c.65-.65.98-.98 1.09-1.36a1.5 1.5 0 0 0 0-.8c-.1-.38-.44-.7-1.1-1.36l-.47-.48c-.65-.65-.98-.98-1.09-1.36a1.5 1.5 0 0 1 0-.8c.1-.38.44-.7 1.1-1.36l.47-.48c.65-.65.98-.98 1.09-1.36a1.5 1.5 0 0 0 0-.8c-.1-.38-.44-.7-1.1-1.36l-.48-.5c-.65-.64-.98-.97-1.08-1.35a1.5 1.5 0 0 1 0-.79c.1-.38.42-.7 1.06-1.36l5.46-5.55Z"
    />
    <circle cx="30" cy="17" r="4" fill="#EB8B47" stroke="#fff" stroke-width="2" />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M0 0h60v60H0z" /></clipPath>
  </defs>
</svg> `,networkSvg=b$2`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#00ACE6" rx="30" />
    <circle cx="64" cy="39" r="50" fill="#1AC6FF" stroke="#fff" stroke-width="2" />
    <circle cx="78" cy="30" r="50" fill="#4DD2FF" stroke="#fff" stroke-width="2" />
    <circle cx="72" cy="15" r="35" fill="#80DFFF" stroke="#fff" stroke-width="2" />
    <circle cx="34" cy="-17" r="45" stroke="#fff" stroke-width="2" />
    <circle cx="34" cy="-5" r="50" stroke="#fff" stroke-width="2" />
    <circle cx="30" cy="45" r="4" fill="#4DD2FF" stroke="#fff" stroke-width="2" />
    <circle cx="39.5" cy="27.5" r="4" fill="#80DFFF" stroke="#fff" stroke-width="2" />
    <circle cx="16" cy="24" r="4" fill="#19C6FF" stroke="#fff" stroke-width="2" />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#062B2B" stroke-opacity=".1" rx="29.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="30" /></clipPath>
  </defs>
</svg>`,nftSvg=b$2`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#C653C6" rx="3" />
    <path
      fill="#E87DE8"
      stroke="#fff"
      stroke-width="2"
      d="M52.1 47.34c0-4.24-1.44-9.55-5.9-12.4a2.86 2.86 0 0 0-1.6-3.89v-.82c0-1.19-.52-2.26-1.35-3a4.74 4.74 0 0 0-2.4-6.26v-5.5a11.31 11.31 0 1 0-22.63 0v2.15a3.34 3.34 0 0 0-1.18 5.05 4.74 4.74 0 0 0-.68 6.44A5.22 5.22 0 0 0 14 35.92c-3.06 4.13-6.1 8.3-6.1 15.64 0 2.67.37 4.86.74 6.39a20.3 20.3 0 0 0 .73 2.39l.02.04v.01l.92-.39-.92.4.26.6h38.26l.3-.49-.87-.51.86.5.02-.01.03-.07a16.32 16.32 0 0 0 .57-1.05c.36-.72.85-1.74 1.33-2.96a25.51 25.51 0 0 0 1.94-9.07Z"
    />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="M26.5 29.5c-3-.5-5.5-3-5.5-7v-7c0-.47 0-.7.03-.9a3 3 0 0 1 2.58-2.57c.2-.03.42-.03.89-.03 2 0 2.5-2.5 2.5-2.5s0 2.5 2.5 2.5c1.4 0 2.1 0 2.65.23a3 3 0 0 1 1.62 1.62c.23.55.23 1.25.23 2.65v6c0 4-3 7-6.5 7 1.35.23 4 0 6.5-2v9.53C34 38.5 31.5 40 28 40s-6-1.5-6-2.97L24 34l2.5 1.5v-6ZM26 47h4.5c2.5 0 3 4 3 5.5h-3l-1-1.5H26v-4Zm-6.25 5.5H24V57h-8c0-1 1-4.5 3.75-4.5Z"
      clip-rule="evenodd"
    />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="3" /></clipPath>
  </defs>
</svg> `,nounSvg=b$2`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#794CFF" rx="3" />
  <path
    fill="#987DE8"
    stroke="#fff"
    stroke-width="2"
    d="M33 22.5v-1H16v5H8.5V36H13v-5h3v7.5h17V31h1v7.5h17v-17H34v5h-1v-4Z"
  />
  <path fill="#fff" d="M37.5 25h10v10h-10z" />
  <path fill="#4019B2" d="M42.5 25h5v10h-5z" />
  <path fill="#fff" d="M19.5 25h10v10h-10z" />
  <path fill="#4019B2" d="M24.5 25h5v10h-5z" />
  <path fill="#fff" d="M12 30.5h4V37h-4v-6.5Z" />
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
</svg>`,profileSvg=b$2`<svg
  viewBox="0 0 60 60"
  fill="none"
>
  <g clip-path="url(#1)">
    <rect width="60" height="60" rx="30" fill="#00ACE6" />
    <path
      d="M59 73C59 89.0163 46.0163 102 30 102C13.9837 102 1 89.0163 1 73C1 56.9837 12 44 30 44C48 44 59 56.9837 59 73Z"
      fill="#1AC6FF"
      stroke="white"
      stroke-width="2"
    />
    <path
      d="M18.6904 19.9015C19.6264 15.3286 23.3466 11.8445 27.9708 11.2096C29.3231 11.024 30.6751 11.0238 32.0289 11.2096C36.6532 11.8445 40.3733 15.3286 41.3094 19.9015C41.4868 20.7681 41.6309 21.6509 41.7492 22.5271C41.8811 23.5041 41.8811 24.4944 41.7492 25.4715C41.6309 26.3476 41.4868 27.2304 41.3094 28.097C40.3733 32.6699 36.6532 36.154 32.0289 36.7889C30.6772 36.9744 29.3216 36.9743 27.9708 36.7889C23.3466 36.154 19.6264 32.6699 18.6904 28.097C18.513 27.2304 18.3689 26.3476 18.2506 25.4715C18.1186 24.4944 18.1186 23.5041 18.2506 22.5271C18.3689 21.6509 18.513 20.7681 18.6904 19.9015Z"
      fill="#1AC6FF"
      stroke="white"
      stroke-width="2"
    />
    <circle cx="24.5" cy="23.5" r="1.5" fill="white" />
    <circle cx="35.5" cy="23.5" r="1.5" fill="white" />
    <path
      d="M31 20L28 28H32"
      stroke="white"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  </g>
  <rect x="0.5" y="0.5" width="59" height="59" rx="29.5" stroke="white" stroke-opacity="0.1" />
  <defs>
    <clipPath id="1">
      <rect width="60" height="60" rx="30" fill="white" />
    </clipPath>
  </defs>
</svg> `,systemSvg=b$2`<svg viewBox="0 0 60 60" fill="none">
  <g clip-path="url(#1)">
    <path
      d="M0 24.9C0 15.6485 0 11.0228 1.97053 7.56812C3.3015 5.23468 5.23468 3.3015 7.56812 1.97053C11.0228 0 15.6485 0 24.9 0H35.1C44.3514 0 48.9772 0 52.4319 1.97053C54.7653 3.3015 56.6985 5.23468 58.0295 7.56812C60 11.0228 60 15.6485 60 24.9V35.1C60 44.3514 60 48.9772 58.0295 52.4319C56.6985 54.7653 54.7653 56.6985 52.4319 58.0295C48.9772 60 44.3514 60 35.1 60H24.9C15.6485 60 11.0228 60 7.56812 58.0295C5.23468 56.6985 3.3015 54.7653 1.97053 52.4319C0 48.9772 0 44.3514 0 35.1V24.9Z"
      fill="#794CFF"
    />
    <path
      d="M0.5 24.9C0.5 20.2652 0.50047 16.8221 0.744315 14.105C0.987552 11.3946 1.46987 9.45504 2.40484 7.81585C3.69145 5.56019 5.56019 3.69145 7.81585 2.40484C9.45504 1.46987 11.3946 0.987552 14.105 0.744315C16.8221 0.50047 20.2652 0.5 24.9 0.5H35.1C39.7348 0.5 43.1779 0.50047 45.895 0.744315C48.6054 0.987552 50.545 1.46987 52.1841 2.40484C54.4398 3.69145 56.3086 5.56019 57.5952 7.81585C58.5301 9.45504 59.0124 11.3946 59.2557 14.105C59.4995 16.8221 59.5 20.2652 59.5 24.9V35.1C59.5 39.7348 59.4995 43.1779 59.2557 45.895C59.0124 48.6054 58.5301 50.545 57.5952 52.1841C56.3086 54.4398 54.4398 56.3086 52.1841 57.5952C50.545 58.5301 48.6054 59.0124 45.895 59.2557C43.1779 59.4995 39.7348 59.5 35.1 59.5H24.9C20.2652 59.5 16.8221 59.4995 14.105 59.2557C11.3946 59.0124 9.45504 58.5301 7.81585 57.5952C5.56019 56.3086 3.69145 54.4398 2.40484 52.1841C1.46987 50.545 0.987552 48.6054 0.744315 45.895C0.50047 43.1779 0.5 39.7348 0.5 35.1V24.9Z"
      stroke="#062B2B"
      stroke-opacity="0.1"
    />
    <path
      d="M35.1403 31.5016C35.1193 30.9637 35.388 30.4558 35.8446 30.1707C36.1207 29.9982 36.4761 29.8473 36.7921 29.7685C37.3143 29.6382 37.8664 29.7977 38.2386 30.1864C38.8507 30.8257 39.3004 31.6836 39.8033 32.408C40.2796 33.0942 41.4695 33.2512 41.9687 32.5047C42.4839 31.7341 42.9405 30.8229 43.572 30.1399C43.9375 29.7447 44.4866 29.5756 45.0111 29.6967C45.3283 29.7701 45.6863 29.9147 45.9655 30.0823C46.4269 30.3595 46.7045 30.8626 46.6928 31.4008C46.6731 32.3083 46.3764 33.2571 46.2158 34.1473C46.061 35.0048 46.9045 35.8337 47.7592 35.664C48.6464 35.4878 49.5899 35.1747 50.497 35.1391C51.0348 35.1181 51.5427 35.3868 51.8279 35.8433C52.0004 36.1195 52.1513 36.4749 52.2301 36.7908C52.3604 37.3131 52.2009 37.8651 51.8121 38.2374C51.1729 38.8495 50.3151 39.2991 49.5908 39.8019C48.9046 40.2782 48.7473 41.4683 49.4939 41.9675C50.2644 42.4827 51.1757 42.9393 51.8587 43.5708C52.2539 43.9362 52.423 44.4854 52.3018 45.0099C52.2285 45.3271 52.0839 45.6851 51.9162 45.9642C51.6391 46.4257 51.1359 46.7032 50.5978 46.6916C49.6903 46.6719 48.7417 46.3753 47.8516 46.2146C46.9939 46.0598 46.1648 46.9035 46.3346 47.7583C46.5108 48.6454 46.8239 49.5888 46.8594 50.4958C46.8805 51.0336 46.6117 51.5415 46.1552 51.8267C45.879 51.9992 45.5236 52.15 45.2077 52.2289C44.6854 52.3592 44.1334 52.1997 43.7611 51.8109C43.1491 51.1718 42.6996 50.314 42.1968 49.5897C41.7203 48.9034 40.5301 48.7463 40.0309 49.493C39.5157 50.2634 39.0592 51.1746 38.4278 51.8574C38.0623 52.2527 37.5132 52.4218 36.9887 52.3006C36.6715 52.2273 36.3135 52.0826 36.0343 51.915C35.5729 51.6379 35.2953 51.1347 35.307 50.5966C35.3267 49.6891 35.6233 48.7405 35.7839 47.8505C35.9388 46.9928 35.0951 46.1636 34.2402 46.3334C33.3531 46.5096 32.4098 46.8227 31.5028 46.8582C30.9649 46.8793 30.457 46.6105 30.1719 46.154C29.9994 45.8778 29.8485 45.5224 29.7697 45.2065C29.6394 44.6842 29.7989 44.1322 30.1877 43.7599C30.8269 43.1479 31.6847 42.6982 32.4091 42.1954C33.0954 41.7189 33.2522 40.5289 32.5056 40.0297C31.7351 39.5145 30.824 39.058 30.1411 38.4265C29.7459 38.0611 29.5768 37.5119 29.698 36.9875C29.7713 36.6702 29.9159 36.3122 30.0836 36.0331C30.3607 35.5717 30.8638 35.2941 31.402 35.3058C32.3095 35.3255 33.2583 35.6221 34.1485 35.7828C35.006 35.9376 35.8349 35.094 35.6652 34.2393C35.489 33.3521 35.1759 32.4087 35.1403 31.5016Z"
      fill="#906EF7"
      stroke="white"
      stroke-width="2"
    />
    <path
      d="M20.7706 8.22357C20.9036 7.51411 21.5231 7 22.2449 7H23.7551C24.4769 7 25.0964 7.51411 25.2294 8.22357C25.5051 9.69403 25.4829 11.6321 27.1202 12.2606C27.3092 12.3331 27.4958 12.4105 27.6798 12.4926C29.2818 13.2072 30.6374 11.8199 31.8721 10.9752C32.4678 10.5676 33.2694 10.6421 33.7798 11.1525L34.8477 12.2204C35.3581 12.7308 35.4326 13.5323 35.025 14.128C34.1802 15.3627 32.7931 16.7183 33.5077 18.3202C33.5898 18.5043 33.6672 18.6909 33.7398 18.88C34.3683 20.5171 36.3061 20.4949 37.7764 20.7706C38.4859 20.9036 39 21.5231 39 22.2449V23.7551C39 24.4769 38.4859 25.0964 37.7764 25.2294C36.3061 25.5051 34.3685 25.483 33.7401 27.1201C33.6675 27.3093 33.59 27.4961 33.5079 27.6803C32.7934 29.282 34.1803 30.6374 35.025 31.8719C35.4326 32.4677 35.3581 33.2692 34.8477 33.7796L33.7798 34.8475C33.2694 35.3579 32.4678 35.4324 31.8721 35.0248C30.6376 34.1801 29.2823 32.7934 27.6806 33.508C27.4962 33.5903 27.3093 33.6678 27.12 33.7405C25.483 34.3688 25.5051 36.3062 25.2294 37.7764C25.0964 38.4859 24.4769 39 23.7551 39H22.2449C21.5231 39 20.9036 38.4859 20.7706 37.7764C20.4949 36.3062 20.517 34.3688 18.88 33.7405C18.6908 33.6678 18.5039 33.5903 18.3196 33.5081C16.7179 32.7936 15.3625 34.1804 14.1279 35.0251C13.5322 35.4327 12.7307 35.3582 12.2203 34.8478L11.1524 33.7799C10.642 33.2695 10.5675 32.4679 10.9751 31.8722C11.8198 30.6376 13.2067 29.2822 12.4922 27.6804C12.41 27.4962 12.3325 27.3093 12.2599 27.1201C11.6315 25.483 9.69392 25.5051 8.22357 25.2294C7.51411 25.0964 7 24.4769 7 23.7551V22.2449C7 21.5231 7.51411 20.9036 8.22357 20.7706C9.69394 20.4949 11.6317 20.5171 12.2602 18.88C12.3328 18.6909 12.4103 18.5042 12.4924 18.3201C13.207 16.7181 11.8198 15.3625 10.975 14.1278C10.5674 13.5321 10.6419 12.7305 11.1523 12.2201L12.2202 11.1522C12.7306 10.6418 13.5322 10.5673 14.1279 10.9749C15.3626 11.8197 16.7184 13.2071 18.3204 12.4925C18.5044 12.4105 18.6909 12.3331 18.8799 12.2606C20.5171 11.6321 20.4949 9.69403 20.7706 8.22357Z"
      fill="#906EF7"
      stroke="white"
      stroke-width="2"
    />
    <circle cx="23" cy="23" r="6" fill="#794CFF" stroke="white" stroke-width="2" />
    <circle cx="41" cy="41" r="4" fill="#794CFF" stroke="white" stroke-width="2" />
  </g>
  <defs>
    <clipPath id="1">
      <rect width="60" height="60" fill="white" />
    </clipPath>
  </defs>
</svg> `,coinbaseSvg=b$2`<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
  <g clip-path="url(#clip0_187_29)">
    <path d="M1.18187e-05 15.8055C1.18187e-05 9.8015 -5.19442e-07 6.91338 1.69991e-08 0C4.5 3.72236e-05 9.62249 0 16.5 0L23.5 4.31399e-05C29.9349 4.31399e-05 35.5 0.000206332 40 3.73468e-05C40 2.77754 40 9.36708 40 15.8055V22.8364C40 29.2647 40 33.7962 40 40C31.5 40 29.8337 40 23.4 40H16.6C10.5092 40 6.50004 40 4.04289e-05 40C3.05176e-05 32.2453 1.18187e-05 29.6382 1.18187e-05 22.8364V15.8055Z" fill="#0052FF"/>
    <path d="M20.0236 26.5C16.4342 26.5 13.5236 23.5931 13.5236 20C13.5236 16.4069 16.4342 13.5 20.0236 13.5C23.2411 13.5 25.9134 15.8472 26.4261 18.9167H32.9731C32.4206 12.2433 26.8342 7 20.02 7C12.8411 7 7.02002 12.8211 7.02002 20C7.02002 27.1789 12.8411 33 20.02 33C26.8342 33 32.4206 27.7567 32.9731 21.0833H26.4225C25.9061 24.1528 23.2411 26.5 20.0236 26.5Z" fill="white"/>
  </g>
  <defs>
    <clipPath id="clip0_187_29">
      <rect width="40" height="40" fill="white"/>
    </clipPath>
  </defs>
</svg>`,moonpaySvg=b$2`
  <svg width="40" height="40" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#a)">
      <path
        d="M0 16.6c0-6.168 0-9.251 1.314-11.555a10 10 0 0 1 3.731-3.731C7.35 0 10.432 0 16.6 0h6.8c6.168 0 9.252 0 11.555 1.314a10 10 0 0 1 3.731 3.731C40 7.35 40 10.432 40 16.6v6.8c0 6.168 0 9.252-1.314 11.555a10 10 0 0 1-3.731 3.731C32.652 40 29.568 40 23.4 40h-6.8c-6.168 0-9.251 0-11.555-1.314a10 10 0 0 1-3.731-3.731C0 32.652 0 29.568 0 23.4v-6.8Z"
        fill="#7D00FF"
      />
      <path
        d="M.5 16.6c0-3.093 0-5.38.162-7.182.161-1.795.48-3.061 1.086-4.125a9.5 9.5 0 0 1 3.545-3.545C6.357 1.141 7.623.823 9.418.662 11.221.5 13.508.5 16.6.5h6.8c3.093 0 5.38 0 7.182.162 1.795.161 3.062.48 4.125 1.086a9.5 9.5 0 0 1 3.545 3.545c.607 1.064.925 2.33 1.086 4.125.161 1.803.162 4.09.162 7.182v6.8c0 3.093 0 5.38-.162 7.182-.161 1.795-.48 3.062-1.086 4.125a9.5 9.5 0 0 1-3.545 3.545c-1.063.607-2.33.925-4.125 1.086-1.803.161-4.09.162-7.182.162h-6.8c-3.093 0-5.38 0-7.182-.162-1.795-.161-3.061-.48-4.125-1.086a9.5 9.5 0 0 1-3.545-3.545c-.607-1.063-.925-2.33-1.086-4.125C.5 28.779.5 26.492.5 23.4v-6.8Z"
        stroke="#fff"
        stroke-opacity=".05"
      />
      <path
        d="M28.306 15.381a3.69 3.69 0 1 0 0-7.381 3.69 3.69 0 0 0 0 7.381ZM16.987 32a8.991 8.991 0 1 1 .016-17.983A8.991 8.991 0 0 1 16.988 32Z"
        fill="#fff"
      />
    </g>
    <defs>
      <clipPath id="a"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    </defs>
  </svg>
`,stripeSvg=b$2`
  <svg width="40" height="40" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#a)">
      <path
        d="M0 16.6c0-6.168 0-9.251 1.314-11.555a10 10 0 0 1 3.731-3.731C7.35 0 10.432 0 16.6 0h6.8c6.168 0 9.252 0 11.555 1.314a10 10 0 0 1 3.731 3.731C40 7.35 40 10.432 40 16.6v6.8c0 6.168 0 9.252-1.314 11.555a10 10 0 0 1-3.731 3.731C32.652 40 29.568 40 23.4 40h-6.8c-6.168 0-9.251 0-11.555-1.314a10 10 0 0 1-3.731-3.731C0 32.652 0 29.568 0 23.4v-6.8Z"
        fill="#635BFF"
      />
      <path
        d="M.5 16.6c0-3.093 0-5.38.162-7.182.161-1.795.48-3.061 1.086-4.125a9.5 9.5 0 0 1 3.545-3.545C6.357 1.141 7.623.823 9.418.662 11.221.5 13.508.5 16.6.5h6.8c3.093 0 5.38 0 7.182.162 1.795.161 3.062.48 4.125 1.086a9.5 9.5 0 0 1 3.545 3.545c.607 1.064.925 2.33 1.086 4.125.161 1.803.162 4.09.162 7.182v6.8c0 3.093 0 5.38-.162 7.182-.161 1.795-.48 3.062-1.086 4.125a9.5 9.5 0 0 1-3.545 3.545c-1.063.607-2.33.925-4.125 1.086-1.803.161-4.09.162-7.182.162h-6.8c-3.093 0-5.38 0-7.182-.162-1.795-.161-3.061-.48-4.125-1.086a9.5 9.5 0 0 1-3.545-3.545c-.607-1.063-.925-2.33-1.086-4.125C.5 28.779.5 26.492.5 23.4v-6.8Z"
        stroke="#fff"
        stroke-opacity=".05"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M18.299 15.147c0-1.028.844-1.424 2.242-1.424 2.004 0 4.536.607 6.54 1.688V9.213C24.892 8.343 22.73 8 20.541 8c-5.354 0-8.915 2.796-8.915 7.464 0 7.279 10.022 6.118 10.022 9.257 0 1.213-1.055 1.609-2.531 1.609-2.19 0-4.985-.897-7.2-2.11v6.277a18.283 18.283 0 0 0 7.2 1.503c5.485 0 9.257-2.716 9.257-7.437-.027-7.86-10.075-6.462-10.075-9.416Z"
        fill="#fff"
      />
    </g>
    <defs>
      <clipPath id="a"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    </defs>
  </svg>
`,paypalSvg=b$2`
  <svg width="40" height="40" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#a)">
      <path
        d="M0 16.6c0-6.168 0-9.251 1.314-11.555a10 10 0 0 1 3.731-3.731C7.35 0 10.432 0 16.6 0h6.8c6.168 0 9.252 0 11.555 1.314a10 10 0 0 1 3.731 3.731C40 7.35 40 10.432 40 16.6v6.8c0 6.168 0 9.252-1.314 11.555a10 10 0 0 1-3.731 3.731C32.652 40 29.568 40 23.4 40h-6.8c-6.168 0-9.251 0-11.555-1.314a10 10 0 0 1-3.731-3.731C0 32.652 0 29.568 0 23.4v-6.8Z"
        fill="#fff"
      />
      <path
        d="M.5 16.6c0-3.093 0-5.38.162-7.182.161-1.795.48-3.061 1.086-4.125a9.5 9.5 0 0 1 3.545-3.545C6.357 1.141 7.623.823 9.418.662 11.221.5 13.508.5 16.6.5h6.8c3.093 0 5.38 0 7.182.162 1.795.161 3.062.48 4.125 1.086a9.5 9.5 0 0 1 3.545 3.545c.607 1.064.925 2.33 1.086 4.125.161 1.803.162 4.09.162 7.182v6.8c0 3.093 0 5.38-.162 7.182-.161 1.795-.48 3.062-1.086 4.125a9.5 9.5 0 0 1-3.545 3.545c-1.063.607-2.33.925-4.125 1.086-1.803.161-4.09.162-7.182.162h-6.8c-3.093 0-5.38 0-7.182-.162-1.795-.161-3.061-.48-4.125-1.086a9.5 9.5 0 0 1-3.545-3.545c-.607-1.063-.925-2.33-1.086-4.125C.5 28.779.5 26.492.5 23.4v-6.8Z"
        stroke="#fff"
        stroke-opacity=".05"
      />
      <path
        d="M18.606 12.642a.781.781 0 0 0-.771.66l-1.281 8.125a.78.78 0 0 1 .77-.66h3.755a7.668 7.668 0 0 0 7.57-6.49 6.26 6.26 0 0 0 .075-.843c-.96-.504-2.089-.792-3.325-.792h-6.793Z"
        fill="#001C64"
      />
      <path
        d="M28.724 13.434c-.006.282-.03.564-.075.843a7.668 7.668 0 0 1-7.57 6.491h-3.754a.78.78 0 0 0-.771.66l-1.916 12.15a.634.634 0 0 0 .626.734h4.075a.781.781 0 0 0 .77-.66l1.074-6.807a.781.781 0 0 1 .772-.66h2.4a7.668 7.668 0 0 0 7.57-6.491c.415-2.651-.92-5.064-3.201-6.26Z"
        fill="#0070E0"
      />
      <path
        d="M13.977 7.226a.78.78 0 0 0-.771.658l-3.198 20.277a.634.634 0 0 0 .626.733h4.742l1.178-7.467 1.281-8.125a.782.782 0 0 1 .771-.66H25.4c1.237 0 2.364.289 3.325.792.065-3.4-2.74-6.208-6.599-6.208h-8.148Z"
        fill="#003087"
      />
    </g>
    <defs>
      <clipPath id="a"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    </defs>
  </svg>
`,onrampCardSvg=b$2`<svg width="60" height="60" viewBox="0 0 60 60" fill="none">
<g clip-path="url(#clip0_13859_31161)">
  <path d="M0 24.8995C0 15.6481 0 11.0223 1.97053 7.56763C3.3015 5.2342 5.23468 3.30101 7.56812 1.97004C11.0228 -0.000488281 15.6485 -0.000488281 24.9 -0.000488281H35.1C44.3514 -0.000488281 48.9772 -0.000488281 52.4319 1.97004C54.7653 3.30101 56.6985 5.2342 58.0295 7.56763C60 11.0223 60 15.6481 60 24.8995V35.0995C60 44.351 60 48.9767 58.0295 52.4314C56.6985 54.7648 54.7653 56.698 52.4319 58.029C48.9772 59.9995 44.3514 59.9995 35.1 59.9995H24.9C15.6485 59.9995 11.0228 59.9995 7.56812 58.029C5.23468 56.698 3.3015 54.7648 1.97053 52.4314C0 48.9767 0 44.351 0 35.0995V24.8995Z" fill="#EB8B47"/>
  <path d="M0.5 24.8995C0.5 20.2647 0.50047 16.8216 0.744315 14.1045C0.987552 11.3941 1.46987 9.45455 2.40484 7.81536C3.69145 5.55971 5.56019 3.69096 7.81585 2.40435C9.45504 1.46938 11.3946 0.987064 14.105 0.743826C16.8221 0.499981 20.2652 0.499512 24.9 0.499512H35.1C39.7348 0.499512 43.1779 0.499981 45.895 0.743826C48.6054 0.987064 50.545 1.46938 52.1841 2.40435C54.4398 3.69096 56.3086 5.55971 57.5952 7.81536C58.5301 9.45455 59.0124 11.3941 59.2557 14.1045C59.4995 16.8216 59.5 20.2647 59.5 24.8995V35.0995C59.5 39.7343 59.4995 43.1774 59.2557 45.8945C59.0124 48.6049 58.5301 50.5445 57.5952 52.1837C56.3086 54.4393 54.4398 56.3081 52.1841 57.5947C50.545 58.5296 48.6054 59.012 45.895 59.2552C43.1779 59.499 39.7348 59.4995 35.1 59.4995H24.9C20.2652 59.4995 16.8221 59.499 14.105 59.2552C11.3946 59.012 9.45504 58.5296 7.81585 57.5947C5.56019 56.3081 3.69145 54.4393 2.40484 52.1837C1.46987 50.5445 0.987552 48.6049 0.744315 45.8945C0.50047 43.1774 0.5 39.7343 0.5 35.0995V24.8995Z" stroke="#141414" stroke-opacity="0.1"/>
  <path d="M13 26.0335C13 21.7838 13 19.659 14.0822 18.1694C14.4318 17.6883 14.8548 17.2653 15.3359 16.9157C16.8255 15.8335 18.9503 15.8335 23.2 15.8335H36.8C41.0497 15.8335 43.1745 15.8335 44.6641 16.9157C45.1452 17.2653 45.5682 17.6883 45.9178 18.1694C47 19.659 47 21.7838 47 26.0335V33.9668C47 38.2165 47 40.3414 45.9178 41.831C45.5682 42.312 45.1452 42.7351 44.6641 43.0846C43.1745 44.1668 41.0497 44.1668 36.8 44.1668H23.2C18.9503 44.1668 16.8255 44.1668 15.3359 43.0846C14.8548 42.7351 14.4318 42.312 14.0822 41.831C13 40.3414 13 38.2165 13 33.9668V26.0335Z" fill="#FF974C" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M39.5 36.667H36.6666" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M45.2 23.0645H14.8C14.0501 23.0645 13.6751 23.0645 13.4122 23.2554C13.3273 23.3171 13.2527 23.3918 13.191 23.4767C13 23.7395 13 24.1145 13 24.8645V27.2645C13 28.0144 13 28.3894 13.191 28.6522C13.2527 28.7371 13.3273 28.8118 13.4122 28.8735C13.6751 29.0645 14.0501 29.0645 14.8 29.0645H45.2C45.9499 29.0645 46.3249 29.0645 46.5878 28.8735C46.6727 28.8118 46.7473 28.7371 46.809 28.6522C47 28.3894 47 28.0144 47 27.2645V24.8645C47 24.1145 47 23.7395 46.809 23.4767C46.7473 23.3918 46.6727 23.3171 46.5878 23.2554C46.3249 23.0645 45.9499 23.0645 45.2 23.0645Z" fill="white" fill-opacity="0.4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</g>
<defs>
  <clipPath id="clip0_13859_31161">
    <rect width="60" height="60" fill="white"/>
  </clipPath>
</defs>
</svg>`,googleSvg=b$2`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="64" height="64" rx="30" fill="#1DC956"/>
  <rect x="0.5" y="0.5" width="63" height="63" rx="29.5" stroke="#141414" stroke-opacity="0.1"/>
  <path d="M32.4053 19.8031C35.3901 19.8031 38.0431 20.8349 40.1619 22.8247L45.9656 17.0211C42.4465 13.7416 37.8773 11.7333 32.4053 11.7333C24.4829 11.7333 17.6475 16.2841 14.3127 22.9168L21.056 28.1493C22.6589 23.359 27.136 19.8031 32.4053 19.8031Z" fill="#1DC956" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  <path d="M32.4053 52.2667C37.8773 52.2667 42.465 50.4611 45.8182 47.3658L39.2407 42.2623C37.4351 43.4783 35.1321 44.2153 32.4053 44.2153C27.136 44.2153 22.6589 40.6594 21.056 35.8691L14.3127 41.1016C17.6475 47.7159 24.4829 52.2667 32.4053 52.2667Z" fill="#2BEE6C"/>
  <path d="M21.056 35.8507L19.5636 36.993L14.3127 41.0832M39.2407 42.2623L45.8182 47.3658C42.465 50.4611 37.8773 52.2667 32.4053 52.2667C24.4829 52.2667 17.6475 47.7159 14.3127 41.1016L21.056 35.8691C22.6589 40.6594 27.136 44.2153 32.4053 44.2153C35.1321 44.2153 37.4351 43.4783 39.2407 42.2623Z" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  <path d="M51.8613 32.4606C51.8613 31.0235 51.7323 29.6417 51.4928 28.3151H32.4053V36.1638H43.3124C42.8334 38.688 41.3963 40.8252 39.2407 42.2623L45.8181 47.3658C49.6503 43.8283 51.8613 38.6327 51.8613 32.4606Z" fill="#1FAD7E" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  <path d="M21.056 35.8507C20.6507 34.6347 20.4111 33.345 20.4111 32C20.4111 30.655 20.6507 29.3653 21.056 28.1493L14.3127 22.9169C12.9309 25.6437 12.1387 28.7205 12.1387 32C12.1387 35.2795 12.9309 38.3564 14.3127 41.0831L19.5636 36.993L21.056 35.8507Z" fill="#86F999"/>
  <path d="M21.056 35.8691L14.3127 41.1016M21.056 35.8507C20.6507 34.6347 20.4111 33.345 20.4111 32C20.4111 30.655 20.6507 29.3653 21.056 28.1493L14.3127 22.9169C12.9309 25.6437 12.1387 28.7205 12.1387 32C12.1387 35.2795 12.9309 38.3564 14.3127 41.0831L19.5636 36.993L21.056 35.8507Z" stroke="white" stroke-width="2" stroke-linejoin="round"/>
</svg>
`,pencilSvg=b$2`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_241_31635)">
    <path d="M0 26.5595C0 16.6913 0 11.7572 2.1019 8.07217C3.5216 5.58317 5.58366 3.52111 8.07266 2.10141C11.7577 -0.000488281 16.6918 -0.000488281 26.56 -0.000488281H37.44C47.3082 -0.000488281 52.2423 -0.000488281 55.9273 2.10141C58.4163 3.52111 60.4784 5.58317 61.8981 8.07217C64 11.7572 64 16.6913 64 26.5595V37.4395C64 47.3077 64 52.2418 61.8981 55.9268C60.4784 58.4158 58.4163 60.4779 55.9273 61.8976C52.2423 63.9995 47.3082 63.9995 37.44 63.9995H26.56C16.6918 63.9995 11.7577 63.9995 8.07266 61.8976C5.58366 60.4779 3.5216 58.4158 2.1019 55.9268C0 52.2418 0 47.3077 0 37.4395V26.5595Z" fill="#EB8B47"/>
    <path d="M0.5 26.5595C0.5 21.6163 0.50047 17.942 0.760736 15.0418C1.02039 12.1485 1.53555 10.0742 2.53621 8.3199C3.91155 5.90869 5.90917 3.91106 8.32039 2.53572C10.0747 1.53506 12.1489 1.01991 15.0423 0.760247C17.9425 0.499981 21.6168 0.499512 26.56 0.499512H37.44C42.3832 0.499512 46.0575 0.499981 48.9577 0.760247C51.8511 1.01991 53.9253 1.53506 55.6796 2.53572C58.0908 3.91106 60.0885 5.90869 61.4638 8.3199C62.4645 10.0742 62.9796 12.1485 63.2393 15.0418C63.4995 17.942 63.5 21.6163 63.5 26.5595V37.4395C63.5 42.3827 63.4995 46.057 63.2393 48.9572C62.9796 51.8506 62.4645 53.9248 61.4638 55.6791C60.0885 58.0903 58.0908 60.088 55.6796 61.4633C53.9253 62.464 51.8511 62.9791 48.9577 63.2388C46.0575 63.499 42.3832 63.4995 37.44 63.4995H26.56C21.6168 63.4995 17.9425 63.499 15.0423 63.2388C12.1489 62.9791 10.0747 62.464 8.32039 61.4633C5.90917 60.088 3.91155 58.0903 2.53621 55.6791C1.53555 53.9248 1.02039 51.8506 0.760736 48.9572C0.50047 46.057 0.5 42.3827 0.5 37.4395V26.5595Z" stroke="#141414" stroke-opacity="0.1"/>
    <path d="M28.1042 49.2329L13.1024 51.2077L15.0772 36.2059L37.1015 14.1815C39.2441 12.039 40.3154 10.9677 41.5718 10.624C42.4205 10.3918 43.3159 10.3918 44.1645 10.624C45.421 10.9677 46.4922 12.039 48.6348 14.1815L50.1286 15.6753C52.2711 17.8179 53.3424 18.8891 53.6861 20.1456C53.9183 20.9942 53.9183 21.8896 53.6861 22.7383C53.3424 23.9947 52.2711 25.066 50.1286 27.2086L28.1042 49.2329Z" fill="#FF974C" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M38.5962 20.5376L22.4199 36.7139" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M43.7727 25.714L27.5964 41.8903" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M22.3703 36.7635C19.3258 39.808 16.0198 36.6395 16.2616 35.0324" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M27.5466 41.9399C24.5034 44.9831 28.155 48.7098 29.2738 48.0475" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M27.5468 41.9398C23.428 46.0586 18.2516 40.8822 22.3704 36.7634" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M15.8191 50.5214C15.4711 49.5823 14.728 48.8392 13.7889 48.4912" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M49.2862 29.5805L34.7275 15.0219" stroke="#E4E7E7" stroke-width="2" stroke-linejoin="round"/>
  </g>
  <defs>
    <clipPath id="clip0_241_31635">
      <rect width="64" height="64" fill="white"/>
    </clipPath>
  </defs>
</svg>
`,lightbulbSvg=b$2`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_241_31636)">
    <path d="M0 26.5595C0 16.6913 0 11.7572 2.1019 8.07217C3.5216 5.58318 5.58366 3.52111 8.07266 2.10141C11.7577 -0.000488281 16.6918 -0.000488281 26.56 -0.000488281H37.44C47.3082 -0.000488281 52.2423 -0.000488281 55.9273 2.10141C58.4163 3.52111 60.4784 5.58318 61.8981 8.07217C64 11.7572 64 16.6913 64 26.5595V37.4395C64 47.3077 64 52.2418 61.8981 55.9269C60.4784 58.4159 58.4163 60.4779 55.9273 61.8976C52.2423 63.9995 47.3082 63.9995 37.44 63.9995H26.56C16.6918 63.9995 11.7577 63.9995 8.07266 61.8976C5.58366 60.4779 3.5216 58.4159 2.1019 55.9269C0 52.2418 0 47.3077 0 37.4395V26.5595Z" fill="#794CFF"/>
    <path d="M0.5 26.5595C0.5 21.6163 0.50047 17.942 0.760736 15.0418C1.02039 12.1485 1.53555 10.0742 2.53621 8.3199C3.91155 5.90869 5.90917 3.91106 8.32039 2.53572C10.0747 1.53506 12.1489 1.01991 15.0423 0.760247C17.9425 0.499981 21.6168 0.499512 26.56 0.499512H37.44C42.3832 0.499512 46.0575 0.499981 48.9577 0.760247C51.8511 1.01991 53.9253 1.53506 55.6796 2.53572C58.0908 3.91106 60.0885 5.90869 61.4638 8.3199C62.4645 10.0742 62.9796 12.1485 63.2393 15.0418C63.4995 17.942 63.5 21.6163 63.5 26.5595V37.4395C63.5 42.3827 63.4995 46.057 63.2393 48.9572C62.9796 51.8506 62.4645 53.9248 61.4638 55.6791C60.0885 58.0903 58.0908 60.088 55.6796 61.4633C53.9253 62.464 51.8511 62.9791 48.9577 63.2388C46.0575 63.499 42.3832 63.4995 37.44 63.4995H26.56C21.6168 63.4995 17.9425 63.499 15.0423 63.2388C12.1489 62.9791 10.0747 62.464 8.32039 61.4633C5.90917 60.088 3.91155 58.0903 2.53621 55.6791C1.53555 53.9248 1.02039 51.8506 0.760736 48.9572C0.50047 46.057 0.5 42.3827 0.5 37.4395V26.5595Z" stroke="#141414" stroke-opacity="0.1"/>
    <path d="M40 39.4595C44.7824 36.693 48 31.5222 48 25.6C48 16.7634 40.8366 9.59998 32 9.59998C23.1634 9.59998 16 16.7634 16 25.6C16 31.5222 19.2176 36.693 24 39.4595V45.8144H40V39.4595Z" fill="#906EF7"/>
    <path d="M24 49.9689C24 51.8192 24 52.7444 24.3941 53.4353C24.6603 53.902 25.0469 54.2886 25.5136 54.5548C26.2046 54.9489 27.1297 54.9489 28.98 54.9489H35.02C36.8703 54.9489 37.7954 54.9489 38.4864 54.5548C38.9531 54.2886 39.3397 53.902 39.6059 53.4353C40 52.7444 40 51.8192 40 49.9689V45.8144H24V49.9689Z" fill="#906EF7"/>
    <path d="M24 45.8144V39.4595C19.2176 36.693 16 31.5222 16 25.6C16 16.7634 23.1634 9.59998 32 9.59998C40.8366 9.59998 48 16.7634 48 25.6C48 31.5222 44.7824 36.693 40 39.4595V45.8144M24 45.8144H40M24 45.8144V49.9689C24 51.8192 24 52.7444 24.3941 53.4353C24.6603 53.902 25.0469 54.2886 25.5136 54.5548C26.2046 54.9489 27.1297 54.9489 28.98 54.9489H35.02C36.8703 54.9489 37.7954 54.9489 38.4864 54.5548C38.9531 54.2886 39.3397 53.902 39.6059 53.4353C40 52.7444 40 51.8192 40 49.9689V45.8144" stroke="white" stroke-width="2" stroke-linejoin="round"/>
    <path d="M24 49.9689C24 51.8192 24 52.7444 24.3941 53.4353C24.6603 53.902 25.0469 54.2886 25.5136 54.5548C26.2046 54.9489 27.1297 54.9489 28.98 54.9489H35.02C36.8703 54.9489 37.7954 54.9489 38.4864 54.5548C38.9531 54.2886 39.3397 53.902 39.6059 53.4353C40 52.7444 40 51.8192 40 49.9689V45.8144H24V49.9689Z" fill="#643CDD" stroke="white" stroke-width="2" stroke-linejoin="round"/>
    <path d="M29.6735 26.9101V29.1109H34.0753V26.9101C34.0753 25.6945 35.0607 24.7092 36.2762 24.7092C37.4917 24.7092 38.4771 25.6945 38.4771 26.9101C38.4771 28.1256 37.4917 29.1109 36.2762 29.1109H34.0753H29.6735H27.4726C26.2571 29.1109 25.2717 28.1256 25.2717 26.9101C25.2717 25.6945 26.2571 24.7092 27.4726 24.7092C28.6881 24.7092 29.6735 25.6945 29.6735 26.9101Z" fill="#906EF7"/>
    <path d="M29.6735 45.3183V26.9101C29.6735 25.6945 28.6881 24.7092 27.4726 24.7092V24.7092C26.2571 24.7092 25.2717 25.6945 25.2717 26.9101V26.9101C25.2717 28.1256 26.2571 29.1109 27.4726 29.1109H36.2762C37.4917 29.1109 38.4771 28.1256 38.4771 26.9101V26.9101C38.4771 25.6945 37.4917 24.7092 36.2762 24.7092V24.7092C35.0607 24.7092 34.0753 25.6945 34.0753 26.9101V45.3183" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  </g>
  <defs>
    <clipPath id="clip0_241_31636">
      <rect width="64" height="64" fill="white"/>
    </clipPath>
  </defs>
</svg>
`,meldSvg=b$2`<svg width="40" height="42" viewBox="0 0 40 42" fill="none">
<path opacity="0.7" d="M19.9526 41.9076L7.3877 34.655V26.1226L19.9526 33.3751V41.9076Z" fill="url(#paint0_linear_2113_32117)"/>
<path opacity="0.7" d="M19.9521 41.9076L32.5171 34.655V26.1226L19.9521 33.3751V41.9076Z" fill="url(#paint1_linear_2113_32117)"/>
<path opacity="0.7" d="M39.9095 7.34521V21.8562L32.5166 26.1225V11.6114L39.9095 7.34521Z" fill="url(#paint2_linear_2113_32117)"/>
<path d="M39.9099 7.34536L27.345 0.0927734L19.9521 4.359L32.5171 11.6116L39.9099 7.34536Z" fill="url(#paint3_linear_2113_32117)"/>
<path d="M0 7.34536L12.5649 0.0927734L19.9519 4.359L7.387 11.6116L0 7.34536Z" fill="#F969D3"/>
<path opacity="0.7" d="M0 7.34521V21.8562L7.387 26.1225V11.6114L0 7.34521Z" fill="url(#paint4_linear_2113_32117)"/>
<defs>
<linearGradient id="paint0_linear_2113_32117" x1="18.6099" y1="41.8335" x2="7.73529" y2="8.31842" gradientUnits="userSpaceOnUse">
<stop stop-color="#E98ADA"/>
<stop offset="1" stop-color="#7E4DBD"/>
</linearGradient>
<linearGradient id="paint1_linear_2113_32117" x1="26.2346" y1="26.1226" x2="26.2346" y2="41.9076" gradientUnits="userSpaceOnUse">
<stop stop-color="#719DED"/>
<stop offset="1" stop-color="#2545BE"/>
</linearGradient>
<linearGradient id="paint2_linear_2113_32117" x1="36.213" y1="7.34521" x2="36.213" y2="26.1225" gradientUnits="userSpaceOnUse">
<stop stop-color="#93EBFF"/>
<stop offset="1" stop-color="#197DDB"/>
</linearGradient>
<linearGradient id="paint3_linear_2113_32117" x1="29.931" y1="0.0927734" x2="38.2156" y2="14.8448" gradientUnits="userSpaceOnUse">
<stop stop-color="#F969D3"/>
<stop offset="1" stop-color="#4F51C0"/>
</linearGradient>
<linearGradient id="paint4_linear_2113_32117" x1="18.1251" y1="44.2539" x2="-7.06792" y2="15.2763" gradientUnits="userSpaceOnUse">
<stop stop-color="#E98ADA"/>
<stop offset="1" stop-color="#7E4DBD"/>
</linearGradient>
</defs>
</svg>`,styles$2c=i$a`
  :host {
    display: block;
    width: var(--local-size);
    height: var(--local-size);
  }

  :host svg {
    width: 100%;
    height: 100%;
  }
`,solanaSvg=b$2`<svg fill="none" viewBox="0 0 80 80">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M40 80a40 40 0 1 0 0-80 40 40 0 0 0 0 80Z" />
    <path
      stroke="#fff"
      stroke-opacity=".1"
      d="M79.5 40a39.5 39.5 0 1 1-79 0 39.5 39.5 0 0 1 79 0Z"
    />
    <path
      fill="#fff"
      d="m62.62 51.54-7.54 7.91a1.75 1.75 0 0 1-1.29.55H18.02a.9.9 0 0 1-.8-.52.84.84 0 0 1 .16-.92l7.55-7.92a1.75 1.75 0 0 1 1.28-.55h35.77a.87.87 0 0 1 .8.52.84.84 0 0 1-.16.93Zm-7.54-15.95a1.75 1.75 0 0 0-1.29-.54H18.02a.89.89 0 0 0-.8.51.84.84 0 0 0 .16.93l7.55 7.92a1.75 1.75 0 0 0 1.28.54h35.77a.89.89 0 0 0 .8-.51.84.84 0 0 0-.16-.93l-7.54-7.92ZM18.02 29.9h35.77a1.79 1.79 0 0 0 1.29-.54l7.54-7.92a.85.85 0 0 0 .16-.93.87.87 0 0 0-.8-.51H26.21a1.79 1.79 0 0 0-1.28.54l-7.55 7.92a.85.85 0 0 0-.16.93.89.89 0 0 0 .8.52Z"
    />
  </g>
  <defs>
    <linearGradient id="b" x1="6.75" x2="80.68" y1="81.91" y2="7.37" gradientUnits="userSpaceOnUse">
      <stop offset=".08" stop-color="#9945FF" />
      <stop offset=".3" stop-color="#8752F3" />
      <stop offset=".5" stop-color="#5497D5" />
      <stop offset=".6" stop-color="#43B4CA" />
      <stop offset=".72" stop-color="#28E0B9" />
      <stop offset=".97" stop-color="#19FB9B" />
    </linearGradient>
    <clipPath id="a"><path fill="#fff" d="M0 0h80v80H0z" /></clipPath>
  </defs>
</svg> `;var __decorate$2O=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const svgOptions={browser:browserSvg,dao:daoSvg,defi:defiSvg,defiAlt:defiAltSvg,eth:ethSvg,layers:layersSvg,lock:lockSvg,login:loginSvg,network:networkSvg,nft:nftSvg,noun:nounSvg,profile:profileSvg,system:systemSvg,coinbase:coinbaseSvg,meld:meldSvg,onrampCard:onrampCardSvg,moonpay:moonpaySvg,stripe:stripeSvg,paypal:paypalSvg,google:googleSvg,pencil:pencilSvg,lightbulb:lightbulbSvg,solana:solanaSvg};let WuiVisual=class extends r$e{constructor(){super(...arguments),this.name="browser",this.size="md"}render(){return this.style.cssText=`
       --local-size: var(--wui-visual-size-${this.size});
   `,x$1`${svgOptions[this.name]}`}};WuiVisual.styles=[resetStyles,styles$2c];__decorate$2O([n$c()],WuiVisual.prototype,"name",void 0);__decorate$2O([n$c()],WuiVisual.prototype,"size",void 0);WuiVisual=__decorate$2O([customElement("wui-visual")],WuiVisual);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o$a=Fn=>Fn??E$1,UiHelperUtil={getSpacingStyles(Fn,Mn){if(Array.isArray(Fn))return Fn[Mn]?`var(--wui-spacing-${Fn[Mn]})`:void 0;if(typeof Fn=="string")return`var(--wui-spacing-${Fn})`},getFormattedDate(Fn){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(Fn)},getHostName(Fn){try{return new URL(Fn).hostname}catch{return""}},getTruncateString({string:Fn,charsStart:Mn,charsEnd:io,truncate:fo}){return Fn.length<=Mn+io?Fn:fo==="end"?`${Fn.substring(0,Mn)}...`:fo==="start"?`...${Fn.substring(Fn.length-io)}`:`${Fn.substring(0,Math.floor(Mn))}...${Fn.substring(Fn.length-Math.floor(io))}`},generateAvatarColors(Fn){const io=Fn.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),fo=this.hexToRgb(io),mo=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),Ao=100-3*Number(mo==null?void 0:mo.replace("px","")),Lo=`${Ao}% ${Ao}% at 65% 40%`,Wo=[];for(let jo=0;jo<5;jo+=1){const zo=this.tintColor(fo,.15*jo);Wo.push(`rgb(${zo[0]}, ${zo[1]}, ${zo[2]})`)}return`
    --local-color-1: ${Wo[0]};
    --local-color-2: ${Wo[1]};
    --local-color-3: ${Wo[2]};
    --local-color-4: ${Wo[3]};
    --local-color-5: ${Wo[4]};
    --local-radial-circle: ${Lo}
   `},hexToRgb(Fn){const Mn=parseInt(Fn,16),io=Mn>>16&255,fo=Mn>>8&255,mo=Mn&255;return[io,fo,mo]},tintColor(Fn,Mn){const[io,fo,mo]=Fn,$o=Math.round(io+(255-io)*Mn),Ao=Math.round(fo+(255-fo)*Mn),Lo=Math.round(mo+(255-mo)*Mn);return[$o,Ao,Lo]},isNumber(Fn){return{number:/^[0-9]+$/u}.number.test(Fn)},getColorTheme(Fn){return Fn||(typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":"dark")},splitBalance(Fn){const Mn=Fn.split(".");return Mn.length===2?[Mn[0],Mn[1]]:["0","00"]},roundNumber(Fn,Mn,io){return Fn.toString().length>=Mn?Number(Fn).toFixed(io):Fn},formatNumberToLocalString(Fn,Mn=2){return Fn===void 0?"0.00":typeof Fn=="number"?Fn.toLocaleString("en-US",{maximumFractionDigits:Mn,minimumFractionDigits:Mn}):parseFloat(Fn).toLocaleString("en-US",{maximumFractionDigits:Mn,minimumFractionDigits:Mn})}},styles$2b=i$a`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
  }
`;var __decorate$2N=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiFlex=class extends r$e{render(){return this.style.cssText=`
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&UiHelperUtil.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&UiHelperUtil.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&UiHelperUtil.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&UiHelperUtil.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&UiHelperUtil.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&UiHelperUtil.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&UiHelperUtil.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&UiHelperUtil.getSpacingStyles(this.margin,3)};
    `,x$1`<slot></slot>`}};WuiFlex.styles=[resetStyles,styles$2b];__decorate$2N([n$c()],WuiFlex.prototype,"flexDirection",void 0);__decorate$2N([n$c()],WuiFlex.prototype,"flexWrap",void 0);__decorate$2N([n$c()],WuiFlex.prototype,"flexBasis",void 0);__decorate$2N([n$c()],WuiFlex.prototype,"flexGrow",void 0);__decorate$2N([n$c()],WuiFlex.prototype,"flexShrink",void 0);__decorate$2N([n$c()],WuiFlex.prototype,"alignItems",void 0);__decorate$2N([n$c()],WuiFlex.prototype,"justifyContent",void 0);__decorate$2N([n$c()],WuiFlex.prototype,"columnGap",void 0);__decorate$2N([n$c()],WuiFlex.prototype,"rowGap",void 0);__decorate$2N([n$c()],WuiFlex.prototype,"gap",void 0);__decorate$2N([n$c()],WuiFlex.prototype,"padding",void 0);__decorate$2N([n$c()],WuiFlex.prototype,"margin",void 0);WuiFlex=__decorate$2N([customElement("wui-flex")],WuiFlex);const styles$2a=i$a`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
    border-radius: var(--wui-border-radius-3xl);
    box-shadow: 0 0 0 8px var(--wui-color-gray-glass-005);
    overflow: hidden;
    position: relative;
  }

  :host([data-variant='generated']) {
    --mixed-local-color-1: var(--local-color-1);
    --mixed-local-color-2: var(--local-color-2);
    --mixed-local-color-3: var(--local-color-3);
    --mixed-local-color-4: var(--local-color-4);
    --mixed-local-color-5: var(--local-color-5);
  }

  @supports (background: color-mix(in srgb, white 50%, black)) {
    :host([data-variant='generated']) {
      --mixed-local-color-1: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-1)
      );
      --mixed-local-color-2: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-2)
      );
      --mixed-local-color-3: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-3)
      );
      --mixed-local-color-4: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-4)
      );
      --mixed-local-color-5: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-5)
      );
    }
  }

  :host([data-variant='generated']) {
    box-shadow: 0 0 0 8px var(--wui-color-gray-glass-005);
    background: radial-gradient(
      var(--local-radial-circle),
      #fff 0.52%,
      var(--mixed-local-color-5) 31.25%,
      var(--mixed-local-color-3) 51.56%,
      var(--mixed-local-color-2) 65.63%,
      var(--mixed-local-color-1) 82.29%,
      var(--mixed-local-color-4) 100%
    );
  }

  :host([data-variant='default']) {
    box-shadow: 0 0 0 8px var(--wui-color-gray-glass-005);
    background: radial-gradient(
      75.29% 75.29% at 64.96% 24.36%,
      #fff 0.52%,
      #f5ccfc 31.25%,
      #dba4f5 51.56%,
      #9a8ee8 65.63%,
      #6493da 82.29%,
      #6ebdea 100%
    );
  }
`;var __decorate$2M=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiAvatar=class extends r$e{constructor(){super(...arguments),this.imageSrc=void 0,this.alt=void 0,this.address=void 0,this.size="xl"}render(){return this.style.cssText=`
    --local-width: var(--wui-icon-box-size-${this.size});
    --local-height: var(--wui-icon-box-size-${this.size});
    `,x$1`${this.visualTemplate()}`}visualTemplate(){if(this.imageSrc)return this.dataset.variant="image",x$1`<wui-image src=${this.imageSrc} alt=${this.alt??"avatar"}></wui-image>`;if(this.address){this.dataset.variant="generated";const Mn=UiHelperUtil.generateAvatarColors(this.address);return this.style.cssText+=`
 ${Mn}`,null}return this.dataset.variant="default",null}};WuiAvatar.styles=[resetStyles,styles$2a];__decorate$2M([n$c()],WuiAvatar.prototype,"imageSrc",void 0);__decorate$2M([n$c()],WuiAvatar.prototype,"alt",void 0);__decorate$2M([n$c()],WuiAvatar.prototype,"address",void 0);__decorate$2M([n$c()],WuiAvatar.prototype,"size",void 0);WuiAvatar=__decorate$2M([customElement("wui-avatar")],WuiAvatar);const styles$29=i$a`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    background-color: var(--wui-color-gray-glass-020);
    border-radius: var(--local-border-radius);
    border: var(--local-border);
    box-sizing: content-box;
    width: var(--local-size);
    height: var(--local-size);
    min-height: var(--local-size);
    min-width: var(--local-size);
  }

  @supports (background: color-mix(in srgb, white 50%, black)) {
    :host {
      background-color: color-mix(in srgb, var(--local-bg-value) var(--local-bg-mix), transparent);
    }
  }
`;var __decorate$2L=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiIconBox=class extends r$e{constructor(){super(...arguments),this.size="md",this.backgroundColor="accent-100",this.iconColor="accent-100",this.background="transparent",this.border=!1,this.borderColor="wui-color-bg-125",this.icon="copy"}render(){const Mn=this.iconSize||this.size,io=this.size==="lg",fo=this.size==="xl",mo=io?"12%":"16%",$o=io?"xxs":fo?"s":"3xl",Ao=this.background==="gray",Lo=this.background==="opaque",Wo=this.backgroundColor==="accent-100"&&Lo||this.backgroundColor==="success-100"&&Lo||this.backgroundColor==="error-100"&&Lo||this.backgroundColor==="inverse-100"&&Lo;let jo=`var(--wui-color-${this.backgroundColor})`;return Wo?jo=`var(--wui-icon-box-bg-${this.backgroundColor})`:Ao&&(jo=`var(--wui-color-gray-${this.backgroundColor})`),this.style.cssText=`
       --local-bg-value: ${jo};
       --local-bg-mix: ${Wo||Ao?"100%":mo};
       --local-border-radius: var(--wui-border-radius-${$o});
       --local-size: var(--wui-icon-box-size-${this.size});
       --local-border: ${this.borderColor==="wui-color-bg-125"?"2px":"1px"} solid ${this.border?`var(--${this.borderColor})`:"transparent"}
   `,x$1` <wui-icon color=${this.iconColor} size=${Mn} name=${this.icon}></wui-icon> `}};WuiIconBox.styles=[resetStyles,elementStyles,styles$29];__decorate$2L([n$c()],WuiIconBox.prototype,"size",void 0);__decorate$2L([n$c()],WuiIconBox.prototype,"backgroundColor",void 0);__decorate$2L([n$c()],WuiIconBox.prototype,"iconColor",void 0);__decorate$2L([n$c()],WuiIconBox.prototype,"iconSize",void 0);__decorate$2L([n$c()],WuiIconBox.prototype,"background",void 0);__decorate$2L([n$c({type:Boolean})],WuiIconBox.prototype,"border",void 0);__decorate$2L([n$c()],WuiIconBox.prototype,"borderColor",void 0);__decorate$2L([n$c()],WuiIconBox.prototype,"icon",void 0);WuiIconBox=__decorate$2L([customElement("wui-icon-box")],WuiIconBox);const styles$28=i$a`
  :host {
    display: block;
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
    background: var(--wui-color-gray-glass-002);
    display: flex;
    gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-3xs) var(--wui-spacing-xs) var(--wui-spacing-3xs)
      var(--wui-spacing-xs);
    border: 1px solid var(--wui-color-gray-glass-005);
  }

  button:disabled {
    background: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-flex > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-image,
  button:disabled > wui-flex > wui-avatar {
    filter: grayscale(1);
  }

  button:has(wui-image) {
    padding: var(--wui-spacing-3xs) var(--wui-spacing-3xs) var(--wui-spacing-3xs)
      var(--wui-spacing-xs);
  }

  wui-text {
    color: var(--wui-color-fg-100);
  }

  wui-flex > wui-text {
    color: var(--wui-color-fg-200);
  }

  wui-image,
  wui-icon-box {
    border-radius: var(--wui-border-radius-3xl);
    width: 24px;
    height: 24px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  wui-flex {
    border-radius: var(--wui-border-radius-3xl);
    border: 1px solid var(--wui-color-gray-glass-005);
    background: var(--wui-color-gray-glass-005);
    padding: 4px var(--wui-spacing-m) 4px var(--wui-spacing-xxs);
  }

  button.local-no-balance {
    border-radius: 0px;
    border: none;
    background: transparent;
  }

  wui-avatar {
    width: 20px;
    height: 20px;
    box-shadow: 0 0 0 2px var(--wui-color-accent-glass-010);
  }

  @media (max-width: 500px) {
    button {
      gap: 0px;
      padding: var(--wui-spacing-3xs) var(--wui-spacing-xs) !important;
      height: 32px;
    }
    wui-image,
    wui-icon-box,
    button > wui-text {
      visibility: hidden;
      width: 0px;
      height: 0px;
    }
    button {
      border-radius: 0px;
      border: none;
      background: transparent;
      padding: 0px;
    }
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled > wui-flex > wui-text {
      color: var(--wui-color-fg-175);
    }

    button:active:enabled > wui-flex > wui-text {
      color: var(--wui-color-fg-175);
    }
  }
`;var __decorate$2K=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiAccountButton=class extends r$e{constructor(){super(...arguments),this.networkSrc=void 0,this.avatarSrc=void 0,this.balance=void 0,this.isUnsupportedChain=void 0,this.disabled=!1,this.address="",this.profileName="",this.charsStart=4,this.charsEnd=6}render(){return x$1`
      <button
        ?disabled=${this.disabled}
        class=${o$a(this.balance?void 0:"local-no-balance")}
      >
        ${this.balanceTemplate()}
        <wui-flex gap="xxs" alignItems="center">
          <wui-avatar
            .imageSrc=${this.avatarSrc}
            alt=${this.address}
            address=${this.address}
          ></wui-avatar>
          <wui-text variant="paragraph-600" color="inherit">
            ${this.address?UiHelperUtil.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?18:this.charsStart,charsEnd:this.profileName?0:this.charsEnd,truncate:this.profileName?"end":"middle"}):null}
          </wui-text>
        </wui-flex>
      </button>
    `}balanceTemplate(){if(this.isUnsupportedChain)return x$1` <wui-icon-box
          size="sm"
          iconColor="error-100"
          backgroundColor="error-100"
          icon="warningCircle"
        ></wui-icon-box>
        <wui-text variant="paragraph-600" color="inherit"> Switch Network</wui-text>`;if(this.balance){const Mn=this.networkSrc?x$1`<wui-image src=${this.networkSrc}></wui-image>`:x$1`
            <wui-icon-box
              size="sm"
              iconColor="fg-200"
              backgroundColor="fg-300"
              icon="networkPlaceholder"
            ></wui-icon-box>
          `;return x$1`
        ${Mn}
        <wui-text variant="paragraph-600" color="inherit"> ${this.balance}</wui-text>
      `}return null}};WuiAccountButton.styles=[resetStyles,elementStyles,styles$28];__decorate$2K([n$c()],WuiAccountButton.prototype,"networkSrc",void 0);__decorate$2K([n$c()],WuiAccountButton.prototype,"avatarSrc",void 0);__decorate$2K([n$c()],WuiAccountButton.prototype,"balance",void 0);__decorate$2K([n$c({type:Boolean})],WuiAccountButton.prototype,"isUnsupportedChain",void 0);__decorate$2K([n$c({type:Boolean})],WuiAccountButton.prototype,"disabled",void 0);__decorate$2K([n$c()],WuiAccountButton.prototype,"address",void 0);__decorate$2K([n$c()],WuiAccountButton.prototype,"profileName",void 0);__decorate$2K([n$c()],WuiAccountButton.prototype,"charsStart",void 0);__decorate$2K([n$c()],WuiAccountButton.prototype,"charsEnd",void 0);WuiAccountButton=__decorate$2K([customElement("wui-account-button")],WuiAccountButton);const styles$27=i$a`
  :host {
    position: relative;
    background-color: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-size);
    height: var(--local-size);
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host([name='Extension'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  :host([data-wallet-icon='allWallets']) {
    background-color: var(--wui-all-wallets-bg-100);
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon[data-parent-size='sm'] {
    width: 18px;
    height: 18px;
  }

  wui-icon[data-parent-size='md'] {
    width: 24px;
    height: 24px;
  }

  wui-icon[data-parent-size='lg'] {
    width: 42px;
    height: 42px;
  }

  wui-icon[data-parent-size='full'] {
    width: 100%;
    height: 100%;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid var(--wui-color-bg-150, #1e1f1f);
    padding: 1px;
  }
`;var __decorate$2J=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiWalletImage=class extends r$e{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let Mn="xxs";return this.size==="lg"?Mn="m":this.size==="md"?Mn="xs":Mn="xxs",this.style.cssText=`
       --local-border-radius: var(--wui-border-radius-${Mn});
       --local-size: var(--wui-wallet-image-size-${this.size});
   `,this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),x$1`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?x$1`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?x$1`<wui-icon
        data-parent-size="md"
        size="md"
        color="inherit"
        name=${this.walletIcon}
      ></wui-icon>`:x$1`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="walletPlaceholder"
    ></wui-icon>`}};WuiWalletImage.styles=[resetStyles,styles$27];__decorate$2J([n$c()],WuiWalletImage.prototype,"size",void 0);__decorate$2J([n$c()],WuiWalletImage.prototype,"name",void 0);__decorate$2J([n$c()],WuiWalletImage.prototype,"imageSrc",void 0);__decorate$2J([n$c()],WuiWalletImage.prototype,"walletIcon",void 0);__decorate$2J([n$c({type:Boolean})],WuiWalletImage.prototype,"installed",void 0);__decorate$2J([n$c()],WuiWalletImage.prototype,"badgeSize",void 0);WuiWalletImage=__decorate$2J([customElement("wui-wallet-image")],WuiWalletImage);const styles$26=i$a`
  :host {
    position: relative;
    border-radius: var(--wui-border-radius-xxs);
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--wui-spacing-4xs);
    padding: 3.75px !important;
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: var(--wui-border-radius-5xs);
  }

  :host > wui-flex {
    padding: 2px;
    position: fixed;
    overflow: hidden;
    left: 34px;
    bottom: 8px;
    background: var(--dark-background-150, #1e1f1f);
    border-radius: 50%;
    z-index: 2;
    display: flex;
  }
`;var __decorate$2I=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const TOTAL_IMAGES=4;let WuiAllWalletsImage=class extends r$e{constructor(){super(...arguments),this.walletImages=[]}render(){const Mn=this.walletImages.length<TOTAL_IMAGES;return x$1`${this.walletImages.slice(0,TOTAL_IMAGES).map(({src:io,walletName:fo})=>x$1`
            <wui-wallet-image
              size="inherit"
              imageSrc=${io}
              name=${o$a(fo)}
            ></wui-wallet-image>
          `)}
      ${Mn?[...Array(TOTAL_IMAGES-this.walletImages.length)].map(()=>x$1` <wui-wallet-image size="inherit" name=""></wui-wallet-image>`):null}
      <wui-flex>
        <wui-icon-box
          size="xxs"
          iconSize="xxs"
          iconcolor="success-100"
          backgroundcolor="success-100"
          icon="checkmark"
          background="opaque"
        ></wui-icon-box>
      </wui-flex>`}};WuiAllWalletsImage.styles=[resetStyles,styles$26];__decorate$2I([n$c({type:Array})],WuiAllWalletsImage.prototype,"walletImages",void 0);WuiAllWalletsImage=__decorate$2I([customElement("wui-all-wallets-image")],WuiAllWalletsImage);const styles$25=i$a`
  :host {
    width: var(--local-width);
    position: relative;
  }

  button {
    border: none;
    border-radius: var(--local-border-radius);
    width: var(--local-width);
    white-space: nowrap;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='md'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-l);
    height: 36px;
  }

  button[data-size='md'][data-icon-left='true'][data-icon-right='false'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-s);
  }

  button[data-size='md'][data-icon-right='true'][data-icon-left='false'] {
    padding: 8.2px var(--wui-spacing-s) 9px var(--wui-spacing-l);
  }

  button[data-size='lg'] {
    padding: var(--wui-spacing-m) var(--wui-spacing-2l);
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='inverse'] {
    background-color: var(--wui-color-inverse-100);
    color: var(--wui-color-inverse-000);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='accent-error'] {
    background: var(--wui-color-error-glass-015);
    color: var(--wui-color-error-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-error-glass-010);
  }

  button[data-variant='accent-success'] {
    background: var(--wui-color-success-glass-015);
    color: var(--wui-color-success-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-success-glass-010);
  }

  button[data-variant='neutral'] {
    background: transparent;
    color: var(--wui-color-fg-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-variant='main']:focus-visible:enabled {
    background-color: var(--wui-color-accent-090);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='inverse']:focus-visible:enabled {
    background-color: var(--wui-color-inverse-100);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent']:focus-visible:enabled {
    background-color: var(--wui-color-accent-glass-010);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent-error']:focus-visible:enabled {
    background: var(--wui-color-error-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-error-100),
      0 0 0 4px var(--wui-color-error-glass-020);
  }
  button[data-variant='accent-success']:focus-visible:enabled {
    background: var(--wui-color-success-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-success-100),
      0 0 0 4px var(--wui-color-success-glass-020);
  }
  button[data-variant='neutral']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='accent-error']:hover:enabled {
      background: var(--wui-color-error-glass-020);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-error']:active:enabled {
      background: var(--wui-color-error-glass-030);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-success']:hover:enabled {
      background: var(--wui-color-success-glass-020);
      color: var(--wui-color-success-100);
    }

    button[data-variant='accent-success']:active:enabled {
      background: var(--wui-color-success-glass-030);
      color: var(--wui-color-success-100);
    }

    button[data-variant='neutral']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='neutral']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }

    button[data-size='lg'][data-icon-left='true'][data-icon-right='false'] {
      padding-left: var(--wui-spacing-m);
    }

    button[data-size='lg'][data-icon-right='true'][data-icon-left='false'] {
      padding-right: var(--wui-spacing-m);
    }
  }

  /* -- Disabled state --------------------------------------------------- */
  button:disabled {
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    color: var(--wui-color-gray-glass-020);
    cursor: not-allowed;
  }

  button > wui-text {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  ::slotted(*) {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  wui-loading-spinner {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    opacity: var(--local-opacity-000);
  }
`;var __decorate$2H=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const SPINNER_COLOR_BY_VARIANT={main:"inverse-100",inverse:"inverse-000",accent:"accent-100","accent-error":"error-100","accent-success":"success-100",neutral:"fg-100",disabled:"gray-glass-020"},TEXT_VARIANT_BY_SIZE={lg:"paragraph-600",md:"small-600"},SPINNER_SIZE_BY_SIZE={lg:"md",md:"md"};let WuiButton=class extends r$e{constructor(){super(...arguments),this.size="lg",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="main",this.hasIconLeft=!1,this.hasIconRight=!1,this.borderRadius="m"}render(){this.style.cssText=`
    --local-width: ${this.fullWidth?"100%":"auto"};
    --local-opacity-100: ${this.loading?0:1};
    --local-opacity-000: ${this.loading?1:0};
    --local-border-radius: var(--wui-border-radius-${this.borderRadius});
    `;const Mn=this.textVariant??TEXT_VARIANT_BY_SIZE[this.size];return x$1`
      <button
        data-variant=${this.variant}
        data-icon-left=${this.hasIconLeft}
        data-icon-right=${this.hasIconRight}
        data-size=${this.size}
        ?disabled=${this.disabled}
        ontouchstart
      >
        ${this.loadingTemplate()}
        <slot name="iconLeft" @slotchange=${()=>this.handleSlotLeftChange()}></slot>
        <wui-text variant=${Mn} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight" @slotchange=${()=>this.handleSlotRightChange()}></slot>
      </button>
    `}handleSlotLeftChange(){this.hasIconLeft=!0}handleSlotRightChange(){this.hasIconRight=!0}loadingTemplate(){if(this.loading){const Mn=SPINNER_SIZE_BY_SIZE[this.size],io=this.disabled?SPINNER_COLOR_BY_VARIANT.disabled:SPINNER_COLOR_BY_VARIANT[this.variant];return x$1`<wui-loading-spinner color=${io} size=${Mn}></wui-loading-spinner>`}return x$1``}};WuiButton.styles=[resetStyles,elementStyles,styles$25];__decorate$2H([n$c()],WuiButton.prototype,"size",void 0);__decorate$2H([n$c({type:Boolean})],WuiButton.prototype,"disabled",void 0);__decorate$2H([n$c({type:Boolean})],WuiButton.prototype,"fullWidth",void 0);__decorate$2H([n$c({type:Boolean})],WuiButton.prototype,"loading",void 0);__decorate$2H([n$c()],WuiButton.prototype,"variant",void 0);__decorate$2H([n$c({type:Boolean})],WuiButton.prototype,"hasIconLeft",void 0);__decorate$2H([n$c({type:Boolean})],WuiButton.prototype,"hasIconRight",void 0);__decorate$2H([n$c()],WuiButton.prototype,"borderRadius",void 0);__decorate$2H([n$c()],WuiButton.prototype,"textVariant",void 0);WuiButton=__decorate$2H([customElement("wui-button")],WuiButton);const networkSvgMd=b$2`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`,styles$24=i$a`
  :host {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xs) 10px;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--wui-path-network);
    clip-path: var(--wui-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: var(--wui-color-gray-glass-010);
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`;var __decorate$2G=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiCardSelectLoader=class extends r$e{constructor(){super(...arguments),this.type="wallet"}render(){return x$1`
      ${this.shimmerTemplate()}
      <wui-shimmer width="56px" height="20px" borderRadius="xs"></wui-shimmer>
    `}shimmerTemplate(){return this.type==="network"?x$1` <wui-shimmer
          data-type=${this.type}
          width="48px"
          height="54px"
          borderRadius="xs"
        ></wui-shimmer>
        ${networkSvgMd}`:x$1`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}};WuiCardSelectLoader.styles=[resetStyles,elementStyles,styles$24];__decorate$2G([n$c()],WuiCardSelectLoader.prototype,"type",void 0);WuiCardSelectLoader=__decorate$2G([customElement("wui-card-select-loader")],WuiCardSelectLoader);const networkSvgSm=b$2`
  <svg fill="none" viewBox="0 0 36 40">
    <path
      d="M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z"
    />
  </svg>
`,networkSvgLg=b$2`<svg width="86" height="96" fill="none">
  <path
    d="M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z"
  />
</svg>`,styles$23=i$a`
  :host {
    position: relative;
    border-radius: inherit;
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-width);
    height: var(--local-height);
  }

  :host([data-round='true']) {
    background: var(--wui-color-gray-glass-002);
    border-radius: 100%;
    outline: 1px solid var(--wui-color-gray-glass-005);
  }

  svg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    fill: var(--wui-color-gray-glass-002);
  }

  svg > path {
    stroke: var(--local-stroke);
  }

  wui-image {
    width: 100%;
    height: 100%;
    -webkit-clip-path: var(--local-path);
    clip-path: var(--local-path);
    background: var(--wui-color-gray-glass-002);
  }

  wui-icon {
    transform: translateY(-5%);
    width: var(--local-icon-size);
    height: var(--local-icon-size);
  }
`;var __decorate$2F=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiNetworkImage=class extends r$e{constructor(){super(...arguments),this.size="md",this.name="uknown",this.networkImagesBySize={sm:networkSvgSm,md:networkSvgMd,lg:networkSvgLg},this.selected=!1,this.round=!1}render(){return this.round?(this.dataset.round="true",this.style.cssText=`
      --local-width: var(--wui-spacing-3xl);
      --local-height: var(--wui-spacing-3xl);
      --local-icon-size: var(--wui-spacing-l);
    `):this.style.cssText=`

      --local-path: var(--wui-path-network-${this.size});
      --local-width:  var(--wui-width-network-${this.size});
      --local-height:  var(--wui-height-network-${this.size});
      --local-icon-size:  var(--wui-icon-size-network-${this.size});
    `,x$1`${this.templateVisual()} ${this.svgTemplate()} `}svgTemplate(){return this.round?null:this.networkImagesBySize[this.size]}templateVisual(){return this.imageSrc?x$1`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:x$1`<wui-icon size="inherit" color="fg-200" name="networkPlaceholder"></wui-icon>`}};WuiNetworkImage.styles=[resetStyles,styles$23];__decorate$2F([n$c()],WuiNetworkImage.prototype,"size",void 0);__decorate$2F([n$c()],WuiNetworkImage.prototype,"name",void 0);__decorate$2F([n$c({type:Object})],WuiNetworkImage.prototype,"networkImagesBySize",void 0);__decorate$2F([n$c()],WuiNetworkImage.prototype,"imageSrc",void 0);__decorate$2F([n$c({type:Boolean})],WuiNetworkImage.prototype,"selected",void 0);__decorate$2F([n$c({type:Boolean})],WuiNetworkImage.prototype,"round",void 0);WuiNetworkImage=__decorate$2F([customElement("wui-network-image")],WuiNetworkImage);const styles$22=i$a`
  button {
    flex-direction: column;
    width: 76px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xs) var(--wui-spacing-0);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
  }

  button > wui-text {
    color: var(--wui-color-fg-100);
    max-width: var(--wui-icon-box-size-xl);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button:disabled > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  [data-selected='true'] {
    background-color: var(--wui-color-accent-glass-020);
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }
  }

  [data-selected='true']:active:enabled {
    background-color: var(--wui-color-accent-glass-010);
  }
`;var __decorate$2E=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiCardSelect=class extends r$e{constructor(){super(...arguments),this.name="Unknown",this.type="wallet",this.imageSrc=void 0,this.disabled=!1,this.selected=!1,this.installed=!1}render(){return x$1`
      <button data-selected=${o$a(this.selected)} ?disabled=${this.disabled} ontouchstart>
        ${this.imageTemplate()}
        <wui-text variant="tiny-500" color=${this.selected?"accent-100":"inherit"}>
          ${this.name}
        </wui-text>
      </button>
    `}imageTemplate(){return this.type==="network"?x$1`
        <wui-network-image
          .selected=${this.selected}
          imageSrc=${o$a(this.imageSrc)}
          name=${this.name}
        >
        </wui-network-image>
      `:x$1`
      <wui-wallet-image
        size="md"
        imageSrc=${o$a(this.imageSrc)}
        name=${this.name}
        .installed=${this.installed}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}};WuiCardSelect.styles=[resetStyles,elementStyles,styles$22];__decorate$2E([n$c()],WuiCardSelect.prototype,"name",void 0);__decorate$2E([n$c()],WuiCardSelect.prototype,"type",void 0);__decorate$2E([n$c()],WuiCardSelect.prototype,"imageSrc",void 0);__decorate$2E([n$c({type:Boolean})],WuiCardSelect.prototype,"disabled",void 0);__decorate$2E([n$c({type:Boolean})],WuiCardSelect.prototype,"selected",void 0);__decorate$2E([n$c({type:Boolean})],WuiCardSelect.prototype,"installed",void 0);WuiCardSelect=__decorate$2E([customElement("wui-card-select")],WuiCardSelect);const styles$21=i$a`
  a {
    border: 1px solid var(--wui-color-gray-glass-010);
    border-radius: var(--wui-border-radius-3xl);
  }

  wui-image {
    border-radius: var(--wui-border-radius-3xl);
    overflow: hidden;
  }

  a.disabled > wui-icon:not(.image-icon),
  a.disabled > wui-image {
    filter: grayscale(1);
  }

  a[data-variant='fill'] {
    color: var(--wui-color-inverse-100);
    background-color: var(--wui-color-accent-100);
  }

  a[data-variant='shade'],
  a[data-variant='shadeSmall'] {
    background-color: transparent;
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-200);
  }

  a[data-variant='success'] {
    column-gap: var(--wui-spacing-xxs);
    border: 1px solid var(--wui-color-success-glass-010);
    background-color: var(--wui-color-success-glass-010);
    color: var(--wui-color-success-100);
  }

  a[data-variant='error'] {
    column-gap: var(--wui-spacing-xxs);
    border: 1px solid var(--wui-color-error-glass-010);
    background-color: var(--wui-color-error-glass-010);
    color: var(--wui-color-error-100);
  }

  a[data-variant='transparent'] {
    column-gap: var(--wui-spacing-xxs);
    background-color: transparent;
    color: var(--wui-color-fg-150);
  }

  a[data-variant='transparent'],
  a[data-variant='success'],
  a[data-variant='shadeSmall'],
  a[data-variant='error'] {
    padding: 7px var(--wui-spacing-s) 7px 10px;
  }

  a[data-variant='transparent']:has(wui-text:first-child),
  a[data-variant='success']:has(wui-text:first-child),
  a[data-variant='shadeSmall']:has(wui-text:first-child),
  a[data-variant='error']:has(wui-text:first-child) {
    padding: 7px var(--wui-spacing-s);
  }

  a[data-variant='fill'],
  a[data-variant='shade'] {
    column-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xxs) var(--wui-spacing-m) var(--wui-spacing-xxs)
      var(--wui-spacing-xs);
  }

  a[data-variant='fill']:has(wui-text:first-child),
  a[data-variant='shade']:has(wui-text:first-child) {
    padding: 9px var(--wui-spacing-m) 9px var(--wui-spacing-m);
  }

  a[data-variant='fill'] > wui-image,
  a[data-variant='shade'] > wui-image {
    width: 24px;
    height: 24px;
  }

  a[data-variant='fill'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-accent-090);
  }

  a[data-variant='shade'] > wui-image,
  a[data-variant='shadeSmall'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  a[data-variant='fill'] > wui-icon:not(.image-icon),
  a[data-variant='shade'] > wui-icon:not(.image-icon) {
    width: 14px;
    height: 14px;
  }

  a[data-variant='transparent'] > wui-image,
  a[data-variant='success'] > wui-image,
  a[data-variant='shadeSmall'] > wui-image,
  a[data-variant='error'] > wui-image {
    width: 14px;
    height: 14px;
  }

  a[data-variant='transparent'] > wui-icon:not(.image-icon),
  a[data-variant='success'] > wui-icon:not(.image-icon),
  a[data-variant='shadeSmall'] > wui-icon:not(.image-icon),
  a[data-variant='error'] > wui-icon:not(.image-icon) {
    width: 12px;
    height: 12px;
  }

  a[data-variant='fill']:focus-visible {
    background-color: var(--wui-color-accent-090);
  }

  a[data-variant='shade']:focus-visible,
  a[data-variant='shadeSmall']:focus-visible {
    background-color: var(--wui-color-gray-glass-015);
  }

  a[data-variant='transparent']:focus-visible {
    background-color: var(--wui-color-gray-glass-005);
  }

  a[data-variant='success']:focus-visible {
    background-color: var(--wui-color-success-glass-015);
  }

  a[data-variant='error']:focus-visible {
    background-color: var(--wui-color-error-glass-015);
  }

  a.disabled {
    color: var(--wui-color-gray-glass-015);
    background-color: var(--wui-color-gray-glass-015);
    pointer-events: none;
  }

  @media (hover: hover) and (pointer: fine) {
    a[data-variant='fill']:hover {
      background-color: var(--wui-color-accent-090);
    }

    a[data-variant='shade']:hover,
    a[data-variant='shadeSmall']:hover {
      background-color: var(--wui-color-gray-glass-015);
    }

    a[data-variant='transparent']:hover {
      background-color: var(--wui-color-gray-glass-005);
    }

    a[data-variant='success']:hover {
      background-color: var(--wui-color-success-glass-015);
    }

    a[data-variant='error']:hover {
      background-color: var(--wui-color-error-glass-015);
    }
  }

  a[data-variant='fill']:active {
    background-color: var(--wui-color-accent-080);
  }

  a[data-variant='shade']:active,
  a[data-variant='shadeSmall']:active {
    background-color: var(--wui-color-gray-glass-020);
  }

  a[data-variant='transparent']:active {
    background-color: var(--wui-color-gray-glass-010);
  }

  a[data-variant='success']:active {
    background-color: var(--wui-color-success-glass-020);
  }

  a[data-variant='error']:active {
    background-color: var(--wui-color-error-glass-020);
  }
`;var __decorate$2D=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiChip=class extends r$e{constructor(){super(...arguments),this.variant="fill",this.imageSrc=void 0,this.imageIcon=void 0,this.imageIconSize="md",this.disabled=!1,this.icon="externalLink",this.href="",this.text=void 0}render(){const io=this.variant==="success"||this.variant==="transparent"||this.variant==="shadeSmall"?"small-600":"paragraph-600";return x$1`
      <a
        rel="noreferrer"
        target="_blank"
        href=${this.href}
        class=${this.disabled?"disabled":""}
        data-variant=${this.variant}
      >
        ${this.imageTemplate()}
        <wui-text variant=${io} color="inherit">
          ${this.title?this.title:UiHelperUtil.getHostName(this.href)}
        </wui-text>
        <wui-icon name=${this.icon} color="inherit" size="inherit"></wui-icon>
      </a>
    `}imageTemplate(){return this.imageSrc?x$1`<wui-image src=${this.imageSrc}></wui-image>`:this.imageIcon?x$1`<wui-icon
        name=${this.imageIcon}
        color="inherit"
        size=${this.imageIconSize}
        class="image-icon"
      ></wui-icon>`:null}};WuiChip.styles=[resetStyles,elementStyles,styles$21];__decorate$2D([n$c()],WuiChip.prototype,"variant",void 0);__decorate$2D([n$c()],WuiChip.prototype,"imageSrc",void 0);__decorate$2D([n$c()],WuiChip.prototype,"imageIcon",void 0);__decorate$2D([n$c()],WuiChip.prototype,"imageIconSize",void 0);__decorate$2D([n$c({type:Boolean})],WuiChip.prototype,"disabled",void 0);__decorate$2D([n$c()],WuiChip.prototype,"icon",void 0);__decorate$2D([n$c()],WuiChip.prototype,"href",void 0);__decorate$2D([n$c()],WuiChip.prototype,"text",void 0);WuiChip=__decorate$2D([customElement("wui-chip")],WuiChip);const styles$20=i$a`
  :host {
    position: relative;
    display: block;
  }

  button {
    background: var(--wui-color-accent-100);
    border: 1px solid var(--wui-color-gray-glass-010);
    border-radius: var(--wui-border-radius-m);
    gap: var(--wui-spacing-xs);
  }

  button.loading {
    background: var(--wui-color-gray-glass-010);
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    border: 1px solid var(--wui-color-gray-glass-010);
  }

  button:disabled > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button:active:enabled {
      background-color: var(--wui-color-accent-080);
    }
  }

  button:focus-visible {
    border: 1px solid var(--wui-color-gray-glass-010);
    background-color: var(--wui-color-accent-090);
    -webkit-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  button[data-size='sm'] {
    padding: 6.75px 10px 7.25px;
  }

  ::slotted(*) {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  button > wui-text {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
    color: var(--wui-color-inverse-100);
  }

  button[data-size='md'] {
    padding: 9px var(--wui-spacing-l) 9px var(--wui-spacing-l);
  }

  button[data-size='md'] + wui-text {
    padding-left: var(--wui-spacing-3xs);
  }

  @media (max-width: 500px) {
    button[data-size='md'] {
      height: 32px;
      padding: 5px 12px;
    }

    button[data-size='md'] > wui-text > slot {
      font-size: 14px !important;
    }
  }

  wui-loading-spinner {
    width: 14px;
    height: 14px;
  }

  wui-loading-spinner::slotted(svg) {
    width: 10px !important;
    height: 10px !important;
  }

  button[data-size='sm'] > wui-loading-spinner {
    width: 12px;
    height: 12px;
  }
`;var __decorate$2C=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiConnectButton=class extends r$e{constructor(){super(...arguments),this.size="md",this.loading=!1}render(){const Mn=this.size==="md"?"paragraph-600":"small-600";return x$1`
      <button data-size=${this.size} ?disabled=${this.loading} ontouchstart>
        ${this.loadingTemplate()}
        <wui-text variant=${Mn} color=${this.loading?"accent-100":"inherit"}>
          <slot></slot>
        </wui-text>
      </button>
    `}loadingTemplate(){return this.loading?x$1`<wui-loading-spinner size=${this.size} color="accent-100"></wui-loading-spinner>`:null}};WuiConnectButton.styles=[resetStyles,elementStyles,styles$20];__decorate$2C([n$c()],WuiConnectButton.prototype,"size",void 0);__decorate$2C([n$c({type:Boolean})],WuiConnectButton.prototype,"loading",void 0);WuiConnectButton=__decorate$2C([customElement("wui-connect-button")],WuiConnectButton);const styles$1$=i$a`
  wui-flex {
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }
`;var __decorate$2B=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiCtaButton=class extends r$e{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return x$1`
      <wui-flex
        justifyContent="space-between"
        alignItems="center"
        .padding=${["1xs","2l","1xs","2l"]}
      >
        <wui-text variant="paragraph-500" color="fg-200">${this.label}</wui-text>
        <wui-chip-button size="sm" variant="shade" text=${this.buttonLabel} icon="chevronRight">
        </wui-chip-button>
      </wui-flex>
    `}};WuiCtaButton.styles=[resetStyles,elementStyles,styles$1$];__decorate$2B([n$c({type:Boolean})],WuiCtaButton.prototype,"disabled",void 0);__decorate$2B([n$c()],WuiCtaButton.prototype,"label",void 0);__decorate$2B([n$c()],WuiCtaButton.prototype,"buttonLabel",void 0);WuiCtaButton=__decorate$2B([customElement("wui-cta-button")],WuiCtaButton);const styles$1_=i$a`
  :host {
    display: block;
    padding: var(--wui-spacing-l) var(--wui-spacing-m);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    width: 100%;
  }
`;var __decorate$2A=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiDetailsGroup=class extends r$e{render(){return x$1`
      <wui-flex gap="xl" flexDirection="column" justifyContent="space-between" alignItems="center">
        <slot></slot>
      </wui-flex>
    `}};WuiDetailsGroup.styles=[resetStyles,elementStyles,styles$1_];WuiDetailsGroup=__decorate$2A([customElement("wui-details-group")],WuiDetailsGroup);const styles$1Z=i$a`
  :host {
    display: flex;
    flex-direction: row;
    gap: var(--wui-spacing-l);
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
  }
`;var __decorate$2z=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiDetailsGroupItem=class extends r$e{constructor(){super(...arguments),this.name=""}render(){return x$1`
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="paragraph-500" color="fg-200">${this.name}</wui-text>
        <wui-flex gap="xs" alignItems="center">
          <slot></slot>
        </wui-flex>
      </wui-flex>
    `}};WuiDetailsGroupItem.styles=[resetStyles,elementStyles,styles$1Z];__decorate$2z([n$c()],WuiDetailsGroupItem.prototype,"name",void 0);WuiDetailsGroupItem=__decorate$2z([customElement("wui-details-group-item")],WuiDetailsGroupItem);const styles$1Y=i$a`
  :host {
    z-index: calc(var(--w3m-z-index) + 1);
    width: 200px;
    padding: var(--wui-spacing-3xs);
    align-items: center;
    display: inherit;
    border-radius: var(--wui-border-radius-xs);
    border: 1px solid var(--wui-color-gray-glass-002);
    background: var(--wui-color-fg-base-125);
    /* Dark/Elevation/L */
    box-shadow:
      0px 8px 22px -6px rgba(0, 0, 0, 0.12),
      0px 14px 64px -4px rgba(0, 0, 0, 0.12);
  }
`;var __decorate$2y=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiDropdownMenu=class extends r$e{constructor(){super(...arguments),this.actions=[],this.isOpen=!1}render(){return this.isOpen?x$1`
      <wui-flex flexDirection="column" gap="4xs">
        ${this.actions.map(Mn=>x$1`
            <wui-list-item
              icon=${Mn.icon}
              iconSize="sm"
              variant="icon"
              @click=${Mn.onClick}
            >
              <wui-text variant="small-400" color="fg-100">${Mn.label}</wui-text>
            </wui-list-item>
          `)}
      </wui-flex>
    `:null}};WuiDropdownMenu.styles=[resetStyles,elementStyles,styles$1Y];__decorate$2y([n$c({type:Array})],WuiDropdownMenu.prototype,"actions",void 0);__decorate$2y([n$c({type:Boolean})],WuiDropdownMenu.prototype,"isOpen",void 0);WuiDropdownMenu=__decorate$2y([customElement("wui-dropdown-menu")],WuiDropdownMenu);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const f$6=Fn=>Fn.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const s$4=(Fn,Mn)=>{var fo;const io=Fn._$AN;if(io===void 0)return!1;for(const mo of io)(fo=mo._$AO)==null||fo.call(mo,Mn,!1),s$4(mo,Mn);return!0},o$9=Fn=>{let Mn,io;do{if((Mn=Fn._$AM)===void 0)break;io=Mn._$AN,io.delete(Fn),Fn=Mn}while((io==null?void 0:io.size)===0)},r$b=Fn=>{for(let Mn;Mn=Fn._$AM;Fn=Mn){let io=Mn._$AN;if(io===void 0)Mn._$AN=io=new Set;else if(io.has(Fn))break;io.add(Fn),c$5(Mn)}};function h$9(Fn){this._$AN!==void 0?(o$9(this),this._$AM=Fn,r$b(this)):this._$AM=Fn}function n$b(Fn,Mn=!1,io=0){const fo=this._$AH,mo=this._$AN;if(mo!==void 0&&mo.size!==0)if(Mn)if(Array.isArray(fo))for(let $o=io;$o<fo.length;$o++)s$4(fo[$o],!1),o$9(fo[$o]);else fo!=null&&(s$4(fo,!1),o$9(fo));else s$4(this,Fn)}const c$5=Fn=>{Fn.type==t$6.CHILD&&(Fn._$AP??(Fn._$AP=n$b),Fn._$AQ??(Fn._$AQ=h$9))};let f$5=class extends i$6{constructor(){super(...arguments),this._$AN=void 0}_$AT(Mn,io,fo){super._$AT(Mn,io,fo),r$b(this),this.isConnected=Mn._$AU}_$AO(Mn,io=!0){var fo,mo;Mn!==this.isConnected&&(this.isConnected=Mn,Mn?(fo=this.reconnected)==null||fo.call(this):(mo=this.disconnected)==null||mo.call(this)),io&&(s$4(this,Mn),o$9(this))}setValue(Mn){if(f$6(this._$Ct))this._$Ct._$AI(Mn,this);else{const io=[...this._$Ct._$AH];io[this._$Ci]=Mn,this._$Ct._$AI(io,this,0)}}disconnected(){}reconnected(){}};/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$8=()=>new h$8;let h$8=class{};const o$8=new WeakMap,n$a=e$a(class extends f$5{render(Fn){return E$1}update(Fn,[Mn]){var fo;const io=Mn!==this.Y;return io&&this.Y!==void 0&&this.rt(void 0),(io||this.lt!==this.ct)&&(this.Y=Mn,this.ht=(fo=Fn.options)==null?void 0:fo.host,this.rt(this.ct=Fn.element)),E$1}rt(Fn){if(this.isConnected||(Fn=void 0),typeof this.Y=="function"){const Mn=this.ht??globalThis;let io=o$8.get(Mn);io===void 0&&(io=new WeakMap,o$8.set(Mn,io)),io.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),io.set(this.Y,Fn),Fn!==void 0&&this.Y.call(this.ht,Fn)}else this.Y.value=Fn}get lt(){var Fn,Mn;return typeof this.Y=="function"?(Fn=o$8.get(this.ht??globalThis))==null?void 0:Fn.get(this.Y):(Mn=this.Y)==null?void 0:Mn.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}}),styles$1X=i$a`
  :host {
    position: relative;
    width: 100%;
    display: inline-block;
    color: var(--wui-color-fg-275);
  }

  input {
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    background: var(--wui-color-gray-glass-002);
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
    color: var(--wui-color-fg-100);
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      box-shadow var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color, box-shadow;
    caret-color: var(--wui-color-accent-100);
  }

  input:disabled {
    cursor: not-allowed;
    border: 1px solid var(--wui-color-gray-glass-010);
  }

  input:disabled::placeholder,
  input:disabled + wui-icon {
    color: var(--wui-color-fg-300);
  }

  input::placeholder {
    color: var(--wui-color-fg-275);
  }

  input:focus:enabled {
    background-color: var(--wui-color-gray-glass-005);
    -webkit-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  input:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
  }

  .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px var(--wui-spacing-s);
  }

  wui-icon + .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px 36px;
  }

  wui-icon[data-input='sm'] {
    left: var(--wui-spacing-s);
  }

  .wui-size-md {
    padding: 15px var(--wui-spacing-m) var(--wui-spacing-l) var(--wui-spacing-m);
  }

  wui-icon + .wui-size-md,
  wui-loading-spinner + .wui-size-md {
    padding: 10.5px var(--wui-spacing-3xl) 10.5px var(--wui-spacing-3xl);
  }

  wui-icon[data-input='md'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-lg {
    padding: var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-l);
    letter-spacing: var(--wui-letter-spacing-medium-title);
    font-size: var(--wui-font-size-medium-title);
    font-weight: var(--wui-font-weight-light);
    line-height: 130%;
    color: var(--wui-color-fg-100);
    height: 64px;
  }

  .wui-padding-right-xs {
    padding-right: var(--wui-spacing-xs);
  }

  .wui-padding-right-s {
    padding-right: var(--wui-spacing-s);
  }

  .wui-padding-right-m {
    padding-right: var(--wui-spacing-m);
  }

  .wui-padding-right-l {
    padding-right: var(--wui-spacing-l);
  }

  .wui-padding-right-xl {
    padding-right: var(--wui-spacing-xl);
  }

  .wui-padding-right-2xl {
    padding-right: var(--wui-spacing-2xl);
  }

  .wui-padding-right-3xl {
    padding-right: var(--wui-spacing-3xl);
  }

  .wui-padding-right-4xl {
    padding-right: var(--wui-spacing-4xl);
  }

  .wui-padding-right-5xl {
    padding-right: var(--wui-spacing-5xl);
  }

  wui-icon + .wui-size-lg,
  wui-loading-spinner + .wui-size-lg {
    padding-left: 50px;
  }

  wui-icon[data-input='lg'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-m) 17.25px var(--wui-spacing-m);
  }
  wui-icon + .wui-size-mdl,
  wui-loading-spinner + .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-3xl) 17.25px 40px;
  }
  wui-icon[data-input='mdl'] {
    left: var(--wui-spacing-m);
  }

  input:placeholder-shown ~ ::slotted(wui-input-element),
  input:placeholder-shown ~ ::slotted(wui-icon) {
    opacity: 0;
    pointer-events: none;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  ::slotted(wui-input-element),
  ::slotted(wui-icon) {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  ::slotted(wui-input-element) {
    right: var(--wui-spacing-m);
  }

  ::slotted(wui-icon) {
    right: 0px;
  }
`;var __decorate$2x=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiInputText=class extends r$e{constructor(){super(...arguments),this.inputElementRef=e$8(),this.size="md",this.disabled=!1,this.placeholder="",this.type="text",this.value=""}render(){const Mn=`wui-padding-right-${this.inputRightPadding}`,fo={[`wui-size-${this.size}`]:!0,[Mn]:!!this.inputRightPadding};return x$1`${this.templateIcon()}
      <input
        data-testid="wui-input-text"
        ${n$a(this.inputElementRef)}
        class=${e$9(fo)}
        type=${this.type}
        enterkeyhint=${o$a(this.enterKeyHint)}
        ?disabled=${this.disabled}
        placeholder=${this.placeholder}
        @input=${this.dispatchInputChangeEvent.bind(this)}
        .value=${this.value||""}
        tabindex=${o$a(this.tabIdx)}
      />
      <slot></slot>`}templateIcon(){return this.icon?x$1`<wui-icon
        data-input=${this.size}
        size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}dispatchInputChangeEvent(){var Mn;this.dispatchEvent(new CustomEvent("inputChange",{detail:(Mn=this.inputElementRef.value)==null?void 0:Mn.value,bubbles:!0,composed:!0}))}};WuiInputText.styles=[resetStyles,elementStyles,styles$1X];__decorate$2x([n$c()],WuiInputText.prototype,"size",void 0);__decorate$2x([n$c()],WuiInputText.prototype,"icon",void 0);__decorate$2x([n$c({type:Boolean})],WuiInputText.prototype,"disabled",void 0);__decorate$2x([n$c()],WuiInputText.prototype,"placeholder",void 0);__decorate$2x([n$c()],WuiInputText.prototype,"type",void 0);__decorate$2x([n$c()],WuiInputText.prototype,"keyHint",void 0);__decorate$2x([n$c()],WuiInputText.prototype,"value",void 0);__decorate$2x([n$c()],WuiInputText.prototype,"inputRightPadding",void 0);__decorate$2x([n$c()],WuiInputText.prototype,"tabIdx",void 0);WuiInputText=__decorate$2x([customElement("wui-input-text")],WuiInputText);const styles$1W=i$a`
  :host {
    position: relative;
    display: inline-block;
  }

  wui-text {
    margin: var(--wui-spacing-xxs) var(--wui-spacing-m) var(--wui-spacing-0) var(--wui-spacing-m);
  }
`;var __decorate$2w=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiEmailInput=class extends r$e{constructor(){super(...arguments),this.disabled=!1}render(){return x$1`
      <wui-input-text
        type="email"
        placeholder="Email"
        icon="mail"
        size="mdl"
        .disabled=${this.disabled}
        .value=${this.value}
        data-testid="wui-email-input"
        tabIdx=${o$a(this.tabIdx)}
      ></wui-input-text>
      ${this.templateError()}
    `}templateError(){return this.errorMessage?x$1`<wui-text variant="tiny-500" color="error-100">${this.errorMessage}</wui-text>`:null}};WuiEmailInput.styles=[resetStyles,styles$1W];__decorate$2w([n$c()],WuiEmailInput.prototype,"errorMessage",void 0);__decorate$2w([n$c({type:Boolean})],WuiEmailInput.prototype,"disabled",void 0);__decorate$2w([n$c()],WuiEmailInput.prototype,"value",void 0);__decorate$2w([n$c()],WuiEmailInput.prototype,"tabIdx",void 0);WuiEmailInput=__decorate$2w([customElement("wui-email-input")],WuiEmailInput);const styles$1V=i$a`
  :host {
    position: relative;
    width: 100%;
    display: inline-block;
    color: var(--wui-color-fg-275);
  }

  .error {
    margin: var(--wui-spacing-xxs) var(--wui-spacing-m) var(--wui-spacing-0) var(--wui-spacing-m);
  }

  .base-name {
    position: absolute;
    right: 45px;
    top: 15px;
    text-align: right;
  }
`;var __decorate$2v=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiEnsInput=class extends r$e{constructor(){super(...arguments),this.disabled=!1,this.loading=!1}render(){return x$1`
      <wui-input-text
        value=${o$a(this.value)}
        ?disabled=${this.disabled}
        .value=${this.value||""}
        data-testid="wui-ens-input"
        inputRightPadding="5xl"
      >
        ${this.baseNameTemplate()} ${this.errorTemplate()}${this.loadingTemplate()}
      </wui-input-text>
    `}baseNameTemplate(){return x$1`<wui-text variant="paragraph-400" color="fg-200" class="base-name">
      ${ConstantsUtil$3.WC_NAME_SUFFIX}
    </wui-text>`}loadingTemplate(){return this.loading?x$1`<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>`:null}errorTemplate(){return this.errorMessage?x$1`<wui-text variant="tiny-500" color="error-100" class="error"
        >${this.errorMessage}</wui-text
      >`:null}};WuiEnsInput.styles=[resetStyles,styles$1V];__decorate$2v([n$c()],WuiEnsInput.prototype,"errorMessage",void 0);__decorate$2v([n$c({type:Boolean})],WuiEnsInput.prototype,"disabled",void 0);__decorate$2v([n$c()],WuiEnsInput.prototype,"value",void 0);__decorate$2v([n$c({type:Boolean})],WuiEnsInput.prototype,"loading",void 0);WuiEnsInput=__decorate$2v([customElement("wui-ens-input")],WuiEnsInput);const styles$1U=i$a`
  button {
    border-radius: var(--local-border-radius);
    color: var(--wui-color-fg-100);
    padding: var(--local-padding);
  }

  @media (max-width: 700px) {
    button {
      padding: var(--wui-spacing-s);
    }
  }

  button > wui-icon {
    pointer-events: none;
  }

  button:disabled > wui-icon {
    color: var(--wui-color-bg-300) !important;
  }

  button:disabled {
    background-color: transparent;
  }
`;var __decorate$2u=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiIconLink=class extends r$e{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="inherit"}render(){const Mn=this.size==="lg"?"--wui-border-radius-xs":"--wui-border-radius-xxs",io=this.size==="lg"?"--wui-spacing-1xs":"--wui-spacing-2xs";return this.style.cssText=`
    --local-border-radius: var(${Mn});
    --local-padding: var(${io});
`,x$1`
      <button ?disabled=${this.disabled} ontouchstart>
        <wui-icon color=${this.iconColor} size=${this.size} name=${this.icon}></wui-icon>
      </button>
    `}};WuiIconLink.styles=[resetStyles,elementStyles,colorStyles,styles$1U];__decorate$2u([n$c()],WuiIconLink.prototype,"size",void 0);__decorate$2u([n$c({type:Boolean})],WuiIconLink.prototype,"disabled",void 0);__decorate$2u([n$c()],WuiIconLink.prototype,"icon",void 0);__decorate$2u([n$c()],WuiIconLink.prototype,"iconColor",void 0);WuiIconLink=__decorate$2u([customElement("wui-icon-link")],WuiIconLink);const styles$1T=i$a`
  button {
    background-color: var(--wui-color-fg-300);
    border-radius: var(--wui-border-radius-4xs);
    width: 16px;
    height: 16px;
  }

  button:disabled {
    background-color: var(--wui-color-bg-300);
  }

  wui-icon {
    color: var(--wui-color-bg-200) !important;
  }

  button:focus-visible {
    background-color: var(--wui-color-fg-250);
    border: 1px solid var(--wui-color-accent-100);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-fg-250);
    }

    button:active:enabled {
      background-color: var(--wui-color-fg-225);
    }
  }
`;var __decorate$2t=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiInputElement=class extends r$e{constructor(){super(...arguments),this.icon="copy"}render(){return x$1`
      <button>
        <wui-icon color="inherit" size="xxs" name=${this.icon}></wui-icon>
      </button>
    `}};WuiInputElement.styles=[resetStyles,elementStyles,styles$1T];__decorate$2t([n$c()],WuiInputElement.prototype,"icon",void 0);WuiInputElement=__decorate$2t([customElement("wui-input-element")],WuiInputElement);const styles$1S=i$a`
  :host {
    position: relative;
    display: inline-block;
  }

  input {
    width: 50px;
    height: 50px;
    background: var(--wui-color-gray-glass-010);
    border-radius: var(--wui-border-radius-xs);
    border: 1px solid var(--wui-color-gray-glass-005);
    font-family: var(--wui-font-family);
    font-size: var(--wui-font-size-large);
    font-weight: var(--wui-font-weight-regular);
    letter-spacing: var(--wui-letter-spacing-large);
    text-align: center;
    color: var(--wui-color-fg-100);
    caret-color: var(--wui-color-accent-100);
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      box-shadow var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color, box-shadow;
    box-sizing: border-box;
    -webkit-appearance: none;
    -moz-appearance: textfield;
    padding: 0px;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  input:disabled {
    cursor: not-allowed;
    border: 1px solid var(--wui-color-gray-glass-010);
    background: var(--wui-color-gray-glass-005);
  }

  input:focus:enabled {
    background-color: var(--wui-color-gray-glass-015);
    border: 1px solid var(--wui-color-accent-100);
    -webkit-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  @media (hover: hover) and (pointer: fine) {
    input:hover:enabled {
      background-color: var(--wui-color-gray-glass-015);
    }
  }
`;var __decorate$2s=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiInputNumeric=class extends r$e{constructor(){super(...arguments),this.disabled=!1,this.value=""}render(){return x$1`<input
      type="number"
      maxlength="1"
      inputmode="numeric"
      autofocus
      ?disabled=${this.disabled}
      value=${this.value}
    /> `}};WuiInputNumeric.styles=[resetStyles,elementStyles,styles$1S];__decorate$2s([n$c({type:Boolean})],WuiInputNumeric.prototype,"disabled",void 0);__decorate$2s([n$c({type:String})],WuiInputNumeric.prototype,"value",void 0);WuiInputNumeric=__decorate$2s([customElement("wui-input-numeric")],WuiInputNumeric);const styles$1R=i$a`
  button {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
    border-radius: var(--wui-border-radius-3xs);
    background-color: transparent;
    color: var(--wui-color-accent-100);
  }

  button:disabled {
    background-color: transparent;
    color: var(--wui-color-gray-glass-015);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-005);
  }
`;var __decorate$2r=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiLink=class extends r$e{constructor(){super(...arguments),this.tabIdx=void 0,this.disabled=!1,this.color="inherit"}render(){return x$1`
      <button ?disabled=${this.disabled} tabindex=${o$a(this.tabIdx)} ontouchstart>
        <slot name="iconLeft"></slot>
        <wui-text variant="small-600" color=${this.color}>
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}};WuiLink.styles=[resetStyles,elementStyles,styles$1R];__decorate$2r([n$c()],WuiLink.prototype,"tabIdx",void 0);__decorate$2r([n$c({type:Boolean})],WuiLink.prototype,"disabled",void 0);__decorate$2r([n$c()],WuiLink.prototype,"color",void 0);WuiLink=__decorate$2r([customElement("wui-link")],WuiLink);const styles$1Q=i$a`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 11px 18px 11px var(--wui-spacing-s);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
    transition:
      color var(--wui-ease-out-power-1) var(--wui-duration-md),
      background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: color, background-color;
  }

  button[data-iconvariant='square'],
  button[data-iconvariant='square-blue'] {
    padding: 6px 18px 6px 9px;
  }

  button > wui-flex {
    flex: 1;
  }

  button > wui-image {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-3xl);
  }

  button > wui-icon {
    width: 36px;
    height: 36px;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  button > wui-icon-box[data-variant='blue'] {
    box-shadow: 0 0 0 2px var(--wui-color-accent-glass-005);
  }

  button > wui-icon-box[data-variant='overlay'] {
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  button > wui-icon-box[data-variant='square-blue'] {
    border-radius: var(--wui-border-radius-3xs);
    position: relative;
    border: none;
    width: 36px;
    height: 36px;
  }

  button > wui-icon-box[data-variant='square-blue']::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-accent-glass-010);
    pointer-events: none;
  }

  button > wui-icon:last-child {
    width: 14px;
    height: 14px;
  }

  button:disabled {
    color: var(--wui-color-gray-glass-020);
  }

  button[data-loading='true'] > wui-icon {
    opacity: 0;
  }

  wui-loading-spinner {
    position: absolute;
    right: 18px;
    top: 50%;
    transform: translateY(-50%);
  }
`;var __decorate$2q=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiListItem=class extends r$e{constructor(){super(...arguments),this.tabIdx=void 0,this.variant="icon",this.disabled=!1,this.imageSrc=void 0,this.alt=void 0,this.chevron=!1,this.loading=!1}render(){return x$1`
      <button
        ?disabled=${this.loading?!0:!!this.disabled}
        data-loading=${this.loading}
        data-iconvariant=${o$a(this.iconVariant)}
        tabindex=${o$a(this.tabIdx)}
        ontouchstart
      >
        ${this.loadingTemplate()} ${this.visualTemplate()}
        <wui-flex gap="3xs">
          <slot></slot>
        </wui-flex>
        ${this.chevronTemplate()}
      </button>
    `}visualTemplate(){if(this.variant==="image"&&this.imageSrc)return x$1`<wui-image src=${this.imageSrc} alt=${this.alt??"list item"}></wui-image>`;if(this.iconVariant==="square"&&this.icon&&this.variant==="icon")return x$1`<wui-icon name=${this.icon}></wui-icon>`;if(this.variant==="icon"&&this.icon&&this.iconVariant){const Mn=["blue","square-blue"].includes(this.iconVariant)?"accent-100":"fg-200",io=this.iconVariant==="square-blue"?"mdl":"md",fo=this.iconSize?this.iconSize:io;return x$1`
        <wui-icon-box
          data-variant=${this.iconVariant}
          icon=${this.icon}
          iconSize=${fo}
          background="transparent"
          iconColor=${Mn}
          backgroundColor=${Mn}
          size=${io}
        ></wui-icon-box>
      `}return null}loadingTemplate(){return this.loading?x$1`<wui-loading-spinner color="fg-300"></wui-loading-spinner>`:x$1``}chevronTemplate(){return this.chevron?x$1`<wui-icon size="inherit" color="fg-200" name="chevronRight"></wui-icon>`:null}};WuiListItem.styles=[resetStyles,elementStyles,styles$1Q];__decorate$2q([n$c()],WuiListItem.prototype,"icon",void 0);__decorate$2q([n$c()],WuiListItem.prototype,"iconSize",void 0);__decorate$2q([n$c()],WuiListItem.prototype,"tabIdx",void 0);__decorate$2q([n$c()],WuiListItem.prototype,"variant",void 0);__decorate$2q([n$c()],WuiListItem.prototype,"iconVariant",void 0);__decorate$2q([n$c({type:Boolean})],WuiListItem.prototype,"disabled",void 0);__decorate$2q([n$c()],WuiListItem.prototype,"imageSrc",void 0);__decorate$2q([n$c()],WuiListItem.prototype,"alt",void 0);__decorate$2q([n$c({type:Boolean})],WuiListItem.prototype,"chevron",void 0);__decorate$2q([n$c({type:Boolean})],WuiListItem.prototype,"loading",void 0);WuiListItem=__decorate$2q([customElement("wui-list-item")],WuiListItem);var TransactionTypePastTense;(function(Fn){Fn.approve="approved",Fn.bought="bought",Fn.borrow="borrowed",Fn.burn="burnt",Fn.cancel="canceled",Fn.claim="claimed",Fn.deploy="deployed",Fn.deposit="deposited",Fn.execute="executed",Fn.mint="minted",Fn.receive="received",Fn.repay="repaid",Fn.send="sent",Fn.sell="sold",Fn.stake="staked",Fn.trade="swapped",Fn.unstake="unstaked",Fn.withdraw="withdrawn"})(TransactionTypePastTense||(TransactionTypePastTense={}));const styles$1P=i$a`
  :host > wui-flex {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    width: 40px;
    height: 40px;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-gray-glass-005);
  }

  :host > wui-flex wui-image {
    display: block;
  }

  :host > wui-flex,
  :host > wui-flex wui-image,
  .swap-images-container,
  .swap-images-container.nft,
  wui-image.nft {
    border-top-left-radius: var(--local-left-border-radius);
    border-top-right-radius: var(--local-right-border-radius);
    border-bottom-left-radius: var(--local-left-border-radius);
    border-bottom-right-radius: var(--local-right-border-radius);
  }

  wui-icon {
    width: 20px;
    height: 20px;
  }

  wui-icon-box {
    position: absolute;
    right: 0;
    bottom: 0;
    transform: translate(20%, 20%);
  }

  .swap-images-container {
    position: relative;
    width: 40px;
    height: 40px;
    overflow: hidden;
  }

  .swap-images-container wui-image:first-child {
    position: absolute;
    width: 40px;
    height: 40px;
    top: 0;
    left: 0%;
    clip-path: inset(0px calc(50% + 2px) 0px 0%);
  }

  .swap-images-container wui-image:last-child {
    clip-path: inset(0px 0px 0px calc(50% + 2px));
  }
`;var __decorate$2p=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiTransactionVisual=class extends r$e{constructor(){super(...arguments),this.images=[],this.secondImage={type:void 0,url:""}}render(){const[Mn,io]=this.images,fo=(Mn==null?void 0:Mn.type)==="NFT",mo=io!=null&&io.url?io.type==="NFT":fo,$o=fo?"var(--wui-border-radius-xxs)":"var(--wui-border-radius-s)",Ao=mo?"var(--wui-border-radius-xxs)":"var(--wui-border-radius-s)";return this.style.cssText=`
    --local-left-border-radius: ${$o};
    --local-right-border-radius: ${Ao};
    `,x$1`<wui-flex> ${this.templateVisual()} ${this.templateIcon()} </wui-flex>`}templateVisual(){const[Mn,io]=this.images,fo=Mn==null?void 0:Mn.type;return this.images.length===2&&(Mn!=null&&Mn.url||io!=null&&io.url)?x$1`<div class="swap-images-container">
        ${Mn!=null&&Mn.url?x$1`<wui-image src=${Mn.url} alt="Transaction image"></wui-image>`:null}
        ${io!=null&&io.url?x$1`<wui-image src=${io.url} alt="Transaction image"></wui-image>`:null}
      </div>`:Mn!=null&&Mn.url?x$1`<wui-image src=${Mn.url} alt="Transaction image"></wui-image>`:fo==="NFT"?x$1`<wui-icon size="inherit" color="fg-200" name="nftPlaceholder"></wui-icon>`:x$1`<wui-icon size="inherit" color="fg-200" name="coinPlaceholder"></wui-icon>`}templateIcon(){let Mn="accent-100",io;return io=this.getIcon(),this.status&&(Mn=this.getStatusColor()),io?x$1`
      <wui-icon-box
        size="xxs"
        iconColor=${Mn}
        backgroundColor=${Mn}
        background="opaque"
        icon=${io}
        ?border=${!0}
        borderColor="wui-color-bg-125"
      ></wui-icon-box>
    `:null}getDirectionIcon(){switch(this.direction){case"in":return"arrowBottom";case"out":return"arrowTop";default:return}}getIcon(){return this.onlyDirectionIcon?this.getDirectionIcon():this.type==="trade"?"swapHorizontalBold":this.type==="approve"?"checkmark":this.type==="cancel"?"close":this.getDirectionIcon()}getStatusColor(){switch(this.status){case"confirmed":return"success-100";case"failed":return"error-100";case"pending":return"inverse-100";default:return"accent-100"}}};WuiTransactionVisual.styles=[styles$1P];__decorate$2p([n$c()],WuiTransactionVisual.prototype,"type",void 0);__decorate$2p([n$c()],WuiTransactionVisual.prototype,"status",void 0);__decorate$2p([n$c()],WuiTransactionVisual.prototype,"direction",void 0);__decorate$2p([n$c({type:Boolean})],WuiTransactionVisual.prototype,"onlyDirectionIcon",void 0);__decorate$2p([n$c({type:Array})],WuiTransactionVisual.prototype,"images",void 0);__decorate$2p([n$c({type:Object})],WuiTransactionVisual.prototype,"secondImage",void 0);WuiTransactionVisual=__decorate$2p([customElement("wui-transaction-visual")],WuiTransactionVisual);const styles$1O=i$a`
  :host > wui-flex:first-child {
    align-items: center;
    column-gap: var(--wui-spacing-s);
    padding: 6.5px var(--wui-spacing-xs) 6.5px var(--wui-spacing-xs);
    width: 100%;
  }

  :host > wui-flex:first-child wui-text:nth-child(1) {
    text-transform: capitalize;
  }

  wui-transaction-visual {
    width: 40px;
    height: 40px;
  }

  wui-flex {
    flex: 1;
  }

  :host wui-flex wui-flex {
    overflow: hidden;
  }

  :host .description-container wui-text span {
    word-break: break-all;
  }

  :host .description-container wui-text {
    overflow: hidden;
  }

  :host .description-separator-icon {
    margin: 0px 6px;
  }

  :host wui-text > span {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }
`;var __decorate$2o=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiTransactionListItem=class extends r$e{constructor(){super(...arguments),this.type="approve",this.onlyDirectionIcon=!1,this.images=[],this.price=[],this.amount=[],this.symbol=[]}render(){return x$1`
      <wui-flex>
        <wui-transaction-visual
          .status=${this.status}
          direction=${o$a(this.direction)}
          type=${this.type}
          onlyDirectionIcon=${o$a(this.onlyDirectionIcon)}
          .images=${this.images}
        ></wui-transaction-visual>
        <wui-flex flexDirection="column" gap="3xs">
          <wui-text variant="paragraph-600" color="fg-100">
            ${TransactionTypePastTense[this.type]||this.type}
          </wui-text>
          <wui-flex class="description-container">
            ${this.templateDescription()} ${this.templateSecondDescription()}
          </wui-flex>
        </wui-flex>
        <wui-text variant="micro-700" color="fg-300"><span>${this.date}</span></wui-text>
      </wui-flex>
    `}templateDescription(){var io;const Mn=(io=this.descriptions)==null?void 0:io[0];return Mn?x$1`
          <wui-text variant="small-500" color="fg-200">
            <span>${Mn}</span>
          </wui-text>
        `:null}templateSecondDescription(){var io;const Mn=(io=this.descriptions)==null?void 0:io[1];return Mn?x$1`
          <wui-icon class="description-separator-icon" size="xxs" name="arrowRight"></wui-icon>
          <wui-text variant="small-400" color="fg-200">
            <span>${Mn}</span>
          </wui-text>
        `:null}};WuiTransactionListItem.styles=[resetStyles,styles$1O];__decorate$2o([n$c()],WuiTransactionListItem.prototype,"type",void 0);__decorate$2o([n$c({type:Array})],WuiTransactionListItem.prototype,"descriptions",void 0);__decorate$2o([n$c()],WuiTransactionListItem.prototype,"date",void 0);__decorate$2o([n$c({type:Boolean})],WuiTransactionListItem.prototype,"onlyDirectionIcon",void 0);__decorate$2o([n$c()],WuiTransactionListItem.prototype,"status",void 0);__decorate$2o([n$c()],WuiTransactionListItem.prototype,"direction",void 0);__decorate$2o([n$c({type:Array})],WuiTransactionListItem.prototype,"images",void 0);__decorate$2o([n$c({type:Array})],WuiTransactionListItem.prototype,"price",void 0);__decorate$2o([n$c({type:Array})],WuiTransactionListItem.prototype,"amount",void 0);__decorate$2o([n$c({type:Array})],WuiTransactionListItem.prototype,"symbol",void 0);WuiTransactionListItem=__decorate$2o([customElement("wui-transaction-list-item")],WuiTransactionListItem);const styles$1N=i$a`
  :host > wui-flex:first-child {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
  }

  wui-flex {
    display: flex;
    flex: 1;
  }
`;var __decorate$2n=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiTransactionListItemLoader=class extends r$e{render(){return x$1`
      <wui-flex alignItems="center">
        <wui-shimmer width="40px" height="40px"></wui-shimmer>
        <wui-flex flexDirection="column" gap="2xs">
          <wui-shimmer width="72px" height="16px" borderRadius="4xs"></wui-shimmer>
          <wui-shimmer width="148px" height="14px" borderRadius="4xs"></wui-shimmer>
        </wui-flex>
        <wui-shimmer width="24px" height="12px" borderRadius="5xs"></wui-shimmer>
      </wui-flex>
    `}};WuiTransactionListItemLoader.styles=[resetStyles,styles$1N];WuiTransactionListItemLoader=__decorate$2n([customElement("wui-transaction-list-item-loader")],WuiTransactionListItemLoader);const styles$1M=i$a`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    height: var(--wui-spacing-m);
    padding: 0 var(--wui-spacing-3xs) !important;
    border-radius: var(--wui-border-radius-5xs);
  }

  :host > wui-text {
    transform: translateY(5%);
  }

  :host([data-variant='main']) {
    background-color: var(--wui-color-accent-glass-015);
    color: var(--wui-color-accent-100);
  }

  :host([data-variant='shade']) {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-200);
  }

  :host([data-variant='success']) {
    background-color: var(--wui-icon-box-bg-success-100);
    color: var(--wui-color-success-100);
  }

  :host([data-variant='error']) {
    background-color: var(--wui-icon-box-bg-error-100);
    color: var(--wui-color-error-100);
  }

  :host([data-size='lg']) {
    padding: 11px 5px !important;
  }

  :host([data-size='lg']) > wui-text {
    transform: translateY(2%);
  }
`;var __decorate$2m=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiTag=class extends r$e{constructor(){super(...arguments),this.variant="main",this.size="lg"}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;const Mn=this.size==="md"?"mini-700":"micro-700";return x$1`
      <wui-text data-variant=${this.variant} variant=${Mn} color="inherit">
        <slot></slot>
      </wui-text>
    `}};WuiTag.styles=[resetStyles,styles$1M];__decorate$2m([n$c()],WuiTag.prototype,"variant",void 0);__decorate$2m([n$c()],WuiTag.prototype,"size",void 0);WuiTag=__decorate$2m([customElement("wui-tag")],WuiTag);const styles$1L=i$a`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-tag {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-300);
  }

  wui-icon {
    color: var(--wui-color-fg-200) !important;
  }
`;var __decorate$2l=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiListWallet=class extends r$e{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.tabIdx=void 0,this.installed=!1,this.disabled=!1,this.showAllWallets=!1}render(){return x$1`
      <button ?disabled=${this.disabled} tabindex=${o$a(this.tabIdx)} ontouchstart>
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-text variant="paragraph-500" color="inherit">${this.name}</wui-text>
        ${this.templateStatus()}
      </button>
    `}templateAllWallets(){return this.showAllWallets&&this.imageSrc?x$1` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?x$1` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?x$1`<wui-wallet-image
        size="sm"
        imageSrc=${this.imageSrc}
        name=${this.name}
        .installed=${this.installed}
      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?x$1`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.tagLabel&&this.tagVariant?x$1`<wui-tag variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:this.icon?x$1`<wui-icon color="inherit" size="sm" name=${this.icon}></wui-icon>`:null}};WuiListWallet.styles=[resetStyles,elementStyles,styles$1L];__decorate$2l([n$c({type:Array})],WuiListWallet.prototype,"walletImages",void 0);__decorate$2l([n$c()],WuiListWallet.prototype,"imageSrc",void 0);__decorate$2l([n$c()],WuiListWallet.prototype,"name",void 0);__decorate$2l([n$c()],WuiListWallet.prototype,"tagLabel",void 0);__decorate$2l([n$c()],WuiListWallet.prototype,"tagVariant",void 0);__decorate$2l([n$c()],WuiListWallet.prototype,"icon",void 0);__decorate$2l([n$c()],WuiListWallet.prototype,"walletIcon",void 0);__decorate$2l([n$c()],WuiListWallet.prototype,"tabIdx",void 0);__decorate$2l([n$c({type:Boolean})],WuiListWallet.prototype,"installed",void 0);__decorate$2l([n$c({type:Boolean})],WuiListWallet.prototype,"disabled",void 0);__decorate$2l([n$c({type:Boolean})],WuiListWallet.prototype,"showAllWallets",void 0);WuiListWallet=__decorate$2l([customElement("wui-list-wallet")],WuiListWallet);const styles$1K=i$a`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-3xl);
    border: 1px solid var(--wui-color-gray-glass-005);
    overflow: hidden;
  }

  wui-icon {
    width: 100%;
    height: 100%;
  }
`;var __decorate$2k=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiLogo=class extends r$e{constructor(){super(...arguments),this.logo="google"}render(){return x$1`<wui-icon color="inherit" size="inherit" name=${this.logo}></wui-icon> `}};WuiLogo.styles=[resetStyles,styles$1K];__decorate$2k([n$c()],WuiLogo.prototype,"logo",void 0);WuiLogo=__decorate$2k([customElement("wui-logo")],WuiLogo);const styles$1J=i$a`
  :host {
    display: block;
    width: 100%;
  }

  button {
    width: 100%;
    height: 56px;
    background: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }
`;var __decorate$2j=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiLogoSelect=class extends r$e{constructor(){super(...arguments),this.logo="google",this.disabled=!1,this.tabIdx=void 0}render(){return x$1`
      <button ?disabled=${this.disabled} tabindex=${o$a(this.tabIdx)} ontouchstart>
        <wui-logo logo=${this.logo}></wui-logo>
      </button>
    `}};WuiLogoSelect.styles=[resetStyles,elementStyles,styles$1J];__decorate$2j([n$c()],WuiLogoSelect.prototype,"logo",void 0);__decorate$2j([n$c({type:Boolean})],WuiLogoSelect.prototype,"disabled",void 0);__decorate$2j([n$c()],WuiLogoSelect.prototype,"tabIdx",void 0);WuiLogoSelect=__decorate$2j([customElement("wui-logo-select")],WuiLogoSelect);const styles$1I=i$a`
  :host {
    display: block;
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
    display: flex;
    gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-2xs) var(--wui-spacing-s) var(--wui-spacing-2xs)
      var(--wui-spacing-xs);
    border: 1px solid var(--wui-color-gray-glass-010);
    background-color: var(--wui-color-gray-glass-005);
    color: var(--wui-color-fg-100);
  }

  button:disabled {
    border: 1px solid var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-015);
    }
  }

  wui-image,
  wui-icon-box {
    border-radius: var(--wui-border-radius-3xl);
    width: 24px;
    height: 24px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }
`;var __decorate$2i=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiNetworkButton=class extends r$e{constructor(){super(...arguments),this.imageSrc=void 0,this.isUnsupportedChain=void 0,this.disabled=!1}render(){return x$1`
      <button data-testid="wui-network-button" ?disabled=${this.disabled}>
        ${this.visualTemplate()}
        <wui-text variant="paragraph-600" color="inherit">
          <slot></slot>
        </wui-text>
      </button>
    `}visualTemplate(){return this.isUnsupportedChain?x$1`
        <wui-icon-box
          size="sm"
          iconColor="error-100"
          backgroundColor="error-100"
          icon="warningCircle"
        ></wui-icon-box>
      `:this.imageSrc?x$1`<wui-image src=${this.imageSrc}></wui-image>`:x$1`
      <wui-icon-box
        size="sm"
        iconColor="inverse-100"
        backgroundColor="fg-100"
        icon="networkPlaceholder"
      ></wui-icon-box>
    `}};WuiNetworkButton.styles=[resetStyles,elementStyles,styles$1I];__decorate$2i([n$c()],WuiNetworkButton.prototype,"imageSrc",void 0);__decorate$2i([n$c({type:Boolean})],WuiNetworkButton.prototype,"isUnsupportedChain",void 0);__decorate$2i([n$c({type:Boolean})],WuiNetworkButton.prototype,"disabled",void 0);WuiNetworkButton=__decorate$2i([customElement("wui-network-button")],WuiNetworkButton);const styles$1H=i$a`
  :host {
    position: relative;
    display: block;
  }
`;var __decorate$2h=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiOtp=class extends r$e{constructor(){super(...arguments),this.length=6,this.otp="",this.values=Array.from({length:this.length}).map(()=>""),this.numerics=[],this.shouldInputBeEnabled=Mn=>this.values.slice(0,Mn).every(fo=>fo!==""),this.handleKeyDown=(Mn,io)=>{const fo=Mn.target,mo=this.getInputElement(fo),$o=["ArrowLeft","ArrowRight","Shift","Delete"];if(!mo)return;$o.includes(Mn.key)&&Mn.preventDefault();const Ao=mo.selectionStart;switch(Mn.key){case"ArrowLeft":Ao&&mo.setSelectionRange(Ao+1,Ao+1),this.focusInputField("prev",io);break;case"ArrowRight":this.focusInputField("next",io);break;case"Shift":this.focusInputField("next",io);break;case"Delete":mo.value===""?this.focusInputField("prev",io):this.updateInput(mo,io,"");break;case"Backspace":mo.value===""?this.focusInputField("prev",io):this.updateInput(mo,io,"");break}},this.focusInputField=(Mn,io)=>{if(Mn==="next"){const fo=io+1;if(!this.shouldInputBeEnabled(fo))return;const mo=this.numerics[fo<this.length?fo:io],$o=mo?this.getInputElement(mo):void 0;$o&&($o.disabled=!1,$o.focus())}if(Mn==="prev"){const fo=io-1,mo=this.numerics[fo>-1?fo:io],$o=mo?this.getInputElement(mo):void 0;$o&&$o.focus()}}}firstUpdated(){var io,fo;this.otp&&(this.values=this.otp.split(""));const Mn=(io=this.shadowRoot)==null?void 0:io.querySelectorAll("wui-input-numeric");Mn&&(this.numerics=Array.from(Mn)),(fo=this.numerics[0])==null||fo.focus()}render(){return x$1`
      <wui-flex gap="xxs" data-testid="wui-otp-input">
        ${Array.from({length:this.length}).map((Mn,io)=>x$1`
            <wui-input-numeric
              @input=${fo=>this.handleInput(fo,io)}
              @click=${fo=>this.selectInput(fo)}
              @keydown=${fo=>this.handleKeyDown(fo,io)}
              .disabled=${!this.shouldInputBeEnabled(io)}
              .value=${this.values[io]||""}
            >
            </wui-input-numeric>
          `)}
      </wui-flex>
    `}updateInput(Mn,io,fo){const mo=this.numerics[io],$o=Mn||(mo?this.getInputElement(mo):void 0);$o&&($o.value=fo,this.values=this.values.map((Ao,Lo)=>Lo===io?fo:Ao))}selectInput(Mn){const io=Mn.target;if(io){const fo=this.getInputElement(io);fo==null||fo.select()}}handleInput(Mn,io){const fo=Mn.target,mo=this.getInputElement(fo);if(mo){const $o=mo.value;Mn.inputType==="insertFromPaste"?this.handlePaste(mo,$o,io):UiHelperUtil.isNumber($o)&&Mn.data?(this.updateInput(mo,io,Mn.data),this.focusInputField("next",io)):this.updateInput(mo,io,"")}this.dispatchInputChangeEvent()}handlePaste(Mn,io,fo){const mo=io[0];if(mo&&UiHelperUtil.isNumber(mo)){this.updateInput(Mn,fo,mo);const Ao=io.substring(1);if(fo+1<this.length&&Ao.length){const Lo=this.numerics[fo+1],Wo=Lo?this.getInputElement(Lo):void 0;Wo&&this.handlePaste(Wo,Ao,fo+1)}else this.focusInputField("next",fo)}else this.updateInput(Mn,fo,"")}getInputElement(Mn){var io;return(io=Mn.shadowRoot)!=null&&io.querySelector("input")?Mn.shadowRoot.querySelector("input"):null}dispatchInputChangeEvent(){const Mn=this.values.join("");this.dispatchEvent(new CustomEvent("inputChange",{detail:Mn,bubbles:!0,composed:!0}))}};WuiOtp.styles=[resetStyles,styles$1H];__decorate$2h([n$c({type:Number})],WuiOtp.prototype,"length",void 0);__decorate$2h([n$c({type:String})],WuiOtp.prototype,"otp",void 0);__decorate$2h([r$c()],WuiOtp.prototype,"values",void 0);WuiOtp=__decorate$2h([customElement("wui-otp")],WuiOtp);var browser={},canPromise$1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},qrcode={},utils$3={};let toSJISFunction;const CODEWORDS_COUNT=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];utils$3.getSymbolSize=function(Mn){if(!Mn)throw new Error('"version" cannot be null or undefined');if(Mn<1||Mn>40)throw new Error('"version" should be in range from 1 to 40');return Mn*4+17};utils$3.getSymbolTotalCodewords=function(Mn){return CODEWORDS_COUNT[Mn]};utils$3.getBCHDigit=function(Fn){let Mn=0;for(;Fn!==0;)Mn++,Fn>>>=1;return Mn};utils$3.setToSJISFunction=function(Mn){if(typeof Mn!="function")throw new Error('"toSJISFunc" is not a valid function.');toSJISFunction=Mn};utils$3.isKanjiModeEnabled=function(){return typeof toSJISFunction<"u"};utils$3.toSJIS=function(Mn){return toSJISFunction(Mn)};var errorCorrectionLevel={};(function(Fn){Fn.L={bit:1},Fn.M={bit:0},Fn.Q={bit:3},Fn.H={bit:2};function Mn(io){if(typeof io!="string")throw new Error("Param is not a string");switch(io.toLowerCase()){case"l":case"low":return Fn.L;case"m":case"medium":return Fn.M;case"q":case"quartile":return Fn.Q;case"h":case"high":return Fn.H;default:throw new Error("Unknown EC Level: "+io)}}Fn.isValid=function(fo){return fo&&typeof fo.bit<"u"&&fo.bit>=0&&fo.bit<4},Fn.from=function(fo,mo){if(Fn.isValid(fo))return fo;try{return Mn(fo)}catch{return mo}}})(errorCorrectionLevel);function BitBuffer$1(){this.buffer=[],this.length=0}BitBuffer$1.prototype={get:function(Fn){const Mn=Math.floor(Fn/8);return(this.buffer[Mn]>>>7-Fn%8&1)===1},put:function(Fn,Mn){for(let io=0;io<Mn;io++)this.putBit((Fn>>>Mn-io-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(Fn){const Mn=Math.floor(this.length/8);this.buffer.length<=Mn&&this.buffer.push(0),Fn&&(this.buffer[Mn]|=128>>>this.length%8),this.length++}};var bitBuffer=BitBuffer$1;function BitMatrix$1(Fn){if(!Fn||Fn<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=Fn,this.data=new Uint8Array(Fn*Fn),this.reservedBit=new Uint8Array(Fn*Fn)}BitMatrix$1.prototype.set=function(Fn,Mn,io,fo){const mo=Fn*this.size+Mn;this.data[mo]=io,fo&&(this.reservedBit[mo]=!0)};BitMatrix$1.prototype.get=function(Fn,Mn){return this.data[Fn*this.size+Mn]};BitMatrix$1.prototype.xor=function(Fn,Mn,io){this.data[Fn*this.size+Mn]^=io};BitMatrix$1.prototype.isReserved=function(Fn,Mn){return this.reservedBit[Fn*this.size+Mn]};var bitMatrix=BitMatrix$1,alignmentPattern={};(function(Fn){const Mn=utils$3.getSymbolSize;Fn.getRowColCoords=function(fo){if(fo===1)return[];const mo=Math.floor(fo/7)+2,$o=Mn(fo),Ao=$o===145?26:Math.ceil(($o-13)/(2*mo-2))*2,Lo=[$o-7];for(let Wo=1;Wo<mo-1;Wo++)Lo[Wo]=Lo[Wo-1]-Ao;return Lo.push(6),Lo.reverse()},Fn.getPositions=function(fo){const mo=[],$o=Fn.getRowColCoords(fo),Ao=$o.length;for(let Lo=0;Lo<Ao;Lo++)for(let Wo=0;Wo<Ao;Wo++)Lo===0&&Wo===0||Lo===0&&Wo===Ao-1||Lo===Ao-1&&Wo===0||mo.push([$o[Lo],$o[Wo]]);return mo}})(alignmentPattern);var finderPattern={};const getSymbolSize=utils$3.getSymbolSize,FINDER_PATTERN_SIZE=7;finderPattern.getPositions=function(Mn){const io=getSymbolSize(Mn);return[[0,0],[io-FINDER_PATTERN_SIZE,0],[0,io-FINDER_PATTERN_SIZE]]};var maskPattern={};(function(Fn){Fn.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const Mn={N1:3,N2:3,N3:40,N4:10};Fn.isValid=function(mo){return mo!=null&&mo!==""&&!isNaN(mo)&&mo>=0&&mo<=7},Fn.from=function(mo){return Fn.isValid(mo)?parseInt(mo,10):void 0},Fn.getPenaltyN1=function(mo){const $o=mo.size;let Ao=0,Lo=0,Wo=0,jo=null,zo=null;for(let Vo=0;Vo<$o;Vo++){Lo=Wo=0,jo=zo=null;for(let Go=0;Go<$o;Go++){let Jo=mo.get(Vo,Go);Jo===jo?Lo++:(Lo>=5&&(Ao+=Mn.N1+(Lo-5)),jo=Jo,Lo=1),Jo=mo.get(Go,Vo),Jo===zo?Wo++:(Wo>=5&&(Ao+=Mn.N1+(Wo-5)),zo=Jo,Wo=1)}Lo>=5&&(Ao+=Mn.N1+(Lo-5)),Wo>=5&&(Ao+=Mn.N1+(Wo-5))}return Ao},Fn.getPenaltyN2=function(mo){const $o=mo.size;let Ao=0;for(let Lo=0;Lo<$o-1;Lo++)for(let Wo=0;Wo<$o-1;Wo++){const jo=mo.get(Lo,Wo)+mo.get(Lo,Wo+1)+mo.get(Lo+1,Wo)+mo.get(Lo+1,Wo+1);(jo===4||jo===0)&&Ao++}return Ao*Mn.N2},Fn.getPenaltyN3=function(mo){const $o=mo.size;let Ao=0,Lo=0,Wo=0;for(let jo=0;jo<$o;jo++){Lo=Wo=0;for(let zo=0;zo<$o;zo++)Lo=Lo<<1&2047|mo.get(jo,zo),zo>=10&&(Lo===1488||Lo===93)&&Ao++,Wo=Wo<<1&2047|mo.get(zo,jo),zo>=10&&(Wo===1488||Wo===93)&&Ao++}return Ao*Mn.N3},Fn.getPenaltyN4=function(mo){let $o=0;const Ao=mo.data.length;for(let Wo=0;Wo<Ao;Wo++)$o+=mo.data[Wo];return Math.abs(Math.ceil($o*100/Ao/5)-10)*Mn.N4};function io(fo,mo,$o){switch(fo){case Fn.Patterns.PATTERN000:return(mo+$o)%2===0;case Fn.Patterns.PATTERN001:return mo%2===0;case Fn.Patterns.PATTERN010:return $o%3===0;case Fn.Patterns.PATTERN011:return(mo+$o)%3===0;case Fn.Patterns.PATTERN100:return(Math.floor(mo/2)+Math.floor($o/3))%2===0;case Fn.Patterns.PATTERN101:return mo*$o%2+mo*$o%3===0;case Fn.Patterns.PATTERN110:return(mo*$o%2+mo*$o%3)%2===0;case Fn.Patterns.PATTERN111:return(mo*$o%3+(mo+$o)%2)%2===0;default:throw new Error("bad maskPattern:"+fo)}}Fn.applyMask=function(mo,$o){const Ao=$o.size;for(let Lo=0;Lo<Ao;Lo++)for(let Wo=0;Wo<Ao;Wo++)$o.isReserved(Wo,Lo)||$o.xor(Wo,Lo,io(mo,Wo,Lo))},Fn.getBestMask=function(mo,$o){const Ao=Object.keys(Fn.Patterns).length;let Lo=0,Wo=1/0;for(let jo=0;jo<Ao;jo++){$o(jo),Fn.applyMask(jo,mo);const zo=Fn.getPenaltyN1(mo)+Fn.getPenaltyN2(mo)+Fn.getPenaltyN3(mo)+Fn.getPenaltyN4(mo);Fn.applyMask(jo,mo),zo<Wo&&(Wo=zo,Lo=jo)}return Lo}})(maskPattern);var errorCorrectionCode={};const ECLevel$1=errorCorrectionLevel,EC_BLOCKS_TABLE=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],EC_CODEWORDS_TABLE=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];errorCorrectionCode.getBlocksCount=function(Mn,io){switch(io){case ECLevel$1.L:return EC_BLOCKS_TABLE[(Mn-1)*4+0];case ECLevel$1.M:return EC_BLOCKS_TABLE[(Mn-1)*4+1];case ECLevel$1.Q:return EC_BLOCKS_TABLE[(Mn-1)*4+2];case ECLevel$1.H:return EC_BLOCKS_TABLE[(Mn-1)*4+3];default:return}};errorCorrectionCode.getTotalCodewordsCount=function(Mn,io){switch(io){case ECLevel$1.L:return EC_CODEWORDS_TABLE[(Mn-1)*4+0];case ECLevel$1.M:return EC_CODEWORDS_TABLE[(Mn-1)*4+1];case ECLevel$1.Q:return EC_CODEWORDS_TABLE[(Mn-1)*4+2];case ECLevel$1.H:return EC_CODEWORDS_TABLE[(Mn-1)*4+3];default:return}};var polynomial={},galoisField={};const EXP_TABLE=new Uint8Array(512),LOG_TABLE=new Uint8Array(256);(function(){let Mn=1;for(let io=0;io<255;io++)EXP_TABLE[io]=Mn,LOG_TABLE[Mn]=io,Mn<<=1,Mn&256&&(Mn^=285);for(let io=255;io<512;io++)EXP_TABLE[io]=EXP_TABLE[io-255]})();galoisField.log=function(Mn){if(Mn<1)throw new Error("log("+Mn+")");return LOG_TABLE[Mn]};galoisField.exp=function(Mn){return EXP_TABLE[Mn]};galoisField.mul=function(Mn,io){return Mn===0||io===0?0:EXP_TABLE[LOG_TABLE[Mn]+LOG_TABLE[io]]};(function(Fn){const Mn=galoisField;Fn.mul=function(fo,mo){const $o=new Uint8Array(fo.length+mo.length-1);for(let Ao=0;Ao<fo.length;Ao++)for(let Lo=0;Lo<mo.length;Lo++)$o[Ao+Lo]^=Mn.mul(fo[Ao],mo[Lo]);return $o},Fn.mod=function(fo,mo){let $o=new Uint8Array(fo);for(;$o.length-mo.length>=0;){const Ao=$o[0];for(let Wo=0;Wo<mo.length;Wo++)$o[Wo]^=Mn.mul(mo[Wo],Ao);let Lo=0;for(;Lo<$o.length&&$o[Lo]===0;)Lo++;$o=$o.slice(Lo)}return $o},Fn.generateECPolynomial=function(fo){let mo=new Uint8Array([1]);for(let $o=0;$o<fo;$o++)mo=Fn.mul(mo,new Uint8Array([1,Mn.exp($o)]));return mo}})(polynomial);const Polynomial=polynomial;function ReedSolomonEncoder$1(Fn){this.genPoly=void 0,this.degree=Fn,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder$1.prototype.initialize=function(Mn){this.degree=Mn,this.genPoly=Polynomial.generateECPolynomial(this.degree)};ReedSolomonEncoder$1.prototype.encode=function(Mn){if(!this.genPoly)throw new Error("Encoder not initialized");const io=new Uint8Array(Mn.length+this.degree);io.set(Mn);const fo=Polynomial.mod(io,this.genPoly),mo=this.degree-fo.length;if(mo>0){const $o=new Uint8Array(this.degree);return $o.set(fo,mo),$o}return fo};var reedSolomonEncoder=ReedSolomonEncoder$1,version$4={},mode={},versionCheck={};versionCheck.isValid=function(Mn){return!isNaN(Mn)&&Mn>=1&&Mn<=40};var regex={};const numeric="[0-9]+",alphanumeric="[A-Z $%*+\\-./:]+";let kanji="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";kanji=kanji.replace(/u/g,"\\u");const byte="(?:(?![A-Z0-9 $%*+\\-./:]|"+kanji+`)(?:.|[\r
]))+`;regex.KANJI=new RegExp(kanji,"g");regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");regex.BYTE=new RegExp(byte,"g");regex.NUMERIC=new RegExp(numeric,"g");regex.ALPHANUMERIC=new RegExp(alphanumeric,"g");const TEST_KANJI=new RegExp("^"+kanji+"$"),TEST_NUMERIC=new RegExp("^"+numeric+"$"),TEST_ALPHANUMERIC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");regex.testKanji=function(Mn){return TEST_KANJI.test(Mn)};regex.testNumeric=function(Mn){return TEST_NUMERIC.test(Mn)};regex.testAlphanumeric=function(Mn){return TEST_ALPHANUMERIC.test(Mn)};(function(Fn){const Mn=versionCheck,io=regex;Fn.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},Fn.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},Fn.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},Fn.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},Fn.MIXED={bit:-1},Fn.getCharCountIndicator=function($o,Ao){if(!$o.ccBits)throw new Error("Invalid mode: "+$o);if(!Mn.isValid(Ao))throw new Error("Invalid version: "+Ao);return Ao>=1&&Ao<10?$o.ccBits[0]:Ao<27?$o.ccBits[1]:$o.ccBits[2]},Fn.getBestModeForData=function($o){return io.testNumeric($o)?Fn.NUMERIC:io.testAlphanumeric($o)?Fn.ALPHANUMERIC:io.testKanji($o)?Fn.KANJI:Fn.BYTE},Fn.toString=function($o){if($o&&$o.id)return $o.id;throw new Error("Invalid mode")},Fn.isValid=function($o){return $o&&$o.bit&&$o.ccBits};function fo(mo){if(typeof mo!="string")throw new Error("Param is not a string");switch(mo.toLowerCase()){case"numeric":return Fn.NUMERIC;case"alphanumeric":return Fn.ALPHANUMERIC;case"kanji":return Fn.KANJI;case"byte":return Fn.BYTE;default:throw new Error("Unknown mode: "+mo)}}Fn.from=function($o,Ao){if(Fn.isValid($o))return $o;try{return fo($o)}catch{return Ao}}})(mode);(function(Fn){const Mn=utils$3,io=errorCorrectionCode,fo=errorCorrectionLevel,mo=mode,$o=versionCheck,Ao=7973,Lo=Mn.getBCHDigit(Ao);function Wo(Go,Jo,Qo){for(let os=1;os<=40;os++)if(Jo<=Fn.getCapacity(os,Qo,Go))return os}function jo(Go,Jo){return mo.getCharCountIndicator(Go,Jo)+4}function zo(Go,Jo){let Qo=0;return Go.forEach(function(os){const Cl=jo(os.mode,Jo);Qo+=Cl+os.getBitsLength()}),Qo}function Vo(Go,Jo){for(let Qo=1;Qo<=40;Qo++)if(zo(Go,Qo)<=Fn.getCapacity(Qo,Jo,mo.MIXED))return Qo}Fn.from=function(Jo,Qo){return $o.isValid(Jo)?parseInt(Jo,10):Qo},Fn.getCapacity=function(Jo,Qo,os){if(!$o.isValid(Jo))throw new Error("Invalid QR Code version");typeof os>"u"&&(os=mo.BYTE);const Cl=Mn.getSymbolTotalCodewords(Jo),xl=io.getTotalCodewordsCount(Jo,Qo),ds=(Cl-xl)*8;if(os===mo.MIXED)return ds;const _c=ds-jo(os,Jo);switch(os){case mo.NUMERIC:return Math.floor(_c/10*3);case mo.ALPHANUMERIC:return Math.floor(_c/11*2);case mo.KANJI:return Math.floor(_c/13);case mo.BYTE:default:return Math.floor(_c/8)}},Fn.getBestVersionForData=function(Jo,Qo){let os;const Cl=fo.from(Qo,fo.M);if(Array.isArray(Jo)){if(Jo.length>1)return Vo(Jo,Cl);if(Jo.length===0)return 1;os=Jo[0]}else os=Jo;return Wo(os.mode,os.getLength(),Cl)},Fn.getEncodedBits=function(Jo){if(!$o.isValid(Jo)||Jo<7)throw new Error("Invalid QR Code version");let Qo=Jo<<12;for(;Mn.getBCHDigit(Qo)-Lo>=0;)Qo^=Ao<<Mn.getBCHDigit(Qo)-Lo;return Jo<<12|Qo}})(version$4);var formatInfo={};const Utils$3=utils$3,G15=1335,G15_MASK=21522,G15_BCH=Utils$3.getBCHDigit(G15);formatInfo.getEncodedBits=function(Mn,io){const fo=Mn.bit<<3|io;let mo=fo<<10;for(;Utils$3.getBCHDigit(mo)-G15_BCH>=0;)mo^=G15<<Utils$3.getBCHDigit(mo)-G15_BCH;return(fo<<10|mo)^G15_MASK};var segments={};const Mode$4=mode;function NumericData(Fn){this.mode=Mode$4.NUMERIC,this.data=Fn.toString()}NumericData.getBitsLength=function(Mn){return 10*Math.floor(Mn/3)+(Mn%3?Mn%3*3+1:0)};NumericData.prototype.getLength=function(){return this.data.length};NumericData.prototype.getBitsLength=function(){return NumericData.getBitsLength(this.data.length)};NumericData.prototype.write=function(Mn){let io,fo,mo;for(io=0;io+3<=this.data.length;io+=3)fo=this.data.substr(io,3),mo=parseInt(fo,10),Mn.put(mo,10);const $o=this.data.length-io;$o>0&&(fo=this.data.substr(io),mo=parseInt(fo,10),Mn.put(mo,$o*3+1))};var numericData=NumericData;const Mode$3=mode,ALPHA_NUM_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(Fn){this.mode=Mode$3.ALPHANUMERIC,this.data=Fn}AlphanumericData.getBitsLength=function(Mn){return 11*Math.floor(Mn/2)+6*(Mn%2)};AlphanumericData.prototype.getLength=function(){return this.data.length};AlphanumericData.prototype.getBitsLength=function(){return AlphanumericData.getBitsLength(this.data.length)};AlphanumericData.prototype.write=function(Mn){let io;for(io=0;io+2<=this.data.length;io+=2){let fo=ALPHA_NUM_CHARS.indexOf(this.data[io])*45;fo+=ALPHA_NUM_CHARS.indexOf(this.data[io+1]),Mn.put(fo,11)}this.data.length%2&&Mn.put(ALPHA_NUM_CHARS.indexOf(this.data[io]),6)};var alphanumericData=AlphanumericData,encodeUtf8$1=function(Mn){for(var io=[],fo=Mn.length,mo=0;mo<fo;mo++){var $o=Mn.charCodeAt(mo);if($o>=55296&&$o<=56319&&fo>mo+1){var Ao=Mn.charCodeAt(mo+1);Ao>=56320&&Ao<=57343&&($o=($o-55296)*1024+Ao-56320+65536,mo+=1)}if($o<128){io.push($o);continue}if($o<2048){io.push($o>>6|192),io.push($o&63|128);continue}if($o<55296||$o>=57344&&$o<65536){io.push($o>>12|224),io.push($o>>6&63|128),io.push($o&63|128);continue}if($o>=65536&&$o<=1114111){io.push($o>>18|240),io.push($o>>12&63|128),io.push($o>>6&63|128),io.push($o&63|128);continue}io.push(239,191,189)}return new Uint8Array(io).buffer};const encodeUtf8=encodeUtf8$1,Mode$2=mode;function ByteData(Fn){this.mode=Mode$2.BYTE,typeof Fn=="string"&&(Fn=encodeUtf8(Fn)),this.data=new Uint8Array(Fn)}ByteData.getBitsLength=function(Mn){return Mn*8};ByteData.prototype.getLength=function(){return this.data.length};ByteData.prototype.getBitsLength=function(){return ByteData.getBitsLength(this.data.length)};ByteData.prototype.write=function(Fn){for(let Mn=0,io=this.data.length;Mn<io;Mn++)Fn.put(this.data[Mn],8)};var byteData=ByteData;const Mode$1=mode,Utils$2=utils$3;function KanjiData(Fn){this.mode=Mode$1.KANJI,this.data=Fn}KanjiData.getBitsLength=function(Mn){return Mn*13};KanjiData.prototype.getLength=function(){return this.data.length};KanjiData.prototype.getBitsLength=function(){return KanjiData.getBitsLength(this.data.length)};KanjiData.prototype.write=function(Fn){let Mn;for(Mn=0;Mn<this.data.length;Mn++){let io=Utils$2.toSJIS(this.data[Mn]);if(io>=33088&&io<=40956)io-=33088;else if(io>=57408&&io<=60351)io-=49472;else throw new Error("Invalid SJIS character: "+this.data[Mn]+`
Make sure your charset is UTF-8`);io=(io>>>8&255)*192+(io&255),Fn.put(io,13)}};var kanjiData=KanjiData,dijkstra={exports:{}};(function(Fn){var Mn={single_source_shortest_paths:function(io,fo,mo){var $o={},Ao={};Ao[fo]=0;var Lo=Mn.PriorityQueue.make();Lo.push(fo,0);for(var Wo,jo,zo,Vo,Go,Jo,Qo,os,Cl;!Lo.empty();){Wo=Lo.pop(),jo=Wo.value,Vo=Wo.cost,Go=io[jo]||{};for(zo in Go)Go.hasOwnProperty(zo)&&(Jo=Go[zo],Qo=Vo+Jo,os=Ao[zo],Cl=typeof Ao[zo]>"u",(Cl||os>Qo)&&(Ao[zo]=Qo,Lo.push(zo,Qo),$o[zo]=jo))}if(typeof mo<"u"&&typeof Ao[mo]>"u"){var xl=["Could not find a path from ",fo," to ",mo,"."].join("");throw new Error(xl)}return $o},extract_shortest_path_from_predecessor_list:function(io,fo){for(var mo=[],$o=fo;$o;)mo.push($o),io[$o],$o=io[$o];return mo.reverse(),mo},find_path:function(io,fo,mo){var $o=Mn.single_source_shortest_paths(io,fo,mo);return Mn.extract_shortest_path_from_predecessor_list($o,mo)},PriorityQueue:{make:function(io){var fo=Mn.PriorityQueue,mo={},$o;io=io||{};for($o in fo)fo.hasOwnProperty($o)&&(mo[$o]=fo[$o]);return mo.queue=[],mo.sorter=io.sorter||fo.default_sorter,mo},default_sorter:function(io,fo){return io.cost-fo.cost},push:function(io,fo){var mo={value:io,cost:fo};this.queue.push(mo),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};Fn.exports=Mn})(dijkstra);var dijkstraExports=dijkstra.exports;(function(Fn){const Mn=mode,io=numericData,fo=alphanumericData,mo=byteData,$o=kanjiData,Ao=regex,Lo=utils$3,Wo=dijkstraExports;function jo(xl){return unescape(encodeURIComponent(xl)).length}function zo(xl,ds,_c){const $l=[];let Al;for(;(Al=xl.exec(_c))!==null;)$l.push({data:Al[0],index:Al.index,mode:ds,length:Al[0].length});return $l}function Vo(xl){const ds=zo(Ao.NUMERIC,Mn.NUMERIC,xl),_c=zo(Ao.ALPHANUMERIC,Mn.ALPHANUMERIC,xl);let $l,Al;return Lo.isKanjiModeEnabled()?($l=zo(Ao.BYTE,Mn.BYTE,xl),Al=zo(Ao.KANJI,Mn.KANJI,xl)):($l=zo(Ao.BYTE_KANJI,Mn.BYTE,xl),Al=[]),ds.concat(_c,$l,Al).sort(function(us,ps){return us.index-ps.index}).map(function(us){return{data:us.data,mode:us.mode,length:us.length}})}function Go(xl,ds){switch(ds){case Mn.NUMERIC:return io.getBitsLength(xl);case Mn.ALPHANUMERIC:return fo.getBitsLength(xl);case Mn.KANJI:return $o.getBitsLength(xl);case Mn.BYTE:return mo.getBitsLength(xl)}}function Jo(xl){return xl.reduce(function(ds,_c){const $l=ds.length-1>=0?ds[ds.length-1]:null;return $l&&$l.mode===_c.mode?(ds[ds.length-1].data+=_c.data,ds):(ds.push(_c),ds)},[])}function Qo(xl){const ds=[];for(let _c=0;_c<xl.length;_c++){const $l=xl[_c];switch($l.mode){case Mn.NUMERIC:ds.push([$l,{data:$l.data,mode:Mn.ALPHANUMERIC,length:$l.length},{data:$l.data,mode:Mn.BYTE,length:$l.length}]);break;case Mn.ALPHANUMERIC:ds.push([$l,{data:$l.data,mode:Mn.BYTE,length:$l.length}]);break;case Mn.KANJI:ds.push([$l,{data:$l.data,mode:Mn.BYTE,length:jo($l.data)}]);break;case Mn.BYTE:ds.push([{data:$l.data,mode:Mn.BYTE,length:jo($l.data)}])}}return ds}function os(xl,ds){const _c={},$l={start:{}};let Al=["start"];for(let Il=0;Il<xl.length;Il++){const us=xl[Il],ps=[];for(let Rl=0;Rl<us.length;Rl++){const Wl=us[Rl],Nl=""+Il+Rl;ps.push(Nl),_c[Nl]={node:Wl,lastCount:0},$l[Nl]={};for(let wl=0;wl<Al.length;wl++){const Xo=Al[wl];_c[Xo]&&_c[Xo].node.mode===Wl.mode?($l[Xo][Nl]=Go(_c[Xo].lastCount+Wl.length,Wl.mode)-Go(_c[Xo].lastCount,Wl.mode),_c[Xo].lastCount+=Wl.length):(_c[Xo]&&(_c[Xo].lastCount=Wl.length),$l[Xo][Nl]=Go(Wl.length,Wl.mode)+4+Mn.getCharCountIndicator(Wl.mode,ds))}}Al=ps}for(let Il=0;Il<Al.length;Il++)$l[Al[Il]].end=0;return{map:$l,table:_c}}function Cl(xl,ds){let _c;const $l=Mn.getBestModeForData(xl);if(_c=Mn.from(ds,$l),_c!==Mn.BYTE&&_c.bit<$l.bit)throw new Error('"'+xl+'" cannot be encoded with mode '+Mn.toString(_c)+`.
 Suggested mode is: `+Mn.toString($l));switch(_c===Mn.KANJI&&!Lo.isKanjiModeEnabled()&&(_c=Mn.BYTE),_c){case Mn.NUMERIC:return new io(xl);case Mn.ALPHANUMERIC:return new fo(xl);case Mn.KANJI:return new $o(xl);case Mn.BYTE:return new mo(xl)}}Fn.fromArray=function(ds){return ds.reduce(function(_c,$l){return typeof $l=="string"?_c.push(Cl($l,null)):$l.data&&_c.push(Cl($l.data,$l.mode)),_c},[])},Fn.fromString=function(ds,_c){const $l=Vo(ds,Lo.isKanjiModeEnabled()),Al=Qo($l),Il=os(Al,_c),us=Wo.find_path(Il.map,"start","end"),ps=[];for(let Rl=1;Rl<us.length-1;Rl++)ps.push(Il.table[us[Rl]].node);return Fn.fromArray(Jo(ps))},Fn.rawSplit=function(ds){return Fn.fromArray(Vo(ds,Lo.isKanjiModeEnabled()))}})(segments);const Utils$1=utils$3,ECLevel=errorCorrectionLevel,BitBuffer=bitBuffer,BitMatrix=bitMatrix,AlignmentPattern=alignmentPattern,FinderPattern=finderPattern,MaskPattern=maskPattern,ECCode=errorCorrectionCode,ReedSolomonEncoder=reedSolomonEncoder,Version=version$4,FormatInfo=formatInfo,Mode=mode,Segments=segments;function setupFinderPattern(Fn,Mn){const io=Fn.size,fo=FinderPattern.getPositions(Mn);for(let mo=0;mo<fo.length;mo++){const $o=fo[mo][0],Ao=fo[mo][1];for(let Lo=-1;Lo<=7;Lo++)if(!($o+Lo<=-1||io<=$o+Lo))for(let Wo=-1;Wo<=7;Wo++)Ao+Wo<=-1||io<=Ao+Wo||(Lo>=0&&Lo<=6&&(Wo===0||Wo===6)||Wo>=0&&Wo<=6&&(Lo===0||Lo===6)||Lo>=2&&Lo<=4&&Wo>=2&&Wo<=4?Fn.set($o+Lo,Ao+Wo,!0,!0):Fn.set($o+Lo,Ao+Wo,!1,!0))}}function setupTimingPattern(Fn){const Mn=Fn.size;for(let io=8;io<Mn-8;io++){const fo=io%2===0;Fn.set(io,6,fo,!0),Fn.set(6,io,fo,!0)}}function setupAlignmentPattern(Fn,Mn){const io=AlignmentPattern.getPositions(Mn);for(let fo=0;fo<io.length;fo++){const mo=io[fo][0],$o=io[fo][1];for(let Ao=-2;Ao<=2;Ao++)for(let Lo=-2;Lo<=2;Lo++)Ao===-2||Ao===2||Lo===-2||Lo===2||Ao===0&&Lo===0?Fn.set(mo+Ao,$o+Lo,!0,!0):Fn.set(mo+Ao,$o+Lo,!1,!0)}}function setupVersionInfo(Fn,Mn){const io=Fn.size,fo=Version.getEncodedBits(Mn);let mo,$o,Ao;for(let Lo=0;Lo<18;Lo++)mo=Math.floor(Lo/3),$o=Lo%3+io-8-3,Ao=(fo>>Lo&1)===1,Fn.set(mo,$o,Ao,!0),Fn.set($o,mo,Ao,!0)}function setupFormatInfo(Fn,Mn,io){const fo=Fn.size,mo=FormatInfo.getEncodedBits(Mn,io);let $o,Ao;for($o=0;$o<15;$o++)Ao=(mo>>$o&1)===1,$o<6?Fn.set($o,8,Ao,!0):$o<8?Fn.set($o+1,8,Ao,!0):Fn.set(fo-15+$o,8,Ao,!0),$o<8?Fn.set(8,fo-$o-1,Ao,!0):$o<9?Fn.set(8,15-$o-1+1,Ao,!0):Fn.set(8,15-$o-1,Ao,!0);Fn.set(fo-8,8,1,!0)}function setupData(Fn,Mn){const io=Fn.size;let fo=-1,mo=io-1,$o=7,Ao=0;for(let Lo=io-1;Lo>0;Lo-=2)for(Lo===6&&Lo--;;){for(let Wo=0;Wo<2;Wo++)if(!Fn.isReserved(mo,Lo-Wo)){let jo=!1;Ao<Mn.length&&(jo=(Mn[Ao]>>>$o&1)===1),Fn.set(mo,Lo-Wo,jo),$o--,$o===-1&&(Ao++,$o=7)}if(mo+=fo,mo<0||io<=mo){mo-=fo,fo=-fo;break}}}function createData(Fn,Mn,io){const fo=new BitBuffer;io.forEach(function(Wo){fo.put(Wo.mode.bit,4),fo.put(Wo.getLength(),Mode.getCharCountIndicator(Wo.mode,Fn)),Wo.write(fo)});const mo=Utils$1.getSymbolTotalCodewords(Fn),$o=ECCode.getTotalCodewordsCount(Fn,Mn),Ao=(mo-$o)*8;for(fo.getLengthInBits()+4<=Ao&&fo.put(0,4);fo.getLengthInBits()%8!==0;)fo.putBit(0);const Lo=(Ao-fo.getLengthInBits())/8;for(let Wo=0;Wo<Lo;Wo++)fo.put(Wo%2?17:236,8);return createCodewords(fo,Fn,Mn)}function createCodewords(Fn,Mn,io){const fo=Utils$1.getSymbolTotalCodewords(Mn),mo=ECCode.getTotalCodewordsCount(Mn,io),$o=fo-mo,Ao=ECCode.getBlocksCount(Mn,io),Lo=fo%Ao,Wo=Ao-Lo,jo=Math.floor(fo/Ao),zo=Math.floor($o/Ao),Vo=zo+1,Go=jo-zo,Jo=new ReedSolomonEncoder(Go);let Qo=0;const os=new Array(Ao),Cl=new Array(Ao);let xl=0;const ds=new Uint8Array(Fn.buffer);for(let us=0;us<Ao;us++){const ps=us<Wo?zo:Vo;os[us]=ds.slice(Qo,Qo+ps),Cl[us]=Jo.encode(os[us]),Qo+=ps,xl=Math.max(xl,ps)}const _c=new Uint8Array(fo);let $l=0,Al,Il;for(Al=0;Al<xl;Al++)for(Il=0;Il<Ao;Il++)Al<os[Il].length&&(_c[$l++]=os[Il][Al]);for(Al=0;Al<Go;Al++)for(Il=0;Il<Ao;Il++)_c[$l++]=Cl[Il][Al];return _c}function createSymbol(Fn,Mn,io,fo){let mo;if(Array.isArray(Fn))mo=Segments.fromArray(Fn);else if(typeof Fn=="string"){let jo=Mn;if(!jo){const zo=Segments.rawSplit(Fn);jo=Version.getBestVersionForData(zo,io)}mo=Segments.fromString(Fn,jo||40)}else throw new Error("Invalid data");const $o=Version.getBestVersionForData(mo,io);if(!$o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!Mn)Mn=$o;else if(Mn<$o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+$o+`.
`);const Ao=createData(Mn,io,mo),Lo=Utils$1.getSymbolSize(Mn),Wo=new BitMatrix(Lo);return setupFinderPattern(Wo,Mn),setupTimingPattern(Wo),setupAlignmentPattern(Wo,Mn),setupFormatInfo(Wo,io,0),Mn>=7&&setupVersionInfo(Wo,Mn),setupData(Wo,Ao),isNaN(fo)&&(fo=MaskPattern.getBestMask(Wo,setupFormatInfo.bind(null,Wo,io))),MaskPattern.applyMask(fo,Wo),setupFormatInfo(Wo,io,fo),{modules:Wo,version:Mn,errorCorrectionLevel:io,maskPattern:fo,segments:mo}}qrcode.create=function(Mn,io){if(typeof Mn>"u"||Mn==="")throw new Error("No input text");let fo=ECLevel.M,mo,$o;return typeof io<"u"&&(fo=ECLevel.from(io.errorCorrectionLevel,ECLevel.M),mo=Version.from(io.version),$o=MaskPattern.from(io.maskPattern),io.toSJISFunc&&Utils$1.setToSJISFunction(io.toSJISFunc)),createSymbol(Mn,mo,fo,$o)};var canvas={},utils$2={};(function(Fn){function Mn(io){if(typeof io=="number"&&(io=io.toString()),typeof io!="string")throw new Error("Color should be defined as hex string");let fo=io.slice().replace("#","").split("");if(fo.length<3||fo.length===5||fo.length>8)throw new Error("Invalid hex color: "+io);(fo.length===3||fo.length===4)&&(fo=Array.prototype.concat.apply([],fo.map(function($o){return[$o,$o]}))),fo.length===6&&fo.push("F","F");const mo=parseInt(fo.join(""),16);return{r:mo>>24&255,g:mo>>16&255,b:mo>>8&255,a:mo&255,hex:"#"+fo.slice(0,6).join("")}}Fn.getOptions=function(fo){fo||(fo={}),fo.color||(fo.color={});const mo=typeof fo.margin>"u"||fo.margin===null||fo.margin<0?4:fo.margin,$o=fo.width&&fo.width>=21?fo.width:void 0,Ao=fo.scale||4;return{width:$o,scale:$o?4:Ao,margin:mo,color:{dark:Mn(fo.color.dark||"#000000ff"),light:Mn(fo.color.light||"#ffffffff")},type:fo.type,rendererOpts:fo.rendererOpts||{}}},Fn.getScale=function(fo,mo){return mo.width&&mo.width>=fo+mo.margin*2?mo.width/(fo+mo.margin*2):mo.scale},Fn.getImageWidth=function(fo,mo){const $o=Fn.getScale(fo,mo);return Math.floor((fo+mo.margin*2)*$o)},Fn.qrToImageData=function(fo,mo,$o){const Ao=mo.modules.size,Lo=mo.modules.data,Wo=Fn.getScale(Ao,$o),jo=Math.floor((Ao+$o.margin*2)*Wo),zo=$o.margin*Wo,Vo=[$o.color.light,$o.color.dark];for(let Go=0;Go<jo;Go++)for(let Jo=0;Jo<jo;Jo++){let Qo=(Go*jo+Jo)*4,os=$o.color.light;if(Go>=zo&&Jo>=zo&&Go<jo-zo&&Jo<jo-zo){const Cl=Math.floor((Go-zo)/Wo),xl=Math.floor((Jo-zo)/Wo);os=Vo[Lo[Cl*Ao+xl]?1:0]}fo[Qo++]=os.r,fo[Qo++]=os.g,fo[Qo++]=os.b,fo[Qo]=os.a}}})(utils$2);(function(Fn){const Mn=utils$2;function io(mo,$o,Ao){mo.clearRect(0,0,$o.width,$o.height),$o.style||($o.style={}),$o.height=Ao,$o.width=Ao,$o.style.height=Ao+"px",$o.style.width=Ao+"px"}function fo(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Fn.render=function($o,Ao,Lo){let Wo=Lo,jo=Ao;typeof Wo>"u"&&(!Ao||!Ao.getContext)&&(Wo=Ao,Ao=void 0),Ao||(jo=fo()),Wo=Mn.getOptions(Wo);const zo=Mn.getImageWidth($o.modules.size,Wo),Vo=jo.getContext("2d"),Go=Vo.createImageData(zo,zo);return Mn.qrToImageData(Go.data,$o,Wo),io(Vo,jo,zo),Vo.putImageData(Go,0,0),jo},Fn.renderToDataURL=function($o,Ao,Lo){let Wo=Lo;typeof Wo>"u"&&(!Ao||!Ao.getContext)&&(Wo=Ao,Ao=void 0),Wo||(Wo={});const jo=Fn.render($o,Ao,Wo),zo=Wo.type||"image/png",Vo=Wo.rendererOpts||{};return jo.toDataURL(zo,Vo.quality)}})(canvas);var svgTag={};const Utils=utils$2;function getColorAttrib(Fn,Mn){const io=Fn.a/255,fo=Mn+'="'+Fn.hex+'"';return io<1?fo+" "+Mn+'-opacity="'+io.toFixed(2).slice(1)+'"':fo}function svgCmd(Fn,Mn,io){let fo=Fn+Mn;return typeof io<"u"&&(fo+=" "+io),fo}function qrToPath(Fn,Mn,io){let fo="",mo=0,$o=!1,Ao=0;for(let Lo=0;Lo<Fn.length;Lo++){const Wo=Math.floor(Lo%Mn),jo=Math.floor(Lo/Mn);!Wo&&!$o&&($o=!0),Fn[Lo]?(Ao++,Lo>0&&Wo>0&&Fn[Lo-1]||(fo+=$o?svgCmd("M",Wo+io,.5+jo+io):svgCmd("m",mo,0),mo=0,$o=!1),Wo+1<Mn&&Fn[Lo+1]||(fo+=svgCmd("h",Ao),Ao=0)):mo++}return fo}svgTag.render=function(Mn,io,fo){const mo=Utils.getOptions(io),$o=Mn.modules.size,Ao=Mn.modules.data,Lo=$o+mo.margin*2,Wo=mo.color.light.a?"<path "+getColorAttrib(mo.color.light,"fill")+' d="M0 0h'+Lo+"v"+Lo+'H0z"/>':"",jo="<path "+getColorAttrib(mo.color.dark,"stroke")+' d="'+qrToPath(Ao,$o,mo.margin)+'"/>',zo='viewBox="0 0 '+Lo+" "+Lo+'"',Go='<svg xmlns="http://www.w3.org/2000/svg" '+(mo.width?'width="'+mo.width+'" height="'+mo.width+'" ':"")+zo+' shape-rendering="crispEdges">'+Wo+jo+`</svg>
`;return typeof fo=="function"&&fo(null,Go),Go};const canPromise=canPromise$1,QRCode=qrcode,CanvasRenderer=canvas,SvgRenderer=svgTag;function renderCanvas(Fn,Mn,io,fo,mo){const $o=[].slice.call(arguments,1),Ao=$o.length,Lo=typeof $o[Ao-1]=="function";if(!Lo&&!canPromise())throw new Error("Callback required as last argument");if(Lo){if(Ao<2)throw new Error("Too few arguments provided");Ao===2?(mo=io,io=Mn,Mn=fo=void 0):Ao===3&&(Mn.getContext&&typeof mo>"u"?(mo=fo,fo=void 0):(mo=fo,fo=io,io=Mn,Mn=void 0))}else{if(Ao<1)throw new Error("Too few arguments provided");return Ao===1?(io=Mn,Mn=fo=void 0):Ao===2&&!Mn.getContext&&(fo=io,io=Mn,Mn=void 0),new Promise(function(Wo,jo){try{const zo=QRCode.create(io,fo);Wo(Fn(zo,Mn,fo))}catch(zo){jo(zo)}})}try{const Wo=QRCode.create(io,fo);mo(null,Fn(Wo,Mn,fo))}catch(Wo){mo(Wo)}}browser.create=QRCode.create;browser.toCanvas=renderCanvas.bind(null,CanvasRenderer.render);browser.toDataURL=renderCanvas.bind(null,CanvasRenderer.renderToDataURL);browser.toString=renderCanvas.bind(null,function(Fn,Mn,io){return SvgRenderer.render(Fn,io)});const CONNECTING_ERROR_MARGIN=.1,CIRCLE_SIZE_MODIFIER=2.5,QRCODE_MATRIX_MARGIN=7;function isAdjecentDots(Fn,Mn,io){return Fn===Mn?!1:(Fn-Mn<0?Mn-Fn:Fn-Mn)<=io+CONNECTING_ERROR_MARGIN}function getMatrix(Fn,Mn){const io=Array.prototype.slice.call(browser.create(Fn,{errorCorrectionLevel:Mn}).modules.data,0),fo=Math.sqrt(io.length);return io.reduce((mo,$o,Ao)=>(Ao%fo===0?mo.push([$o]):mo[mo.length-1].push($o))&&mo,[])}const QrCodeUtil={generate(Fn,Mn,io){const fo="#141414",mo="transparent",Ao=[],Lo=getMatrix(Fn,"Q"),Wo=Mn/Lo.length,jo=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];jo.forEach(({x:os,y:Cl})=>{const xl=(Lo.length-QRCODE_MATRIX_MARGIN)*Wo*os,ds=(Lo.length-QRCODE_MATRIX_MARGIN)*Wo*Cl,_c=.45;for(let $l=0;$l<jo.length;$l+=1){const Al=Wo*(QRCODE_MATRIX_MARGIN-$l*2);Ao.push(b$2`
            <rect
              fill=${$l===2?fo:mo}
              width=${$l===0?Al-5:Al}
              rx= ${$l===0?(Al-5)*_c:Al*_c}
              ry= ${$l===0?(Al-5)*_c:Al*_c}
              stroke=${fo}
              stroke-width=${$l===0?5:0}
              height=${$l===0?Al-5:Al}
              x= ${$l===0?ds+Wo*$l+5/2:ds+Wo*$l}
              y= ${$l===0?xl+Wo*$l+5/2:xl+Wo*$l}
            />
          `)}});const zo=Math.floor((io+25)/Wo),Vo=Lo.length/2-zo/2,Go=Lo.length/2+zo/2-1,Jo=[];Lo.forEach((os,Cl)=>{os.forEach((xl,ds)=>{if(Lo[Cl][ds]&&!(Cl<QRCODE_MATRIX_MARGIN&&ds<QRCODE_MATRIX_MARGIN||Cl>Lo.length-(QRCODE_MATRIX_MARGIN+1)&&ds<QRCODE_MATRIX_MARGIN||Cl<QRCODE_MATRIX_MARGIN&&ds>Lo.length-(QRCODE_MATRIX_MARGIN+1))&&!(Cl>Vo&&Cl<Go&&ds>Vo&&ds<Go)){const _c=Cl*Wo+Wo/2,$l=ds*Wo+Wo/2;Jo.push([_c,$l])}})});const Qo={};return Jo.forEach(([os,Cl])=>{var xl;Qo[os]?(xl=Qo[os])==null||xl.push(Cl):Qo[os]=[Cl]}),Object.entries(Qo).map(([os,Cl])=>{const xl=Cl.filter(ds=>Cl.every(_c=>!isAdjecentDots(ds,_c,Wo)));return[Number(os),xl]}).forEach(([os,Cl])=>{Cl.forEach(xl=>{Ao.push(b$2`<circle cx=${os} cy=${xl} fill=${fo} r=${Wo/CIRCLE_SIZE_MODIFIER} />`)})}),Object.entries(Qo).filter(([os,Cl])=>Cl.length>1).map(([os,Cl])=>{const xl=Cl.filter(ds=>Cl.some(_c=>isAdjecentDots(ds,_c,Wo)));return[Number(os),xl]}).map(([os,Cl])=>{Cl.sort((ds,_c)=>ds<_c?-1:1);const xl=[];for(const ds of Cl){const _c=xl.find($l=>$l.some(Al=>isAdjecentDots(ds,Al,Wo)));_c?_c.push(ds):xl.push([ds])}return[os,xl.map(ds=>[ds[0],ds[ds.length-1]])]}).forEach(([os,Cl])=>{Cl.forEach(([xl,ds])=>{Ao.push(b$2`
              <line
                x1=${os}
                x2=${os}
                y1=${xl}
                y2=${ds}
                stroke=${fo}
                stroke-width=${Wo/(CIRCLE_SIZE_MODIFIER/2)}
                stroke-linecap="round"
              />
            `)})}),Ao}},styles$1G=i$a`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: var(--local-size);
  }

  :host([data-theme='dark']) {
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px);
    background-color: var(--wui-color-inverse-100);
    padding: var(--wui-spacing-l);
  }

  :host([data-theme='light']) {
    box-shadow: 0 0 0 1px var(--wui-color-bg-125);
    background-color: var(--wui-color-bg-125);
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: var(--wui-border-radius-xs);
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: #3396ff !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }
`;var __decorate$2g=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiQrCode=class extends r$e{constructor(){super(...arguments),this.uri="",this.size=0,this.theme="dark",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),this.style.cssText=`--local-size: ${this.size}px`,x$1`${this.templateVisual()} ${this.templateSvg()}`}templateSvg(){const Mn=this.theme==="light"?this.size:this.size-32;return b$2`
      <svg height=${Mn} width=${Mn}>
        ${QrCodeUtil.generate(this.uri,Mn,this.arenaClear?0:Mn/4)}
      </svg>
    `}templateVisual(){return this.imageSrc?x$1`<wui-image src=${this.imageSrc} alt=${this.alt??"logo"}></wui-image>`:this.farcaster?x$1`<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`:x$1`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};WuiQrCode.styles=[resetStyles,styles$1G];__decorate$2g([n$c()],WuiQrCode.prototype,"uri",void 0);__decorate$2g([n$c({type:Number})],WuiQrCode.prototype,"size",void 0);__decorate$2g([n$c()],WuiQrCode.prototype,"theme",void 0);__decorate$2g([n$c()],WuiQrCode.prototype,"imageSrc",void 0);__decorate$2g([n$c()],WuiQrCode.prototype,"alt",void 0);__decorate$2g([n$c({type:Boolean})],WuiQrCode.prototype,"arenaClear",void 0);__decorate$2g([n$c({type:Boolean})],WuiQrCode.prototype,"farcaster",void 0);WuiQrCode=__decorate$2g([customElement("wui-qr-code")],WuiQrCode);const styles$1F=i$a`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }
`;var __decorate$2f=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiSearchBar=class extends r$e{constructor(){super(...arguments),this.inputComponentRef=e$8()}render(){return x$1`
      <wui-input-text
        ${n$a(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
      >
        <wui-input-element @click=${this.clearValue} icon="close"></wui-input-element>
      </wui-input-text>
    `}clearValue(){const Mn=this.inputComponentRef.value,io=Mn==null?void 0:Mn.inputElementRef.value;io&&(io.value="",io.focus(),io.dispatchEvent(new Event("input")))}};WuiSearchBar.styles=[resetStyles,styles$1F];WuiSearchBar=__decorate$2f([customElement("wui-search-bar")],WuiSearchBar);const styles$1E=i$a`
  :host {
    display: flex;
    column-gap: var(--wui-spacing-s);
    align-items: center;
    padding: var(--wui-spacing-xs) var(--wui-spacing-m) var(--wui-spacing-xs) var(--wui-spacing-xs);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-gray-glass-005);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-175);
    box-shadow:
      0px 14px 64px -4px rgba(0, 0, 0, 0.15),
      0px 8px 22px -6px rgba(0, 0, 0, 0.15);

    max-width: 300px;
  }

  :host wui-loading-spinner {
    margin-left: var(--wui-spacing-3xs);
  }
`;var __decorate$2e=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiSnackbar=class extends r$e{constructor(){super(...arguments),this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="checkmark",this.message="",this.loading=!1,this.iconType="default"}render(){return x$1`
      ${this.templateIcon()}
      <wui-text variant="paragraph-500" color="fg-100" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `}templateIcon(){return this.loading?x$1`<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>`:this.iconType==="default"?x$1`<wui-icon size="xl" color=${this.iconColor} name=${this.icon}></wui-icon>`:x$1`<wui-icon-box
      size="sm"
      iconSize="xs"
      iconColor=${this.iconColor}
      backgroundColor=${this.backgroundColor}
      icon=${this.icon}
      background="opaque"
    ></wui-icon-box>`}};WuiSnackbar.styles=[resetStyles,styles$1E];__decorate$2e([n$c()],WuiSnackbar.prototype,"backgroundColor",void 0);__decorate$2e([n$c()],WuiSnackbar.prototype,"iconColor",void 0);__decorate$2e([n$c()],WuiSnackbar.prototype,"icon",void 0);__decorate$2e([n$c()],WuiSnackbar.prototype,"message",void 0);__decorate$2e([n$c()],WuiSnackbar.prototype,"loading",void 0);__decorate$2e([n$c()],WuiSnackbar.prototype,"iconType",void 0);WuiSnackbar=__decorate$2e([customElement("wui-snackbar")],WuiSnackbar);const styles$1D=i$a`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-dark-glass-100);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-325);
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: var(--wui-border-radius-3xs);
    background-color: var(--local-icon-bg-value);
  }
`;var __decorate$2d=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiAlertBar=class extends r$e{constructor(){super(...arguments),this.message="",this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="info"}render(){return this.style.cssText=`
      --local-icon-bg-value: var(--wui-color-${this.backgroundColor});
   `,x$1`
      <wui-flex flexDirection="row" justifyContent="space-between" alignItems="center">
        <wui-flex columnGap="xs" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color=${this.iconColor} size="md" name=${this.icon}></wui-icon>
          </wui-flex>
          <wui-text variant="small-500" color="bg-350" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="bg-350"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `}onClose(){AlertController.close()}};WuiAlertBar.styles=[resetStyles,styles$1D];__decorate$2d([n$c()],WuiAlertBar.prototype,"message",void 0);__decorate$2d([n$c()],WuiAlertBar.prototype,"backgroundColor",void 0);__decorate$2d([n$c()],WuiAlertBar.prototype,"iconColor",void 0);__decorate$2d([n$c()],WuiAlertBar.prototype,"icon",void 0);WuiAlertBar=__decorate$2d([customElement("wui-alertbar")],WuiAlertBar);const styles$1C=i$a`
  :host {
    display: inline-flex;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-3xl);
    padding: var(--wui-spacing-3xs);
    position: relative;
    height: 36px;
    min-height: 36px;
    overflow: hidden;
  }

  :host::before {
    content: '';
    position: absolute;
    pointer-events: none;
    top: 4px;
    left: 4px;
    display: block;
    width: var(--local-tab-width);
    height: 28px;
    border-radius: var(--wui-border-radius-3xl);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transform: translateX(calc(var(--local-tab) * var(--local-tab-width)));
    transition: transform var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color, opacity;
  }

  :host([data-type='flex'])::before {
    left: 3px;
    transform: translateX(calc((var(--local-tab) * 34px) + (var(--local-tab) * 4px)));
  }

  :host([data-type='flex']) {
    display: flex;
    padding: 0px 0px 0px 12px;
    gap: 4px;
  }

  :host([data-type='flex']) > button > wui-text {
    position: absolute;
    left: 18px;
    opacity: 0;
  }

  button[data-active='true'] > wui-icon,
  button[data-active='true'] > wui-text {
    color: var(--wui-color-fg-100);
  }

  button[data-active='false'] > wui-icon,
  button[data-active='false'] > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='true']:disabled,
  button[data-active='false']:disabled {
    background-color: transparent;
    opacity: 0.5;
    cursor: not-allowed;
  }

  button[data-active='true']:disabled > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='false']:disabled > wui-text {
    color: var(--wui-color-fg-300);
  }

  button > wui-icon,
  button > wui-text {
    pointer-events: none;
    transition: color var(--wui-e ase-out-power-1) var(--wui-duration-md);
    will-change: color;
  }

  button {
    width: var(--local-tab-width);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  :host([data-type='flex']) > button {
    width: 34px;
    position: relative;
    display: flex;
    justify-content: flex-start;
  }

  button:hover:enabled,
  button:active:enabled {
    background-color: transparent !important;
  }

  button:hover:enabled > wui-icon,
  button:active:enabled > wui-icon {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button:hover:enabled > wui-text,
  button:active:enabled > wui-text {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
  }
`;var __decorate$2c=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiTabs=class extends r$e{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.buttons=[],this.disabled=!1,this.localTabWidth="100px",this.activeTab=0,this.isDense=!1}render(){return this.isDense=this.tabs.length>3,this.style.cssText=`
      --local-tab: ${this.activeTab};
      --local-tab-width: ${this.localTabWidth};
    `,this.dataset.type=this.isDense?"flex":"block",this.tabs.map((Mn,io)=>{var mo;const fo=io===this.activeTab;return x$1`
        <button
          ?disabled=${this.disabled}
          @click=${()=>this.onTabClick(io)}
          data-active=${fo}
          data-testid="tab-${(mo=Mn.label)==null?void 0:mo.toLowerCase()}"
        >
          ${this.iconTemplate(Mn)}
          <wui-text variant="small-600" color="inherit"> ${Mn.label} </wui-text>
        </button>
      `})}firstUpdated(){this.shadowRoot&&this.isDense&&(this.buttons=[...this.shadowRoot.querySelectorAll("button")],setTimeout(()=>{this.animateTabs(0,!0)},0))}iconTemplate(Mn){return Mn.icon?x$1`<wui-icon size="xs" color="inherit" name=${Mn.icon}></wui-icon>`:null}onTabClick(Mn){this.buttons&&this.animateTabs(Mn,!1),this.activeTab=Mn,this.onTabChange(Mn)}animateTabs(Mn,io){const fo=this.buttons[this.activeTab],mo=this.buttons[Mn],$o=fo==null?void 0:fo.querySelector("wui-text"),Ao=mo==null?void 0:mo.querySelector("wui-text"),Lo=mo==null?void 0:mo.getBoundingClientRect(),Wo=Ao==null?void 0:Ao.getBoundingClientRect();fo&&$o&&!io&&Mn!==this.activeTab&&($o.animate([{opacity:0}],{duration:50,easing:"ease",fill:"forwards"}),fo.animate([{width:"34px"}],{duration:500,easing:"ease",fill:"forwards"})),mo&&Lo&&Wo&&Ao&&(Mn!==this.activeTab||io)&&(this.localTabWidth=`${Math.round(Lo.width+Wo.width)+6}px`,mo.animate([{width:`${Lo.width+Wo.width}px`}],{duration:io?0:500,fill:"forwards",easing:"ease"}),Ao.animate([{opacity:1}],{duration:io?0:125,delay:io?0:200,fill:"forwards",easing:"ease"}))}};WuiTabs.styles=[resetStyles,elementStyles,styles$1C];__decorate$2c([n$c({type:Array})],WuiTabs.prototype,"tabs",void 0);__decorate$2c([n$c()],WuiTabs.prototype,"onTabChange",void 0);__decorate$2c([n$c({type:Array})],WuiTabs.prototype,"buttons",void 0);__decorate$2c([n$c({type:Boolean})],WuiTabs.prototype,"disabled",void 0);__decorate$2c([n$c()],WuiTabs.prototype,"localTabWidth",void 0);__decorate$2c([r$c()],WuiTabs.prototype,"activeTab",void 0);__decorate$2c([r$c()],WuiTabs.prototype,"isDense",void 0);WuiTabs=__decorate$2c([customElement("wui-tabs")],WuiTabs);const styles$1B=i$a`
  :host {
    display: block;
  }

  :host > button {
    gap: var(--wui-spacing-xxs);
    padding: var(--wui-spacing-xs);
    padding-right: var(--wui-spacing-1xs);
    height: 40px;
    border-radius: var(--wui-border-radius-l);
    background: var(--wui-color-gray-glass-002);
    border-width: 0px;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
  }

  :host > button wui-image {
    width: 24px;
    height: 24px;
    border-radius: var(--wui-border-radius-s);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }
`;var __decorate$2b=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiTokenButton=class extends r$e{constructor(){super(...arguments),this.text=""}render(){return x$1`
      <button ontouchstart>
        ${this.tokenTemplate()}
        <wui-text variant="paragraph-600" color="fg-100">${this.text}</wui-text>
      </button>
    `}tokenTemplate(){return this.imageSrc?x$1`<wui-image src=${this.imageSrc}></wui-image>`:x$1`
      <wui-icon-box
        size="sm"
        iconColor="fg-200"
        backgroundColor="fg-300"
        icon="networkPlaceholder"
      ></wui-icon-box>
    `}};WuiTokenButton.styles=[resetStyles,elementStyles,styles$1B];__decorate$2b([n$c()],WuiTokenButton.prototype,"imageSrc",void 0);__decorate$2b([n$c()],WuiTokenButton.prototype,"text",void 0);WuiTokenButton=__decorate$2b([customElement("wui-token-button")],WuiTokenButton);const styles$1A=i$a`
  :host {
    display: block;
    padding: 9px var(--wui-spacing-s) 10px var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);

    color: var(--wui-color-bg-100);
    position: relative;
  }

  :host([data-variant='shade']) {
    background-color: var(--wui-color-bg-150);
    border: 1px solid var(--wui-color-gray-glass-005);
  }

  :host([data-variant='shade']) > wui-text {
    color: var(--wui-color-fg-150);
  }

  :host([data-variant='fill']) {
    background-color: var(--wui-color-fg-100);
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }
`;var __decorate$2a=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiTooltip=class extends r$e{constructor(){super(...arguments),this.placement="top",this.variant="fill",this.message=""}render(){return this.dataset.variant=this.variant,x$1`<wui-icon
        data-placement=${this.placement}
        color="fg-100"
        size="inherit"
        name=${this.variant==="fill"?"cursor":"cursorTransparent"}
      ></wui-icon>
      <wui-text color="inherit" variant="small-500">${this.message}</wui-text>`}};WuiTooltip.styles=[resetStyles,elementStyles,styles$1A];__decorate$2a([n$c()],WuiTooltip.prototype,"placement",void 0);__decorate$2a([n$c()],WuiTooltip.prototype,"variant",void 0);__decorate$2a([n$c()],WuiTooltip.prototype,"message",void 0);WuiTooltip=__decorate$2a([customElement("wui-tooltip")],WuiTooltip);const styles$1z=i$a`
  :host {
    height: 60px;
    min-height: 60px;
  }

  :host > wui-flex {
    cursor: pointer;
    height: 100%;
    display: flex;
    column-gap: var(--wui-spacing-s);
    padding: var(--wui-spacing-xs);
    padding-right: var(--wui-spacing-l);
    width: 100%;
    background-color: transparent;
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
    transition:
      background-color var(--wui-ease-out-power-1) var(--wui-duration-lg),
      opacity var(--wui-ease-out-power-1) var(--wui-duration-lg);
    will-change: background-color, opacity;
  }

  @media (hover: hover) and (pointer: fine) {
    :host > wui-flex:hover {
      background-color: var(--wui-color-gray-glass-002);
    }

    :host > wui-flex:active {
      background-color: var(--wui-color-gray-glass-005);
    }
  }

  :host([disabled]) > wui-flex {
    opacity: 0.6;
  }

  :host([disabled]) > wui-flex:hover {
    background-color: transparent;
  }

  :host > wui-flex > wui-flex {
    flex: 1;
  }

  :host > wui-flex > wui-image,
  :host > wui-flex > .token-item-image-placeholder {
    width: 40px;
    max-width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-3xl);
    position: relative;
  }

  :host > wui-flex > .token-item-image-placeholder {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  :host > wui-flex > wui-image::after,
  :host > wui-flex > .token-item-image-placeholder::after {
    position: absolute;
    content: '';
    inset: 0;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
    border-radius: var(--wui-border-radius-l);
  }

  button > wui-icon-box[data-variant='square-blue'] {
    border-radius: var(--wui-border-radius-3xs);
    position: relative;
    border: none;
    width: 36px;
    height: 36px;
  }
`;var __decorate$29=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiTokenListItem=class extends r$e{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.imageSrc=void 0,this.name=void 0,this.symbol=void 0,this.price=void 0,this.amount=void 0,this.visible=!1,this.imageError=!1,this.observer=new IntersectionObserver(Mn=>{Mn.forEach(io=>{io.isIntersecting?this.visible=!0:this.visible=!1})},{threshold:.1})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){var io;if(!this.visible)return null;const Mn=this.amount&&this.price?(io=NumberUtil.multiply(this.price,this.amount))==null?void 0:io.toFixed(3):null;return x$1`
      <wui-flex alignItems="center">
        ${this.visualTemplate()}
        <wui-flex flexDirection="column" gap="3xs">
          <wui-flex justifyContent="space-between">
            <wui-text variant="paragraph-500" color="fg-100" lineClamp="1">${this.name}</wui-text>
            ${Mn?x$1`
                  <wui-text variant="paragraph-500" color="fg-100">
                    $${UiHelperUtil.formatNumberToLocalString(Mn,3)}
                  </wui-text>
                `:null}
          </wui-flex>
          <wui-flex justifyContent="space-between">
            <wui-text variant="small-400" color="fg-200" lineClamp="1">${this.symbol}</wui-text>
            ${this.amount?x$1`<wui-text variant="small-400" color="fg-200">
                  ${UiHelperUtil.formatNumberToLocalString(this.amount,4)}
                </wui-text>`:null}
          </wui-flex>
        </wui-flex>
      </wui-flex>
    `}visualTemplate(){return this.imageError?x$1`<wui-flex class="token-item-image-placeholder">
        <wui-icon name="image" color="inherit"></wui-icon>
      </wui-flex>`:this.imageSrc?x$1`<wui-image
        width="40"
        height="40"
        src=${this.imageSrc}
        @onLoadError=${this.imageLoadError}
      ></wui-image>`:null}imageLoadError(){this.imageError=!0}};WuiTokenListItem.styles=[resetStyles,elementStyles,styles$1z];__decorate$29([n$c()],WuiTokenListItem.prototype,"imageSrc",void 0);__decorate$29([n$c()],WuiTokenListItem.prototype,"name",void 0);__decorate$29([n$c()],WuiTokenListItem.prototype,"symbol",void 0);__decorate$29([n$c()],WuiTokenListItem.prototype,"price",void 0);__decorate$29([n$c()],WuiTokenListItem.prototype,"amount",void 0);__decorate$29([r$c()],WuiTokenListItem.prototype,"visible",void 0);__decorate$29([r$c()],WuiTokenListItem.prototype,"imageError",void 0);WuiTokenListItem=__decorate$29([customElement("wui-token-list-item")],WuiTokenListItem);const styles$1y=i$a`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--wui-icon-box-size-xl);
    height: var(--wui-icon-box-size-xl);
    box-shadow: 0 0 0 8px var(--wui-thumbnail-border);
    border-radius: var(--local-border-radius);
    overflow: hidden;
  }

  wui-icon {
    width: 32px;
    height: 32px;
  }
`;var __decorate$28=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiVisualThumbnail=class extends r$e{render(){return this.style.cssText=`--local-border-radius: ${this.borderRadiusFull?"1000px":"20px"}; background-color: var(--wui-color-modal-bg);`,x$1`${this.templateVisual()}`}templateVisual(){return this.imageSrc?x$1`<wui-image src=${this.imageSrc} alt=${this.alt??""}></wui-image>`:x$1`<wui-icon
      data-parent-size="md"
      size="inherit"
      color="inherit"
      name="walletPlaceholder"
    ></wui-icon>`}};WuiVisualThumbnail.styles=[resetStyles,styles$1y];__decorate$28([n$c()],WuiVisualThumbnail.prototype,"imageSrc",void 0);__decorate$28([n$c()],WuiVisualThumbnail.prototype,"alt",void 0);__decorate$28([n$c({type:Boolean})],WuiVisualThumbnail.prototype,"borderRadiusFull",void 0);WuiVisualThumbnail=__decorate$28([customElement("wui-visual-thumbnail")],WuiVisualThumbnail);const styles$1x=i$a`
  :host {
    display: block;
  }

  button {
    width: 100%;
    display: block;
    padding-top: var(--wui-spacing-l);
    padding-bottom: var(--wui-spacing-l);
    padding-left: var(--wui-spacing-s);
    padding-right: var(--wui-spacing-2l);
    border-radius: var(--wui-border-radius-s);
    background-color: var(--wui-color-accent-glass-010);
  }

  button:hover {
    background-color: var(--wui-color-accent-glass-015) !important;
  }

  button:active {
    background-color: var(--wui-color-accent-glass-020) !important;
  }
`;var __decorate$27=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiNoticeCard=class extends r$e{constructor(){super(...arguments),this.label="",this.description="",this.icon="wallet"}render(){return x$1`
      <button>
        <wui-flex gap="m" alignItems="center" justifyContent="space-between">
          <wui-icon-box
            size="lg"
            iconcolor="accent-100"
            backgroundcolor="accent-100"
            icon=${this.icon}
            background="transparent"
          ></wui-icon-box>

          <wui-flex flexDirection="column" gap="3xs">
            <wui-text variant="paragraph-500" color="fg-100">${this.label}</wui-text>
            <wui-text variant="small-400" color="fg-200">${this.description}</wui-text>
          </wui-flex>

          <wui-icon size="md" color="fg-200" name="chevronRight"></wui-icon>
        </wui-flex>
      </button>
    `}};WuiNoticeCard.styles=[resetStyles,elementStyles,styles$1x];__decorate$27([n$c()],WuiNoticeCard.prototype,"label",void 0);__decorate$27([n$c()],WuiNoticeCard.prototype,"description",void 0);__decorate$27([n$c()],WuiNoticeCard.prototype,"icon",void 0);WuiNoticeCard=__decorate$27([customElement("wui-notice-card")],WuiNoticeCard);const styles$1w=i$a`
  button {
    height: auto;
    position: relative;
    flex-direction: column;
    gap: var(--wui-spacing-s);
    padding: 17px 18px 17px var(--wui-spacing-m);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
  }

  .overflowedContent {
    width: 100%;
    overflow: hidden;
  }

  .overflowedContent[data-active='false']:after {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to top, var(--wui-color-bg-150), transparent);
    border-bottom-left-radius: var(--wui-border-radius-xs);
    border-bottom-right-radius: var(--wui-border-radius-xs);
  }

  .heightContent {
    max-height: 100px;
  }

  pre {
    text-align: left;
    white-space: pre-wrap;
    height: auto;
    overflow-x: auto;
    overflow-wrap: anywhere;
  }
`;var __decorate$26=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const MAX_HEIGHT$2=100;let WuiListAccordion=class extends r$e{constructor(){super(...arguments),this.textTitle="",this.overflowedContent="",this.toggled=!1,this.enableAccordion=!1,this.scrollElement=void 0,this.scrollHeightElement=0}updated(Mn){super.updated(Mn),(Mn.has("textTitle")||Mn.has("overflowedContent"))&&setTimeout(()=>{this.checkHeight()},1)}checkHeight(){this.updateComplete.then(()=>{var fo,mo;const Mn=(fo=this.shadowRoot)==null?void 0:fo.querySelector(".heightContent"),io=(mo=this.shadowRoot)==null?void 0:mo.querySelector(".textContent");if(Mn&&io){this.scrollElement=Mn;const $o=io==null?void 0:io.scrollHeight;$o&&$o>MAX_HEIGHT$2&&(this.enableAccordion=!0,this.scrollHeightElement=$o,this.requestUpdate())}})}render(){return x$1`
      <button ontouchstart @click=${()=>this.onClick()}>
        <wui-flex justifyContent="space-between" alignItems="center">
          <wui-text variant="paragraph-500" color="fg-100">${this.textTitle}</wui-text>
          ${this.chevronTemplate()}
        </wui-flex>
        <div
          data-active=${this.enableAccordion?!!this.toggled:!0}
          class="overflowedContent"
        >
          <div class="heightContent">
            <wui-text class="textContent" variant="paragraph-400" color="fg-200">
              <pre>${this.overflowedContent}</pre>
            </wui-text>
          </div>
        </div>
      </button>
    `}onClick(){var io;const Mn=(io=this.shadowRoot)==null?void 0:io.querySelector("wui-icon");this.enableAccordion&&(this.toggled=!this.toggled,this.requestUpdate(),this.scrollElement&&this.scrollElement.animate([{maxHeight:this.toggled?`${MAX_HEIGHT$2}px`:`${this.scrollHeightElement}px`},{maxHeight:this.toggled?`${this.scrollHeightElement}px`:`${MAX_HEIGHT$2}px`}],{duration:300,fill:"forwards",easing:"ease"}),Mn&&Mn.animate([{transform:this.toggled?"rotate(0deg)":"rotate(180deg)"},{transform:this.toggled?"rotate(180deg)":"rotate(0deg)"}],{duration:300,fill:"forwards",easing:"ease"}))}chevronTemplate(){return this.enableAccordion?x$1` <wui-icon color="fg-100" size="sm" name="chevronBottom"></wui-icon>`:null}};WuiListAccordion.styles=[resetStyles,elementStyles,styles$1w];__decorate$26([n$c()],WuiListAccordion.prototype,"textTitle",void 0);__decorate$26([n$c()],WuiListAccordion.prototype,"overflowedContent",void 0);WuiListAccordion=__decorate$26([customElement("wui-list-accordion")],WuiListAccordion);const styles$1v=i$a`
  :host {
    display: flex;
    column-gap: var(--wui-spacing-s);
    padding: 17px 18px 17px var(--wui-spacing-m);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
  }

  wui-image {
    width: var(--wui-icon-size-lg);
    height: var(--wui-icon-size-lg);
    border-radius: var(--wui-border-radius-3xl);
  }

  wui-icon {
    width: var(--wui-icon-size-lg);
    height: var(--wui-icon-size-lg);
  }
`;var __decorate$25=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiListContent=class extends r$e{constructor(){super(...arguments),this.imageSrc=void 0,this.textTitle="",this.textValue=void 0}render(){return x$1`
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="paragraph-500" color=${this.textValue?"fg-200":"fg-100"}>
          ${this.textTitle}
        </wui-text>
        ${this.templateContent()}
      </wui-flex>
    `}templateContent(){return this.imageSrc?x$1`<wui-image src=${this.imageSrc} alt=${this.textTitle}></wui-image>`:this.textValue?x$1` <wui-text variant="paragraph-400" color="fg-100"> ${this.textValue} </wui-text>`:x$1`<wui-icon size="inherit" color="fg-200" name="networkPlaceholder"></wui-icon>`}};WuiListContent.styles=[resetStyles,elementStyles,styles$1v];__decorate$25([n$c()],WuiListContent.prototype,"imageSrc",void 0);__decorate$25([n$c()],WuiListContent.prototype,"textTitle",void 0);__decorate$25([n$c()],WuiListContent.prototype,"textValue",void 0);WuiListContent=__decorate$25([customElement("wui-list-content")],WuiListContent);const styles$1u=i$a`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-md);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button[data-transparent='true'] {
    pointer-events: none;
    background-color: transparent;
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  button:active {
    background-color: var(--wui-color-gray-glass-005);
  }

  wui-image {
    width: var(--wui-spacing-3xl);
    height: var(--wui-spacing-3xl);
    border-radius: 100%;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-002);
    opacity: 0.5;
    cursor: not-allowed;
  }

  button:disabled > wui-tag {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-300);
  }
`;var __decorate$24=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiListNetwork=class extends r$e{constructor(){super(...arguments),this.imageSrc="",this.name="",this.disabled=!1,this.selected=!1,this.transparent=!1}render(){return x$1`
      <button data-transparent=${this.transparent} ?disabled=${this.disabled} ontouchstart>
        <wui-flex gap="s" alignItems="center">
          ${this.templateNetworkImage()}
          <wui-text variant="paragraph-500" color="inherit">${this.name}</wui-text></wui-flex
        >
        ${this.checkmarkTemplate()}
      </button>
    `}checkmarkTemplate(){return this.selected?x$1`<wui-icon size="sm" color="accent-100" name="checkmarkBold"></wui-icon>`:null}templateNetworkImage(){return this.imageSrc?x$1`<wui-image size="sm" src=${this.imageSrc} name=${this.name}></wui-image>`:this.imageSrc?null:x$1`<wui-network-image
        ?round=${!0}
        size="md"
        name=${this.name}
      ></wui-network-image>`}};WuiListNetwork.styles=[resetStyles,elementStyles,styles$1u];__decorate$24([n$c()],WuiListNetwork.prototype,"imageSrc",void 0);__decorate$24([n$c()],WuiListNetwork.prototype,"name",void 0);__decorate$24([n$c({type:Boolean})],WuiListNetwork.prototype,"disabled",void 0);__decorate$24([n$c({type:Boolean})],WuiListNetwork.prototype,"selected",void 0);__decorate$24([n$c({type:Boolean})],WuiListNetwork.prototype,"transparent",void 0);WuiListNetwork=__decorate$24([customElement("wui-list-network")],WuiListNetwork);const styles$1t=i$a`
  :host {
    display: flex;
    flex-direction: column;
    gap: var(--wui-spacing-l);
    padding: 17px 18px 17px var(--wui-spacing-m);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
  }

  wui-image {
    width: var(--wui-icon-size-lg);
    height: var(--wui-icon-size-lg);
    border-radius: var(--wui-border-radius-3xl);
  }

  wui-icon {
    width: var(--wui-icon-size-lg);
    height: var(--wui-icon-size-lg);
  }
`;var __decorate$23=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiListWalletTransaction=class extends r$e{constructor(){super(...arguments),this.amount="",this.networkCurreny="",this.networkImageUrl="",this.receiverAddress="",this.addressExplorerUrl=""}render(){return x$1`
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="paragraph-500" color="fg-200">Sending</wui-text>
        <wui-flex gap="xs" alignItems="center">
          <wui-text variant="paragraph-400" color="fg-100">
            ${this.amount} ${this.networkCurreny}
          </wui-text>
          ${this.templateNetworkVisual()}
        </wui-flex>
      </wui-flex>
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="paragraph-500" color="fg-200">To</wui-text>
        <wui-chip
          icon="externalLink"
          variant="shadeSmall"
          href=${this.addressExplorerUrl}
          title=${this.receiverAddress}
        ></wui-chip>
      </wui-flex>
    `}templateNetworkVisual(){return this.networkImageUrl?x$1`<wui-image src=${this.networkImageUrl} alt="Network Image"></wui-image>`:x$1`<wui-icon size="inherit" color="fg-200" name="networkPlaceholder"></wui-icon>`}};WuiListWalletTransaction.styles=[resetStyles,elementStyles,styles$1t];__decorate$23([n$c()],WuiListWalletTransaction.prototype,"amount",void 0);__decorate$23([n$c()],WuiListWalletTransaction.prototype,"networkCurreny",void 0);__decorate$23([n$c()],WuiListWalletTransaction.prototype,"networkImageUrl",void 0);__decorate$23([n$c()],WuiListWalletTransaction.prototype,"receiverAddress",void 0);__decorate$23([n$c()],WuiListWalletTransaction.prototype,"addressExplorerUrl",void 0);WuiListWalletTransaction=__decorate$23([customElement("wui-list-wallet-transaction")],WuiListWalletTransaction);const styles$1s=i$a`
  button {
    display: flex;
    gap: var(--wui-spacing-3xs);
    align-items: center;
    padding: 6.25px var(--wui-spacing-xs) 7.25px var(--wui-spacing-s);
    background-color: var(--wui-color-gray-glass-090);
    border-radius: var(--wui-border-radius-3xl);
    border: 1px solid var(--wui-color-gray-glass-060);
    transition: background-color var(--wui-duration-md) var(--wui-ease-inout-power-1);
    will-change: background-color;
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-080);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-060);
    }
  }
`;var __decorate$22=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiPromo=class extends r$e{constructor(){super(...arguments),this.text=""}render(){return x$1`<button ontouchstart>
      <wui-text variant="small-600" color="bg-100">${this.text}</wui-text>
      <wui-icon color="bg-100" size="xs" name="arrowRight"></wui-icon>
    </button>`}};WuiPromo.styles=[resetStyles,elementStyles,styles$1s];__decorate$22([n$c()],WuiPromo.prototype,"text",void 0);WuiPromo=__decorate$22([customElement("wui-promo")],WuiPromo);const styles$1r=i$a`
  span {
    font-weight: 500;
    font-size: 40px;
    color: var(--wui-color-fg-100);
    line-height: 130%; /* 52px */
    letter-spacing: -1.6px;
    text-align: center;
  }

  .pennies {
    color: var(--wui-color-fg-200);
  }
`;var __decorate$21=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiBalance=class extends r$e{constructor(){super(...arguments),this.dollars="0",this.pennies="00"}render(){return x$1`<span>$${this.dollars}<span class="pennies">.${this.pennies}</span></span>`}};WuiBalance.styles=[resetStyles,styles$1r];__decorate$21([n$c()],WuiBalance.prototype,"dollars",void 0);__decorate$21([n$c()],WuiBalance.prototype,"pennies",void 0);WuiBalance=__decorate$21([customElement("wui-balance")],WuiBalance);const styles$1q=i$a`
  button {
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-3xl);
    border: 1px solid var(--wui-color-gray-glass-002);
    padding: var(--wui-spacing-xs) var(--wui-spacing-s) var(--wui-spacing-xs) var(--wui-spacing-xs);
    position: relative;
  }

  wui-avatar {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 0;
    outline: 3px solid var(--wui-color-gray-glass-005);
  }

  wui-icon-box,
  wui-image {
    width: 16px;
    height: 16px;
    border-radius: var(--wui-border-radius-3xl);
    position: absolute;
    left: 26px;
    top: 24px;
  }

  wui-image {
    outline: 2px solid var(--wui-color-bg-125);
  }

  wui-icon-box {
    outline: 2px solid var(--wui-color-bg-200);
    background-color: var(--wui-color-bg-250);
  }
`;var __decorate$20=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiProfileButton=class extends r$e{constructor(){super(...arguments),this.networkSrc=void 0,this.avatarSrc=void 0,this.profileName="",this.address="",this.icon="chevronBottom"}render(){return x$1`<button ontouchstart data-testid="wui-profile-button">
      <wui-flex gap="xs" alignItems="center">
        <wui-avatar
          .imageSrc=${this.avatarSrc}
          alt=${this.address}
          address=${this.address}
        ></wui-avatar>
        ${this.networkImageTemplate()}
        <wui-flex gap="xs" alignItems="center">
          <wui-text variant="large-600" color="fg-100">
            ${UiHelperUtil.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?18:4,charsEnd:this.profileName?0:4,truncate:this.profileName?"end":"middle"})}
          </wui-text>
          <wui-icon size="sm" color="fg-200" name=${this.icon}></wui-icon>
        </wui-flex>
      </wui-flex>
    </button>`}networkImageTemplate(){return this.networkSrc?x$1`<wui-image src=${this.networkSrc}></wui-image>`:x$1`
      <wui-icon-box
        size="xxs"
        iconColor="fg-200"
        backgroundColor="bg-100"
        icon="networkPlaceholder"
      ></wui-icon-box>
    `}};WuiProfileButton.styles=[resetStyles,elementStyles,styles$1q];__decorate$20([n$c()],WuiProfileButton.prototype,"networkSrc",void 0);__decorate$20([n$c()],WuiProfileButton.prototype,"avatarSrc",void 0);__decorate$20([n$c()],WuiProfileButton.prototype,"profileName",void 0);__decorate$20([n$c()],WuiProfileButton.prototype,"address",void 0);__decorate$20([n$c()],WuiProfileButton.prototype,"icon",void 0);WuiProfileButton=__decorate$20([customElement("wui-profile-button")],WuiProfileButton);const styles$1p=i$a`
  button {
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-3xl);
    border: 1px solid var(--wui-color-gray-glass-002);
    padding: var(--wui-spacing-xs) var(--wui-spacing-s) var(--wui-spacing-xs) var(--wui-spacing-xs);
    position: relative;
  }

  wui-avatar {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 0;
    outline: 3px solid var(--wui-color-gray-glass-005);
  }

  wui-icon-box,
  wui-image {
    width: 16px;
    height: 16px;
    border-radius: var(--wui-border-radius-3xl);
    position: absolute;
    left: 26px;
    top: 24px;
  }

  wui-image {
    outline: 2px solid var(--wui-color-bg-125);
  }

  wui-icon-box {
    outline: 2px solid var(--wui-color-bg-200);
    background-color: var(--wui-color-bg-250);
  }
`;var __decorate$1$=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiProfileButtonV2=class extends r$e{constructor(){super(...arguments),this.avatarSrc=void 0,this.profileName="",this.address="",this.icon="mail",this.connectedConnector=StorageUtil.getConnectedConnector(),this.shouldShowIcon=this.connectedConnector==="AUTH"}render(){return x$1`<button ontouchstart data-testid="wui-profile-button" @click=${this.handleClick}>
      <wui-flex gap="xs" alignItems="center">
        <wui-avatar
          .imageSrc=${this.avatarSrc}
          alt=${this.address}
          address=${this.address}
        ></wui-avatar>
        ${this.shouldShowIcon?this.getIconTemplate(this.icon):""}
        <wui-flex gap="xs" alignItems="center">
          <wui-text variant="large-600" color="fg-100">
            ${UiHelperUtil.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?18:4,charsEnd:this.profileName?0:4,truncate:this.profileName?"end":"middle"})}
          </wui-text>
          <wui-icon size="sm" color="fg-200" name="copy" id="copy-address"></wui-icon>
        </wui-flex>
      </wui-flex>
    </button>`}handleClick(Mn){var io,fo;if(Mn.target instanceof HTMLElement&&Mn.target.id==="copy-address"){(io=this.onCopyClick)==null||io.call(this,Mn);return}(fo=this.onProfileClick)==null||fo.call(this,Mn)}getIconTemplate(Mn){return x$1`
      <wui-icon-box
        size="xxs"
        iconColor="fg-200"
        backgroundColor="bg-100"
        icon="${Mn||"networkPlaceholder"}"
      ></wui-icon-box>
    `}};WuiProfileButtonV2.styles=[resetStyles,elementStyles,styles$1p];__decorate$1$([n$c()],WuiProfileButtonV2.prototype,"avatarSrc",void 0);__decorate$1$([n$c()],WuiProfileButtonV2.prototype,"profileName",void 0);__decorate$1$([n$c()],WuiProfileButtonV2.prototype,"address",void 0);__decorate$1$([n$c()],WuiProfileButtonV2.prototype,"icon",void 0);__decorate$1$([n$c()],WuiProfileButtonV2.prototype,"onProfileClick",void 0);__decorate$1$([n$c()],WuiProfileButtonV2.prototype,"onCopyClick",void 0);WuiProfileButtonV2=__decorate$1$([customElement("wui-profile-button-v2")],WuiProfileButtonV2);const styles$1o=i$a`
  button {
    border: none;
    border-radius: var(--wui-border-radius-3xl);
  }

  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='gray'] {
    background-color: transparent;
    color: var(--wui-color-fg-200);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='shade'] {
    background-color: transparent;
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-size='sm'] {
    height: 32px;
    padding: 0 var(--wui-spacing-s);
  }

  button[data-size='md'] {
    height: 40px;
    padding: 0 var(--wui-spacing-l);
  }

  button[data-size='sm'] > wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='md'] > wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='sm'] > wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='md'] > wui-icon {
    width: 14px;
    height: 14px;
  }

  wui-image {
    border-radius: var(--wui-border-radius-3xl);
    overflow: hidden;
  }

  button.disabled > wui-icon,
  button.disabled > wui-image {
    filter: grayscale(1);
  }

  button[data-variant='main'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-accent-090);
  }

  button[data-variant='shade'] > wui-image,
  button[data-variant='gray'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:focus-visible {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='shade']:focus-visible,
    button[data-variant='gray']:focus-visible,
    button[data-variant='shade']:hover,
    button[data-variant='gray']:hover {
      background-color: var(--wui-color-gray-glass-002);
    }

    button[data-variant='gray']:active,
    button[data-variant='shade']:active {
      background-color: var(--wui-color-gray-glass-005);
    }
  }

  button.disabled {
    color: var(--wui-color-gray-glass-020);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    pointer-events: none;
  }
`;var __decorate$1_=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiChipButton=class extends r$e{constructor(){super(...arguments),this.variant="accent",this.imageSrc="",this.disabled=!1,this.icon="externalLink",this.size="md",this.text=""}render(){const Mn=this.size==="sm"?"small-600":"paragraph-600";return x$1`
      <button
        class=${this.disabled?"disabled":""}
        data-variant=${this.variant}
        data-size=${this.size}
      >
        ${this.imageSrc?x$1`<wui-image src=${this.imageSrc}></wui-image>`:null}
        <wui-text variant=${Mn} color="inherit"> ${this.text} </wui-text>
        <wui-icon name=${this.icon} color="inherit" size="inherit"></wui-icon>
      </button>
    `}};WuiChipButton.styles=[resetStyles,elementStyles,styles$1o];__decorate$1_([n$c()],WuiChipButton.prototype,"variant",void 0);__decorate$1_([n$c()],WuiChipButton.prototype,"imageSrc",void 0);__decorate$1_([n$c({type:Boolean})],WuiChipButton.prototype,"disabled",void 0);__decorate$1_([n$c()],WuiChipButton.prototype,"icon",void 0);__decorate$1_([n$c()],WuiChipButton.prototype,"size",void 0);__decorate$1_([n$c()],WuiChipButton.prototype,"text",void 0);WuiChipButton=__decorate$1_([customElement("wui-chip-button")],WuiChipButton);const styles$1n=i$a`
  button {
    display: flex;
    gap: var(--wui-spacing-xl);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xxs);
    padding: var(--wui-spacing-m) var(--wui-spacing-s);
  }

  wui-text {
    width: 100%;
  }

  wui-flex {
    width: auto;
  }

  .network-icon {
    width: var(--wui-spacing-2l);
    height: var(--wui-spacing-2l);
    border-radius: calc(var(--wui-spacing-2l) / 2);
    overflow: hidden;
    box-shadow:
      0 0 0 3px var(--wui-color-gray-glass-002),
      0 0 0 3px var(--wui-color-modal-bg);
  }
`;var __decorate$1Z=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiCompatibleNetwork=class extends r$e{constructor(){super(...arguments),this.networkImages=[""],this.text=""}render(){return x$1`
      <button ontouchstart>
        <wui-text variant="small-400" color="fg-200">${this.text}</wui-text>
        <wui-flex gap="3xs" alignItems="center">
          ${this.networksTemplate()}
          <wui-icon name="chevronRight" size="sm" color="fg-200"></wui-icon>
        </wui-flex>
      </button>
    `}networksTemplate(){const Mn=this.networkImages.slice(0,5);return x$1` <wui-flex class="networks">
      ${Mn==null?void 0:Mn.map(io=>x$1` <wui-flex class="network-icon"> <wui-image src=${io}></wui-image> </wui-flex>`)}
    </wui-flex>`}};WuiCompatibleNetwork.styles=[resetStyles,elementStyles,styles$1n];__decorate$1Z([n$c({type:Array})],WuiCompatibleNetwork.prototype,"networkImages",void 0);__decorate$1Z([n$c()],WuiCompatibleNetwork.prototype,"text",void 0);WuiCompatibleNetwork=__decorate$1Z([customElement("wui-compatible-network")],WuiCompatibleNetwork);const styles$1m=i$a`
  wui-flex {
    width: 100%;
    background-color: var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-s);
    padding: var(--wui-spacing-1xs) var(--wui-spacing-s) var(--wui-spacing-1xs)
      var(--wui-spacing-1xs);
  }
`;var __decorate$1Y=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiBanner=class extends r$e{constructor(){super(...arguments),this.icon="externalLink",this.text=""}render(){return x$1`
      <wui-flex gap="1xs" alignItems="center">
        <wui-icon-box
          size="sm"
          iconcolor="fg-200"
          backgroundcolor="fg-200"
          icon=${this.icon}
          background="transparent"
        ></wui-icon-box>
        <wui-text variant="small-400" color="fg-200">${this.text}</wui-text>
      </wui-flex>
    `}};WuiBanner.styles=[resetStyles,elementStyles,styles$1m];__decorate$1Y([n$c()],WuiBanner.prototype,"icon",void 0);__decorate$1Y([n$c()],WuiBanner.prototype,"text",void 0);WuiBanner=__decorate$1Y([customElement("wui-banner")],WuiBanner);const styles$1l=i$a`
  wui-flex {
    width: 100%;
    background-color: var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-m);
    padding: var(--wui-spacing-1xs) var(--wui-spacing-s) var(--wui-spacing-1xs)
      var(--wui-spacing-1xs);
  }
`;var __decorate$1X=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiBannerImg=class extends r$e{constructor(){super(...arguments),this.imageSrc="",this.text="",this.size=""}render(){return x$1`
      <wui-flex gap="1xs" alignItems="center">
        <wui-avatar size=${this.size} imageSrc=${this.imageSrc}></wui-avatar>
        <wui-text variant="small-400" color="fg-200">${this.text}</wui-text>
      </wui-flex>
    `}};WuiBannerImg.styles=[resetStyles,elementStyles,styles$1l];__decorate$1X([n$c()],WuiBannerImg.prototype,"imageSrc",void 0);__decorate$1X([n$c()],WuiBannerImg.prototype,"text",void 0);__decorate$1X([n$c()],WuiBannerImg.prototype,"size",void 0);WuiBannerImg=__decorate$1X([customElement("wui-banner-img")],WuiBannerImg);const styles$1k=i$a`
  button {
    padding: 6.5px var(--wui-spacing-l) 6.5px var(--wui-spacing-xs);
    display: flex;
    justify-content: space-between;
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
    background-color: var(--wui-color-gray-glass-002);
  }

  button[data-clickable='false'] {
    pointer-events: none;
    background-color: transparent;
  }

  wui-image,
  wui-icon {
    width: var(--wui-spacing-3xl);
    height: var(--wui-spacing-3xl);
  }

  wui-image {
    border-radius: var(--wui-border-radius-3xl);
  }
`;var __decorate$1W=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiListToken=class extends r$e{constructor(){super(...arguments),this.tokenName="",this.tokenImageUrl="",this.tokenValue=0,this.tokenAmount="0.0",this.tokenCurrency="",this.clickable=!1}render(){return x$1`
      <button data-clickable=${String(this.clickable)} ontouchstart>
        <wui-flex gap="s" alignItems="center">
          ${this.visualTemplate()}
          <wui-flex flexDirection="column" justifyContent="spaceBetween">
            <wui-text variant="paragraph-500" color="fg-100">${this.tokenName}</wui-text>
            <wui-text variant="small-400" color="fg-200">
              ${UiHelperUtil.formatNumberToLocalString(this.tokenAmount,4)} ${this.tokenCurrency}
            </wui-text>
          </wui-flex>
        </wui-flex>
        <wui-text variant="paragraph-500" color="fg-100">$${this.tokenValue.toFixed(2)}</wui-text>
      </button>
    `}visualTemplate(){return this.tokenName&&this.tokenImageUrl?x$1`<wui-image alt=${this.tokenName} src=${this.tokenImageUrl}></wui-image>`:x$1`<wui-icon name="coinPlaceholder" color="fg-100"></wui-icon>`}};WuiListToken.styles=[resetStyles,elementStyles,styles$1k];__decorate$1W([n$c()],WuiListToken.prototype,"tokenName",void 0);__decorate$1W([n$c()],WuiListToken.prototype,"tokenImageUrl",void 0);__decorate$1W([n$c({type:Number})],WuiListToken.prototype,"tokenValue",void 0);__decorate$1W([n$c()],WuiListToken.prototype,"tokenAmount",void 0);__decorate$1W([n$c()],WuiListToken.prototype,"tokenCurrency",void 0);__decorate$1W([n$c({type:Boolean})],WuiListToken.prototype,"clickable",void 0);WuiListToken=__decorate$1W([customElement("wui-list-token")],WuiListToken);const styles$1j=i$a`
  button {
    width: 100%;
    display: flex;
    gap: var(--wui-spacing-s);
    align-items: center;
    justify-content: flex-start;
    padding: var(--wui-spacing-s) var(--wui-spacing-m) var(--wui-spacing-s) var(--wui-spacing-s);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }

  wui-icon-box {
    width: var(--wui-spacing-2xl);
    height: var(--wui-spacing-2xl);
  }

  wui-flex {
    width: auto;
  }
`;var __decorate$1V=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiListDescription=class extends r$e{constructor(){super(...arguments),this.icon="card",this.text="",this.description="",this.tag=void 0,this.iconBackgroundColor="accent-100",this.iconColor="accent-100",this.disabled=!1}render(){return x$1`
      <button ontouchstart ?disabled=${this.disabled}>
        <wui-icon-box
          iconColor=${this.iconColor}
          backgroundColor=${this.iconBackgroundColor}
          size="inherit"
          icon=${this.icon}
          iconSize="md"
        ></wui-icon-box>
        <wui-flex flexDirection="column" justifyContent="spaceBetween">
          ${this.titleTemplate()}
          <wui-text variant="small-400" color="fg-200"> ${this.description}</wui-text></wui-flex
        >
      </button>
    `}titleTemplate(){return this.tag?x$1` <wui-flex alignItems="center" gap="xxs"
        ><wui-text variant="paragraph-500" color="fg-100">${this.text}</wui-text
        ><wui-tag tagType="main" size="md">${this.tag}</wui-tag>
      </wui-flex>`:x$1`<wui-text variant="paragraph-500" color="fg-100">${this.text}</wui-text>`}};WuiListDescription.styles=[resetStyles,elementStyles,styles$1j];__decorate$1V([n$c()],WuiListDescription.prototype,"icon",void 0);__decorate$1V([n$c()],WuiListDescription.prototype,"text",void 0);__decorate$1V([n$c()],WuiListDescription.prototype,"description",void 0);__decorate$1V([n$c()],WuiListDescription.prototype,"tag",void 0);__decorate$1V([n$c()],WuiListDescription.prototype,"iconBackgroundColor",void 0);__decorate$1V([n$c()],WuiListDescription.prototype,"iconColor",void 0);__decorate$1V([n$c({type:Boolean})],WuiListDescription.prototype,"disabled",void 0);WuiListDescription=__decorate$1V([customElement("wui-list-description")],WuiListDescription);const styles$1i=i$a`
  :host {
    position: relative;
    display: inline-block;
  }

  input {
    background: transparent;
    width: 100%;
    height: auto;
    font-family: var(--wui-font-family);
    color: var(--wui-color-fg-100);

    font-feature-settings: 'case' on;
    font-size: 32px;
    font-weight: var(--wui-font-weight-light);
    caret-color: var(--wui-color-accent-100);
    line-height: 130%;
    letter-spacing: -1.28px;
    box-sizing: border-box;
    -webkit-appearance: none;
    -moz-appearance: textfield;
    padding: 0px;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input::placeholder {
    color: var(--wui-color-fg-275);
  }
`,specialCharactersRegex=/[.*+?^${}()|[\]\\]/gu,numbersRegex=/[0-9,.]/u;var __decorate$1U=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiInputAmount=class extends r$e{constructor(){super(...arguments),this.inputElementRef=e$8(),this.disabled=!1,this.value="",this.placeholder="0"}render(){var Mn;return(Mn=this.inputElementRef)!=null&&Mn.value&&this.value&&(this.inputElementRef.value.value=this.value),x$1`<input
      ${n$a(this.inputElementRef)}
      type="text"
      inputmode="decimal"
      pattern="[0-9,.]*"
      placeholder=${this.placeholder}
      ?disabled=${this.disabled}
      autofocus
      value=${this.value??""}
      @input=${this.dispatchInputChangeEvent.bind(this)}
    /> `}dispatchInputChangeEvent(Mn){var fo,mo;const io=Mn.data;if(io&&((fo=this.inputElementRef)!=null&&fo.value))if(io===","){const $o=this.inputElementRef.value.value.replace(",",".");this.inputElementRef.value.value=$o,this.value=`${this.value}${$o}`}else numbersRegex.test(io)||(this.inputElementRef.value.value=this.value.replace(new RegExp(io.replace(specialCharactersRegex,"\\$&"),"gu"),""));this.dispatchEvent(new CustomEvent("inputChange",{detail:(mo=this.inputElementRef.value)==null?void 0:mo.value,bubbles:!0,composed:!0}))}};WuiInputAmount.styles=[resetStyles,elementStyles,styles$1i];__decorate$1U([n$c({type:Boolean})],WuiInputAmount.prototype,"disabled",void 0);__decorate$1U([n$c({type:String})],WuiInputAmount.prototype,"value",void 0);__decorate$1U([n$c({type:String})],WuiInputAmount.prototype,"placeholder",void 0);WuiInputAmount=__decorate$1U([customElement("wui-input-amount")],WuiInputAmount);const styles$1h=i$a`
  :host {
    display: flex;
    gap: var(--wui-spacing-xs);
    border-radius: var(--wui-border-radius-3xl);
    border: 1px solid var(--wui-color-gray-glass-002);
    background: var(--wui-color-gray-glass-002);
    padding: var(--wui-spacing-2xs) var(--wui-spacing-xs) var(--wui-spacing-2xs)
      var(--wui-spacing-s);
    align-items: center;
  }

  wui-avatar,
  wui-icon,
  wui-image {
    width: 32px;
    height: 32px;
    border: 1px solid var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-3xl);
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-002);
  }
`;var __decorate$1T=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiPreviewItem=class extends r$e{constructor(){super(...arguments),this.text="",this.address="",this.isAddress=!1}render(){return x$1`<wui-text variant="large-500" color="fg-100">${this.text}</wui-text>
      ${this.imageTemplate()}`}imageTemplate(){return this.isAddress?x$1`<wui-avatar address=${this.address} .imageSrc=${this.imageSrc}></wui-avatar>`:this.imageSrc?x$1`<wui-image src=${this.imageSrc}></wui-image>`:x$1`<wui-icon size="inherit" color="fg-200" name="networkPlaceholder"></wui-icon>`}};WuiPreviewItem.styles=[resetStyles,elementStyles,styles$1h];__decorate$1T([n$c()],WuiPreviewItem.prototype,"text",void 0);__decorate$1T([n$c()],WuiPreviewItem.prototype,"address",void 0);__decorate$1T([n$c()],WuiPreviewItem.prototype,"imageSrc",void 0);__decorate$1T([n$c({type:Boolean})],WuiPreviewItem.prototype,"isAddress",void 0);WuiPreviewItem=__decorate$1T([customElement("wui-preview-item")],WuiPreviewItem);const styles$1g=i$a`
  button {
    padding: 6.5px var(--wui-spacing-l) 6.5px var(--wui-spacing-xs);
    display: flex;
    justify-content: space-between;
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
    background-color: var(--wui-color-gray-glass-002);
  }

  button[data-clickable='false'] {
    pointer-events: none;
    background-color: transparent;
  }

  wui-image {
    width: var(--wui-spacing-3xl);
    height: var(--wui-spacing-3xl);
    border-radius: var(--wui-border-radius-3xl);
  }

  wui-avatar {
    width: var(--wui-spacing-3xl);
    height: var(--wui-spacing-3xl);
    box-shadow: 0 0 0 0;
  }
  .address {
    color: var(--wui-color-fg-base-100);
  }
  .address-description {
    text-transform: capitalize;
    color: var(--wui-color-fg-base-200);
  }

  wui-icon-box {
    position: relative;
    right: 15px;
    top: 15px;
    border: 2px solid var(--wui-color-bg-150);
    background-color: var(--wui-color-bg-125);
  }
`;var __decorate$1S=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiListAccount=class extends r$e{constructor(){super(...arguments),this.accountAddress="",this.accountType="",this.connectedConnector=StorageUtil.getConnectedConnector(),this.labels=AccountController.state.addressLabels,this.caipNetwork=ChainController.state.activeCaipNetwork,this.socialProvider=StorageUtil.getConnectedSocialProvider(),this.balance=0,this.fetchingBalance=!0,this.shouldShowIcon=!1,this.selected=!1}connectedCallback(){var Mn;super.connectedCallback(),BlockchainApiController.getBalance(this.accountAddress,(Mn=this.caipNetwork)==null?void 0:Mn.caipNetworkId).then(io=>{let fo=this.balance;io.balances.length>0&&(fo=io.balances.reduce((mo,$o)=>mo+(($o==null?void 0:$o.value)||0),0)),this.balance=fo,this.fetchingBalance=!1,this.requestUpdate()}).catch(()=>{this.fetchingBalance=!1,this.requestUpdate()})}render(){const Mn=this.getLabel();return this.shouldShowIcon=this.connectedConnector==="ID_AUTH",x$1`
      <wui-flex
        flexDirection="row"
        justifyContent="space-between"
        .padding=${["0","0","s","1xs"]}
      >
        <wui-flex gap="md" alignItems="center">
          <wui-avatar address=${this.accountAddress}></wui-avatar>
          ${this.shouldShowIcon?x$1`<wui-icon-box
                size="sm"
                iconcolor="fg-200"
                backgroundcolor="fg-300"
                icon=${this.accountType===W3mFrameRpcConstants.ACCOUNT_TYPES.EOA?this.socialProvider??"mail":"lightbulb"}
                background="fg-300"
              ></wui-icon-box>`:x$1`<wui-flex .padding="${["0","0","0","s"]}"></wui-flex>`}
          <wui-flex flexDirection="column">
            <wui-text class="address" variant="paragraph-500" color="fg-100"
              >${UiHelperUtil.getTruncateString({string:this.accountAddress,charsStart:4,charsEnd:6,truncate:"middle"})}</wui-text
            >
            <wui-text class="address-description" variant="small-400">${Mn}</wui-text></wui-flex
          >
        </wui-flex>
        <wui-flex gap="s" alignItems="center">
          <slot name="action"></slot>
          ${this.fetchingBalance?x$1`<wui-loading-spinner size="sm" color="accent-100"></wui-loading-spinner>`:x$1` <wui-text variant="small-400">$${this.balance.toFixed(2)}</wui-text>`}
        </wui-flex>
      </wui-flex>
    `}getLabel(){var io;let Mn=(io=this.labels)==null?void 0:io.get(this.accountAddress);return!Mn&&this.connectedConnector==="ID_AUTH"?Mn=`${this.accountType==="eoa"?this.socialProvider??"Email":"Smart"} Account`:!Mn&&this.connectedConnector==="INJECTED"||this.connectedConnector==="ANNOUNCED"?Mn="Injected Account":Mn||(Mn="EOA"),Mn}};WuiListAccount.styles=[resetStyles,elementStyles,styles$1g];__decorate$1S([n$c()],WuiListAccount.prototype,"accountAddress",void 0);__decorate$1S([n$c()],WuiListAccount.prototype,"accountType",void 0);__decorate$1S([n$c({type:Boolean})],WuiListAccount.prototype,"selected",void 0);__decorate$1S([n$c({type:Function})],WuiListAccount.prototype,"onSelect",void 0);WuiListAccount=__decorate$1S([customElement("wui-list-account")],WuiListAccount);const styles$1f=i$a`
  :host {
    position: relative;
  }

  button {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 48px;
    width: 100%;
    background-color: var(--wui-color-accent-glass-010);
    border-radius: var(--wui-border-radius-xs);
    border: 1px solid var(--wui-color-accent-glass-010);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  wui-tooltip {
    padding: 7px var(--wui-spacing-s) 8px var(--wui-spacing-s);
    position: absolute;
    top: -8px;
    left: 50%;
    transform: translate(-50%, -100%);
    opacity: 0;
    display: none;
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }
  }
`;var __decorate$1R=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiIconButton=class extends r$e{constructor(){super(...arguments),this.text="",this.icon="card"}render(){return x$1`<button>
      <wui-icon color="accent-100" name=${this.icon} size="lg"></wui-icon>
    </button>`}};WuiIconButton.styles=[resetStyles,elementStyles,styles$1f];__decorate$1R([n$c()],WuiIconButton.prototype,"text",void 0);__decorate$1R([n$c()],WuiIconButton.prototype,"icon",void 0);WuiIconButton=__decorate$1R([customElement("wui-icon-button")],WuiIconButton);const styles$1e=i$a`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 16.5px var(--wui-spacing-l) 16.5px var(--wui-spacing-xs);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
    justify-content: center;
    align-items: center;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }
`;var __decorate$1Q=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiListButton=class extends r$e{constructor(){super(...arguments),this.text="",this.disabled=!1,this.tabIdx=void 0}render(){return x$1`
      <button ?disabled=${this.disabled} tabindex=${o$a(this.tabIdx)} ontouchstart>
        <wui-text align="center" variant="paragraph-500" color="inherit">${this.text}</wui-text>
      </button>
    `}};WuiListButton.styles=[resetStyles,elementStyles,styles$1e];__decorate$1Q([n$c()],WuiListButton.prototype,"text",void 0);__decorate$1Q([n$c({type:Boolean})],WuiListButton.prototype,"disabled",void 0);__decorate$1Q([n$c()],WuiListButton.prototype,"tabIdx",void 0);WuiListButton=__decorate$1Q([customElement("wui-list-button")],WuiListButton);const styles$1d=i$a`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    justify-content: flex-start;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-text[data-align='left'] {
    display: flex;
    flex: 1;
  }

  wui-text[data-align='center'] {
    display: flex;
    flex: 1;
    justify-content: center;
  }

  .invisible {
    opacity: 0;
    pointer-events: none;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }
`;var __decorate$1P=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiListSocial=class extends r$e{constructor(){super(...arguments),this.logo="google",this.name="Continue with google",this.align="left",this.disabled=!1}render(){return x$1`
      <button ?disabled=${this.disabled} tabindex=${o$a(this.tabIdx)} ontouchstart>
        <wui-logo logo=${this.logo}></wui-logo>
        <wui-text
          data-align=${this.align}
          variant="paragraph-500"
          color="inherit"
          align=${this.align}
          >${this.name}</wui-text
        >
        ${this.templatePlacement()}
      </button>
    `}templatePlacement(){return this.align==="center"?x$1` <wui-logo class="invisible" logo=${this.logo}></wui-logo>`:null}};WuiListSocial.styles=[resetStyles,elementStyles,styles$1d];__decorate$1P([n$c()],WuiListSocial.prototype,"logo",void 0);__decorate$1P([n$c()],WuiListSocial.prototype,"name",void 0);__decorate$1P([n$c()],WuiListSocial.prototype,"align",void 0);__decorate$1P([n$c()],WuiListSocial.prototype,"tabIdx",void 0);__decorate$1P([n$c({type:Boolean})],WuiListSocial.prototype,"disabled",void 0);WuiListSocial=__decorate$1P([customElement("wui-list-social")],WuiListSocial);const styles$1c=i$a`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: var(--wui-spacing-xxs);
    gap: var(--wui-spacing-xxs);
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-md);
    border-radius: var(--wui-border-radius-xxs);
  }

  wui-image {
    border-radius: 100%;
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  wui-icon-box {
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  button:active {
    background-color: var(--wui-color-gray-glass-005);
  }
`;var __decorate$1O=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiSelect=class extends r$e{constructor(){super(...arguments),this.imageSrc=""}render(){return x$1`<button>
      ${this.imageTemplate()}
      <wui-icon size="xs" color="fg-200" name="chevronBottom"></wui-icon>
    </button>`}imageTemplate(){return this.imageSrc?x$1`<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`:x$1`<wui-icon-box
      size="xxs"
      iconColor="fg-200"
      backgroundColor="fg-100"
      background="opaque"
      icon="networkPlaceholder"
    ></wui-icon-box>`}};WuiSelect.styles=[resetStyles,elementStyles,colorStyles,styles$1c];__decorate$1O([n$c()],WuiSelect.prototype,"imageSrc",void 0);WuiSelect=__decorate$1O([customElement("wui-select")],WuiSelect);const styles$1b=i$a`
  label {
    display: flex;
    align-items: center;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    column-gap: var(--wui-spacing-1xs);
  }

  label > input[type='checkbox'] {
    height: 0;
    width: 0;
    opacity: 0;
    pointer-events: none;
    position: absolute;
  }

  label > span {
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
    min-width: var(--wui-spacing-xl);
    min-height: var(--wui-spacing-xl);
    border-radius: var(--wui-border-radius-3xs);
    border-width: 1px;
    border-style: solid;
    border-color: var(--wui-color-gray-glass-010);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-lg);
    will-change: background-color;
  }

  label > span:hover,
  label > input[type='checkbox']:focus-visible + span {
    background-color: var(--wui-color-gray-glass-010);
  }

  label input[type='checkbox']:checked + span {
    background-color: var(--wui-color-blue-base-90);
  }

  label > span > wui-icon {
    opacity: 0;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-lg);
    will-change: opacity;
  }

  label > input[type='checkbox']:checked + span wui-icon {
    opacity: 1;
  }
`;var __decorate$1N=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiCheckBox=class extends r$e{constructor(){super(...arguments),this.inputElementRef=e$8(),this.checked=void 0}render(){return x$1`
      <label>
        <input
          ${n$a(this.inputElementRef)}
          ?checked=${o$a(this.checked)}
          type="checkbox"
          @change=${this.dispatchChangeEvent}
        />
        <span>
          <wui-icon name="checkmarkBold" color="inverse-100" size="xxs"></wui-icon>
        </span>
        <slot></slot>
      </label>
    `}dispatchChangeEvent(){var Mn;this.dispatchEvent(new CustomEvent("checkboxChange",{detail:(Mn=this.inputElementRef.value)==null?void 0:Mn.checked,bubbles:!0,composed:!0}))}};WuiCheckBox.styles=[resetStyles,styles$1b];__decorate$1N([n$c({type:Boolean})],WuiCheckBox.prototype,"checked",void 0);WuiCheckBox=__decorate$1N([customElement("wui-checkbox")],WuiCheckBox);const styles$1a=i$a`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    width: 32px;
    height: 22px;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--wui-color-blue-100);
    border-width: 1px;
    border-style: solid;
    border-color: var(--wui-color-gray-glass-002);
    border-radius: 999px;
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color;
  }

  span:before {
    position: absolute;
    content: '';
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
    background-color: var(--wui-color-inverse-100);
    transition: transform var(--wui-ease-inout-power-1) var(--wui-duration-lg);
    will-change: transform;
    border-radius: 50%;
  }

  input:checked + span {
    border-color: var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-blue-100);
  }

  input:not(:checked) + span {
    background-color: var(--wui-color-gray-glass-010);
  }

  input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }
`;var __decorate$1M=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiSwitch=class extends r$e{constructor(){super(...arguments),this.inputElementRef=e$8(),this.checked=void 0}render(){return x$1`
      <label>
        <input
          ${n$a(this.inputElementRef)}
          type="checkbox"
          ?checked=${o$a(this.checked)}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `}dispatchChangeEvent(){var Mn;this.dispatchEvent(new CustomEvent("switchChange",{detail:(Mn=this.inputElementRef.value)==null?void 0:Mn.checked,bubbles:!0,composed:!0}))}};WuiSwitch.styles=[resetStyles,elementStyles,colorStyles,styles$1a];__decorate$1M([n$c({type:Boolean})],WuiSwitch.prototype,"checked",void 0);WuiSwitch=__decorate$1M([customElement("wui-switch")],WuiSwitch);const styles$19=i$a`
  :host {
    height: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: var(--wui-spacing-1xs);
    padding: var(--wui-spacing-xs) var(--wui-spacing-s);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`;var __decorate$1L=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiCertifiedSwitch=class extends r$e{constructor(){super(...arguments),this.checked=void 0}render(){return x$1`
      <button>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-switch ?checked=${o$a(this.checked)}></wui-switch>
      </button>
    `}};WuiCertifiedSwitch.styles=[resetStyles,elementStyles,styles$19];__decorate$1L([n$c({type:Boolean})],WuiCertifiedSwitch.prototype,"checked",void 0);WuiCertifiedSwitch=__decorate$1L([customElement("wui-certified-switch")],WuiCertifiedSwitch);const styles$18=i$a`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`;var __decorate$1K=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiGrid=class extends r$e{render(){return this.style.cssText=`
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&UiHelperUtil.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&UiHelperUtil.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&UiHelperUtil.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&UiHelperUtil.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&UiHelperUtil.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&UiHelperUtil.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&UiHelperUtil.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&UiHelperUtil.getSpacingStyles(this.margin,3)};
    `,x$1`<slot></slot>`}};WuiGrid.styles=[resetStyles,styles$18];__decorate$1K([n$c()],WuiGrid.prototype,"gridTemplateRows",void 0);__decorate$1K([n$c()],WuiGrid.prototype,"gridTemplateColumns",void 0);__decorate$1K([n$c()],WuiGrid.prototype,"justifyItems",void 0);__decorate$1K([n$c()],WuiGrid.prototype,"alignItems",void 0);__decorate$1K([n$c()],WuiGrid.prototype,"justifyContent",void 0);__decorate$1K([n$c()],WuiGrid.prototype,"alignContent",void 0);__decorate$1K([n$c()],WuiGrid.prototype,"columnGap",void 0);__decorate$1K([n$c()],WuiGrid.prototype,"rowGap",void 0);__decorate$1K([n$c()],WuiGrid.prototype,"gap",void 0);__decorate$1K([n$c()],WuiGrid.prototype,"padding",void 0);__decorate$1K([n$c()],WuiGrid.prototype,"margin",void 0);WuiGrid=__decorate$1K([customElement("wui-grid")],WuiGrid);const styles$17=i$a`
  :host {
    position: relative;
    display: flex;
    width: 100%;
    height: 1px;
    background-color: var(--wui-color-gray-glass-005);
    justify-content: center;
    align-items: center;
  }

  :host > wui-text {
    position: absolute;
    padding: 0px 10px;
    background-color: var(--wui-color-modal-bg);
  }
`;var __decorate$1J=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiSeparator=class extends r$e{constructor(){super(...arguments),this.text=""}render(){return x$1`${this.template()}`}template(){return this.text?x$1`<wui-text variant="small-500" color="fg-200">${this.text}</wui-text>`:null}};WuiSeparator.styles=[resetStyles,styles$17];__decorate$1J([n$c()],WuiSeparator.prototype,"text",void 0);WuiSeparator=__decorate$1J([customElement("wui-separator")],WuiSeparator);const MathUtil={interpolate(Fn,Mn,io){if(Fn.length!==2||Mn.length!==2)throw new Error("inputRange and outputRange must be an array of length 2");const fo=Fn[0]||0,mo=Fn[1]||0,$o=Mn[0]||0,Ao=Mn[1]||0;return io<fo?$o:io>mo?Ao:(Ao-$o)/(mo-fo)*(io-fo)+$o}},FLOAT_FIXED_VALUE=3,plusTypes=["receive","deposit","borrow","claim"],minusTypes=["withdraw","repay","burn"],TransactionUtil={getMonthName(Fn){const Mn=new Date;return Mn.setMonth(Fn),Mn.toLocaleString("en-US",{month:"long"})},getTransactionGroupTitle(Fn,Mn){const io=DateUtil.getYear(),fo=this.getMonthName(Mn);return Fn===io?fo:`${fo} ${Fn}`},getTransactionImages(Fn){const[Mn,io]=Fn,fo=!!Mn&&(Fn==null?void 0:Fn.every(Ao=>!!Ao.nft_info)),mo=(Fn==null?void 0:Fn.length)>1;return(Fn==null?void 0:Fn.length)===2&&!fo?[this.getTransactionImage(Mn),this.getTransactionImage(io)]:mo?Fn.map(Ao=>this.getTransactionImage(Ao)):[this.getTransactionImage(Mn)]},getTransactionImage(Fn){return{type:TransactionUtil.getTransactionTransferTokenType(Fn),url:TransactionUtil.getTransactionImageURL(Fn)}},getTransactionImageURL(Fn){var mo,$o,Ao,Lo,Wo;let Mn;const io=!!(Fn!=null&&Fn.nft_info),fo=!!(Fn!=null&&Fn.fungible_info);return Fn&&io?Mn=(Ao=($o=(mo=Fn==null?void 0:Fn.nft_info)==null?void 0:mo.content)==null?void 0:$o.preview)==null?void 0:Ao.url:Fn&&fo&&(Mn=(Wo=(Lo=Fn==null?void 0:Fn.fungible_info)==null?void 0:Lo.icon)==null?void 0:Wo.url),Mn},getTransactionTransferTokenType(Fn){if(Fn!=null&&Fn.fungible_info)return"FUNGIBLE";if(Fn!=null&&Fn.nft_info)return"NFT"},getTransactionDescriptions(Fn){var Vo,Go,Jo;const Mn=(Vo=Fn==null?void 0:Fn.metadata)==null?void 0:Vo.operationType,io=Fn==null?void 0:Fn.transfers,fo=((Go=Fn==null?void 0:Fn.transfers)==null?void 0:Go.length)>0,mo=((Jo=Fn==null?void 0:Fn.transfers)==null?void 0:Jo.length)>1,$o=fo&&(io==null?void 0:io.every(Qo=>!!(Qo!=null&&Qo.fungible_info))),[Ao,Lo]=io;let Wo=this.getTransferDescription(Ao),jo=this.getTransferDescription(Lo);if(!fo)return(Mn==="send"||Mn==="receive")&&$o?(Wo=UiHelperUtil.getTruncateString({string:Fn==null?void 0:Fn.metadata.sentFrom,charsStart:4,charsEnd:6,truncate:"middle"}),jo=UiHelperUtil.getTruncateString({string:Fn==null?void 0:Fn.metadata.sentTo,charsStart:4,charsEnd:6,truncate:"middle"}),[Wo,jo]):[Fn.metadata.status];if(mo)return io.map(Qo=>this.getTransferDescription(Qo));let zo="";return plusTypes.includes(Mn)?zo="+":minusTypes.includes(Mn)&&(zo="-"),Wo=zo.concat(Wo),[Wo]},getTransferDescription(Fn){var io;let Mn="";return Fn&&(Fn!=null&&Fn.nft_info?Mn=((io=Fn==null?void 0:Fn.nft_info)==null?void 0:io.name)||"-":Fn!=null&&Fn.fungible_info&&(Mn=this.getFungibleTransferDescription(Fn)||"-")),Mn},getFungibleTransferDescription(Fn){var fo;return Fn?[this.getQuantityFixedValue(Fn==null?void 0:Fn.quantity.numeric),(fo=Fn==null?void 0:Fn.fungible_info)==null?void 0:fo.symbol].join(" ").trim():null},getQuantityFixedValue(Fn){return Fn?parseFloat(Fn).toFixed(FLOAT_FIXED_VALUE):null}},ConstantsUtil$1={WALLET_CONNECT_CONNECTOR_ID:"walletConnect",INJECTED_CONNECTOR_ID:"injected",WALLET_STANDARD_CONNECTOR_ID:"announced",COINBASE_CONNECTOR_ID:"coinbaseWallet",COINBASE_SDK_CONNECTOR_ID:"coinbaseWalletSDK",SAFE_CONNECTOR_ID:"safe",LEDGER_CONNECTOR_ID:"ledger",EIP6963_CONNECTOR_ID:"eip6963",AUTH_CONNECTOR_ID:"ID_AUTH",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},PresetsUtil={ConnectorExplorerIds:{[ConstantsUtil$1.COINBASE_CONNECTOR_ID]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ConstantsUtil$1.COINBASE_SDK_CONNECTOR_ID]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[ConstantsUtil$1.SAFE_CONNECTOR_ID]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[ConstantsUtil$1.LEDGER_CONNECTOR_ID]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700"},ConnectorImageIds:{[ConstantsUtil$1.COINBASE_CONNECTOR_ID]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ConstantsUtil$1.COINBASE_SDK_CONNECTOR_ID]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[ConstantsUtil$1.SAFE_CONNECTOR_ID]:"461db637-8616-43ce-035a-d89b8a1d5800",[ConstantsUtil$1.LEDGER_CONNECTOR_ID]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[ConstantsUtil$1.WALLET_CONNECT_CONNECTOR_ID]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[ConstantsUtil$1.INJECTED_CONNECTOR_ID]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[ConstantsUtil$1.INJECTED_CONNECTOR_ID]:"Browser Wallet",[ConstantsUtil$1.WALLET_CONNECT_CONNECTOR_ID]:"WalletConnect",[ConstantsUtil$1.COINBASE_CONNECTOR_ID]:"Coinbase",[ConstantsUtil$1.COINBASE_SDK_CONNECTOR_ID]:"Coinbase",[ConstantsUtil$1.LEDGER_CONNECTOR_ID]:"Ledger",[ConstantsUtil$1.SAFE_CONNECTOR_ID]:"Safe"},ConnectorTypesMap:{[ConstantsUtil$1.INJECTED_CONNECTOR_ID]:"INJECTED",[ConstantsUtil$1.WALLET_CONNECT_CONNECTOR_ID]:"WALLET_CONNECT",[ConstantsUtil$1.EIP6963_CONNECTOR_ID]:"ANNOUNCED",[ConstantsUtil$1.AUTH_CONNECTOR_ID]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]},ErrorUtil={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${isSafe()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function isSafe(){return typeof window<"u"}const version$3="1.0.6";let BaseError$2=class c$ extends Error{constructor(Mn,io={}){var Ao;const fo=io.cause instanceof c$?io.cause.details:(Ao=io.cause)!=null&&Ao.message?io.cause.message:io.details,mo=io.cause instanceof c$&&io.cause.docsPath||io.docsPath,$o=[Mn||"An error occurred.","",...io.metaMessages?[...io.metaMessages,""]:[],...mo?[`Docs: https://abitype.dev${mo}`]:[],...fo?[`Details: ${fo}`]:[],`Version: abitype@${version$3}`].join(`
`);super($o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),io.cause&&(this.cause=io.cause),this.details=fo,this.docsPath=mo,this.metaMessages=io.metaMessages,this.shortMessage=Mn}};function execTyped(Fn,Mn){const io=Fn.exec(Mn);return io==null?void 0:io.groups}const bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,isTupleRegex=/^\(.+?\).*?$/,tupleRegex=/^tuple(?<array>(\[(\d*)\])*)$/;function formatAbiParameter(Fn){let Mn=Fn.type;if(tupleRegex.test(Fn.type)&&"components"in Fn){Mn="(";const io=Fn.components.length;for(let mo=0;mo<io;mo++){const $o=Fn.components[mo];Mn+=formatAbiParameter($o),mo<io-1&&(Mn+=", ")}const fo=execTyped(tupleRegex,Fn.type);return Mn+=`)${(fo==null?void 0:fo.array)??""}`,formatAbiParameter({...Fn,type:Mn})}return"indexed"in Fn&&Fn.indexed&&(Mn=`${Mn} indexed`),Fn.name?`${Mn} ${Fn.name}`:Mn}function formatAbiParameters(Fn){let Mn="";const io=Fn.length;for(let fo=0;fo<io;fo++){const mo=Fn[fo];Mn+=formatAbiParameter(mo),fo!==io-1&&(Mn+=", ")}return Mn}function formatAbiItem$1(Fn){return Fn.type==="function"?`function ${Fn.name}(${formatAbiParameters(Fn.inputs)})${Fn.stateMutability&&Fn.stateMutability!=="nonpayable"?` ${Fn.stateMutability}`:""}${Fn.outputs.length?` returns (${formatAbiParameters(Fn.outputs)})`:""}`:Fn.type==="event"?`event ${Fn.name}(${formatAbiParameters(Fn.inputs)})`:Fn.type==="error"?`error ${Fn.name}(${formatAbiParameters(Fn.inputs)})`:Fn.type==="constructor"?`constructor(${formatAbiParameters(Fn.inputs)})${Fn.stateMutability==="payable"?" payable":""}`:Fn.type==="fallback"?"fallback()":"receive() external payable"}const errorSignatureRegex=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isErrorSignature(Fn){return errorSignatureRegex.test(Fn)}function execErrorSignature(Fn){return execTyped(errorSignatureRegex,Fn)}const eventSignatureRegex=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isEventSignature(Fn){return eventSignatureRegex.test(Fn)}function execEventSignature(Fn){return execTyped(eventSignatureRegex,Fn)}const functionSignatureRegex=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function isFunctionSignature(Fn){return functionSignatureRegex.test(Fn)}function execFunctionSignature(Fn){return execTyped(functionSignatureRegex,Fn)}const structSignatureRegex=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function isStructSignature(Fn){return structSignatureRegex.test(Fn)}function execStructSignature(Fn){return execTyped(structSignatureRegex,Fn)}const constructorSignatureRegex=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function isConstructorSignature(Fn){return constructorSignatureRegex.test(Fn)}function execConstructorSignature(Fn){return execTyped(constructorSignatureRegex,Fn)}const fallbackSignatureRegex=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function isFallbackSignature(Fn){return fallbackSignatureRegex.test(Fn)}const receiveSignatureRegex=/^receive\(\) external payable$/;function isReceiveSignature(Fn){return receiveSignatureRegex.test(Fn)}const eventModifiers=new Set(["indexed"]),functionModifiers=new Set(["calldata","memory","storage"]);class UnknownTypeError extends BaseError$2{constructor({type:Mn}){super("Unknown type.",{metaMessages:[`Type "${Mn}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class UnknownSolidityTypeError extends BaseError$2{constructor({type:Mn}){super("Unknown type.",{metaMessages:[`Type "${Mn}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class InvalidParameterError extends BaseError$2{constructor({param:Mn}){super("Invalid ABI parameter.",{details:Mn}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class SolidityProtectedKeywordError extends BaseError$2{constructor({param:Mn,name:io}){super("Invalid ABI parameter.",{details:Mn,metaMessages:[`"${io}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class InvalidModifierError extends BaseError$2{constructor({param:Mn,type:io,modifier:fo}){super("Invalid ABI parameter.",{details:Mn,metaMessages:[`Modifier "${fo}" not allowed${io?` in "${io}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class InvalidFunctionModifierError extends BaseError$2{constructor({param:Mn,type:io,modifier:fo}){super("Invalid ABI parameter.",{details:Mn,metaMessages:[`Modifier "${fo}" not allowed${io?` in "${io}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${fo}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class InvalidAbiTypeParameterError extends BaseError$2{constructor({abiParameter:Mn}){super("Invalid ABI parameter.",{details:JSON.stringify(Mn,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class InvalidSignatureError extends BaseError$2{constructor({signature:Mn,type:io}){super(`Invalid ${io} signature.`,{details:Mn}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class UnknownSignatureError extends BaseError$2{constructor({signature:Mn}){super("Unknown signature.",{details:Mn}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class InvalidStructSignatureError extends BaseError$2{constructor({signature:Mn}){super("Invalid struct signature.",{details:Mn,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class CircularReferenceError extends BaseError$2{constructor({type:Mn}){super("Circular reference detected.",{metaMessages:[`Struct "${Mn}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class InvalidParenthesisError extends BaseError$2{constructor({current:Mn,depth:io}){super("Unbalanced parentheses.",{metaMessages:[`"${Mn.trim()}" has too many ${io>0?"opening":"closing"} parentheses.`],details:`Depth "${io}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function getParameterCacheKey(Fn,Mn){return Mn?`${Mn}:${Fn}`:Fn}const parameterCache=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function parseSignature(Fn,Mn={}){if(isFunctionSignature(Fn)){const io=execFunctionSignature(Fn);if(!io)throw new InvalidSignatureError({signature:Fn,type:"function"});const fo=splitParameters(io.parameters),mo=[],$o=fo.length;for(let Lo=0;Lo<$o;Lo++)mo.push(parseAbiParameter(fo[Lo],{modifiers:functionModifiers,structs:Mn,type:"function"}));const Ao=[];if(io.returns){const Lo=splitParameters(io.returns),Wo=Lo.length;for(let jo=0;jo<Wo;jo++)Ao.push(parseAbiParameter(Lo[jo],{modifiers:functionModifiers,structs:Mn,type:"function"}))}return{name:io.name,type:"function",stateMutability:io.stateMutability??"nonpayable",inputs:mo,outputs:Ao}}if(isEventSignature(Fn)){const io=execEventSignature(Fn);if(!io)throw new InvalidSignatureError({signature:Fn,type:"event"});const fo=splitParameters(io.parameters),mo=[],$o=fo.length;for(let Ao=0;Ao<$o;Ao++)mo.push(parseAbiParameter(fo[Ao],{modifiers:eventModifiers,structs:Mn,type:"event"}));return{name:io.name,type:"event",inputs:mo}}if(isErrorSignature(Fn)){const io=execErrorSignature(Fn);if(!io)throw new InvalidSignatureError({signature:Fn,type:"error"});const fo=splitParameters(io.parameters),mo=[],$o=fo.length;for(let Ao=0;Ao<$o;Ao++)mo.push(parseAbiParameter(fo[Ao],{structs:Mn,type:"error"}));return{name:io.name,type:"error",inputs:mo}}if(isConstructorSignature(Fn)){const io=execConstructorSignature(Fn);if(!io)throw new InvalidSignatureError({signature:Fn,type:"constructor"});const fo=splitParameters(io.parameters),mo=[],$o=fo.length;for(let Ao=0;Ao<$o;Ao++)mo.push(parseAbiParameter(fo[Ao],{structs:Mn,type:"constructor"}));return{type:"constructor",stateMutability:io.stateMutability??"nonpayable",inputs:mo}}if(isFallbackSignature(Fn))return{type:"fallback"};if(isReceiveSignature(Fn))return{type:"receive",stateMutability:"payable"};throw new UnknownSignatureError({signature:Fn})}const abiParameterWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,abiParameterWithTupleRegex=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,dynamicIntegerRegex=/^u?int$/;function parseAbiParameter(Fn,Mn){var Vo,Go;const io=getParameterCacheKey(Fn,Mn==null?void 0:Mn.type);if(parameterCache.has(io))return parameterCache.get(io);const fo=isTupleRegex.test(Fn),mo=execTyped(fo?abiParameterWithTupleRegex:abiParameterWithoutTupleRegex,Fn);if(!mo)throw new InvalidParameterError({param:Fn});if(mo.name&&isSolidityKeyword(mo.name))throw new SolidityProtectedKeywordError({param:Fn,name:mo.name});const $o=mo.name?{name:mo.name}:{},Ao=mo.modifier==="indexed"?{indexed:!0}:{},Lo=(Mn==null?void 0:Mn.structs)??{};let Wo,jo={};if(fo){Wo="tuple";const Jo=splitParameters(mo.type),Qo=[],os=Jo.length;for(let Cl=0;Cl<os;Cl++)Qo.push(parseAbiParameter(Jo[Cl],{structs:Lo}));jo={components:Qo}}else if(mo.type in Lo)Wo="tuple",jo={components:Lo[mo.type]};else if(dynamicIntegerRegex.test(mo.type))Wo=`${mo.type}256`;else if(Wo=mo.type,(Mn==null?void 0:Mn.type)!=="struct"&&!isSolidityType(Wo))throw new UnknownSolidityTypeError({type:Wo});if(mo.modifier){if(!((Go=(Vo=Mn==null?void 0:Mn.modifiers)==null?void 0:Vo.has)!=null&&Go.call(Vo,mo.modifier)))throw new InvalidModifierError({param:Fn,type:Mn==null?void 0:Mn.type,modifier:mo.modifier});if(functionModifiers.has(mo.modifier)&&!isValidDataLocation(Wo,!!mo.array))throw new InvalidFunctionModifierError({param:Fn,type:Mn==null?void 0:Mn.type,modifier:mo.modifier})}const zo={type:`${Wo}${mo.array??""}`,...$o,...Ao,...jo};return parameterCache.set(io,zo),zo}function splitParameters(Fn,Mn=[],io="",fo=0){const mo=Fn.trim().length;for(let $o=0;$o<mo;$o++){const Ao=Fn[$o],Lo=Fn.slice($o+1);switch(Ao){case",":return fo===0?splitParameters(Lo,[...Mn,io.trim()]):splitParameters(Lo,Mn,`${io}${Ao}`,fo);case"(":return splitParameters(Lo,Mn,`${io}${Ao}`,fo+1);case")":return splitParameters(Lo,Mn,`${io}${Ao}`,fo-1);default:return splitParameters(Lo,Mn,`${io}${Ao}`,fo)}}if(io==="")return Mn;if(fo!==0)throw new InvalidParenthesisError({current:io,depth:fo});return Mn.push(io.trim()),Mn}function isSolidityType(Fn){return Fn==="address"||Fn==="bool"||Fn==="function"||Fn==="string"||bytesRegex.test(Fn)||integerRegex.test(Fn)}const protectedKeywordsRegex=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function isSolidityKeyword(Fn){return Fn==="address"||Fn==="bool"||Fn==="function"||Fn==="string"||Fn==="tuple"||bytesRegex.test(Fn)||integerRegex.test(Fn)||protectedKeywordsRegex.test(Fn)}function isValidDataLocation(Fn,Mn){return Mn||Fn==="bytes"||Fn==="string"||Fn==="tuple"}function parseStructs(Fn){const Mn={},io=Fn.length;for(let Ao=0;Ao<io;Ao++){const Lo=Fn[Ao];if(!isStructSignature(Lo))continue;const Wo=execStructSignature(Lo);if(!Wo)throw new InvalidSignatureError({signature:Lo,type:"struct"});const jo=Wo.properties.split(";"),zo=[],Vo=jo.length;for(let Go=0;Go<Vo;Go++){const Qo=jo[Go].trim();if(!Qo)continue;const os=parseAbiParameter(Qo,{type:"struct"});zo.push(os)}if(!zo.length)throw new InvalidStructSignatureError({signature:Lo});Mn[Wo.name]=zo}const fo={},mo=Object.entries(Mn),$o=mo.length;for(let Ao=0;Ao<$o;Ao++){const[Lo,Wo]=mo[Ao];fo[Lo]=resolveStructs(Wo,Mn)}return fo}const typeWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function resolveStructs(Fn,Mn,io=new Set){const fo=[],mo=Fn.length;for(let $o=0;$o<mo;$o++){const Ao=Fn[$o];if(isTupleRegex.test(Ao.type))fo.push(Ao);else{const Wo=execTyped(typeWithoutTupleRegex,Ao.type);if(!(Wo!=null&&Wo.type))throw new InvalidAbiTypeParameterError({abiParameter:Ao});const{array:jo,type:zo}=Wo;if(zo in Mn){if(io.has(zo))throw new CircularReferenceError({type:zo});fo.push({...Ao,type:`tuple${jo??""}`,components:resolveStructs(Mn[zo]??[],Mn,new Set([...io,zo]))})}else if(isSolidityType(zo))fo.push(Ao);else throw new UnknownTypeError({type:zo})}}return fo}function parseAbi(Fn){const Mn=parseStructs(Fn),io=[],fo=Fn.length;for(let mo=0;mo<fo;mo++){const $o=Fn[mo];isStructSignature($o)||io.push(parseSignature($o,Mn))}return io}function getAction$1(Fn,Mn,io){const fo=Fn[Mn.name];if(typeof fo=="function")return fo;const mo=Fn[io];return typeof mo=="function"?mo:$o=>Mn(Fn,$o)}function formatAbiItem(Fn,{includeName:Mn=!1}={}){if(Fn.type!=="function"&&Fn.type!=="event"&&Fn.type!=="error")throw new InvalidDefinitionTypeError(Fn.type);return`${Fn.name}(${formatAbiParams(Fn.inputs,{includeName:Mn})})`}function formatAbiParams(Fn,{includeName:Mn=!1}={}){return Fn?Fn.map(io=>formatAbiParam(io,{includeName:Mn})).join(Mn?", ":","):""}function formatAbiParam(Fn,{includeName:Mn}){return Fn.type.startsWith("tuple")?`(${formatAbiParams(Fn.components,{includeName:Mn})})${Fn.type.slice(5)}`:Fn.type+(Mn&&Fn.name?` ${Fn.name}`:"")}function isHex(Fn,{strict:Mn=!0}={}){return!Fn||typeof Fn!="string"?!1:Mn?/^0x[0-9a-fA-F]*$/.test(Fn):Fn.startsWith("0x")}function size$6(Fn){return isHex(Fn,{strict:!1})?Math.ceil((Fn.length-2)/2):Fn.length}const version$2="2.21.50";let errorConfig={getDocsUrl:({docsBaseUrl:Fn,docsPath:Mn="",docsSlug:io})=>Mn?`${Fn??"https://viem.sh"}${Mn}${io?`#${io}`:""}`:void 0,version:`viem@${version$2}`};class BaseError extends Error{constructor(Mn,io={}){var Lo;const fo=(()=>{var Wo;return io.cause instanceof BaseError?io.cause.details:(Wo=io.cause)!=null&&Wo.message?io.cause.message:io.details})(),mo=io.cause instanceof BaseError&&io.cause.docsPath||io.docsPath,$o=(Lo=errorConfig.getDocsUrl)==null?void 0:Lo.call(errorConfig,{...io,docsPath:mo}),Ao=[Mn||"An error occurred.","",...io.metaMessages?[...io.metaMessages,""]:[],...$o?[`Docs: ${$o}`]:[],...fo?[`Details: ${fo}`]:[],...errorConfig.version?[`Version: ${errorConfig.version}`]:[]].join(`
`);super(Ao,io.cause?{cause:io.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=fo,this.docsPath=mo,this.metaMessages=io.metaMessages,this.name=io.name??this.name,this.shortMessage=Mn,this.version=version$2}walk(Mn){return walk(this,Mn)}}function walk(Fn,Mn){return Mn!=null&&Mn(Fn)?Fn:Fn&&typeof Fn=="object"&&"cause"in Fn&&Fn.cause!==void 0?walk(Fn.cause,Mn):Mn?null:Fn}class AbiConstructorNotFoundError extends BaseError{constructor({docsPath:Mn}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:Mn,name:"AbiConstructorNotFoundError"})}}class AbiConstructorParamsNotFoundError extends BaseError{constructor({docsPath:Mn}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:Mn,name:"AbiConstructorParamsNotFoundError"})}}class AbiDecodingDataSizeTooSmallError extends BaseError{constructor({data:Mn,params:io,size:fo}){super([`Data size of ${fo} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(io,{includeName:!0})})`,`Data:   ${Mn} (${fo} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=Mn,this.params=io,this.size=fo}}class AbiDecodingZeroDataError extends BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class AbiEncodingArrayLengthMismatchError extends BaseError{constructor({expectedLength:Mn,givenLength:io,type:fo}){super([`ABI encoding array length mismatch for type ${fo}.`,`Expected length: ${Mn}`,`Given length: ${io}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class AbiEncodingBytesSizeMismatchError extends BaseError{constructor({expectedSize:Mn,value:io}){super(`Size of bytes "${io}" (bytes${size$6(io)}) does not match expected size (bytes${Mn}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class AbiEncodingLengthMismatchError extends BaseError{constructor({expectedLength:Mn,givenLength:io}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${Mn}`,`Given length (values): ${io}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class AbiErrorSignatureNotFoundError extends BaseError{constructor(Mn,{docsPath:io}){super([`Encoded error signature "${Mn}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${Mn}.`].join(`
`),{docsPath:io,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=Mn}}class AbiEventSignatureEmptyTopicsError extends BaseError{constructor({docsPath:Mn}){super("Cannot extract event signature from empty topics.",{docsPath:Mn,name:"AbiEventSignatureEmptyTopicsError"})}}class AbiEventSignatureNotFoundError extends BaseError{constructor(Mn,{docsPath:io}){super([`Encoded event signature "${Mn}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${Mn}.`].join(`
`),{docsPath:io,name:"AbiEventSignatureNotFoundError"})}}class AbiEventNotFoundError extends BaseError{constructor(Mn,{docsPath:io}={}){super([`Event ${Mn?`"${Mn}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:io,name:"AbiEventNotFoundError"})}}class AbiFunctionNotFoundError extends BaseError{constructor(Mn,{docsPath:io}={}){super([`Function ${Mn?`"${Mn}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:io,name:"AbiFunctionNotFoundError"})}}class AbiFunctionOutputsNotFoundError extends BaseError{constructor(Mn,{docsPath:io}){super([`Function "${Mn}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:io,name:"AbiFunctionOutputsNotFoundError"})}}class AbiItemAmbiguityError extends BaseError{constructor(Mn,io){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${Mn.type}\` in \`${formatAbiItem(Mn.abiItem)}\`, and`,`\`${io.type}\` in \`${formatAbiItem(io.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class BytesSizeMismatchError extends BaseError{constructor({expectedSize:Mn,givenSize:io}){super(`Expected bytes${Mn}, got bytes${io}.`,{name:"BytesSizeMismatchError"})}}class DecodeLogDataMismatch extends BaseError{constructor({abiItem:Mn,data:io,params:fo,size:mo}){super([`Data size of ${mo} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(fo,{includeName:!0})})`,`Data:   ${io} (${mo} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=Mn,this.data=io,this.params=fo,this.size=mo}}class DecodeLogTopicsMismatch extends BaseError{constructor({abiItem:Mn,param:io}){super([`Expected a topic for indexed event parameter${io.name?` "${io.name}"`:""} on event "${formatAbiItem(Mn,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=Mn}}class InvalidAbiEncodingTypeError extends BaseError{constructor(Mn,{docsPath:io}){super([`Type "${Mn}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:io,name:"InvalidAbiEncodingType"})}}class InvalidAbiDecodingTypeError extends BaseError{constructor(Mn,{docsPath:io}){super([`Type "${Mn}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:io,name:"InvalidAbiDecodingType"})}}class InvalidArrayError extends BaseError{constructor(Mn){super([`Value "${Mn}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class InvalidDefinitionTypeError extends BaseError{constructor(Mn){super([`"${Mn}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class SliceOffsetOutOfBoundsError extends BaseError{constructor({offset:Mn,position:io,size:fo}){super(`Slice ${io==="start"?"starting":"ending"} at offset "${Mn}" is out-of-bounds (size: ${fo}).`,{name:"SliceOffsetOutOfBoundsError"})}}class SizeExceedsPaddingSizeError extends BaseError{constructor({size:Mn,targetSize:io,type:fo}){super(`${fo.charAt(0).toUpperCase()}${fo.slice(1).toLowerCase()} size (${Mn}) exceeds padding size (${io}).`,{name:"SizeExceedsPaddingSizeError"})}}class InvalidBytesLengthError extends BaseError{constructor({size:Mn,targetSize:io,type:fo}){super(`${fo.charAt(0).toUpperCase()}${fo.slice(1).toLowerCase()} is expected to be ${io} ${fo} long, but is ${Mn} ${fo} long.`,{name:"InvalidBytesLengthError"})}}function pad$1(Fn,{dir:Mn,size:io=32}={}){return typeof Fn=="string"?padHex(Fn,{dir:Mn,size:io}):padBytes(Fn,{dir:Mn,size:io})}function padHex(Fn,{dir:Mn,size:io=32}={}){if(io===null)return Fn;const fo=Fn.replace("0x","");if(fo.length>io*2)throw new SizeExceedsPaddingSizeError({size:Math.ceil(fo.length/2),targetSize:io,type:"hex"});return`0x${fo[Mn==="right"?"padEnd":"padStart"](io*2,"0")}`}function padBytes(Fn,{dir:Mn,size:io=32}={}){if(io===null)return Fn;if(Fn.length>io)throw new SizeExceedsPaddingSizeError({size:Fn.length,targetSize:io,type:"bytes"});const fo=new Uint8Array(io);for(let mo=0;mo<io;mo++){const $o=Mn==="right";fo[$o?mo:io-mo-1]=Fn[$o?mo:Fn.length-mo-1]}return fo}class IntegerOutOfRangeError extends BaseError{constructor({max:Mn,min:io,signed:fo,size:mo,value:$o}){super(`Number "${$o}" is not in safe ${mo?`${mo*8}-bit ${fo?"signed":"unsigned"} `:""}integer range ${Mn?`(${io} to ${Mn})`:`(above ${io})`}`,{name:"IntegerOutOfRangeError"})}}class InvalidBytesBooleanError extends BaseError{constructor(Mn){super(`Bytes value "${Mn}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class InvalidHexBooleanError extends BaseError{constructor(Mn){super(`Hex value "${Mn}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}class SizeOverflowError extends BaseError{constructor({givenSize:Mn,maxSize:io}){super(`Size cannot exceed ${io} bytes. Given size: ${Mn} bytes.`,{name:"SizeOverflowError"})}}function trim(Fn,{dir:Mn="left"}={}){let io=typeof Fn=="string"?Fn.replace("0x",""):Fn,fo=0;for(let mo=0;mo<io.length-1&&io[Mn==="left"?mo:io.length-mo-1].toString()==="0";mo++)fo++;return io=Mn==="left"?io.slice(fo):io.slice(0,io.length-fo),typeof Fn=="string"?(io.length===1&&Mn==="right"&&(io=`${io}0`),`0x${io.length%2===1?`0${io}`:io}`):io}function assertSize(Fn,{size:Mn}){if(size$6(Fn)>Mn)throw new SizeOverflowError({givenSize:size$6(Fn),maxSize:Mn})}function hexToBigInt(Fn,Mn={}){const{signed:io}=Mn;Mn.size&&assertSize(Fn,{size:Mn.size});const fo=BigInt(Fn);if(!io)return fo;const mo=(Fn.length-2)/2,$o=(1n<<BigInt(mo)*8n-1n)-1n;return fo<=$o?fo:fo-BigInt(`0x${"f".padStart(mo*2,"f")}`)-1n}function hexToBool(Fn,Mn={}){let io=Fn;if(Mn.size&&(assertSize(io,{size:Mn.size}),io=trim(io)),trim(io)==="0x00")return!1;if(trim(io)==="0x01")return!0;throw new InvalidHexBooleanError(io)}function hexToNumber(Fn,Mn={}){return Number(hexToBigInt(Fn,Mn))}function hexToString(Fn,Mn={}){let io=hexToBytes$1(Fn);return Mn.size&&(assertSize(io,{size:Mn.size}),io=trim(io,{dir:"right"})),new TextDecoder().decode(io)}const hexes$2=Array.from({length:256},(Fn,Mn)=>Mn.toString(16).padStart(2,"0"));function toHex(Fn,Mn={}){return typeof Fn=="number"||typeof Fn=="bigint"?numberToHex(Fn,Mn):typeof Fn=="string"?stringToHex(Fn,Mn):typeof Fn=="boolean"?boolToHex(Fn,Mn):bytesToHex$2(Fn,Mn)}function boolToHex(Fn,Mn={}){const io=`0x${Number(Fn)}`;return typeof Mn.size=="number"?(assertSize(io,{size:Mn.size}),pad$1(io,{size:Mn.size})):io}function bytesToHex$2(Fn,Mn={}){let io="";for(let mo=0;mo<Fn.length;mo++)io+=hexes$2[Fn[mo]];const fo=`0x${io}`;return typeof Mn.size=="number"?(assertSize(fo,{size:Mn.size}),pad$1(fo,{dir:"right",size:Mn.size})):fo}function numberToHex(Fn,Mn={}){const{signed:io,size:fo}=Mn,mo=BigInt(Fn);let $o;fo?io?$o=(1n<<BigInt(fo)*8n-1n)-1n:$o=2n**(BigInt(fo)*8n)-1n:typeof Fn=="number"&&($o=BigInt(Number.MAX_SAFE_INTEGER));const Ao=typeof $o=="bigint"&&io?-$o-1n:0;if($o&&mo>$o||mo<Ao){const Wo=typeof Fn=="bigint"?"n":"";throw new IntegerOutOfRangeError({max:$o?`${$o}${Wo}`:void 0,min:`${Ao}${Wo}`,signed:io,size:fo,value:`${Fn}${Wo}`})}const Lo=`0x${(io&&mo<0?(1n<<BigInt(fo*8))+BigInt(mo):mo).toString(16)}`;return fo?pad$1(Lo,{size:fo}):Lo}const encoder$2=new TextEncoder;function stringToHex(Fn,Mn={}){const io=encoder$2.encode(Fn);return bytesToHex$2(io,Mn)}const encoder$1=new TextEncoder;function toBytes$4(Fn,Mn={}){return typeof Fn=="number"||typeof Fn=="bigint"?numberToBytes(Fn,Mn):typeof Fn=="boolean"?boolToBytes(Fn,Mn):isHex(Fn)?hexToBytes$1(Fn,Mn):stringToBytes(Fn,Mn)}function boolToBytes(Fn,Mn={}){const io=new Uint8Array(1);return io[0]=Number(Fn),typeof Mn.size=="number"?(assertSize(io,{size:Mn.size}),pad$1(io,{size:Mn.size})):io}const charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16(Fn){if(Fn>=charCodeMap.zero&&Fn<=charCodeMap.nine)return Fn-charCodeMap.zero;if(Fn>=charCodeMap.A&&Fn<=charCodeMap.F)return Fn-(charCodeMap.A-10);if(Fn>=charCodeMap.a&&Fn<=charCodeMap.f)return Fn-(charCodeMap.a-10)}function hexToBytes$1(Fn,Mn={}){let io=Fn;Mn.size&&(assertSize(io,{size:Mn.size}),io=pad$1(io,{dir:"right",size:Mn.size}));let fo=io.slice(2);fo.length%2&&(fo=`0${fo}`);const mo=fo.length/2,$o=new Uint8Array(mo);for(let Ao=0,Lo=0;Ao<mo;Ao++){const Wo=charCodeToBase16(fo.charCodeAt(Lo++)),jo=charCodeToBase16(fo.charCodeAt(Lo++));if(Wo===void 0||jo===void 0)throw new BaseError(`Invalid byte sequence ("${fo[Lo-2]}${fo[Lo-1]}" in "${fo}").`);$o[Ao]=Wo*16+jo}return $o}function numberToBytes(Fn,Mn){const io=numberToHex(Fn,Mn);return hexToBytes$1(io)}function stringToBytes(Fn,Mn={}){const io=encoder$1.encode(Fn);return typeof Mn.size=="number"?(assertSize(io,{size:Mn.size}),pad$1(io,{dir:"right",size:Mn.size})):io}function number$1(Fn){if(!Number.isSafeInteger(Fn)||Fn<0)throw new Error(`positive integer expected, not ${Fn}`)}function isBytes$1(Fn){return Fn instanceof Uint8Array||Fn!=null&&typeof Fn=="object"&&Fn.constructor.name==="Uint8Array"}function bytes$1(Fn,...Mn){if(!isBytes$1(Fn))throw new Error("Uint8Array expected");if(Mn.length>0&&!Mn.includes(Fn.length))throw new Error(`Uint8Array expected of length ${Mn}, not of length=${Fn.length}`)}function hash$1(Fn){if(typeof Fn!="function"||typeof Fn.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(Fn.outputLen),number$1(Fn.blockLen)}function exists(Fn,Mn=!0){if(Fn.destroyed)throw new Error("Hash instance has been destroyed");if(Mn&&Fn.finished)throw new Error("Hash#digest() has already been called")}function output(Fn,Mn){bytes$1(Fn);const io=Mn.outputLen;if(Fn.length<io)throw new Error(`digestInto() expects output buffer of length at least ${io}`)}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(Fn,Mn=!1){return Mn?{h:Number(Fn&U32_MASK64),l:Number(Fn>>_32n&U32_MASK64)}:{h:Number(Fn>>_32n&U32_MASK64)|0,l:Number(Fn&U32_MASK64)|0}}function split$3(Fn,Mn=!1){let io=new Uint32Array(Fn.length),fo=new Uint32Array(Fn.length);for(let mo=0;mo<Fn.length;mo++){const{h:$o,l:Ao}=fromBig(Fn[mo],Mn);[io[mo],fo[mo]]=[$o,Ao]}return[io,fo]}const rotlSH=(Fn,Mn,io)=>Fn<<io|Mn>>>32-io,rotlSL=(Fn,Mn,io)=>Mn<<io|Fn>>>32-io,rotlBH=(Fn,Mn,io)=>Mn<<io-32|Fn>>>64-io,rotlBL=(Fn,Mn,io)=>Fn<<io-32|Mn>>>64-io,crypto$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u32=Fn=>new Uint32Array(Fn.buffer,Fn.byteOffset,Math.floor(Fn.byteLength/4)),createView=Fn=>new DataView(Fn.buffer,Fn.byteOffset,Fn.byteLength),rotr=(Fn,Mn)=>Fn<<32-Mn|Fn>>>Mn,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,byteSwap=Fn=>Fn<<24&4278190080|Fn<<8&16711680|Fn>>>8&65280|Fn>>>24&255;function byteSwap32(Fn){for(let Mn=0;Mn<Fn.length;Mn++)Fn[Mn]=byteSwap(Fn[Mn])}const hexes$1=Array.from({length:256},(Fn,Mn)=>Mn.toString(16).padStart(2,"0"));function bytesToHex$1(Fn){bytes$1(Fn);let Mn="";for(let io=0;io<Fn.length;io++)Mn+=hexes$1[Fn[io]];return Mn}function utf8ToBytes$1(Fn){if(typeof Fn!="string")throw new Error(`utf8ToBytes expected string, got ${typeof Fn}`);return new Uint8Array(new TextEncoder().encode(Fn))}function toBytes$3(Fn){return typeof Fn=="string"&&(Fn=utf8ToBytes$1(Fn)),bytes$1(Fn),Fn}function concatBytes$2(...Fn){let Mn=0;for(let fo=0;fo<Fn.length;fo++){const mo=Fn[fo];bytes$1(mo),Mn+=mo.length}const io=new Uint8Array(Mn);for(let fo=0,mo=0;fo<Fn.length;fo++){const $o=Fn[fo];io.set($o,mo),mo+=$o.length}return io}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(Fn){const Mn=fo=>Fn().update(toBytes$3(fo)).digest(),io=Fn();return Mn.outputLen=io.outputLen,Mn.blockLen=io.blockLen,Mn.create=()=>Fn(),Mn}function wrapXOFConstructorWithOpts(Fn){const Mn=(fo,mo)=>Fn(mo).update(toBytes$3(fo)).digest(),io=Fn({});return Mn.outputLen=io.outputLen,Mn.blockLen=io.blockLen,Mn.create=fo=>Fn(fo),Mn}function randomBytes(Fn=32){if(crypto$2&&typeof crypto$2.getRandomValues=="function")return crypto$2.getRandomValues(new Uint8Array(Fn));if(crypto$2&&typeof crypto$2.randomBytes=="function")return crypto$2.randomBytes(Fn);throw new Error("crypto.getRandomValues must be defined")}const SHA3_PI=[],SHA3_ROTL=[],_SHA3_IOTA=[],_0n$1=BigInt(0),_1n$1=BigInt(1),_2n$1=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let Fn=0,Mn=_1n$1,io=1,fo=0;Fn<24;Fn++){[io,fo]=[fo,(2*io+3*fo)%5],SHA3_PI.push(2*(5*fo+io)),SHA3_ROTL.push((Fn+1)*(Fn+2)/2%64);let mo=_0n$1;for(let $o=0;$o<7;$o++)Mn=(Mn<<_1n$1^(Mn>>_7n)*_0x71n)%_256n,Mn&_2n$1&&(mo^=_1n$1<<(_1n$1<<BigInt($o))-_1n$1);_SHA3_IOTA.push(mo)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split$3(_SHA3_IOTA,!0),rotlH=(Fn,Mn,io)=>io>32?rotlBH(Fn,Mn,io):rotlSH(Fn,Mn,io),rotlL=(Fn,Mn,io)=>io>32?rotlBL(Fn,Mn,io):rotlSL(Fn,Mn,io);function keccakP(Fn,Mn=24){const io=new Uint32Array(10);for(let fo=24-Mn;fo<24;fo++){for(let Ao=0;Ao<10;Ao++)io[Ao]=Fn[Ao]^Fn[Ao+10]^Fn[Ao+20]^Fn[Ao+30]^Fn[Ao+40];for(let Ao=0;Ao<10;Ao+=2){const Lo=(Ao+8)%10,Wo=(Ao+2)%10,jo=io[Wo],zo=io[Wo+1],Vo=rotlH(jo,zo,1)^io[Lo],Go=rotlL(jo,zo,1)^io[Lo+1];for(let Jo=0;Jo<50;Jo+=10)Fn[Ao+Jo]^=Vo,Fn[Ao+Jo+1]^=Go}let mo=Fn[2],$o=Fn[3];for(let Ao=0;Ao<24;Ao++){const Lo=SHA3_ROTL[Ao],Wo=rotlH(mo,$o,Lo),jo=rotlL(mo,$o,Lo),zo=SHA3_PI[Ao];mo=Fn[zo],$o=Fn[zo+1],Fn[zo]=Wo,Fn[zo+1]=jo}for(let Ao=0;Ao<50;Ao+=10){for(let Lo=0;Lo<10;Lo++)io[Lo]=Fn[Ao+Lo];for(let Lo=0;Lo<10;Lo++)Fn[Ao+Lo]^=~io[(Lo+2)%10]&io[(Lo+4)%10]}Fn[0]^=SHA3_IOTA_H[fo],Fn[1]^=SHA3_IOTA_L[fo]}io.fill(0)}class Keccak extends Hash{constructor(Mn,io,fo,mo=!1,$o=24){if(super(),this.blockLen=Mn,this.suffix=io,this.outputLen=fo,this.enableXOF=mo,this.rounds=$o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number$1(fo),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){isLE||byteSwap32(this.state32),keccakP(this.state32,this.rounds),isLE||byteSwap32(this.state32),this.posOut=0,this.pos=0}update(Mn){exists(this);const{blockLen:io,state:fo}=this;Mn=toBytes$3(Mn);const mo=Mn.length;for(let $o=0;$o<mo;){const Ao=Math.min(io-this.pos,mo-$o);for(let Lo=0;Lo<Ao;Lo++)fo[this.pos++]^=Mn[$o++];this.pos===io&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:Mn,suffix:io,pos:fo,blockLen:mo}=this;Mn[fo]^=io,io&128&&fo===mo-1&&this.keccak(),Mn[mo-1]^=128,this.keccak()}writeInto(Mn){exists(this,!1),bytes$1(Mn),this.finish();const io=this.state,{blockLen:fo}=this;for(let mo=0,$o=Mn.length;mo<$o;){this.posOut>=fo&&this.keccak();const Ao=Math.min(fo-this.posOut,$o-mo);Mn.set(io.subarray(this.posOut,this.posOut+Ao),mo),this.posOut+=Ao,mo+=Ao}return Mn}xofInto(Mn){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(Mn)}xof(Mn){return number$1(Mn),this.xofInto(new Uint8Array(Mn))}digestInto(Mn){if(output(Mn,this),this.finished)throw new Error("digest() was already called");return this.writeInto(Mn),this.destroy(),Mn}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(Mn){const{blockLen:io,suffix:fo,outputLen:mo,rounds:$o,enableXOF:Ao}=this;return Mn||(Mn=new Keccak(io,fo,mo,Ao,$o)),Mn.state32.set(this.state32),Mn.pos=this.pos,Mn.posOut=this.posOut,Mn.finished=this.finished,Mn.rounds=$o,Mn.suffix=fo,Mn.outputLen=mo,Mn.enableXOF=Ao,Mn.destroyed=this.destroyed,Mn}}const gen=(Fn,Mn,io)=>wrapConstructor(()=>new Keccak(Mn,Fn,io)),sha3_224=gen(6,144,224/8),sha3_256=gen(6,136,256/8),sha3_384=gen(6,104,384/8),sha3_512=gen(6,72,512/8),keccak_224=gen(1,144,224/8),keccak_256=gen(1,136,256/8),keccak_384=gen(1,104,384/8),keccak_512=gen(1,72,512/8),genShake=(Fn,Mn,io)=>wrapXOFConstructorWithOpts((fo={})=>new Keccak(Mn,Fn,fo.dkLen===void 0?io:fo.dkLen,!0)),shake128=genShake(31,168,128/8),shake256=genShake(31,136,256/8),sha3=Object.freeze(Object.defineProperty({__proto__:null,Keccak,keccakP,keccak_224,keccak_256,keccak_384,keccak_512,sha3_224,sha3_256,sha3_384,sha3_512,shake128,shake256},Symbol.toStringTag,{value:"Module"}));function keccak256(Fn,Mn){const io=Mn||"hex",fo=keccak_256(isHex(Fn,{strict:!1})?toBytes$4(Fn):Fn);return io==="bytes"?fo:toHex(fo)}const hash=Fn=>keccak256(toBytes$4(Fn));function hashSignature(Fn){return hash(Fn)}function normalizeSignature(Fn){let Mn=!0,io="",fo=0,mo="",$o=!1;for(let Ao=0;Ao<Fn.length;Ao++){const Lo=Fn[Ao];if(["(",")",","].includes(Lo)&&(Mn=!0),Lo==="("&&fo++,Lo===")"&&fo--,!!Mn){if(fo===0){if(Lo===" "&&["event","function",""].includes(mo))mo="";else if(mo+=Lo,Lo===")"){$o=!0;break}continue}if(Lo===" "){Fn[Ao-1]!==","&&io!==","&&io!==",("&&(io="",Mn=!1);continue}mo+=Lo,io+=Lo}}if(!$o)throw new BaseError("Unable to normalize signature.");return mo}const toSignature=Fn=>{const Mn=typeof Fn=="string"?Fn:formatAbiItem$1(Fn);return normalizeSignature(Mn)};function toSignatureHash(Fn){return hashSignature(toSignature(Fn))}const toEventSelector=toSignatureHash;class InvalidAddressError extends BaseError{constructor({address:Mn}){super(`Address "${Mn}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class LruMap extends Map{constructor(Mn){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=Mn}get(Mn){const io=super.get(Mn);return super.has(Mn)&&io!==void 0&&(this.delete(Mn),super.set(Mn,io)),io}set(Mn,io){if(super.set(Mn,io),this.maxSize&&this.size>this.maxSize){const fo=this.keys().next().value;fo&&this.delete(fo)}return this}}const checksumAddressCache=new LruMap(8192);function checksumAddress(Fn,Mn){if(checksumAddressCache.has(`${Fn}.${Mn}`))return checksumAddressCache.get(`${Fn}.${Mn}`);const io=Mn?`${Mn}${Fn.toLowerCase()}`:Fn.substring(2).toLowerCase(),fo=keccak256(stringToBytes(io),"bytes"),mo=(Mn?io.substring(`${Mn}0x`.length):io).split("");for(let Ao=0;Ao<40;Ao+=2)fo[Ao>>1]>>4>=8&&mo[Ao]&&(mo[Ao]=mo[Ao].toUpperCase()),(fo[Ao>>1]&15)>=8&&mo[Ao+1]&&(mo[Ao+1]=mo[Ao+1].toUpperCase());const $o=`0x${mo.join("")}`;return checksumAddressCache.set(`${Fn}.${Mn}`,$o),$o}function getAddress(Fn,Mn){if(!isAddress(Fn,{strict:!1}))throw new InvalidAddressError({address:Fn});return checksumAddress(Fn,Mn)}const addressRegex=/^0x[a-fA-F0-9]{40}$/,isAddressCache=new LruMap(8192);function isAddress(Fn,Mn){const{strict:io=!0}=Mn??{},fo=`${Fn}.${io}`;if(isAddressCache.has(fo))return isAddressCache.get(fo);const mo=addressRegex.test(Fn)?Fn.toLowerCase()===Fn?!0:io?checksumAddress(Fn)===Fn:!0:!1;return isAddressCache.set(fo,mo),mo}function concat$2(Fn){return typeof Fn[0]=="string"?concatHex(Fn):concatBytes$1(Fn)}function concatBytes$1(Fn){let Mn=0;for(const mo of Fn)Mn+=mo.length;const io=new Uint8Array(Mn);let fo=0;for(const mo of Fn)io.set(mo,fo),fo+=mo.length;return io}function concatHex(Fn){return`0x${Fn.reduce((Mn,io)=>Mn+io.replace("0x",""),"")}`}function slice$2(Fn,Mn,io,{strict:fo}={}){return isHex(Fn,{strict:!1})?sliceHex(Fn,Mn,io,{strict:fo}):sliceBytes(Fn,Mn,io,{strict:fo})}function assertStartOffset(Fn,Mn){if(typeof Mn=="number"&&Mn>0&&Mn>size$6(Fn)-1)throw new SliceOffsetOutOfBoundsError({offset:Mn,position:"start",size:size$6(Fn)})}function assertEndOffset(Fn,Mn,io){if(typeof Mn=="number"&&typeof io=="number"&&size$6(Fn)!==io-Mn)throw new SliceOffsetOutOfBoundsError({offset:io,position:"end",size:size$6(Fn)})}function sliceBytes(Fn,Mn,io,{strict:fo}={}){assertStartOffset(Fn,Mn);const mo=Fn.slice(Mn,io);return fo&&assertEndOffset(mo,Mn,io),mo}function sliceHex(Fn,Mn,io,{strict:fo}={}){assertStartOffset(Fn,Mn);const mo=`0x${Fn.replace("0x","").slice((Mn??0)*2,(io??Fn.length)*2)}`;return fo&&assertEndOffset(mo,Mn,io),mo}function encodeAbiParameters(Fn,Mn){if(Fn.length!==Mn.length)throw new AbiEncodingLengthMismatchError({expectedLength:Fn.length,givenLength:Mn.length});const io=prepareParams({params:Fn,values:Mn}),fo=encodeParams(io);return fo.length===0?"0x":fo}function prepareParams({params:Fn,values:Mn}){const io=[];for(let fo=0;fo<Fn.length;fo++)io.push(prepareParam({param:Fn[fo],value:Mn[fo]}));return io}function prepareParam({param:Fn,value:Mn}){const io=getArrayComponents(Fn.type);if(io){const[fo,mo]=io;return encodeArray$1(Mn,{length:fo,param:{...Fn,type:mo}})}if(Fn.type==="tuple")return encodeTuple(Mn,{param:Fn});if(Fn.type==="address")return encodeAddress(Mn);if(Fn.type==="bool")return encodeBool(Mn);if(Fn.type.startsWith("uint")||Fn.type.startsWith("int")){const fo=Fn.type.startsWith("int");return encodeNumber(Mn,{signed:fo})}if(Fn.type.startsWith("bytes"))return encodeBytes$1(Mn,{param:Fn});if(Fn.type==="string")return encodeString$1(Mn);throw new InvalidAbiEncodingTypeError(Fn.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function encodeParams(Fn){let Mn=0;for(let $o=0;$o<Fn.length;$o++){const{dynamic:Ao,encoded:Lo}=Fn[$o];Ao?Mn+=32:Mn+=size$6(Lo)}const io=[],fo=[];let mo=0;for(let $o=0;$o<Fn.length;$o++){const{dynamic:Ao,encoded:Lo}=Fn[$o];Ao?(io.push(numberToHex(Mn+mo,{size:32})),fo.push(Lo),mo+=size$6(Lo)):io.push(Lo)}return concat$2([...io,...fo])}function encodeAddress(Fn){if(!isAddress(Fn))throw new InvalidAddressError({address:Fn});return{dynamic:!1,encoded:padHex(Fn.toLowerCase())}}function encodeArray$1(Fn,{length:Mn,param:io}){const fo=Mn===null;if(!Array.isArray(Fn))throw new InvalidArrayError(Fn);if(!fo&&Fn.length!==Mn)throw new AbiEncodingArrayLengthMismatchError({expectedLength:Mn,givenLength:Fn.length,type:`${io.type}[${Mn}]`});let mo=!1;const $o=[];for(let Ao=0;Ao<Fn.length;Ao++){const Lo=prepareParam({param:io,value:Fn[Ao]});Lo.dynamic&&(mo=!0),$o.push(Lo)}if(fo||mo){const Ao=encodeParams($o);if(fo){const Lo=numberToHex($o.length,{size:32});return{dynamic:!0,encoded:$o.length>0?concat$2([Lo,Ao]):Lo}}if(mo)return{dynamic:!0,encoded:Ao}}return{dynamic:!1,encoded:concat$2($o.map(({encoded:Ao})=>Ao))}}function encodeBytes$1(Fn,{param:Mn}){const[,io]=Mn.type.split("bytes"),fo=size$6(Fn);if(!io){let mo=Fn;return fo%32!==0&&(mo=padHex(mo,{dir:"right",size:Math.ceil((Fn.length-2)/2/32)*32})),{dynamic:!0,encoded:concat$2([padHex(numberToHex(fo,{size:32})),mo])}}if(fo!==Number.parseInt(io))throw new AbiEncodingBytesSizeMismatchError({expectedSize:Number.parseInt(io),value:Fn});return{dynamic:!1,encoded:padHex(Fn,{dir:"right"})}}function encodeBool(Fn){if(typeof Fn!="boolean")throw new BaseError(`Invalid boolean value: "${Fn}" (type: ${typeof Fn}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:padHex(boolToHex(Fn))}}function encodeNumber(Fn,{signed:Mn}){return{dynamic:!1,encoded:numberToHex(Fn,{size:32,signed:Mn})}}function encodeString$1(Fn){const Mn=stringToHex(Fn),io=Math.ceil(size$6(Mn)/32),fo=[];for(let mo=0;mo<io;mo++)fo.push(padHex(slice$2(Mn,mo*32,(mo+1)*32),{dir:"right"}));return{dynamic:!0,encoded:concat$2([padHex(numberToHex(size$6(Mn),{size:32})),...fo])}}function encodeTuple(Fn,{param:Mn}){let io=!1;const fo=[];for(let mo=0;mo<Mn.components.length;mo++){const $o=Mn.components[mo],Ao=Array.isArray(Fn)?mo:$o.name,Lo=prepareParam({param:$o,value:Fn[Ao]});fo.push(Lo),Lo.dynamic&&(io=!0)}return{dynamic:io,encoded:io?encodeParams(fo):concat$2(fo.map(({encoded:mo})=>mo))}}function getArrayComponents(Fn){const Mn=Fn.match(/^(.*)\[(\d+)?\]$/);return Mn?[Mn[2]?Number(Mn[2]):null,Mn[1]]:void 0}const toFunctionSelector=Fn=>slice$2(toSignatureHash(Fn),0,4);function getAbiItem(Fn){const{abi:Mn,args:io=[],name:fo}=Fn,mo=isHex(fo,{strict:!1}),$o=Mn.filter(Lo=>mo?Lo.type==="function"?toFunctionSelector(Lo)===fo:Lo.type==="event"?toEventSelector(Lo)===fo:!1:"name"in Lo&&Lo.name===fo);if($o.length===0)return;if($o.length===1)return $o[0];let Ao;for(const Lo of $o){if(!("inputs"in Lo))continue;if(!io||io.length===0){if(!Lo.inputs||Lo.inputs.length===0)return Lo;continue}if(!Lo.inputs||Lo.inputs.length===0||Lo.inputs.length!==io.length)continue;if(io.every((jo,zo)=>{const Vo="inputs"in Lo&&Lo.inputs[zo];return Vo?isArgOfType(jo,Vo):!1})){if(Ao&&"inputs"in Ao&&Ao.inputs){const jo=getAmbiguousTypes(Lo.inputs,Ao.inputs,io);if(jo)throw new AbiItemAmbiguityError({abiItem:Lo,type:jo[0]},{abiItem:Ao,type:jo[1]})}Ao=Lo}}return Ao||$o[0]}function isArgOfType(Fn,Mn){const io=typeof Fn,fo=Mn.type;switch(fo){case"address":return isAddress(Fn,{strict:!1});case"bool":return io==="boolean";case"function":return io==="string";case"string":return io==="string";default:return fo==="tuple"&&"components"in Mn?Object.values(Mn.components).every((mo,$o)=>isArgOfType(Object.values(Fn)[$o],mo)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(fo)?io==="number"||io==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(fo)?io==="string"||Fn instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(fo)?Array.isArray(Fn)&&Fn.every(mo=>isArgOfType(mo,{...Mn,type:fo.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function getAmbiguousTypes(Fn,Mn,io){for(const fo in Fn){const mo=Fn[fo],$o=Mn[fo];if(mo.type==="tuple"&&$o.type==="tuple"&&"components"in mo&&"components"in $o)return getAmbiguousTypes(mo.components,$o.components,io[fo]);const Ao=[mo.type,$o.type];if(Ao.includes("address")&&Ao.includes("bytes20")?!0:Ao.includes("address")&&Ao.includes("string")?isAddress(io[fo],{strict:!1}):Ao.includes("address")&&Ao.includes("bytes")?isAddress(io[fo],{strict:!1}):!1)return Ao}}function parseAccount(Fn){return typeof Fn=="string"?{address:Fn,type:"json-rpc"}:Fn}const docsPath$2="/docs/contract/encodeFunctionData";function prepareEncodeFunctionData(Fn){const{abi:Mn,args:io,functionName:fo}=Fn;let mo=Mn[0];if(fo){const $o=getAbiItem({abi:Mn,args:io,name:fo});if(!$o)throw new AbiFunctionNotFoundError(fo,{docsPath:docsPath$2});mo=$o}if(mo.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:docsPath$2});return{abi:[mo],functionName:toFunctionSelector(formatAbiItem(mo))}}function encodeFunctionData(Fn){const{args:Mn}=Fn,{abi:io,functionName:fo}=(()=>{var Lo;return Fn.abi.length===1&&((Lo=Fn.functionName)!=null&&Lo.startsWith("0x"))?Fn:prepareEncodeFunctionData(Fn)})(),mo=io[0],$o=fo,Ao="inputs"in mo&&mo.inputs?encodeAbiParameters(mo.inputs,Mn??[]):void 0;return concatHex([$o,Ao??"0x"])}const panicReasons={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},solidityError={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},solidityPanic={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class NegativeOffsetError extends BaseError{constructor({offset:Mn}){super(`Offset \`${Mn}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class PositionOutOfBoundsError extends BaseError{constructor({length:Mn,position:io}){super(`Position \`${io}\` is out of bounds (\`0 < position < ${Mn}\`).`,{name:"PositionOutOfBoundsError"})}}class RecursiveReadLimitExceededError extends BaseError{constructor({count:Mn,limit:io}){super(`Recursive read limit of \`${io}\` exceeded (recursive read count: \`${Mn}\`).`,{name:"RecursiveReadLimitExceededError"})}}const staticCursor={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new RecursiveReadLimitExceededError({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(Fn){if(Fn<0||Fn>this.bytes.length-1)throw new PositionOutOfBoundsError({length:this.bytes.length,position:Fn})},decrementPosition(Fn){if(Fn<0)throw new NegativeOffsetError({offset:Fn});const Mn=this.position-Fn;this.assertPosition(Mn),this.position=Mn},getReadCount(Fn){return this.positionReadCount.get(Fn||this.position)||0},incrementPosition(Fn){if(Fn<0)throw new NegativeOffsetError({offset:Fn});const Mn=this.position+Fn;this.assertPosition(Mn),this.position=Mn},inspectByte(Fn){const Mn=Fn??this.position;return this.assertPosition(Mn),this.bytes[Mn]},inspectBytes(Fn,Mn){const io=Mn??this.position;return this.assertPosition(io+Fn-1),this.bytes.subarray(io,io+Fn)},inspectUint8(Fn){const Mn=Fn??this.position;return this.assertPosition(Mn),this.bytes[Mn]},inspectUint16(Fn){const Mn=Fn??this.position;return this.assertPosition(Mn+1),this.dataView.getUint16(Mn)},inspectUint24(Fn){const Mn=Fn??this.position;return this.assertPosition(Mn+2),(this.dataView.getUint16(Mn)<<8)+this.dataView.getUint8(Mn+2)},inspectUint32(Fn){const Mn=Fn??this.position;return this.assertPosition(Mn+3),this.dataView.getUint32(Mn)},pushByte(Fn){this.assertPosition(this.position),this.bytes[this.position]=Fn,this.position++},pushBytes(Fn){this.assertPosition(this.position+Fn.length-1),this.bytes.set(Fn,this.position),this.position+=Fn.length},pushUint8(Fn){this.assertPosition(this.position),this.bytes[this.position]=Fn,this.position++},pushUint16(Fn){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,Fn),this.position+=2},pushUint24(Fn){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,Fn>>8),this.dataView.setUint8(this.position+2,Fn&255),this.position+=3},pushUint32(Fn){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,Fn),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const Fn=this.inspectByte();return this.position++,Fn},readBytes(Fn,Mn){this.assertReadLimit(),this._touch();const io=this.inspectBytes(Fn);return this.position+=Mn??Fn,io},readUint8(){this.assertReadLimit(),this._touch();const Fn=this.inspectUint8();return this.position+=1,Fn},readUint16(){this.assertReadLimit(),this._touch();const Fn=this.inspectUint16();return this.position+=2,Fn},readUint24(){this.assertReadLimit(),this._touch();const Fn=this.inspectUint24();return this.position+=3,Fn},readUint32(){this.assertReadLimit(),this._touch();const Fn=this.inspectUint32();return this.position+=4,Fn},get remaining(){return this.bytes.length-this.position},setPosition(Fn){const Mn=this.position;return this.assertPosition(Fn),this.position=Fn,()=>this.position=Mn},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const Fn=this.getReadCount();this.positionReadCount.set(this.position,Fn+1),Fn>0&&this.recursiveReadCount++}};function createCursor(Fn,{recursiveReadLimit:Mn=8192}={}){const io=Object.create(staticCursor);return io.bytes=Fn,io.dataView=new DataView(Fn.buffer,Fn.byteOffset,Fn.byteLength),io.positionReadCount=new Map,io.recursiveReadLimit=Mn,io}function bytesToBigInt(Fn,Mn={}){typeof Mn.size<"u"&&assertSize(Fn,{size:Mn.size});const io=bytesToHex$2(Fn,Mn);return hexToBigInt(io,Mn)}function bytesToBool(Fn,Mn={}){let io=Fn;if(typeof Mn.size<"u"&&(assertSize(io,{size:Mn.size}),io=trim(io)),io.length>1||io[0]>1)throw new InvalidBytesBooleanError(io);return!!io[0]}function bytesToNumber(Fn,Mn={}){typeof Mn.size<"u"&&assertSize(Fn,{size:Mn.size});const io=bytesToHex$2(Fn,Mn);return hexToNumber(io,Mn)}function bytesToString(Fn,Mn={}){let io=Fn;return typeof Mn.size<"u"&&(assertSize(io,{size:Mn.size}),io=trim(io,{dir:"right"})),new TextDecoder().decode(io)}function decodeAbiParameters(Fn,Mn){const io=typeof Mn=="string"?hexToBytes$1(Mn):Mn,fo=createCursor(io);if(size$6(io)===0&&Fn.length>0)throw new AbiDecodingZeroDataError;if(size$6(Mn)&&size$6(Mn)<32)throw new AbiDecodingDataSizeTooSmallError({data:typeof Mn=="string"?Mn:bytesToHex$2(Mn),params:Fn,size:size$6(Mn)});let mo=0;const $o=[];for(let Ao=0;Ao<Fn.length;++Ao){const Lo=Fn[Ao];fo.setPosition(mo);const[Wo,jo]=decodeParameter(fo,Lo,{staticPosition:0});mo+=jo,$o.push(Wo)}return $o}function decodeParameter(Fn,Mn,{staticPosition:io}){const fo=getArrayComponents(Mn.type);if(fo){const[mo,$o]=fo;return decodeArray(Fn,{...Mn,type:$o},{length:mo,staticPosition:io})}if(Mn.type==="tuple")return decodeTuple(Fn,Mn,{staticPosition:io});if(Mn.type==="address")return decodeAddress(Fn);if(Mn.type==="bool")return decodeBool(Fn);if(Mn.type.startsWith("bytes"))return decodeBytes$1(Fn,Mn,{staticPosition:io});if(Mn.type.startsWith("uint")||Mn.type.startsWith("int"))return decodeNumber(Fn,Mn);if(Mn.type==="string")return decodeString(Fn,{staticPosition:io});throw new InvalidAbiDecodingTypeError(Mn.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const sizeOfLength=32,sizeOfOffset=32;function decodeAddress(Fn){const Mn=Fn.readBytes(32);return[checksumAddress(bytesToHex$2(sliceBytes(Mn,-20))),32]}function decodeArray(Fn,Mn,{length:io,staticPosition:fo}){if(!io){const Ao=bytesToNumber(Fn.readBytes(sizeOfOffset)),Lo=fo+Ao,Wo=Lo+sizeOfLength;Fn.setPosition(Lo);const jo=bytesToNumber(Fn.readBytes(sizeOfLength)),zo=hasDynamicChild(Mn);let Vo=0;const Go=[];for(let Jo=0;Jo<jo;++Jo){Fn.setPosition(Wo+(zo?Jo*32:Vo));const[Qo,os]=decodeParameter(Fn,Mn,{staticPosition:Wo});Vo+=os,Go.push(Qo)}return Fn.setPosition(fo+32),[Go,32]}if(hasDynamicChild(Mn)){const Ao=bytesToNumber(Fn.readBytes(sizeOfOffset)),Lo=fo+Ao,Wo=[];for(let jo=0;jo<io;++jo){Fn.setPosition(Lo+jo*32);const[zo]=decodeParameter(Fn,Mn,{staticPosition:Lo});Wo.push(zo)}return Fn.setPosition(fo+32),[Wo,32]}let mo=0;const $o=[];for(let Ao=0;Ao<io;++Ao){const[Lo,Wo]=decodeParameter(Fn,Mn,{staticPosition:fo+mo});mo+=Wo,$o.push(Lo)}return[$o,mo]}function decodeBool(Fn){return[bytesToBool(Fn.readBytes(32),{size:32}),32]}function decodeBytes$1(Fn,Mn,{staticPosition:io}){const[fo,mo]=Mn.type.split("bytes");if(!mo){const Ao=bytesToNumber(Fn.readBytes(32));Fn.setPosition(io+Ao);const Lo=bytesToNumber(Fn.readBytes(32));if(Lo===0)return Fn.setPosition(io+32),["0x",32];const Wo=Fn.readBytes(Lo);return Fn.setPosition(io+32),[bytesToHex$2(Wo),32]}return[bytesToHex$2(Fn.readBytes(Number.parseInt(mo),32)),32]}function decodeNumber(Fn,Mn){const io=Mn.type.startsWith("int"),fo=Number.parseInt(Mn.type.split("int")[1]||"256"),mo=Fn.readBytes(32);return[fo>48?bytesToBigInt(mo,{signed:io}):bytesToNumber(mo,{signed:io}),32]}function decodeTuple(Fn,Mn,{staticPosition:io}){const fo=Mn.components.length===0||Mn.components.some(({name:Ao})=>!Ao),mo=fo?[]:{};let $o=0;if(hasDynamicChild(Mn)){const Ao=bytesToNumber(Fn.readBytes(sizeOfOffset)),Lo=io+Ao;for(let Wo=0;Wo<Mn.components.length;++Wo){const jo=Mn.components[Wo];Fn.setPosition(Lo+$o);const[zo,Vo]=decodeParameter(Fn,jo,{staticPosition:Lo});$o+=Vo,mo[fo?Wo:jo==null?void 0:jo.name]=zo}return Fn.setPosition(io+32),[mo,32]}for(let Ao=0;Ao<Mn.components.length;++Ao){const Lo=Mn.components[Ao],[Wo,jo]=decodeParameter(Fn,Lo,{staticPosition:io});mo[fo?Ao:Lo==null?void 0:Lo.name]=Wo,$o+=jo}return[mo,$o]}function decodeString(Fn,{staticPosition:Mn}){const io=bytesToNumber(Fn.readBytes(32)),fo=Mn+io;Fn.setPosition(fo);const mo=bytesToNumber(Fn.readBytes(32));if(mo===0)return Fn.setPosition(Mn+32),["",32];const $o=Fn.readBytes(mo,32),Ao=bytesToString(trim($o));return Fn.setPosition(Mn+32),[Ao,32]}function hasDynamicChild(Fn){var fo;const{type:Mn}=Fn;if(Mn==="string"||Mn==="bytes"||Mn.endsWith("[]"))return!0;if(Mn==="tuple")return(fo=Fn.components)==null?void 0:fo.some(hasDynamicChild);const io=getArrayComponents(Fn.type);return!!(io&&hasDynamicChild({...Fn,type:io[1]}))}function decodeErrorResult(Fn){const{abi:Mn,data:io}=Fn,fo=slice$2(io,0,4);if(fo==="0x")throw new AbiDecodingZeroDataError;const $o=[...Mn||[],solidityError,solidityPanic].find(Ao=>Ao.type==="error"&&fo===toFunctionSelector(formatAbiItem(Ao)));if(!$o)throw new AbiErrorSignatureNotFoundError(fo,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:$o,args:"inputs"in $o&&$o.inputs&&$o.inputs.length>0?decodeAbiParameters($o.inputs,slice$2(io,4)):void 0,errorName:$o.name}}const stringify=(Fn,Mn,io)=>JSON.stringify(Fn,(fo,mo)=>typeof mo=="bigint"?mo.toString():mo,io);function formatAbiItemWithArgs({abiItem:Fn,args:Mn,includeFunctionName:io=!0,includeName:fo=!1}){if("name"in Fn&&"inputs"in Fn&&Fn.inputs)return`${io?Fn.name:""}(${Fn.inputs.map((mo,$o)=>`${fo&&mo.name?`${mo.name}: `:""}${typeof Mn[$o]=="object"?stringify(Mn[$o]):Mn[$o]}`).join(", ")})`}const etherUnits={gwei:9,wei:18},gweiUnits={ether:-9,wei:9},weiUnits={ether:-18,gwei:-9};function formatUnits(Fn,Mn){let io=Fn.toString();const fo=io.startsWith("-");fo&&(io=io.slice(1)),io=io.padStart(Mn,"0");let[mo,$o]=[io.slice(0,io.length-Mn),io.slice(io.length-Mn)];return $o=$o.replace(/(0+)$/,""),`${fo?"-":""}${mo||"0"}${$o?`.${$o}`:""}`}function formatEther(Fn,Mn="wei"){return formatUnits(Fn,etherUnits[Mn])}function formatGwei(Fn,Mn="wei"){return formatUnits(Fn,gweiUnits[Mn])}class AccountStateConflictError extends BaseError{constructor({address:Mn}){super(`State for account "${Mn}" is set multiple times.`,{name:"AccountStateConflictError"})}}class StateAssignmentConflictError extends BaseError{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function prettyStateMapping(Fn){return Fn.reduce((Mn,{slot:io,value:fo})=>`${Mn}        ${io}: ${fo}
`,"")}function prettyStateOverride(Fn){return Fn.reduce((Mn,{address:io,...fo})=>{let mo=`${Mn}    ${io}:
`;return fo.nonce&&(mo+=`      nonce: ${fo.nonce}
`),fo.balance&&(mo+=`      balance: ${fo.balance}
`),fo.code&&(mo+=`      code: ${fo.code}
`),fo.state&&(mo+=`      state:
`,mo+=prettyStateMapping(fo.state)),fo.stateDiff&&(mo+=`      stateDiff:
`,mo+=prettyStateMapping(fo.stateDiff)),mo},`  State Override:
`).slice(0,-1)}function prettyPrint(Fn){const Mn=Object.entries(Fn).map(([fo,mo])=>mo===void 0||mo===!1?null:[fo,mo]).filter(Boolean),io=Mn.reduce((fo,[mo])=>Math.max(fo,mo.length),0);return Mn.map(([fo,mo])=>`  ${`${fo}:`.padEnd(io+1)}  ${mo}`).join(`
`)}class FeeConflictError extends BaseError{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class InvalidLegacyVError extends BaseError{constructor({v:Mn}){super(`Invalid \`v\` value "${Mn}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class InvalidSerializableTransactionError extends BaseError{constructor({transaction:Mn}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",prettyPrint(Mn),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class InvalidStorageKeySizeError extends BaseError{constructor({storageKey:Mn}){super(`Size for storage key "${Mn}" is invalid. Expected 32 bytes. Got ${Math.floor((Mn.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class TransactionExecutionError extends BaseError{constructor(Mn,{account:io,docsPath:fo,chain:mo,data:$o,gas:Ao,gasPrice:Lo,maxFeePerGas:Wo,maxPriorityFeePerGas:jo,nonce:zo,to:Vo,value:Go}){var Qo;const Jo=prettyPrint({chain:mo&&`${mo==null?void 0:mo.name} (id: ${mo==null?void 0:mo.id})`,from:io==null?void 0:io.address,to:Vo,value:typeof Go<"u"&&`${formatEther(Go)} ${((Qo=mo==null?void 0:mo.nativeCurrency)==null?void 0:Qo.symbol)||"ETH"}`,data:$o,gas:Ao,gasPrice:typeof Lo<"u"&&`${formatGwei(Lo)} gwei`,maxFeePerGas:typeof Wo<"u"&&`${formatGwei(Wo)} gwei`,maxPriorityFeePerGas:typeof jo<"u"&&`${formatGwei(jo)} gwei`,nonce:zo});super(Mn.shortMessage,{cause:Mn,docsPath:fo,metaMessages:[...Mn.metaMessages?[...Mn.metaMessages," "]:[],"Request Arguments:",Jo].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=Mn}}class TransactionNotFoundError extends BaseError{constructor({blockHash:Mn,blockNumber:io,blockTag:fo,hash:mo,index:$o}){let Ao="Transaction";fo&&$o!==void 0&&(Ao=`Transaction at block time "${fo}" at index "${$o}"`),Mn&&$o!==void 0&&(Ao=`Transaction at block hash "${Mn}" at index "${$o}"`),io&&$o!==void 0&&(Ao=`Transaction at block number "${io}" at index "${$o}"`),mo&&(Ao=`Transaction with hash "${mo}"`),super(`${Ao} could not be found.`,{name:"TransactionNotFoundError"})}}class TransactionReceiptNotFoundError extends BaseError{constructor({hash:Mn}){super(`Transaction receipt with hash "${Mn}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class WaitForTransactionReceiptTimeoutError extends BaseError{constructor({hash:Mn}){super(`Timed out while waiting for transaction with hash "${Mn}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const getContractAddress=Fn=>Fn,getUrl=Fn=>Fn;class CallExecutionError extends BaseError{constructor(Mn,{account:io,docsPath:fo,chain:mo,data:$o,gas:Ao,gasPrice:Lo,maxFeePerGas:Wo,maxPriorityFeePerGas:jo,nonce:zo,to:Vo,value:Go,stateOverride:Jo}){var Cl;const Qo=io?parseAccount(io):void 0;let os=prettyPrint({from:Qo==null?void 0:Qo.address,to:Vo,value:typeof Go<"u"&&`${formatEther(Go)} ${((Cl=mo==null?void 0:mo.nativeCurrency)==null?void 0:Cl.symbol)||"ETH"}`,data:$o,gas:Ao,gasPrice:typeof Lo<"u"&&`${formatGwei(Lo)} gwei`,maxFeePerGas:typeof Wo<"u"&&`${formatGwei(Wo)} gwei`,maxPriorityFeePerGas:typeof jo<"u"&&`${formatGwei(jo)} gwei`,nonce:zo});Jo&&(os+=`
${prettyStateOverride(Jo)}`),super(Mn.shortMessage,{cause:Mn,docsPath:fo,metaMessages:[...Mn.metaMessages?[...Mn.metaMessages," "]:[],"Raw Call Arguments:",os].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=Mn}}class ContractFunctionExecutionError extends BaseError{constructor(Mn,{abi:io,args:fo,contractAddress:mo,docsPath:$o,functionName:Ao,sender:Lo}){const Wo=getAbiItem({abi:io,args:fo,name:Ao}),jo=Wo?formatAbiItemWithArgs({abiItem:Wo,args:fo,includeFunctionName:!1,includeName:!1}):void 0,zo=Wo?formatAbiItem(Wo,{includeName:!0}):void 0,Vo=prettyPrint({address:mo&&getContractAddress(mo),function:zo,args:jo&&jo!=="()"&&`${[...Array((Ao==null?void 0:Ao.length)??0).keys()].map(()=>" ").join("")}${jo}`,sender:Lo});super(Mn.shortMessage||`An unknown error occurred while executing the contract function "${Ao}".`,{cause:Mn,docsPath:$o,metaMessages:[...Mn.metaMessages?[...Mn.metaMessages," "]:[],Vo&&"Contract Call:",Vo].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=io,this.args=fo,this.cause=Mn,this.contractAddress=mo,this.functionName=Ao,this.sender=Lo}}class ContractFunctionRevertedError extends BaseError{constructor({abi:Mn,data:io,functionName:fo,message:mo}){let $o,Ao,Lo,Wo;if(io&&io!=="0x")try{Ao=decodeErrorResult({abi:Mn,data:io});const{abiItem:zo,errorName:Vo,args:Go}=Ao;if(Vo==="Error")Wo=Go[0];else if(Vo==="Panic"){const[Jo]=Go;Wo=panicReasons[Jo]}else{const Jo=zo?formatAbiItem(zo,{includeName:!0}):void 0,Qo=zo&&Go?formatAbiItemWithArgs({abiItem:zo,args:Go,includeFunctionName:!1,includeName:!1}):void 0;Lo=[Jo?`Error: ${Jo}`:"",Qo&&Qo!=="()"?`       ${[...Array((Vo==null?void 0:Vo.length)??0).keys()].map(()=>" ").join("")}${Qo}`:""]}}catch(zo){$o=zo}else mo&&(Wo=mo);let jo;$o instanceof AbiErrorSignatureNotFoundError&&(jo=$o.signature,Lo=[`Unable to decode signature "${jo}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${jo}.`]),super(Wo&&Wo!=="execution reverted"||jo?[`The contract function "${fo}" reverted with the following ${jo?"signature":"reason"}:`,Wo||jo].join(`
`):`The contract function "${fo}" reverted.`,{cause:$o,metaMessages:Lo,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=Ao,this.reason=Wo,this.signature=jo}}class ContractFunctionZeroDataError extends BaseError{constructor({functionName:Mn}){super(`The contract function "${Mn}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${Mn}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class CounterfactualDeploymentFailedError extends BaseError{constructor({factory:Mn}){super(`Deployment for counterfactual contract call failed${Mn?` for factory "${Mn}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class RawContractError extends BaseError{constructor({data:Mn,message:io}){super(io||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=Mn}}class HttpRequestError extends BaseError{constructor({body:Mn,cause:io,details:fo,headers:mo,status:$o,url:Ao}){super("HTTP request failed.",{cause:io,details:fo,metaMessages:[$o&&`Status: ${$o}`,`URL: ${getUrl(Ao)}`,Mn&&`Request body: ${stringify(Mn)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=Mn,this.headers=mo,this.status=$o,this.url=Ao}}class RpcRequestError extends BaseError{constructor({body:Mn,error:io,url:fo}){super("RPC Request failed.",{cause:io,details:io.message,metaMessages:[`URL: ${getUrl(fo)}`,`Request body: ${stringify(Mn)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=io.code}}class TimeoutError extends BaseError{constructor({body:Mn,url:io}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${getUrl(io)}`,`Request body: ${stringify(Mn)}`],name:"TimeoutError"})}}const unknownErrorCode=-1;class RpcError extends BaseError{constructor(Mn,{code:io,docsPath:fo,metaMessages:mo,name:$o,shortMessage:Ao}){super(Ao,{cause:Mn,docsPath:fo,metaMessages:mo||(Mn==null?void 0:Mn.metaMessages),name:$o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=$o||Mn.name,this.code=Mn instanceof RpcRequestError?Mn.code:io??unknownErrorCode}}class ProviderRpcError extends RpcError{constructor(Mn,io){super(Mn,io),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=io.data}}class ParseRpcError extends RpcError{constructor(Mn){super(Mn,{code:ParseRpcError.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(ParseRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class InvalidRequestRpcError extends RpcError{constructor(Mn){super(Mn,{code:InvalidRequestRpcError.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(InvalidRequestRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class MethodNotFoundRpcError extends RpcError{constructor(Mn,{method:io}={}){super(Mn,{code:MethodNotFoundRpcError.code,name:"MethodNotFoundRpcError",shortMessage:`The method${io?` "${io}"`:""} does not exist / is not available.`})}}Object.defineProperty(MethodNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class InvalidParamsRpcError extends RpcError{constructor(Mn){super(Mn,{code:InvalidParamsRpcError.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(InvalidParamsRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class InternalRpcError extends RpcError{constructor(Mn){super(Mn,{code:InternalRpcError.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(InternalRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class InvalidInputRpcError extends RpcError{constructor(Mn){super(Mn,{code:InvalidInputRpcError.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(InvalidInputRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ResourceNotFoundRpcError extends RpcError{constructor(Mn){super(Mn,{code:ResourceNotFoundRpcError.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ResourceNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ResourceUnavailableRpcError extends RpcError{constructor(Mn){super(Mn,{code:ResourceUnavailableRpcError.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(ResourceUnavailableRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class TransactionRejectedRpcError extends RpcError{constructor(Mn){super(Mn,{code:TransactionRejectedRpcError.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(TransactionRejectedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class MethodNotSupportedRpcError extends RpcError{constructor(Mn,{method:io}={}){super(Mn,{code:MethodNotSupportedRpcError.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${io?` "${io}"`:""} is not implemented.`})}}Object.defineProperty(MethodNotSupportedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class LimitExceededRpcError extends RpcError{constructor(Mn){super(Mn,{code:LimitExceededRpcError.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(LimitExceededRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class JsonRpcVersionUnsupportedError extends RpcError{constructor(Mn){super(Mn,{code:JsonRpcVersionUnsupportedError.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(JsonRpcVersionUnsupportedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class UserRejectedRequestError extends ProviderRpcError{constructor(Mn){super(Mn,{code:UserRejectedRequestError.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(UserRejectedRequestError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class UnauthorizedProviderError extends ProviderRpcError{constructor(Mn){super(Mn,{code:UnauthorizedProviderError.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(UnauthorizedProviderError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class UnsupportedProviderMethodError extends ProviderRpcError{constructor(Mn,{method:io}={}){super(Mn,{code:UnsupportedProviderMethodError.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${io?` " ${io}"`:""}.`})}}Object.defineProperty(UnsupportedProviderMethodError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ProviderDisconnectedError extends ProviderRpcError{constructor(Mn){super(Mn,{code:ProviderDisconnectedError.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(ProviderDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ChainDisconnectedError extends ProviderRpcError{constructor(Mn){super(Mn,{code:ChainDisconnectedError.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(ChainDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class SwitchChainError extends ProviderRpcError{constructor(Mn){super(Mn,{code:SwitchChainError.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(SwitchChainError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class UnknownRpcError extends RpcError{constructor(Mn){super(Mn,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const EXECUTION_REVERTED_ERROR_CODE=3;function getContractError(Fn,{abi:Mn,address:io,args:fo,docsPath:mo,functionName:$o,sender:Ao}){const{code:Lo,data:Wo,message:jo,shortMessage:zo}=Fn instanceof RawContractError?Fn:Fn instanceof BaseError?Fn.walk(Go=>"data"in Go)||Fn.walk():{},Vo=Fn instanceof AbiDecodingZeroDataError?new ContractFunctionZeroDataError({functionName:$o}):[EXECUTION_REVERTED_ERROR_CODE,InternalRpcError.code].includes(Lo)&&(Wo||jo||zo)?new ContractFunctionRevertedError({abi:Mn,data:typeof Wo=="object"?Wo.data:Wo,functionName:$o,message:zo??jo}):Fn;return new ContractFunctionExecutionError(Vo,{abi:Mn,args:fo,contractAddress:io,docsPath:mo,functionName:$o,sender:Ao})}function publicKeyToAddress(Fn){const Mn=keccak256(`0x${Fn.substring(4)}`).substring(26);return checksumAddress(`0x${Mn}`)}async function recoverPublicKey({hash:Fn,signature:Mn}){const io=isHex(Fn)?Fn:toHex(Fn),{secp256k1:fo}=await __vitePreload(async()=>{const{secp256k1:Ao}=await import("./secp256k1-FgJ0brOx.js");return{secp256k1:Ao}},[]);return`0x${(()=>{if(typeof Mn=="object"&&"r"in Mn&&"s"in Mn){const{r:jo,s:zo,v:Vo,yParity:Go}=Mn,Jo=Number(Go??Vo),Qo=toRecoveryBit(Jo);return new fo.Signature(hexToBigInt(jo),hexToBigInt(zo)).addRecoveryBit(Qo)}const Ao=isHex(Mn)?Mn:toHex(Mn),Lo=hexToNumber(`0x${Ao.slice(130)}`),Wo=toRecoveryBit(Lo);return fo.Signature.fromCompact(Ao.substring(2,130)).addRecoveryBit(Wo)})().recoverPublicKey(io.substring(2)).toHex(!1)}`}function toRecoveryBit(Fn){if(Fn===0||Fn===1)return Fn;if(Fn===27)return 0;if(Fn===28)return 1;throw new Error("Invalid yParityOrV value")}async function recoverAddress({hash:Fn,signature:Mn}){return publicKeyToAddress(await recoverPublicKey({hash:Fn,signature:Mn}))}function toRlp(Fn,Mn="hex"){const io=getEncodable(Fn),fo=createCursor(new Uint8Array(io.length));return io.encode(fo),Mn==="hex"?bytesToHex$2(fo.bytes):fo.bytes}function getEncodable(Fn){return Array.isArray(Fn)?getEncodableList(Fn.map(Mn=>getEncodable(Mn))):getEncodableBytes(Fn)}function getEncodableList(Fn){const Mn=Fn.reduce((mo,$o)=>mo+$o.length,0),io=getSizeOfLength(Mn);return{length:Mn<=55?1+Mn:1+io+Mn,encode(mo){Mn<=55?mo.pushByte(192+Mn):(mo.pushByte(247+io),io===1?mo.pushUint8(Mn):io===2?mo.pushUint16(Mn):io===3?mo.pushUint24(Mn):mo.pushUint32(Mn));for(const{encode:$o}of Fn)$o(mo)}}}function getEncodableBytes(Fn){const Mn=typeof Fn=="string"?hexToBytes$1(Fn):Fn,io=getSizeOfLength(Mn.length);return{length:Mn.length===1&&Mn[0]<128?1:Mn.length<=55?1+Mn.length:1+io+Mn.length,encode(mo){Mn.length===1&&Mn[0]<128?mo.pushBytes(Mn):Mn.length<=55?(mo.pushByte(128+Mn.length),mo.pushBytes(Mn)):(mo.pushByte(183+io),io===1?mo.pushUint8(Mn.length):io===2?mo.pushUint16(Mn.length):io===3?mo.pushUint24(Mn.length):mo.pushUint32(Mn.length),mo.pushBytes(Mn))}}}function getSizeOfLength(Fn){if(Fn<2**8)return 1;if(Fn<2**16)return 2;if(Fn<2**24)return 3;if(Fn<2**32)return 4;throw new BaseError("Length is too large.")}function hashAuthorization(Fn){const{chainId:Mn,contractAddress:io,nonce:fo,to:mo}=Fn,$o=keccak256(concatHex(["0x05",toRlp([Mn?numberToHex(Mn):"0x",io,fo?numberToHex(fo):"0x"])]));return mo==="bytes"?hexToBytes$1($o):$o}async function recoverAuthorizationAddress(Fn){const{authorization:Mn,signature:io}=Fn;return recoverAddress({hash:hashAuthorization(Mn),signature:io??Mn})}class EstimateGasExecutionError extends BaseError{constructor(Mn,{account:io,docsPath:fo,chain:mo,data:$o,gas:Ao,gasPrice:Lo,maxFeePerGas:Wo,maxPriorityFeePerGas:jo,nonce:zo,to:Vo,value:Go}){var Qo;const Jo=prettyPrint({from:io==null?void 0:io.address,to:Vo,value:typeof Go<"u"&&`${formatEther(Go)} ${((Qo=mo==null?void 0:mo.nativeCurrency)==null?void 0:Qo.symbol)||"ETH"}`,data:$o,gas:Ao,gasPrice:typeof Lo<"u"&&`${formatGwei(Lo)} gwei`,maxFeePerGas:typeof Wo<"u"&&`${formatGwei(Wo)} gwei`,maxPriorityFeePerGas:typeof jo<"u"&&`${formatGwei(jo)} gwei`,nonce:zo});super(Mn.shortMessage,{cause:Mn,docsPath:fo,metaMessages:[...Mn.metaMessages?[...Mn.metaMessages," "]:[],"Estimate Gas Arguments:",Jo].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=Mn}}class ExecutionRevertedError extends BaseError{constructor({cause:Mn,message:io}={}){var mo;const fo=(mo=io==null?void 0:io.replace("execution reverted: ",""))==null?void 0:mo.replace("execution reverted","");super(`Execution reverted ${fo?`with reason: ${fo}`:"for an unknown reason"}.`,{cause:Mn,name:"ExecutionRevertedError"})}}Object.defineProperty(ExecutionRevertedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ExecutionRevertedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class FeeCapTooHighError extends BaseError{constructor({cause:Mn,maxFeePerGas:io}={}){super(`The fee cap (\`maxFeePerGas\`${io?` = ${formatGwei(io)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:Mn,name:"FeeCapTooHighError"})}}Object.defineProperty(FeeCapTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class FeeCapTooLowError extends BaseError{constructor({cause:Mn,maxFeePerGas:io}={}){super(`The fee cap (\`maxFeePerGas\`${io?` = ${formatGwei(io)}`:""} gwei) cannot be lower than the block base fee.`,{cause:Mn,name:"FeeCapTooLowError"})}}Object.defineProperty(FeeCapTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class NonceTooHighError extends BaseError{constructor({cause:Mn,nonce:io}={}){super(`Nonce provided for the transaction ${io?`(${io}) `:""}is higher than the next one expected.`,{cause:Mn,name:"NonceTooHighError"})}}Object.defineProperty(NonceTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class NonceTooLowError extends BaseError{constructor({cause:Mn,nonce:io}={}){super([`Nonce provided for the transaction ${io?`(${io}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:Mn,name:"NonceTooLowError"})}}Object.defineProperty(NonceTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class NonceMaxValueError extends BaseError{constructor({cause:Mn,nonce:io}={}){super(`Nonce provided for the transaction ${io?`(${io}) `:""}exceeds the maximum allowed nonce.`,{cause:Mn,name:"NonceMaxValueError"})}}Object.defineProperty(NonceMaxValueError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class InsufficientFundsError extends BaseError{constructor({cause:Mn}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:Mn,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(InsufficientFundsError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class IntrinsicGasTooHighError extends BaseError{constructor({cause:Mn,gas:io}={}){super(`The amount of gas ${io?`(${io}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:Mn,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(IntrinsicGasTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class IntrinsicGasTooLowError extends BaseError{constructor({cause:Mn,gas:io}={}){super(`The amount of gas ${io?`(${io}) `:""}provided for the transaction is too low.`,{cause:Mn,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(IntrinsicGasTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class TransactionTypeNotSupportedError extends BaseError{constructor({cause:Mn}){super("The transaction type is not supported for this chain.",{cause:Mn,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(TransactionTypeNotSupportedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class TipAboveFeeCapError extends BaseError{constructor({cause:Mn,maxPriorityFeePerGas:io,maxFeePerGas:fo}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${io?` = ${formatGwei(io)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${fo?` = ${formatGwei(fo)} gwei`:""}).`].join(`
`),{cause:Mn,name:"TipAboveFeeCapError"})}}Object.defineProperty(TipAboveFeeCapError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class UnknownNodeError extends BaseError{constructor({cause:Mn}){super(`An error occurred while executing: ${Mn==null?void 0:Mn.shortMessage}`,{cause:Mn,name:"UnknownNodeError"})}}function getNodeError(Fn,Mn){const io=(Fn.details||"").toLowerCase(),fo=Fn instanceof BaseError?Fn.walk(mo=>(mo==null?void 0:mo.code)===ExecutionRevertedError.code):Fn;return fo instanceof BaseError?new ExecutionRevertedError({cause:Fn,message:fo.details}):ExecutionRevertedError.nodeMessage.test(io)?new ExecutionRevertedError({cause:Fn,message:Fn.details}):FeeCapTooHighError.nodeMessage.test(io)?new FeeCapTooHighError({cause:Fn,maxFeePerGas:Mn==null?void 0:Mn.maxFeePerGas}):FeeCapTooLowError.nodeMessage.test(io)?new FeeCapTooLowError({cause:Fn,maxFeePerGas:Mn==null?void 0:Mn.maxFeePerGas}):NonceTooHighError.nodeMessage.test(io)?new NonceTooHighError({cause:Fn,nonce:Mn==null?void 0:Mn.nonce}):NonceTooLowError.nodeMessage.test(io)?new NonceTooLowError({cause:Fn,nonce:Mn==null?void 0:Mn.nonce}):NonceMaxValueError.nodeMessage.test(io)?new NonceMaxValueError({cause:Fn,nonce:Mn==null?void 0:Mn.nonce}):InsufficientFundsError.nodeMessage.test(io)?new InsufficientFundsError({cause:Fn}):IntrinsicGasTooHighError.nodeMessage.test(io)?new IntrinsicGasTooHighError({cause:Fn,gas:Mn==null?void 0:Mn.gas}):IntrinsicGasTooLowError.nodeMessage.test(io)?new IntrinsicGasTooLowError({cause:Fn,gas:Mn==null?void 0:Mn.gas}):TransactionTypeNotSupportedError.nodeMessage.test(io)?new TransactionTypeNotSupportedError({cause:Fn}):TipAboveFeeCapError.nodeMessage.test(io)?new TipAboveFeeCapError({cause:Fn,maxFeePerGas:Mn==null?void 0:Mn.maxFeePerGas,maxPriorityFeePerGas:Mn==null?void 0:Mn.maxPriorityFeePerGas}):new UnknownNodeError({cause:Fn})}function getEstimateGasError(Fn,{docsPath:Mn,...io}){const fo=(()=>{const mo=getNodeError(Fn,io);return mo instanceof UnknownNodeError?Fn:mo})();return new EstimateGasExecutionError(fo,{docsPath:Mn,...io})}function extract$2(Fn,{format:Mn}){if(!Mn)return{};const io={};function fo($o){const Ao=Object.keys($o);for(const Lo of Ao)Lo in Fn&&(io[Lo]=Fn[Lo]),$o[Lo]&&typeof $o[Lo]=="object"&&!Array.isArray($o[Lo])&&fo($o[Lo])}const mo=Mn(Fn||{});return fo(mo),io}function defineFormatter(Fn,Mn){return({exclude:io,format:fo})=>({exclude:io,format:mo=>{const $o=Mn(mo);if(io)for(const Ao of io)delete $o[Ao];return{...$o,...fo(mo)}},type:Fn})}const rpcTransactionType={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function formatTransactionRequest(Fn){const Mn={};return typeof Fn.authorizationList<"u"&&(Mn.authorizationList=formatAuthorizationList$1(Fn.authorizationList)),typeof Fn.accessList<"u"&&(Mn.accessList=Fn.accessList),typeof Fn.blobVersionedHashes<"u"&&(Mn.blobVersionedHashes=Fn.blobVersionedHashes),typeof Fn.blobs<"u"&&(typeof Fn.blobs[0]!="string"?Mn.blobs=Fn.blobs.map(io=>bytesToHex$2(io)):Mn.blobs=Fn.blobs),typeof Fn.data<"u"&&(Mn.data=Fn.data),typeof Fn.from<"u"&&(Mn.from=Fn.from),typeof Fn.gas<"u"&&(Mn.gas=numberToHex(Fn.gas)),typeof Fn.gasPrice<"u"&&(Mn.gasPrice=numberToHex(Fn.gasPrice)),typeof Fn.maxFeePerBlobGas<"u"&&(Mn.maxFeePerBlobGas=numberToHex(Fn.maxFeePerBlobGas)),typeof Fn.maxFeePerGas<"u"&&(Mn.maxFeePerGas=numberToHex(Fn.maxFeePerGas)),typeof Fn.maxPriorityFeePerGas<"u"&&(Mn.maxPriorityFeePerGas=numberToHex(Fn.maxPriorityFeePerGas)),typeof Fn.nonce<"u"&&(Mn.nonce=numberToHex(Fn.nonce)),typeof Fn.to<"u"&&(Mn.to=Fn.to),typeof Fn.type<"u"&&(Mn.type=rpcTransactionType[Fn.type]),typeof Fn.value<"u"&&(Mn.value=numberToHex(Fn.value)),Mn}function formatAuthorizationList$1(Fn){return Fn.map(Mn=>({address:Mn.contractAddress,r:Mn.r,s:Mn.s,chainId:numberToHex(Mn.chainId),nonce:numberToHex(Mn.nonce),...typeof Mn.yParity<"u"?{yParity:numberToHex(Mn.yParity)}:{},...typeof Mn.v<"u"&&typeof Mn.yParity>"u"?{v:numberToHex(Mn.v)}:{}}))}function serializeStateMapping(Fn){if(!(!Fn||Fn.length===0))return Fn.reduce((Mn,{slot:io,value:fo})=>{if(io.length!==66)throw new InvalidBytesLengthError({size:io.length,targetSize:66,type:"hex"});if(fo.length!==66)throw new InvalidBytesLengthError({size:fo.length,targetSize:66,type:"hex"});return Mn[io]=fo,Mn},{})}function serializeAccountStateOverride(Fn){const{balance:Mn,nonce:io,state:fo,stateDiff:mo,code:$o}=Fn,Ao={};if($o!==void 0&&(Ao.code=$o),Mn!==void 0&&(Ao.balance=numberToHex(Mn)),io!==void 0&&(Ao.nonce=numberToHex(io)),fo!==void 0&&(Ao.state=serializeStateMapping(fo)),mo!==void 0){if(Ao.state)throw new StateAssignmentConflictError;Ao.stateDiff=serializeStateMapping(mo)}return Ao}function serializeStateOverride(Fn){if(!Fn)return;const Mn={};for(const{address:io,...fo}of Fn){if(!isAddress(io,{strict:!1}))throw new InvalidAddressError({address:io});if(Mn[io])throw new AccountStateConflictError({address:io});Mn[io]=serializeAccountStateOverride(fo)}return Mn}const maxUint256=2n**256n-1n;function assertRequest(Fn){const{account:Mn,gasPrice:io,maxFeePerGas:fo,maxPriorityFeePerGas:mo,to:$o}=Fn,Ao=Mn?parseAccount(Mn):void 0;if(Ao&&!isAddress(Ao.address))throw new InvalidAddressError({address:Ao.address});if($o&&!isAddress($o))throw new InvalidAddressError({address:$o});if(typeof io<"u"&&(typeof fo<"u"||typeof mo<"u"))throw new FeeConflictError;if(fo&&fo>maxUint256)throw new FeeCapTooHighError({maxFeePerGas:fo});if(mo&&fo&&mo>fo)throw new TipAboveFeeCapError({maxFeePerGas:fo,maxPriorityFeePerGas:mo})}class BaseFeeScalarError extends BaseError{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Eip1559FeesNotSupportedError extends BaseError{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class MaxFeePerGasTooLowError extends BaseError{constructor({maxPriorityFeePerGas:Mn}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${formatGwei(Mn)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class BlockNotFoundError extends BaseError{constructor({blockHash:Mn,blockNumber:io}){let fo="Block";Mn&&(fo=`Block at hash "${Mn}"`),io&&(fo=`Block at number "${io}"`),super(`${fo} could not be found.`,{name:"BlockNotFoundError"})}}const transactionType={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function formatTransaction(Fn){const Mn={...Fn,blockHash:Fn.blockHash?Fn.blockHash:null,blockNumber:Fn.blockNumber?BigInt(Fn.blockNumber):null,chainId:Fn.chainId?hexToNumber(Fn.chainId):void 0,gas:Fn.gas?BigInt(Fn.gas):void 0,gasPrice:Fn.gasPrice?BigInt(Fn.gasPrice):void 0,maxFeePerBlobGas:Fn.maxFeePerBlobGas?BigInt(Fn.maxFeePerBlobGas):void 0,maxFeePerGas:Fn.maxFeePerGas?BigInt(Fn.maxFeePerGas):void 0,maxPriorityFeePerGas:Fn.maxPriorityFeePerGas?BigInt(Fn.maxPriorityFeePerGas):void 0,nonce:Fn.nonce?hexToNumber(Fn.nonce):void 0,to:Fn.to?Fn.to:null,transactionIndex:Fn.transactionIndex?Number(Fn.transactionIndex):null,type:Fn.type?transactionType[Fn.type]:void 0,typeHex:Fn.type?Fn.type:void 0,value:Fn.value?BigInt(Fn.value):void 0,v:Fn.v?BigInt(Fn.v):void 0};return Fn.authorizationList&&(Mn.authorizationList=formatAuthorizationList(Fn.authorizationList)),Mn.yParity=(()=>{if(Fn.yParity)return Number(Fn.yParity);if(typeof Mn.v=="bigint"){if(Mn.v===0n||Mn.v===27n)return 0;if(Mn.v===1n||Mn.v===28n)return 1;if(Mn.v>=35n)return Mn.v%2n===0n?1:0}})(),Mn.type==="legacy"&&(delete Mn.accessList,delete Mn.maxFeePerBlobGas,delete Mn.maxFeePerGas,delete Mn.maxPriorityFeePerGas,delete Mn.yParity),Mn.type==="eip2930"&&(delete Mn.maxFeePerBlobGas,delete Mn.maxFeePerGas,delete Mn.maxPriorityFeePerGas),Mn.type==="eip1559"&&delete Mn.maxFeePerBlobGas,Mn}const defineTransaction=defineFormatter("transaction",formatTransaction);function formatAuthorizationList(Fn){return Fn.map(Mn=>({contractAddress:Mn.address,chainId:Number(Mn.chainId),nonce:Number(Mn.nonce),r:Mn.r,s:Mn.s,yParity:Number(Mn.yParity)}))}function formatBlock(Fn){const Mn=(Fn.transactions??[]).map(io=>typeof io=="string"?io:formatTransaction(io));return{...Fn,baseFeePerGas:Fn.baseFeePerGas?BigInt(Fn.baseFeePerGas):null,blobGasUsed:Fn.blobGasUsed?BigInt(Fn.blobGasUsed):void 0,difficulty:Fn.difficulty?BigInt(Fn.difficulty):void 0,excessBlobGas:Fn.excessBlobGas?BigInt(Fn.excessBlobGas):void 0,gasLimit:Fn.gasLimit?BigInt(Fn.gasLimit):void 0,gasUsed:Fn.gasUsed?BigInt(Fn.gasUsed):void 0,hash:Fn.hash?Fn.hash:null,logsBloom:Fn.logsBloom?Fn.logsBloom:null,nonce:Fn.nonce?Fn.nonce:null,number:Fn.number?BigInt(Fn.number):null,size:Fn.size?BigInt(Fn.size):void 0,timestamp:Fn.timestamp?BigInt(Fn.timestamp):void 0,transactions:Mn,totalDifficulty:Fn.totalDifficulty?BigInt(Fn.totalDifficulty):null}}const defineBlock=defineFormatter("block",formatBlock);async function getBlock(Fn,{blockHash:Mn,blockNumber:io,blockTag:fo,includeTransactions:mo}={}){var zo,Vo,Go;const $o=fo??"latest",Ao=mo??!1,Lo=io!==void 0?numberToHex(io):void 0;let Wo=null;if(Mn?Wo=await Fn.request({method:"eth_getBlockByHash",params:[Mn,Ao]},{dedupe:!0}):Wo=await Fn.request({method:"eth_getBlockByNumber",params:[Lo||$o,Ao]},{dedupe:!!Lo}),!Wo)throw new BlockNotFoundError({blockHash:Mn,blockNumber:io});return(((Go=(Vo=(zo=Fn.chain)==null?void 0:zo.formatters)==null?void 0:Vo.block)==null?void 0:Go.format)||formatBlock)(Wo)}async function getGasPrice(Fn){const Mn=await Fn.request({method:"eth_gasPrice"});return BigInt(Mn)}async function estimateMaxPriorityFeePerGas(Fn,Mn){return internal_estimateMaxPriorityFeePerGas(Fn,Mn)}async function internal_estimateMaxPriorityFeePerGas(Fn,Mn){var $o,Ao;const{block:io,chain:fo=Fn.chain,request:mo}=Mn||{};try{const Lo=(($o=fo==null?void 0:fo.fees)==null?void 0:$o.maxPriorityFeePerGas)??((Ao=fo==null?void 0:fo.fees)==null?void 0:Ao.defaultPriorityFee);if(typeof Lo=="function"){const jo=io||await getAction$1(Fn,getBlock,"getBlock")({}),zo=await Lo({block:jo,client:Fn,request:mo});if(zo===null)throw new Error;return zo}if(typeof Lo<"u")return Lo;const Wo=await Fn.request({method:"eth_maxPriorityFeePerGas"});return hexToBigInt(Wo)}catch{const[Lo,Wo]=await Promise.all([io?Promise.resolve(io):getAction$1(Fn,getBlock,"getBlock")({}),getAction$1(Fn,getGasPrice,"getGasPrice")({})]);if(typeof Lo.baseFeePerGas!="bigint")throw new Eip1559FeesNotSupportedError;const jo=Wo-Lo.baseFeePerGas;return jo<0n?0n:jo}}async function estimateFeesPerGas(Fn,Mn){return internal_estimateFeesPerGas(Fn,Mn)}async function internal_estimateFeesPerGas(Fn,Mn){var Go,Jo;const{block:io,chain:fo=Fn.chain,request:mo,type:$o="eip1559"}=Mn||{},Ao=await(async()=>{var Qo,os;return typeof((Qo=fo==null?void 0:fo.fees)==null?void 0:Qo.baseFeeMultiplier)=="function"?fo.fees.baseFeeMultiplier({block:io,client:Fn,request:mo}):((os=fo==null?void 0:fo.fees)==null?void 0:os.baseFeeMultiplier)??1.2})();if(Ao<1)throw new BaseFeeScalarError;const Wo=10**(((Go=Ao.toString().split(".")[1])==null?void 0:Go.length)??0),jo=Qo=>Qo*BigInt(Math.ceil(Ao*Wo))/BigInt(Wo),zo=io||await getAction$1(Fn,getBlock,"getBlock")({});if(typeof((Jo=fo==null?void 0:fo.fees)==null?void 0:Jo.estimateFeesPerGas)=="function"){const Qo=await fo.fees.estimateFeesPerGas({block:io,client:Fn,multiply:jo,request:mo,type:$o});if(Qo!==null)return Qo}if($o==="eip1559"){if(typeof zo.baseFeePerGas!="bigint")throw new Eip1559FeesNotSupportedError;const Qo=typeof(mo==null?void 0:mo.maxPriorityFeePerGas)=="bigint"?mo.maxPriorityFeePerGas:await internal_estimateMaxPriorityFeePerGas(Fn,{block:zo,chain:fo,request:mo}),os=jo(zo.baseFeePerGas);return{maxFeePerGas:(mo==null?void 0:mo.maxFeePerGas)??os+Qo,maxPriorityFeePerGas:Qo}}return{gasPrice:(mo==null?void 0:mo.gasPrice)??jo(await getAction$1(Fn,getGasPrice,"getGasPrice")({}))}}async function getTransactionCount(Fn,{address:Mn,blockTag:io="latest",blockNumber:fo}){const mo=await Fn.request({method:"eth_getTransactionCount",params:[Mn,fo?numberToHex(fo):io]},{dedupe:!!fo});return hexToNumber(mo)}function blobsToCommitments(Fn){const{kzg:Mn}=Fn,io=Fn.to??(typeof Fn.blobs[0]=="string"?"hex":"bytes"),fo=typeof Fn.blobs[0]=="string"?Fn.blobs.map($o=>hexToBytes$1($o)):Fn.blobs,mo=[];for(const $o of fo)mo.push(Uint8Array.from(Mn.blobToKzgCommitment($o)));return io==="bytes"?mo:mo.map($o=>bytesToHex$2($o))}function blobsToProofs(Fn){const{kzg:Mn}=Fn,io=Fn.to??(typeof Fn.blobs[0]=="string"?"hex":"bytes"),fo=typeof Fn.blobs[0]=="string"?Fn.blobs.map(Ao=>hexToBytes$1(Ao)):Fn.blobs,mo=typeof Fn.commitments[0]=="string"?Fn.commitments.map(Ao=>hexToBytes$1(Ao)):Fn.commitments,$o=[];for(let Ao=0;Ao<fo.length;Ao++){const Lo=fo[Ao],Wo=mo[Ao];$o.push(Uint8Array.from(Mn.computeBlobKzgProof(Lo,Wo)))}return io==="bytes"?$o:$o.map(Ao=>bytesToHex$2(Ao))}function setBigUint64(Fn,Mn,io,fo){if(typeof Fn.setBigUint64=="function")return Fn.setBigUint64(Mn,io,fo);const mo=BigInt(32),$o=BigInt(4294967295),Ao=Number(io>>mo&$o),Lo=Number(io&$o),Wo=fo?4:0,jo=fo?0:4;Fn.setUint32(Mn+Wo,Ao,fo),Fn.setUint32(Mn+jo,Lo,fo)}const Chi=(Fn,Mn,io)=>Fn&Mn^~Fn&io,Maj=(Fn,Mn,io)=>Fn&Mn^Fn&io^Mn&io;class HashMD extends Hash{constructor(Mn,io,fo,mo){super(),this.blockLen=Mn,this.outputLen=io,this.padOffset=fo,this.isLE=mo,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(Mn),this.view=createView(this.buffer)}update(Mn){exists(this);const{view:io,buffer:fo,blockLen:mo}=this;Mn=toBytes$3(Mn);const $o=Mn.length;for(let Ao=0;Ao<$o;){const Lo=Math.min(mo-this.pos,$o-Ao);if(Lo===mo){const Wo=createView(Mn);for(;mo<=$o-Ao;Ao+=mo)this.process(Wo,Ao);continue}fo.set(Mn.subarray(Ao,Ao+Lo),this.pos),this.pos+=Lo,Ao+=Lo,this.pos===mo&&(this.process(io,0),this.pos=0)}return this.length+=Mn.length,this.roundClean(),this}digestInto(Mn){exists(this),output(Mn,this),this.finished=!0;const{buffer:io,view:fo,blockLen:mo,isLE:$o}=this;let{pos:Ao}=this;io[Ao++]=128,this.buffer.subarray(Ao).fill(0),this.padOffset>mo-Ao&&(this.process(fo,0),Ao=0);for(let Vo=Ao;Vo<mo;Vo++)io[Vo]=0;setBigUint64(fo,mo-8,BigInt(this.length*8),$o),this.process(fo,0);const Lo=createView(Mn),Wo=this.outputLen;if(Wo%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const jo=Wo/4,zo=this.get();if(jo>zo.length)throw new Error("_sha2: outputLen bigger than state");for(let Vo=0;Vo<jo;Vo++)Lo.setUint32(4*Vo,zo[Vo],$o)}digest(){const{buffer:Mn,outputLen:io}=this;this.digestInto(Mn);const fo=Mn.slice(0,io);return this.destroy(),fo}_cloneInto(Mn){Mn||(Mn=new this.constructor),Mn.set(...this.get());const{blockLen:io,buffer:fo,length:mo,finished:$o,destroyed:Ao,pos:Lo}=this;return Mn.length=mo,Mn.pos=Lo,Mn.finished=$o,Mn.destroyed=Ao,mo%io&&Mn.buffer.set(fo),Mn}}const SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);let SHA256$1=class extends HashMD{constructor(){super(64,32,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:Mn,B:io,C:fo,D:mo,E:$o,F:Ao,G:Lo,H:Wo}=this;return[Mn,io,fo,mo,$o,Ao,Lo,Wo]}set(Mn,io,fo,mo,$o,Ao,Lo,Wo){this.A=Mn|0,this.B=io|0,this.C=fo|0,this.D=mo|0,this.E=$o|0,this.F=Ao|0,this.G=Lo|0,this.H=Wo|0}process(Mn,io){for(let Vo=0;Vo<16;Vo++,io+=4)SHA256_W[Vo]=Mn.getUint32(io,!1);for(let Vo=16;Vo<64;Vo++){const Go=SHA256_W[Vo-15],Jo=SHA256_W[Vo-2],Qo=rotr(Go,7)^rotr(Go,18)^Go>>>3,os=rotr(Jo,17)^rotr(Jo,19)^Jo>>>10;SHA256_W[Vo]=os+SHA256_W[Vo-7]+Qo+SHA256_W[Vo-16]|0}let{A:fo,B:mo,C:$o,D:Ao,E:Lo,F:Wo,G:jo,H:zo}=this;for(let Vo=0;Vo<64;Vo++){const Go=rotr(Lo,6)^rotr(Lo,11)^rotr(Lo,25),Jo=zo+Go+Chi(Lo,Wo,jo)+SHA256_K[Vo]+SHA256_W[Vo]|0,os=(rotr(fo,2)^rotr(fo,13)^rotr(fo,22))+Maj(fo,mo,$o)|0;zo=jo,jo=Wo,Wo=Lo,Lo=Ao+Jo|0,Ao=$o,$o=mo,mo=fo,fo=Jo+os|0}fo=fo+this.A|0,mo=mo+this.B|0,$o=$o+this.C|0,Ao=Ao+this.D|0,Lo=Lo+this.E|0,Wo=Wo+this.F|0,jo=jo+this.G|0,zo=zo+this.H|0,this.set(fo,mo,$o,Ao,Lo,Wo,jo,zo)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const sha256$6=wrapConstructor(()=>new SHA256$1);function sha256$5(Fn,Mn){return sha256$6(isHex(Fn,{strict:!1})?toBytes$4(Fn):Fn)}function commitmentToVersionedHash(Fn){const{commitment:Mn,version:io=1}=Fn,fo=Fn.to??(typeof Mn=="string"?"hex":"bytes"),mo=sha256$5(Mn);return mo.set([io],0),fo==="bytes"?mo:bytesToHex$2(mo)}function commitmentsToVersionedHashes(Fn){const{commitments:Mn,version:io}=Fn,fo=Fn.to??(typeof Mn[0]=="string"?"hex":"bytes"),mo=[];for(const $o of Mn)mo.push(commitmentToVersionedHash({commitment:$o,to:fo,version:io}));return mo}const blobsPerTransaction=6,bytesPerFieldElement=32,fieldElementsPerBlob=4096,bytesPerBlob=bytesPerFieldElement*fieldElementsPerBlob,maxBytesPerTransaction=bytesPerBlob*blobsPerTransaction-1-1*fieldElementsPerBlob*blobsPerTransaction,versionedHashVersionKzg=1;class BlobSizeTooLargeError extends BaseError{constructor({maxSize:Mn,size:io}){super("Blob size is too large.",{metaMessages:[`Max: ${Mn} bytes`,`Given: ${io} bytes`],name:"BlobSizeTooLargeError"})}}class EmptyBlobError extends BaseError{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class InvalidVersionedHashSizeError extends BaseError{constructor({hash:Mn,size:io}){super(`Versioned hash "${Mn}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${io}`],name:"InvalidVersionedHashSizeError"})}}class InvalidVersionedHashVersionError extends BaseError{constructor({hash:Mn,version:io}){super(`Versioned hash "${Mn}" version is invalid.`,{metaMessages:[`Expected: ${versionedHashVersionKzg}`,`Received: ${io}`],name:"InvalidVersionedHashVersionError"})}}function toBlobs(Fn){const Mn=Fn.to??(typeof Fn.data=="string"?"hex":"bytes"),io=typeof Fn.data=="string"?hexToBytes$1(Fn.data):Fn.data,fo=size$6(io);if(!fo)throw new EmptyBlobError;if(fo>maxBytesPerTransaction)throw new BlobSizeTooLargeError({maxSize:maxBytesPerTransaction,size:fo});const mo=[];let $o=!0,Ao=0;for(;$o;){const Lo=createCursor(new Uint8Array(bytesPerBlob));let Wo=0;for(;Wo<fieldElementsPerBlob;){const jo=io.slice(Ao,Ao+(bytesPerFieldElement-1));if(Lo.pushByte(0),Lo.pushBytes(jo),jo.length<31){Lo.pushByte(128),$o=!1;break}Wo++,Ao+=31}mo.push(Lo)}return Mn==="bytes"?mo.map(Lo=>Lo.bytes):mo.map(Lo=>bytesToHex$2(Lo.bytes))}function toBlobSidecars(Fn){const{data:Mn,kzg:io,to:fo}=Fn,mo=Fn.blobs??toBlobs({data:Mn,to:fo}),$o=Fn.commitments??blobsToCommitments({blobs:mo,kzg:io,to:fo}),Ao=Fn.proofs??blobsToProofs({blobs:mo,commitments:$o,kzg:io,to:fo}),Lo=[];for(let Wo=0;Wo<mo.length;Wo++)Lo.push({blob:mo[Wo],commitment:$o[Wo],proof:Ao[Wo]});return Lo}function getTransactionType(Fn){if(Fn.type)return Fn.type;if(typeof Fn.authorizationList<"u")return"eip7702";if(typeof Fn.blobs<"u"||typeof Fn.blobVersionedHashes<"u"||typeof Fn.maxFeePerBlobGas<"u"||typeof Fn.sidecars<"u")return"eip4844";if(typeof Fn.maxFeePerGas<"u"||typeof Fn.maxPriorityFeePerGas<"u")return"eip1559";if(typeof Fn.gasPrice<"u")return typeof Fn.accessList<"u"?"eip2930":"legacy";throw new InvalidSerializableTransactionError({transaction:Fn})}async function getChainId(Fn){const Mn=await Fn.request({method:"eth_chainId"},{dedupe:!0});return hexToNumber(Mn)}const defaultParameters=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function prepareTransactionRequest$1(Fn,Mn){const{account:io=Fn.account,blobs:fo,chain:mo,gas:$o,kzg:Ao,nonce:Lo,nonceManager:Wo,parameters:jo=defaultParameters,type:zo}=Mn,Vo=io&&parseAccount(io),Go={...Mn,...Vo?{from:Vo==null?void 0:Vo.address}:{}};let Jo;async function Qo(){return Jo||(Jo=await getAction$1(Fn,getBlock,"getBlock")({blockTag:"latest"}),Jo)}let os;async function Cl(){return os||(mo?mo.id:typeof Mn.chainId<"u"?Mn.chainId:(os=await getAction$1(Fn,getChainId,"getChainId")({}),os))}if((jo.includes("blobVersionedHashes")||jo.includes("sidecars"))&&fo&&Ao){const xl=blobsToCommitments({blobs:fo,kzg:Ao});if(jo.includes("blobVersionedHashes")){const ds=commitmentsToVersionedHashes({commitments:xl,to:"hex"});Go.blobVersionedHashes=ds}if(jo.includes("sidecars")){const ds=blobsToProofs({blobs:fo,commitments:xl,kzg:Ao}),_c=toBlobSidecars({blobs:fo,commitments:xl,proofs:ds,to:"hex"});Go.sidecars=_c}}if(jo.includes("chainId")&&(Go.chainId=await Cl()),jo.includes("nonce")&&typeof Lo>"u"&&Vo)if(Wo){const xl=await Cl();Go.nonce=await Wo.consume({address:Vo.address,chainId:xl,client:Fn})}else Go.nonce=await getAction$1(Fn,getTransactionCount,"getTransactionCount")({address:Vo.address,blockTag:"pending"});if((jo.includes("fees")||jo.includes("type"))&&typeof zo>"u")try{Go.type=getTransactionType(Go)}catch{const xl=await Qo();Go.type=typeof(xl==null?void 0:xl.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(jo.includes("fees"))if(Go.type!=="legacy"&&Go.type!=="eip2930"){if(typeof Go.maxFeePerGas>"u"||typeof Go.maxPriorityFeePerGas>"u"){const xl=await Qo(),{maxFeePerGas:ds,maxPriorityFeePerGas:_c}=await internal_estimateFeesPerGas(Fn,{block:xl,chain:mo,request:Go});if(typeof Mn.maxPriorityFeePerGas>"u"&&Mn.maxFeePerGas&&Mn.maxFeePerGas<_c)throw new MaxFeePerGasTooLowError({maxPriorityFeePerGas:_c});Go.maxPriorityFeePerGas=_c,Go.maxFeePerGas=ds}}else{if(typeof Mn.maxFeePerGas<"u"||typeof Mn.maxPriorityFeePerGas<"u")throw new Eip1559FeesNotSupportedError;const xl=await Qo(),{gasPrice:ds}=await internal_estimateFeesPerGas(Fn,{block:xl,chain:mo,request:Go,type:"legacy"});Go.gasPrice=ds}return jo.includes("gas")&&typeof $o>"u"&&(Go.gas=await getAction$1(Fn,estimateGas$1,"estimateGas")({...Go,account:Vo&&{address:Vo.address,type:"json-rpc"}})),assertRequest(Go),delete Go.parameters,Go}async function getBalance$1(Fn,{address:Mn,blockNumber:io,blockTag:fo="latest"}){const mo=io?numberToHex(io):void 0,$o=await Fn.request({method:"eth_getBalance",params:[Mn,mo||fo]});return BigInt($o)}async function estimateGas$1(Fn,Mn){var mo,$o,Ao;const{account:io=Fn.account}=Mn,fo=io?parseAccount(io):void 0;try{let rs=function(El){const{block:Pl,request:Sl,rpcStateOverride:Tl}=El;return Fn.request({method:"eth_estimateGas",params:Tl?[Sl,Pl??"latest",Tl]:Pl?[Sl,Pl]:[Sl]})};const{accessList:Lo,authorizationList:Wo,blobs:jo,blobVersionedHashes:zo,blockNumber:Vo,blockTag:Go,data:Jo,gas:Qo,gasPrice:os,maxFeePerBlobGas:Cl,maxFeePerGas:xl,maxPriorityFeePerGas:ds,nonce:_c,value:$l,stateOverride:Al,...Il}=await prepareTransactionRequest$1(Fn,{...Mn,parameters:(fo==null?void 0:fo.type)==="local"?void 0:["blobVersionedHashes"]}),ps=(Vo?numberToHex(Vo):void 0)||Go,Rl=serializeStateOverride(Al),Wl=await(async()=>{if(Il.to)return Il.to;if(Wo&&Wo.length>0)return await recoverAuthorizationAddress({authorization:Wo[0]}).catch(()=>{throw new BaseError("`to` is required. Could not infer from `authorizationList`")})})();assertRequest(Mn);const Nl=(Ao=($o=(mo=Fn.chain)==null?void 0:mo.formatters)==null?void 0:$o.transactionRequest)==null?void 0:Ao.format,Xo=(Nl||formatTransactionRequest)({...extract$2(Il,{format:Nl}),from:fo==null?void 0:fo.address,accessList:Lo,authorizationList:Wo,blobs:jo,blobVersionedHashes:zo,data:Jo,gas:Qo,gasPrice:os,maxFeePerBlobGas:Cl,maxFeePerGas:xl,maxPriorityFeePerGas:ds,nonce:_c,to:Wl,value:$l});let as=BigInt(await rs({block:ps,request:Xo,rpcStateOverride:Rl}));if(Wo){const El=await getBalance$1(Fn,{address:Xo.from}),Pl=await Promise.all(Wo.map(async Sl=>{const{contractAddress:Tl}=Sl,hs=await rs({block:ps,request:{authorizationList:void 0,data:Jo,from:fo==null?void 0:fo.address,to:Tl,value:numberToHex(El)},rpcStateOverride:Rl}).catch(()=>100000n);return 2n*BigInt(hs)}));as+=Pl.reduce((Sl,Tl)=>Sl+Tl,0n)}return as}catch(Lo){throw getEstimateGasError(Lo,{...Mn,account:fo,chain:Fn.chain})}}function formatLog(Fn,{args:Mn,eventName:io}={}){return{...Fn,blockHash:Fn.blockHash?Fn.blockHash:null,blockNumber:Fn.blockNumber?BigInt(Fn.blockNumber):null,logIndex:Fn.logIndex?Number(Fn.logIndex):null,transactionHash:Fn.transactionHash?Fn.transactionHash:null,transactionIndex:Fn.transactionIndex?Number(Fn.transactionIndex):null,...io?{args:Mn,eventName:io}:{}}}const docsPath$1="/docs/contract/decodeFunctionResult";function decodeFunctionResult(Fn){const{abi:Mn,args:io,functionName:fo,data:mo}=Fn;let $o=Mn[0];if(fo){const Lo=getAbiItem({abi:Mn,args:io,name:fo});if(!Lo)throw new AbiFunctionNotFoundError(fo,{docsPath:docsPath$1});$o=Lo}if($o.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:docsPath$1});if(!$o.outputs)throw new AbiFunctionOutputsNotFoundError($o.name,{docsPath:docsPath$1});const Ao=decodeAbiParameters($o.outputs,mo);if(Ao&&Ao.length>1)return Ao;if(Ao&&Ao.length===1)return Ao[0]}const multicall3Abi=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],universalResolverErrors=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],universalResolverResolveAbi=[...universalResolverErrors,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],universalResolverReverseAbi=[...universalResolverErrors,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],textResolverAbi=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],addressResolverAbi=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],universalSignatureValidatorAbi=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],aggregate3Signature="0x82ad56cb",deploylessCallViaBytecodeBytecode="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",deploylessCallViaFactoryBytecode="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",universalSignatureValidatorByteCode="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class ChainDoesNotSupportContract extends BaseError{constructor({blockNumber:Mn,chain:io,contract:fo}){super(`Chain "${io.name}" does not support contract "${fo.name}".`,{metaMessages:["This could be due to any of the following:",...Mn&&fo.blockCreated&&fo.blockCreated>Mn?[`- The contract "${fo.name}" was not deployed until block ${fo.blockCreated} (current block ${Mn}).`]:[`- The chain does not have the contract "${fo.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class ChainMismatchError extends BaseError{constructor({chain:Mn,currentChainId:io}){super(`The current chain of the wallet (id: ${io}) does not match the target chain for the transaction (id: ${Mn.id}  ${Mn.name}).`,{metaMessages:[`Current Chain ID:  ${io}`,`Expected Chain ID: ${Mn.id}  ${Mn.name}`],name:"ChainMismatchError"})}}class ChainNotFoundError extends BaseError{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class ClientChainNotConfiguredError extends BaseError{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class InvalidChainIdError extends BaseError{constructor({chainId:Mn}){super(typeof Mn=="number"?`Chain ID "${Mn}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const docsPath="/docs/contract/encodeDeployData";function encodeDeployData(Fn){const{abi:Mn,args:io,bytecode:fo}=Fn;if(!io||io.length===0)return fo;const mo=Mn.find(Ao=>"type"in Ao&&Ao.type==="constructor");if(!mo)throw new AbiConstructorNotFoundError({docsPath});if(!("inputs"in mo))throw new AbiConstructorParamsNotFoundError({docsPath});if(!mo.inputs||mo.inputs.length===0)throw new AbiConstructorParamsNotFoundError({docsPath});const $o=encodeAbiParameters(mo.inputs,io);return concatHex([fo,$o])}function getChainContractAddress({blockNumber:Fn,chain:Mn,contract:io}){var mo;const fo=(mo=Mn==null?void 0:Mn.contracts)==null?void 0:mo[io];if(!fo)throw new ChainDoesNotSupportContract({chain:Mn,contract:{name:io}});if(Fn&&fo.blockCreated&&fo.blockCreated>Fn)throw new ChainDoesNotSupportContract({blockNumber:Fn,chain:Mn,contract:{name:io,blockCreated:fo.blockCreated}});return fo.address}function getCallError(Fn,{docsPath:Mn,...io}){const fo=(()=>{const mo=getNodeError(Fn,io);return mo instanceof UnknownNodeError?Fn:mo})();return new CallExecutionError(fo,{docsPath:Mn,...io})}function withResolvers(){let Fn=()=>{},Mn=()=>{};return{promise:new Promise((fo,mo)=>{Fn=fo,Mn=mo}),resolve:Fn,reject:Mn}}const schedulerCache=new Map;function createBatchScheduler({fn:Fn,id:Mn,shouldSplitBatch:io,wait:fo=0,sort:mo}){const $o=async()=>{const zo=Wo();Ao();const Vo=zo.map(({args:Go})=>Go);Vo.length!==0&&Fn(Vo).then(Go=>{mo&&Array.isArray(Go)&&Go.sort(mo);for(let Jo=0;Jo<zo.length;Jo++){const{resolve:Qo}=zo[Jo];Qo==null||Qo([Go[Jo],Go])}}).catch(Go=>{for(let Jo=0;Jo<zo.length;Jo++){const{reject:Qo}=zo[Jo];Qo==null||Qo(Go)}})},Ao=()=>schedulerCache.delete(Mn),Lo=()=>Wo().map(({args:zo})=>zo),Wo=()=>schedulerCache.get(Mn)||[],jo=zo=>schedulerCache.set(Mn,[...Wo(),zo]);return{flush:Ao,async schedule(zo){const{promise:Vo,resolve:Go,reject:Jo}=withResolvers();return(io==null?void 0:io([...Lo(),zo]))&&$o(),Wo().length>0?(jo({args:zo,resolve:Go,reject:Jo}),Vo):(jo({args:zo,resolve:Go,reject:Jo}),setTimeout($o,fo),Vo)}}}async function call(Fn,Mn){var Nl,wl,Xo,rs;const{account:io=Fn.account,batch:fo=!!((Nl=Fn.batch)!=null&&Nl.multicall),blockNumber:mo,blockTag:$o="latest",accessList:Ao,blobs:Lo,code:Wo,data:jo,factory:zo,factoryData:Vo,gas:Go,gasPrice:Jo,maxFeePerBlobGas:Qo,maxFeePerGas:os,maxPriorityFeePerGas:Cl,nonce:xl,to:ds,value:_c,stateOverride:$l,...Al}=Mn,Il=io?parseAccount(io):void 0;if(Wo&&(zo||Vo))throw new BaseError("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(Wo&&ds)throw new BaseError("Cannot provide both `code` & `to` as parameters.");const us=Wo&&jo,ps=zo&&Vo&&ds&&jo,Rl=us||ps,Wl=us?toDeploylessCallViaBytecodeData({code:Wo,data:jo}):ps?toDeploylessCallViaFactoryData({data:jo,factory:zo,factoryData:Vo,to:ds}):jo;try{assertRequest(Mn);const El=(mo?numberToHex(mo):void 0)||$o,Pl=serializeStateOverride($l),Sl=(rs=(Xo=(wl=Fn.chain)==null?void 0:wl.formatters)==null?void 0:Xo.transactionRequest)==null?void 0:rs.format,hs=(Sl||formatTransactionRequest)({...extract$2(Al,{format:Sl}),from:Il==null?void 0:Il.address,accessList:Ao,blobs:Lo,data:Wl,gas:Go,gasPrice:Jo,maxFeePerBlobGas:Qo,maxFeePerGas:os,maxPriorityFeePerGas:Cl,nonce:xl,to:Rl?void 0:ds,value:_c});if(fo&&shouldPerformMulticall({request:hs})&&!Pl)try{return await scheduleMulticall(Fn,{...hs,blockNumber:mo,blockTag:$o})}catch(Fl){if(!(Fl instanceof ClientChainNotConfiguredError)&&!(Fl instanceof ChainDoesNotSupportContract))throw Fl}const yl=await Fn.request({method:"eth_call",params:Pl?[hs,El,Pl]:[hs,El]});return yl==="0x"?{data:void 0}:{data:yl}}catch(as){const El=getRevertErrorData(as),{offchainLookup:Pl,offchainLookupSignature:Sl}=await __vitePreload(async()=>{const{offchainLookup:Tl,offchainLookupSignature:hs}=await import("./ccip-rVzkkR5u.js");return{offchainLookup:Tl,offchainLookupSignature:hs}},__vite__mapDeps([0,1]));if(Fn.ccipRead!==!1&&(El==null?void 0:El.slice(0,10))===Sl&&ds)return{data:await Pl(Fn,{data:El,to:ds})};throw Rl&&(El==null?void 0:El.slice(0,10))==="0x101bb98d"?new CounterfactualDeploymentFailedError({factory:zo}):getCallError(as,{...Mn,account:Il,chain:Fn.chain})}}function shouldPerformMulticall({request:Fn}){const{data:Mn,to:io,...fo}=Fn;return!(!Mn||Mn.startsWith(aggregate3Signature)||!io||Object.values(fo).filter(mo=>typeof mo<"u").length>0)}async function scheduleMulticall(Fn,Mn){var os;const{batchSize:io=1024,wait:fo=0}=typeof((os=Fn.batch)==null?void 0:os.multicall)=="object"?Fn.batch.multicall:{},{blockNumber:mo,blockTag:$o="latest",data:Ao,multicallAddress:Lo,to:Wo}=Mn;let jo=Lo;if(!jo){if(!Fn.chain)throw new ClientChainNotConfiguredError;jo=getChainContractAddress({blockNumber:mo,chain:Fn.chain,contract:"multicall3"})}const Vo=(mo?numberToHex(mo):void 0)||$o,{schedule:Go}=createBatchScheduler({id:`${Fn.uid}.${Vo}`,wait:fo,shouldSplitBatch(Cl){return Cl.reduce((ds,{data:_c})=>ds+(_c.length-2),0)>io*2},fn:async Cl=>{const xl=Cl.map($l=>({allowFailure:!0,callData:$l.data,target:$l.to})),ds=encodeFunctionData({abi:multicall3Abi,args:[xl],functionName:"aggregate3"}),_c=await Fn.request({method:"eth_call",params:[{data:ds,to:jo},Vo]});return decodeFunctionResult({abi:multicall3Abi,args:[xl],functionName:"aggregate3",data:_c||"0x"})}}),[{returnData:Jo,success:Qo}]=await Go({data:Ao,to:Wo});if(!Qo)throw new RawContractError({data:Jo});return Jo==="0x"?{data:void 0}:{data:Jo}}function toDeploylessCallViaBytecodeData(Fn){const{code:Mn,data:io}=Fn;return encodeDeployData({abi:parseAbi(["constructor(bytes, bytes)"]),bytecode:deploylessCallViaBytecodeBytecode,args:[Mn,io]})}function toDeploylessCallViaFactoryData(Fn){const{data:Mn,factory:io,factoryData:fo,to:mo}=Fn;return encodeDeployData({abi:parseAbi(["constructor(address, bytes, address, bytes)"]),bytecode:deploylessCallViaFactoryBytecode,args:[mo,Mn,io,fo]})}function getRevertErrorData(Fn){var io;if(!(Fn instanceof BaseError))return;const Mn=Fn.walk();return typeof(Mn==null?void 0:Mn.data)=="object"?(io=Mn.data)==null?void 0:io.data:Mn.data}async function readContract$1(Fn,Mn){const{abi:io,address:fo,args:mo,functionName:$o,...Ao}=Mn,Lo=encodeFunctionData({abi:io,args:mo,functionName:$o});try{const{data:Wo}=await getAction$1(Fn,call,"call")({...Ao,data:Lo,to:fo});return decodeFunctionResult({abi:io,args:mo,functionName:$o,data:Wo||"0x"})}catch(Wo){throw getContractError(Wo,{abi:io,address:fo,args:mo,docsPath:"/docs/contract/readContract",functionName:$o})}}const listenersCache=new Map,cleanupCache=new Map;let callbackCount=0;function observe(Fn,Mn,io){const fo=++callbackCount,mo=()=>listenersCache.get(Fn)||[],$o=()=>{const zo=mo();listenersCache.set(Fn,zo.filter(Vo=>Vo.id!==fo))},Ao=()=>{const zo=cleanupCache.get(Fn);mo().length===1&&zo&&zo(),$o()},Lo=mo();if(listenersCache.set(Fn,[...Lo,{id:fo,fns:Mn}]),Lo&&Lo.length>0)return Ao;const Wo={};for(const zo in Mn)Wo[zo]=(...Vo)=>{var Jo,Qo;const Go=mo();if(Go.length!==0)for(const os of Go)(Qo=(Jo=os.fns)[zo])==null||Qo.call(Jo,...Vo)};const jo=io(Wo);return typeof jo=="function"&&cleanupCache.set(Fn,jo),Ao}async function wait$1(Fn){return new Promise(Mn=>setTimeout(Mn,Fn))}function poll$1(Fn,{emitOnBegin:Mn,initialWaitTime:io,interval:fo}){let mo=!0;const $o=()=>mo=!1;return(async()=>{let Lo;Mn&&(Lo=await Fn({unpoll:$o}));const Wo=await(io==null?void 0:io(Lo))??fo;await wait$1(Wo);const jo=async()=>{mo&&(await Fn({unpoll:$o}),await wait$1(fo),jo())};jo()})(),$o}const promiseCache$1=new Map,responseCache=new Map;function getCache(Fn){const Mn=(mo,$o)=>({clear:()=>$o.delete(mo),get:()=>$o.get(mo),set:Ao=>$o.set(mo,Ao)}),io=Mn(Fn,promiseCache$1),fo=Mn(Fn,responseCache);return{clear:()=>{io.clear(),fo.clear()},promise:io,response:fo}}async function withCache(Fn,{cacheKey:Mn,cacheTime:io=Number.POSITIVE_INFINITY}){const fo=getCache(Mn),mo=fo.response.get();if(mo&&io>0&&new Date().getTime()-mo.created.getTime()<io)return mo.data;let $o=fo.promise.get();$o||($o=Fn(),fo.promise.set($o));try{const Ao=await $o;return fo.response.set({created:new Date,data:Ao}),Ao}finally{fo.promise.clear()}}const cacheKey=Fn=>`blockNumber.${Fn}`;async function getBlockNumber(Fn,{cacheTime:Mn=Fn.cacheTime}={}){const io=await withCache(()=>Fn.request({method:"eth_blockNumber"}),{cacheKey:cacheKey(Fn.uid),cacheTime:Mn});return BigInt(io)}class AccountNotFoundError extends BaseError{constructor({docsPath:Mn}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:Mn,docsSlug:"account",name:"AccountNotFoundError"})}}class AccountTypeNotSupportedError extends BaseError{constructor({docsPath:Mn,metaMessages:io,type:fo}){super(`Account type "${fo}" is not supported.`,{docsPath:Mn,metaMessages:io,name:"AccountTypeNotSupportedError"})}}function assertCurrentChain({chain:Fn,currentChainId:Mn}){if(!Fn)throw new ChainNotFoundError;if(Mn!==Fn.id)throw new ChainMismatchError({chain:Fn,currentChainId:Mn})}function getTransactionError(Fn,{docsPath:Mn,...io}){const fo=(()=>{const mo=getNodeError(Fn,io);return mo instanceof UnknownNodeError?Fn:mo})();return new TransactionExecutionError(fo,{docsPath:Mn,...io})}async function sendRawTransaction(Fn,{serializedTransaction:Mn}){return Fn.request({method:"eth_sendRawTransaction",params:[Mn]},{retryCount:0})}const supportsWalletNamespace=new LruMap(128);async function sendTransaction$1(Fn,Mn){var xl,ds,_c,$l;const{account:io=Fn.account,chain:fo=Fn.chain,accessList:mo,authorizationList:$o,blobs:Ao,data:Lo,gas:Wo,gasPrice:jo,maxFeePerBlobGas:zo,maxFeePerGas:Vo,maxPriorityFeePerGas:Go,nonce:Jo,value:Qo,...os}=Mn;if(typeof io>"u")throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});const Cl=io?parseAccount(io):null;try{assertRequest(Mn);const Al=await(async()=>{if(Mn.to)return Mn.to;if($o&&$o.length>0)return await recoverAuthorizationAddress({authorization:$o[0]}).catch(()=>{throw new BaseError("`to` is required. Could not infer from `authorizationList`.")})})();if((Cl==null?void 0:Cl.type)==="json-rpc"||Cl===null){let Il;fo!==null&&(Il=await getAction$1(Fn,getChainId,"getChainId")({}),assertCurrentChain({currentChainId:Il,chain:fo}));const us=(_c=(ds=(xl=Fn.chain)==null?void 0:xl.formatters)==null?void 0:ds.transactionRequest)==null?void 0:_c.format,Rl=(us||formatTransactionRequest)({...extract$2(os,{format:us}),accessList:mo,authorizationList:$o,blobs:Ao,chainId:Il,data:Lo,from:Cl==null?void 0:Cl.address,gas:Wo,gasPrice:jo,maxFeePerBlobGas:zo,maxFeePerGas:Vo,maxPriorityFeePerGas:Go,nonce:Jo,to:Al,value:Qo}),Wl=supportsWalletNamespace.get(Fn.uid),Nl=Wl?"wallet_sendTransaction":"eth_sendTransaction";try{return await Fn.request({method:Nl,params:[Rl]},{retryCount:0})}catch(wl){if(Wl===!1)throw wl;const Xo=wl;if(Xo.name==="InvalidInputRpcError"||Xo.name==="InvalidParamsRpcError"||Xo.name==="MethodNotFoundRpcError"||Xo.name==="MethodNotSupportedRpcError")return await Fn.request({method:"wallet_sendTransaction",params:[Rl]},{retryCount:0}).then(rs=>(supportsWalletNamespace.set(Fn.uid,!0),rs)).catch(rs=>{const as=rs;throw as.name==="MethodNotFoundRpcError"||as.name==="MethodNotSupportedRpcError"?(supportsWalletNamespace.set(Fn.uid,!1),Xo):as});throw Xo}}if((Cl==null?void 0:Cl.type)==="local"){const Il=await getAction$1(Fn,prepareTransactionRequest$1,"prepareTransactionRequest")({account:Cl,accessList:mo,authorizationList:$o,blobs:Ao,chain:fo,data:Lo,gas:Wo,gasPrice:jo,maxFeePerBlobGas:zo,maxFeePerGas:Vo,maxPriorityFeePerGas:Go,nonce:Jo,nonceManager:Cl.nonceManager,parameters:[...defaultParameters,"sidecars"],value:Qo,...os,to:Al}),us=($l=fo==null?void 0:fo.serializers)==null?void 0:$l.transaction,ps=await Cl.signTransaction(Il,{serializer:us});return await getAction$1(Fn,sendRawTransaction,"sendRawTransaction")({serializedTransaction:ps})}throw(Cl==null?void 0:Cl.type)==="smart"?new AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransaction",type:Cl==null?void 0:Cl.type})}catch(Al){throw Al instanceof AccountTypeNotSupportedError?Al:getTransactionError(Al,{...Mn,account:Cl,chain:Mn.chain||void 0})}}async function writeContract$1(Fn,Mn){const{abi:io,account:fo=Fn.account,address:mo,args:$o,dataSuffix:Ao,functionName:Lo,...Wo}=Mn;if(typeof fo>"u")throw new AccountNotFoundError({docsPath:"/docs/contract/writeContract"});const jo=fo?parseAccount(fo):null,zo=encodeFunctionData({abi:io,args:$o,functionName:Lo});try{return await getAction$1(Fn,sendTransaction$1,"sendTransaction")({data:`${zo}${Ao?Ao.replace("0x",""):""}`,to:mo,account:jo,...Wo})}catch(Vo){throw getContractError(Vo,{abi:io,address:mo,args:$o,docsPath:"/docs/contract/writeContract",functionName:Lo,sender:jo==null?void 0:jo.address})}}const size$5=256;let index$2=size$5,buffer$2;function uid$1(Fn=11){if(!buffer$2||index$2+Fn>size$5*2){buffer$2="",index$2=0;for(let Mn=0;Mn<size$5;Mn++)buffer$2+=(256+Math.random()*256|0).toString(16).substring(1)}return buffer$2.substring(index$2,index$2+++Fn)}function createClient(Fn){const{batch:Mn,cacheTime:io=Fn.pollingInterval??4e3,ccipRead:fo,key:mo="base",name:$o="Base Client",pollingInterval:Ao=4e3,type:Lo="base"}=Fn,Wo=Fn.chain,jo=Fn.account?parseAccount(Fn.account):void 0,{config:zo,request:Vo,value:Go}=Fn.transport({chain:Wo,pollingInterval:Ao}),Jo={...zo,...Go},Qo={account:jo,batch:Mn,cacheTime:io,ccipRead:fo,chain:Wo,key:mo,name:$o,pollingInterval:Ao,request:Vo,transport:Jo,type:Lo,uid:uid$1()};function os(Cl){return xl=>{const ds=xl(Cl);for(const $l in Qo)delete ds[$l];const _c={...Cl,...ds};return Object.assign(_c,{extend:os(_c)})}}return Object.assign(Qo,{extend:os(Qo)})}const promiseCache=new LruMap(8192);function withDedupe(Fn,{enabled:Mn=!0,id:io}){if(!Mn||!io)return Fn();if(promiseCache.get(io))return promiseCache.get(io);const fo=Fn().finally(()=>promiseCache.delete(io));return promiseCache.set(io,fo),fo}function withRetry(Fn,{delay:Mn=100,retryCount:io=2,shouldRetry:fo=()=>!0}={}){return new Promise((mo,$o)=>{const Ao=async({count:Lo=0}={})=>{const Wo=async({error:jo})=>{const zo=typeof Mn=="function"?Mn({count:Lo,error:jo}):Mn;zo&&await wait$1(zo),Ao({count:Lo+1})};try{const jo=await Fn();mo(jo)}catch(jo){if(Lo<io&&await fo({count:Lo,error:jo}))return Wo({error:jo});$o(jo)}};Ao()})}function buildRequest(Fn,Mn={}){return async(io,fo={})=>{const{dedupe:mo=!1,retryDelay:$o=150,retryCount:Ao=3,uid:Lo}={...Mn,...fo},Wo=mo?keccak256(stringToHex(`${Lo}.${stringify(io)}`)):void 0;return withDedupe(()=>withRetry(async()=>{try{return await Fn(io)}catch(jo){const zo=jo;switch(zo.code){case ParseRpcError.code:throw new ParseRpcError(zo);case InvalidRequestRpcError.code:throw new InvalidRequestRpcError(zo);case MethodNotFoundRpcError.code:throw new MethodNotFoundRpcError(zo,{method:io.method});case InvalidParamsRpcError.code:throw new InvalidParamsRpcError(zo);case InternalRpcError.code:throw new InternalRpcError(zo);case InvalidInputRpcError.code:throw new InvalidInputRpcError(zo);case ResourceNotFoundRpcError.code:throw new ResourceNotFoundRpcError(zo);case ResourceUnavailableRpcError.code:throw new ResourceUnavailableRpcError(zo);case TransactionRejectedRpcError.code:throw new TransactionRejectedRpcError(zo);case MethodNotSupportedRpcError.code:throw new MethodNotSupportedRpcError(zo,{method:io.method});case LimitExceededRpcError.code:throw new LimitExceededRpcError(zo);case JsonRpcVersionUnsupportedError.code:throw new JsonRpcVersionUnsupportedError(zo);case UserRejectedRequestError.code:throw new UserRejectedRequestError(zo);case UnauthorizedProviderError.code:throw new UnauthorizedProviderError(zo);case UnsupportedProviderMethodError.code:throw new UnsupportedProviderMethodError(zo);case ProviderDisconnectedError.code:throw new ProviderDisconnectedError(zo);case ChainDisconnectedError.code:throw new ChainDisconnectedError(zo);case SwitchChainError.code:throw new SwitchChainError(zo);case 5e3:throw new UserRejectedRequestError(zo);default:throw jo instanceof BaseError?jo:new UnknownRpcError(zo)}}},{delay:({count:jo,error:zo})=>{var Vo;if(zo&&zo instanceof HttpRequestError){const Go=(Vo=zo==null?void 0:zo.headers)==null?void 0:Vo.get("Retry-After");if(Go!=null&&Go.match(/\d/))return Number.parseInt(Go)*1e3}return~~(1<<jo)*$o},retryCount:Ao,shouldRetry:({error:jo})=>shouldRetry(jo)}),{enabled:mo,id:Wo})}}function shouldRetry(Fn){return"code"in Fn&&typeof Fn.code=="number"?Fn.code===-1||Fn.code===LimitExceededRpcError.code||Fn.code===InternalRpcError.code:Fn instanceof HttpRequestError&&Fn.status?Fn.status===403||Fn.status===408||Fn.status===413||Fn.status===429||Fn.status===500||Fn.status===502||Fn.status===503||Fn.status===504:!0}function createTransport({key:Fn,name:Mn,request:io,retryCount:fo=3,retryDelay:mo=150,timeout:$o,type:Ao},Lo){const Wo=uid$1();return{config:{key:Fn,name:Mn,request:io,retryCount:fo,retryDelay:mo,timeout:$o,type:Ao},request:buildRequest(io,{retryCount:fo,retryDelay:mo,uid:Wo}),value:Lo}}function custom(Fn,Mn={}){const{key:io="custom",name:fo="Custom Provider",retryDelay:mo}=Mn;return({retryCount:$o})=>createTransport({key:io,name:fo,request:Fn.request.bind(Fn),retryCount:Mn.retryCount??$o,retryDelay:mo,type:"custom"})}function fallback(Fn,Mn={}){const{key:io="fallback",name:fo="Fallback",rank:mo=!1,retryCount:$o,retryDelay:Ao}=Mn;return({chain:Lo,pollingInterval:Wo=4e3,timeout:jo,...zo})=>{let Vo=Fn,Go=()=>{};const Jo=createTransport({key:io,name:fo,async request({method:Qo,params:os}){const Cl=async(xl=0)=>{const ds=Vo[xl]({...zo,chain:Lo,retryCount:0,timeout:jo});try{const _c=await ds.request({method:Qo,params:os});return Go({method:Qo,params:os,response:_c,transport:ds,status:"success"}),_c}catch(_c){if(Go({error:_c,method:Qo,params:os,transport:ds,status:"error"}),shouldThrow(_c)||xl===Vo.length-1)throw _c;return Cl(xl+1)}};return Cl()},retryCount:$o,retryDelay:Ao,type:"fallback"},{onResponse:Qo=>Go=Qo,transports:Vo.map(Qo=>Qo({chain:Lo,retryCount:0}))});if(mo){const Qo=typeof mo=="object"?mo:{};rankTransports({chain:Lo,interval:Qo.interval??Wo,onTransports:os=>Vo=os,sampleCount:Qo.sampleCount,timeout:Qo.timeout,transports:Vo,weights:Qo.weights})}return Jo}}function shouldThrow(Fn){return"code"in Fn&&typeof Fn.code=="number"&&(Fn.code===TransactionRejectedRpcError.code||Fn.code===UserRejectedRequestError.code||Fn.code===5e3)}function rankTransports({chain:Fn,interval:Mn=4e3,onTransports:io,sampleCount:fo=10,timeout:mo=1e3,transports:$o,weights:Ao={}}){const{stability:Lo=.7,latency:Wo=.3}=Ao,jo=[],zo=async()=>{const Vo=await Promise.all($o.map(async Qo=>{const os=Qo({chain:Fn,retryCount:0,timeout:mo}),Cl=Date.now();let xl,ds;try{await os.request({method:"net_listening"}),ds=1}catch{ds=0}finally{xl=Date.now()}return{latency:xl-Cl,success:ds}}));jo.push(Vo),jo.length>fo&&jo.shift();const Go=Math.max(...jo.map(Qo=>Math.max(...Qo.map(({latency:os})=>os)))),Jo=$o.map((Qo,os)=>{const Cl=jo.map(Al=>Al[os].latency),ds=1-Cl.reduce((Al,Il)=>Al+Il,0)/Cl.length/Go,_c=jo.map(Al=>Al[os].success),$l=_c.reduce((Al,Il)=>Al+Il,0)/_c.length;return $l===0?[0,os]:[Wo*ds+Lo*$l,os]}).sort((Qo,os)=>os[0]-Qo[0]);io(Jo.map(([,Qo])=>$o[Qo])),await wait$1(Mn),zo()};zo()}class UrlRequiredError extends BaseError{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function withTimeout(Fn,{errorInstance:Mn=new Error("timed out"),timeout:io,signal:fo}){return new Promise((mo,$o)=>{(async()=>{let Ao;try{const Lo=new AbortController;io>0&&(Ao=setTimeout(()=>{fo?Lo.abort():$o(Mn)},io)),mo(await Fn({signal:(Lo==null?void 0:Lo.signal)||null}))}catch(Lo){(Lo==null?void 0:Lo.name)==="AbortError"&&$o(Mn),$o(Lo)}finally{clearTimeout(Ao)}})()})}function createIdStore(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const idCache=createIdStore();function getHttpRpcClient(Fn,Mn={}){return{async request(io){var Vo;const{body:fo,onRequest:mo=Mn.onRequest,onResponse:$o=Mn.onResponse,timeout:Ao=Mn.timeout??1e4}=io,Lo={...Mn.fetchOptions??{},...io.fetchOptions??{}},{headers:Wo,method:jo,signal:zo}=Lo;try{const Go=await withTimeout(async({signal:Qo})=>{const os={...Lo,body:Array.isArray(fo)?stringify(fo.map(_c=>({jsonrpc:"2.0",id:_c.id??idCache.take(),..._c}))):stringify({jsonrpc:"2.0",id:fo.id??idCache.take(),...fo}),headers:{"Content-Type":"application/json",...Wo},method:jo||"POST",signal:zo||(Ao>0?Qo:null)},Cl=new Request(Fn,os),xl=await(mo==null?void 0:mo(Cl,os))??{...os,url:Fn};return await fetch(xl.url??Fn,xl)},{errorInstance:new TimeoutError({body:fo,url:Fn}),timeout:Ao,signal:!0});$o&&await $o(Go);let Jo;if((Vo=Go.headers.get("Content-Type"))!=null&&Vo.startsWith("application/json"))Jo=await Go.json();else{Jo=await Go.text();try{Jo=JSON.parse(Jo||"{}")}catch(Qo){if(Go.ok)throw Qo;Jo={error:Jo}}}if(!Go.ok)throw new HttpRequestError({body:fo,details:stringify(Jo.error)||Go.statusText,headers:Go.headers,status:Go.status,url:Fn});return Jo}catch(Go){throw Go instanceof HttpRequestError||Go instanceof TimeoutError?Go:new HttpRequestError({body:fo,cause:Go,url:Fn})}}}}function http(Fn,Mn={}){const{batch:io,fetchOptions:fo,key:mo="http",name:$o="HTTP JSON-RPC",onFetchRequest:Ao,onFetchResponse:Lo,retryDelay:Wo}=Mn;return({chain:jo,retryCount:zo,timeout:Vo})=>{const{batchSize:Go=1e3,wait:Jo=0}=typeof io=="object"?io:{},Qo=Mn.retryCount??zo,os=Vo??Mn.timeout??1e4,Cl=Fn||(jo==null?void 0:jo.rpcUrls.default.http[0]);if(!Cl)throw new UrlRequiredError;const xl=getHttpRpcClient(Cl,{fetchOptions:fo,onRequest:Ao,onResponse:Lo,timeout:os});return createTransport({key:mo,name:$o,async request({method:ds,params:_c}){const $l={method:ds,params:_c},{schedule:Al}=createBatchScheduler({id:Cl,wait:Jo,shouldSplitBatch(Rl){return Rl.length>Go},fn:Rl=>xl.request({body:Rl}),sort:(Rl,Wl)=>Rl.id-Wl.id}),Il=async Rl=>io?Al(Rl):[await xl.request({body:Rl})],[{error:us,result:ps}]=await Il($l);if(us)throw new RpcRequestError({body:$l,error:us,url:Cl});return ps},retryCount:Qo,retryDelay:Wo,timeout:os,type:"http"},{fetchOptions:fo,url:Cl})}}function isNullUniversalResolverError(Fn,Mn){var fo,mo,$o,Ao,Lo,Wo;if(!(Fn instanceof BaseError))return!1;const io=Fn.walk(jo=>jo instanceof ContractFunctionRevertedError);return io instanceof ContractFunctionRevertedError?!!(((fo=io.data)==null?void 0:fo.errorName)==="ResolverNotFound"||((mo=io.data)==null?void 0:mo.errorName)==="ResolverWildcardNotSupported"||(($o=io.data)==null?void 0:$o.errorName)==="ResolverNotContract"||((Ao=io.data)==null?void 0:Ao.errorName)==="ResolverError"||((Lo=io.data)==null?void 0:Lo.errorName)==="HttpError"||(Wo=io.reason)!=null&&Wo.includes("Wildcard on non-extended resolvers is not supported")||Mn==="reverse"&&io.reason===panicReasons[50]):!1}function encodedLabelToLabelhash(Fn){if(Fn.length!==66||Fn.indexOf("[")!==0||Fn.indexOf("]")!==65)return null;const Mn=`0x${Fn.slice(1,65)}`;return isHex(Mn)?Mn:null}function namehash(Fn){let Mn=new Uint8Array(32).fill(0);if(!Fn)return bytesToHex$2(Mn);const io=Fn.split(".");for(let fo=io.length-1;fo>=0;fo-=1){const mo=encodedLabelToLabelhash(io[fo]),$o=mo?toBytes$4(mo):keccak256(stringToBytes(io[fo]),"bytes");Mn=keccak256(concat$2([Mn,$o]),"bytes")}return bytesToHex$2(Mn)}function encodeLabelhash(Fn){return`[${Fn.slice(2)}]`}function labelhash(Fn){const Mn=new Uint8Array(32).fill(0);return Fn?encodedLabelToLabelhash(Fn)||keccak256(stringToBytes(Fn)):bytesToHex$2(Mn)}function packetToBytes(Fn){const Mn=Fn.replace(/^\.|\.$/gm,"");if(Mn.length===0)return new Uint8Array(1);const io=new Uint8Array(stringToBytes(Mn).byteLength+2);let fo=0;const mo=Mn.split(".");for(let $o=0;$o<mo.length;$o++){let Ao=stringToBytes(mo[$o]);Ao.byteLength>255&&(Ao=stringToBytes(encodeLabelhash(labelhash(mo[$o])))),io[fo]=Ao.length,io.set(Ao,fo+1),fo+=Ao.length+1}return io.byteLength!==fo+1?io.slice(0,fo+1):io}async function getEnsAddress$1(Fn,{blockNumber:Mn,blockTag:io,coinType:fo,name:mo,gatewayUrls:$o,strict:Ao,universalResolverAddress:Lo}){let Wo=Lo;if(!Wo){if(!Fn.chain)throw new Error("client chain not configured. universalResolverAddress is required.");Wo=getChainContractAddress({blockNumber:Mn,chain:Fn.chain,contract:"ensUniversalResolver"})}try{const jo=encodeFunctionData({abi:addressResolverAbi,functionName:"addr",...fo!=null?{args:[namehash(mo),BigInt(fo)]}:{args:[namehash(mo)]}}),zo={address:Wo,abi:universalResolverResolveAbi,functionName:"resolve",args:[toHex(packetToBytes(mo)),jo],blockNumber:Mn,blockTag:io},Vo=getAction$1(Fn,readContract$1,"readContract"),Go=$o?await Vo({...zo,args:[...zo.args,$o]}):await Vo(zo);if(Go[0]==="0x")return null;const Jo=decodeFunctionResult({abi:addressResolverAbi,args:fo!=null?[namehash(mo),BigInt(fo)]:void 0,functionName:"addr",data:Go[0]});return Jo==="0x"||trim(Jo)==="0x00"?null:Jo}catch(jo){if(Ao)throw jo;if(isNullUniversalResolverError(jo,"resolve"))return null;throw jo}}class EnsAvatarInvalidMetadataError extends BaseError{constructor({data:Mn}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(Mn)}`],name:"EnsAvatarInvalidMetadataError"})}}class EnsAvatarInvalidNftUriError extends BaseError{constructor({reason:Mn}){super(`ENS NFT avatar URI is invalid. ${Mn}`,{name:"EnsAvatarInvalidNftUriError"})}}class EnsAvatarUriResolutionError extends BaseError{constructor({uri:Mn}){super(`Unable to resolve ENS avatar URI "${Mn}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class EnsAvatarUnsupportedNamespaceError extends BaseError{constructor({namespace:Mn}){super(`ENS NFT avatar namespace "${Mn}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const networkRegex=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ipfsHashRegex=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,base64Regex=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,dataURIRegex=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function isImageUri(Fn){try{const Mn=await fetch(Fn,{method:"HEAD"});if(Mn.status===200){const io=Mn.headers.get("content-type");return io==null?void 0:io.startsWith("image/")}return!1}catch(Mn){return typeof Mn=="object"&&typeof Mn.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(io=>{const fo=new Image;fo.onload=()=>{io(!0)},fo.onerror=()=>{io(!1)},fo.src=Fn})}}function getGateway(Fn,Mn){return Fn?Fn.endsWith("/")?Fn.slice(0,-1):Fn:Mn}function resolveAvatarUri({uri:Fn,gatewayUrls:Mn}){const io=base64Regex.test(Fn);if(io)return{uri:Fn,isOnChain:!0,isEncoded:io};const fo=getGateway(Mn==null?void 0:Mn.ipfs,"https://ipfs.io"),mo=getGateway(Mn==null?void 0:Mn.arweave,"https://arweave.net"),$o=Fn.match(networkRegex),{protocol:Ao,subpath:Lo,target:Wo,subtarget:jo=""}=($o==null?void 0:$o.groups)||{},zo=Ao==="ipns:/"||Lo==="ipns/",Vo=Ao==="ipfs:/"||Lo==="ipfs/"||ipfsHashRegex.test(Fn);if(Fn.startsWith("http")&&!zo&&!Vo){let Jo=Fn;return Mn!=null&&Mn.arweave&&(Jo=Fn.replace(/https:\/\/arweave.net/g,Mn==null?void 0:Mn.arweave)),{uri:Jo,isOnChain:!1,isEncoded:!1}}if((zo||Vo)&&Wo)return{uri:`${fo}/${zo?"ipns":"ipfs"}/${Wo}${jo}`,isOnChain:!1,isEncoded:!1};if(Ao==="ar:/"&&Wo)return{uri:`${mo}/${Wo}${jo||""}`,isOnChain:!1,isEncoded:!1};let Go=Fn.replace(dataURIRegex,"");if(Go.startsWith("<svg")&&(Go=`data:image/svg+xml;base64,${btoa(Go)}`),Go.startsWith("data:")||Go.startsWith("{"))return{uri:Go,isOnChain:!0,isEncoded:!1};throw new EnsAvatarUriResolutionError({uri:Fn})}function getJsonImage(Fn){if(typeof Fn!="object"||!("image"in Fn)&&!("image_url"in Fn)&&!("image_data"in Fn))throw new EnsAvatarInvalidMetadataError({data:Fn});return Fn.image||Fn.image_url||Fn.image_data}async function getMetadataAvatarUri({gatewayUrls:Fn,uri:Mn}){try{const io=await fetch(Mn).then(mo=>mo.json());return await parseAvatarUri({gatewayUrls:Fn,uri:getJsonImage(io)})}catch{throw new EnsAvatarUriResolutionError({uri:Mn})}}async function parseAvatarUri({gatewayUrls:Fn,uri:Mn}){const{uri:io,isOnChain:fo}=resolveAvatarUri({uri:Mn,gatewayUrls:Fn});if(fo||await isImageUri(io))return io;throw new EnsAvatarUriResolutionError({uri:Mn})}function parseNftUri(Fn){let Mn=Fn;Mn.startsWith("did:nft:")&&(Mn=Mn.replace("did:nft:","").replace(/_/g,"/"));const[io,fo,mo]=Mn.split("/"),[$o,Ao]=io.split(":"),[Lo,Wo]=fo.split(":");if(!$o||$o.toLowerCase()!=="eip155")throw new EnsAvatarInvalidNftUriError({reason:"Only EIP-155 supported"});if(!Ao)throw new EnsAvatarInvalidNftUriError({reason:"Chain ID not found"});if(!Wo)throw new EnsAvatarInvalidNftUriError({reason:"Contract address not found"});if(!mo)throw new EnsAvatarInvalidNftUriError({reason:"Token ID not found"});if(!Lo)throw new EnsAvatarInvalidNftUriError({reason:"ERC namespace not found"});return{chainID:Number.parseInt(Ao),namespace:Lo.toLowerCase(),contractAddress:Wo,tokenID:mo}}async function getNftTokenUri(Fn,{nft:Mn}){if(Mn.namespace==="erc721")return readContract$1(Fn,{address:Mn.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(Mn.tokenID)]});if(Mn.namespace==="erc1155")return readContract$1(Fn,{address:Mn.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(Mn.tokenID)]});throw new EnsAvatarUnsupportedNamespaceError({namespace:Mn.namespace})}async function parseAvatarRecord(Fn,{gatewayUrls:Mn,record:io}){return/eip155:/i.test(io)?parseNftAvatarUri(Fn,{gatewayUrls:Mn,record:io}):parseAvatarUri({uri:io,gatewayUrls:Mn})}async function parseNftAvatarUri(Fn,{gatewayUrls:Mn,record:io}){const fo=parseNftUri(io),mo=await getNftTokenUri(Fn,{nft:fo}),{uri:$o,isOnChain:Ao,isEncoded:Lo}=resolveAvatarUri({uri:mo,gatewayUrls:Mn});if(Ao&&($o.includes("data:application/json;base64,")||$o.startsWith("{"))){const jo=Lo?atob($o.replace("data:application/json;base64,","")):$o,zo=JSON.parse(jo);return parseAvatarUri({uri:getJsonImage(zo),gatewayUrls:Mn})}let Wo=fo.tokenID;return fo.namespace==="erc1155"&&(Wo=Wo.replace("0x","").padStart(64,"0")),getMetadataAvatarUri({gatewayUrls:Mn,uri:$o.replace(/(?:0x)?{id}/,Wo)})}async function getEnsText(Fn,{blockNumber:Mn,blockTag:io,name:fo,key:mo,gatewayUrls:$o,strict:Ao,universalResolverAddress:Lo}){let Wo=Lo;if(!Wo){if(!Fn.chain)throw new Error("client chain not configured. universalResolverAddress is required.");Wo=getChainContractAddress({blockNumber:Mn,chain:Fn.chain,contract:"ensUniversalResolver"})}try{const jo={address:Wo,abi:universalResolverResolveAbi,functionName:"resolve",args:[toHex(packetToBytes(fo)),encodeFunctionData({abi:textResolverAbi,functionName:"text",args:[namehash(fo),mo]})],blockNumber:Mn,blockTag:io},zo=getAction$1(Fn,readContract$1,"readContract"),Vo=$o?await zo({...jo,args:[...jo.args,$o]}):await zo(jo);if(Vo[0]==="0x")return null;const Go=decodeFunctionResult({abi:textResolverAbi,functionName:"text",data:Vo[0]});return Go===""?null:Go}catch(jo){if(Ao)throw jo;if(isNullUniversalResolverError(jo,"resolve"))return null;throw jo}}async function getEnsAvatar$1(Fn,{blockNumber:Mn,blockTag:io,assetGatewayUrls:fo,name:mo,gatewayUrls:$o,strict:Ao,universalResolverAddress:Lo}){const Wo=await getAction$1(Fn,getEnsText,"getEnsText")({blockNumber:Mn,blockTag:io,key:"avatar",name:mo,universalResolverAddress:Lo,gatewayUrls:$o,strict:Ao});if(!Wo)return null;try{return await parseAvatarRecord(Fn,{record:Wo,gatewayUrls:fo})}catch{return null}}async function getEnsName$1(Fn,{address:Mn,blockNumber:io,blockTag:fo,gatewayUrls:mo,strict:$o,universalResolverAddress:Ao}){let Lo=Ao;if(!Lo){if(!Fn.chain)throw new Error("client chain not configured. universalResolverAddress is required.");Lo=getChainContractAddress({blockNumber:io,chain:Fn.chain,contract:"ensUniversalResolver"})}const Wo=`${Mn.toLowerCase().substring(2)}.addr.reverse`;try{const jo={address:Lo,abi:universalResolverReverseAbi,functionName:"reverse",args:[toHex(packetToBytes(Wo))],blockNumber:io,blockTag:fo},zo=getAction$1(Fn,readContract$1,"readContract"),[Vo,Go]=mo?await zo({...jo,args:[...jo.args,mo]}):await zo(jo);return Mn.toLowerCase()!==Go.toLowerCase()?null:Vo}catch(jo){if($o)throw jo;if(isNullUniversalResolverError(jo,"reverse"))return null;throw jo}}function defineChain$1(Fn){return{formatters:void 0,fees:void 0,serializers:void 0,...Fn}}const receiptStatuses={"0x0":"reverted","0x1":"success"};function formatTransactionReceipt(Fn){const Mn={...Fn,blockNumber:Fn.blockNumber?BigInt(Fn.blockNumber):null,contractAddress:Fn.contractAddress?Fn.contractAddress:null,cumulativeGasUsed:Fn.cumulativeGasUsed?BigInt(Fn.cumulativeGasUsed):null,effectiveGasPrice:Fn.effectiveGasPrice?BigInt(Fn.effectiveGasPrice):null,gasUsed:Fn.gasUsed?BigInt(Fn.gasUsed):null,logs:Fn.logs?Fn.logs.map(io=>formatLog(io)):null,to:Fn.to?Fn.to:null,transactionIndex:Fn.transactionIndex?hexToNumber(Fn.transactionIndex):null,status:Fn.status?receiptStatuses[Fn.status]:null,type:Fn.type?transactionType[Fn.type]||Fn.type:null};return Fn.blobGasPrice&&(Mn.blobGasPrice=BigInt(Fn.blobGasPrice)),Fn.blobGasUsed&&(Mn.blobGasUsed=BigInt(Fn.blobGasUsed)),Mn}const defineTransactionReceipt=defineFormatter("transactionReceipt",formatTransactionReceipt);function assertTransactionEIP7702(Fn){const{authorizationList:Mn}=Fn;if(Mn)for(const io of Mn){const{contractAddress:fo,chainId:mo}=io;if(!isAddress(fo))throw new InvalidAddressError({address:fo});if(mo<0)throw new InvalidChainIdError({chainId:mo})}assertTransactionEIP1559(Fn)}function assertTransactionEIP4844(Fn){const{blobVersionedHashes:Mn}=Fn;if(Mn){if(Mn.length===0)throw new EmptyBlobError;for(const io of Mn){const fo=size$6(io),mo=hexToNumber(slice$2(io,0,1));if(fo!==32)throw new InvalidVersionedHashSizeError({hash:io,size:fo});if(mo!==versionedHashVersionKzg)throw new InvalidVersionedHashVersionError({hash:io,version:mo})}}assertTransactionEIP1559(Fn)}function assertTransactionEIP1559(Fn){const{chainId:Mn,maxPriorityFeePerGas:io,maxFeePerGas:fo,to:mo}=Fn;if(Mn<=0)throw new InvalidChainIdError({chainId:Mn});if(mo&&!isAddress(mo))throw new InvalidAddressError({address:mo});if(fo&&fo>maxUint256)throw new FeeCapTooHighError({maxFeePerGas:fo});if(io&&fo&&io>fo)throw new TipAboveFeeCapError({maxFeePerGas:fo,maxPriorityFeePerGas:io})}function assertTransactionEIP2930(Fn){const{chainId:Mn,maxPriorityFeePerGas:io,gasPrice:fo,maxFeePerGas:mo,to:$o}=Fn;if(Mn<=0)throw new InvalidChainIdError({chainId:Mn});if($o&&!isAddress($o))throw new InvalidAddressError({address:$o});if(io||mo)throw new BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(fo&&fo>maxUint256)throw new FeeCapTooHighError({maxFeePerGas:fo})}function assertTransactionLegacy(Fn){const{chainId:Mn,maxPriorityFeePerGas:io,gasPrice:fo,maxFeePerGas:mo,to:$o}=Fn;if($o&&!isAddress($o))throw new InvalidAddressError({address:$o});if(typeof Mn<"u"&&Mn<=0)throw new InvalidChainIdError({chainId:Mn});if(io||mo)throw new BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(fo&&fo>maxUint256)throw new FeeCapTooHighError({maxFeePerGas:fo})}function serializeAuthorizationList(Fn){if(!Fn||Fn.length===0)return[];const Mn=[];for(const io of Fn){const{contractAddress:fo,chainId:mo,nonce:$o,...Ao}=io;Mn.push([mo?toHex(mo):"0x",fo,$o?toHex($o):"0x",...toYParitySignatureArray({},Ao)])}return Mn}function serializeAccessList(Fn){if(!Fn||Fn.length===0)return[];const Mn=[];for(let io=0;io<Fn.length;io++){const{address:fo,storageKeys:mo}=Fn[io];for(let $o=0;$o<mo.length;$o++)if(mo[$o].length-2!==64)throw new InvalidStorageKeySizeError({storageKey:mo[$o]});if(!isAddress(fo,{strict:!1}))throw new InvalidAddressError({address:fo});Mn.push([fo,mo])}return Mn}function serializeTransaction$1(Fn,Mn){const io=getTransactionType(Fn);return io==="eip1559"?serializeTransactionEIP1559(Fn,Mn):io==="eip2930"?serializeTransactionEIP2930(Fn,Mn):io==="eip4844"?serializeTransactionEIP4844(Fn,Mn):io==="eip7702"?serializeTransactionEIP7702(Fn,Mn):serializeTransactionLegacy(Fn,Mn)}function serializeTransactionEIP7702(Fn,Mn){const{authorizationList:io,chainId:fo,gas:mo,nonce:$o,to:Ao,value:Lo,maxFeePerGas:Wo,maxPriorityFeePerGas:jo,accessList:zo,data:Vo}=Fn;assertTransactionEIP7702(Fn);const Go=serializeAccessList(zo),Jo=serializeAuthorizationList(io);return concatHex(["0x04",toRlp([toHex(fo),$o?toHex($o):"0x",jo?toHex(jo):"0x",Wo?toHex(Wo):"0x",mo?toHex(mo):"0x",Ao??"0x",Lo?toHex(Lo):"0x",Vo??"0x",Go,Jo,...toYParitySignatureArray(Fn,Mn)])])}function serializeTransactionEIP4844(Fn,Mn){const{chainId:io,gas:fo,nonce:mo,to:$o,value:Ao,maxFeePerBlobGas:Lo,maxFeePerGas:Wo,maxPriorityFeePerGas:jo,accessList:zo,data:Vo}=Fn;assertTransactionEIP4844(Fn);let Go=Fn.blobVersionedHashes,Jo=Fn.sidecars;if(Fn.blobs&&(typeof Go>"u"||typeof Jo>"u")){const _c=typeof Fn.blobs[0]=="string"?Fn.blobs:Fn.blobs.map(Il=>bytesToHex$2(Il)),$l=Fn.kzg,Al=blobsToCommitments({blobs:_c,kzg:$l});if(typeof Go>"u"&&(Go=commitmentsToVersionedHashes({commitments:Al})),typeof Jo>"u"){const Il=blobsToProofs({blobs:_c,commitments:Al,kzg:$l});Jo=toBlobSidecars({blobs:_c,commitments:Al,proofs:Il})}}const Qo=serializeAccessList(zo),os=[toHex(io),mo?toHex(mo):"0x",jo?toHex(jo):"0x",Wo?toHex(Wo):"0x",fo?toHex(fo):"0x",$o??"0x",Ao?toHex(Ao):"0x",Vo??"0x",Qo,Lo?toHex(Lo):"0x",Go??[],...toYParitySignatureArray(Fn,Mn)],Cl=[],xl=[],ds=[];if(Jo)for(let _c=0;_c<Jo.length;_c++){const{blob:$l,commitment:Al,proof:Il}=Jo[_c];Cl.push($l),xl.push(Al),ds.push(Il)}return concatHex(["0x03",toRlp(Jo?[os,Cl,xl,ds]:os)])}function serializeTransactionEIP1559(Fn,Mn){const{chainId:io,gas:fo,nonce:mo,to:$o,value:Ao,maxFeePerGas:Lo,maxPriorityFeePerGas:Wo,accessList:jo,data:zo}=Fn;assertTransactionEIP1559(Fn);const Vo=serializeAccessList(jo),Go=[toHex(io),mo?toHex(mo):"0x",Wo?toHex(Wo):"0x",Lo?toHex(Lo):"0x",fo?toHex(fo):"0x",$o??"0x",Ao?toHex(Ao):"0x",zo??"0x",Vo,...toYParitySignatureArray(Fn,Mn)];return concatHex(["0x02",toRlp(Go)])}function serializeTransactionEIP2930(Fn,Mn){const{chainId:io,gas:fo,data:mo,nonce:$o,to:Ao,value:Lo,accessList:Wo,gasPrice:jo}=Fn;assertTransactionEIP2930(Fn);const zo=serializeAccessList(Wo),Vo=[toHex(io),$o?toHex($o):"0x",jo?toHex(jo):"0x",fo?toHex(fo):"0x",Ao??"0x",Lo?toHex(Lo):"0x",mo??"0x",zo,...toYParitySignatureArray(Fn,Mn)];return concatHex(["0x01",toRlp(Vo)])}function serializeTransactionLegacy(Fn,Mn){const{chainId:io=0,gas:fo,data:mo,nonce:$o,to:Ao,value:Lo,gasPrice:Wo}=Fn;assertTransactionLegacy(Fn);let jo=[$o?toHex($o):"0x",Wo?toHex(Wo):"0x",fo?toHex(fo):"0x",Ao??"0x",Lo?toHex(Lo):"0x",mo??"0x"];if(Mn){const zo=(()=>{if(Mn.v>=35n)return(Mn.v-35n)/2n>0?Mn.v:27n+(Mn.v===35n?0n:1n);if(io>0)return BigInt(io*2)+BigInt(35n+Mn.v-27n);const Jo=27n+(Mn.v===27n?0n:1n);if(Mn.v!==Jo)throw new InvalidLegacyVError({v:Mn.v});return Jo})(),Vo=trim(Mn.r),Go=trim(Mn.s);jo=[...jo,toHex(zo),Vo==="0x00"?"0x":Vo,Go==="0x00"?"0x":Go]}else io>0&&(jo=[...jo,toHex(io),"0x","0x"]);return toRlp(jo)}function toYParitySignatureArray(Fn,Mn){const io=Mn??Fn,{v:fo,yParity:mo}=io;if(typeof io.r>"u")return[];if(typeof io.s>"u")return[];if(typeof fo>"u"&&typeof mo>"u")return[];const $o=trim(io.r),Ao=trim(io.s);return[typeof mo=="number"?mo?toHex(1):"0x":fo===0n?"0x":fo===1n?toHex(1):fo===27n?"0x":toHex(1),$o==="0x00"?"0x":$o,Ao==="0x00"?"0x":Ao]}class InvalidDecimalNumberError extends BaseError{constructor({value:Mn}){super(`Number \`${Mn}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function parseUnits(Fn,Mn){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(Fn))throw new InvalidDecimalNumberError({value:Fn});let[io,fo="0"]=Fn.split(".");const mo=io.startsWith("-");if(mo&&(io=io.slice(1)),fo=fo.replace(/(0+)$/,""),Mn===0)Math.round(+`.${fo}`)===1&&(io=`${BigInt(io)+1n}`),fo="";else if(fo.length>Mn){const[$o,Ao,Lo]=[fo.slice(0,Mn-1),fo.slice(Mn-1,Mn),fo.slice(Mn)],Wo=Math.round(+`${Ao}.${Lo}`);Wo>9?fo=`${BigInt($o)+BigInt(1)}0`.padStart($o.length+1,"0"):fo=`${$o}${Wo}`,fo.length>Mn&&(fo=fo.slice(1),io=`${BigInt(io)+1n}`),fo=fo.slice(0,Mn)}else fo=fo.padEnd(Mn,"0");return BigInt(`${mo?"-":""}${io}${fo}`)}async function getTransaction(Fn,{blockHash:Mn,blockNumber:io,blockTag:fo,hash:mo,index:$o}){var zo,Vo,Go;const Ao=fo||"latest",Lo=io!==void 0?numberToHex(io):void 0;let Wo=null;if(mo?Wo=await Fn.request({method:"eth_getTransactionByHash",params:[mo]},{dedupe:!0}):Mn?Wo=await Fn.request({method:"eth_getTransactionByBlockHashAndIndex",params:[Mn,numberToHex($o)]},{dedupe:!0}):(Lo||Ao)&&(Wo=await Fn.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[Lo||Ao,numberToHex($o)]},{dedupe:!!Lo})),!Wo)throw new TransactionNotFoundError({blockHash:Mn,blockNumber:io,blockTag:Ao,hash:mo,index:$o});return(((Go=(Vo=(zo=Fn.chain)==null?void 0:zo.formatters)==null?void 0:Vo.transaction)==null?void 0:Go.format)||formatTransaction)(Wo)}async function getTransactionReceipt(Fn,{hash:Mn}){var mo,$o,Ao;const io=await Fn.request({method:"eth_getTransactionReceipt",params:[Mn]},{dedupe:!0});if(!io)throw new TransactionReceiptNotFoundError({hash:Mn});return(((Ao=($o=(mo=Fn.chain)==null?void 0:mo.formatters)==null?void 0:$o.transactionReceipt)==null?void 0:Ao.format)||formatTransactionReceipt)(io)}async function multicall$1(Fn,Mn){var Cl;const{allowFailure:io=!0,batchSize:fo,blockNumber:mo,blockTag:$o,multicallAddress:Ao,stateOverride:Lo}=Mn,Wo=Mn.contracts,jo=fo??(typeof((Cl=Fn.batch)==null?void 0:Cl.multicall)=="object"&&Fn.batch.multicall.batchSize||1024);let zo=Ao;if(!zo){if(!Fn.chain)throw new Error("client chain not configured. multicallAddress is required.");zo=getChainContractAddress({blockNumber:mo,chain:Fn.chain,contract:"multicall3"})}const Vo=[[]];let Go=0,Jo=0;for(let xl=0;xl<Wo.length;xl++){const{abi:ds,address:_c,args:$l,functionName:Al}=Wo[xl];try{const Il=encodeFunctionData({abi:ds,args:$l,functionName:Al});Jo+=(Il.length-2)/2,jo>0&&Jo>jo&&Vo[Go].length>0&&(Go++,Jo=(Il.length-2)/2,Vo[Go]=[]),Vo[Go]=[...Vo[Go],{allowFailure:!0,callData:Il,target:_c}]}catch(Il){const us=getContractError(Il,{abi:ds,address:_c,args:$l,docsPath:"/docs/contract/multicall",functionName:Al});if(!io)throw us;Vo[Go]=[...Vo[Go],{allowFailure:!0,callData:"0x",target:_c}]}}const Qo=await Promise.allSettled(Vo.map(xl=>getAction$1(Fn,readContract$1,"readContract")({abi:multicall3Abi,address:zo,args:[xl],blockNumber:mo,blockTag:$o,functionName:"aggregate3",stateOverride:Lo}))),os=[];for(let xl=0;xl<Qo.length;xl++){const ds=Qo[xl];if(ds.status==="rejected"){if(!io)throw ds.reason;for(let $l=0;$l<Vo[xl].length;$l++)os.push({status:"failure",error:ds.reason,result:void 0});continue}const _c=ds.value;for(let $l=0;$l<_c.length;$l++){const{returnData:Al,success:Il}=_c[$l],{callData:us}=Vo[xl][$l],{abi:ps,address:Rl,functionName:Wl,args:Nl}=Wo[os.length];try{if(us==="0x")throw new AbiDecodingZeroDataError;if(!Il)throw new RawContractError({data:Al});const wl=decodeFunctionResult({abi:ps,args:Nl,data:Al,functionName:Wl});os.push(io?{result:wl,status:"success"}:wl)}catch(wl){const Xo=getContractError(wl,{abi:ps,address:Rl,args:Nl,docsPath:"/docs/contract/multicall",functionName:Wl});if(!io)throw Xo;os.push({error:Xo,result:void 0,status:"failure"})}}}if(os.length!==Wo.length)throw new BaseError("multicall results mismatch");return os}function watchBlockNumber(Fn,{emitOnBegin:Mn=!1,emitMissed:io=!1,onBlockNumber:fo,onError:mo,poll:$o,pollingInterval:Ao=Fn.pollingInterval}){const Lo=typeof $o<"u"?$o:!(Fn.transport.type==="webSocket"||Fn.transport.type==="fallback"&&Fn.transport.transports[0].config.type==="webSocket");let Wo;return Lo?(()=>{const Vo=stringify(["watchBlockNumber",Fn.uid,Mn,io,Ao]);return observe(Vo,{onBlockNumber:fo,onError:mo},Go=>poll$1(async()=>{var Jo;try{const Qo=await getAction$1(Fn,getBlockNumber,"getBlockNumber")({cacheTime:0});if(Wo){if(Qo===Wo)return;if(Qo-Wo>1&&io)for(let os=Wo+1n;os<Qo;os++)Go.onBlockNumber(os,Wo),Wo=os}(!Wo||Qo>Wo)&&(Go.onBlockNumber(Qo,Wo),Wo=Qo)}catch(Qo){(Jo=Go.onError)==null||Jo.call(Go,Qo)}},{emitOnBegin:Mn,interval:Ao}))})():(()=>{const Vo=stringify(["watchBlockNumber",Fn.uid,Mn,io]);return observe(Vo,{onBlockNumber:fo,onError:mo},Go=>{let Jo=!0,Qo=()=>Jo=!1;return(async()=>{try{const os=(()=>{if(Fn.transport.type==="fallback"){const xl=Fn.transport.transports.find(ds=>ds.config.type==="webSocket");return xl?xl.value:Fn.transport}return Fn.transport})(),{unsubscribe:Cl}=await os.subscribe({params:["newHeads"],onData(xl){var _c;if(!Jo)return;const ds=hexToBigInt((_c=xl.result)==null?void 0:_c.number);Go.onBlockNumber(ds,Wo),Wo=ds},onError(xl){var ds;(ds=Go.onError)==null||ds.call(Go,xl)}});Qo=Cl,Jo||Qo()}catch(os){mo==null||mo(os)}})(),()=>Qo()})})()}async function waitForTransactionReceipt$1(Fn,{confirmations:Mn=1,hash:io,onReplaced:fo,pollingInterval:mo=Fn.pollingInterval,retryCount:$o=6,retryDelay:Ao=({count:Wo})=>~~(1<<Wo)*200,timeout:Lo=18e4}){const Wo=stringify(["waitForTransactionReceipt",Fn.uid,io]);let jo,zo,Vo,Go=!1;const{promise:Jo,resolve:Qo,reject:os}=withResolvers(),Cl=Lo?setTimeout(()=>os(new WaitForTransactionReceiptTimeoutError({hash:io})),Lo):void 0,xl=observe(Wo,{onReplaced:fo,resolve:Qo,reject:os},ds=>{const _c=getAction$1(Fn,watchBlockNumber,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:mo,async onBlockNumber($l){const Al=us=>{clearTimeout(Cl),_c(),us(),xl()};let Il=$l;if(!Go)try{if(Vo){if(Mn>1&&(!Vo.blockNumber||Il-Vo.blockNumber+1n<Mn))return;Al(()=>ds.resolve(Vo));return}if(jo||(Go=!0,await withRetry(async()=>{jo=await getAction$1(Fn,getTransaction,"getTransaction")({hash:io}),jo.blockNumber&&(Il=jo.blockNumber)},{delay:Ao,retryCount:$o}),Go=!1),Vo=await getAction$1(Fn,getTransactionReceipt,"getTransactionReceipt")({hash:io}),Mn>1&&(!Vo.blockNumber||Il-Vo.blockNumber+1n<Mn))return;Al(()=>ds.resolve(Vo))}catch(us){if(us instanceof TransactionNotFoundError||us instanceof TransactionReceiptNotFoundError){if(!jo){Go=!1;return}try{zo=jo,Go=!0;const ps=await withRetry(()=>getAction$1(Fn,getBlock,"getBlock")({blockNumber:Il,includeTransactions:!0}),{delay:Ao,retryCount:$o,shouldRetry:({error:Nl})=>Nl instanceof BlockNotFoundError});Go=!1;const Rl=ps.transactions.find(({from:Nl,nonce:wl})=>Nl===zo.from&&wl===zo.nonce);if(!Rl||(Vo=await getAction$1(Fn,getTransactionReceipt,"getTransactionReceipt")({hash:Rl.hash}),Mn>1&&(!Vo.blockNumber||Il-Vo.blockNumber+1n<Mn)))return;let Wl="replaced";Rl.to===zo.to&&Rl.value===zo.value?Wl="repriced":Rl.from===Rl.to&&Rl.value===0n&&(Wl="cancelled"),Al(()=>{var Nl;(Nl=ds.onReplaced)==null||Nl.call(ds,{reason:Wl,replacedTransaction:zo,transaction:Rl,transactionReceipt:Vo}),ds.resolve(Vo)})}catch(ps){Al(()=>ds.reject(ps))}}else Al(()=>ds.reject(us))}}})});return Jo}async function signMessage$1(Fn,{account:Mn=Fn.account,message:io}){if(!Mn)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});const fo=parseAccount(Mn);if(fo.signMessage)return fo.signMessage({message:io});const mo=typeof io=="string"?stringToHex(io):io.raw instanceof Uint8Array?toHex(io.raw):io.raw;return Fn.request({method:"personal_sign",params:[mo,fo.address]},{retryCount:0})}const RPC_URL_HOST="rpc.walletconnect.org";function getBlockchainApiRpcUrl(Fn,Mn){const io=new URL("https://rpc.walletconnect.org/v1/");return io.searchParams.set("chainId",Fn),io.searchParams.set("projectId",Mn),io.toString()}const WC_HTTP_RPC_SUPPORTED_CHAINS=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301"],CaipNetworksUtil={extendRpcUrlWithProjectId(Fn,Mn){let io=!1;try{io=new URL(Fn).host===RPC_URL_HOST}catch{io=!1}if(io){const fo=new URL(Fn);return fo.searchParams.has("projectId")||fo.searchParams.set("projectId",Mn),fo.toString()}return Fn},isCaipNetwork(Fn){return"chainNamespace"in Fn&&"caipNetworkId"in Fn},getChainNamespace(Fn){return this.isCaipNetwork(Fn)?Fn.chainNamespace:ConstantsUtil$3.CHAIN.EVM},getCaipNetworkId(Fn){return this.isCaipNetwork(Fn)?Fn.caipNetworkId:`${ConstantsUtil$3.CHAIN.EVM}:${Fn.id}`},getRpcUrl(Fn,Mn,io){var mo,$o,Ao;const fo=(Ao=($o=(mo=Fn.rpcUrls)==null?void 0:mo.default)==null?void 0:$o.http)==null?void 0:Ao[0];return WC_HTTP_RPC_SUPPORTED_CHAINS.includes(Mn)?getBlockchainApiRpcUrl(Mn,io):fo||""},extendCaipNetwork(Fn,{customNetworkImageUrls:Mn,projectId:io}){const fo=this.getCaipNetworkId(Fn),mo=this.getChainNamespace(Fn),$o=this.getRpcUrl(Fn,fo,io);return{...Fn,chainNamespace:mo,caipNetworkId:fo,assets:{imageId:PresetsUtil.NetworkImageIds[Fn.id],imageUrl:Mn==null?void 0:Mn[Fn.id]},rpcUrls:{...Fn.rpcUrls,default:{http:[$o]}}}},extendCaipNetworks(Fn,{customNetworkImageUrls:Mn,projectId:io}){return Fn.map(fo=>CaipNetworksUtil.extendCaipNetwork(fo,{customNetworkImageUrls:Mn,projectId:io}))},getViemTransport(Fn){var io;const Mn=(io=Fn.rpcUrls.default.http)==null?void 0:io[0];return WC_HTTP_RPC_SUPPORTED_CHAINS.includes(Fn.caipNetworkId)?fallback([http(Mn,{fetchOptions:{headers:{"Content-Type":"text/plain"}}}),http(Mn)]):http(Mn)}};var SocialProviderEnum;(function(Fn){Fn.Google="google",Fn.Github="github",Fn.Apple="apple",Fn.Facebook="facebook",Fn.X="x",Fn.Discord="discord",Fn.Farcaster="farcaster"})(SocialProviderEnum||(SocialProviderEnum={}));class AdapterBlueprint{constructor(Mn){this.availableConnectors=[],this.eventListeners=new Map,Mn&&this.construct(Mn)}construct(Mn){this.caipNetworks=Mn.networks,this.projectId=Mn.projectId,this.namespace=Mn.namespace}get connectors(){return this.availableConnectors}get networks(){return this.caipNetworks||[]}setUniversalProvider(Mn){this.addConnector({id:ConstantsUtil$1.WALLET_CONNECT_CONNECTOR_ID,type:"WALLET_CONNECT",name:PresetsUtil.ConnectorNamesMap[ConstantsUtil$1.WALLET_CONNECT_CONNECTOR_ID],provider:Mn,imageId:PresetsUtil.ConnectorImageIds[ConstantsUtil$1.WALLET_CONNECT_CONNECTOR_ID],chain:this.namespace,chains:[]})}setAuthProvider(Mn){this.addConnector({id:ConstantsUtil$1.AUTH_CONNECTOR_ID,type:"AUTH",name:"Auth",provider:Mn,imageId:PresetsUtil.ConnectorImageIds[ConstantsUtil$1.AUTH_CONNECTOR_ID],chain:this.namespace,chains:[]})}addConnector(...Mn){var fo,mo;if(Mn.some($o=>$o.id==="ID_AUTH")){const $o=Mn.find(jo=>jo.id==="ID_AUTH"),Ao=snapshot(OptionsController.state),Lo=ThemeController.getSnapshot().themeMode,Wo=ThemeController.getSnapshot().themeVariables;(mo=(fo=$o==null?void 0:$o.provider)==null?void 0:fo.syncDappData)==null||mo.call(fo,{metadata:Ao.metadata,sdkVersion:Ao.sdkVersion,projectId:Ao.projectId,sdkType:Ao.sdkType}),$o.provider.syncTheme({themeMode:Lo,themeVariables:Wo,w3mThemeVariables:getW3mThemeVariables(Wo,Lo)})}const io=new Set;this.availableConnectors=[...Mn,...this.availableConnectors].filter($o=>io.has($o.id)?!1:(io.add($o.id),!0))}on(Mn,io){var fo;this.eventListeners.has(Mn)||this.eventListeners.set(Mn,new Set),(fo=this.eventListeners.get(Mn))==null||fo.add(io)}off(Mn,io){const fo=this.eventListeners.get(Mn);fo&&fo.delete(io)}emit(Mn,io){const fo=this.eventListeners.get(Mn);fo&&fo.forEach(mo=>mo(io))}}const contracts={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},formatters={block:defineBlock({format(Fn){var io;return{transactions:(io=Fn.transactions)==null?void 0:io.map(fo=>{if(typeof fo=="string")return fo;const mo=formatTransaction(fo);return mo.typeHex==="0x7e"&&(mo.isSystemTx=fo.isSystemTx,mo.mint=fo.mint?hexToBigInt(fo.mint):void 0,mo.sourceHash=fo.sourceHash,mo.type="deposit"),mo}),stateRoot:Fn.stateRoot}}}),transaction:defineTransaction({format(Fn){const Mn={};return Fn.type==="0x7e"&&(Mn.isSystemTx=Fn.isSystemTx,Mn.mint=Fn.mint?hexToBigInt(Fn.mint):void 0,Mn.sourceHash=Fn.sourceHash,Mn.type="deposit"),Mn}}),transactionReceipt:defineTransactionReceipt({format(Fn){return{l1GasPrice:Fn.l1GasPrice?hexToBigInt(Fn.l1GasPrice):null,l1GasUsed:Fn.l1GasUsed?hexToBigInt(Fn.l1GasUsed):null,l1Fee:Fn.l1Fee?hexToBigInt(Fn.l1Fee):null,l1FeeScalar:Fn.l1FeeScalar?Number(Fn.l1FeeScalar):null}}})};function serializeTransaction(Fn,Mn){return isDeposit(Fn)?serializeTransactionDeposit(Fn):serializeTransaction$1(Fn,Mn)}const serializers={transaction:serializeTransaction};function serializeTransactionDeposit(Fn){assertTransactionDeposit(Fn);const{sourceHash:Mn,data:io,from:fo,gas:mo,isSystemTx:$o,mint:Ao,to:Lo,value:Wo}=Fn,jo=[Mn,fo,Lo??"0x",Ao?toHex(Ao):"0x",Wo?toHex(Wo):"0x",mo?toHex(mo):"0x",$o?"0x1":"0x",io??"0x"];return concatHex(["0x7e",toRlp(jo)])}function isDeposit(Fn){return Fn.type==="deposit"||typeof Fn.sourceHash<"u"}function assertTransactionDeposit(Fn){const{from:Mn,to:io}=Fn;if(Mn&&!isAddress(Mn))throw new InvalidAddressError({address:Mn});if(io&&!isAddress(io))throw new InvalidAddressError({address:io})}const chainConfig={contracts,formatters,serializers},mainnet=defineChain$1({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cloudflare-eth.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),sourceId=1,optimism=defineChain$1({...chainConfig,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...chainConfig.contracts,disputeGameFactory:{[sourceId]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[sourceId]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[sourceId]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[sourceId]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId});function defineChain(Fn){return{formatters:void 0,fees:void 0,serializers:void 0,...Fn}}const solana=defineChain({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),solanaDevnet=defineChain({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});defineChain({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});defineChain({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});const WcHelpersUtil={getMethodsByChainNamespace(Fn){switch(Fn){case"solana":return["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"];case"eip155":return["personal_sign","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendRawTransaction","eth_sendTransaction","wallet_getCapabilities","wallet_sendCalls","wallet_showCallsStatus","wallet_getCallsStatus","wallet_grantPermissions","wallet_revokePermissions","wallet_switchEthereumChain"];case"bip122":return["sendTransfer","signMessage","signPsbt","getAccountAddresses"];default:return[]}},createNamespaces(Fn){return Fn.reduce((Mn,io)=>{const{id:fo,chainNamespace:mo,rpcUrls:$o}=io,Ao=$o.default.http[0],Lo=this.getMethodsByChainNamespace(mo);Mn[mo]||(Mn[mo]={methods:Lo,events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}});const Wo=`${mo}:${fo}`,jo=Mn[mo];switch(jo.chains.push(Wo),Wo){case solana.caipNetworkId:jo.chains.push(solana.deprecatedCaipNetworkId);break;case solanaDevnet.caipNetworkId:jo.chains.push(solanaDevnet.deprecatedCaipNetworkId);break}return jo!=null&&jo.rpcMap&&Ao&&(jo.rpcMap[fo]=Ao),Mn},{})},resolveReownName:async Fn=>{var fo;const Mn=await EnsController.resolveName(Fn);return((fo=(Object.values(Mn==null?void 0:Mn.addresses)||[])[0])==null?void 0:fo.address)||!1},getChainsFromNamespaces(Fn={}){return Object.values(Fn).flatMap(Mn=>{const io=Mn.chains||[],fo=Mn.accounts.map(mo=>{const[$o,Ao]=mo.split(":");return`${$o}:${Ao}`});return Array.from(new Set([...io,...fo]))})}};function base$e(Fn){if(Fn.length>=255)throw new TypeError("Alphabet too long");const Mn=new Uint8Array(256);for(let jo=0;jo<Mn.length;jo++)Mn[jo]=255;for(let jo=0;jo<Fn.length;jo++){const zo=Fn.charAt(jo),Vo=zo.charCodeAt(0);if(Mn[Vo]!==255)throw new TypeError(zo+" is ambiguous");Mn[Vo]=jo}const io=Fn.length,fo=Fn.charAt(0),mo=Math.log(io)/Math.log(256),$o=Math.log(256)/Math.log(io);function Ao(jo){if(jo instanceof Uint8Array||(ArrayBuffer.isView(jo)?jo=new Uint8Array(jo.buffer,jo.byteOffset,jo.byteLength):Array.isArray(jo)&&(jo=Uint8Array.from(jo))),!(jo instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(jo.length===0)return"";let zo=0,Vo=0,Go=0;const Jo=jo.length;for(;Go!==Jo&&jo[Go]===0;)Go++,zo++;const Qo=(Jo-Go)*$o+1>>>0,os=new Uint8Array(Qo);for(;Go!==Jo;){let ds=jo[Go],_c=0;for(let $l=Qo-1;(ds!==0||_c<Vo)&&$l!==-1;$l--,_c++)ds+=256*os[$l]>>>0,os[$l]=ds%io>>>0,ds=ds/io>>>0;if(ds!==0)throw new Error("Non-zero carry");Vo=_c,Go++}let Cl=Qo-Vo;for(;Cl!==Qo&&os[Cl]===0;)Cl++;let xl=fo.repeat(zo);for(;Cl<Qo;++Cl)xl+=Fn.charAt(os[Cl]);return xl}function Lo(jo){if(typeof jo!="string")throw new TypeError("Expected String");if(jo.length===0)return new Uint8Array;let zo=0,Vo=0,Go=0;for(;jo[zo]===fo;)Vo++,zo++;const Jo=(jo.length-zo)*mo+1>>>0,Qo=new Uint8Array(Jo);for(;jo[zo];){let ds=Mn[jo.charCodeAt(zo)];if(ds===255)return;let _c=0;for(let $l=Jo-1;(ds!==0||_c<Go)&&$l!==-1;$l--,_c++)ds+=io*Qo[$l]>>>0,Qo[$l]=ds%256>>>0,ds=ds/256>>>0;if(ds!==0)throw new Error("Non-zero carry");Go=_c,zo++}let os=Jo-Go;for(;os!==Jo&&Qo[os]===0;)os++;const Cl=new Uint8Array(Vo+(Jo-os));let xl=Vo;for(;os!==Jo;)Cl[xl++]=Qo[os++];return Cl}function Wo(jo){const zo=Lo(jo);if(zo)return zo;throw new Error("Non-base"+io+" character")}return{encode:Ao,decodeUnsafe:Lo,decode:Wo}}var ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const bs58=base$e(ALPHABET);class UniversalAdapter extends AdapterBlueprint{async connectWalletConnect(Mn){const io=this.connectors.find($o=>$o.type==="WALLET_CONNECT"),fo=io==null?void 0:io.provider;if(!this.caipNetworks||!fo)throw new Error("UniversalAdapter:connectWalletConnect - caipNetworks or provider is undefined");fo.on("display_uri",$o=>{Mn($o)});const mo=WcHelpersUtil.createNamespaces(this.caipNetworks);await fo.connect({optionalNamespaces:mo})}async connect(Mn){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(Mn.chainId),provider:this.provider,address:""})}async disconnect(){const Mn=this.connectors.find(fo=>fo.id==="WALLET_CONNECT"),io=Mn==null?void 0:Mn.provider;await(io==null?void 0:io.disconnect())}async syncConnectors(){return Promise.resolve()}async getBalance(){return Promise.resolve({balance:"0",decimals:0,symbol:""})}async signMessage(Mn){var Ao,Lo,Wo;const{provider:io,message:fo,address:mo}=Mn;if(!io)throw new Error("UniversalAdapter:signMessage - provider is undefined");let $o="";return((Ao=ChainController.state.activeCaipNetwork)==null?void 0:Ao.chainNamespace)===ConstantsUtil$3.CHAIN.SOLANA?$o=(await io.request({method:"solana_signMessage",params:{message:bs58.encode(new TextEncoder().encode(fo)),pubkey:mo}},(Lo=ChainController.state.activeCaipNetwork)==null?void 0:Lo.caipNetworkId)).signature:$o=await io.request({method:"personal_sign",params:[fo,mo]},(Wo=ChainController.state.activeCaipNetwork)==null?void 0:Wo.caipNetworkId),{signature:$o}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async getProfile(){return Promise.resolve({profileImage:"",profileName:""})}async sendTransaction(){return Promise.resolve({hash:""})}async writeContract(){return Promise.resolve({hash:""})}async getEnsAddress(){return Promise.resolve({address:!1})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(Mn){const{caipNetwork:io}=Mn,fo=this.connectors.find($o=>$o.type==="WALLET_CONNECT"),mo=fo==null?void 0:fo.provider;if(!mo)throw new Error("UniversalAdapter:switchNetwork - provider is undefined");mo.setDefaultChain(`${io.chainNamespace}:${String(io.id)}`)}getWalletConnectProvider(){const Mn=this.connectors.find(fo=>fo.type==="WALLET_CONNECT");return Mn==null?void 0:Mn.provider}}const CLEAN_PROVIDERS_STATE={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},state=proxy({providers:{...CLEAN_PROVIDERS_STATE},providerIds:{...CLEAN_PROVIDERS_STATE}}),ProviderUtil={state,subscribeKey(Fn,Mn){return subscribeKey(state,Fn,Mn)},subscribeProviders(Fn){return subscribe(state.providers,()=>Fn(state.providers))},setProvider(Fn,Mn){Mn&&(state.providers[Fn]=ref(Mn))},getProvider(Fn){return state.providers[Fn]},setProviderId(Fn,Mn){Mn&&(state.providerIds[Fn]=Mn)},getProviderId(Fn){return state.providerIds[Fn]},reset(){state.providers={...CLEAN_PROVIDERS_STATE},state.providerIds={...CLEAN_PROVIDERS_STATE}},resetChain(Fn){state.providers[Fn]=void 0,state.providerIds[Fn]=void 0}};class W3mFrameProviderSingleton{constructor(){}static getInstance({projectId:Mn,chainId:io,onTimeout:fo}){return W3mFrameProviderSingleton.instance||(W3mFrameProviderSingleton.instance=new W3mFrameProvider({projectId:Mn,chainId:io,onTimeout:fo})),W3mFrameProviderSingleton.instance}}const accountState={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]},networkState={supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},OPTIONAL_METHODS=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions"];let isInitialized=!1;class AppKit{constructor(Mn){this.chainNamespaces=[],this.initPromise=void 0,this.setStatus=(io,fo)=>{AccountController.setStatus(io,fo)},this.getIsConnectedState=()=>!!ChainController.state.activeCaipAddress,this.setAllAccounts=(io,fo)=>{AccountController.setAllAccounts(io,fo),OptionsController.setHasMultipleAddresses((io==null?void 0:io.length)>1)},this.addAddressLabel=(io,fo,mo)=>{AccountController.addAddressLabel(io,fo,mo)},this.removeAddressLabel=(io,fo)=>{AccountController.removeAddressLabel(io,fo)},this.getCaipAddress=io=>ChainController.state.activeChain===io||!io?ChainController.state.activeCaipAddress:ChainController.getAccountProp("caipAddress",io),this.getAddressByChainNamespace=io=>ChainController.getAccountProp("address",io),this.getAddress=io=>ChainController.state.activeChain===io||!io?AccountController.state.address:ChainController.getAccountProp("address",io),this.getProvider=()=>AccountController.state.provider,this.getPreferredAccountType=()=>AccountController.state.preferredAccountType,this.setCaipAddress=(io,fo)=>{AccountController.setCaipAddress(io,fo)},this.setProvider=(io,fo)=>{AccountController.setProvider(io,fo)},this.setBalance=(io,fo,mo)=>{AccountController.setBalance(io,fo,mo)},this.setProfileName=(io,fo)=>{AccountController.setProfileName(io,fo)},this.setProfileImage=(io,fo)=>{AccountController.setProfileImage(io,fo)},this.resetAccount=io=>{AccountController.resetAccount(io)},this.setCaipNetwork=io=>{ChainController.setActiveCaipNetwork(io)},this.getCaipNetwork=io=>{var fo;return io?(fo=ChainController.getRequestedCaipNetworks(io).filter(mo=>mo.chainNamespace===io))==null?void 0:fo[0]:ChainController.state.activeCaipNetwork},this.getCaipNetworkId=()=>{const io=this.getCaipNetwork();if(io)return io.id},this.getCaipNetworks=io=>ChainController.getRequestedCaipNetworks(io),this.getActiveChainNamespace=()=>ChainController.state.activeChain,this.setRequestedCaipNetworks=(io,fo)=>{ChainController.setRequestedCaipNetworks(io,fo)},this.getApprovedCaipNetworkIds=()=>ChainController.getAllApprovedCaipNetworkIds(),this.setApprovedCaipNetworksData=io=>ChainController.setApprovedCaipNetworksData(io),this.resetNetwork=io=>{ChainController.resetNetwork(io)},this.setConnectors=io=>{const fo=[...ConnectorController.getConnectors(),...io];ConnectorController.setConnectors(fo)},this.addConnector=io=>{ConnectorController.addConnector(io)},this.getConnectors=()=>ConnectorController.getConnectors(),this.resetWcConnection=()=>{ConnectionController.resetWcConnection()},this.fetchIdentity=io=>BlockchainApiController.fetchIdentity(io),this.setAddressExplorerUrl=(io,fo)=>{AccountController.setAddressExplorerUrl(io,fo)},this.setSmartAccountDeployed=(io,fo)=>{AccountController.setSmartAccountDeployed(io,fo)},this.setConnectedWalletInfo=(io,fo)=>{AccountController.setConnectedWalletInfo(io,fo)},this.setSmartAccountEnabledNetworks=(io,fo)=>{ChainController.setSmartAccountEnabledNetworks(io,fo)},this.setPreferredAccountType=(io,fo)=>{AccountController.setPreferredAccountType(io,fo)},this.getReownName=io=>EnsController.getNamesForAddress(io),this.setEIP6963Enabled=io=>{OptionsController.setEIP6963Enabled(io)},this.setClientId=io=>{BlockchainApiController.setClientId(io)},this.getConnectorImage=io=>AssetUtil.getConnectorImage(io),this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=Mn,this.initialize(Mn)}static getInstance(){return this.instance}async initialize(Mn){this.caipNetworks=this.extendCaipNetworks(Mn),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(Mn),await this.initControllers(Mn),this.createAuthProvider(),await this.createUniversalProvider(),this.createClients(),ChainController.initialize(Mn.adapters??[]),this.chainAdapters=await this.createAdapters(Mn.adapters),await this.initChainAdapters(),this.syncRequestedNetworks(),await this.initOrContinue(),await this.syncExistingConnection(),this.version=Mn.sdkVersion}async open(Mn){await this.initOrContinue(),ModalController.open(Mn)}async close(){await this.initOrContinue(),ModalController.close()}setLoading(Mn){ModalController.setLoading(Mn)}getError(){return""}getChainId(){var Mn;return(Mn=ChainController.state.activeCaipNetwork)==null?void 0:Mn.id}switchNetwork(Mn){var fo;const io=(fo=this.caipNetworks)==null?void 0:fo.find(mo=>mo.id===Mn.id);if(!io){AlertController.open(ErrorUtil.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}ChainController.switchActiveNetwork(io)}getWalletProvider(){return ChainController.state.activeChain?ProviderUtil.state.providers[ChainController.state.activeChain]:null}getWalletProviderType(){return ChainController.state.activeChain?ProviderUtil.state.providerIds[ChainController.state.activeChain]:null}subscribeProvider(){return null}getThemeMode(){return ThemeController.state.themeMode}getThemeVariables(){return ThemeController.state.themeVariables}setThemeMode(Mn){ThemeController.setThemeMode(Mn),setColorTheme(ThemeController.state.themeMode)}setThemeVariables(Mn){ThemeController.setThemeVariables(Mn),setThemeVariables(ThemeController.state.themeVariables)}subscribeTheme(Mn){return ThemeController.subscribe(Mn)}getWalletInfo(){return AccountController.state.connectedWalletInfo}subscribeAccount(Mn){function io(){Mn({caipAddress:ChainController.state.activeCaipAddress,address:CoreHelperUtil.getPlainAddress(ChainController.state.activeCaipAddress),isConnected:!!ChainController.state.activeCaipAddress,status:AccountController.state.status})}ChainController.subscribe(io),AccountController.subscribe(io)}subscribeNetwork(Mn){return ChainController.subscribe(({activeCaipNetwork:io})=>{Mn({caipNetwork:io,chainId:io==null?void 0:io.id,caipNetworkId:io==null?void 0:io.caipNetworkId})})}subscribeWalletInfo(Mn){return AccountController.subscribeKey("connectedWalletInfo",Mn)}subscribeShouldUpdateToAddress(Mn){AccountController.subscribeKey("shouldUpdateToAddress",Mn)}subscribeCaipNetworkChange(Mn){ChainController.subscribeKey("activeCaipNetwork",Mn)}getState(){return PublicStateController.state}subscribeState(Mn){return PublicStateController.subscribe(Mn)}showErrorMessage(Mn){SnackController.showError(Mn)}showSuccessMessage(Mn){SnackController.showSuccess(Mn)}getEvent(){return{...EventsController.state}}subscribeEvents(Mn){return EventsController.subscribe(Mn)}replace(Mn){RouterController.replace(Mn)}redirect(Mn){RouterController.push(Mn)}popTransactionStack(Mn){RouterController.popTransactionStack(Mn)}isOpen(){return ModalController.state.open}isTransactionStackEmpty(){return RouterController.state.transactionStack.length===0}isTransactionShouldReplaceView(){var Mn;return(Mn=RouterController.state.transactionStack[RouterController.state.transactionStack.length-1])==null?void 0:Mn.replace}async disconnect(){var Mn;await((Mn=this.connectionControllerClient)==null?void 0:Mn.disconnect())}async initControllers(Mn){var mo;if(OptionsController.setDebug(Mn.debug),OptionsController.setProjectId(Mn.projectId),OptionsController.setSdkVersion(Mn.sdkVersion),!Mn.projectId){AlertController.open(ErrorUtil.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}this.adapters=Mn.adapters;const io=this.getDefaultMetaData();if(!Mn.metadata&&io&&(Mn.metadata=io),this.setDefaultNetwork(),OptionsController.setAllWallets(Mn.allWallets),OptionsController.setIncludeWalletIds(Mn.includeWalletIds),OptionsController.setExcludeWalletIds(Mn.excludeWalletIds),Mn.excludeWalletIds&&ApiController.searchWalletByIds({ids:Mn.excludeWalletIds}),OptionsController.setFeaturedWalletIds(Mn.featuredWalletIds),OptionsController.setTokens(Mn.tokens),OptionsController.setTermsConditionsUrl(Mn.termsConditionsUrl),OptionsController.setPrivacyPolicyUrl(Mn.privacyPolicyUrl),OptionsController.setCustomWallets(Mn.customWallets),OptionsController.setFeatures(Mn.features),OptionsController.setEnableWalletConnect(Mn.enableWalletConnect!==!1),OptionsController.setEnableWallets(Mn.enableWallets!==!1),Mn.metadata&&OptionsController.setMetadata(Mn.metadata),Mn.themeMode&&ThemeController.setThemeMode(Mn.themeMode),Mn.themeVariables&&ThemeController.setThemeVariables(Mn.themeVariables),Mn.disableAppend&&OptionsController.setDisableAppend(!!Mn.disableAppend),Mn.siwx&&OptionsController.setSIWX(Mn.siwx),((mo=Mn.adapters)==null?void 0:mo.find($o=>$o.namespace===ConstantsUtil$3.CHAIN.EVM))&&Mn.siweConfig){if(Mn.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");const $o=await __vitePreload(()=>import("./index-BRWl_Q0z.js"),[]);if(typeof $o.mapToSIWX!="function")throw new Error("Please update the `@reown/appkit-siwe` package to the latest version");OptionsController.setSIWX($o.mapToSIWX(Mn.siweConfig))}}getDefaultMetaData(){var Mn,io,fo;return typeof window<"u"&&typeof document<"u"?{name:((Mn=document.getElementsByTagName("title")[0])==null?void 0:Mn.textContent)||"",description:((io=document.querySelector('meta[property="og:description"]'))==null?void 0:io.content)||"",url:window.location.origin,icons:[((fo=document.querySelector('link[rel~="icon"]'))==null?void 0:fo.href)||""]}:null}extendCaipNetworks(Mn){return CaipNetworksUtil.extendCaipNetworks(Mn.networks,{customNetworkImageUrls:Mn.chainImages,projectId:Mn.projectId})}extendDefaultCaipNetwork(Mn){const io=Mn.networks.find(mo=>{var $o;return mo.id===(($o=Mn.defaultNetwork)==null?void 0:$o.id)});return io?CaipNetworksUtil.extendCaipNetwork(io,{customNetworkImageUrls:Mn.chainImages,projectId:Mn.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async Mn=>{var mo,$o,Ao,Lo,Wo,jo,zo;const io=this.getAdapter(ChainController.state.activeChain);(mo=this.universalProvider)==null||mo.on("display_uri",Vo=>{Mn(Vo)}),this.setClientId(await((Wo=(Lo=(Ao=($o=this.universalProvider)==null?void 0:$o.client)==null?void 0:Ao.core)==null?void 0:Lo.crypto)==null?void 0:Wo.getClientId())||null);let fo=!1;if(this.universalProvider){const Vo=((jo=this.caipNetworks)==null?void 0:jo.map(Go=>Go.caipNetworkId))||[];fo=await SIWXUtil.universalProviderAuthenticate({universalProvider:this.universalProvider,chains:Vo,methods:OPTIONAL_METHODS})}fo?this.close():await(io==null?void 0:io.connectWalletConnect(Mn,(zo=this.getCaipNetwork())==null?void 0:zo.id)),await this.syncWalletConnectAccount()},connectExternal:async({id:Mn,info:io,type:fo,provider:mo,chain:$o,caipNetwork:Ao})=>{var jo,zo,Vo,Go,Jo,Qo,os,Cl,xl,ds;if($o&&$o!==ChainController.state.activeChain&&!Ao){const _c=(jo=this.caipNetworks)==null?void 0:jo.find($l=>$l.chainNamespace===$o);_c&&this.setCaipNetwork(_c)}const Lo=$o?this.getAdapter($o):this.getAdapter(ChainController.state.activeChain),Wo=await(Lo==null?void 0:Lo.connect({id:Mn,info:io,type:fo,provider:mo,chainId:(Ao==null?void 0:Ao.id)||((zo=this.getCaipNetwork())==null?void 0:zo.id),rpcUrl:((Jo=(Go=(Vo=Ao==null?void 0:Ao.rpcUrls)==null?void 0:Vo.default)==null?void 0:Go.http)==null?void 0:Jo[0])||((xl=(Cl=(os=(Qo=this.getCaipNetwork())==null?void 0:Qo.rpcUrls)==null?void 0:os.default)==null?void 0:Cl.http)==null?void 0:xl[0])}));Wo&&(this.syncProvider({...Wo,chainNamespace:$o||ChainController.state.activeChain}),await this.syncAccount({...Wo,chainNamespace:$o||ChainController.state.activeChain})),(ds=this.caipNetworks)!=null&&ds.some(_c=>_c.id===(Wo==null?void 0:Wo.chainId))||ChainController.showUnsupportedChainUI()},reconnectExternal:async({id:Mn,info:io,type:fo,provider:mo})=>{var Ao;const $o=this.getAdapter(ChainController.state.activeChain);$o!=null&&$o.reconnect&&await($o==null?void 0:$o.reconnect({id:Mn,info:io,type:fo,provider:mo,chainId:(Ao=this.getCaipNetwork())==null?void 0:Ao.id}))},disconnect:async()=>{const Mn=this.getAdapter(ChainController.state.activeChain),io=ProviderUtil.getProvider(ChainController.state.activeChain),fo=ProviderUtil.state.providerIds[ChainController.state.activeChain];await(Mn==null?void 0:Mn.disconnect({provider:io,providerType:fo})),this.setStatus("disconnected",ChainController.state.activeChain),SafeLocalStorage.removeItem(SafeLocalStorageKeys.CONNECTED_CONNECTOR),SafeLocalStorage.removeItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID),ChainController.state.chains.forEach(mo=>{this.resetAccount(mo.namespace)})},checkInstalled:Mn=>Mn?Mn.some(io=>{var fo;return!!((fo=window.ethereum)!=null&&fo[String(io)])}):!!window.ethereum,signMessage:async Mn=>{const io=this.getAdapter(ChainController.state.activeChain),fo=await(io==null?void 0:io.signMessage({message:Mn,address:AccountController.state.address,provider:ProviderUtil.getProvider(ChainController.state.activeChain)}));return(fo==null?void 0:fo.signature)||""},sendTransaction:async Mn=>{if(Mn.chainNamespace==="eip155"){const io=this.getAdapter(ChainController.state.activeChain),fo=await(io==null?void 0:io.sendTransaction(Mn));return(fo==null?void 0:fo.hash)||""}return""},estimateGas:async Mn=>{if(Mn.chainNamespace==="eip155"){const io=this.getAdapter(ChainController.state.activeChain),fo=ProviderUtil.getProvider(ChainController.state.activeChain),mo=this.getCaipNetwork();if(!mo)throw new Error("CaipNetwork is undefined");const $o=await(io==null?void 0:io.estimateGas({...Mn,provider:fo,caipNetwork:mo}));return($o==null?void 0:$o.gas)||0n}return 0n},getEnsAvatar:async()=>{var fo;const Mn=this.getAdapter(ChainController.state.activeChain),io=await(Mn==null?void 0:Mn.getProfile({address:AccountController.state.address,chainId:Number((fo=this.getCaipNetwork())==null?void 0:fo.id)}));return(io==null?void 0:io.profileImage)||!1},getEnsAddress:async Mn=>{const io=this.getAdapter(ChainController.state.activeChain),fo=this.getCaipNetwork();if(!fo)return!1;const mo=await(io==null?void 0:io.getEnsAddress({name:Mn,caipNetwork:fo}));return(mo==null?void 0:mo.address)||!1},writeContract:async Mn=>{const io=this.getAdapter(ChainController.state.activeChain),fo=this.getCaipNetwork(),mo=this.getCaipAddress(),$o=ProviderUtil.getProvider(ChainController.state.activeChain);if(!fo||!mo)throw new Error("CaipNetwork or CaipAddress is undefined");const Ao=await(io==null?void 0:io.writeContract({...Mn,caipNetwork:fo,provider:$o,caipAddress:mo}));return Ao==null?void 0:Ao.hash},parseUnits:(Mn,io)=>{const fo=this.getAdapter(ChainController.state.activeChain);return(fo==null?void 0:fo.parseUnits({value:Mn,decimals:io}))??0n},formatUnits:(Mn,io)=>{const fo=this.getAdapter(ChainController.state.activeChain);return(fo==null?void 0:fo.formatUnits({value:Mn,decimals:io}))??"0"},getCapabilities:async Mn=>{const io=this.getAdapter(ChainController.state.activeChain);await(io==null?void 0:io.getCapabilities(Mn))},grantPermissions:async Mn=>{const io=this.getAdapter(ChainController.state.activeChain);return await(io==null?void 0:io.grantPermissions(Mn))},revokePermissions:async Mn=>{const io=this.getAdapter(ChainController.state.activeChain);return io!=null&&io.revokePermissions?await io.revokePermissions(Mn):"0x"}},this.networkControllerClient={switchCaipNetwork:async Mn=>{var io,fo,mo;if(Mn)if(AccountController.state.address&&Mn.chainNamespace===ChainController.state.activeChain){const $o=this.getAdapter(ChainController.state.activeChain),Ao=ProviderUtil.getProvider(ChainController.state.activeChain),Lo=ProviderUtil.state.providerIds[ChainController.state.activeChain];await($o==null?void 0:$o.switchNetwork({caipNetwork:Mn,provider:Ao,providerType:Lo})),this.setCaipNetwork(Mn),await this.syncAccount({address:AccountController.state.address,chainId:(io=ChainController.state.activeCaipNetwork)==null?void 0:io.id,chainNamespace:Mn.chainNamespace})}else if(AccountController.state.address){const $o=ProviderUtil.state.providerIds[ChainController.state.activeChain];if($o==="AUTH")try{ChainController.state.activeChain=Mn.chainNamespace,await((mo=(fo=this.connectionControllerClient)==null?void 0:fo.connectExternal)==null?void 0:mo.call(fo,{id:"ID_AUTH",provider:this.authProvider,chain:Mn.chainNamespace,chainId:Mn.id,type:"AUTH",caipNetwork:Mn}))}catch{const Lo=this.getAdapter(Mn.chainNamespace);await(Lo==null?void 0:Lo.switchNetwork({caipNetwork:Mn,provider:this.authProvider,providerType:$o}))}else if($o==="WALLET_CONNECT")this.setCaipNetwork(Mn),this.syncWalletConnectAccount();else{this.setCaipNetwork(Mn);const Ao=this.getAddressByChainNamespace(Mn.chainNamespace);Ao&&this.syncAccount({address:Ao,chainId:Mn.id,chainNamespace:Mn.chainNamespace})}}else this.setCaipNetwork(Mn)},getApprovedCaipNetworksData:async()=>{var io,fo;if(ProviderUtil.state.providerIds[ChainController.state.activeChain]===ConstantsUtil$1.CONNECTOR_TYPE_WALLET_CONNECT){const mo=(fo=(io=this.universalProvider)==null?void 0:io.session)==null?void 0:fo.namespaces;return{supportsAllNetworks:!1,approvedCaipNetworkIds:this.getChainsFromNamespaces(mo)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}},this.networkControllerClient&&this.connectionControllerClient&&ConnectionController.setClient(this.connectionControllerClient)}async handleDisconnect(){var Mn;await((Mn=this.connectionControllerClient)==null?void 0:Mn.disconnect())}async listenAuthConnector(Mn){var mo,$o,Ao;this.setLoading(!0);const io=Mn.getLoginEmailUsed();this.setLoading(io);const{isConnected:fo}=await Mn.isConnected();fo&&((mo=this.connectionControllerClient)!=null&&mo.connectExternal)?(Ao=this.connectionControllerClient)==null||Ao.connectExternal({id:"ID_AUTH",info:{name:"ID_AUTH"},type:"AUTH",provider:Mn,chainId:($o=ChainController.state.activeCaipNetwork)==null?void 0:$o.id}):this.setLoading(!1),Mn.onRpcRequest(Lo=>{W3mFrameHelpers.checkIfRequestExists(Lo)?W3mFrameHelpers.checkIfRequestIsSafe(Lo)||this.handleUnsafeRPCRequest():(this.open(),console.error(W3mFrameRpcConstants.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:Lo.method}),setTimeout(()=>{this.showErrorMessage(W3mFrameRpcConstants.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),Mn.rejectRpcRequests())}),Mn.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack(!0))}),Mn.onRpcSuccess((Lo,Wo)=>{W3mFrameHelpers.checkIfRequestIsSafe(Wo)||(this.isTransactionStackEmpty()?this.close():this.popTransactionStack())}),Mn.onNotConnected(()=>{const Wo=SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_CONNECTOR)==="ID_AUTH";!fo&&Wo&&(this.setCaipAddress(void 0,ChainController.state.activeChain),this.setLoading(!1))}),Mn.onIsConnected(()=>{Mn.connect()}),Mn.onConnect(async Lo=>{this.syncProvider({type:"AUTH",provider:Mn,id:"ID_AUTH",chainNamespace:ChainController.state.activeChain});const Wo=ChainController.state.activeChain==="eip155"?`eip155:${Lo.chainId}:${Lo.address}`:`${Lo.chainId}:${Lo.address}`;this.setCaipAddress(Wo,ChainController.state.activeChain),this.setSmartAccountDeployed(!!Lo.smartAccountDeployed,ChainController.state.activeChain),this.setPreferredAccountType(Lo.preferredAccountType,ChainController.state.activeChain),this.setAllAccounts(Lo.accounts||[{address:Lo.address,type:Lo.preferredAccountType||"eoa"}],ChainController.state.activeChain),await Mn.getSmartAccountEnabledNetworks(),this.setLoading(!1)}),Mn.onGetSmartAccountEnabledNetworks(Lo=>{this.setSmartAccountEnabledNetworks(Lo,ChainController.state.activeChain)}),Mn.onSetPreferredAccount(({address:Lo,type:Wo})=>{Lo&&this.setPreferredAccountType(Wo,ChainController.state.activeChain)})}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(Mn=>{this.resetAccount(Mn)}),ConnectionController.resetWcConnection()}),this.universalProvider.on("chainChanged",Mn=>{var mo;const io=(mo=this.caipNetworks)==null?void 0:mo.find($o=>$o.chainNamespace===ChainController.state.activeChain&&$o.id==Mn),fo=this.getCaipNetwork();if(!io){const $o=this.getActiveChainNamespace()||ConstantsUtil$3.CHAIN.EVM;ChainController.setActiveCaipNetwork({id:Mn,caipNetworkId:`${$o}:${Mn}`,name:"Unknown Network",chainNamespace:$o,nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}});return}(!fo||(fo==null?void 0:fo.id)!==(io==null?void 0:io.id))&&this.setCaipNetwork(io)}))}listenAdapter(Mn){const io=this.getAdapter(Mn);io==null||io.on("switchNetwork",({address:fo,chainId:mo})=>{var $o;mo&&(($o=this.caipNetworks)!=null&&$o.find(Ao=>Ao.id===mo))?ChainController.state.activeChain===Mn&&fo?this.syncAccount({address:fo,chainId:mo,chainNamespace:Mn}):ChainController.state.activeChain===Mn&&AccountController.state.address&&this.syncAccount({address:AccountController.state.address,chainId:mo,chainNamespace:Mn}):ChainController.showUnsupportedChainUI()}),io==null||io.on("disconnect",()=>{ChainController.state.activeChain===Mn&&this.handleDisconnect()}),io==null||io.on("accountChanged",({address:fo,chainId:mo})=>{var $o,Ao;ChainController.state.activeChain===Mn&&mo?this.syncAccount({address:fo,chainId:mo,chainNamespace:Mn}):ChainController.state.activeChain===Mn&&(($o=ChainController.state.activeCaipNetwork)!=null&&$o.id)&&this.syncAccount({address:fo,chainId:(Ao=ChainController.state.activeCaipNetwork)==null?void 0:Ao.id,chainNamespace:Mn})})}getChainsFromNamespaces(Mn={}){return Object.values(Mn).flatMap(io=>{const fo=io.chains||[],mo=io.accounts.map($o=>{const[Ao,Lo]=$o.split(":");return`${Ao}:${Lo}`});return Array.from(new Set([...fo,...mo]))})}async syncWalletConnectAccount(){const Mn=this.getAdapter(ChainController.state.activeChain);StorageUtil.setConnectedNamespace(ChainController.state.activeChain),this.chainNamespaces.forEach(async io=>{var mo,$o,Ao,Lo,Wo,jo,zo,Vo;const fo=(Lo=(Ao=($o=(mo=this.universalProvider)==null?void 0:mo.session)==null?void 0:$o.namespaces)==null?void 0:Ao[io])==null?void 0:Lo.accounts[0];if(fo){if(ProviderUtil.setProviderId(io,ConstantsUtil$1.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&ChainController.state.activeCaipNetwork&&(Mn==null?void 0:Mn.namespace)!=="eip155"){const Jo=Mn==null?void 0:Mn.getWalletConnectProvider({caipNetworks:this.caipNetworks,provider:this.universalProvider,activeCaipNetwork:ChainController.state.activeCaipNetwork});ProviderUtil.setProvider(io,Jo)}else ProviderUtil.setProvider(io,this.universalProvider);StorageUtil.setConnectedConnector(ConstantsUtil$1.CONNECTOR_TYPE_WALLET_CONNECT);let Go="";if(fo.split(":").length===3?Go=fo.split(":")[2]:Go=AccountController.state.address,(Mn==null?void 0:Mn.adapterType)==="wagmi")try{await(Mn==null?void 0:Mn.connect({id:"walletConnect",type:"WALLET_CONNECT",chainId:(Wo=ChainController.state.activeCaipNetwork)==null?void 0:Wo.id}))}catch{Mn!=null&&Mn.reconnect&&(Mn==null||Mn.reconnect({id:"walletConnect",type:"WALLET_CONNECT"}))}this.syncWalletConnectAccounts(io),await this.syncAccount({address:Go,chainId:ChainController.state.activeChain===io?(jo=ChainController.state.activeCaipNetwork)==null?void 0:jo.id:(Vo=(zo=this.caipNetworks)==null?void 0:zo.find(Jo=>Jo.chainNamespace===io))==null?void 0:Vo.id,chainNamespace:io})}}),await ChainController.setApprovedCaipNetworksData(ChainController.state.activeChain)}syncWalletConnectAccounts(Mn){var fo,mo,$o,Ao,Lo;const io=(Lo=(Ao=($o=(mo=(fo=this.universalProvider)==null?void 0:fo.session)==null?void 0:mo.namespaces)==null?void 0:$o[Mn])==null?void 0:Ao.accounts)==null?void 0:Lo.map(Wo=>{const[,,jo]=Wo.split(":");return jo}).filter((Wo,jo,zo)=>zo.indexOf(Wo)===jo);io&&this.setAllAccounts(io.map(Wo=>({address:Wo,type:"eoa"})),Mn)}syncProvider({type:Mn,provider:io,id:fo,chainNamespace:mo}){ProviderUtil.setProviderId(mo,Mn),ProviderUtil.setProvider(mo,io),StorageUtil.setConnectedConnector(fo),StorageUtil.setConnectedNamespace(ChainController.state.activeChain)}async syncAccount({address:Mn,chainId:io,chainNamespace:fo}){var mo,$o;if(this.setPreferredAccountType(AccountController.state.preferredAccountType?AccountController.state.preferredAccountType:"eoa",ChainController.state.activeChain),this.setCaipAddress(`${fo}:${io}:${Mn}`,fo),this.setStatus("connected",fo),fo===ChainController.state.activeChain){const Ao=(mo=this.caipNetworks)==null?void 0:mo.find(jo=>jo.id===io&&jo.chainNamespace===fo);Ao?this.setCaipNetwork(Ao):this.setCaipNetwork(($o=this.caipNetworks)==null?void 0:$o.find(jo=>jo.chainNamespace===fo)),this.syncConnectedWalletInfo(fo);const Lo=this.getAdapter(fo),Wo=await(Lo==null?void 0:Lo.getBalance({address:Mn,chainId:io,caipNetwork:Ao||this.getCaipNetwork(),tokens:this.options.tokens}));Wo&&this.setBalance(Wo.balance,Wo.symbol,fo),await this.syncIdentity({address:Mn,chainId:Number(io),chainNamespace:fo})}}syncConnectedWalletInfo(Mn){var mo;const io=SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_CONNECTOR),fo=ProviderUtil.state.providerIds[Mn];if(fo===ConstantsUtil$1.CONNECTOR_TYPE_ANNOUNCED||fo===ConstantsUtil$1.CONNECTOR_TYPE_INJECTED){if(io){const $o=this.getConnectors().find(Ao=>Ao.id===io);$o!=null&&$o.info&&this.setConnectedWalletInfo({...$o.info},Mn)}}else if(fo===ConstantsUtil$1.CONNECTOR_TYPE_WALLET_CONNECT){const $o=ProviderUtil.getProvider(Mn);$o!=null&&$o.session&&this.setConnectedWalletInfo({...$o.session.peer.metadata,name:$o.session.peer.metadata.name,icon:(mo=$o.session.peer.metadata.icons)==null?void 0:mo[0]},Mn)}else if(fo===ConstantsUtil$1.COINBASE_CONNECTOR_ID){const $o=this.getConnectors().find(Ao=>Ao.id===ConstantsUtil$1.COINBASE_CONNECTOR_ID);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage($o)},Mn)}else io&&this.setConnectedWalletInfo({name:io},Mn)}async syncIdentity({address:Mn,chainId:io,chainNamespace:fo}){try{const{name:mo,avatar:$o}=await this.fetchIdentity({address:Mn});if(this.setProfileName(mo,fo),this.setProfileImage($o,fo),!mo){await this.syncReownName(Mn,fo);const Ao=this.getAdapter(fo),Lo=await(Ao==null?void 0:Ao.getProfile({address:Mn,chainId:Number(io)}));Lo!=null&&Lo.profileName?(this.setProfileName(Lo.profileName,fo),Lo.profileImage&&this.setProfileImage(Lo.profileImage,fo)):(await this.syncReownName(Mn,fo),this.setProfileImage(null,fo))}}catch{io===1?await this.syncReownName(Mn,fo):(await this.syncReownName(Mn,fo),this.setProfileImage(null,fo))}}async syncReownName(Mn,io){try{const fo=await this.getReownName(Mn);if(fo[0]){const mo=fo[0];this.setProfileName(mo.name,io)}else this.setProfileName(null,io)}catch{this.setProfileName(null,io)}}syncRequestedNetworks(){var io;const Mn=[...new Set((io=this.caipNetworks)==null?void 0:io.map(fo=>fo.chainNamespace))];this.chainNamespaces=Mn,Mn.forEach(fo=>{var mo;return this.setRequestedCaipNetworks(((mo=this.caipNetworks)==null?void 0:mo.filter($o=>$o.chainNamespace===fo))??[],fo)})}async syncExistingConnection(){var fo,mo,$o,Ao,Lo,Wo;const Mn=SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_CONNECTOR),io=SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_NAMESPACE);if(Mn===ConstantsUtil$1.CONNECTOR_TYPE_WALLET_CONNECT&&io)this.syncWalletConnectAccount();else if(Mn&&Mn!==ConstantsUtil$1.CONNECTOR_TYPE_W3M_AUTH&&io){const jo=this.getAdapter(io),zo=await(jo==null?void 0:jo.syncConnection({id:Mn,chainId:(fo=this.getCaipNetwork())==null?void 0:fo.id,namespace:io,rpcUrl:(Lo=(Ao=($o=(mo=this.getCaipNetwork())==null?void 0:mo.rpcUrls)==null?void 0:$o.default)==null?void 0:Ao.http)==null?void 0:Lo[0]}));zo&&(this.syncProvider({...zo,chainNamespace:io}),await this.syncAccount({...zo,chainNamespace:io})),(Wo=this.caipNetworks)!=null&&Wo.some(Vo=>Vo.id===(zo==null?void 0:zo.chainId))||ChainController.showUnsupportedChainUI()}}getAdapter(Mn){var io;return(io=this.chainAdapters)==null?void 0:io[Mn]}createUniversalProvider(){var Mn;return!this.universalProviderInitPromise&&typeof window<"u"&&((Mn=this.options)!=null&&Mn.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async initializeUniversalAdapter(){var io,fo,mo,$o,Ao,Lo,Wo,jo,zo;const Mn={projectId:(io=this.options)==null?void 0:io.projectId,metadata:{name:(fo=this.options)!=null&&fo.metadata?(mo=this.options)==null?void 0:mo.metadata.name:"",description:($o=this.options)!=null&&$o.metadata?(Ao=this.options)==null?void 0:Ao.metadata.description:"",url:(Lo=this.options)!=null&&Lo.metadata?(Wo=this.options)==null?void 0:Wo.metadata.url:"",icons:(jo=this.options)!=null&&jo.metadata?(zo=this.options)==null?void 0:zo.metadata.icons:[""]}};this.universalProvider=await dr.init(Mn)}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch{throw new Error("AppKit:getUniversalProvider - Cannot create provider")}return this.universalProvider}createAuthProvider(){var fo,mo,$o,Ao,Lo,Wo,jo,zo,Vo,Go;const Mn=((mo=(fo=this.options)==null?void 0:fo.features)==null?void 0:mo.email)===void 0?ConstantsUtil$2.DEFAULT_FEATURES.email:(Ao=($o=this.options)==null?void 0:$o.features)==null?void 0:Ao.email,io=(Wo=(Lo=this.options)==null?void 0:Lo.features)!=null&&Wo.socials?((Vo=(zo=(jo=this.options)==null?void 0:jo.features)==null?void 0:zo.socials)==null?void 0:Vo.length)>0:ConstantsUtil$2.DEFAULT_FEATURES.socials;(Go=this.options)!=null&&Go.projectId&&(Mn||io)&&(this.authProvider=W3mFrameProviderSingleton.getInstance({projectId:this.options.projectId}),this.listenAuthConnector(this.authProvider))}async createAdapters(Mn){return this.universalProvider||(this.universalProvider=await this.getUniversalProvider()),this.syncRequestedNetworks(),this.chainNamespaces.reduce((io,fo)=>{var $o;const mo=Mn==null?void 0:Mn.find(Ao=>Ao.namespace===fo);return mo?(io[fo]=mo,io[fo].namespace=fo,io[fo].construct({namespace:fo,projectId:($o=this.options)==null?void 0:$o.projectId,networks:this.caipNetworks}),this.universalProvider&&io[fo].setUniversalProvider(this.universalProvider),this.authProvider&&io[fo].setAuthProvider(this.authProvider),io[fo].syncConnectors(this.options,this)):(io[fo]=new UniversalAdapter({namespace:fo,networks:this.caipNetworks}),this.universalProvider&&io[fo].setUniversalProvider(this.universalProvider),this.authProvider&&io[fo].setAuthProvider(this.authProvider)),ChainController.state.chains.set(fo,{namespace:fo,connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient,networkState,accountState,caipNetworks:this.caipNetworks??[]}),io},{})}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async Mn=>{var io,fo;this.options&&(this.listenAdapter(Mn),this.setConnectors(((fo=(io=this.chainAdapters)==null?void 0:io[Mn])==null?void 0:fo.connectors)||[]))})),this.listenWalletConnect()}setDefaultNetwork(){var mo,$o;const Mn=SafeLocalStorage.getItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID),fo=(Mn&&((mo=this.caipNetworks)!=null&&mo.length)?this.caipNetworks.find(Ao=>Ao.caipNetworkId===Mn):void 0)||this.defaultCaipNetwork||(($o=this.caipNetworks)==null?void 0:$o[0]);fo&&ChainController.setActiveCaipNetwork(fo)}async initOrContinue(){return!this.initPromise&&!isInitialized&&CoreHelperUtil.isClient()&&(isInitialized=!0,this.initPromise=new Promise(async Mn=>{await Promise.all([__vitePreload(()=>import("./index-C70KH0k5.js"),[]),__vitePreload(()=>import("./w3m-modal-CgxQE241.js"),[])]);const io=document.createElement("w3m-modal");OptionsController.state.disableAppend||document.body.insertAdjacentElement("beforeend",io),Mn()})),this.initPromise}}const PACKAGE_VERSION="1.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$5=globalThis,e$7=t$5.ShadowRoot&&(t$5.ShadyCSS===void 0||t$5.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$3=Symbol(),o$7=new WeakMap;let n$9=class{constructor(Mn,io,fo){if(this._$cssResult$=!0,fo!==s$3)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=Mn,this.t=io}get styleSheet(){let Mn=this.o;const io=this.t;if(e$7&&Mn===void 0){const fo=io!==void 0&&io.length===1;fo&&(Mn=o$7.get(io)),Mn===void 0&&((this.o=Mn=new CSSStyleSheet).replaceSync(this.cssText),fo&&o$7.set(io,Mn))}return Mn}toString(){return this.cssText}};const r$a=Fn=>new n$9(typeof Fn=="string"?Fn:Fn+"",void 0,s$3),i$5=(Fn,...Mn)=>{const io=Fn.length===1?Fn[0]:Mn.reduce((fo,mo,$o)=>fo+(Ao=>{if(Ao._$cssResult$===!0)return Ao.cssText;if(typeof Ao=="number")return Ao;throw Error("Value passed to 'css' function must be a 'css' function result: "+Ao+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(mo)+Fn[$o+1],Fn[0]);return new n$9(io,Fn,s$3)},S$2=(Fn,Mn)=>{if(e$7)Fn.adoptedStyleSheets=Mn.map(io=>io instanceof CSSStyleSheet?io:io.styleSheet);else for(const io of Mn){const fo=document.createElement("style"),mo=t$5.litNonce;mo!==void 0&&fo.setAttribute("nonce",mo),fo.textContent=io.cssText,Fn.appendChild(fo)}},c$4=e$7?Fn=>Fn:Fn=>Fn instanceof CSSStyleSheet?(Mn=>{let io="";for(const fo of Mn.cssRules)io+=fo.cssText;return r$a(io)})(Fn):Fn;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:i$4,defineProperty:e$6,getOwnPropertyDescriptor:r$9,getOwnPropertyNames:h$7,getOwnPropertySymbols:o$6,getPrototypeOf:n$8}=Object,a$2=globalThis,c$3=a$2.trustedTypes,l$3=c$3?c$3.emptyScript:"",p$4=a$2.reactiveElementPolyfillSupport,d$2=(Fn,Mn)=>Fn,u$5={toAttribute(Fn,Mn){switch(Mn){case Boolean:Fn=Fn?l$3:null;break;case Object:case Array:Fn=Fn==null?Fn:JSON.stringify(Fn)}return Fn},fromAttribute(Fn,Mn){let io=Fn;switch(Mn){case Boolean:io=Fn!==null;break;case Number:io=Fn===null?null:Number(Fn);break;case Object:case Array:try{io=JSON.parse(Fn)}catch{io=null}}return io}},f$4=(Fn,Mn)=>!i$4(Fn,Mn),y$1={attribute:!0,type:String,converter:u$5,reflect:!1,hasChanged:f$4};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),a$2.litPropertyMetadata??(a$2.litPropertyMetadata=new WeakMap);let b$1=class extends HTMLElement{static addInitializer(Mn){this._$Ei(),(this.l??(this.l=[])).push(Mn)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(Mn,io=y$1){if(io.state&&(io.attribute=!1),this._$Ei(),this.elementProperties.set(Mn,io),!io.noAccessor){const fo=Symbol(),mo=this.getPropertyDescriptor(Mn,fo,io);mo!==void 0&&e$6(this.prototype,Mn,mo)}}static getPropertyDescriptor(Mn,io,fo){const{get:mo,set:$o}=r$9(this.prototype,Mn)??{get(){return this[io]},set(Ao){this[io]=Ao}};return{get(){return mo==null?void 0:mo.call(this)},set(Ao){const Lo=mo==null?void 0:mo.call(this);$o.call(this,Ao),this.requestUpdate(Mn,Lo,fo)},configurable:!0,enumerable:!0}}static getPropertyOptions(Mn){return this.elementProperties.get(Mn)??y$1}static _$Ei(){if(this.hasOwnProperty(d$2("elementProperties")))return;const Mn=n$8(this);Mn.finalize(),Mn.l!==void 0&&(this.l=[...Mn.l]),this.elementProperties=new Map(Mn.elementProperties)}static finalize(){if(this.hasOwnProperty(d$2("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d$2("properties"))){const io=this.properties,fo=[...h$7(io),...o$6(io)];for(const mo of fo)this.createProperty(mo,io[mo])}const Mn=this[Symbol.metadata];if(Mn!==null){const io=litPropertyMetadata.get(Mn);if(io!==void 0)for(const[fo,mo]of io)this.elementProperties.set(fo,mo)}this._$Eh=new Map;for(const[io,fo]of this.elementProperties){const mo=this._$Eu(io,fo);mo!==void 0&&this._$Eh.set(mo,io)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(Mn){const io=[];if(Array.isArray(Mn)){const fo=new Set(Mn.flat(1/0).reverse());for(const mo of fo)io.unshift(c$4(mo))}else Mn!==void 0&&io.push(c$4(Mn));return io}static _$Eu(Mn,io){const fo=io.attribute;return fo===!1?void 0:typeof fo=="string"?fo:typeof Mn=="string"?Mn.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var Mn;this._$ES=new Promise(io=>this.enableUpdating=io),this._$AL=new Map,this._$E_(),this.requestUpdate(),(Mn=this.constructor.l)==null||Mn.forEach(io=>io(this))}addController(Mn){var io;(this._$EO??(this._$EO=new Set)).add(Mn),this.renderRoot!==void 0&&this.isConnected&&((io=Mn.hostConnected)==null||io.call(Mn))}removeController(Mn){var io;(io=this._$EO)==null||io.delete(Mn)}_$E_(){const Mn=new Map,io=this.constructor.elementProperties;for(const fo of io.keys())this.hasOwnProperty(fo)&&(Mn.set(fo,this[fo]),delete this[fo]);Mn.size>0&&(this._$Ep=Mn)}createRenderRoot(){const Mn=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return S$2(Mn,this.constructor.elementStyles),Mn}connectedCallback(){var Mn;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(Mn=this._$EO)==null||Mn.forEach(io=>{var fo;return(fo=io.hostConnected)==null?void 0:fo.call(io)})}enableUpdating(Mn){}disconnectedCallback(){var Mn;(Mn=this._$EO)==null||Mn.forEach(io=>{var fo;return(fo=io.hostDisconnected)==null?void 0:fo.call(io)})}attributeChangedCallback(Mn,io,fo){this._$AK(Mn,fo)}_$EC(Mn,io){var $o;const fo=this.constructor.elementProperties.get(Mn),mo=this.constructor._$Eu(Mn,fo);if(mo!==void 0&&fo.reflect===!0){const Ao=((($o=fo.converter)==null?void 0:$o.toAttribute)!==void 0?fo.converter:u$5).toAttribute(io,fo.type);this._$Em=Mn,Ao==null?this.removeAttribute(mo):this.setAttribute(mo,Ao),this._$Em=null}}_$AK(Mn,io){var $o;const fo=this.constructor,mo=fo._$Eh.get(Mn);if(mo!==void 0&&this._$Em!==mo){const Ao=fo.getPropertyOptions(mo),Lo=typeof Ao.converter=="function"?{fromAttribute:Ao.converter}:(($o=Ao.converter)==null?void 0:$o.fromAttribute)!==void 0?Ao.converter:u$5;this._$Em=mo,this[mo]=Lo.fromAttribute(io,Ao.type),this._$Em=null}}requestUpdate(Mn,io,fo){if(Mn!==void 0){if(fo??(fo=this.constructor.getPropertyOptions(Mn)),!(fo.hasChanged??f$4)(this[Mn],io))return;this.P(Mn,io,fo)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(Mn,io,fo){this._$AL.has(Mn)||this._$AL.set(Mn,io),fo.reflect===!0&&this._$Em!==Mn&&(this._$Ej??(this._$Ej=new Set)).add(Mn)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(io){Promise.reject(io)}const Mn=this.scheduleUpdate();return Mn!=null&&await Mn,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var fo;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[$o,Ao]of this._$Ep)this[$o]=Ao;this._$Ep=void 0}const mo=this.constructor.elementProperties;if(mo.size>0)for(const[$o,Ao]of mo)Ao.wrapped!==!0||this._$AL.has($o)||this[$o]===void 0||this.P($o,this[$o],Ao)}let Mn=!1;const io=this._$AL;try{Mn=this.shouldUpdate(io),Mn?(this.willUpdate(io),(fo=this._$EO)==null||fo.forEach(mo=>{var $o;return($o=mo.hostUpdate)==null?void 0:$o.call(mo)}),this.update(io)):this._$EU()}catch(mo){throw Mn=!1,this._$EU(),mo}Mn&&this._$AE(io)}willUpdate(Mn){}_$AE(Mn){var io;(io=this._$EO)==null||io.forEach(fo=>{var mo;return(mo=fo.hostUpdated)==null?void 0:mo.call(fo)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(Mn)),this.updated(Mn)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(Mn){return!0}update(Mn){this._$Ej&&(this._$Ej=this._$Ej.forEach(io=>this._$EC(io,this[io]))),this._$EU()}updated(Mn){}firstUpdated(Mn){}};b$1.elementStyles=[],b$1.shadowRootOptions={mode:"open"},b$1[d$2("elementProperties")]=new Map,b$1[d$2("finalized")]=new Map,p$4==null||p$4({ReactiveElement:b$1}),(a$2.reactiveElementVersions??(a$2.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$4=globalThis,i$3=t$4.trustedTypes,s$2=i$3?i$3.createPolicy("lit-html",{createHTML:Fn=>Fn}):void 0,e$5="$lit$",h$6=`lit$${Math.random().toFixed(9).slice(2)}$`,o$5="?"+h$6,n$7=`<${o$5}>`,r$8=document,l$2=()=>r$8.createComment(""),c$2=Fn=>Fn===null||typeof Fn!="object"&&typeof Fn!="function",a$1=Array.isArray,u$4=Fn=>a$1(Fn)||typeof(Fn==null?void 0:Fn[Symbol.iterator])=="function",d$1=`[ 	
\f\r]`,f$3=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v$3=/-->/g,_$1=/>/g,m$2=RegExp(`>|${d$1}(?:([^\\s"'>=/]+)(${d$1}*=${d$1}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),p$3=/'/g,g$1=/"/g,$$1=/^(?:script|style|textarea|title)$/i,y=Fn=>(Mn,...io)=>({_$litType$:Fn,strings:Mn,values:io}),x=y(1),T$1=Symbol.for("lit-noChange"),E=Symbol.for("lit-nothing"),A$1=new WeakMap,C=r$8.createTreeWalker(r$8,129);function P$1(Fn,Mn){if(!a$1(Fn)||!Fn.hasOwnProperty("raw"))throw Error("invalid template strings array");return s$2!==void 0?s$2.createHTML(Mn):Mn}const V$1=(Fn,Mn)=>{const io=Fn.length-1,fo=[];let mo,$o=Mn===2?"<svg>":Mn===3?"<math>":"",Ao=f$3;for(let Lo=0;Lo<io;Lo++){const Wo=Fn[Lo];let jo,zo,Vo=-1,Go=0;for(;Go<Wo.length&&(Ao.lastIndex=Go,zo=Ao.exec(Wo),zo!==null);)Go=Ao.lastIndex,Ao===f$3?zo[1]==="!--"?Ao=v$3:zo[1]!==void 0?Ao=_$1:zo[2]!==void 0?($$1.test(zo[2])&&(mo=RegExp("</"+zo[2],"g")),Ao=m$2):zo[3]!==void 0&&(Ao=m$2):Ao===m$2?zo[0]===">"?(Ao=mo??f$3,Vo=-1):zo[1]===void 0?Vo=-2:(Vo=Ao.lastIndex-zo[2].length,jo=zo[1],Ao=zo[3]===void 0?m$2:zo[3]==='"'?g$1:p$3):Ao===g$1||Ao===p$3?Ao=m$2:Ao===v$3||Ao===_$1?Ao=f$3:(Ao=m$2,mo=void 0);const Jo=Ao===m$2&&Fn[Lo+1].startsWith("/>")?" ":"";$o+=Ao===f$3?Wo+n$7:Vo>=0?(fo.push(jo),Wo.slice(0,Vo)+e$5+Wo.slice(Vo)+h$6+Jo):Wo+h$6+(Vo===-2?Lo:Jo)}return[P$1(Fn,$o+(Fn[io]||"<?>")+(Mn===2?"</svg>":Mn===3?"</math>":"")),fo]};class N{constructor({strings:Mn,_$litType$:io},fo){let mo;this.parts=[];let $o=0,Ao=0;const Lo=Mn.length-1,Wo=this.parts,[jo,zo]=V$1(Mn,io);if(this.el=N.createElement(jo,fo),C.currentNode=this.el.content,io===2||io===3){const Vo=this.el.content.firstChild;Vo.replaceWith(...Vo.childNodes)}for(;(mo=C.nextNode())!==null&&Wo.length<Lo;){if(mo.nodeType===1){if(mo.hasAttributes())for(const Vo of mo.getAttributeNames())if(Vo.endsWith(e$5)){const Go=zo[Ao++],Jo=mo.getAttribute(Vo).split(h$6),Qo=/([.?@])?(.*)/.exec(Go);Wo.push({type:1,index:$o,name:Qo[2],strings:Jo,ctor:Qo[1]==="."?H:Qo[1]==="?"?I$1:Qo[1]==="@"?L:k$1}),mo.removeAttribute(Vo)}else Vo.startsWith(h$6)&&(Wo.push({type:6,index:$o}),mo.removeAttribute(Vo));if($$1.test(mo.tagName)){const Vo=mo.textContent.split(h$6),Go=Vo.length-1;if(Go>0){mo.textContent=i$3?i$3.emptyScript:"";for(let Jo=0;Jo<Go;Jo++)mo.append(Vo[Jo],l$2()),C.nextNode(),Wo.push({type:2,index:++$o});mo.append(Vo[Go],l$2())}}}else if(mo.nodeType===8)if(mo.data===o$5)Wo.push({type:2,index:$o});else{let Vo=-1;for(;(Vo=mo.data.indexOf(h$6,Vo+1))!==-1;)Wo.push({type:7,index:$o}),Vo+=h$6.length-1}$o++}}static createElement(Mn,io){const fo=r$8.createElement("template");return fo.innerHTML=Mn,fo}}function S$1(Fn,Mn,io=Fn,fo){var Ao,Lo;if(Mn===T$1)return Mn;let mo=fo!==void 0?(Ao=io._$Co)==null?void 0:Ao[fo]:io._$Cl;const $o=c$2(Mn)?void 0:Mn._$litDirective$;return(mo==null?void 0:mo.constructor)!==$o&&((Lo=mo==null?void 0:mo._$AO)==null||Lo.call(mo,!1),$o===void 0?mo=void 0:(mo=new $o(Fn),mo._$AT(Fn,io,fo)),fo!==void 0?(io._$Co??(io._$Co=[]))[fo]=mo:io._$Cl=mo),mo!==void 0&&(Mn=S$1(Fn,mo._$AS(Fn,Mn.values),mo,fo)),Mn}let M$1=class{constructor(Mn,io){this._$AV=[],this._$AN=void 0,this._$AD=Mn,this._$AM=io}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(Mn){const{el:{content:io},parts:fo}=this._$AD,mo=((Mn==null?void 0:Mn.creationScope)??r$8).importNode(io,!0);C.currentNode=mo;let $o=C.nextNode(),Ao=0,Lo=0,Wo=fo[0];for(;Wo!==void 0;){if(Ao===Wo.index){let jo;Wo.type===2?jo=new R($o,$o.nextSibling,this,Mn):Wo.type===1?jo=new Wo.ctor($o,Wo.name,Wo.strings,this,Mn):Wo.type===6&&(jo=new z($o,this,Mn)),this._$AV.push(jo),Wo=fo[++Lo]}Ao!==(Wo==null?void 0:Wo.index)&&($o=C.nextNode(),Ao++)}return C.currentNode=r$8,mo}p(Mn){let io=0;for(const fo of this._$AV)fo!==void 0&&(fo.strings!==void 0?(fo._$AI(Mn,fo,io),io+=fo.strings.length-2):fo._$AI(Mn[io])),io++}};class R{get _$AU(){var Mn;return((Mn=this._$AM)==null?void 0:Mn._$AU)??this._$Cv}constructor(Mn,io,fo,mo){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=Mn,this._$AB=io,this._$AM=fo,this.options=mo,this._$Cv=(mo==null?void 0:mo.isConnected)??!0}get parentNode(){let Mn=this._$AA.parentNode;const io=this._$AM;return io!==void 0&&(Mn==null?void 0:Mn.nodeType)===11&&(Mn=io.parentNode),Mn}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(Mn,io=this){Mn=S$1(this,Mn,io),c$2(Mn)?Mn===E||Mn==null||Mn===""?(this._$AH!==E&&this._$AR(),this._$AH=E):Mn!==this._$AH&&Mn!==T$1&&this._(Mn):Mn._$litType$!==void 0?this.$(Mn):Mn.nodeType!==void 0?this.T(Mn):u$4(Mn)?this.k(Mn):this._(Mn)}O(Mn){return this._$AA.parentNode.insertBefore(Mn,this._$AB)}T(Mn){this._$AH!==Mn&&(this._$AR(),this._$AH=this.O(Mn))}_(Mn){this._$AH!==E&&c$2(this._$AH)?this._$AA.nextSibling.data=Mn:this.T(r$8.createTextNode(Mn)),this._$AH=Mn}$(Mn){var $o;const{values:io,_$litType$:fo}=Mn,mo=typeof fo=="number"?this._$AC(Mn):(fo.el===void 0&&(fo.el=N.createElement(P$1(fo.h,fo.h[0]),this.options)),fo);if((($o=this._$AH)==null?void 0:$o._$AD)===mo)this._$AH.p(io);else{const Ao=new M$1(mo,this),Lo=Ao.u(this.options);Ao.p(io),this.T(Lo),this._$AH=Ao}}_$AC(Mn){let io=A$1.get(Mn.strings);return io===void 0&&A$1.set(Mn.strings,io=new N(Mn)),io}k(Mn){a$1(this._$AH)||(this._$AH=[],this._$AR());const io=this._$AH;let fo,mo=0;for(const $o of Mn)mo===io.length?io.push(fo=new R(this.O(l$2()),this.O(l$2()),this,this.options)):fo=io[mo],fo._$AI($o),mo++;mo<io.length&&(this._$AR(fo&&fo._$AB.nextSibling,mo),io.length=mo)}_$AR(Mn=this._$AA.nextSibling,io){var fo;for((fo=this._$AP)==null?void 0:fo.call(this,!1,!0,io);Mn&&Mn!==this._$AB;){const mo=Mn.nextSibling;Mn.remove(),Mn=mo}}setConnected(Mn){var io;this._$AM===void 0&&(this._$Cv=Mn,(io=this._$AP)==null||io.call(this,Mn))}}let k$1=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(Mn,io,fo,mo,$o){this.type=1,this._$AH=E,this._$AN=void 0,this.element=Mn,this.name=io,this._$AM=mo,this.options=$o,fo.length>2||fo[0]!==""||fo[1]!==""?(this._$AH=Array(fo.length-1).fill(new String),this.strings=fo):this._$AH=E}_$AI(Mn,io=this,fo,mo){const $o=this.strings;let Ao=!1;if($o===void 0)Mn=S$1(this,Mn,io,0),Ao=!c$2(Mn)||Mn!==this._$AH&&Mn!==T$1,Ao&&(this._$AH=Mn);else{const Lo=Mn;let Wo,jo;for(Mn=$o[0],Wo=0;Wo<$o.length-1;Wo++)jo=S$1(this,Lo[fo+Wo],io,Wo),jo===T$1&&(jo=this._$AH[Wo]),Ao||(Ao=!c$2(jo)||jo!==this._$AH[Wo]),jo===E?Mn=E:Mn!==E&&(Mn+=(jo??"")+$o[Wo+1]),this._$AH[Wo]=jo}Ao&&!mo&&this.j(Mn)}j(Mn){Mn===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,Mn??"")}};class H extends k$1{constructor(){super(...arguments),this.type=3}j(Mn){this.element[this.name]=Mn===E?void 0:Mn}}let I$1=class extends k$1{constructor(){super(...arguments),this.type=4}j(Mn){this.element.toggleAttribute(this.name,!!Mn&&Mn!==E)}};class L extends k$1{constructor(Mn,io,fo,mo,$o){super(Mn,io,fo,mo,$o),this.type=5}_$AI(Mn,io=this){if((Mn=S$1(this,Mn,io,0)??E)===T$1)return;const fo=this._$AH,mo=Mn===E&&fo!==E||Mn.capture!==fo.capture||Mn.once!==fo.once||Mn.passive!==fo.passive,$o=Mn!==E&&(fo===E||mo);mo&&this.element.removeEventListener(this.name,this,fo),$o&&this.element.addEventListener(this.name,this,Mn),this._$AH=Mn}handleEvent(Mn){var io;typeof this._$AH=="function"?this._$AH.call(((io=this.options)==null?void 0:io.host)??this.element,Mn):this._$AH.handleEvent(Mn)}}class z{constructor(Mn,io,fo){this.element=Mn,this.type=6,this._$AN=void 0,this._$AM=io,this.options=fo}get _$AU(){return this._$AM._$AU}_$AI(Mn){S$1(this,Mn)}}const j$1=t$4.litHtmlPolyfillSupport;j$1==null||j$1(N,R),(t$4.litHtmlVersions??(t$4.litHtmlVersions=[])).push("3.2.1");const B=(Fn,Mn,io)=>{const fo=(io==null?void 0:io.renderBefore)??Mn;let mo=fo._$litPart$;if(mo===void 0){const $o=(io==null?void 0:io.renderBefore)??null;fo._$litPart$=mo=new R(Mn.insertBefore(l$2(),$o),$o,void 0,io??{})}return mo._$AI(Fn),mo};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let r$7=class extends b$1{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var io;const Mn=super.createRenderRoot();return(io=this.renderOptions).renderBefore??(io.renderBefore=Mn.firstChild),Mn}update(Mn){const io=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(Mn),this._$Do=B(io,this.renderRoot,this.renderOptions)}connectedCallback(){var Mn;super.connectedCallback(),(Mn=this._$Do)==null||Mn.setConnected(!0)}disconnectedCallback(){var Mn;super.disconnectedCallback(),(Mn=this._$Do)==null||Mn.setConnected(!1)}render(){return T$1}};var p6;r$7._$litElement$=!0,r$7.finalized=!0,(p6=globalThis.litElementHydrateSupport)==null||p6.call(globalThis,{LitElement:r$7});const i$2=globalThis.litElementPolyfillSupport;i$2==null||i$2({LitElement:r$7});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o$4={attribute:!0,type:String,converter:u$5,reflect:!1,hasChanged:f$4},r$6=(Fn=o$4,Mn,io)=>{const{kind:fo,metadata:mo}=io;let $o=globalThis.litPropertyMetadata.get(mo);if($o===void 0&&globalThis.litPropertyMetadata.set(mo,$o=new Map),$o.set(io.name,Fn),fo==="accessor"){const{name:Ao}=io;return{set(Lo){const Wo=Mn.get.call(this);Mn.set.call(this,Lo),this.requestUpdate(Ao,Wo,Fn)},init(Lo){return Lo!==void 0&&this.P(Ao,void 0,Fn),Lo}}}if(fo==="setter"){const{name:Ao}=io;return function(Lo){const Wo=this[Ao];Mn.call(this,Lo),this.requestUpdate(Ao,Wo,Fn)}}throw Error("Unsupported decorator location: "+fo)};function n$6(Fn){return(Mn,io)=>typeof io=="object"?r$6(Fn,Mn,io):((fo,mo,$o)=>{const Ao=mo.hasOwnProperty($o);return mo.constructor.createProperty($o,Ao?{...fo,wrapped:!0}:fo),Ao?Object.getOwnPropertyDescriptor(mo,$o):void 0})(Fn,Mn,io)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function r$5(Fn){return n$6({...Fn,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o$3=Fn=>Fn??E;var __decorate$1I=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};class W3mAccountButtonBase extends r$7{constructor(){super(),this.unsubscribe=[],this.disabled=!1,this.balance="show",this.charsStart=4,this.charsEnd=6,this.caipAddress=ChainController.state.activeCaipAddress,this.balanceVal=AccountController.state.balance,this.balanceSymbol=AccountController.state.balanceSymbol,this.profileName=AccountController.state.profileName,this.profileImage=AccountController.state.profileImage,this.network=ChainController.state.activeCaipNetwork,this.networkImage=AssetUtil.getNetworkImage(this.network),this.isSupported=!0,this.unsubscribe.push(AssetController.subscribeNetworkImages(()=>{this.networkImage=AssetUtil.getNetworkImage(this.network)}),ChainController.subscribeKey("activeCaipAddress",Mn=>{this.caipAddress=Mn}),AccountController.subscribeKey("balance",Mn=>this.balanceVal=Mn),AccountController.subscribeKey("balanceSymbol",Mn=>this.balanceSymbol=Mn),AccountController.subscribeKey("profileName",Mn=>this.profileName=Mn),AccountController.subscribeKey("profileImage",Mn=>this.profileImage=Mn),ChainController.subscribeKey("activeCaipNetwork",Mn=>{this.network=Mn,this.networkImage=AssetUtil.getNetworkImage(Mn),this.isSupported=Mn!=null&&Mn.chainNamespace?ChainController.checkIfSupportedNetwork(Mn==null?void 0:Mn.chainNamespace):!0}))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){if(!ChainController.state.activeChain)return null;const Mn=this.balance==="show";return x`
      <wui-account-button
        .disabled=${!!this.disabled}
        .isUnsupportedChain=${!this.isSupported}
        address=${o$3(CoreHelperUtil.getPlainAddress(this.caipAddress))}
        profileName=${o$3(this.profileName)}
        networkSrc=${o$3(this.networkImage)}
        avatarSrc=${o$3(this.profileImage)}
        balance=${Mn?CoreHelperUtil.formatBalance(this.balanceVal,this.balanceSymbol):""}
        @click=${this.onClick.bind(this)}
        data-testid="account-button"
        .charsStart=${this.charsStart}
        .charsEnd=${this.charsEnd}
      >
      </wui-account-button>
    `}onClick(){this.isSupported?ModalController.open():ModalController.open({view:"UnsupportedChain"})}}__decorate$1I([n$6({type:Boolean})],W3mAccountButtonBase.prototype,"disabled",void 0);__decorate$1I([n$6()],W3mAccountButtonBase.prototype,"balance",void 0);__decorate$1I([n$6()],W3mAccountButtonBase.prototype,"charsStart",void 0);__decorate$1I([n$6()],W3mAccountButtonBase.prototype,"charsEnd",void 0);__decorate$1I([r$5()],W3mAccountButtonBase.prototype,"caipAddress",void 0);__decorate$1I([r$5()],W3mAccountButtonBase.prototype,"balanceVal",void 0);__decorate$1I([r$5()],W3mAccountButtonBase.prototype,"balanceSymbol",void 0);__decorate$1I([r$5()],W3mAccountButtonBase.prototype,"profileName",void 0);__decorate$1I([r$5()],W3mAccountButtonBase.prototype,"profileImage",void 0);__decorate$1I([r$5()],W3mAccountButtonBase.prototype,"network",void 0);__decorate$1I([r$5()],W3mAccountButtonBase.prototype,"networkImage",void 0);__decorate$1I([r$5()],W3mAccountButtonBase.prototype,"isSupported",void 0);let W3mAccountButton=class extends W3mAccountButtonBase{};W3mAccountButton=__decorate$1I([customElement("w3m-account-button")],W3mAccountButton);let AppKitAccountButton=class extends W3mAccountButtonBase{};AppKitAccountButton=__decorate$1I([customElement("appkit-account-button")],AppKitAccountButton);const styles$16=i$5`
  :host {
    display: block;
    width: max-content;
  }
`;var __decorate$1H=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};class W3mButtonBase extends r$7{constructor(){super(...arguments),this.unsubscribe=[],this.disabled=!1,this.balance=void 0,this.size=void 0,this.label=void 0,this.loadingLabel=void 0,this.charsStart=4,this.charsEnd=6,this.caipAddress=ChainController.state.activeCaipAddress,this.isLoading=ModalController.state.loading}firstUpdated(){this.unsubscribe.push(ChainController.subscribeKey("activeCaipAddress",Mn=>this.caipAddress=Mn),ModalController.subscribeKey("loading",Mn=>this.isLoading=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){return this.caipAddress&&!this.isLoading?x`
          <appkit-account-button
            .disabled=${!!this.disabled}
            balance=${o$3(this.balance)}
            .charsStart=${o$3(this.charsStart)}
            .charsEnd=${o$3(this.charsEnd)}
          >
          </appkit-account-button>
        `:x`
          <appkit-connect-button
            size=${o$3(this.size)}
            label=${o$3(this.label)}
            loadingLabel=${o$3(this.loadingLabel)}
          ></appkit-connect-button>
        `}}W3mButtonBase.styles=styles$16;__decorate$1H([n$6({type:Boolean})],W3mButtonBase.prototype,"disabled",void 0);__decorate$1H([n$6()],W3mButtonBase.prototype,"balance",void 0);__decorate$1H([n$6()],W3mButtonBase.prototype,"size",void 0);__decorate$1H([n$6()],W3mButtonBase.prototype,"label",void 0);__decorate$1H([n$6()],W3mButtonBase.prototype,"loadingLabel",void 0);__decorate$1H([n$6()],W3mButtonBase.prototype,"charsStart",void 0);__decorate$1H([n$6()],W3mButtonBase.prototype,"charsEnd",void 0);__decorate$1H([r$5()],W3mButtonBase.prototype,"caipAddress",void 0);__decorate$1H([r$5()],W3mButtonBase.prototype,"isLoading",void 0);let W3mButton=class extends W3mButtonBase{};W3mButton=__decorate$1H([customElement("w3m-button")],W3mButton);let AppKitButton=class extends W3mButtonBase{};AppKitButton=__decorate$1H([customElement("appkit-button")],AppKitButton);var __decorate$1G=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};class W3mConnectButtonBase extends r$7{constructor(){super(),this.unsubscribe=[],this.size="md",this.label="Connect Wallet",this.loadingLabel="Connecting...",this.open=ModalController.state.open,this.loading=ModalController.state.loading,this.unsubscribe.push(ModalController.subscribe(Mn=>{this.open=Mn.open,this.loading=Mn.loading}))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){const Mn=this.loading||this.open;return x`
      <wui-connect-button
        size=${o$3(this.size)}
        .loading=${Mn}
        @click=${this.onClick.bind(this)}
        data-testid="connect-button"
      >
        ${Mn?this.loadingLabel:this.label}
      </wui-connect-button>
    `}onClick(){this.open?ModalController.close():this.loading||ModalController.open()}}__decorate$1G([n$6()],W3mConnectButtonBase.prototype,"size",void 0);__decorate$1G([n$6()],W3mConnectButtonBase.prototype,"label",void 0);__decorate$1G([n$6()],W3mConnectButtonBase.prototype,"loadingLabel",void 0);__decorate$1G([r$5()],W3mConnectButtonBase.prototype,"open",void 0);__decorate$1G([r$5()],W3mConnectButtonBase.prototype,"loading",void 0);let W3mConnectButton=class extends W3mConnectButtonBase{};W3mConnectButton=__decorate$1G([customElement("w3m-connect-button")],W3mConnectButton);let AppKitConnectButton=class extends W3mConnectButtonBase{};AppKitConnectButton=__decorate$1G([customElement("appkit-connect-button")],AppKitConnectButton);const styles$15=i$5`
  :host {
    display: block;
    width: max-content;
  }
`;var __decorate$1F=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};class W3mNetworkButtonBase extends r$7{constructor(){super(),this.unsubscribe=[],this.disabled=!1,this.network=ChainController.state.activeCaipNetwork,this.networkImage=AssetUtil.getNetworkImage(this.network),this.caipAddress=ChainController.state.activeCaipAddress,this.loading=ModalController.state.loading,this.isSupported=!0,this.unsubscribe.push(AssetController.subscribeNetworkImages(()=>{this.networkImage=AssetUtil.getNetworkImage(this.network)}),ChainController.subscribeKey("activeCaipAddress",Mn=>{this.caipAddress=Mn}),ChainController.subscribeKey("activeCaipNetwork",Mn=>{this.network=Mn,this.networkImage=AssetUtil.getNetworkImage(Mn),this.isSupported=Mn!=null&&Mn.chainNamespace?ChainController.checkIfSupportedNetwork(Mn.chainNamespace):!0}),ModalController.subscribeKey("loading",Mn=>this.loading=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){const Mn=this.network?ChainController.checkIfSupportedNetwork(this.network.chainNamespace):!0;return x`
      <wui-network-button
        .disabled=${!!(this.disabled||this.loading)}
        .isUnsupportedChain=${!Mn}
        imageSrc=${o$3(this.networkImage)}
        @click=${this.onClick.bind(this)}
      >
        ${this.getLabel()}
        <slot></slot>
      </wui-network-button>
    `}getLabel(){return this.network?this.isSupported?this.network.name:"Switch Network":this.label?this.label:this.caipAddress?"Unknown Network":"Select Network"}onClick(){this.loading||(EventsController.sendEvent({type:"track",event:"CLICK_NETWORKS"}),ModalController.open({view:"Networks"}))}}W3mNetworkButtonBase.styles=styles$15;__decorate$1F([n$6({type:Boolean})],W3mNetworkButtonBase.prototype,"disabled",void 0);__decorate$1F([n$6({type:String})],W3mNetworkButtonBase.prototype,"label",void 0);__decorate$1F([r$5()],W3mNetworkButtonBase.prototype,"network",void 0);__decorate$1F([r$5()],W3mNetworkButtonBase.prototype,"networkImage",void 0);__decorate$1F([r$5()],W3mNetworkButtonBase.prototype,"caipAddress",void 0);__decorate$1F([r$5()],W3mNetworkButtonBase.prototype,"loading",void 0);__decorate$1F([r$5()],W3mNetworkButtonBase.prototype,"isSupported",void 0);let W3mNetworkButton=class extends W3mNetworkButtonBase{};W3mNetworkButton=__decorate$1F([customElement("w3m-network-button")],W3mNetworkButton);let AppKitNetworkButton=class extends W3mNetworkButtonBase{};AppKitNetworkButton=__decorate$1F([customElement("appkit-network-button")],AppKitNetworkButton);const styles$14=i$5`
  :host {
    --prev-height: 0px;
    --new-height: 0px;
    display: block;
  }

  div.w3m-router-container {
    transform: translateY(0);
    opacity: 1;
  }

  div.w3m-router-container[view-direction='prev'] {
    animation:
      slide-left-out 150ms forwards ease,
      slide-left-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  div.w3m-router-container[view-direction='next'] {
    animation:
      slide-right-out 150ms forwards ease,
      slide-right-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(10px);
      opacity: 0;
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(-10px);
      opacity: 0;
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
`;var define_process_env_default={};const ConstantsUtil={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:define_process_env_default.NEXT_PUBLIC_SECURE_SITE_ORIGIN||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}};var __decorate$1E=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mRouter=class extends r$7{constructor(){super(),this.resizeObserver=void 0,this.prevHeight="0px",this.prevHistoryLength=1,this.unsubscribe=[],this.view=RouterController.state.view,this.viewDirection="",this.unsubscribe.push(RouterController.subscribeKey("view",Mn=>this.onViewChange(Mn)))}firstUpdated(){this.resizeObserver=new ResizeObserver(([Mn])=>{const io=`${Mn==null?void 0:Mn.contentRect.height}px`;this.prevHeight!=="0px"&&(this.style.setProperty("--prev-height",this.prevHeight),this.style.setProperty("--new-height",io),this.style.animation="w3m-view-height 150ms forwards ease",this.style.height="auto"),setTimeout(()=>{this.prevHeight=io,this.style.animation="unset"},ConstantsUtil.ANIMATION_DURATIONS.ModalHeight)}),this.resizeObserver.observe(this.getWrapper())}disconnectedCallback(){var Mn;(Mn=this.resizeObserver)==null||Mn.unobserve(this.getWrapper()),this.unsubscribe.forEach(io=>io())}render(){return x`<div class="w3m-router-container" view-direction="${this.viewDirection}">
      ${this.viewTemplate()}
    </div>`}viewTemplate(){switch(this.view){case"AccountSettings":return x`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return x`<w3m-account-view></w3m-account-view>`;case"AllWallets":return x`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return x`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return x`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return x`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":return x`<w3m-connect-view></w3m-connect-view>`;case"Create":return x`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return x`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingExternal":return x`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return x`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return x`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return x`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return x`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"Downloads":return x`<w3m-downloads-view></w3m-downloads-view>`;case"EmailVerifyOtp":return x`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return x`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return x`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return x`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return x`<w3m-network-switch-view></w3m-network-switch-view>`;case"Profile":return x`<w3m-profile-view></w3m-profile-view>`;case"SwitchAddress":return x`<w3m-switch-address-view></w3m-switch-address-view>`;case"Transactions":return x`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return x`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampActivity":return x`<w3m-onramp-activity-view></w3m-onramp-activity-view>`;case"OnRampTokenSelect":return x`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return x`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return x`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpgradeToSmartAccount":return x`<w3m-upgrade-to-smart-account-view></w3m-upgrade-to-smart-account-view>`;case"UpdateEmailWallet":return x`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return x`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return x`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return x`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return x`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return x`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return x`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return x`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return x`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return x`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WhatIsABuy":return x`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return x`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return x`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return x`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return x`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return x`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return x`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return x`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return x`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return x`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return x`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return x`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return x`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;default:return x`<w3m-connect-view></w3m-connect-view>`}}onViewChange(Mn){TooltipController.hide();let io=ConstantsUtil.VIEW_DIRECTION.Next;const{history:fo}=RouterController.state;fo.length<this.prevHistoryLength&&(io=ConstantsUtil.VIEW_DIRECTION.Prev),this.prevHistoryLength=fo.length,this.viewDirection=io,setTimeout(()=>{this.view=Mn},ConstantsUtil.ANIMATION_DURATIONS.ViewTransition)}getWrapper(){var Mn;return(Mn=this.shadowRoot)==null?void 0:Mn.querySelector("div")}};W3mRouter.styles=styles$14;__decorate$1E([r$5()],W3mRouter.prototype,"view",void 0);__decorate$1E([r$5()],W3mRouter.prototype,"viewDirection",void 0);W3mRouter=__decorate$1E([customElement("w3m-router")],W3mRouter);const styles$13=i$5`
  :host > wui-flex {
    width: 100%;
    max-width: 360px;
  }

  :host > wui-flex > wui-flex {
    border-radius: var(--wui-border-radius-l);
    width: 100%;
  }

  .amounts-container {
    width: 100%;
  }
`;var __decorate$1D=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const PAYMENT_CURRENCY_SYMBOLS={USD:"$",EUR:"",GBP:""},BUY_PRESET_AMOUNTS=[100,250,500,1e3];let W3mOnrampWidget=class extends r$7{constructor(){super(),this.unsubscribe=[],this.disabled=!1,this.caipAddress=ChainController.state.activeCaipAddress,this.loading=ModalController.state.loading,this.paymentCurrency=OnRampController.state.paymentCurrency,this.paymentAmount=OnRampController.state.paymentAmount,this.purchaseAmount=OnRampController.state.purchaseAmount,this.quoteLoading=OnRampController.state.quotesLoading,this.unsubscribe.push(ChainController.subscribeKey("activeCaipAddress",Mn=>this.caipAddress=Mn),ModalController.subscribeKey("loading",Mn=>{this.loading=Mn}),OnRampController.subscribe(Mn=>{this.paymentCurrency=Mn.paymentCurrency,this.paymentAmount=Mn.paymentAmount,this.purchaseAmount=Mn.purchaseAmount,this.quoteLoading=Mn.quotesLoading}))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){return x`
      <wui-flex flexDirection="column" justifyContent="center" alignItems="center">
        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <w3m-onramp-input
            type="Fiat"
            @inputChange=${this.onPaymentAmountChange.bind(this)}
            .value=${this.paymentAmount||0}
          ></w3m-onramp-input>
          <w3m-onramp-input
            type="Token"
            .value=${this.purchaseAmount||0}
            .loading=${this.quoteLoading}
          ></w3m-onramp-input>
          <wui-flex justifyContent="space-evenly" class="amounts-container" gap="xs">
            ${BUY_PRESET_AMOUNTS.map(Mn=>{var io;return x`<wui-button
                  variant=${this.paymentAmount===Mn?"accent":"neutral"}
                  size="md"
                  textVariant="paragraph-600"
                  fullWidth
                  @click=${()=>this.selectPresetAmount(Mn)}
                  >${`${PAYMENT_CURRENCY_SYMBOLS[((io=this.paymentCurrency)==null?void 0:io.id)||"USD"]} ${Mn}`}</wui-button
                >`})}
          </wui-flex>
          ${this.templateButton()}
        </wui-flex>
      </wui-flex>
    `}templateButton(){return this.caipAddress?x`<wui-button
          @click=${this.getQuotes.bind(this)}
          variant="main"
          fullWidth
          size="lg"
          borderRadius="xs"
        >
          Get quotes
        </wui-button>`:x`<wui-button
          @click=${this.openModal.bind(this)}
          variant="accent"
          fullWidth
          size="lg"
          borderRadius="xs"
        >
          Connect wallet
        </wui-button>`}getQuotes(){this.loading||ModalController.open({view:"OnRampProviders"})}openModal(){ModalController.open({view:"Connect"})}async onPaymentAmountChange(Mn){OnRampController.setPaymentAmount(Number(Mn.detail)),await OnRampController.getQuote()}async selectPresetAmount(Mn){OnRampController.setPaymentAmount(Mn),await OnRampController.getQuote()}};W3mOnrampWidget.styles=styles$13;__decorate$1D([n$6({type:Boolean})],W3mOnrampWidget.prototype,"disabled",void 0);__decorate$1D([r$5()],W3mOnrampWidget.prototype,"caipAddress",void 0);__decorate$1D([r$5()],W3mOnrampWidget.prototype,"loading",void 0);__decorate$1D([r$5()],W3mOnrampWidget.prototype,"paymentCurrency",void 0);__decorate$1D([r$5()],W3mOnrampWidget.prototype,"paymentAmount",void 0);__decorate$1D([r$5()],W3mOnrampWidget.prototype,"purchaseAmount",void 0);__decorate$1D([r$5()],W3mOnrampWidget.prototype,"quoteLoading",void 0);W3mOnrampWidget=__decorate$1D([customElement("w3m-onramp-widget")],W3mOnrampWidget);var __decorate$1C=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mAccountSettingsView=class extends r$7{constructor(){super(),this.usubscribe=[],this.networkImages=AssetController.state.networkImages,this.address=AccountController.state.address,this.profileImage=AccountController.state.profileImage,this.profileName=AccountController.state.profileName,this.network=ChainController.state.activeCaipNetwork,this.preferredAccountType=AccountController.state.preferredAccountType,this.disconnecting=!1,this.loading=!1,this.switched=!1,this.text="",this.usubscribe.push(AccountController.subscribe(Mn=>{Mn.address?(this.address=Mn.address,this.profileImage=Mn.profileImage,this.profileName=Mn.profileName,this.preferredAccountType=Mn.preferredAccountType):ModalController.close()}),AccountController.subscribeKey("preferredAccountType",Mn=>this.preferredAccountType=Mn),ChainController.subscribeKey("activeCaipNetwork",Mn=>{Mn!=null&&Mn.id&&(this.network=Mn)}))}disconnectedCallback(){this.usubscribe.forEach(Mn=>Mn())}render(){var io,fo,mo;if(!this.address)throw new Error("w3m-account-settings-view: No account provided");const Mn=this.networkImages[((fo=(io=this.network)==null?void 0:io.assets)==null?void 0:fo.imageId)??""];return x`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="l"
        .padding=${["0","xl","m","xl"]}
      >
        <wui-avatar
          alt=${this.address}
          address=${this.address}
          imageSrc=${o$3(this.profileImage)}
          size="2lg"
        ></wui-avatar>
        <wui-flex flexDirection="column" alignItems="center">
          <wui-flex gap="3xs" alignItems="center" justifyContent="center">
            <wui-text variant="title-6-600" color="fg-100" data-testid="account-settings-address">
              ${UiHelperUtil.getTruncateString({string:this.address,charsStart:4,charsEnd:6,truncate:"middle"})}
            </wui-text>
            <wui-icon-link
              size="md"
              icon="copy"
              iconColor="fg-200"
              @click=${this.onCopyAddress}
            ></wui-icon-link>
          </wui-flex>
        </wui-flex>
      </wui-flex>
      <wui-flex flexDirection="column" gap="m">
        <wui-flex flexDirection="column" gap="xs" .padding=${["0","l","m","l"]}>
          ${this.authCardTemplate()}
          <w3m-account-auth-button></w3m-account-auth-button>
          <wui-list-item
            .variant=${Mn?"image":"icon"}
            iconVariant="overlay"
            icon="networkPlaceholder"
            imageSrc=${o$3(Mn)}
            ?chevron=${this.isAllowedNetworkSwitch()}
            @click=${this.onNetworks.bind(this)}
            data-testid="account-switch-network-button"
          >
            <wui-text variant="paragraph-500" color="fg-100">
              ${((mo=this.network)==null?void 0:mo.name)??"Unknown"}
            </wui-text>
          </wui-list-item>
          ${this.togglePreferredAccountBtnTemplate()} ${this.chooseNameButtonTemplate()}
          <wui-list-item
            variant="icon"
            iconVariant="overlay"
            icon="disconnect"
            ?chevron=${!1}
            .loading=${this.disconnecting}
            @click=${this.onDisconnect.bind(this)}
            data-testid="disconnect-button"
          >
            <wui-text variant="paragraph-500" color="fg-200">Disconnect</wui-text>
          </wui-list-item>
        </wui-flex>
      </wui-flex>
    `}chooseNameButtonTemplate(){const Mn=StorageUtil.getConnectedConnector(),io=ConnectorController.getAuthConnector();return!ChainController.checkIfNamesSupported()||!io||Mn!=="ID_AUTH"||this.profileName?null:x`
      <wui-list-item
        variant="icon"
        iconVariant="overlay"
        icon="id"
        iconSize="sm"
        ?chevron=${!0}
        @click=${this.onChooseName.bind(this)}
        data-testid="account-choose-name-button"
      >
        <wui-text variant="paragraph-500" color="fg-100">Choose account name </wui-text>
      </wui-list-item>
    `}authCardTemplate(){const Mn=StorageUtil.getConnectedConnector(),io=ConnectorController.getAuthConnector(),{origin:fo}=location;return!io||Mn!=="ID_AUTH"||fo.includes(ConstantsUtil$2.SECURE_SITE)?null:x`
      <wui-notice-card
        @click=${this.onGoToUpgradeView.bind(this)}
        label="Upgrade your wallet"
        description="Transition to a self-custodial wallet"
        icon="wallet"
        data-testid="w3m-wallet-upgrade-card"
      ></wui-notice-card>
    `}isAllowedNetworkSwitch(){const Mn=ChainController.getAllRequestedCaipNetworks(),io=Mn?Mn.length>1:!1,fo=Mn==null?void 0:Mn.find(({id:mo})=>{var $o;return mo===(($o=this.network)==null?void 0:$o.id)});return io||!fo}onCopyAddress(){try{this.address&&(CoreHelperUtil.copyToClopboard(this.address),SnackController.showSuccess("Address copied"))}catch{SnackController.showError("Failed to copy")}}togglePreferredAccountBtnTemplate(){const Mn=ChainController.checkIfSmartAccountEnabled(),io=StorageUtil.getConnectedConnector();return!ConnectorController.getAuthConnector()||io!=="ID_AUTH"||!Mn?null:(this.switched||(this.text=this.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT?"Switch to your EOA":"Switch to your smart account"),x`
      <wui-list-item
        variant="icon"
        iconVariant="overlay"
        icon="swapHorizontalBold"
        iconSize="sm"
        ?chevron=${!0}
        ?loading=${this.loading}
        @click=${this.changePreferredAccountType.bind(this)}
        data-testid="account-toggle-preferred-account-type"
      >
        <wui-text variant="paragraph-500" color="fg-100">${this.text}</wui-text>
      </wui-list-item>
    `)}onChooseName(){RouterController.push("ChooseAccountName")}async changePreferredAccountType(){const Mn=ChainController.checkIfSmartAccountEnabled(),io=this.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT||!Mn?W3mFrameRpcConstants.ACCOUNT_TYPES.EOA:W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT;ConnectorController.getAuthConnector()&&(this.loading=!0,await ConnectionController.setPreferredAccountType(io),this.text=io===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT?"Switch to your EOA":"Switch to your smart account",this.switched=!0,SendController.resetSend(),this.loading=!1,this.requestUpdate())}onNetworks(){this.isAllowedNetworkSwitch()&&RouterController.push("Networks")}async onDisconnect(){try{this.disconnecting=!0,await ConnectionController.disconnect(),EventsController.sendEvent({type:"track",event:"DISCONNECT_SUCCESS"}),ModalController.close()}catch{EventsController.sendEvent({type:"track",event:"DISCONNECT_ERROR"}),SnackController.showError("Failed to disconnect")}finally{this.disconnecting=!1}}onGoToUpgradeView(){EventsController.sendEvent({type:"track",event:"EMAIL_UPGRADE_FROM_MODAL"}),RouterController.push("UpgradeEmailWallet")}};__decorate$1C([r$5()],W3mAccountSettingsView.prototype,"address",void 0);__decorate$1C([r$5()],W3mAccountSettingsView.prototype,"profileImage",void 0);__decorate$1C([r$5()],W3mAccountSettingsView.prototype,"profileName",void 0);__decorate$1C([r$5()],W3mAccountSettingsView.prototype,"network",void 0);__decorate$1C([r$5()],W3mAccountSettingsView.prototype,"preferredAccountType",void 0);__decorate$1C([r$5()],W3mAccountSettingsView.prototype,"disconnecting",void 0);__decorate$1C([r$5()],W3mAccountSettingsView.prototype,"loading",void 0);__decorate$1C([r$5()],W3mAccountSettingsView.prototype,"switched",void 0);__decorate$1C([r$5()],W3mAccountSettingsView.prototype,"text",void 0);W3mAccountSettingsView=__decorate$1C([customElement("w3m-account-settings-view")],W3mAccountSettingsView);var __decorate$1B=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mAccountView=class extends r$7{render(){const Mn=StorageUtil.getConnectedConnector(),io=ConnectorController.getAuthConnector();return x`
      ${io&&Mn==="ID_AUTH"?this.walletFeaturesTemplate():this.defaultTemplate()}
    `}walletFeaturesTemplate(){return x`<w3m-account-wallet-features-widget></w3m-account-wallet-features-widget>`}defaultTemplate(){return x`<w3m-account-default-widget></w3m-account-default-widget>`}};W3mAccountView=__decorate$1B([customElement("w3m-account-view")],W3mAccountView);var __decorate$1A=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mAllWalletsView=class extends r$7{constructor(){super(...arguments),this.search="",this.onDebouncedSearch=CoreHelperUtil.debounce(Mn=>{this.search=Mn})}render(){const Mn=this.search.length>=2;return x`
      <wui-flex .padding=${["0","s","s","s"]} gap="xs">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${this.badge}
          @click=${this.onClick.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${Mn||this.badge?x`<w3m-all-wallets-search
            query=${this.search}
            badge=${o$3(this.badge)}
          ></w3m-all-wallets-search>`:x`<w3m-all-wallets-list badge=${o$3(this.badge)}></w3m-all-wallets-list>`}
    `}onInputChange(Mn){this.onDebouncedSearch(Mn.detail)}onClick(){if(this.badge==="certified"){this.badge=void 0;return}this.badge="certified",SnackController.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})}qrButtonTemplate(){return CoreHelperUtil.isMobile()?x`
        <wui-icon-box
          size="lg"
          iconSize="xl"
          iconColor="accent-100"
          backgroundColor="accent-100"
          icon="qrCode"
          background="transparent"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){RouterController.push("ConnectingWalletConnect")}};__decorate$1A([r$5()],W3mAllWalletsView.prototype,"search",void 0);__decorate$1A([r$5()],W3mAllWalletsView.prototype,"badge",void 0);W3mAllWalletsView=__decorate$1A([customElement("w3m-all-wallets-view")],W3mAllWalletsView);const styles$12=i$5`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-visual {
    width: var(--wui-wallet-image-size-lg);
    height: var(--wui-wallet-image-size-lg);
    border-radius: calc(var(--wui-border-radius-5xs) * 9 - var(--wui-border-radius-xxs));
    position: relative;
    overflow: hidden;
  }

  wui-visual::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    border-radius: calc(var(--wui-border-radius-5xs) * 9 - var(--wui-border-radius-xxs));
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition:
      opacity var(--wui-ease-out-power-2) var(--wui-duration-lg),
      transform var(--wui-ease-out-power-2) var(--wui-duration-lg);
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }

  wui-link {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
  }
`;var __decorate$1z=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mBuyInProgressView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.selectedOnRampProvider=OnRampController.state.selectedProvider,this.uri=ConnectionController.state.wcUri,this.ready=!1,this.showRetry=!1,this.buffering=!1,this.error=!1,this.startTime=null,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(OnRampController.subscribeKey("selectedProvider",Mn=>{this.selectedOnRampProvider=Mn})),this.watchTransactions()}disconnectedCallback(){this.intervalId&&clearInterval(this.intervalId)}render(){var fo,mo;let Mn="Continue in external window";this.error?Mn="Buy failed":this.selectedOnRampProvider&&(Mn=`Buy in ${(fo=this.selectedOnRampProvider)==null?void 0:fo.label}`);const io=this.error?"Buy can be declined from your side or due to and error on the provider app":"Well notify you once your Buy is processed";return x`
      <wui-flex
        data-error=${o$3(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-visual
            name=${o$3((mo=this.selectedOnRampProvider)==null?void 0:mo.name)}
            size="lg"
            class="provider-image"
          >
          </wui-visual>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text variant="paragraph-500" color=${this.error?"error-100":"fg-100"}>
            ${Mn}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${io}</wui-text>
        </wui-flex>

        ${this.error?this.tryAgainTemplate():null}
      </wui-flex>

      <wui-flex .padding=${["0","xl","xl","xl"]} justifyContent="center">
        <wui-link @click=${this.onCopyUri} color="fg-200">
          <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
          Copy link
        </wui-link>
      </wui-flex>
    `}watchTransactions(){if(this.selectedOnRampProvider)switch(this.selectedOnRampProvider.name){case"coinbase":this.startTime=Date.now(),this.initializeCoinbaseTransactions();break}}async initializeCoinbaseTransactions(){await this.watchCoinbaseTransactions(),this.intervalId=setInterval(()=>this.watchCoinbaseTransactions(),4e3)}async watchCoinbaseTransactions(){try{const Mn=AccountController.state.address,io=OptionsController.state.projectId;if(!Mn)throw new Error("No address found");(await BlockchainApiController.fetchTransactions({account:Mn,onramp:"coinbase",projectId:io})).data.filter($o=>new Date($o.metadata.minedAt)>new Date(this.startTime)||$o.metadata.status==="ONRAMP_TRANSACTION_STATUS_IN_PROGRESS").length?(clearInterval(this.intervalId),RouterController.replace("OnRampActivity")):this.startTime&&Date.now()-this.startTime>=18e4&&(clearInterval(this.intervalId),this.error=!0)}catch(Mn){SnackController.showError(Mn)}}onTryAgain(){this.selectedOnRampProvider&&(this.error=!1,CoreHelperUtil.openHref(this.selectedOnRampProvider.url,"popupWindow","width=600,height=800,scrollbars=yes"))}tryAgainTemplate(){var Mn;return(Mn=this.selectedOnRampProvider)!=null&&Mn.url?x`<wui-button size="md" variant="accent" @click=${this.onTryAgain.bind(this)}>
      <wui-icon color="inherit" slot="iconLeft" name="refresh"></wui-icon>
      Try again
    </wui-button>`:null}loaderTemplate(){const Mn=ThemeController.state.themeVariables["--w3m-border-radius-master"],io=Mn?parseInt(Mn.replace("px",""),10):4;return x`<wui-loading-thumbnail radius=${io*9}></wui-loading-thumbnail>`}onCopyUri(){var Mn;if(!((Mn=this.selectedOnRampProvider)!=null&&Mn.url)){SnackController.showError("No link found"),RouterController.goBack();return}try{CoreHelperUtil.copyToClopboard(this.selectedOnRampProvider.url),SnackController.showSuccess("Link copied")}catch{SnackController.showError("Failed to copy")}}};W3mBuyInProgressView.styles=styles$12;__decorate$1z([r$5()],W3mBuyInProgressView.prototype,"intervalId",void 0);__decorate$1z([r$5()],W3mBuyInProgressView.prototype,"selectedOnRampProvider",void 0);__decorate$1z([r$5()],W3mBuyInProgressView.prototype,"uri",void 0);__decorate$1z([r$5()],W3mBuyInProgressView.prototype,"ready",void 0);__decorate$1z([r$5()],W3mBuyInProgressView.prototype,"showRetry",void 0);__decorate$1z([r$5()],W3mBuyInProgressView.prototype,"buffering",void 0);__decorate$1z([r$5()],W3mBuyInProgressView.prototype,"error",void 0);__decorate$1z([r$5()],W3mBuyInProgressView.prototype,"startTime",void 0);__decorate$1z([n$6({type:Boolean})],W3mBuyInProgressView.prototype,"isMobile",void 0);__decorate$1z([n$6()],W3mBuyInProgressView.prototype,"onRetry",void 0);W3mBuyInProgressView=__decorate$1z([customElement("w3m-buy-in-progress-view")],W3mBuyInProgressView);const styles$11=i$5`
  :host {
    --connect-scroll--top-opacity: 0;
    --connect-scroll--bottom-opacity: 0;
  }

  .connect {
    max-height: clamp(360px, 470px, 80vh);
    scrollbar-width: none;
    overflow-y: scroll;
    overflow-x: hidden;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    mask-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, calc(1 - var(--connect-scroll--top-opacity))) 0px,
      rgba(200, 200, 200, calc(1 - var(--connect-scroll--top-opacity))) 1px,
      black 40px,
      black calc(100% - 40px),
      rgba(155, 155, 155, calc(1 - var(--connect-scroll--bottom-opacity))) calc(100% - 1px),
      rgba(0, 0, 0, calc(1 - var(--connect-scroll--bottom-opacity))) 100%
    );
  }

  .guide {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  .connect::-webkit-scrollbar {
    display: none;
  }

  .all-wallets {
    flex-flow: column;
  }

  .connect.disabled,
  .guide.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }
`;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$3={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e$4=Fn=>(...Mn)=>({_$litDirective$:Fn,values:Mn});let i$1=class{constructor(Mn){}get _$AU(){return this._$AM._$AU}_$AT(Mn,io,fo){this._$Ct=Mn,this._$AM=io,this._$Ci=fo}_$AS(Mn,io){return this.update(Mn,io)}update(Mn,io){return this.render(...io)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$3=e$4(class extends i$1{constructor(Fn){var Mn;if(super(Fn),Fn.type!==t$3.ATTRIBUTE||Fn.name!=="class"||((Mn=Fn.strings)==null?void 0:Mn.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(Fn){return" "+Object.keys(Fn).filter(Mn=>Fn[Mn]).join(" ")+" "}update(Fn,[Mn]){var fo,mo;if(this.st===void 0){this.st=new Set,Fn.strings!==void 0&&(this.nt=new Set(Fn.strings.join(" ").split(/\s/).filter($o=>$o!=="")));for(const $o in Mn)Mn[$o]&&!((fo=this.nt)!=null&&fo.has($o))&&this.st.add($o);return this.render(Mn)}const io=Fn.element.classList;for(const $o of this.st)$o in Mn||(io.remove($o),this.st.delete($o));for(const $o in Mn){const Ao=!!Mn[$o];Ao===this.st.has($o)||(mo=this.nt)!=null&&mo.has($o)||(Ao?(io.add($o),this.st.add($o)):(io.remove($o),this.st.delete($o)))}return T$1}});var __decorate$1y=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.connectors=ConnectorController.state.connectors,this.authConnector=this.connectors.find(Mn=>Mn.type==="AUTH"),this.features=OptionsController.state.features,this.walletGuide="get-started",this.checked=!1,this.unsubscribe.push(ConnectorController.subscribeKey("connectors",Mn=>{this.connectors=Mn,this.authConnector=this.connectors.find(io=>io.type==="AUTH")}),OptionsController.subscribeKey("features",Mn=>this.features=Mn))}disconnectedCallback(){var io;this.unsubscribe.forEach(fo=>fo());const Mn=(io=this.shadowRoot)==null?void 0:io.querySelector(".connect");Mn==null||Mn.removeEventListener("scroll",this.handleConnectListScroll.bind(this))}firstUpdated(){var io;const Mn=(io=this.shadowRoot)==null?void 0:io.querySelector(".connect");requestAnimationFrame(this.handleConnectListScroll.bind(this)),Mn==null||Mn.addEventListener("scroll",this.handleConnectListScroll.bind(this))}render(){var Jo,Qo;const{termsConditionsUrl:Mn,privacyPolicyUrl:io}=OptionsController.state,fo=(Jo=OptionsController.state.features)==null?void 0:Jo.legalCheckbox,Ao=!!(Mn||io)&&!!fo&&this.walletGuide==="get-started"&&!this.checked,Lo={connect:!0,disabled:Ao},Wo=(Qo=this.features)==null?void 0:Qo.socials,jo=OptionsController.state.enableWallets,Vo=Wo&&Wo.length||this.authConnector,Go=Ao?-1:void 0;return x`
      <wui-flex flexDirection="column">
        ${this.legalCheckboxTemplate()}
        <wui-flex flexDirection="column" class=${e$3(Lo)}>
          <wui-flex
            flexDirection="column"
            .padding=${Vo&&jo&&this.walletGuide==="get-started"?["3xs","s","0","s"]:["3xs","s","s","s"]}
          >
            <w3m-email-login-widget
              walletGuide=${this.walletGuide}
              tabIdx=${o$3(Go)}
            ></w3m-email-login-widget>
            <w3m-social-login-widget tabIdx=${o$3(Go)}></w3m-social-login-widget>
            ${this.walletListTemplate(Go)}
          </wui-flex>
        </wui-flex>
        ${this.guideTemplate(Ao)}
        <w3m-legal-footer></w3m-legal-footer>
      </wui-flex>
    `}walletListTemplate(Mn){var $o,Ao;const io=($o=this.features)==null?void 0:$o.socials,fo=(Ao=this.features)==null?void 0:Ao.emailShowWallets;return!OptionsController.state.enableWallets||(CoreHelperUtil.isTelegram()&&CoreHelperUtil.isIos()&&ConnectionController.connectWalletConnect().catch(Lo=>({})),this.walletGuide==="explore")?null:this.authConnector&&io?this.authConnector&&fo?x`
          <wui-flex flexDirection="column" gap="xs" .margin=${["xs","0","0","0"]}>
            <w3m-connector-list tabIdx=${o$3(Mn)}></w3m-connector-list>
            <wui-flex class="all-wallets">
              <w3m-all-wallets-widget tabIdx=${o$3(Mn)}></w3m-all-wallets-widget>
            </wui-flex>
          </wui-flex>
        `:x`<wui-list-button
        tabIdx=${o$3(Mn)}
        @click=${this.onContinueWalletClick.bind(this)}
        text="Continue with a wallet"
      ></wui-list-button>`:x`<w3m-wallet-login-list tabIdx=${o$3(Mn)}></w3m-wallet-login-list>`}guideTemplate(Mn=!1){var Lo;const io=(Lo=this.features)==null?void 0:Lo.socials,fo=OptionsController.state.enableWallets,mo=io&&io.length,$o={guide:!0,disabled:Mn},Ao=Mn?-1:void 0;return!this.authConnector&&!mo||!fo?null:this.walletGuide==="explore"?x`
        <wui-flex
          flexDirection="column"
          .padding=${["0","0","xl","0"]}
          class=${e$3($o)}
        >
          <w3m-wallet-guide walletGuide=${this.walletGuide}></w3m-wallet-guide>
        </wui-flex>
      `:x`
      <wui-flex
        flexDirection="column"
        .padding=${["xl","0","xl","0"]}
        class=${e$3($o)}
      >
        <w3m-wallet-guide
          tabIdx=${o$3(Ao)}
          walletGuide=${this.walletGuide}
        ></w3m-wallet-guide>
      </wui-flex>
    `}legalCheckboxTemplate(){return this.walletGuide==="explore"?null:x`<w3m-legal-checkbox
      @checkboxChange=${this.onCheckboxChange.bind(this)}
      data-testid="w3m-legal-checkbox"
    ></w3m-legal-checkbox>`}handleConnectListScroll(){var io;const Mn=(io=this.shadowRoot)==null?void 0:io.querySelector(".connect");!Mn||Mn.scrollHeight<=470||(Mn.style.setProperty("--connect-scroll--top-opacity",MathUtil.interpolate([0,50],[0,1],Mn.scrollTop).toString()),Mn.style.setProperty("--connect-scroll--bottom-opacity",MathUtil.interpolate([0,50],[0,1],Mn.scrollHeight-Mn.scrollTop-Mn.offsetHeight).toString()))}onContinueWalletClick(){RouterController.push("ConnectWallets")}onCheckboxChange(Mn){this.checked=!!Mn.detail}};W3mConnectView.styles=styles$11;__decorate$1y([r$5()],W3mConnectView.prototype,"connectors",void 0);__decorate$1y([r$5()],W3mConnectView.prototype,"authConnector",void 0);__decorate$1y([r$5()],W3mConnectView.prototype,"features",void 0);__decorate$1y([n$6()],W3mConnectView.prototype,"walletGuide",void 0);__decorate$1y([r$5()],W3mConnectView.prototype,"checked",void 0);W3mConnectView=__decorate$1y([customElement("w3m-connect-view")],W3mConnectView);const styles$10=i$5`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: var(--wui-duration-lg);
    transition-timing-function: var(--wui-ease-out-power-2);
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }
`;var __decorate$1x=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};class W3mConnectingWidget extends r$7{constructor(){var Mn,io,fo,mo,$o;super(),this.wallet=(Mn=RouterController.state.data)==null?void 0:Mn.wallet,this.connector=(io=RouterController.state.data)==null?void 0:io.connector,this.timeout=void 0,this.secondaryBtnIcon="refresh",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=AssetUtil.getWalletImage(this.wallet)??AssetUtil.getConnectorImage(this.connector),this.name=((fo=this.wallet)==null?void 0:fo.name)??((mo=this.connector)==null?void 0:mo.name)??"Wallet",this.isRetrying=!1,this.uri=ConnectionController.state.wcUri,this.error=ConnectionController.state.wcError,this.ready=!1,this.showRetry=!1,this.secondaryBtnLabel="Try again",this.secondaryLabel="Accept connection request in the wallet",this.buffering=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(ConnectionController.subscribeKey("wcUri",Ao=>{var Lo;this.uri=Ao,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,(Lo=this.onConnect)==null||Lo.call(this))}),ConnectionController.subscribeKey("wcError",Ao=>this.error=Ao),ConnectionController.subscribeKey("buffering",Ao=>this.buffering=Ao)),CoreHelperUtil.isTelegram()&&CoreHelperUtil.isIos()&&ConnectionController.state.wcUri&&(($o=this.onConnect)==null||$o.call(this))}firstUpdated(){var Mn;(Mn=this.onAutoConnect)==null||Mn.call(this),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn()),clearTimeout(this.timeout)}render(){var fo;(fo=this.onRender)==null||fo.call(this),this.onShowRetry();const Mn=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel;let io=`Continue in ${this.name}`;return this.buffering&&(io="Connecting..."),this.error&&(io="Connection declined"),x`
      <wui-flex
        data-error=${o$3(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${o$3(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text variant="paragraph-500" color=${this.error?"error-100":"fg-100"}>
            ${io}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${Mn}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel?x`
              <wui-button
                variant="accent"
                size="md"
                ?disabled=${this.isRetrying||!this.error&&this.buffering}
                @click=${this.onTryAgain.bind(this)}
                data-testid="w3m-connecting-widget-secondary-button"
              >
                <wui-icon color="inherit" slot="iconLeft" name=${this.secondaryBtnIcon}></wui-icon>
                ${this.secondaryBtnLabel}
              </wui-button>
            `:null}
      </wui-flex>

      ${this.isWalletConnect?x`
            <wui-flex .padding=${["0","xl","xl","xl"]} justifyContent="center">
              <wui-link @click=${this.onCopyUri} color="fg-200" data-testid="wui-link-copy">
                <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
                Copy link
              </wui-link>
            </wui-flex>
          `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onShowRetry(){var Mn;if(this.error&&!this.showRetry){this.showRetry=!0;const io=(Mn=this.shadowRoot)==null?void 0:Mn.querySelector("wui-button");io==null||io.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"})}}onTryAgain(){var Mn,io;this.buffering||(ConnectionController.setWcError(!1),this.onRetry?(this.isRetrying=!0,(Mn=this.onRetry)==null||Mn.call(this)):(io=this.onConnect)==null||io.call(this))}loaderTemplate(){const Mn=ThemeController.state.themeVariables["--w3m-border-radius-master"],io=Mn?parseInt(Mn.replace("px",""),10):4;return x`<wui-loading-thumbnail radius=${io*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(CoreHelperUtil.copyToClopboard(this.uri),SnackController.showSuccess("Link copied"))}catch{SnackController.showError("Failed to copy")}}}W3mConnectingWidget.styles=styles$10;__decorate$1x([r$5()],W3mConnectingWidget.prototype,"isRetrying",void 0);__decorate$1x([r$5()],W3mConnectingWidget.prototype,"uri",void 0);__decorate$1x([r$5()],W3mConnectingWidget.prototype,"error",void 0);__decorate$1x([r$5()],W3mConnectingWidget.prototype,"ready",void 0);__decorate$1x([r$5()],W3mConnectingWidget.prototype,"showRetry",void 0);__decorate$1x([r$5()],W3mConnectingWidget.prototype,"secondaryBtnLabel",void 0);__decorate$1x([r$5()],W3mConnectingWidget.prototype,"secondaryLabel",void 0);__decorate$1x([r$5()],W3mConnectingWidget.prototype,"buffering",void 0);__decorate$1x([n$6({type:Boolean})],W3mConnectingWidget.prototype,"isMobile",void 0);__decorate$1x([n$6()],W3mConnectingWidget.prototype,"onRetry",void 0);var __decorate$1w=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectingExternalView=class extends W3mConnectingWidget{constructor(){if(super(),this.externalViewUnsubscribe=[],!this.connector)throw new Error("w3m-connecting-view: No connector provided");EventsController.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.connector.name??"Unknown",platform:"browser"}}),this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),this.isWalletConnect=!1,this.externalViewUnsubscribe.push(ChainController.subscribeKey("activeCaipAddress",Mn=>{Mn&&ModalController.close()}))}disconnectedCallback(){this.externalViewUnsubscribe.forEach(Mn=>Mn())}async onConnectProxy(){try{this.error=!1,this.connector&&(this.connector.id!==ConstantsUtil$1.COINBASE_SDK_CONNECTOR_ID||!this.error)&&(await ConnectionController.connectExternal(this.connector,this.connector.chain),EventsController.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser",name:this.connector.name||"Unknown"}}))}catch(Mn){EventsController.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:(Mn==null?void 0:Mn.message)??"Unknown"}}),this.error=!0}}};W3mConnectingExternalView=__decorate$1w([customElement("w3m-connecting-external-view")],W3mConnectingExternalView);const styles$$=i$5`
  wui-flex,
  wui-list-wallet {
    width: 100%;
  }
`;var __decorate$1v=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectingMultiChainView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.activeConnector=ChainController.state.activeConnector,this.unsubscribe.push(ChainController.subscribeKey("activeConnector",Mn=>this.activeConnector=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){var Mn;return x`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["m","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-wallet-image
            size="lg"
            imageSrc=${o$3(AssetUtil.getConnectorImage(this.activeConnector))}
          ></wui-wallet-image>
        </wui-flex>
        <wui-flex
          flexDirection="column"
          alignItems="center"
          gap="xs"
          .padding=${["0","s","0","s"]}
        >
          <wui-text variant="paragraph-500" color="fg-100">
            Select Chain for ${(Mn=this.activeConnector)==null?void 0:Mn.name}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200"
            >Select which chain to connect to your multi chain wallet</wui-text
          >
        </wui-flex>
        <wui-flex
          flexGrow="1"
          flexDirection="column"
          alignItems="center"
          gap="xs"
          .padding=${["xs","0","xs","0"]}
        >
          ${this.networksTemplate()}
        </wui-flex>
      </wui-flex>
    `}networksTemplate(){var Mn,io;return(io=(Mn=this.activeConnector)==null?void 0:Mn.connectors)==null?void 0:io.map(fo=>fo.name?x`
            <wui-list-wallet
              imageSrc=${o$3(AssetUtil.getChainImage(fo.chain))}
              name=${ConstantsUtil$3.CHAIN_NAME_MAP[fo.chain]}
              @click=${()=>this.onConnector(fo)}
            ></wui-list-wallet>
          `:null)}onConnector(Mn){var fo,mo;const io=(mo=(fo=this.activeConnector)==null?void 0:fo.connectors)==null?void 0:mo.find($o=>$o.chain===Mn.chain);if(!io){SnackController.showError("Failed to find connector");return}io.id==="walletConnect"?CoreHelperUtil.isMobile()?RouterController.push("AllWallets"):RouterController.push("ConnectingWalletConnect"):RouterController.push("ConnectingExternal",{connector:io})}};W3mConnectingMultiChainView.styles=styles$$;__decorate$1v([r$5()],W3mConnectingMultiChainView.prototype,"activeConnector",void 0);W3mConnectingMultiChainView=__decorate$1v([customElement("w3m-connecting-multi-chain-view")],W3mConnectingMultiChainView);var __decorate$1u=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectingWcView=class extends r$7{constructor(){var Mn;super(),this.interval=void 0,this.lastRetry=Date.now(),this.wallet=(Mn=RouterController.state.data)==null?void 0:Mn.wallet,this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!OptionsController.state.siwx,this.determinePlatforms(),this.initializeConnection(),this.interval=setInterval(this.initializeConnection.bind(this),ConstantsUtil$2.TEN_SEC_MS)}disconnectedCallback(){clearTimeout(this.interval)}render(){return this.wallet?x`
      ${this.headerTemplate()}
      <div>${this.platformTemplate()}</div>
    `:x`<w3m-connecting-wc-qrcode></w3m-connecting-wc-qrcode>`}async initializeConnection(Mn=!1){if(this.platform!=="browser")try{const{wcPairingExpiry:io,status:fo}=ConnectionController.state;(Mn||CoreHelperUtil.isPairingExpired(io)||fo==="connecting")&&(await ConnectionController.connectWalletConnect(),this.finalizeConnection(),this.isSiwxEnabled||ModalController.close())}catch(io){EventsController.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:(io==null?void 0:io.message)??"Unknown"}}),ConnectionController.setWcError(!0),CoreHelperUtil.isAllowedRetry(this.lastRetry)?(SnackController.showError(io.message??"Declined"),this.lastRetry=Date.now(),this.initializeConnection(!0)):SnackController.showError(io.message??"Connection error")}}finalizeConnection(){var fo;const{wcLinking:Mn,recentWallet:io}=ConnectionController.state;Mn&&StorageUtil.setWalletConnectDeepLink(Mn),io&&StorageUtil.setAppKitRecent(io),EventsController.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:Mn?"mobile":"qrcode",name:((fo=this.wallet)==null?void 0:fo.name)||"Unknown"}})}determinePlatforms(){if(!this.wallet){this.platforms.push("qrcode"),this.platform="qrcode";return}if(this.platform)return;const{mobile_link:Mn,desktop_link:io,webapp_link:fo,injected:mo,rdns:$o,name:Ao}=this.wallet,Lo=mo==null?void 0:mo.map(({injected_id:os})=>os).filter(Boolean),Wo=[...$o?[$o]:Lo??[],Ao],jo=OptionsController.state.isUniversalProvider?!1:Wo.length,zo=Mn,Vo=fo,Go=ConnectionController.checkInstalled(Wo),Jo=jo&&Go,Qo=io&&!CoreHelperUtil.isMobile();Jo&&this.platforms.push("browser"),zo&&this.platforms.push(CoreHelperUtil.isMobile()?"mobile":"qrcode"),Vo&&this.platforms.push("web"),Qo&&this.platforms.push("desktop"),!Jo&&jo&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return x`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"web":return x`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case"desktop":return x`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"mobile":return x`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return x`<w3m-connecting-wc-qrcode></w3m-connecting-wc-qrcode>`;default:return x`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?x`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(Mn){var fo;const io=(fo=this.shadowRoot)==null?void 0:fo.querySelector("div");io&&(await io.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=Mn,io.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};__decorate$1u([r$5()],W3mConnectingWcView.prototype,"platform",void 0);__decorate$1u([r$5()],W3mConnectingWcView.prototype,"platforms",void 0);__decorate$1u([r$5()],W3mConnectingWcView.prototype,"isSiwxEnabled",void 0);W3mConnectingWcView=__decorate$1u([customElement("w3m-connecting-wc-view")],W3mConnectingWcView);const styles$_=i$5`
  .continue-button-container {
    width: 100%;
  }
`;var __decorate$1t=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mChooseAccountNameView=class extends r$7{constructor(){super(...arguments),this.loading=!1}render(){return x`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="xxl"
        .padding=${["0","0","l","0"]}
      >
        ${this.onboardingTemplate()} ${this.buttonsTemplate()}
        <wui-link
          @click=${()=>{CoreHelperUtil.openHref(NavigationUtil.URLS.FAQ,"_blank")}}
        >
          Learn more about names
          <wui-icon color="inherit" slot="iconRight" name="externalLink"></wui-icon>
        </wui-link>
      </wui-flex>
    `}onboardingTemplate(){return x` <wui-flex
      flexDirection="column"
      gap="xxl"
      alignItems="center"
      .padding=${["0","xxl","0","xxl"]}
    >
      <wui-flex gap="s" alignItems="center" justifyContent="center">
        <wui-icon-box
          icon="id"
          size="xl"
          iconSize="xxl"
          iconColor="fg-200"
          backgroundColor="fg-200"
        ></wui-icon-box>
      </wui-flex>
      <wui-flex flexDirection="column" alignItems="center" gap="s">
        <wui-text align="center" variant="medium-600" color="fg-100">
          Choose your account name
        </wui-text>
        <wui-text align="center" variant="paragraph-400" color="fg-100">
          Finally say goodbye to 0x addresses, name your account to make it easier to exchange
          assets
        </wui-text>
      </wui-flex>
    </wui-flex>`}buttonsTemplate(){return x`<wui-flex
      .padding=${["0","2l","0","2l"]}
      gap="s"
      class="continue-button-container"
    >
      <wui-button
        fullWidth
        .loading=${this.loading}
        size="lg"
        borderRadius="xs"
        @click=${this.handleContinue.bind(this)}
        >Choose name
      </wui-button>
    </wui-flex>`}handleContinue(){RouterController.push("RegisterAccountName"),EventsController.sendEvent({type:"track",event:"OPEN_ENS_FLOW",properties:{isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT}})}};W3mChooseAccountNameView.styles=styles$_;__decorate$1t([r$5()],W3mChooseAccountNameView.prototype,"loading",void 0);W3mChooseAccountNameView=__decorate$1t([customElement("w3m-choose-account-name-view")],W3mChooseAccountNameView);var __decorate$1s=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mDownloadsView=class extends r$7{constructor(){var Mn;super(...arguments),this.wallet=(Mn=RouterController.state.data)==null?void 0:Mn.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return x`
      <wui-flex gap="xs" flexDirection="column" .padding=${["s","s","l","s"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){var Mn;return(Mn=this.wallet)!=null&&Mn.chrome_store?x`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){var Mn;return(Mn=this.wallet)!=null&&Mn.app_store?x`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){var Mn;return(Mn=this.wallet)!=null&&Mn.play_store?x`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){var Mn;return(Mn=this.wallet)!=null&&Mn.homepage?x`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="paragraph-500" color="fg-100">Website</wui-text>
      </wui-list-item>
    `:null}onChromeStore(){var Mn;(Mn=this.wallet)!=null&&Mn.chrome_store&&CoreHelperUtil.openHref(this.wallet.chrome_store,"_blank")}onAppStore(){var Mn;(Mn=this.wallet)!=null&&Mn.app_store&&CoreHelperUtil.openHref(this.wallet.app_store,"_blank")}onPlayStore(){var Mn;(Mn=this.wallet)!=null&&Mn.play_store&&CoreHelperUtil.openHref(this.wallet.play_store,"_blank")}onHomePage(){var Mn;(Mn=this.wallet)!=null&&Mn.homepage&&CoreHelperUtil.openHref(this.wallet.homepage,"_blank")}};W3mDownloadsView=__decorate$1s([customElement("w3m-downloads-view")],W3mDownloadsView);var __decorate$1r=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const EXPLORER="https://walletconnect.com/explorer";let W3mGetWalletView=class extends r$7{render(){return x`
      <wui-flex flexDirection="column" .padding=${["0","s","s","s"]} gap="xs">
        ${this.recommendedWalletsTemplate()}
        <wui-list-wallet
          name="Explore all"
          showAllWallets
          walletIcon="allWallets"
          icon="externalLink"
          @click=${()=>{CoreHelperUtil.openHref("https://walletconnect.com/explorer?type=wallet","_blank")}}
        ></wui-list-wallet>
      </wui-flex>
    `}recommendedWalletsTemplate(){const{recommended:Mn,featured:io}=ApiController.state,{customWallets:fo}=OptionsController.state;return[...io,...fo??[],...Mn].slice(0,4).map($o=>x`
        <wui-list-wallet
          name=${$o.name??"Unknown"}
          tagVariant="main"
          imageSrc=${o$3(AssetUtil.getWalletImage($o))}
          @click=${()=>{CoreHelperUtil.openHref($o.homepage??EXPLORER,"_blank")}}
        ></wui-list-wallet>
      `)}};W3mGetWalletView=__decorate$1r([customElement("w3m-get-wallet-view")],W3mGetWalletView);const styles$Z=i$5`
  wui-flex {
    width: 100%;
  }

  .suggestion {
    background: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }

  .suggestion:hover {
    background-color: var(--wui-color-gray-glass-005);
    cursor: pointer;
  }

  .suggested-name {
    max-width: 75%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  form {
    width: 100%;
  }

  wui-icon-link {
    position: absolute;
    right: 20px;
    transform: translateY(11px);
  }
`;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const f$2=Fn=>Fn.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const s$1=(Fn,Mn)=>{var fo;const io=Fn._$AN;if(io===void 0)return!1;for(const mo of io)(fo=mo._$AO)==null||fo.call(mo,Mn,!1),s$1(mo,Mn);return!0},o$2=Fn=>{let Mn,io;do{if((Mn=Fn._$AM)===void 0)break;io=Mn._$AN,io.delete(Fn),Fn=Mn}while((io==null?void 0:io.size)===0)},r$4=Fn=>{for(let Mn;Mn=Fn._$AM;Fn=Mn){let io=Mn._$AN;if(io===void 0)Mn._$AN=io=new Set;else if(io.has(Fn))break;io.add(Fn),c$1(Mn)}};function h$5(Fn){this._$AN!==void 0?(o$2(this),this._$AM=Fn,r$4(this)):this._$AM=Fn}function n$5(Fn,Mn=!1,io=0){const fo=this._$AH,mo=this._$AN;if(mo!==void 0&&mo.size!==0)if(Mn)if(Array.isArray(fo))for(let $o=io;$o<fo.length;$o++)s$1(fo[$o],!1),o$2(fo[$o]);else fo!=null&&(s$1(fo,!1),o$2(fo));else s$1(this,Fn)}const c$1=Fn=>{Fn.type==t$3.CHILD&&(Fn._$AP??(Fn._$AP=n$5),Fn._$AQ??(Fn._$AQ=h$5))};let f$1=class extends i$1{constructor(){super(...arguments),this._$AN=void 0}_$AT(Mn,io,fo){super._$AT(Mn,io,fo),r$4(this),this.isConnected=Mn._$AU}_$AO(Mn,io=!0){var fo,mo;Mn!==this.isConnected&&(this.isConnected=Mn,Mn?(fo=this.reconnected)==null||fo.call(this):(mo=this.disconnected)==null||mo.call(this)),io&&(s$1(this,Mn),o$2(this))}setValue(Mn){if(f$2(this._$Ct))this._$Ct._$AI(Mn,this);else{const io=[...this._$Ct._$AH];io[this._$Ci]=Mn,this._$Ct._$AI(io,this,0)}}disconnected(){}reconnected(){}};/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$2=()=>new h$4;let h$4=class{};const o$1=new WeakMap,n$4=e$4(class extends f$1{render(Fn){return E}update(Fn,[Mn]){var fo;const io=Mn!==this.Y;return io&&this.Y!==void 0&&this.rt(void 0),(io||this.lt!==this.ct)&&(this.Y=Mn,this.ht=(fo=Fn.options)==null?void 0:fo.host,this.rt(this.ct=Fn.element)),E}rt(Fn){if(this.isConnected||(Fn=void 0),typeof this.Y=="function"){const Mn=this.ht??globalThis;let io=o$1.get(Mn);io===void 0&&(io=new WeakMap,o$1.set(Mn,io)),io.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),io.set(this.Y,Fn),Fn!==void 0&&this.Y.call(this.ht,Fn)}else this.Y.value=Fn}get lt(){var Fn,Mn;return typeof this.Y=="function"?(Fn=o$1.get(this.ht??globalThis))==null?void 0:Fn.get(this.Y):(Mn=this.Y)==null?void 0:Mn.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var __decorate$1q=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mRegisterAccountNameView=class extends r$7{constructor(){super(),this.formRef=e$2(),this.usubscribe=[],this.name="",this.error="",this.loading=EnsController.state.loading,this.suggestions=EnsController.state.suggestions,this.registered=!1,this.profileName=AccountController.state.profileName,this.onDebouncedNameInputChange=CoreHelperUtil.debounce(Mn=>{EnsController.validateName(Mn)?(this.error="",this.name=Mn,EnsController.getSuggestions(Mn),EnsController.isNameRegistered(Mn).then(io=>{this.registered=io})):Mn.length<4?this.error="Name must be at least 4 characters long":this.error="Can only contain letters, numbers and - characters"}),this.usubscribe.push(EnsController.subscribe(Mn=>{this.suggestions=Mn.suggestions,this.loading=Mn.loading}),AccountController.subscribeKey("profileName",Mn=>{this.profileName=Mn,Mn&&(this.error="You already own a name")}))}firstUpdated(){var Mn;(Mn=this.formRef.value)==null||Mn.addEventListener("keydown",this.onEnterKey.bind(this))}disconnectedCallback(){var Mn;super.disconnectedCallback(),this.usubscribe.forEach(io=>io()),(Mn=this.formRef.value)==null||Mn.removeEventListener("keydown",this.onEnterKey.bind(this))}render(){return x`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="m"
        .padding=${["0","s","m","s"]}
      >
        <form ${n$4(this.formRef)} @submit=${this.onSubmitName.bind(this)}>
          <wui-ens-input
            @inputChange=${this.onNameInputChange.bind(this)}
            .errorMessage=${this.error}
            .value=${this.name}
          >
          </wui-ens-input>
          ${this.submitButtonTemplate()}
          <input type="submit" hidden />
        </form>
        ${this.templateSuggestions()}
      </wui-flex>
    `}submitButtonTemplate(){return this.isAllowedToSubmit()?x`
          <wui-icon-link
            size="sm"
            icon="chevronRight"
            iconcolor="accent-100"
            @click=${this.onSubmitName.bind(this)}
          >
          </wui-icon-link>
        `:null}onSelectSuggestion(Mn){return()=>{this.name=Mn,this.registered=!1,this.requestUpdate()}}onNameInputChange(Mn){this.onDebouncedNameInputChange(Mn.detail)}nameSuggestionTagTemplate(){return this.loading?x`<wui-loading-spinner size="lg" color="fg-100"></wui-loading-spinner>`:this.registered?x`<wui-tag variant="shade" size="lg">Registered</wui-tag>`:x`<wui-tag variant="success" size="lg">Available</wui-tag>`}templateSuggestions(){if(!this.name||this.name.length<4||this.error)return null;const Mn=this.registered?this.suggestions.filter(io=>io.name!==this.name):[];return x`<wui-flex flexDirection="column" gap="xxs" alignItems="center">
      <wui-flex
        data-testid="account-name-suggestion"
        .padding=${["m","m","m","m"]}
        justifyContent="space-between"
        class="suggestion"
        @click=${this.onSubmitName.bind(this)}
      >
        <wui-text color="fg-100" variant="paragraph-400" class="suggested-name">
          ${this.name}</wui-text
        >${this.nameSuggestionTagTemplate()}
      </wui-flex>
      ${Mn.map(io=>this.availableNameTemplate(io.name))}
    </wui-flex>`}availableNameTemplate(Mn){return x` <wui-flex
      data-testid="account-name-suggestion"
      .padding=${["m","m","m","m"]}
      justifyContent="space-between"
      class="suggestion"
      @click=${this.onSelectSuggestion(Mn)}
    >
      <wui-text color="fg-100" variant="paragraph-400" class="suggested-name">
        ${Mn}
      </wui-text>
      <wui-tag variant="success" size="lg">Available</wui-tag>
    </wui-flex>`}isAllowedToSubmit(){return!this.loading&&!this.registered&&!this.error&&!this.profileName&&EnsController.validateName(this.name)}async onSubmitName(){try{if(!this.isAllowedToSubmit())return;const Mn=`${this.name}${ConstantsUtil$3.WC_NAME_SUFFIX}`;EventsController.sendEvent({type:"track",event:"REGISTER_NAME_INITIATED",properties:{isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,ensName:Mn}}),await EnsController.registerName(Mn),EventsController.sendEvent({type:"track",event:"REGISTER_NAME_SUCCESS",properties:{isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,ensName:Mn}})}catch(Mn){SnackController.showError(Mn.message),EventsController.sendEvent({type:"track",event:"REGISTER_NAME_ERROR",properties:{isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT,ensName:`${this.name}${ConstantsUtil$3.WC_NAME_SUFFIX}`,error:(Mn==null?void 0:Mn.message)||"Unknown error"}})}}onEnterKey(Mn){Mn.key==="Enter"&&this.isAllowedToSubmit()&&this.onSubmitName()}};W3mRegisterAccountNameView.styles=styles$Z;__decorate$1q([n$6()],W3mRegisterAccountNameView.prototype,"errorMessage",void 0);__decorate$1q([r$5()],W3mRegisterAccountNameView.prototype,"name",void 0);__decorate$1q([r$5()],W3mRegisterAccountNameView.prototype,"error",void 0);__decorate$1q([r$5()],W3mRegisterAccountNameView.prototype,"loading",void 0);__decorate$1q([r$5()],W3mRegisterAccountNameView.prototype,"suggestions",void 0);__decorate$1q([r$5()],W3mRegisterAccountNameView.prototype,"registered",void 0);__decorate$1q([r$5()],W3mRegisterAccountNameView.prototype,"profileName",void 0);W3mRegisterAccountNameView=__decorate$1q([customElement("w3m-register-account-name-view")],W3mRegisterAccountNameView);const styles$Y=i$5`
  .continue-button-container {
    width: 100%;
  }
`;var __decorate$1p=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mRegisterAccountNameSuccess=class extends r$7{render(){return x`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="xxl"
        .padding=${["0","0","l","0"]}
      >
        ${this.onboardingTemplate()} ${this.buttonsTemplate()}
        <wui-link
          @click=${()=>{CoreHelperUtil.openHref(NavigationUtil.URLS.FAQ,"_blank")}}
        >
          Learn more
          <wui-icon color="inherit" slot="iconRight" name="externalLink"></wui-icon>
        </wui-link>
      </wui-flex>
    `}onboardingTemplate(){return x` <wui-flex
      flexDirection="column"
      gap="xxl"
      alignItems="center"
      .padding=${["0","xxl","0","xxl"]}
    >
      <wui-flex gap="s" alignItems="center" justifyContent="center">
        <wui-icon-box
          size="xl"
          iconcolor="success-100"
          backgroundcolor="success-100"
          icon="checkmark"
          background="opaque"
        ></wui-icon-box>
      </wui-flex>
      <wui-flex flexDirection="column" alignItems="center" gap="s">
        <wui-text align="center" variant="medium-600" color="fg-100">
          Account name chosen successfully
        </wui-text>
        <wui-text align="center" variant="paragraph-400" color="fg-100">
          You can now fund your account and trade crypto
        </wui-text>
      </wui-flex>
    </wui-flex>`}buttonsTemplate(){return x`<wui-flex
      .padding=${["0","2l","0","2l"]}
      gap="s"
      class="continue-button-container"
    >
      <wui-button fullWidth size="lg" borderRadius="xs" @click=${this.redirectToAccount.bind(this)}
        >Let's Go!
      </wui-button>
    </wui-flex>`}redirectToAccount(){RouterController.replace("Account")}};W3mRegisterAccountNameSuccess.styles=styles$Y;W3mRegisterAccountNameSuccess=__decorate$1p([customElement("w3m-register-account-name-success-view")],W3mRegisterAccountNameSuccess);const styles$X=i$5`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-hexagon {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: 4px;
    bottom: 0;
    opacity: 0;
    transform: scale(0.5);
    z-index: 1;
  }

  wui-button {
    display: none;
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  wui-button[data-retry='true'] {
    display: block;
    opacity: 1;
  }
`;var __decorate$1o=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mNetworkSwitchView=class extends r$7{constructor(){var Mn;super(),this.network=(Mn=RouterController.state.data)==null?void 0:Mn.network,this.unsubscribe=[],this.showRetry=!1,this.error=!1}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}firstUpdated(){this.onSwitchNetwork()}render(){if(!this.network)throw new Error("w3m-network-switch-view: No network provided");this.onShowRetry();const Mn=this.getLabel(),io=this.getSubLabel();return x`
      <wui-flex
        data-error=${this.error}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","3xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-network-image
            size="lg"
            imageSrc=${o$3(AssetUtil.getNetworkImage(this.network))}
          ></wui-network-image>

          ${this.error?null:x`<wui-loading-hexagon></wui-loading-hexagon>`}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            ?border=${!0}
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text align="center" variant="paragraph-500" color="fg-100">${Mn}</wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${io}</wui-text>
        </wui-flex>

        <wui-button
          data-retry=${this.showRetry}
          variant="accent"
          size="md"
          .disabled=${!this.error}
          @click=${this.onSwitchNetwork.bind(this)}
        >
          <wui-icon color="inherit" slot="iconLeft" name="refresh"></wui-icon>
          Try again
        </wui-button>
      </wui-flex>
    `}getSubLabel(){const Mn=StorageUtil.getConnectedConnector();return ConnectorController.getAuthConnector()&&Mn==="AUTH"?"":this.error?"Switch can be declined if chain is not supported by a wallet or previous request is still active":"Accept connection request in your wallet"}getLabel(){var fo;const Mn=StorageUtil.getConnectedConnector();return ConnectorController.getAuthConnector()&&Mn==="AUTH"?`Switching to ${((fo=this.network)==null?void 0:fo.name)??"Unknown"} network...`:this.error?"Switch declined":"Approve in wallet"}onShowRetry(){var Mn;if(this.error&&!this.showRetry){this.showRetry=!0;const io=(Mn=this.shadowRoot)==null?void 0:Mn.querySelector("wui-button");io==null||io.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"})}}async onSwitchNetwork(){try{this.error=!1,this.network&&await ChainController.switchActiveNetwork(this.network)}catch{this.error=!0}}};W3mNetworkSwitchView.styles=styles$X;__decorate$1o([r$5()],W3mNetworkSwitchView.prototype,"showRetry",void 0);__decorate$1o([r$5()],W3mNetworkSwitchView.prototype,"error",void 0);W3mNetworkSwitchView=__decorate$1o([customElement("w3m-network-switch-view")],W3mNetworkSwitchView);const styles$W=i$5`
  .container {
    max-height: 360px;
    overflow: auto;
  }

  .container::-webkit-scrollbar {
    display: none;
  }
`;var __decorate$1n=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mNetworksView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.network=ChainController.state.activeCaipNetwork,this.requestedCaipNetworks=ChainController.getAllRequestedCaipNetworks(),this.search="",this.onDebouncedSearch=CoreHelperUtil.debounce(Mn=>{this.search=Mn},100),this.unsubscribe.push(ChainController.subscribeKey("activeCaipNetwork",Mn=>this.network=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){return x`
      ${this.templateSearchInput()}
      <wui-flex
        class="container"
        .padding=${["0","s","s","s"]}
        flexDirection="column"
        gap="xs"
      >
        ${this.networksTemplate()}
      </wui-flex>

      <wui-separator></wui-separator>

      <wui-flex padding="s" flexDirection="column" gap="m" alignItems="center">
        <wui-text variant="small-400" color="fg-300" align="center">
          Your connected wallet may not support some of the networks available for this dApp
        </wui-text>
        <wui-link @click=${this.onNetworkHelp.bind(this)}>
          <wui-icon size="xs" color="accent-100" slot="iconLeft" name="helpCircle"></wui-icon>
          What is a network
        </wui-link>
      </wui-flex>
    `}templateSearchInput(){return x`
      <wui-flex gap="xs" .padding=${["0","s","s","s"]}>
        <wui-input-text
          @inputChange=${this.onInputChange.bind(this)}
          class="network-search-input"
          size="md"
          placeholder="Search network"
          icon="search"
        ></wui-input-text>
      </wui-flex>
    `}onInputChange(Mn){this.onDebouncedSearch(Mn.detail)}onNetworkHelp(){EventsController.sendEvent({type:"track",event:"CLICK_NETWORK_HELP"}),RouterController.push("WhatIsANetwork")}networksTemplate(){var mo;const Mn=ChainController.getAllRequestedCaipNetworks(),io=ChainController.getAllApprovedCaipNetworkIds(),fo=CoreHelperUtil.sortRequestedNetworks(io,Mn);return this.search?this.filteredNetworks=fo==null?void 0:fo.filter($o=>{var Ao;return(Ao=$o==null?void 0:$o.name)==null?void 0:Ao.toLowerCase().includes(this.search.toLowerCase())}):this.filteredNetworks=fo,(mo=this.filteredNetworks)==null?void 0:mo.map($o=>{var Ao;return x`
        <wui-list-network
          .selected=${((Ao=this.network)==null?void 0:Ao.id)===$o.id}
          imageSrc=${o$3(AssetUtil.getNetworkImage($o))}
          type="network"
          name=${$o.name??$o.id}
          @click=${()=>this.onSwitchNetwork($o)}
          .disabled=${this.getNetworkDisabled($o)}
          data-testid=${`w3m-network-switch-${$o.name??$o.id}`}
        ></wui-list-network>
      `})}getNetworkDisabled(Mn){const io=Mn.chainNamespace,fo=AccountController.getCaipAddress(io),mo=ChainController.getAllApprovedCaipNetworkIds(),$o=ChainController.getNetworkProp("supportsAllNetworks",io)!==!1,Ao=StorageUtil.getConnectedConnector(),Lo=ConnectorController.getAuthConnector();return!fo||$o||Ao==="ID_AUTH"&&Lo?!1:!(mo!=null&&mo.includes(Mn.caipNetworkId))}onSwitchNetwork(Mn){var Wo;const io=RouterController.state.data;if(Mn.id===((Wo=this.network)==null?void 0:Wo.id))return;const mo=Mn.chainNamespace!==ChainController.state.activeChain,$o=ChainController.getAccountProp("caipAddress",Mn.chainNamespace),Ao=AccountController.state.caipAddress,Lo=StorageUtil.getConnectedConnector()==="ID_AUTH";mo&&Ao&&!$o&&!Lo?RouterController.push("SwitchActiveChain",{switchToChain:Mn.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:Mn}):RouterController.push("SwitchNetwork",{...io,network:Mn})}};W3mNetworksView.styles=styles$W;__decorate$1n([r$5()],W3mNetworksView.prototype,"network",void 0);__decorate$1n([r$5()],W3mNetworksView.prototype,"requestedCaipNetworks",void 0);__decorate$1n([r$5()],W3mNetworksView.prototype,"filteredNetworks",void 0);__decorate$1n([r$5()],W3mNetworksView.prototype,"search",void 0);W3mNetworksView=__decorate$1n([customElement("w3m-networks-view")],W3mNetworksView);const styles$V=i$5`
  :host > wui-flex {
    height: 500px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
    padding: var(--wui-spacing-m);
    box-sizing: border-box;
    display: flex;
    align-items: center;
    justify-content: flex-start;
  }

  :host > wui-flex::-webkit-scrollbar {
    display: none;
  }

  :host > wui-flex > wui-flex {
    width: 100%;
  }

  wui-transaction-list-item-loader {
    width: 100%;
  }
`;var __decorate$1m=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const LOADING_ITEM_COUNT$1=7;let W3mOnRampActivityView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.selectedOnRampProvider=OnRampController.state.selectedProvider,this.loading=!1,this.coinbaseTransactions=TransactionsController.state.coinbaseTransactions,this.tokenImages=AssetController.state.tokenImages,this.unsubscribe.push(OnRampController.subscribeKey("selectedProvider",Mn=>{this.selectedOnRampProvider=Mn}),AssetController.subscribeKey("tokenImages",Mn=>this.tokenImages=Mn),()=>{clearTimeout(this.refetchTimeout)},TransactionsController.subscribe(Mn=>{this.coinbaseTransactions={...Mn.coinbaseTransactions}})),TransactionsController.clearCursor(),this.fetchTransactions()}render(){return x`
      <wui-flex flexDirection="column" .padding=${["0","s","s","s"]} gap="xs">
        ${this.loading?this.templateLoading():this.templateTransactionsByYear()}
      </wui-flex>
    `}templateTransactions(Mn){return Mn==null?void 0:Mn.map(io=>{var Lo,Wo,jo;const fo=DateUtil.formatDate((Lo=io==null?void 0:io.metadata)==null?void 0:Lo.minedAt),mo=io.transfers[0],$o=mo==null?void 0:mo.fungible_info;if(!$o)return null;const Ao=((Wo=$o==null?void 0:$o.icon)==null?void 0:Wo.url)||((jo=this.tokenImages)==null?void 0:jo[$o.symbol||""]);return x`
        <w3m-onramp-activity-item
          label="Bought"
          .completed=${io.metadata.status==="ONRAMP_TRANSACTION_STATUS_SUCCESS"}
          .inProgress=${io.metadata.status==="ONRAMP_TRANSACTION_STATUS_IN_PROGRESS"}
          .failed=${io.metadata.status==="ONRAMP_TRANSACTION_STATUS_FAILED"}
          purchaseCurrency=${o$3($o.symbol)}
          purchaseValue=${mo.quantity.numeric}
          date=${fo}
          icon=${o$3(Ao)}
          symbol=${o$3($o.symbol)}
        ></w3m-onramp-activity-item>
      `})}templateTransactionsByYear(){return Object.keys(this.coinbaseTransactions).sort().reverse().map(io=>{const fo=parseInt(io,10);return new Array(12).fill(null).map(($o,Ao)=>Ao).reverse().map($o=>{var Wo;const Ao=TransactionUtil.getTransactionGroupTitle(fo,$o),Lo=(Wo=this.coinbaseTransactions[fo])==null?void 0:Wo[$o];return Lo?x`
          <wui-flex flexDirection="column">
            <wui-flex
              alignItems="center"
              flexDirection="row"
              .padding=${["xs","s","s","s"]}
            >
              <wui-text variant="paragraph-500" color="fg-200">${Ao}</wui-text>
            </wui-flex>
            <wui-flex flexDirection="column" gap="xs">
              ${this.templateTransactions(Lo)}
            </wui-flex>
          </wui-flex>
        `:null})})}async fetchTransactions(){await this.fetchCoinbaseTransactions()}async fetchCoinbaseTransactions(){const Mn=AccountController.state.address,io=OptionsController.state.projectId;if(!Mn)throw new Error("No address found");if(!io)throw new Error("No projectId found");this.loading=!0,await TransactionsController.fetchTransactions(Mn,"coinbase"),this.loading=!1,this.refetchLoadingTransactions()}refetchLoadingTransactions(){var mo;const Mn=new Date;if((((mo=this.coinbaseTransactions[Mn.getFullYear()])==null?void 0:mo[Mn.getMonth()])||[]).filter($o=>$o.metadata.status==="ONRAMP_TRANSACTION_STATUS_IN_PROGRESS").length===0){clearTimeout(this.refetchTimeout);return}this.refetchTimeout=setTimeout(async()=>{const $o=AccountController.state.address;await TransactionsController.fetchTransactions($o,"coinbase"),this.refetchLoadingTransactions()},3e3)}templateLoading(){return Array(LOADING_ITEM_COUNT$1).fill(x` <wui-transaction-list-item-loader></wui-transaction-list-item-loader> `).map(Mn=>Mn)}};W3mOnRampActivityView.styles=styles$V;__decorate$1m([r$5()],W3mOnRampActivityView.prototype,"selectedOnRampProvider",void 0);__decorate$1m([r$5()],W3mOnRampActivityView.prototype,"loading",void 0);__decorate$1m([r$5()],W3mOnRampActivityView.prototype,"coinbaseTransactions",void 0);__decorate$1m([r$5()],W3mOnRampActivityView.prototype,"tokenImages",void 0);W3mOnRampActivityView=__decorate$1m([customElement("w3m-onramp-activity-view")],W3mOnRampActivityView);const styles$U=i$5`
  :host > wui-grid {
    max-height: 360px;
    overflow: auto;
  }

  wui-flex {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-flex.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }
`;var __decorate$1l=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mOnrampFiatSelectView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.selectedCurrency=OnRampController.state.paymentCurrency,this.currencies=OnRampController.state.paymentCurrencies,this.currencyImages=AssetController.state.currencyImages,this.checked=!1,this.unsubscribe.push(OnRampController.subscribe(Mn=>{this.selectedCurrency=Mn.paymentCurrency,this.currencies=Mn.paymentCurrencies}),AssetController.subscribeKey("currencyImages",Mn=>this.currencyImages=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){var Lo;const{termsConditionsUrl:Mn,privacyPolicyUrl:io}=OptionsController.state,fo=(Lo=OptionsController.state.features)==null?void 0:Lo.legalCheckbox,Ao=!!(Mn||io)&&!!fo&&!this.checked;return x`
      <w3m-legal-checkbox @checkboxChange=${this.onCheckboxChange.bind(this)}></w3m-legal-checkbox>
      <wui-flex
        flexDirection="column"
        .padding=${["0","s","s","s"]}
        gap="xs"
        class=${o$3(Ao?"disabled":void 0)}
      >
        ${this.currenciesTemplate(Ao)}
      </wui-flex>
      <w3m-legal-footer></w3m-legal-footer>
    `}currenciesTemplate(Mn=!1){return this.currencies.map(io=>{var fo;return x`
        <wui-list-item
          imageSrc=${o$3((fo=this.currencyImages)==null?void 0:fo[io.id])}
          @click=${()=>this.selectCurrency(io)}
          variant="image"
          tabIdx=${o$3(Mn?-1:void 0)}
        >
          <wui-text variant="paragraph-500" color="fg-100">${io.id}</wui-text>
        </wui-list-item>
      `})}selectCurrency(Mn){Mn&&(OnRampController.setPaymentCurrency(Mn),ModalController.close())}onCheckboxChange(Mn){this.checked=!!Mn.detail}};W3mOnrampFiatSelectView.styles=styles$U;__decorate$1l([r$5()],W3mOnrampFiatSelectView.prototype,"selectedCurrency",void 0);__decorate$1l([r$5()],W3mOnrampFiatSelectView.prototype,"currencies",void 0);__decorate$1l([r$5()],W3mOnrampFiatSelectView.prototype,"currencyImages",void 0);__decorate$1l([r$5()],W3mOnrampFiatSelectView.prototype,"checked",void 0);W3mOnrampFiatSelectView=__decorate$1l([customElement("w3m-onramp-fiat-select-view")],W3mOnrampFiatSelectView);var __decorate$1k=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mOnRampProvidersView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.providers=OnRampController.state.providers,this.unsubscribe.push(OnRampController.subscribeKey("providers",Mn=>{this.providers=Mn}))}firstUpdated(){const Mn=this.providers.map(async io=>io.name==="coinbase"?await this.getCoinbaseOnRampURL():Promise.resolve(io==null?void 0:io.url));Promise.all(Mn).then(io=>{this.providers=this.providers.map((fo,mo)=>({...fo,url:io[mo]||""}))})}render(){return x`
      <wui-flex flexDirection="column" .padding=${["0","s","s","s"]} gap="xs">
        ${this.onRampProvidersTemplate()}
      </wui-flex>
      <w3m-onramp-providers-footer></w3m-onramp-providers-footer>
    `}onRampProvidersTemplate(){return this.providers.filter(Mn=>Mn.supportedChains.includes(ChainController.state.activeChain??"eip155")).map(Mn=>x`
          <w3m-onramp-provider-item
            label=${Mn.label}
            name=${Mn.name}
            feeRange=${Mn.feeRange}
            @click=${()=>{this.onClickProvider(Mn)}}
            ?disabled=${!Mn.url}
          ></w3m-onramp-provider-item>
        `)}onClickProvider(Mn){OnRampController.setSelectedProvider(Mn),RouterController.push("BuyInProgress"),CoreHelperUtil.openHref(Mn.url,"popupWindow","width=600,height=800,scrollbars=yes"),EventsController.sendEvent({type:"track",event:"SELECT_BUY_PROVIDER",properties:{provider:Mn.name,isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT}})}async getCoinbaseOnRampURL(){const Mn=AccountController.state.address,io=ChainController.state.activeCaipNetwork;if(!Mn)throw new Error("No address found");if(!(io!=null&&io.name))throw new Error("No network found");const fo=ConstantsUtil$2.WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP[io.name]??ConstantsUtil$2.WC_COINBASE_PAY_SDK_FALLBACK_CHAIN,mo=OnRampController.state.purchaseCurrency,$o=mo?[mo.symbol]:OnRampController.state.purchaseCurrencies.map(Ao=>Ao.symbol);return await BlockchainApiController.generateOnRampURL({defaultNetwork:fo,destinationWallets:[{address:Mn,blockchains:ConstantsUtil$2.WC_COINBASE_PAY_SDK_CHAINS,assets:$o}],partnerUserId:Mn,purchaseAmount:OnRampController.state.purchaseAmount})}};__decorate$1k([r$5()],W3mOnRampProvidersView.prototype,"providers",void 0);W3mOnRampProvidersView=__decorate$1k([customElement("w3m-onramp-providers-view")],W3mOnRampProvidersView);const styles$T=i$5`
  :host > wui-grid {
    max-height: 360px;
    overflow: auto;
  }

  wui-flex {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-flex.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }
`;var __decorate$1j=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mOnrampTokensView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.selectedCurrency=OnRampController.state.purchaseCurrencies,this.tokens=OnRampController.state.purchaseCurrencies,this.tokenImages=AssetController.state.tokenImages,this.checked=!1,this.unsubscribe.push(OnRampController.subscribe(Mn=>{this.selectedCurrency=Mn.purchaseCurrencies,this.tokens=Mn.purchaseCurrencies}),AssetController.subscribeKey("tokenImages",Mn=>this.tokenImages=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){var Lo;const{termsConditionsUrl:Mn,privacyPolicyUrl:io}=OptionsController.state,fo=(Lo=OptionsController.state.features)==null?void 0:Lo.legalCheckbox,Ao=!!(Mn||io)&&!!fo&&!this.checked;return x`
      <w3m-legal-checkbox @checkboxChange=${this.onCheckboxChange.bind(this)}></w3m-legal-checkbox>
      <wui-flex
        flexDirection="column"
        .padding=${["0","s","s","s"]}
        gap="xs"
        class=${o$3(Ao?"disabled":void 0)}
      >
        ${this.currenciesTemplate(Ao)}
      </wui-flex>
      <w3m-legal-footer></w3m-legal-footer>
    `}currenciesTemplate(Mn=!1){return this.tokens.map(io=>{var fo;return x`
        <wui-list-item
          imageSrc=${o$3((fo=this.tokenImages)==null?void 0:fo[io.symbol])}
          @click=${()=>this.selectToken(io)}
          variant="image"
          tabIdx=${o$3(Mn?-1:void 0)}
        >
          <wui-flex gap="3xs" alignItems="center">
            <wui-text variant="paragraph-500" color="fg-100">${io.name}</wui-text>
            <wui-text variant="small-400" color="fg-200">${io.symbol}</wui-text>
          </wui-flex>
        </wui-list-item>
      `})}selectToken(Mn){Mn&&(OnRampController.setPurchaseCurrency(Mn),ModalController.close())}onCheckboxChange(Mn){this.checked=!!Mn.detail}};W3mOnrampTokensView.styles=styles$T;__decorate$1j([r$5()],W3mOnrampTokensView.prototype,"selectedCurrency",void 0);__decorate$1j([r$5()],W3mOnrampTokensView.prototype,"tokens",void 0);__decorate$1j([r$5()],W3mOnrampTokensView.prototype,"tokenImages",void 0);__decorate$1j([r$5()],W3mOnrampTokensView.prototype,"checked",void 0);W3mOnrampTokensView=__decorate$1j([customElement("w3m-onramp-token-select-view")],W3mOnrampTokensView);const styles$S=i$5`
  :host > wui-flex:first-child {
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
  }

  :host > wui-flex:first-child::-webkit-scrollbar {
    display: none;
  }

  wui-loading-hexagon {
    position: absolute;
  }

  .action-button {
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
  }

  .action-button:disabled {
    border-color: 1px solid var(--wui-color-gray-glass-005);
  }

  .swap-inputs-container {
    position: relative;
  }

  .replace-tokens-button-container {
    display: flex;
    justify-content: center;
    align-items: center;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    gap: var(--wui-spacing-1xs);
    border-radius: var(--wui-border-radius-xs);
    background-color: var(--wui-color-modal-bg-base);
    padding: var(--wui-spacing-xxs);
  }

  .replace-tokens-button-container > button {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 40px;
    width: 40px;
    padding: var(--wui-spacing-xs);
    border: none;
    border-radius: var(--wui-border-radius-xxs);
    background: var(--wui-color-gray-glass-002);
    transition: background-color var(--wui-duration-md) var(--wui-ease-out-power-1);
    will-change: background-color;
    z-index: 20;
  }

  .replace-tokens-button-container > button:hover {
    background: var(--wui-color-gray-glass-005);
  }

  .details-container > wui-flex {
    background: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xxs);
    width: 100%;
  }

  .details-container > wui-flex > button {
    border: none;
    background: none;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);
    transition: background 0.2s linear;
  }

  .details-container > wui-flex > button:hover {
    background: var(--wui-color-gray-glass-002);
  }

  .details-content-container {
    padding: var(--wui-spacing-1xs);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .details-content-container > wui-flex {
    width: 100%;
  }

  .details-row {
    width: 100%;
    padding: var(--wui-spacing-s) var(--wui-spacing-xl);
    border-radius: var(--wui-border-radius-xxs);
    background: var(--wui-color-gray-glass-002);
  }
`;var __decorate$1i=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mSwapView=class extends r$7{constructor(){var Mn;super(),this.unsubscribe=[],this.detailsOpen=!1,this.caipNetworkId=(Mn=ChainController.state.activeCaipNetwork)==null?void 0:Mn.caipNetworkId,this.initialized=SwapController.state.initialized,this.loadingQuote=SwapController.state.loadingQuote,this.loadingPrices=SwapController.state.loadingPrices,this.loadingTransaction=SwapController.state.loadingTransaction,this.sourceToken=SwapController.state.sourceToken,this.sourceTokenAmount=SwapController.state.sourceTokenAmount,this.sourceTokenPriceInUSD=SwapController.state.sourceTokenPriceInUSD,this.toToken=SwapController.state.toToken,this.toTokenAmount=SwapController.state.toTokenAmount,this.toTokenPriceInUSD=SwapController.state.toTokenPriceInUSD,this.inputError=SwapController.state.inputError,this.gasPriceInUSD=SwapController.state.gasPriceInUSD,this.fetchError=SwapController.state.fetchError,this.onDebouncedGetSwapCalldata=CoreHelperUtil.debounce(async()=>{await SwapController.swapTokens()},200),ChainController.subscribeKey("activeCaipNetwork",io=>{this.caipNetworkId!==(io==null?void 0:io.caipNetworkId)&&(this.caipNetworkId=io==null?void 0:io.caipNetworkId,SwapController.resetState(),SwapController.initializeState())}),this.unsubscribe.push(ModalController.subscribeKey("open",io=>{io||SwapController.resetState()}),RouterController.subscribeKey("view",io=>{io.includes("Swap")||SwapController.resetValues()}),SwapController.subscribe(io=>{this.initialized=io.initialized,this.loadingQuote=io.loadingQuote,this.loadingPrices=io.loadingPrices,this.loadingTransaction=io.loadingTransaction,this.sourceToken=io.sourceToken,this.sourceTokenAmount=io.sourceTokenAmount,this.sourceTokenPriceInUSD=io.sourceTokenPriceInUSD,this.toToken=io.toToken,this.toTokenAmount=io.toTokenAmount,this.toTokenPriceInUSD=io.toTokenPriceInUSD,this.inputError=io.inputError,this.gasPriceInUSD=io.gasPriceInUSD,this.fetchError=io.fetchError}))}firstUpdated(){SwapController.initializeState(),this.watchTokensAndValues()}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn==null?void 0:Mn()),clearInterval(this.interval)}render(){return x`
      <wui-flex flexDirection="column" .padding=${["0","l","l","l"]} gap="s">
        ${this.initialized?this.templateSwap():this.templateLoading()}
      </wui-flex>
    `}watchTokensAndValues(){this.interval=setInterval(()=>{SwapController.getNetworkTokenPrice(),SwapController.getMyTokensWithBalance(),SwapController.swapTokens()},1e4)}templateSwap(){return x`
      <wui-flex flexDirection="column" gap="s">
        <wui-flex flexDirection="column" alignItems="center" gap="xs" class="swap-inputs-container">
          ${this.templateTokenInput("sourceToken",this.sourceToken)}
          ${this.templateTokenInput("toToken",this.toToken)} ${this.templateReplaceTokensButton()}
        </wui-flex>
        ${this.templateDetails()} ${this.templateActionButton()}
      </wui-flex>
    `}actionButtonLabel(){return this.fetchError?"Swap":!this.sourceToken||!this.toToken?"Select token":this.sourceTokenAmount?this.inputError?this.inputError:"Review swap":"Enter amount"}templateReplaceTokensButton(){return x`
      <wui-flex class="replace-tokens-button-container">
        <button @click=${this.onSwitchTokens.bind(this)}>
          <wui-icon name="recycleHorizontal" color="fg-250" size="lg"></wui-icon>
        </button>
      </wui-flex>
    `}templateLoading(){return x`
      <wui-flex flexDirection="column" gap="l">
        <wui-flex flexDirection="column" alignItems="center" gap="xs" class="swap-inputs-container">
          <w3m-swap-input-skeleton target="sourceToken"></w3m-swap-input-skeleton>
          <w3m-swap-input-skeleton target="toToken"></w3m-swap-input-skeleton>
          ${this.templateReplaceTokensButton()}
        </wui-flex>
        ${this.templateActionButton()}
      </wui-flex>
    `}templateTokenInput(Mn,io){var Lo,Wo;const fo=(Lo=SwapController.state.myTokensWithBalance)==null?void 0:Lo.find(jo=>(jo==null?void 0:jo.address)===(io==null?void 0:io.address)),mo=Mn==="toToken"?this.toTokenAmount:this.sourceTokenAmount,$o=Mn==="toToken"?this.toTokenPriceInUSD:this.sourceTokenPriceInUSD;let Ao=parseFloat(mo)*$o;return Mn==="toToken"&&(Ao-=this.gasPriceInUSD||0),x`<w3m-swap-input
      .value=${Mn==="toToken"?this.toTokenAmount:this.sourceTokenAmount}
      ?disabled=${this.loadingQuote&&Mn==="toToken"}
      .onSetAmount=${this.handleChangeAmount.bind(this)}
      target=${Mn}
      .token=${io}
      .balance=${(Wo=fo==null?void 0:fo.quantity)==null?void 0:Wo.numeric}
      .price=${fo==null?void 0:fo.price}
      .marketValue=${Ao}
      .onSetMaxValue=${this.onSetMaxValue.bind(this)}
    ></w3m-swap-input>`}onSetMaxValue(Mn,io){const fo=Mn==="sourceToken"?this.sourceToken:this.toToken,mo=(fo==null?void 0:fo.address)===ChainController.getActiveNetworkTokenAddress();let $o="0";if(!io){$o="0",this.handleChangeAmount(Mn,$o);return}if(!this.gasPriceInUSD){$o=io,this.handleChangeAmount(Mn,$o);return}const Ao=NumberUtil.bigNumber(this.gasPriceInUSD.toFixed(5)).dividedBy(this.sourceTokenPriceInUSD),Lo=mo?NumberUtil.bigNumber(io).minus(Ao):NumberUtil.bigNumber(io);this.handleChangeAmount(Mn,Lo.isGreaterThan(0)?Lo.toFixed(20):"0")}templateDetails(){return!this.sourceToken||!this.toToken||this.inputError?null:x`<w3m-swap-details .detailsOpen=${this.detailsOpen}></w3m-swap-details>`}handleChangeAmount(Mn,io){SwapController.clearError(),Mn==="sourceToken"?SwapController.setSourceTokenAmount(io):SwapController.setToTokenAmount(io),this.onDebouncedGetSwapCalldata()}templateActionButton(){const Mn=!this.toToken||!this.sourceToken,io=!this.sourceTokenAmount,fo=this.loadingQuote||this.loadingPrices||this.loadingTransaction,mo=fo||Mn||io||this.inputError;return x` <wui-flex gap="xs">
      <wui-button
        data-testid="swap-action-button"
        class="action-button"
        fullWidth
        size="lg"
        borderRadius="xs"
        variant=${Mn?"neutral":"main"}
        .loading=${fo}
        .disabled=${mo}
        @click=${this.onSwapPreview.bind(this)}
      >
        ${this.actionButtonLabel()}
      </wui-button>
    </wui-flex>`}onSwitchTokens(){SwapController.switchTokens()}onSwapPreview(){var Mn,io;if(this.fetchError){SwapController.swapTokens();return}EventsController.sendEvent({type:"track",event:"INITIATE_SWAP",properties:{network:this.caipNetworkId||"",swapFromToken:((Mn=this.sourceToken)==null?void 0:Mn.symbol)||"",swapToToken:((io=this.toToken)==null?void 0:io.symbol)||"",swapFromAmount:this.sourceTokenAmount||"",swapToAmount:this.toTokenAmount||"",isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT}}),RouterController.push("SwapPreview")}};W3mSwapView.styles=styles$S;__decorate$1i([r$5()],W3mSwapView.prototype,"interval",void 0);__decorate$1i([r$5()],W3mSwapView.prototype,"detailsOpen",void 0);__decorate$1i([r$5()],W3mSwapView.prototype,"caipNetworkId",void 0);__decorate$1i([r$5()],W3mSwapView.prototype,"initialized",void 0);__decorate$1i([r$5()],W3mSwapView.prototype,"loadingQuote",void 0);__decorate$1i([r$5()],W3mSwapView.prototype,"loadingPrices",void 0);__decorate$1i([r$5()],W3mSwapView.prototype,"loadingTransaction",void 0);__decorate$1i([r$5()],W3mSwapView.prototype,"sourceToken",void 0);__decorate$1i([r$5()],W3mSwapView.prototype,"sourceTokenAmount",void 0);__decorate$1i([r$5()],W3mSwapView.prototype,"sourceTokenPriceInUSD",void 0);__decorate$1i([r$5()],W3mSwapView.prototype,"toToken",void 0);__decorate$1i([r$5()],W3mSwapView.prototype,"toTokenAmount",void 0);__decorate$1i([r$5()],W3mSwapView.prototype,"toTokenPriceInUSD",void 0);__decorate$1i([r$5()],W3mSwapView.prototype,"inputError",void 0);__decorate$1i([r$5()],W3mSwapView.prototype,"gasPriceInUSD",void 0);__decorate$1i([r$5()],W3mSwapView.prototype,"fetchError",void 0);W3mSwapView=__decorate$1i([customElement("w3m-swap-view")],W3mSwapView);const styles$R=i$5`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-visual {
    width: var(--wui-wallet-image-size-lg);
    height: var(--wui-wallet-image-size-lg);
    border-radius: calc(var(--wui-border-radius-5xs) * 9 - var(--wui-border-radius-xxs));
    position: relative;
    overflow: hidden;
  }

  wui-visual::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    border-radius: calc(var(--wui-border-radius-5xs) * 9 - var(--wui-border-radius-xxs));
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition:
      opacity var(--wui-ease-out-power-2) var(--wui-duration-lg),
      transform var(--wui-ease-out-power-2) var(--wui-duration-lg);
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }

  wui-link {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
  }

  .capitalize {
    text-transform: capitalize;
  }
`;var __decorate$1h=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mSwitchActiveChainView=class extends r$7{constructor(){var Mn,io,fo,mo;super(...arguments),this.unsubscribe=[],this.switchToChain=(Mn=RouterController.state.data)==null?void 0:Mn.switchToChain,this.navigateTo=(io=RouterController.state.data)==null?void 0:io.navigateTo,this.navigateWithReplace=(fo=RouterController.state.data)==null?void 0:fo.navigateWithReplace,this.caipNetwork=(mo=RouterController.state.data)==null?void 0:mo.network,this.activeChain=ChainController.state.activeChain}firstUpdated(){this.unsubscribe.push(ChainController.subscribeKey("activeChain",Mn=>this.activeChain=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){const Mn=this.switchToChain?ConstantsUtil$3.CHAIN_NAME_MAP[this.switchToChain]:"supported";if(!this.switchToChain)return null;const io=this.switchToChain==="eip155"?"Ethereum":this.switchToChain;return x`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" flexDirection="column" alignItems="center" gap="xl">
          <wui-visual
            name=${this.switchToChain==="eip155"?"eth":this.switchToChain}
          ></wui-visual>
          <wui-text
            data-testid=${`w3m-switch-active-chain-to-${io}`}
            variant="paragraph-500"
            color="fg-100"
            align="center"
            >Switch to <span class="capitalize">${io}</span></wui-text
          >
          <wui-text variant="small-400" color="fg-200" align="center">
            Connected wallet doesn't support connecting to ${Mn} chain. You
            need to connect with a different wallet.
          </wui-text>
          <wui-button size="md" @click=${this.switchActiveChain.bind(this)}>Switch</wui-button>
        </wui-flex>
      </wui-flex>
    `}async switchActiveChain(){this.switchToChain&&(this.caipNetwork?await ChainController.switchActiveNetwork(this.caipNetwork):ChainController.setActiveNamespace(this.switchToChain),ModalController.close(),ModalController.open({view:"Connect"}))}};W3mSwitchActiveChainView.styles=styles$R;__decorate$1h([n$6()],W3mSwitchActiveChainView.prototype,"activeChain",void 0);W3mSwitchActiveChainView=__decorate$1h([customElement("w3m-switch-active-chain-view")],W3mSwitchActiveChainView);const styles$Q=i$5`
  :host > wui-flex:first-child {
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
  }

  :host > wui-flex:first-child::-webkit-scrollbar {
    display: none;
  }

  .preview-container,
  .details-container {
    width: 100%;
  }

  .token-image {
    width: 24px;
    height: 24px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
    border-radius: 12px;
  }

  wui-loading-hexagon {
    position: absolute;
  }

  .token-item {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--wui-spacing-xxs);
    padding: var(--wui-spacing-xs);
    height: 40px;
    border: none;
    border-radius: 80px;
    background: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    cursor: pointer;
    transition: background 0.2s linear;
  }

  .token-item:hover {
    background: var(--wui-color-gray-glass-005);
  }

  .preview-token-details-container {
    width: 100%;
  }

  .details-row {
    width: 100%;
    padding: var(--wui-spacing-s) var(--wui-spacing-xl);
    border-radius: var(--wui-border-radius-xxs);
    background: var(--wui-color-gray-glass-002);
  }

  .action-buttons-container {
    width: 100%;
    gap: var(--wui-spacing-xs);
  }

  .action-buttons-container > button {
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    height: 48px;
    border-radius: var(--wui-border-radius-xs);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  .action-buttons-container > button:disabled {
    opacity: 0.8;
    cursor: not-allowed;
  }

  .action-button > wui-loading-spinner {
    display: inline-block;
  }

  .cancel-button:hover,
  .action-button:hover {
    cursor: pointer;
  }

  .action-buttons-container > wui-button.cancel-button {
    flex: 2;
  }

  .action-buttons-container > wui-button.action-button {
    flex: 4;
  }

  .action-buttons-container > button.action-button > wui-text {
    color: white;
  }

  .details-container > wui-flex {
    background: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xxs);
    width: 100%;
  }

  .details-container > wui-flex > button {
    border: none;
    background: none;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);
    transition: background 0.2s linear;
  }

  .details-container > wui-flex > button:hover {
    background: var(--wui-color-gray-glass-002);
  }

  .details-content-container {
    padding: var(--wui-spacing-1xs);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .details-content-container > wui-flex {
    width: 100%;
  }

  .details-row {
    width: 100%;
    padding: var(--wui-spacing-s) var(--wui-spacing-xl);
    border-radius: var(--wui-border-radius-xxs);
    background: var(--wui-color-gray-glass-002);
  }
`;var __decorate$1g=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mSwapPreviewView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.detailsOpen=!0,this.approvalTransaction=SwapController.state.approvalTransaction,this.swapTransaction=SwapController.state.swapTransaction,this.sourceToken=SwapController.state.sourceToken,this.sourceTokenAmount=SwapController.state.sourceTokenAmount??"",this.sourceTokenPriceInUSD=SwapController.state.sourceTokenPriceInUSD,this.toToken=SwapController.state.toToken,this.toTokenAmount=SwapController.state.toTokenAmount??"",this.toTokenPriceInUSD=SwapController.state.toTokenPriceInUSD,this.caipNetwork=ChainController.state.activeCaipNetwork,this.balanceSymbol=AccountController.state.balanceSymbol,this.gasPriceInUSD=SwapController.state.gasPriceInUSD,this.inputError=SwapController.state.inputError,this.loadingQuote=SwapController.state.loadingQuote,this.loadingApprovalTransaction=SwapController.state.loadingApprovalTransaction,this.loadingBuildTransaction=SwapController.state.loadingBuildTransaction,this.loadingTransaction=SwapController.state.loadingTransaction,this.unsubscribe.push(AccountController.subscribeKey("balanceSymbol",Mn=>{this.balanceSymbol!==Mn&&RouterController.goBack()}),ChainController.subscribeKey("activeCaipNetwork",Mn=>{this.caipNetwork!==Mn&&(this.caipNetwork=Mn)}),SwapController.subscribe(Mn=>{this.approvalTransaction=Mn.approvalTransaction,this.swapTransaction=Mn.swapTransaction,this.sourceToken=Mn.sourceToken,this.gasPriceInUSD=Mn.gasPriceInUSD,this.toToken=Mn.toToken,this.gasPriceInUSD=Mn.gasPriceInUSD,this.toTokenPriceInUSD=Mn.toTokenPriceInUSD,this.sourceTokenAmount=Mn.sourceTokenAmount??"",this.toTokenAmount=Mn.toTokenAmount??"",this.inputError=Mn.inputError,Mn.inputError&&RouterController.goBack(),this.loadingQuote=Mn.loadingQuote,this.loadingApprovalTransaction=Mn.loadingApprovalTransaction,this.loadingBuildTransaction=Mn.loadingBuildTransaction,this.loadingTransaction=Mn.loadingTransaction}))}firstUpdated(){SwapController.getTransaction(),this.refreshTransaction()}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn==null?void 0:Mn()),clearInterval(this.interval)}render(){return x`
      <wui-flex flexDirection="column" .padding=${["0","l","l","l"]} gap="s">
        ${this.templateSwap()}
      </wui-flex>
    `}refreshTransaction(){this.interval=setInterval(()=>{SwapController.getApprovalLoadingState()||SwapController.getTransaction()},1e4)}templateSwap(){var Wo,jo,zo,Vo;const Mn=`${UiHelperUtil.formatNumberToLocalString(parseFloat(this.sourceTokenAmount))} ${(Wo=this.sourceToken)==null?void 0:Wo.symbol}`,io=`${UiHelperUtil.formatNumberToLocalString(parseFloat(this.toTokenAmount))} ${(jo=this.toToken)==null?void 0:jo.symbol}`,fo=parseFloat(this.sourceTokenAmount)*this.sourceTokenPriceInUSD,mo=parseFloat(this.toTokenAmount)*this.toTokenPriceInUSD-(this.gasPriceInUSD||0),$o=UiHelperUtil.formatNumberToLocalString(fo),Ao=UiHelperUtil.formatNumberToLocalString(mo),Lo=this.loadingQuote||this.loadingBuildTransaction||this.loadingTransaction||this.loadingApprovalTransaction;return x`
      <wui-flex flexDirection="column" alignItems="center" gap="l">
        <wui-flex class="preview-container" flexDirection="column" alignItems="flex-start" gap="l">
          <wui-flex
            class="preview-token-details-container"
            alignItems="center"
            justifyContent="space-between"
            gap="l"
          >
            <wui-flex flexDirection="column" alignItems="flex-start" gap="4xs">
              <wui-text variant="small-400" color="fg-150">Send</wui-text>
              <wui-text variant="paragraph-400" color="fg-100">$${$o}</wui-text>
            </wui-flex>
            <wui-token-button
              flexDirection="row-reverse"
              text=${Mn}
              imageSrc=${(zo=this.sourceToken)==null?void 0:zo.logoUri}
            >
            </wui-token-button>
          </wui-flex>
          <wui-icon name="recycleHorizontal" color="fg-200" size="md"></wui-icon>
          <wui-flex
            class="preview-token-details-container"
            alignItems="center"
            justifyContent="space-between"
            gap="l"
          >
            <wui-flex flexDirection="column" alignItems="flex-start" gap="4xs">
              <wui-text variant="small-400" color="fg-150">Receive</wui-text>
              <wui-text variant="paragraph-400" color="fg-100">$${Ao}</wui-text>
            </wui-flex>
            <wui-token-button
              flexDirection="row-reverse"
              text=${io}
              imageSrc=${(Vo=this.toToken)==null?void 0:Vo.logoUri}
            >
            </wui-token-button>
          </wui-flex>
        </wui-flex>

        ${this.templateDetails()}

        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="xs">
          <wui-icon size="sm" color="fg-200" name="infoCircle"></wui-icon>
          <wui-text variant="small-400" color="fg-200">Review transaction carefully</wui-text>
        </wui-flex>

        <wui-flex
          class="action-buttons-container"
          flexDirection="row"
          alignItems="center"
          justifyContent="space-between"
          gap="xs"
        >
          <wui-button
            class="cancel-button"
            fullWidth
            size="lg"
            borderRadius="xs"
            variant="neutral"
            @click=${this.onCancelTransaction.bind(this)}
          >
            <wui-text variant="paragraph-600" color="fg-200">Cancel</wui-text>
          </wui-button>
          <wui-button
            class="action-button"
            fullWidth
            size="lg"
            borderRadius="xs"
            variant="main"
            ?loading=${Lo}
            ?disabled=${Lo}
            @click=${this.onSendTransaction.bind(this)}
          >
            <wui-text variant="paragraph-600" color="inverse-100">
              ${this.actionButtonLabel()}
            </wui-text>
          </wui-button>
        </wui-flex>
      </wui-flex>
    `}templateDetails(){return!this.sourceToken||!this.toToken||this.inputError?null:x`<w3m-swap-details .detailsOpen=${this.detailsOpen}></w3m-swap-details>`}actionButtonLabel(){return this.loadingApprovalTransaction?"Approving...":this.approvalTransaction?"Approve":"Swap"}onCancelTransaction(){RouterController.goBack()}onSendTransaction(){this.approvalTransaction?SwapController.sendTransactionForApproval(this.approvalTransaction):SwapController.sendTransactionForSwap(this.swapTransaction)}};W3mSwapPreviewView.styles=styles$Q;__decorate$1g([r$5()],W3mSwapPreviewView.prototype,"interval",void 0);__decorate$1g([r$5()],W3mSwapPreviewView.prototype,"detailsOpen",void 0);__decorate$1g([r$5()],W3mSwapPreviewView.prototype,"approvalTransaction",void 0);__decorate$1g([r$5()],W3mSwapPreviewView.prototype,"swapTransaction",void 0);__decorate$1g([r$5()],W3mSwapPreviewView.prototype,"sourceToken",void 0);__decorate$1g([r$5()],W3mSwapPreviewView.prototype,"sourceTokenAmount",void 0);__decorate$1g([r$5()],W3mSwapPreviewView.prototype,"sourceTokenPriceInUSD",void 0);__decorate$1g([r$5()],W3mSwapPreviewView.prototype,"toToken",void 0);__decorate$1g([r$5()],W3mSwapPreviewView.prototype,"toTokenAmount",void 0);__decorate$1g([r$5()],W3mSwapPreviewView.prototype,"toTokenPriceInUSD",void 0);__decorate$1g([r$5()],W3mSwapPreviewView.prototype,"caipNetwork",void 0);__decorate$1g([r$5()],W3mSwapPreviewView.prototype,"balanceSymbol",void 0);__decorate$1g([r$5()],W3mSwapPreviewView.prototype,"gasPriceInUSD",void 0);__decorate$1g([r$5()],W3mSwapPreviewView.prototype,"inputError",void 0);__decorate$1g([r$5()],W3mSwapPreviewView.prototype,"loadingQuote",void 0);__decorate$1g([r$5()],W3mSwapPreviewView.prototype,"loadingApprovalTransaction",void 0);__decorate$1g([r$5()],W3mSwapPreviewView.prototype,"loadingBuildTransaction",void 0);__decorate$1g([r$5()],W3mSwapPreviewView.prototype,"loadingTransaction",void 0);W3mSwapPreviewView=__decorate$1g([customElement("w3m-swap-preview-view")],W3mSwapPreviewView);const styles$P=i$5`
  :host {
    --tokens-scroll--top-opacity: 0;
    --tokens-scroll--bottom-opacity: 1;
    --suggested-tokens-scroll--left-opacity: 0;
    --suggested-tokens-scroll--right-opacity: 1;
  }

  :host > wui-flex:first-child {
    overflow-y: hidden;
    overflow-x: hidden;
    scrollbar-width: none;
    scrollbar-height: none;
  }

  :host > wui-flex:first-child::-webkit-scrollbar {
    display: none;
  }

  wui-loading-hexagon {
    position: absolute;
  }

  .suggested-tokens-container {
    overflow-x: auto;
    mask-image: linear-gradient(
      to right,
      rgba(0, 0, 0, calc(1 - var(--suggested-tokens-scroll--left-opacity))) 0px,
      rgba(200, 200, 200, calc(1 - var(--suggested-tokens-scroll--left-opacity))) 1px,
      black 50px,
      black 90px,
      black calc(100% - 90px),
      black calc(100% - 50px),
      rgba(155, 155, 155, calc(1 - var(--suggested-tokens-scroll--right-opacity))) calc(100% - 1px),
      rgba(0, 0, 0, calc(1 - var(--suggested-tokens-scroll--right-opacity))) 100%
    );
  }

  .suggested-tokens-container::-webkit-scrollbar {
    display: none;
  }

  .tokens-container {
    border-top: 1px solid var(--wui-color-gray-glass-005);
    height: 100%;
    max-height: 390px;
  }

  .tokens {
    width: 100%;
    overflow-y: auto;
    mask-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, calc(1 - var(--tokens-scroll--top-opacity))) 0px,
      rgba(200, 200, 200, calc(1 - var(--tokens-scroll--top-opacity))) 1px,
      black 50px,
      black 90px,
      black calc(100% - 90px),
      black calc(100% - 50px),
      rgba(155, 155, 155, calc(1 - var(--tokens-scroll--bottom-opacity))) calc(100% - 1px),
      rgba(0, 0, 0, calc(1 - var(--tokens-scroll--bottom-opacity))) 100%
    );
  }

  .network-search-input,
  .select-network-button {
    height: 40px;
  }

  .select-network-button {
    border: none;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: var(--wui-spacing-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
    background-color: transparent;
    border-radius: var(--wui-border-radius-xxs);
    padding: var(--wui-spacing-xs);
    align-items: center;
    transition: background-color 0.2s linear;
  }

  .select-network-button:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  .select-network-button > wui-image {
    width: 26px;
    height: 26px;
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }
`;var __decorate$1f=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mSwapSelectTokenView=class extends r$7{constructor(){var Mn;super(),this.unsubscribe=[],this.targetToken=(Mn=RouterController.state.data)==null?void 0:Mn.target,this.sourceToken=SwapController.state.sourceToken,this.sourceTokenAmount=SwapController.state.sourceTokenAmount,this.toToken=SwapController.state.toToken,this.myTokensWithBalance=SwapController.state.myTokensWithBalance,this.popularTokens=SwapController.state.popularTokens,this.searchValue="",this.unsubscribe.push(SwapController.subscribe(io=>{this.sourceToken=io.sourceToken,this.toToken=io.toToken,this.myTokensWithBalance=io.myTokensWithBalance}))}updated(){var fo,mo;const Mn=(fo=this.renderRoot)==null?void 0:fo.querySelector(".suggested-tokens-container");Mn==null||Mn.addEventListener("scroll",this.handleSuggestedTokensScroll.bind(this));const io=(mo=this.renderRoot)==null?void 0:mo.querySelector(".tokens");io==null||io.addEventListener("scroll",this.handleTokenListScroll.bind(this))}disconnectedCallback(){var fo,mo;super.disconnectedCallback();const Mn=(fo=this.renderRoot)==null?void 0:fo.querySelector(".suggested-tokens-container"),io=(mo=this.renderRoot)==null?void 0:mo.querySelector(".tokens");Mn==null||Mn.removeEventListener("scroll",this.handleSuggestedTokensScroll.bind(this)),io==null||io.removeEventListener("scroll",this.handleTokenListScroll.bind(this)),clearInterval(this.interval)}render(){return x`
      <wui-flex flexDirection="column" gap="s">
        ${this.templateSearchInput()} ${this.templateSuggestedTokens()} ${this.templateTokens()}
      </wui-flex>
    `}onSelectToken(Mn){this.targetToken==="sourceToken"?SwapController.setSourceToken(Mn):(SwapController.setToToken(Mn),this.sourceToken&&this.sourceTokenAmount&&SwapController.swapTokens()),RouterController.goBack()}templateSearchInput(){return x`
      <wui-flex .padding=${["3xs","s","0","s"]} gap="xs">
        <wui-input-text
          data-testid="swap-select-token-search-input"
          class="network-search-input"
          size="sm"
          placeholder="Search token"
          icon="search"
          .value=${this.searchValue}
          @inputChange=${this.onSearchInputChange.bind(this)}
        ></wui-input-text>
      </wui-flex>
    `}templateTokens(){const Mn=this.myTokensWithBalance?Object.values(this.myTokensWithBalance):[],io=this.popularTokens?this.popularTokens:[],fo=this.filterTokensWithText(Mn,this.searchValue),mo=this.filterTokensWithText(io,this.searchValue);return x`
      <wui-flex class="tokens-container">
        <wui-flex class="tokens" .padding=${["0","s","s","s"]} flexDirection="column">
          ${(fo==null?void 0:fo.length)>0?x`
                <wui-flex justifyContent="flex-start" padding="s">
                  <wui-text variant="paragraph-500" color="fg-200">Your tokens</wui-text>
                </wui-flex>
                ${fo.map($o=>{var Lo,Wo,jo;const Ao=$o.symbol===((Lo=this.sourceToken)==null?void 0:Lo.symbol)||$o.symbol===((Wo=this.toToken)==null?void 0:Wo.symbol);return x`
                    <wui-token-list-item
                      data-testid="swap-select-token-item-${$o.symbol}"
                      name=${$o.name}
                      ?disabled=${Ao}
                      symbol=${$o.symbol}
                      price=${$o==null?void 0:$o.price}
                      amount=${(jo=$o==null?void 0:$o.quantity)==null?void 0:jo.numeric}
                      imageSrc=${$o.logoUri}
                      @click=${()=>{Ao||this.onSelectToken($o)}}
                    >
                    </wui-token-list-item>
                  `})}
              `:null}

          <wui-flex justifyContent="flex-start" padding="s">
            <wui-text variant="paragraph-500" color="fg-200">Tokens</wui-text>
          </wui-flex>
          ${(mo==null?void 0:mo.length)>0?mo.map($o=>x`
                  <wui-token-list-item
                    data-testid="swap-select-token-item-${$o.symbol}"
                    name=${$o.name}
                    symbol=${$o.symbol}
                    imageSrc=${$o.logoUri}
                    @click=${()=>this.onSelectToken($o)}
                  >
                  </wui-token-list-item>
                `):null}
        </wui-flex>
      </wui-flex>
    `}templateSuggestedTokens(){const Mn=SwapController.state.suggestedTokens?SwapController.state.suggestedTokens.slice(0,8):null;return Mn?x`
      <wui-flex class="suggested-tokens-container" .padding=${["0","s","0","s"]} gap="xs">
        ${Mn.map(io=>x`
            <wui-token-button
              text=${io.symbol}
              imageSrc=${io.logoUri}
              @click=${()=>this.onSelectToken(io)}
            >
            </wui-token-button>
          `)}
      </wui-flex>
    `:null}onSearchInputChange(Mn){this.searchValue=Mn.detail}handleSuggestedTokensScroll(){var io;const Mn=(io=this.renderRoot)==null?void 0:io.querySelector(".suggested-tokens-container");Mn&&(Mn.style.setProperty("--suggested-tokens-scroll--left-opacity",MathUtil.interpolate([0,100],[0,1],Mn.scrollLeft).toString()),Mn.style.setProperty("--suggested-tokens-scroll--right-opacity",MathUtil.interpolate([0,100],[0,1],Mn.scrollWidth-Mn.scrollLeft-Mn.offsetWidth).toString()))}handleTokenListScroll(){var io;const Mn=(io=this.renderRoot)==null?void 0:io.querySelector(".tokens");Mn&&(Mn.style.setProperty("--tokens-scroll--top-opacity",MathUtil.interpolate([0,100],[0,1],Mn.scrollTop).toString()),Mn.style.setProperty("--tokens-scroll--bottom-opacity",MathUtil.interpolate([0,100],[0,1],Mn.scrollHeight-Mn.scrollTop-Mn.offsetHeight).toString()))}filterTokensWithText(Mn,io){return Mn.filter(fo=>`${fo.symbol} ${fo.name} ${fo.address}`.toLowerCase().includes(io.toLowerCase()))}};W3mSwapSelectTokenView.styles=styles$P;__decorate$1f([r$5()],W3mSwapSelectTokenView.prototype,"interval",void 0);__decorate$1f([r$5()],W3mSwapSelectTokenView.prototype,"targetToken",void 0);__decorate$1f([r$5()],W3mSwapSelectTokenView.prototype,"sourceToken",void 0);__decorate$1f([r$5()],W3mSwapSelectTokenView.prototype,"sourceTokenAmount",void 0);__decorate$1f([r$5()],W3mSwapSelectTokenView.prototype,"toToken",void 0);__decorate$1f([r$5()],W3mSwapSelectTokenView.prototype,"myTokensWithBalance",void 0);__decorate$1f([r$5()],W3mSwapSelectTokenView.prototype,"popularTokens",void 0);__decorate$1f([r$5()],W3mSwapSelectTokenView.prototype,"searchValue",void 0);W3mSwapSelectTokenView=__decorate$1f([customElement("w3m-swap-select-token-view")],W3mSwapSelectTokenView);const styles$O=i$5`
  :host > wui-flex:first-child {
    height: 500px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
  }

  :host > wui-flex:first-child::-webkit-scrollbar {
    display: none;
  }
`;var __decorate$1e=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mTransactionsView=class extends r$7{render(){return x`
      <wui-flex flexDirection="column" .padding=${["0","m","m","m"]} gap="s">
        <w3m-activity-list page="activity"></w3m-activity-list>
      </wui-flex>
    `}};W3mTransactionsView.styles=styles$O;W3mTransactionsView=__decorate$1e([customElement("w3m-transactions-view")],W3mTransactionsView);var __decorate$1d=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const data$1=[{images:["network","layers","system"],title:"The systems nuts and bolts",text:"A network is what brings the blockchain to life, as this technical infrastructure allows apps to access the ledger and smart contract services."},{images:["noun","defiAlt","dao"],title:"Designed for different uses",text:"Each network is designed differently, and may therefore suit certain apps and experiences."}];let W3mWhatIsANetworkView=class extends r$7{render(){return x`
      <wui-flex
        flexDirection="column"
        .padding=${["xxl","xl","xl","xl"]}
        alignItems="center"
        gap="xl"
      >
        <w3m-help-widget .data=${data$1}></w3m-help-widget>
        <wui-button
          variant="main"
          size="md"
          @click=${()=>{CoreHelperUtil.openHref("https://ethereum.org/en/developers/docs/networks/","_blank")}}
        >
          Learn more
          <wui-icon color="inherit" slot="iconRight" name="externalLink"></wui-icon>
        </wui-button>
      </wui-flex>
    `}};W3mWhatIsANetworkView=__decorate$1d([customElement("w3m-what-is-a-network-view")],W3mWhatIsANetworkView);var __decorate$1c=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const data=[{images:["login","profile","lock"],title:"One login for all of web3",text:"Log in to any app by connecting your wallet. Say goodbye to countless passwords!"},{images:["defi","nft","eth"],title:"A home for your digital assets",text:"A wallet lets you store, send and receive digital assets like cryptocurrencies and NFTs."},{images:["browser","noun","dao"],title:"Your gateway to a new web",text:"With your wallet, you can explore and interact with DeFi, NFTs, DAOs, and much more."}];let W3mWhatIsAWalletView=class extends r$7{render(){return x`
      <wui-flex
        flexDirection="column"
        .padding=${["xxl","xl","xl","xl"]}
        alignItems="center"
        gap="xl"
      >
        <w3m-help-widget .data=${data}></w3m-help-widget>
        <wui-button variant="main" size="md" @click=${this.onGetWallet.bind(this)}>
          <wui-icon color="inherit" slot="iconLeft" name="wallet"></wui-icon>
          Get a wallet
        </wui-button>
      </wui-flex>
    `}onGetWallet(){EventsController.sendEvent({type:"track",event:"CLICK_GET_WALLET"}),RouterController.push("GetWallet")}};W3mWhatIsAWalletView=__decorate$1c([customElement("w3m-what-is-a-wallet-view")],W3mWhatIsAWalletView);var __decorate$1b=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mWhatIsABuyView=class extends r$7{render(){return x`
      <wui-flex
        flexDirection="column"
        .padding=${["xxl","3xl","xl","3xl"]}
        alignItems="center"
        gap="xl"
      >
        <wui-visual name="onrampCard"></wui-visual>
        <wui-flex flexDirection="column" gap="xs" alignItems="center">
          <wui-text align="center" variant="paragraph-500" color="fg-100">
            Quickly and easily buy digital assets!
          </wui-text>
          <wui-text align="center" variant="small-400" color="fg-200">
            Simply select your preferred onramp provider and add digital assets to your account
            using your credit card or bank transfer
          </wui-text>
        </wui-flex>
        <wui-button @click=${RouterController.goBack}>
          <wui-icon size="sm" color="inherit" name="add" slot="iconLeft"></wui-icon>
          Buy
        </wui-button>
      </wui-flex>
    `}};W3mWhatIsABuyView=__decorate$1b([customElement("w3m-what-is-a-buy-view")],W3mWhatIsABuyView);const styles$N=i$5`
  wui-loading-spinner {
    margin: 9px auto;
  }

  .email-display,
  .email-display wui-text {
    max-width: 100%;
  }
`;var __decorate$1a=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const OTP_LENGTH=6;let W3mEmailOtpWidget=class extends r$7{firstUpdated(){this.startOTPTimeout()}disconnectedCallback(){clearTimeout(this.OTPTimeout)}constructor(){var Mn;super(),this.loading=!1,this.timeoutTimeLeft=W3mFrameHelpers.getTimeToNextEmailLogin(),this.error="",this.otp="",this.email=(Mn=RouterController.state.data)==null?void 0:Mn.email,this.authConnector=ConnectorController.getAuthConnector()}render(){if(!this.email)throw new Error("w3m-email-otp-widget: No email provided");const Mn=!!this.timeoutTimeLeft,io=this.getFooterLabels(Mn);return x`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["l","0","l","0"]}
        gap="l"
      >
        <wui-flex
          class="email-display"
          flexDirection="column"
          alignItems="center"
          .padding=${["0","xl","0","xl"]}
        >
          <wui-text variant="paragraph-400" color="fg-100" align="center">
            Enter the code we sent to
          </wui-text>
          <wui-text variant="paragraph-500" color="fg-100" lineClamp="1" align="center">
            ${this.email}
          </wui-text>
        </wui-flex>

        <wui-text variant="small-400" color="fg-200">The code expires in 20 minutes</wui-text>

        ${this.loading?x`<wui-loading-spinner size="xl" color="accent-100"></wui-loading-spinner>`:x` <wui-flex flexDirection="column" alignItems="center" gap="xs">
              <wui-otp
                dissabled
                length="6"
                @inputChange=${this.onOtpInputChange.bind(this)}
                .otp=${this.otp}
              ></wui-otp>
              ${this.error?x`
                    <wui-text variant="small-400" align="center" color="error-100">
                      ${this.error}. Try Again
                    </wui-text>
                  `:null}
            </wui-flex>`}

        <wui-flex alignItems="center" gap="xs">
          <wui-text variant="small-400" color="fg-200">${io.title}</wui-text>
          <wui-link @click=${this.onResendCode.bind(this)} .disabled=${Mn}>
            ${io.action}
          </wui-link>
        </wui-flex>
      </wui-flex>
    `}startOTPTimeout(){this.timeoutTimeLeft=W3mFrameHelpers.getTimeToNextEmailLogin(),this.OTPTimeout=setInterval(()=>{this.timeoutTimeLeft>0?this.timeoutTimeLeft=W3mFrameHelpers.getTimeToNextEmailLogin():clearInterval(this.OTPTimeout)},1e3)}async onOtpInputChange(Mn){var io;try{this.loading||(this.otp=Mn.detail,this.authConnector&&this.otp.length===OTP_LENGTH&&(this.loading=!0,await((io=this.onOtpSubmit)==null?void 0:io.call(this,this.otp))))}catch(fo){this.error=CoreHelperUtil.parseError(fo),this.loading=!1}}async onResendCode(){try{if(this.onOtpResend){if(!this.loading&&!this.timeoutTimeLeft){if(this.error="",this.otp="",!ConnectorController.getAuthConnector()||!this.email)throw new Error("w3m-email-otp-widget: Unable to resend email");this.loading=!0,await this.onOtpResend(this.email),this.startOTPTimeout(),SnackController.showSuccess("Code email resent")}}else this.onStartOver&&this.onStartOver()}catch(Mn){SnackController.showError(Mn)}finally{this.loading=!1}}getFooterLabels(Mn){return this.onStartOver?{title:"Something wrong?",action:`Try again ${Mn?`in ${this.timeoutTimeLeft}s`:""}`}:{title:"Didn't receive it?",action:`Resend ${Mn?`in ${this.timeoutTimeLeft}s`:"Code"}`}}};W3mEmailOtpWidget.styles=styles$N;__decorate$1a([r$5()],W3mEmailOtpWidget.prototype,"loading",void 0);__decorate$1a([r$5()],W3mEmailOtpWidget.prototype,"timeoutTimeLeft",void 0);__decorate$1a([r$5()],W3mEmailOtpWidget.prototype,"error",void 0);W3mEmailOtpWidget=__decorate$1a([customElement("w3m-email-otp-widget")],W3mEmailOtpWidget);var __decorate$19=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mEmailVerifyOtpView=class extends W3mEmailOtpWidget{constructor(){super(...arguments),this.onOtpSubmit=async Mn=>{try{if(this.authConnector){if(await this.authConnector.provider.connectOtp({otp:Mn}),EventsController.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_PASS"}),ChainController.state.activeChain)await ConnectionController.connectExternal(this.authConnector,ChainController.state.activeChain);else throw new Error("Active chain is not set on ChainControll");EventsController.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"email",name:this.authConnector.name||"Unknown"}}),OptionsController.state.siwx||ModalController.close()}}catch(io){throw EventsController.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_FAIL"}),io}},this.onOtpResend=async Mn=>{this.authConnector&&(await this.authConnector.provider.connectEmail({email:Mn}),EventsController.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_SENT"}))}}};W3mEmailVerifyOtpView=__decorate$19([customElement("w3m-email-verify-otp-view")],W3mEmailVerifyOtpView);const styles$M=i$5`
  wui-icon-box {
    height: var(--wui-icon-box-size-xl);
    width: var(--wui-icon-box-size-xl);
  }
`;var __decorate$18=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mEmailVerifyDeviceView=class extends r$7{constructor(){var Mn;super(),this.email=(Mn=RouterController.state.data)==null?void 0:Mn.email,this.authConnector=ConnectorController.getAuthConnector(),this.loading=!1,this.listenForDeviceApproval()}render(){if(!this.email)throw new Error("w3m-email-verify-device-view: No email provided");if(!this.authConnector)throw new Error("w3m-email-verify-device-view: No auth connector provided");return x`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["xxl","s","xxl","s"]}
        gap="l"
      >
        <wui-icon-box
          size="xl"
          iconcolor="accent-100"
          backgroundcolor="accent-100"
          icon="verify"
          background="opaque"
        ></wui-icon-box>

        <wui-flex flexDirection="column" alignItems="center" gap="s">
          <wui-flex flexDirection="column" alignItems="center">
            <wui-text variant="paragraph-400" color="fg-100">
              Approve the login link we sent to
            </wui-text>
            <wui-text variant="paragraph-400" color="fg-100"><b>${this.email}</b></wui-text>
          </wui-flex>

          <wui-text variant="small-400" color="fg-200" align="center">
            The code expires in 20 minutes
          </wui-text>

          <wui-flex alignItems="center" id="w3m-resend-section" gap="xs">
            <wui-text variant="small-400" color="fg-100" align="center">
              Didn't receive it?
            </wui-text>
            <wui-link @click=${this.onResendCode.bind(this)} .disabled=${this.loading}>
              Resend email
            </wui-link>
          </wui-flex>
        </wui-flex>
      </wui-flex>
    `}async listenForDeviceApproval(){if(this.authConnector)try{await this.authConnector.provider.connectDevice(),EventsController.sendEvent({type:"track",event:"DEVICE_REGISTERED_FOR_EMAIL"}),EventsController.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_SENT"}),RouterController.replace("EmailVerifyOtp",{email:this.email})}catch{RouterController.goBack()}}async onResendCode(){try{if(!this.loading){if(!this.authConnector||!this.email)throw new Error("w3m-email-login-widget: Unable to resend email");this.loading=!0,await this.authConnector.provider.connectEmail({email:this.email}),this.listenForDeviceApproval(),SnackController.showSuccess("Code email resent")}}catch(Mn){SnackController.showError(Mn)}finally{this.loading=!1}}};W3mEmailVerifyDeviceView.styles=styles$M;__decorate$18([r$5()],W3mEmailVerifyDeviceView.prototype,"loading",void 0);W3mEmailVerifyDeviceView=__decorate$18([customElement("w3m-email-verify-device-view")],W3mEmailVerifyDeviceView);const styles$L=i$5`
  div {
    width: 100%;
  }

  [data-ready='false'] {
    transform: scale(1.05);
  }

  @media (max-width: 430px) {
    [data-ready='false'] {
      transform: translateY(-50px);
    }
  }
`;var __decorate$17=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const PAGE_HEIGHT=600,PAGE_WIDTH=360,HEADER_HEIGHT=64;let W3mApproveTransactionView=class extends r$7{constructor(){super(),this.bodyObserver=void 0,this.unsubscribe=[],this.iframe=document.getElementById("w3m-iframe"),this.ready=!1,this.unsubscribe.push(ModalController.subscribeKey("open",Mn=>{Mn||(this.onHideIframe(),RouterController.popTransactionStack())}),ModalController.subscribeKey("shake",Mn=>{Mn?this.iframe.style.animation="w3m-shake 500ms var(--wui-ease-out-power-2)":this.iframe.style.animation="none"}))}disconnectedCallback(){var Mn;this.onHideIframe(),this.unsubscribe.forEach(io=>io()),(Mn=this.bodyObserver)==null||Mn.unobserve(window.document.body)}async firstUpdated(){var io;await this.syncTheme(),this.iframe.style.display="block";const Mn=(io=this==null?void 0:this.renderRoot)==null?void 0:io.querySelector("div");this.bodyObserver=new ResizeObserver(fo=>{var Ao,Lo;const mo=(Ao=fo==null?void 0:fo[0])==null?void 0:Ao.contentBoxSize,$o=(Lo=mo==null?void 0:mo[0])==null?void 0:Lo.inlineSize;this.iframe.style.height=`${PAGE_HEIGHT}px`,Mn.style.height=`${PAGE_HEIGHT}px`,$o&&$o<=430?(this.iframe.style.width="100%",this.iframe.style.left="0px",this.iframe.style.bottom="0px",this.iframe.style.top="unset"):(this.iframe.style.width=`${PAGE_WIDTH}px`,this.iframe.style.left=`calc(50% - ${PAGE_WIDTH/2}px)`,this.iframe.style.top=`calc(50% - ${PAGE_HEIGHT/2}px + ${HEADER_HEIGHT/2}px)`,this.iframe.style.bottom="unset"),this.ready=!0,this.onShowIframe()}),this.bodyObserver.observe(window.document.body)}render(){return x`<div data-ready=${this.ready} id="w3m-frame-container"></div>`}onShowIframe(){const Mn=window.innerWidth<=430;this.iframe.style.animation=Mn?"w3m-iframe-zoom-in-mobile 200ms var(--wui-ease-out-power-2)":"w3m-iframe-zoom-in 200ms var(--wui-ease-out-power-2)"}onHideIframe(){this.iframe.style.display="none",this.iframe.style.animation="w3m-iframe-fade-out 200ms var(--wui-ease-out-power-2)"}async syncTheme(){const Mn=ConnectorController.getAuthConnector();if(Mn){const io=ThemeController.getSnapshot().themeMode,fo=ThemeController.getSnapshot().themeVariables;await Mn.provider.syncTheme({themeVariables:fo,w3mThemeVariables:getW3mThemeVariables(fo,io)})}}};W3mApproveTransactionView.styles=styles$L;__decorate$17([r$5()],W3mApproveTransactionView.prototype,"ready",void 0);W3mApproveTransactionView=__decorate$17([customElement("w3m-approve-transaction-view")],W3mApproveTransactionView);var __decorate$16=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mUpgradeWalletView=class extends r$7{render(){return x`
      <wui-flex flexDirection="column" alignItems="center" gap="xl" padding="xl">
        <wui-text variant="paragraph-400" color="fg-100">Follow the instructions on</wui-text>
        <wui-chip
          icon="externalLink"
          variant="fill"
          href=${ConstantsUtil$2.SECURE_SITE_DASHBOARD}
          imageSrc=${ConstantsUtil$2.SECURE_SITE_FAVICON}
          data-testid="w3m-secure-website-button"
        >
        </wui-chip>
        <wui-text variant="small-400" color="fg-200">
          You will have to reconnect for security reasons
        </wui-text>
      </wui-flex>
    `}};W3mUpgradeWalletView=__decorate$16([customElement("w3m-upgrade-wallet-view")],W3mUpgradeWalletView);var __decorate$15=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mUpgradeToSmartAccountView=class extends r$7{constructor(){super(...arguments),this.authConnector=ConnectorController.getAuthConnector(),this.loading=!1,this.setPreferSmartAccount=async()=>{if(this.authConnector)try{this.loading=!0,await ConnectionController.setPreferredAccountType(W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT),this.loading=!1,RouterController.push("Account")}catch{SnackController.showError("Error upgrading to smart account")}}}render(){return x`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="xxl"
        .padding=${["0","0","l","0"]}
      >
        ${this.onboardingTemplate()} ${this.buttonsTemplate()}
        <wui-link
          @click=${()=>{CoreHelperUtil.openHref(NavigationUtil.URLS.FAQ,"_blank")}}
        >
          Learn more
          <wui-icon color="inherit" slot="iconRight" name="externalLink"></wui-icon>
        </wui-link>
      </wui-flex>
    `}onboardingTemplate(){return x` <wui-flex
      flexDirection="column"
      gap="xxl"
      alignItems="center"
      .padding=${["0","xxl","0","xxl"]}
    >
      <wui-flex gap="s" alignItems="center" justifyContent="center">
        <wui-visual name="google"></wui-visual>
        <wui-visual name="pencil"></wui-visual>
        <wui-visual name="lightbulb"></wui-visual>
      </wui-flex>
      <wui-flex flexDirection="column" alignItems="center" gap="s">
        <wui-text align="center" variant="medium-600" color="fg-100">
          Discover Smart Accounts
        </wui-text>
        <wui-text align="center" variant="paragraph-400" color="fg-100">
          Access advanced features such as username, social login, improved security and a smoother
          user experience!
        </wui-text>
      </wui-flex>
    </wui-flex>`}buttonsTemplate(){return x`<wui-flex .padding=${["0","2l","0","2l"]} gap="s">
      <wui-button
        variant="accent"
        @click=${this.redirectToAccount.bind(this)}
        size="lg"
        borderRadius="xs"
      >
        Do it later
      </wui-button>
      <wui-button
        .loading=${this.loading}
        size="lg"
        borderRadius="xs"
        @click=${this.setPreferSmartAccount.bind(this)}
        >Continue
      </wui-button>
    </wui-flex>`}redirectToAccount(){RouterController.push("Account")}};__decorate$15([r$5()],W3mUpgradeToSmartAccountView.prototype,"authConnector",void 0);__decorate$15([r$5()],W3mUpgradeToSmartAccountView.prototype,"loading",void 0);W3mUpgradeToSmartAccountView=__decorate$15([customElement("w3m-upgrade-to-smart-account-view")],W3mUpgradeToSmartAccountView);const styles$K=i$5`
  wui-email-input {
    width: 100%;
  }

  form {
    width: 100%;
    display: block;
    position: relative;
  }
`;var __decorate$14=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mUpdateEmailWalletView=class extends r$7{constructor(){var Mn;super(...arguments),this.formRef=e$2(),this.initialEmail=((Mn=RouterController.state.data)==null?void 0:Mn.email)??"",this.email="",this.loading=!1}firstUpdated(){var Mn;(Mn=this.formRef.value)==null||Mn.addEventListener("keydown",io=>{io.key==="Enter"&&this.onSubmitEmail(io)})}render(){const Mn=!this.loading&&this.email.length>3&&this.email!==this.initialEmail;return x`
      <wui-flex flexDirection="column" padding="m" gap="m">
        <form ${n$4(this.formRef)} @submit=${this.onSubmitEmail.bind(this)}>
          <wui-email-input
            value=${this.initialEmail}
            .disabled=${this.loading}
            @inputChange=${this.onEmailInputChange.bind(this)}
          >
          </wui-email-input>
          <input type="submit" hidden />
        </form>

        <wui-flex gap="s">
          <wui-button size="md" variant="neutral" fullWidth @click=${RouterController.goBack}>
            Cancel
          </wui-button>

          <wui-button
            size="md"
            variant="main"
            fullWidth
            @click=${this.onSubmitEmail.bind(this)}
            .disabled=${!Mn}
            .loading=${this.loading}
          >
            Save
          </wui-button>
        </wui-flex>
      </wui-flex>
    `}onEmailInputChange(Mn){this.email=Mn.detail}async onSubmitEmail(Mn){try{if(this.loading)return;this.loading=!0,Mn.preventDefault();const io=ConnectorController.getAuthConnector();if(!io)throw new Error("w3m-update-email-wallet: Auth connector not found");const fo=await io.provider.updateEmail({email:this.email});EventsController.sendEvent({type:"track",event:"EMAIL_EDIT"}),fo.action==="VERIFY_SECONDARY_OTP"?RouterController.push("UpdateEmailSecondaryOtp",{email:this.initialEmail,newEmail:this.email}):RouterController.push("UpdateEmailPrimaryOtp",{email:this.initialEmail,newEmail:this.email})}catch(io){SnackController.showError(io),this.loading=!1}}};W3mUpdateEmailWalletView.styles=styles$K;__decorate$14([r$5()],W3mUpdateEmailWalletView.prototype,"email",void 0);__decorate$14([r$5()],W3mUpdateEmailWalletView.prototype,"loading",void 0);W3mUpdateEmailWalletView=__decorate$14([customElement("w3m-update-email-wallet-view")],W3mUpdateEmailWalletView);var __decorate$13=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mUpdateEmailPrimaryOtpView=class extends W3mEmailOtpWidget{constructor(){var Mn;super(),this.email=(Mn=RouterController.state.data)==null?void 0:Mn.email,this.onOtpSubmit=async io=>{try{this.authConnector&&(await this.authConnector.provider.updateEmailPrimaryOtp({otp:io}),EventsController.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_PASS"}),RouterController.replace("UpdateEmailSecondaryOtp",RouterController.state.data))}catch(fo){throw EventsController.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_FAIL"}),fo}},this.onStartOver=()=>{RouterController.replace("UpdateEmailWallet",RouterController.state.data)}}};W3mUpdateEmailPrimaryOtpView=__decorate$13([customElement("w3m-update-email-primary-otp-view")],W3mUpdateEmailPrimaryOtpView);var __decorate$12=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mUpdateEmailSecondaryOtpView=class extends W3mEmailOtpWidget{constructor(){var Mn;super(),this.email=(Mn=RouterController.state.data)==null?void 0:Mn.newEmail,this.onOtpSubmit=async io=>{try{this.authConnector&&(await this.authConnector.provider.updateEmailSecondaryOtp({otp:io}),EventsController.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_PASS"}),RouterController.reset("Account"))}catch(fo){throw EventsController.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_FAIL"}),fo}},this.onStartOver=()=>{RouterController.replace("UpdateEmailWallet",RouterController.state.data)}}};W3mUpdateEmailSecondaryOtpView=__decorate$12([customElement("w3m-update-email-secondary-otp-view")],W3mUpdateEmailSecondaryOtpView);const styles$J=i$5`
  :host > wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
  }

  :host > wui-flex::-webkit-scrollbar {
    display: none;
  }
`;var __decorate$11=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mUnsupportedChainView=class extends r$7{constructor(){var Mn;super(...arguments),this.swapUnsupportedChain=(Mn=RouterController.state.data)==null?void 0:Mn.swapUnsupportedChain,this.disconecting=!1}render(){return x`
      <wui-flex class="container" flexDirection="column" gap="0">
        <wui-flex
          class="container"
          flexDirection="column"
          .padding=${["m","xl","xs","xl"]}
          alignItems="center"
          gap="xl"
        >
          ${this.descriptionTemplate()}
        </wui-flex>

        <wui-flex flexDirection="column" padding="s" gap="xs">
          ${this.networksTemplate()}
        </wui-flex>

        <wui-separator text="or"></wui-separator>
        <wui-flex flexDirection="column" padding="s" gap="xs">
          <wui-list-item
            variant="icon"
            iconVariant="overlay"
            icon="disconnect"
            ?chevron=${!1}
            .loading=${this.disconecting}
            @click=${this.onDisconnect.bind(this)}
            data-testid="disconnect-button"
          >
            <wui-text variant="paragraph-500" color="fg-200">Disconnect</wui-text>
          </wui-list-item>
        </wui-flex>
      </wui-flex>
    `}descriptionTemplate(){return this.swapUnsupportedChain?x`
        <wui-text variant="small-400" color="fg-200" align="center">
          The swap feature doesnt support your current network. Switch to an available option to
          continue.
        </wui-text>
      `:x`
      <wui-text variant="small-400" color="fg-200" align="center">
        This app doesnt support your current network. Switch to an available option to continue.
      </wui-text>
    `}networksTemplate(){const Mn=ChainController.getAllRequestedCaipNetworks(),io=ChainController.getAllApprovedCaipNetworkIds(),fo=CoreHelperUtil.sortRequestedNetworks(io,Mn);return(this.swapUnsupportedChain?fo.filter($o=>ConstantsUtil$2.SWAP_SUPPORTED_NETWORKS.includes($o.caipNetworkId)):fo).map($o=>x`
        <wui-list-network
          imageSrc=${o$3(AssetUtil.getNetworkImage($o))}
          name=${$o.name??"Unknown"}
          @click=${()=>this.onSwitchNetwork($o)}
        >
        </wui-list-network>
      `)}async onDisconnect(){try{this.disconecting=!0,await ConnectionController.disconnect(),EventsController.sendEvent({type:"track",event:"DISCONNECT_SUCCESS"}),ModalController.close()}catch{EventsController.sendEvent({type:"track",event:"DISCONNECT_ERROR"}),SnackController.showError("Failed to disconnect")}finally{this.disconecting=!1}}async onSwitchNetwork(Mn){const io=AccountController.state.caipAddress,fo=ChainController.getAllApprovedCaipNetworkIds(),mo=ChainController.getNetworkProp("supportsAllNetworks",Mn.chainNamespace),$o=RouterController.state.data;io?fo!=null&&fo.includes(Mn.caipNetworkId)?await ChainController.switchActiveNetwork(Mn):mo?RouterController.push("SwitchNetwork",{...$o,network:Mn}):RouterController.push("SwitchNetwork",{...$o,network:Mn}):io||(ChainController.setActiveCaipNetwork(Mn),RouterController.push("Connect"))}};W3mUnsupportedChainView.styles=styles$J;__decorate$11([r$5()],W3mUnsupportedChainView.prototype,"disconecting",void 0);W3mUnsupportedChainView=__decorate$11([customElement("w3m-unsupported-chain-view")],W3mUnsupportedChainView);const styles$I=i$5`
  wui-compatible-network {
    margin-top: var(--wui-spacing-l);
  }
`;var __decorate$10=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mWalletReceiveView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.address=AccountController.state.address,this.profileName=AccountController.state.profileName,this.network=ChainController.state.activeCaipNetwork,this.preferredAccountType=AccountController.state.preferredAccountType,this.unsubscribe.push(AccountController.subscribe(Mn=>{Mn.address?(this.address=Mn.address,this.profileName=Mn.profileName,this.preferredAccountType=Mn.preferredAccountType):SnackController.showError("Account not found")}),ChainController.subscribeKey("activeCaipNetwork",Mn=>{Mn!=null&&Mn.id&&(this.network=Mn)}))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){if(!this.address)throw new Error("w3m-wallet-receive-view: No account provided");const Mn=AssetUtil.getNetworkImage(this.network);return x` <wui-flex
      flexDirection="column"
      .padding=${["0","l","l","l"]}
      alignItems="center"
    >
      <wui-chip-button
        data-testid="receive-address-copy-button"
        @click=${this.onCopyClick.bind(this)}
        text=${UiHelperUtil.getTruncateString({string:this.profileName||this.address||"",charsStart:this.profileName?18:4,charsEnd:this.profileName?0:4,truncate:this.profileName?"end":"middle"})}
        icon="copy"
        size="sm"
        imageSrc=${Mn||""}
        variant="gray"
      ></wui-chip-button>
      <wui-flex
        flexDirection="column"
        .padding=${["l","0","0","0"]}
        alignItems="center"
        gap="s"
      >
        <wui-qr-code
          size=${232}
          theme=${ThemeController.state.themeMode}
          uri=${this.address}
          ?arenaClear=${!0}
          data-testid="wui-qr-code"
        ></wui-qr-code>
        <wui-text variant="paragraph-500" color="fg-100" align="center">
          Copy your address or scan this QR code
        </wui-text>
      </wui-flex>
      ${this.networkTemplate()}
    </wui-flex>`}networkTemplate(){var Ao;const Mn=ChainController.getAllRequestedCaipNetworks(),io=ChainController.checkIfSmartAccountEnabled(),fo=ChainController.state.activeCaipNetwork;if(this.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT&&io)return fo?x`<wui-compatible-network
        @click=${this.onReceiveClick.bind(this)}
        text="Only receive assets on this network"
        .networkImages=${[AssetUtil.getNetworkImage(fo)??""]}
      ></wui-compatible-network>`:null;const $o=((Ao=Mn==null?void 0:Mn.filter(Lo=>{var Wo;return(Wo=Lo==null?void 0:Lo.assets)==null?void 0:Wo.imageId}))==null?void 0:Ao.slice(0,5)).map(AssetUtil.getNetworkImage).filter(Boolean);return x`<wui-compatible-network
      @click=${this.onReceiveClick.bind(this)}
      text="Only receive assets on these networks"
      .networkImages=${$o}
    ></wui-compatible-network>`}onReceiveClick(){RouterController.push("WalletCompatibleNetworks")}onCopyClick(){try{this.address&&(CoreHelperUtil.copyToClopboard(this.address),SnackController.showSuccess("Address copied"))}catch{SnackController.showError("Failed to copy")}}};W3mWalletReceiveView.styles=styles$I;__decorate$10([r$5()],W3mWalletReceiveView.prototype,"address",void 0);__decorate$10([r$5()],W3mWalletReceiveView.prototype,"profileName",void 0);__decorate$10([r$5()],W3mWalletReceiveView.prototype,"network",void 0);__decorate$10([r$5()],W3mWalletReceiveView.prototype,"preferredAccountType",void 0);W3mWalletReceiveView=__decorate$10([customElement("w3m-wallet-receive-view")],W3mWalletReceiveView);const styles$H=i$5`
  :host > wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
  }

  :host > wui-flex::-webkit-scrollbar {
    display: none;
  }
`;var __decorate$$=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mWalletCompatibleNetworksView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.preferredAccountType=AccountController.state.preferredAccountType,this.unsubscribe.push(AccountController.subscribeKey("preferredAccountType",Mn=>{this.preferredAccountType=Mn}))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){return x` <wui-flex
      flexDirection="column"
      .padding=${["xs","s","m","s"]}
      gap="xs"
    >
      <wui-banner
        icon="warningCircle"
        text="You can only receive assets on these networks"
      ></wui-banner>
      ${this.networkTemplate()}
    </wui-flex>`}networkTemplate(){const Mn=ChainController.getAllRequestedCaipNetworks(),io=ChainController.getAllApprovedCaipNetworkIds(),fo=ChainController.state.activeCaipNetwork,mo=ChainController.checkIfSmartAccountEnabled();let $o=CoreHelperUtil.sortRequestedNetworks(io,Mn);if(mo&&this.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT){if(!fo)return null;$o=[fo]}return $o.map(Ao=>x`
        <wui-list-network
          imageSrc=${o$3(AssetUtil.getNetworkImage(Ao))}
          name=${Ao.name??"Unknown"}
          ?transparent=${!0}
        >
        </wui-list-network>
      `)}};W3mWalletCompatibleNetworksView.styles=styles$H;__decorate$$([r$5()],W3mWalletCompatibleNetworksView.prototype,"preferredAccountType",void 0);W3mWalletCompatibleNetworksView=__decorate$$([customElement("w3m-wallet-compatible-networks-view")],W3mWalletCompatibleNetworksView);const styles$G=i$5`
  :host {
    display: block;
  }

  wui-flex {
    position: relative;
  }

  wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-xs) !important;
    border: 5px solid var(--wui-color-bg-125);
    background: var(--wui-color-bg-175);
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 3;
  }

  wui-button {
    --local-border-radius: var(--wui-border-radius-xs) !important;
  }

  .inputContainer {
    height: fit-content;
  }
`;var __decorate$_=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mWalletSendView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.token=SendController.state.token,this.sendTokenAmount=SendController.state.sendTokenAmount,this.receiverAddress=SendController.state.receiverAddress,this.receiverProfileName=SendController.state.receiverProfileName,this.loading=SendController.state.loading,this.gasPriceInUSD=SendController.state.gasPriceInUSD,this.gasPrice=SendController.state.gasPrice,this.message="Preview Send",this.fetchNetworkPrice(),this.unsubscribe.push(SendController.subscribe(Mn=>{this.token=Mn.token,this.sendTokenAmount=Mn.sendTokenAmount,this.receiverAddress=Mn.receiverAddress,this.gasPriceInUSD=Mn.gasPriceInUSD,this.receiverProfileName=Mn.receiverProfileName,this.loading=Mn.loading}))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){return this.getMessage(),x` <wui-flex flexDirection="column" .padding=${["0","l","l","l"]}>
      <wui-flex class="inputContainer" gap="xs" flexDirection="column">
        <w3m-input-token
          .token=${this.token}
          .sendTokenAmount=${this.sendTokenAmount}
          .gasPriceInUSD=${this.gasPriceInUSD}
          .gasPrice=${this.gasPrice}
        ></w3m-input-token>
        <wui-icon-box
          size="inherit"
          backgroundColor="fg-300"
          iconSize="lg"
          iconColor="fg-250"
          background="opaque"
          icon="arrowBottom"
        ></wui-icon-box>
        <w3m-input-address
          .value=${this.receiverProfileName?this.receiverProfileName:this.receiverAddress}
        ></w3m-input-address>
      </wui-flex>
      <wui-flex .margin=${["l","0","0","0"]}>
        <wui-button
          @click=${this.onButtonClick.bind(this)}
          ?disabled=${!this.message.startsWith("Preview Send")}
          size="lg"
          variant="main"
          ?loading=${this.loading}
          fullWidth
        >
          ${this.message}
        </wui-button>
      </wui-flex>
    </wui-flex>`}async fetchNetworkPrice(){await SwapController.getNetworkTokenPrice();const Mn=await SwapController.getInitialGasPrice();Mn!=null&&Mn.gasPrice&&(Mn!=null&&Mn.gasPriceInUSD)&&(SendController.setGasPrice(Mn.gasPrice),SendController.setGasPriceInUsd(Mn.gasPriceInUSD))}onButtonClick(){RouterController.push("WalletSendPreview")}getMessage(){var Mn;this.message="Preview Send",this.receiverAddress&&!CoreHelperUtil.isAddress(this.receiverAddress,ChainController.state.activeChain)&&(this.message="Invalid Address"),this.receiverAddress||(this.message="Add Address"),this.sendTokenAmount&&this.token&&this.sendTokenAmount>Number(this.token.quantity.numeric)&&(this.message="Insufficient Funds"),this.sendTokenAmount||(this.message="Add Amount"),this.sendTokenAmount&&((Mn=this.token)!=null&&Mn.price)&&(this.sendTokenAmount*this.token.price||(this.message="Incorrect Value")),this.token||(this.message="Select Token")}};W3mWalletSendView.styles=styles$G;__decorate$_([r$5()],W3mWalletSendView.prototype,"token",void 0);__decorate$_([r$5()],W3mWalletSendView.prototype,"sendTokenAmount",void 0);__decorate$_([r$5()],W3mWalletSendView.prototype,"receiverAddress",void 0);__decorate$_([r$5()],W3mWalletSendView.prototype,"receiverProfileName",void 0);__decorate$_([r$5()],W3mWalletSendView.prototype,"loading",void 0);__decorate$_([r$5()],W3mWalletSendView.prototype,"gasPriceInUSD",void 0);__decorate$_([r$5()],W3mWalletSendView.prototype,"gasPrice",void 0);__decorate$_([r$5()],W3mWalletSendView.prototype,"message",void 0);W3mWalletSendView=__decorate$_([customElement("w3m-wallet-send-view")],W3mWalletSendView);const styles$F=i$5`
  .contentContainer {
    height: 440px;
    overflow: scroll;
    scrollbar-width: none;
  }

  .contentContainer::-webkit-scrollbar {
    display: none;
  }

  wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-xxs);
  }
`;var __decorate$Z=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mSendSelectTokenView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.tokenBalance=AccountController.state.tokenBalance,this.search="",this.onDebouncedSearch=CoreHelperUtil.debounce(Mn=>{this.search=Mn}),this.unsubscribe.push(AccountController.subscribe(Mn=>{this.tokenBalance=Mn.tokenBalance}))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){return x`
      <wui-flex flexDirection="column">
        ${this.templateSearchInput()} <wui-separator></wui-separator> ${this.templateTokens()}
      </wui-flex>
    `}templateSearchInput(){return x`
      <wui-flex gap="xs" padding="s">
        <wui-input-text
          @inputChange=${this.onInputChange.bind(this)}
          class="network-search-input"
          size="sm"
          placeholder="Search token"
          icon="search"
        ></wui-input-text>
      </wui-flex>
    `}templateTokens(){var Mn,io;return this.tokens=(Mn=this.tokenBalance)==null?void 0:Mn.filter(fo=>{var mo;return fo.chainId===((mo=ChainController.state.activeCaipNetwork)==null?void 0:mo.caipNetworkId)}),this.search?this.filteredTokens=(io=this.tokenBalance)==null?void 0:io.filter(fo=>fo.name.toLowerCase().includes(this.search.toLowerCase())):this.filteredTokens=this.tokens,x`
      <wui-flex
        class="contentContainer"
        flexDirection="column"
        .padding=${["0","s","0","s"]}
      >
        <wui-flex justifyContent="flex-start" .padding=${["m","s","s","s"]}>
          <wui-text variant="paragraph-500" color="fg-200">Your tokens</wui-text>
        </wui-flex>
        <wui-flex flexDirection="column" gap="xs">
          ${this.filteredTokens&&this.filteredTokens.length>0?this.filteredTokens.map(fo=>x`<wui-list-token
                    @click=${this.handleTokenClick.bind(this,fo)}
                    ?clickable=${!0}
                    tokenName=${fo.name}
                    tokenImageUrl=${fo.iconUrl}
                    tokenAmount=${fo.quantity.numeric}
                    tokenValue=${fo.value}
                    tokenCurrency=${fo.symbol}
                  ></wui-list-token>`):x`<wui-flex
                .padding=${["4xl","0","0","0"]}
                alignItems="center"
                flexDirection="column"
                gap="l"
              >
                <wui-icon-box
                  icon="coinPlaceholder"
                  size="inherit"
                  iconColor="fg-200"
                  backgroundColor="fg-200"
                  iconSize="lg"
                ></wui-icon-box>
                <wui-flex
                  class="textContent"
                  gap="xs"
                  flexDirection="column"
                  justifyContent="center"
                  flexDirection="column"
                >
                  <wui-text variant="paragraph-500" align="center" color="fg-100"
                    >No tokens found</wui-text
                  >
                  <wui-text variant="small-400" align="center" color="fg-200"
                    >Your tokens will appear here</wui-text
                  >
                </wui-flex>
                <wui-link @click=${this.onBuyClick.bind(this)}>Buy</wui-link>
              </wui-flex>`}
        </wui-flex>
      </wui-flex>
    `}onBuyClick(){RouterController.push("OnRampProviders")}onInputChange(Mn){this.onDebouncedSearch(Mn.detail)}handleTokenClick(Mn){SendController.setToken(Mn),SendController.setTokenAmount(void 0),RouterController.goBack()}};W3mSendSelectTokenView.styles=styles$F;__decorate$Z([r$5()],W3mSendSelectTokenView.prototype,"tokenBalance",void 0);__decorate$Z([r$5()],W3mSendSelectTokenView.prototype,"tokens",void 0);__decorate$Z([r$5()],W3mSendSelectTokenView.prototype,"filteredTokens",void 0);__decorate$Z([r$5()],W3mSendSelectTokenView.prototype,"search",void 0);W3mSendSelectTokenView=__decorate$Z([customElement("w3m-wallet-send-select-token-view")],W3mSendSelectTokenView);const styles$E=i$5`
  wui-avatar,
  wui-image {
    display: ruby;
    width: 32px;
    height: 32px;
    border-radius: var(--wui-border-radius-3xl);
  }

  .sendButton {
    width: 70%;
    --local-width: 100% !important;
    --local-border-radius: var(--wui-border-radius-xs) !important;
  }

  .cancelButton {
    width: 30%;
    --local-width: 100% !important;
    --local-border-radius: var(--wui-border-radius-xs) !important;
  }
`;var __decorate$Y=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mWalletSendPreviewView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.token=SendController.state.token,this.sendTokenAmount=SendController.state.sendTokenAmount,this.receiverAddress=SendController.state.receiverAddress,this.receiverProfileName=SendController.state.receiverProfileName,this.receiverProfileImageUrl=SendController.state.receiverProfileImageUrl,this.gasPriceInUSD=SendController.state.gasPriceInUSD,this.caipNetwork=ChainController.state.activeCaipNetwork,this.unsubscribe.push(SendController.subscribe(Mn=>{this.token=Mn.token,this.sendTokenAmount=Mn.sendTokenAmount,this.receiverAddress=Mn.receiverAddress,this.gasPriceInUSD=Mn.gasPriceInUSD,this.receiverProfileName=Mn.receiverProfileName,this.receiverProfileImageUrl=Mn.receiverProfileImageUrl}),ChainController.subscribeKey("activeCaipNetwork",Mn=>this.caipNetwork=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){var Mn,io;return x` <wui-flex flexDirection="column" .padding=${["0","l","l","l"]}>
      <wui-flex gap="xs" flexDirection="column" .padding=${["0","xs","0","xs"]}>
        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-flex flexDirection="column" gap="4xs">
            <wui-text variant="small-400" color="fg-150">Send</wui-text>
            ${this.sendValueTemplate()}
          </wui-flex>
          <wui-preview-item
            text="${this.sendTokenAmount?UiHelperUtil.roundNumber(this.sendTokenAmount,6,5):"unknown"} ${(Mn=this.token)==null?void 0:Mn.symbol}"
            .imageSrc=${(io=this.token)==null?void 0:io.iconUrl}
          ></wui-preview-item>
        </wui-flex>
        <wui-flex>
          <wui-icon color="fg-200" size="md" name="arrowBottom"></wui-icon>
        </wui-flex>
        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="small-400" color="fg-150">To</wui-text>
          <wui-preview-item
            text="${this.receiverProfileName?UiHelperUtil.getTruncateString({string:this.receiverProfileName,charsStart:20,charsEnd:0,truncate:"end"}):UiHelperUtil.getTruncateString({string:this.receiverAddress?this.receiverAddress:"",charsStart:4,charsEnd:4,truncate:"middle"})}"
            address=${this.receiverAddress??""}
            .imageSrc=${this.receiverProfileImageUrl??void 0}
            .isAddress=${!0}
          ></wui-preview-item>
        </wui-flex>
      </wui-flex>
      <wui-flex flexDirection="column" .padding=${["xxl","0","0","0"]}>
        <w3m-wallet-send-details
          .caipNetwork=${this.caipNetwork}
          .receiverAddress=${this.receiverAddress}
          .networkFee=${this.gasPriceInUSD}
        ></w3m-wallet-send-details>
        <wui-flex justifyContent="center" gap="xxs" .padding=${["s","0","0","0"]}>
          <wui-icon size="sm" color="fg-200" name="warningCircle"></wui-icon>
          <wui-text variant="small-400" color="fg-200">Review transaction carefully</wui-text>
        </wui-flex>
        <wui-flex justifyContent="center" gap="s" .padding=${["l","0","0","0"]}>
          <wui-button
            class="cancelButton"
            @click=${this.onCancelClick.bind(this)}
            size="lg"
            variant="neutral"
          >
            Cancel
          </wui-button>
          <wui-button
            class="sendButton"
            @click=${this.onSendClick.bind(this)}
            size="lg"
            variant="main"
          >
            Send
          </wui-button>
        </wui-flex>
      </wui-flex></wui-flex
    >`}sendValueTemplate(){if(this.token&&this.sendTokenAmount){const io=this.token.price*this.sendTokenAmount;return x`<wui-text variant="paragraph-400" color="fg-100"
        >$${io.toFixed(2)}</wui-text
      >`}return null}onSendClick(){SendController.sendToken()}onCancelClick(){RouterController.goBack()}};W3mWalletSendPreviewView.styles=styles$E;__decorate$Y([r$5()],W3mWalletSendPreviewView.prototype,"token",void 0);__decorate$Y([r$5()],W3mWalletSendPreviewView.prototype,"sendTokenAmount",void 0);__decorate$Y([r$5()],W3mWalletSendPreviewView.prototype,"receiverAddress",void 0);__decorate$Y([r$5()],W3mWalletSendPreviewView.prototype,"receiverProfileName",void 0);__decorate$Y([r$5()],W3mWalletSendPreviewView.prototype,"receiverProfileImageUrl",void 0);__decorate$Y([r$5()],W3mWalletSendPreviewView.prototype,"gasPriceInUSD",void 0);__decorate$Y([r$5()],W3mWalletSendPreviewView.prototype,"caipNetwork",void 0);W3mWalletSendPreviewView=__decorate$Y([customElement("w3m-wallet-send-preview-view")],W3mWalletSendPreviewView);const styles$D=i$5`
  wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }
  wui-flex::-webkit-scrollbar {
    display: none;
  }
  wui-flex.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }
`;var __decorate$X=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectWalletsView=class extends r$7{constructor(){super(...arguments),this.checked=!1}render(){var Wo;const{termsConditionsUrl:Mn,privacyPolicyUrl:io}=OptionsController.state,fo=(Wo=OptionsController.state.features)==null?void 0:Wo.legalCheckbox,$o=!!(Mn||io)&&!!fo,Ao=$o&&!this.checked,Lo=Ao?-1:void 0;return x`
      <w3m-legal-checkbox @checkboxChange=${this.onCheckboxChange.bind(this)}></w3m-legal-checkbox>
      <wui-flex
        flexDirection="column"
        .padding=${$o?["0","s","s","s"]:"s"}
        gap="xs"
        class=${o$3(Ao?"disabled":void 0)}
      >
        <w3m-wallet-login-list tabIdx=${o$3(Lo)}></w3m-wallet-login-list>
      </wui-flex>
      <w3m-legal-footer></w3m-legal-footer>
    `}onCheckboxChange(Mn){this.checked=!!Mn.detail}};W3mConnectWalletsView.styles=styles$D;__decorate$X([r$5()],W3mConnectWalletsView.prototype,"checked",void 0);W3mConnectWalletsView=__decorate$X([customElement("w3m-connect-wallets-view")],W3mConnectWalletsView);const styles$C=i$5`
  wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }
  wui-flex::-webkit-scrollbar {
    display: none;
  }
  wui-flex.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }
`;var __decorate$W=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectSocialsView=class extends r$7{constructor(){super(...arguments),this.checked=!1}render(){var Wo;const{termsConditionsUrl:Mn,privacyPolicyUrl:io}=OptionsController.state,fo=(Wo=OptionsController.state.features)==null?void 0:Wo.legalCheckbox,$o=!!(Mn||io)&&!!fo,Ao=$o&&!this.checked,Lo=Ao?-1:void 0;return x`
      <w3m-legal-checkbox @checkboxChange=${this.onCheckboxChange.bind(this)}></w3m-legal-checkbox>
      <wui-flex
        flexDirection="column"
        .padding=${$o?["0","s","s","s"]:"s"}
        gap="xs"
        class=${o$3(Ao?"disabled":void 0)}
      >
        <w3m-social-login-list tabIdx=${o$3(Lo)}></w3m-social-login-list>
      </wui-flex>
      <w3m-legal-footer></w3m-legal-footer>
    `}onCheckboxChange(Mn){this.checked=!!Mn.detail}};W3mConnectSocialsView.styles=styles$C;__decorate$W([r$5()],W3mConnectSocialsView.prototype,"checked",void 0);W3mConnectSocialsView=__decorate$W([customElement("w3m-connect-socials-view")],W3mConnectSocialsView);const styles$B=i$5`
  wui-logo {
    width: 80px;
    height: 80px;
    border-radius: var(--wui-border-radius-m);
  }
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }
  wui-flex:first-child:not(:only-child) {
    position: relative;
  }
  wui-loading-thumbnail {
    position: absolute;
  }
  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition: all var(--wui-ease-out-power-2) var(--wui-duration-lg);
  }
  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }
  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }
  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }
  .capitalize {
    text-transform: capitalize;
  }
`;var __decorate$V=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectingSocialView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.socialProvider=AccountController.state.socialProvider,this.socialWindow=AccountController.state.socialWindow,this.error=!1,this.connecting=!1,this.message="Connect in the provider window",this.authConnector=ConnectorController.getAuthConnector(),this.handleSocialConnection=async Mn=>{var io;if((io=Mn.data)!=null&&io.resultUri)if(Mn.origin===ConstantsUtil.SECURE_SITE_ORIGIN){window.removeEventListener("message",this.handleSocialConnection,!1);try{if(this.authConnector&&!this.connecting){this.socialWindow&&(this.socialWindow.close(),AccountController.setSocialWindow(void 0,ChainController.state.activeChain)),this.connecting=!0,this.updateMessage();const fo=Mn.data.resultUri;await this.authConnector.provider.connectSocial(fo),this.socialProvider&&(StorageUtil.setConnectedSocialProvider(this.socialProvider),await ConnectionController.connectExternal(this.authConnector,this.authConnector.chain),EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:this.socialProvider}}))}}catch{this.error=!0,this.updateMessage(),this.socialProvider&&EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:this.socialProvider}})}}else RouterController.goBack(),SnackController.showError("Untrusted Origin"),this.socialProvider&&EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:this.socialProvider}})},this.unsubscribe.push(AccountController.subscribe(Mn=>{Mn.socialProvider&&(this.socialProvider=Mn.socialProvider),Mn.socialWindow&&(this.socialWindow=Mn.socialWindow),Mn.address&&ModalController.state.open&&ModalController.close()})),this.authConnector&&this.connectSocial()}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn()),window.removeEventListener("message",this.handleSocialConnection,!1)}render(){return x`
      <wui-flex
        data-error=${o$3(this.error)}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-logo logo=${o$3(this.socialProvider)}></wui-logo>
          ${this.error?null:this.loaderTemplate()}
          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>
        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text align="center" variant="paragraph-500" color="fg-100"
            >Log in with
            <span class="capitalize">${this.socialProvider??"Social"}</span></wui-text
          >
          <wui-text align="center" variant="small-400" color=${this.error?"error-100":"fg-200"}
            >${this.message}</wui-text
          ></wui-flex
        >
      </wui-flex>
    `}loaderTemplate(){const Mn=ThemeController.state.themeVariables["--w3m-border-radius-master"],io=Mn?parseInt(Mn.replace("px",""),10):4;return x`<wui-loading-thumbnail radius=${io*9}></wui-loading-thumbnail>`}connectSocial(){const Mn=setInterval(()=>{var io;(io=this.socialWindow)!=null&&io.closed&&(!this.connecting&&RouterController.state.view==="ConnectingSocial"&&RouterController.goBack(),clearInterval(Mn))},1e3);window.addEventListener("message",this.handleSocialConnection,!1)}updateMessage(){this.error?this.message="Something went wrong":this.connecting?this.message="Retrieving user data":this.message="Connect in the provider window"}};W3mConnectingSocialView.styles=styles$B;__decorate$V([r$5()],W3mConnectingSocialView.prototype,"socialProvider",void 0);__decorate$V([r$5()],W3mConnectingSocialView.prototype,"socialWindow",void 0);__decorate$V([r$5()],W3mConnectingSocialView.prototype,"error",void 0);__decorate$V([r$5()],W3mConnectingSocialView.prototype,"connecting",void 0);__decorate$V([r$5()],W3mConnectingSocialView.prototype,"message",void 0);W3mConnectingSocialView=__decorate$V([customElement("w3m-connecting-social-view")],W3mConnectingSocialView);const styles$A=i$5`
  wui-flex {
    width: 100%;
  }

  wui-icon-link {
    margin-right: calc(var(--wui-icon-box-size-md) * -1);
  }

  .account-links {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .account-links wui-flex {
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1;
    background: red;
    align-items: center;
    justify-content: center;
    height: 48px;
    padding: 10px;
    flex: 1 0 0;

    border-radius: var(--XS, 16px);
    border: 1px solid var(--dark-accent-glass-010, rgba(71, 161, 255, 0.1));
    background: var(--dark-accent-glass-010, rgba(71, 161, 255, 0.1));
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  .account-links wui-flex:hover {
    background: var(--dark-accent-glass-015, rgba(71, 161, 255, 0.15));
  }

  .account-links wui-flex wui-icon {
    width: var(--S, 20px);
    height: var(--S, 20px);
  }

  .account-links wui-flex wui-icon svg path {
    stroke: #47a1ff;
  }

  .account-settings-button {
    padding: calc(var(--wui-spacing-m) - 1px) var(--wui-spacing-2l);
    height: 40px;
    border-radius: var(--wui-border-radius-xxs);
    border: 1px solid var(--wui-color-gray-glass-002);
    background: var(--wui-color-gray-glass-002);
    cursor: pointer;
  }

  .account-settings-button:hover {
    background: var(--wui-color-gray-glass-005);
  }
`;var __decorate$U=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mProfileView=class extends r$7{constructor(){super(),this.usubscribe=[],this.address=AccountController.state.address,this.profileImage=AccountController.state.profileImage,this.profileName=AccountController.state.profileName,this.accounts=AccountController.state.allAccounts,this.loading=!1,this.usubscribe.push(AccountController.subscribeKey("address",Mn=>{Mn?this.address=Mn:ModalController.close()})),this.usubscribe.push(AccountController.subscribeKey("profileImage",Mn=>{this.profileImage=Mn})),this.usubscribe.push(AccountController.subscribeKey("profileName",Mn=>{this.profileName=Mn}))}disconnectedCallback(){this.usubscribe.forEach(Mn=>Mn())}render(){if(!this.address)throw new Error("w3m-profile-view: No account provided");return x`
      <wui-flex flexDirection="column" gap="l" .padding=${["0","xl","m","xl"]}>
        <wui-flex flexDirection="column" alignItems="center" gap="l">
          <wui-avatar
            alt=${this.address}
            address=${this.address}
            imageSrc=${o$3(this.profileImage)}
            size="2lg"
          ></wui-avatar>
          <wui-flex flexDirection="column" alignItems="center">
            <wui-flex gap="3xs" alignItems="center" justifyContent="center">
              <wui-text variant="title-6-600" color="fg-100" data-testid="account-settings-address">
                ${this.profileName?UiHelperUtil.getTruncateString({string:this.profileName,charsStart:20,charsEnd:0,truncate:"end"}):UiHelperUtil.getTruncateString({string:this.address,charsStart:4,charsEnd:6,truncate:"middle"})}
              </wui-text>
              <wui-icon-link
                size="md"
                icon="copy"
                iconColor="fg-200"
                @click=${this.onCopyAddress}
              ></wui-icon-link>
            </wui-flex>
          </wui-flex>
        </wui-flex>
        <wui-flex
          data-testid="account-settings-button"
          justifyContent="center"
          alignItems="center"
          class="account-settings-button"
          @click=${()=>RouterController.push("AccountSettings")}
        >
          <wui-text variant="paragraph-500" color="fg-100">Account Settings</wui-text>
        </wui-flex>
        ${this.accountsTemplate()}
      </wui-flex>
    `}accountsTemplate(){return x`<wui-flex flexDirection="column">
      <wui-flex .padding=${["3xs","m","s","s"]}>
        <wui-text color="fg-200" variant="paragraph-400">Your accounts</wui-text>
      </wui-flex>
      <wui-flex flexDirection="column" gap="xxs">
        ${this.accounts.map(Mn=>this.accountTemplate(Mn))}
      </wui-flex>
    </wui-flex>`}async onSwitchAccount(Mn){this.loading=!0,ConnectorController.getAuthConnector()&&await ConnectionController.setPreferredAccountType(Mn.type),AccountController.setShouldUpdateToAddress(Mn.address,ChainController.state.activeChain),this.loading=!1}accountTemplate(Mn){return x`<wui-list-account accountAddress=${Mn.address} accountType=${Mn.type}>
      ${Mn.address===this.address?"":x`<wui-button
            slot="action"
            textVariant="small-600"
            size="md"
            variant="accent"
            @click=${()=>this.onSwitchAccount(Mn)}
            .loading=${this.loading}
            >Switch</wui-button
          >`}
    </wui-list-account>`}onCopyAddress(){try{this.profileName?(CoreHelperUtil.copyToClopboard(this.profileName),SnackController.showSuccess("Name copied")):this.address&&(CoreHelperUtil.copyToClopboard(this.address),SnackController.showSuccess("Address copied"))}catch{SnackController.showError("Failed to copy")}}};W3mProfileView.styles=styles$A;__decorate$U([r$5()],W3mProfileView.prototype,"address",void 0);__decorate$U([r$5()],W3mProfileView.prototype,"profileImage",void 0);__decorate$U([r$5()],W3mProfileView.prototype,"profileName",void 0);__decorate$U([r$5()],W3mProfileView.prototype,"accounts",void 0);__decorate$U([r$5()],W3mProfileView.prototype,"loading",void 0);W3mProfileView=__decorate$U([customElement("w3m-profile-view")],W3mProfileView);const styles$z=i$5`
  wui-avatar {
    width: var(--wui-spacing-3xl);
    height: var(--wui-spacing-3xl);
    box-shadow: 0 0 0 0;
  }

  wui-icon-box {
    position: relative;
    right: 15px;
    top: 15px;
    border: 2px solid var(--wui-color-bg-150);
    background-color: var(--wui-color-bg-125);
  }
`;var __decorate$T=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mSwitchAddressView=class extends r$7{constructor(){super(),this.metadata=OptionsController.state.metadata,this.allAccounts=AccountController.state.allAccounts||[],this.balances={},this.labels=AccountController.state.addressLabels,this.currentAddress=AccountController.state.address||"",this.connectedConnector=StorageUtil.getConnectedConnector(),this.shouldShowIcon=this.connectedConnector==="AUTH",this.caipNetwork=ChainController.state.activeCaipNetwork,AccountController.subscribeKey("allAccounts",Mn=>{this.allAccounts=Mn})}connectedCallback(){super.connectedCallback(),this.allAccounts.forEach(Mn=>{var io;BlockchainApiController.getBalance(Mn.address,(io=this.caipNetwork)==null?void 0:io.caipNetworkId).then(fo=>{let mo=this.balances[Mn.address]||0;fo.balances.length>0&&(mo=fo.balances.reduce(($o,Ao)=>$o+((Ao==null?void 0:Ao.value)||0),0)),this.balances[Mn.address]=mo,this.requestUpdate()})})}getAddressIcon(Mn){return Mn==="smartAccount"?"lightbulb":"mail"}render(){var Mn,io;return x`
      <wui-flex justifyContent="center" .padding=${["xl","0","xl","0"]}>
        <wui-banner-img
          imageSrc=${o$3((Mn=this.metadata)==null?void 0:Mn.icons[0])}
          text=${o$3((io=this.metadata)==null?void 0:io.url)}
          size="sm"
        ></wui-banner-img>
      </wui-flex>
      <wui-flex flexDirection="column" gap="xxl" .padding=${["l","xl","xl","xl"]}>
        ${this.allAccounts.map((fo,mo)=>this.getAddressTemplate(fo,mo))}
      </wui-flex>
    `}getAddressTemplate(Mn,io){var mo,$o,Ao,Lo;const fo=(mo=this.labels)==null?void 0:mo.get(Mn.address);return x`
      <wui-flex
        flexDirection="row"
        justifyContent="space-between"
        data-testid="switch-address-item"
      >
        <wui-flex alignItems="center">
          <wui-avatar address=${Mn.address}></wui-avatar>
          ${this.shouldShowIcon?x`<wui-icon-box
                size="sm"
                iconcolor="fg-200"
                backgroundcolor="glass-002"
                background="gray"
                icon="${this.getAddressIcon(Mn.type)}"
                ?border=${!0}
              ></wui-icon-box>`:x`<wui-flex .padding="${["0","0","0","s"]}"></wui-flex>`}
          <wui-flex flexDirection="column">
            <wui-text class="address" variant="paragraph-500" color="fg-100"
              >${fo||UiHelperUtil.getTruncateString({string:Mn.address,charsStart:4,charsEnd:6,truncate:"middle"})}</wui-text
            >
            <wui-text class="address-description" variant="small-400">
              ${typeof this.balances[Mn.address]=="number"?`$${($o=this.balances[Mn.address])==null?void 0:$o.toFixed(2)}`:x`<wui-loading-spinner size="sm" color="accent-100"></wui-loading-spinner>`}
            </wui-text>
          </wui-flex>
        </wui-flex>
        <wui-flex gap="s" alignItems="center">
          ${((Ao=Mn.address)==null?void 0:Ao.toLowerCase())===((Lo=this.currentAddress)==null?void 0:Lo.toLowerCase())?"":x`
                <wui-button
                  data-testid=${`w3m-switch-address-button-${io}`}
                  textVariant="small-600"
                  size="md"
                  variant="accent"
                  @click=${()=>this.onSwitchAddress(Mn.address)}
                  >Switch to</wui-button
                >
              `}
        </wui-flex>
      </wui-flex>
    `}onSwitchAddress(Mn){const io=ChainController.state.activeCaipNetwork,fo=io==null?void 0:io.chainNamespace,mo=`${fo}:${io==null?void 0:io.id}:${Mn}`;AccountController.setCaipAddress(mo,fo),ModalController.close()}};W3mSwitchAddressView.styles=styles$z;__decorate$T([r$5()],W3mSwitchAddressView.prototype,"allAccounts",void 0);__decorate$T([r$5()],W3mSwitchAddressView.prototype,"balances",void 0);W3mSwitchAddressView=__decorate$T([customElement("w3m-switch-address-view")],W3mSwitchAddressView);const styles$y=i$5`
  @keyframes fadein {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px) !important;
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: 200ms;
    animation-timing-function: ease;
    animation-name: fadein;
    animation-fill-mode: forwards;
  }

  wui-logo {
    width: 80px;
    height: 80px;
    border-radius: var(--wui-border-radius-m);
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }
  wui-loading-thumbnail {
    position: absolute;
  }
  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition: all var(--wui-ease-out-power-2) var(--wui-duration-lg);
  }
`;var __decorate$S=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectingFarcasterView=class extends r$7{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.socialProvider=AccountController.state.socialProvider,this.uri=AccountController.state.farcasterUrl,this.ready=!1,this.loading=!1,this.authConnector=ConnectorController.getAuthConnector(),this.forceUpdate=()=>{this.requestUpdate()},this.unsubscribe.push(AccountController.subscribeKey("farcasterUrl",Mn=>{Mn&&(this.uri=Mn,this.connectFarcaster())}),AccountController.subscribeKey("socialProvider",Mn=>{Mn&&(this.socialProvider=Mn)})),window.addEventListener("resize",this.forceUpdate)}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.timeout),window.removeEventListener("resize",this.forceUpdate)}render(){return this.onRenderProxy(),x`${this.platformTemplate()}`}platformTemplate(){return CoreHelperUtil.isMobile()?x`${this.mobileTemplate()}`:x`${this.desktopTemplate()}`}desktopTemplate(){return this.loading?x`${this.loadingTemplate()}`:x`${this.qrTemplate()}`}qrTemplate(){return x` <wui-flex
      flexDirection="column"
      alignItems="center"
      .padding=${["0","xl","xl","xl"]}
      gap="xl"
    >
      <wui-shimmer borderRadius="l" width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>

      <wui-text variant="paragraph-500" color="fg-100">
        Scan this QR Code with your phone
      </wui-text>
      ${this.copyTemplate()}
    </wui-flex>`}loadingTemplate(){return x`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-logo logo="farcaster"></wui-logo>
          ${this.loaderTemplate()}
          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>
        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text align="center" variant="paragraph-500" color="fg-100">
            Loading user data
          </wui-text>
          <wui-text align="center" variant="small-400" color="fg-200">
            Please wait a moment while we load your data.
          </wui-text>
        </wui-flex>
      </wui-flex>
    `}mobileTemplate(){return x` <wui-flex
      flexDirection="column"
      alignItems="center"
      .padding=${["3xl","xl","xl","xl"]}
      gap="xl"
    >
      <wui-flex justifyContent="center" alignItems="center">
        <wui-logo logo="farcaster"></wui-logo>
        ${this.loaderTemplate()}
        <wui-icon-box
          backgroundColor="error-100"
          background="opaque"
          iconColor="error-100"
          icon="close"
          size="sm"
          border
          borderColor="wui-color-bg-125"
        ></wui-icon-box>
      </wui-flex>
      <wui-flex flexDirection="column" alignItems="center" gap="xs">
        <wui-text align="center" variant="paragraph-500" color="fg-100"
          >Continue in Farcaster</span></wui-text
        >
        <wui-text align="center" variant="small-400" color="fg-200"
          >Accept connection request in the app</wui-text
        ></wui-flex
      >
      ${this.mobileLinkTemplate()}
    </wui-flex>`}loaderTemplate(){const Mn=ThemeController.state.themeVariables["--w3m-border-radius-master"],io=Mn?parseInt(Mn.replace("px",""),10):4;return x`<wui-loading-thumbnail radius=${io*9}></wui-loading-thumbnail>`}async connectFarcaster(){var Mn;if(this.authConnector)try{await((Mn=this.authConnector)==null?void 0:Mn.provider.connectFarcaster()),this.socialProvider&&StorageUtil.setConnectedSocialProvider(this.socialProvider),this.loading=!0,await ConnectionController.connectExternal(this.authConnector,this.authConnector.chain),this.loading=!1,ModalController.close()}catch(io){RouterController.goBack(),SnackController.showError(io)}}mobileLinkTemplate(){return x`<wui-button
      size="md"
      ?loading=${this.loading}
      ?disabled=${!this.uri||this.loading}
      @click=${()=>{this.uri&&CoreHelperUtil.openHref(this.uri,"_blank")}}
    >
      Open farcaster</wui-button
    >`}onRenderProxy(){!this.ready&&this.uri&&(this.timeout=setTimeout(()=>{this.ready=!0},0))}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const Mn=this.getBoundingClientRect().width-40;return x` <wui-qr-code
      size=${Mn}
      theme=${ThemeController.state.themeMode}
      uri=${this.uri}
      ?farcaster=${!0}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){const Mn=!this.uri||!this.ready;return x`<wui-link
      .disabled=${Mn}
      @click=${this.onCopyUri}
      color="fg-200"
      data-testid="copy-wc2-uri"
    >
      <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
      Copy link
    </wui-link>`}onCopyUri(){try{this.uri&&(CoreHelperUtil.copyToClopboard(this.uri),SnackController.showSuccess("Link copied"))}catch{SnackController.showError("Failed to copy")}}};W3mConnectingFarcasterView.styles=styles$y;__decorate$S([r$5()],W3mConnectingFarcasterView.prototype,"socialProvider",void 0);__decorate$S([r$5()],W3mConnectingFarcasterView.prototype,"uri",void 0);__decorate$S([r$5()],W3mConnectingFarcasterView.prototype,"ready",void 0);__decorate$S([r$5()],W3mConnectingFarcasterView.prototype,"loading",void 0);W3mConnectingFarcasterView=__decorate$S([customElement("w3m-connecting-farcaster-view")],W3mConnectingFarcasterView);var __decorate$R=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mSIWXSignMessageView=class extends r$7{constructor(){var Mn;super(...arguments),this.dappName=(Mn=OptionsController.state.metadata)==null?void 0:Mn.name,this.isCancelling=!1,this.isSigning=!1}render(){return x`
      <wui-flex justifyContent="center" .padding=${["2xl","0","xxl","0"]}>
        <w3m-siwx-sign-message-thumbnails></w3m-siwx-sign-message-thumbnails>
      </wui-flex>
      <wui-flex
        .padding=${["0","4xl","l","4xl"]}
        gap="s"
        justifyContent="space-between"
      >
        <wui-text variant="paragraph-500" align="center" color="fg-100"
          >${this.dappName??"Dapp"} needs to connect to your wallet</wui-text
        >
      </wui-flex>
      <wui-flex
        .padding=${["0","3xl","l","3xl"]}
        gap="s"
        justifyContent="space-between"
      >
        <wui-text variant="small-400" align="center" color="fg-200"
          >Sign this message to prove you own this wallet and proceed. Canceling will disconnect
          you.</wui-text
        >
      </wui-flex>
      <wui-flex .padding=${["l","xl","xl","xl"]} gap="s" justifyContent="space-between">
        <wui-button
          size="lg"
          borderRadius="xs"
          fullWidth
          variant="neutral"
          ?loading=${this.isCancelling}
          @click=${this.onCancel.bind(this)}
          data-testid="w3m-connecting-siwe-cancel"
        >
          ${this.isCancelling?"Cancelling...":"Cancel"}
        </wui-button>
        <wui-button
          size="lg"
          borderRadius="xs"
          fullWidth
          variant="main"
          @click=${this.onSign.bind(this)}
          ?loading=${this.isSigning}
          data-testid="w3m-connecting-siwe-sign"
        >
          ${this.isSigning?"Signing...":"Sign"}
        </wui-button>
      </wui-flex>
    `}async onSign(){this.isSigning=!0,await SIWXUtil.requestSignMessage().finally(()=>this.isSigning=!1)}async onCancel(){this.isCancelling=!0,await SIWXUtil.cancelSignMessage().finally(()=>this.isCancelling=!1)}};__decorate$R([r$5()],W3mSIWXSignMessageView.prototype,"isCancelling",void 0);__decorate$R([r$5()],W3mSIWXSignMessageView.prototype,"isSigning",void 0);W3mSIWXSignMessageView=__decorate$R([customElement("w3m-siwx-sign-message-view")],W3mSIWXSignMessageView);const styles$x=i$5`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    padding-top: var(--wui-spacing-l);
    padding-bottom: var(--wui-spacing-l);
    justify-content: center;
    grid-column: 1 / span 4;
  }
`,WalletUtil={filterOutDuplicatesByRDNS(Fn){const Mn=OptionsController.state.enableEIP6963?ConnectorController.state.connectors:[],io=StorageUtil.getRecentWallets(),fo=Mn.map(Lo=>{var Wo;return(Wo=Lo.info)==null?void 0:Wo.rdns}).filter(Boolean),mo=io.map(Lo=>Lo.rdns).filter(Boolean),$o=fo.concat(mo);if($o.includes("io.metamask.mobile")&&CoreHelperUtil.isMobile()){const Lo=$o.indexOf("io.metamask.mobile");$o[Lo]="io.metamask"}return Fn.filter(Lo=>!$o.includes(String(Lo==null?void 0:Lo.rdns)))},filterOutDuplicatesByIds(Fn){const Mn=ConnectorController.state.connectors.filter(Lo=>Lo.type==="ANNOUNCED"||Lo.type==="INJECTED"),io=StorageUtil.getRecentWallets(),fo=Mn.map(Lo=>Lo.explorerId),mo=io.map(Lo=>Lo.id),$o=fo.concat(mo);return Fn.filter(Lo=>!$o.includes(Lo==null?void 0:Lo.id))},filterOutDuplicateWallets(Fn){const Mn=this.filterOutDuplicatesByRDNS(Fn);return this.filterOutDuplicatesByIds(Mn)},markWalletsAsInstalled(Fn){const{connectors:Mn}=ConnectorController.state,io=Mn.filter($o=>$o.type==="ANNOUNCED").reduce(($o,Ao)=>{var Lo;return(Lo=Ao.info)!=null&&Lo.rdns&&($o[Ao.info.rdns]=!0),$o},{});return Fn.map($o=>({...$o,installed:!!$o.rdns&&!!io[$o.rdns??""]})).sort(($o,Ao)=>Number(Ao.installed)-Number($o.installed))}};var __decorate$Q=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const PAGINATOR_ID$1="local-paginator";let W3mAllWalletsList=class extends r$7{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.initial=!ApiController.state.wallets.length,this.wallets=ApiController.state.wallets,this.recommended=ApiController.state.recommended,this.featured=ApiController.state.featured,this.unsubscribe.push(ApiController.subscribeKey("wallets",Mn=>this.wallets=Mn),ApiController.subscribeKey("recommended",Mn=>this.recommended=Mn),ApiController.subscribeKey("featured",Mn=>this.featured=Mn))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){var Mn;this.unsubscribe.forEach(io=>io()),(Mn=this.paginationObserver)==null||Mn.disconnect()}render(){return x`
      <wui-grid
        data-scroll=${!this.initial}
        .padding=${["0","s","s","s"]}
        columnGap="xxs"
        rowGap="l"
        justifyContent="space-between"
      >
        ${this.initial?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){var io;const Mn=(io=this.shadowRoot)==null?void 0:io.querySelector("wui-grid");this.initial&&Mn&&(await ApiController.fetchWallets({page:1}),await Mn.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.initial=!1,Mn.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(Mn,io){return[...Array(Mn)].map(()=>x`
        <wui-card-select-loader type="wallet" id=${o$3(io)}></wui-card-select-loader>
      `)}walletsTemplate(){const Mn=[...this.featured,...this.recommended,...this.wallets];return WalletUtil.markWalletsAsInstalled(Mn).map(fo=>x`
        <w3m-all-wallets-list-item
          @click=${()=>this.onConnectWallet(fo)}
          .wallet=${fo}
        ></w3m-all-wallets-list-item>
      `)}paginationLoaderTemplate(){const{wallets:Mn,recommended:io,featured:fo,count:mo}=ApiController.state,$o=window.innerWidth<352?3:4,Ao=Mn.length+io.length;let Wo=Math.ceil(Ao/$o)*$o-Ao+$o;return Wo-=Mn.length?fo.length%$o:0,mo===0&&fo.length>0?null:mo===0||[...fo,...Mn,...io].length<mo?this.shimmerTemplate(Wo,PAGINATOR_ID$1):null}createPaginationObserver(){var io;const Mn=(io=this.shadowRoot)==null?void 0:io.querySelector(`#${PAGINATOR_ID$1}`);Mn&&(this.paginationObserver=new IntersectionObserver(([fo])=>{if(fo!=null&&fo.isIntersecting&&!this.initial){const{page:mo,count:$o,wallets:Ao}=ApiController.state;Ao.length<$o&&ApiController.fetchWallets({page:mo+1})}}),this.paginationObserver.observe(Mn))}onConnectWallet(Mn){const io=ConnectorController.getConnector(Mn.id,Mn.rdns);io?RouterController.push("ConnectingExternal",{connector:io}):RouterController.push("ConnectingWalletConnect",{wallet:Mn})}};W3mAllWalletsList.styles=styles$x;__decorate$Q([r$5()],W3mAllWalletsList.prototype,"initial",void 0);__decorate$Q([r$5()],W3mAllWalletsList.prototype,"wallets",void 0);__decorate$Q([r$5()],W3mAllWalletsList.prototype,"recommended",void 0);__decorate$Q([r$5()],W3mAllWalletsList.prototype,"featured",void 0);W3mAllWalletsList=__decorate$Q([customElement("w3m-all-wallets-list")],W3mAllWalletsList);const styles$w=i$5`
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-s) var(--wui-spacing-0);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    will-change: background-color, color;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: var(--wui-color-fg-100);
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  button:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  button:disabled > wui-flex > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  [data-selected='true'] {
    background-color: var(--wui-color-accent-glass-020);
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }
  }

  [data-selected='true']:active:enabled {
    background-color: var(--wui-color-accent-glass-010);
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`;var __decorate$P=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mAllWalletsListItem=class extends r$7{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.wallet=void 0,this.observer=new IntersectionObserver(Mn=>{Mn.forEach(io=>{io.isIntersecting?(this.visible=!0,this.fetchImageSrc()):this.visible=!1})},{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){var io,fo;const Mn=((io=this.wallet)==null?void 0:io.badge_type)==="certified";return x`
      <button ontouchstart>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="3xs">
          <wui-text
            variant="tiny-500"
            color="inherit"
            class=${o$3(Mn?"certified":void 0)}
            >${(fo=this.wallet)==null?void 0:fo.name}</wui-text
          >
          ${Mn?x`<wui-icon size="sm" name="walletConnectBrown"></wui-icon>`:null}
        </wui-flex>
      </button>
    `}imageTemplate(){var Mn,io;return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():x`
      <wui-wallet-image
        size="md"
        imageSrc=${o$3(this.imageSrc)}
        name=${(Mn=this.wallet)==null?void 0:Mn.name}
        .installed=${(io=this.wallet)==null?void 0:io.installed}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}shimmerTemplate(){return x`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=AssetUtil.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await AssetUtil.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}};W3mAllWalletsListItem.styles=styles$w;__decorate$P([r$5()],W3mAllWalletsListItem.prototype,"visible",void 0);__decorate$P([r$5()],W3mAllWalletsListItem.prototype,"imageSrc",void 0);__decorate$P([r$5()],W3mAllWalletsListItem.prototype,"imageLoading",void 0);__decorate$P([n$6()],W3mAllWalletsListItem.prototype,"wallet",void 0);W3mAllWalletsListItem=__decorate$P([customElement("w3m-all-wallets-list-item")],W3mAllWalletsListItem);const styles$v=i$5`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`;var __decorate$O=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mAllWalletsSearch=class extends r$7{constructor(){super(...arguments),this.prevQuery="",this.prevBadge=void 0,this.loading=!0,this.query=""}render(){return this.onSearch(),this.loading?x`<wui-loading-spinner color="accent-100"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await ApiController.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){const{search:Mn}=ApiController.state,io=WalletUtil.markWalletsAsInstalled(Mn);return Mn.length?x`
      <wui-grid
        .padding=${["0","s","s","s"]}
        rowGap="l"
        columnGap="xs"
        justifyContent="space-between"
      >
        ${io.map(fo=>x`
            <w3m-all-wallets-list-item
              @click=${()=>this.onConnectWallet(fo)}
              .wallet=${fo}
              data-testid="wallet-search-item-${fo.id}"
            ></w3m-all-wallets-list-item>
          `)}
      </wui-grid>
    `:x`
        <wui-flex justifyContent="center" alignItems="center" gap="s" flexDirection="column">
          <wui-icon-box
            size="lg"
            iconColor="fg-200"
            backgroundColor="fg-300"
            icon="wallet"
            background="transparent"
          ></wui-icon-box>
          <wui-text color="fg-200" variant="paragraph-500">No Wallet found</wui-text>
        </wui-flex>
      `}onConnectWallet(Mn){const io=ConnectorController.getConnector(Mn.id,Mn.rdns);io?RouterController.push("ConnectingExternal",{connector:io}):RouterController.push("ConnectingWalletConnect",{wallet:Mn})}};W3mAllWalletsSearch.styles=styles$v;__decorate$O([r$5()],W3mAllWalletsSearch.prototype,"loading",void 0);__decorate$O([n$6()],W3mAllWalletsSearch.prototype,"query",void 0);__decorate$O([n$6()],W3mAllWalletsSearch.prototype,"badge",void 0);W3mAllWalletsSearch=__decorate$O([customElement("w3m-all-wallets-search")],W3mAllWalletsSearch);var __decorate$N=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectingHeader=class extends r$7{constructor(){super(),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0,this.buffering=!1,this.unsubscribe.push(ConnectionController.subscribeKey("buffering",Mn=>this.buffering=Mn))}disconnectCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){const Mn=this.generateTabs();return x`
      <wui-flex justifyContent="center" .padding=${["0","0","l","0"]}>
        <wui-tabs
          ?disabled=${this.buffering}
          .tabs=${Mn}
          .onTabChange=${this.onTabChange.bind(this)}
        ></wui-tabs>
      </wui-flex>
    `}generateTabs(){const Mn=this.platforms.map(io=>io==="browser"?{label:"Browser",icon:"extension",platform:"browser"}:io==="mobile"?{label:"Mobile",icon:"mobile",platform:"mobile"}:io==="qrcode"?{label:"Mobile",icon:"mobile",platform:"qrcode"}:io==="web"?{label:"Webapp",icon:"browser",platform:"web"}:io==="desktop"?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"});return this.platformTabs=Mn.map(({platform:io})=>io),Mn}onTabChange(Mn){var fo;const io=this.platformTabs[Mn];io&&((fo=this.onSelectPlatfrom)==null||fo.call(this,io))}};__decorate$N([n$6({type:Array})],W3mConnectingHeader.prototype,"platforms",void 0);__decorate$N([n$6()],W3mConnectingHeader.prototype,"onSelectPlatfrom",void 0);__decorate$N([r$5()],W3mConnectingHeader.prototype,"buffering",void 0);W3mConnectingHeader=__decorate$N([customElement("w3m-connecting-header")],W3mConnectingHeader);var __decorate$M=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectingWcBrowser=class extends W3mConnectingWidget{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),EventsController.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}async onConnectProxy(){var Mn;try{this.error=!1;const{connectors:io}=ConnectorController.state,fo=io.find(mo=>{var $o,Ao,Lo;return mo.type==="ANNOUNCED"&&(($o=mo.info)==null?void 0:$o.rdns)===((Ao=this.wallet)==null?void 0:Ao.rdns)||mo.type==="INJECTED"||mo.name===((Lo=this.wallet)==null?void 0:Lo.name)});if(fo)await ConnectionController.connectExternal(fo,fo.chain);else throw new Error("w3m-connecting-wc-browser: No connector found");ModalController.close(),EventsController.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser",name:((Mn=this.wallet)==null?void 0:Mn.name)||"Unknown"}})}catch(io){EventsController.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:(io==null?void 0:io.message)??"Unknown"}}),this.error=!0}}};W3mConnectingWcBrowser=__decorate$M([customElement("w3m-connecting-wc-browser")],W3mConnectingWcBrowser);var __decorate$L=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectingWcDesktop=class extends W3mConnectingWidget{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),EventsController.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop"}})}onRenderProxy(){var Mn;!this.ready&&this.uri&&(this.ready=!0,(Mn=this.onConnect)==null||Mn.call(this))}onConnectProxy(){var Mn;if((Mn=this.wallet)!=null&&Mn.desktop_link&&this.uri)try{this.error=!1;const{desktop_link:io,name:fo}=this.wallet,{redirect:mo,href:$o}=CoreHelperUtil.formatNativeUrl(io,this.uri);ConnectionController.setWcLinking({name:fo,href:$o}),ConnectionController.setRecentWallet(this.wallet),CoreHelperUtil.openHref(mo,"_blank")}catch{this.error=!0}}};W3mConnectingWcDesktop=__decorate$L([customElement("w3m-connecting-wc-desktop")],W3mConnectingWcDesktop);var __decorate$K=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectingWcMobile=class extends W3mConnectingWidget{constructor(){if(super(),this.btnLabelTimeout=void 0,this.labelTimeout=void 0,!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.secondaryBtnLabel=void 0,this.secondaryLabel=ConstantsUtil$2.CONNECT_LABELS.MOBILE,this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),document.addEventListener("visibilitychange",this.onBuffering.bind(this)),EventsController.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile"}}),this.btnLabelTimeout=setTimeout(()=>{this.secondaryBtnLabel="Try again",this.secondaryLabel=ConstantsUtil$2.CONNECT_LABELS.MOBILE},ConstantsUtil$2.FIVE_SEC_MS),this.labelTimeout=setTimeout(()=>{this.secondaryLabel="Hold tight... it's taking longer than expected"},ConstantsUtil$2.THREE_SEC_MS)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("visibilitychange",this.onBuffering.bind(this)),clearTimeout(this.btnLabelTimeout),clearTimeout(this.labelTimeout)}onRenderProxy(){var Mn;!this.ready&&this.uri&&(this.ready=!0,(Mn=this.onConnect)==null||Mn.call(this))}onConnectProxy(){var Mn;if((Mn=this.wallet)!=null&&Mn.mobile_link&&this.uri)try{this.error=!1;const{mobile_link:io,name:fo}=this.wallet,{redirect:mo,href:$o}=CoreHelperUtil.formatNativeUrl(io,this.uri);ConnectionController.setWcLinking({name:fo,href:$o}),ConnectionController.setRecentWallet(this.wallet),CoreHelperUtil.openHref(mo,"_self"),clearTimeout(this.labelTimeout),this.secondaryLabel=ConstantsUtil$2.CONNECT_LABELS.MOBILE}catch(io){EventsController.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:io instanceof Error?io.message:"Error parsing the deeplink",uri:this.uri,mobile_link:this.wallet.mobile_link,name:this.wallet.name}}),this.error=!0}}onBuffering(){const Mn=CoreHelperUtil.isIos();(document==null?void 0:document.visibilityState)==="visible"&&!this.error&&Mn&&(ConnectionController.setBuffering(!0),setTimeout(()=>{ConnectionController.setBuffering(!1)},5e3))}};W3mConnectingWcMobile=__decorate$K([customElement("w3m-connecting-wc-mobile")],W3mConnectingWcMobile);const styles$u=i$5`
  @keyframes fadein {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px) !important;
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: 200ms;
    animation-timing-function: ease;
    animation-name: fadein;
    animation-fill-mode: forwards;
  }
`;var __decorate$J=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectingWcQrcode=class extends W3mConnectingWidget{constructor(){var Mn;super(),this.forceUpdate=()=>{this.requestUpdate()},window.addEventListener("resize",this.forceUpdate),EventsController.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:((Mn=this.wallet)==null?void 0:Mn.name)??"WalletConnect",platform:"qrcode"}})}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this.forceUpdate)}render(){return this.onRenderProxy(),x`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["0","xl","xl","xl"]}
        gap="xl"
      >
        <wui-shimmer borderRadius="l" width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>

        <wui-text variant="paragraph-500" color="fg-100">
          Scan this QR Code with your phone
        </wui-text>
        ${this.copyTemplate()}
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.timeout=setTimeout(()=>{this.ready=!0},200))}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const Mn=this.getBoundingClientRect().width-40,io=this.wallet?this.wallet.name:void 0;return ConnectionController.setWcLinking(void 0),ConnectionController.setRecentWallet(this.wallet),x` <wui-qr-code
      size=${Mn}
      theme=${ThemeController.state.themeMode}
      uri=${this.uri}
      imageSrc=${o$3(AssetUtil.getWalletImage(this.wallet))}
      alt=${o$3(io)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){const Mn=!this.uri||!this.ready;return x`<wui-link
      .disabled=${Mn}
      @click=${this.onCopyUri}
      color="fg-200"
      data-testid="copy-wc2-uri"
    >
      <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
      Copy link
    </wui-link>`}};W3mConnectingWcQrcode.styles=styles$u;W3mConnectingWcQrcode=__decorate$J([customElement("w3m-connecting-wc-qrcode")],W3mConnectingWcQrcode);var __decorate$I=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectingWcUnsupported=class extends r$7{constructor(){var Mn;if(super(),this.wallet=(Mn=RouterController.state.data)==null?void 0:Mn.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");EventsController.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}render(){return x`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${o$3(AssetUtil.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="paragraph-500" color="fg-100">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};W3mConnectingWcUnsupported=__decorate$I([customElement("w3m-connecting-wc-unsupported")],W3mConnectingWcUnsupported);var __decorate$H=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectingWcWeb=class extends W3mConnectingWidget{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel="Open and continue in a new browser tab",this.secondaryBtnIcon="externalLink",EventsController.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web"}})}onConnectProxy(){var Mn;if((Mn=this.wallet)!=null&&Mn.webapp_link&&this.uri)try{this.error=!1;const{webapp_link:io,name:fo}=this.wallet,{redirect:mo,href:$o}=CoreHelperUtil.formatUniversalUrl(io,this.uri);ConnectionController.setWcLinking({name:fo,href:$o}),ConnectionController.setRecentWallet(this.wallet),CoreHelperUtil.openHref(mo,"_blank")}catch{this.error=!0}}};W3mConnectingWcWeb=__decorate$H([customElement("w3m-connecting-wc-web")],W3mConnectingWcWeb);const styles$t=i$5`
  :host {
    width: 100%;
  }

  .details-container > wui-flex {
    background: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xxs);
    width: 100%;
  }

  .details-container > wui-flex > button {
    border: none;
    background: none;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);
    cursor: pointer;
  }

  .details-content-container {
    padding: var(--wui-spacing-1xs);
    padding-top: 0px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .details-content-container > wui-flex {
    width: 100%;
  }

  .details-row {
    width: 100%;
    padding: var(--wui-spacing-s);
    padding-left: var(--wui-spacing-s);
    padding-right: var(--wui-spacing-1xs);
    border-radius: calc(var(--wui-border-radius-5xs) + var(--wui-border-radius-4xs));
    background: var(--wui-color-gray-glass-002);
  }

  .details-row-title {
    white-space: nowrap;
  }

  .details-row.provider-free-row {
    padding-right: var(--wui-spacing-xs);
  }
`;var __decorate$G=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const slippageRate=ConstantsUtil$2.CONVERT_SLIPPAGE_TOLERANCE;let WuiSwapDetails=class extends r$7{constructor(){var Mn;super(),this.unsubscribe=[],this.networkName=(Mn=ChainController.state.activeCaipNetwork)==null?void 0:Mn.name,this.detailsOpen=!1,this.sourceToken=SwapController.state.sourceToken,this.toToken=SwapController.state.toToken,this.toTokenAmount=SwapController.state.toTokenAmount,this.sourceTokenPriceInUSD=SwapController.state.sourceTokenPriceInUSD,this.toTokenPriceInUSD=SwapController.state.toTokenPriceInUSD,this.gasPriceInUSD=SwapController.state.gasPriceInUSD,this.priceImpact=SwapController.state.priceImpact,this.maxSlippage=SwapController.state.maxSlippage,this.networkTokenSymbol=SwapController.state.networkTokenSymbol,this.inputError=SwapController.state.inputError,this.unsubscribe.push(SwapController.subscribe(io=>{this.sourceToken=io.sourceToken,this.toToken=io.toToken,this.toTokenAmount=io.toTokenAmount,this.gasPriceInUSD=io.gasPriceInUSD,this.priceImpact=io.priceImpact,this.maxSlippage=io.maxSlippage,this.sourceTokenPriceInUSD=io.sourceTokenPriceInUSD,this.toTokenPriceInUSD=io.toTokenPriceInUSD,this.inputError=io.inputError}))}render(){const Mn=this.toTokenAmount&&this.maxSlippage?NumberUtil.bigNumber(this.toTokenAmount).minus(this.maxSlippage).toString():null;if(!this.sourceToken||!this.toToken||this.inputError)return null;const io=this.sourceTokenPriceInUSD&&this.toTokenPriceInUSD?1/this.toTokenPriceInUSD*this.sourceTokenPriceInUSD:0;return x`
      <wui-flex flexDirection="column" alignItems="center" gap="1xs" class="details-container">
        <wui-flex flexDirection="column">
          <button @click=${this.toggleDetails.bind(this)}>
            <wui-flex justifyContent="space-between" .padding=${["0","xs","0","xs"]}>
              <wui-flex justifyContent="flex-start" flexGrow="1" gap="xs">
                <wui-text variant="small-400" color="fg-100">
                  1 ${this.sourceToken.symbol} =
                  ${UiHelperUtil.formatNumberToLocalString(io,3)}
                  ${this.toToken.symbol}
                </wui-text>
                <wui-text variant="small-400" color="fg-200">
                  $${UiHelperUtil.formatNumberToLocalString(this.sourceTokenPriceInUSD)}
                </wui-text>
              </wui-flex>
              <wui-icon name="chevronBottom"></wui-icon>
            </wui-flex>
          </button>
          ${this.detailsOpen?x`
                <wui-flex flexDirection="column" gap="xs" class="details-content-container">
                  <wui-flex flexDirection="column" gap="xs">
                    <wui-flex
                      justifyContent="space-between"
                      alignItems="center"
                      class="details-row"
                    >
                      <wui-flex alignItems="center" gap="xs">
                        <wui-text class="details-row-title" variant="small-400" color="fg-150">
                          Network cost
                        </wui-text>
                        <w3m-tooltip-trigger
                          text=${`Network cost is paid in ${this.networkTokenSymbol} on the ${this.networkName} network in order to execute transaction.`}
                        >
                          <wui-icon size="xs" color="fg-250" name="infoCircle"></wui-icon>
                        </w3m-tooltip-trigger>
                      </wui-flex>
                      <wui-text variant="small-400" color="fg-100">
                        $${UiHelperUtil.formatNumberToLocalString(this.gasPriceInUSD,3)}
                      </wui-text>
                    </wui-flex>
                  </wui-flex>
                  ${this.priceImpact?x` <wui-flex flexDirection="column" gap="xs">
                        <wui-flex
                          justifyContent="space-between"
                          alignItems="center"
                          class="details-row"
                        >
                          <wui-flex alignItems="center" gap="xs">
                            <wui-text class="details-row-title" variant="small-400" color="fg-150">
                              Price impact
                            </wui-text>
                            <w3m-tooltip-trigger
                              text="Price impact reflects the change in market price due to your trade"
                            >
                              <wui-icon size="xs" color="fg-250" name="infoCircle"></wui-icon>
                            </w3m-tooltip-trigger>
                          </wui-flex>
                          <wui-flex>
                            <wui-text variant="small-400" color="fg-200">
                              ${UiHelperUtil.formatNumberToLocalString(this.priceImpact,3)}%
                            </wui-text>
                          </wui-flex>
                        </wui-flex>
                      </wui-flex>`:null}
                  ${this.maxSlippage&&this.sourceToken.symbol?x`<wui-flex flexDirection="column" gap="xs">
                        <wui-flex
                          justifyContent="space-between"
                          alignItems="center"
                          class="details-row"
                        >
                          <wui-flex alignItems="center" gap="xs">
                            <wui-text class="details-row-title" variant="small-400" color="fg-150">
                              Max. slippage
                            </wui-text>
                            <w3m-tooltip-trigger
                              text=${`Max slippage sets the minimum amount you must receive for the transaction to proceed. ${Mn?`Transaction will be reversed if you receive less than ${UiHelperUtil.formatNumberToLocalString(Mn,6)} ${this.toToken.symbol} due to price changes.`:""}`}
                            >
                              <wui-icon size="xs" color="fg-250" name="infoCircle"></wui-icon>
                            </w3m-tooltip-trigger>
                          </wui-flex>
                          <wui-flex>
                            <wui-text variant="small-400" color="fg-200">
                              ${UiHelperUtil.formatNumberToLocalString(this.maxSlippage,6)}
                              ${this.toToken.symbol} ${slippageRate}%
                            </wui-text>
                          </wui-flex>
                        </wui-flex>
                      </wui-flex>`:null}
                  <wui-flex flexDirection="column" gap="xs">
                    <wui-flex
                      justifyContent="space-between"
                      alignItems="center"
                      class="details-row provider-free-row"
                    >
                      <wui-flex alignItems="center" gap="xs">
                        <wui-text class="details-row-title" variant="small-400" color="fg-150">
                          Provider fee
                        </wui-text>
                      </wui-flex>
                      <wui-flex>
                        <wui-text variant="small-400" color="fg-200">0.85%</wui-text>
                      </wui-flex>
                    </wui-flex>
                  </wui-flex>
                </wui-flex>
              `:null}
        </wui-flex>
      </wui-flex>
    `}toggleDetails(){this.detailsOpen=!this.detailsOpen}};WuiSwapDetails.styles=[styles$t];__decorate$G([r$5()],WuiSwapDetails.prototype,"networkName",void 0);__decorate$G([n$6()],WuiSwapDetails.prototype,"detailsOpen",void 0);__decorate$G([r$5()],WuiSwapDetails.prototype,"sourceToken",void 0);__decorate$G([r$5()],WuiSwapDetails.prototype,"toToken",void 0);__decorate$G([r$5()],WuiSwapDetails.prototype,"toTokenAmount",void 0);__decorate$G([r$5()],WuiSwapDetails.prototype,"sourceTokenPriceInUSD",void 0);__decorate$G([r$5()],WuiSwapDetails.prototype,"toTokenPriceInUSD",void 0);__decorate$G([r$5()],WuiSwapDetails.prototype,"gasPriceInUSD",void 0);__decorate$G([r$5()],WuiSwapDetails.prototype,"priceImpact",void 0);__decorate$G([r$5()],WuiSwapDetails.prototype,"maxSlippage",void 0);__decorate$G([r$5()],WuiSwapDetails.prototype,"networkTokenSymbol",void 0);__decorate$G([r$5()],WuiSwapDetails.prototype,"inputError",void 0);WuiSwapDetails=__decorate$G([customElement("w3m-swap-details")],WuiSwapDetails);const styles$s=i$5`
  :host > wui-flex {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    border-radius: var(--wui-border-radius-s);
    background-color: var(--wui-color-gray-glass-002);
    padding: var(--wui-spacing-xl);
    padding-right: var(--wui-spacing-s);
    width: 100%;
    height: 100px;
    box-sizing: border-box;
    box-shadow: inset 0px 0px 0px 1px var(--wui-color-gray-glass-002);
    position: relative;
    transition: box-shadow var(--wui-ease-out-power-1) var(--wui-duration-lg);
    will-change: background-color;
  }

  :host wui-flex.focus {
    box-shadow: inset 0px 0px 0px 1px var(--wui-color-gray-glass-005);
  }

  :host > wui-flex .swap-input,
  :host > wui-flex .swap-token-button {
    z-index: 10;
  }

  :host > wui-flex .swap-input {
    -webkit-mask-image: linear-gradient(
      270deg,
      transparent 0px,
      transparent 8px,
      black 24px,
      black 25px,
      black 32px,
      black 100%
    );
    mask-image: linear-gradient(
      270deg,
      transparent 0px,
      transparent 8px,
      black 24px,
      black 25px,
      black 32px,
      black 100%
    );
  }

  :host > wui-flex .swap-input input {
    background: none;
    border: none;
    height: 42px;
    width: 100%;
    font-size: 32px;
    font-style: normal;
    font-weight: 400;
    line-height: 130%;
    letter-spacing: -1.28px;
    outline: none;
    caret-color: var(--wui-color-accent-100);
    color: var(--wui-color-fg-100);
    padding: 0px;
  }

  :host > wui-flex .swap-input input:focus-visible {
    outline: none;
  }

  :host > wui-flex .swap-input input::-webkit-outer-spin-button,
  :host > wui-flex .swap-input input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  .max-value-button {
    background-color: transparent;
    border: none;
    cursor: pointer;
    color: var(--wui-color-gray-glass-020);
    padding-left: 0px;
  }

  .market-value {
    min-height: 18px;
  }
`;var __decorate$F=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const MINIMUM_USD_VALUE_TO_CONVERT=5e-5;let W3mSwapInput=class extends r$7{constructor(){super(...arguments),this.focused=!1,this.price=0,this.target="sourceToken",this.onSetAmount=null,this.onSetMaxValue=null}render(){const Mn=this.marketValue||"0",io=NumberUtil.bigNumber(Mn).isGreaterThan("0");return x`
      <wui-flex class="${this.focused?"focus":""}" justifyContent="space-between">
        <wui-flex
          flex="1"
          flexDirection="column"
          alignItems="flex-start"
          justifyContent="center"
          class="swap-input"
        >
          <input
            data-testid="swap-input-${this.target}"
            @focusin=${()=>this.onFocusChange(!0)}
            @focusout=${()=>this.onFocusChange(!1)}
            ?disabled=${this.disabled}
            .value=${this.value}
            @input=${this.dispatchInputChangeEvent}
            @keydown=${this.handleKeydown}
            placeholder="0"
            type="text"
            inputmode="decimal"
          />
          <wui-text class="market-value" variant="small-400" color="fg-200">
            ${io?`$${UiHelperUtil.formatNumberToLocalString(this.marketValue,3)}`:null}
          </wui-text>
        </wui-flex>
        ${this.templateTokenSelectButton()}
      </wui-flex>
    `}handleKeydown(Mn){return InputUtil.numericInputKeyDown(Mn,this.value,io=>{var fo;return(fo=this.onSetAmount)==null?void 0:fo.call(this,this.target,io)})}dispatchInputChangeEvent(Mn){if(!this.onSetAmount)return;const io=Mn.target.value.replace(/[^0-9.]/gu,"");io===","||io==="."?this.onSetAmount(this.target,"0."):io.endsWith(",")?this.onSetAmount(this.target,io.replace(",",".")):this.onSetAmount(this.target,io)}setMaxValueToInput(){var Mn;(Mn=this.onSetMaxValue)==null||Mn.call(this,this.target,this.balance)}templateTokenSelectButton(){return this.token?x`
      <wui-flex
        class="swap-token-button"
        flexDirection="column"
        alignItems="flex-end"
        justifyContent="center"
        gap="xxs"
      >
        <wui-token-button
          data-testid="swap-input-token-${this.target}"
          text=${this.token.symbol}
          imageSrc=${this.token.logoUri}
          @click=${this.onSelectToken.bind(this)}
        >
        </wui-token-button>
        <wui-flex alignItems="center" gap="xxs"> ${this.tokenBalanceTemplate()} </wui-flex>
      </wui-flex>
    `:x` <wui-button
        data-testid="swap-select-token-button-${this.target}"
        class="swap-token-button"
        size="md"
        variant="accent"
        @click=${this.onSelectToken.bind(this)}
      >
        Select token
      </wui-button>`}tokenBalanceTemplate(){const Mn=NumberUtil.multiply(this.balance,this.price),io=Mn?Mn==null?void 0:Mn.isGreaterThan(MINIMUM_USD_VALUE_TO_CONVERT):!1;return x`
      ${io?x`<wui-text variant="small-400" color="fg-200">
            ${UiHelperUtil.formatNumberToLocalString(this.balance,3)}
          </wui-text>`:null}
      ${this.target==="sourceToken"?this.tokenActionButtonTemplate(io):null}
    `}tokenActionButtonTemplate(Mn){return Mn?x` <button class="max-value-button" @click=${this.setMaxValueToInput.bind(this)}>
        <wui-text color="accent-100" variant="small-600">Max</wui-text>
      </button>`:x` <button class="max-value-button" @click=${this.onBuyToken.bind(this)}>
      <wui-text color="accent-100" variant="small-600">Buy</wui-text>
    </button>`}onFocusChange(Mn){this.focused=Mn}onSelectToken(){EventsController.sendEvent({type:"track",event:"CLICK_SELECT_TOKEN_TO_SWAP"}),RouterController.push("SwapSelectToken",{target:this.target})}onBuyToken(){RouterController.push("OnRampProviders")}};W3mSwapInput.styles=[styles$s];__decorate$F([n$6()],W3mSwapInput.prototype,"focused",void 0);__decorate$F([n$6()],W3mSwapInput.prototype,"balance",void 0);__decorate$F([n$6()],W3mSwapInput.prototype,"value",void 0);__decorate$F([n$6()],W3mSwapInput.prototype,"price",void 0);__decorate$F([n$6()],W3mSwapInput.prototype,"marketValue",void 0);__decorate$F([n$6()],W3mSwapInput.prototype,"disabled",void 0);__decorate$F([n$6()],W3mSwapInput.prototype,"target",void 0);__decorate$F([n$6()],W3mSwapInput.prototype,"token",void 0);__decorate$F([n$6()],W3mSwapInput.prototype,"onSetAmount",void 0);__decorate$F([n$6()],W3mSwapInput.prototype,"onSetMaxValue",void 0);W3mSwapInput=__decorate$F([customElement("w3m-swap-input")],W3mSwapInput);const styles$r=i$5`
  :host {
    width: 100%;
  }

  :host > wui-flex {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    border-radius: var(--wui-border-radius-s);
    padding: var(--wui-spacing-xl);
    padding-right: var(--wui-spacing-s);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0px 0px 0px 1px var(--wui-color-gray-glass-002);
    width: 100%;
    height: 100px;
    box-sizing: border-box;
    position: relative;
  }

  wui-shimmer.market-value {
    opacity: 0;
  }

  :host > wui-flex > svg.input_mask {
    position: absolute;
    inset: 0;
    z-index: 5;
  }

  :host wui-flex .input_mask__border,
  :host wui-flex .input_mask__background {
    transition: fill var(--wui-duration-md) var(--wui-ease-out-power-1);
    will-change: fill;
  }

  :host wui-flex .input_mask__border {
    fill: var(--wui-color-gray-glass-020);
  }

  :host wui-flex .input_mask__background {
    fill: var(--wui-color-gray-glass-002);
  }
`;var __decorate$E=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mSwapInputSkeleton=class extends r$7{constructor(){super(...arguments),this.target="sourceToken"}render(){return x`
      <wui-flex class justifyContent="space-between">
        <wui-flex
          flex="1"
          flexDirection="column"
          alignItems="flex-start"
          justifyContent="center"
          class="swap-input"
          gap="xxs"
        >
          <wui-shimmer width="80px" height="40px" borderRadius="xxs" variant="light"></wui-shimmer>
        </wui-flex>
        ${this.templateTokenSelectButton()}
      </wui-flex>
    `}templateTokenSelectButton(){return x`
      <wui-flex
        class="swap-token-button"
        flexDirection="column"
        alignItems="flex-end"
        justifyContent="center"
        gap="xxs"
      >
        <wui-shimmer width="80px" height="40px" borderRadius="3xl" variant="light"></wui-shimmer>
      </wui-flex>
    `}};W3mSwapInputSkeleton.styles=[styles$r];__decorate$E([n$6()],W3mSwapInputSkeleton.prototype,"target",void 0);W3mSwapInputSkeleton=__decorate$E([customElement("w3m-swap-input-skeleton")],W3mSwapInputSkeleton);const styles$q=i$5`
  :host {
    height: 64px;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards var(--wui-ease-out-power-2),
      slide-down-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards var(--wui-ease-out-power-2),
      slide-up-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-icon-link[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`;var __decorate$D=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const BETA_SCREENS=["SmartSessionList"];function headings(){var Ao,Lo,Wo,jo,zo,Vo,Go;const Fn=(Lo=(Ao=RouterController.state.data)==null?void 0:Ao.connector)==null?void 0:Lo.name,Mn=(jo=(Wo=RouterController.state.data)==null?void 0:Wo.wallet)==null?void 0:jo.name,io=(Vo=(zo=RouterController.state.data)==null?void 0:zo.network)==null?void 0:Vo.name,fo=Mn??Fn,mo=ConnectorController.getConnectors();return{Connect:`Connect ${mo.length===1&&((Go=mo[0])==null?void 0:Go.id)==="w3m-email"?"Email":""} Wallet`,Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",ConnectingExternal:fo??"Connect Wallet",ConnectingWalletConnect:fo??"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview convert",Downloads:fo?`Get ${fo}`:"Downloads",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Profile:void 0,SwitchNetwork:io??"Switch Network",SwitchAddress:"Switch Address",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade your Wallet",UpgradeToSmartAccount:void 0,UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select token",SwapPreview:"Preview swap",WalletSend:"Send",WalletSendPreview:"Review send",WalletSendSelectToken:"Select Token",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a wallet?",ConnectWallets:"Connect wallet",ConnectSocials:"All socials",ConnectingSocial:AccountController.state.socialProvider?AccountController.state.socialProvider:"Connect Social",ConnectingMultiChain:"Select chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In"}}let W3mHeader=class extends r$7{constructor(){super(),this.unsubscribe=[],this.heading=headings()[RouterController.state.view],this.network=ChainController.state.activeCaipNetwork,this.buffering=!1,this.showBack=!1,this.prevHistoryLength=1,this.view=RouterController.state.view,this.viewDirection="",this.headerText=headings()[RouterController.state.view],this.unsubscribe.push(RouterController.subscribeKey("view",Mn=>{setTimeout(()=>{this.view=Mn,this.headerText=headings()[Mn]},ConstantsUtil.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),ConnectionController.subscribeKey("buffering",Mn=>this.buffering=Mn),ChainController.subscribeKey("activeCaipNetwork",Mn=>this.network=Mn))}disconnectCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){return x`
      <wui-flex .padding=${this.getPadding()} justifyContent="space-between" alignItems="center">
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `}onWalletHelp(){EventsController.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),RouterController.push("WhatIsAWallet")}async onClose(){RouterController.state.view==="UnsupportedChain"||await SIWXUtil.isSIWXCloseDisabled()?ModalController.shake():ModalController.close()}rightHeaderTemplate(){var io,fo;const Mn=(fo=(io=OptionsController==null?void 0:OptionsController.state)==null?void 0:io.features)==null?void 0:fo.smartSessions;return RouterController.state.view!=="Account"||!Mn?this.closeButtonTemplate():x`<wui-flex>
      <wui-icon-link
        icon="clock"
        @click=${()=>RouterController.push("SmartSessionList")}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-link>
      ${this.closeButtonTemplate()}
    </wui-flex> `}closeButtonTemplate(){return x`
      <wui-icon-link
        ?disabled=${this.buffering}
        icon="close"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-link>
    `}titleTemplate(){const Mn=BETA_SCREENS.includes(this.view);return x`
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="xs"
      >
        <wui-text variant="paragraph-700" color="fg-100" data-testid="w3m-header-text"
          >${this.headerText}</wui-text
        >
        ${Mn?x`<wui-tag variant="main">Beta</wui-tag>`:null}
      </wui-flex>
    `}leftHeaderTemplate(){var Wo;const{view:Mn}=RouterController.state,io=Mn==="Connect",fo=Mn==="ApproveTransaction",mo=Mn==="UpgradeToSmartAccount",$o=Mn==="ConnectingSiwe",Ao=Mn==="Account",Lo=fo||mo||$o;return Ao?x`<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${o$3((Wo=this.network)==null?void 0:Wo.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${o$3(AssetUtil.getNetworkImage(this.network))}
      ></wui-select>`:this.showBack&&!Lo?x`<wui-icon-link
        id="dynamic"
        icon="chevronLeft"
        ?disabled=${this.buffering}
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-link>`:x`<wui-icon-link
      data-hidden=${!io}
      id="dynamic"
      icon="helpCircle"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-link>`}onNetworks(){this.isAllowedNetworkSwitch()&&(EventsController.sendEvent({type:"track",event:"CLICK_NETWORKS"}),RouterController.push("Networks"))}isAllowedNetworkSwitch(){const Mn=ChainController.getAllRequestedCaipNetworks(),io=Mn?Mn.length>1:!1,fo=Mn==null?void 0:Mn.find(({id:mo})=>{var $o;return mo===(($o=this.network)==null?void 0:$o.id)});return io||!fo}getPadding(){return this.heading?["l","2l","l","2l"]:["0","2l","0","2l"]}onViewChange(){const{history:Mn}=RouterController.state;let io=ConstantsUtil.VIEW_DIRECTION.Next;Mn.length<this.prevHistoryLength&&(io=ConstantsUtil.VIEW_DIRECTION.Prev),this.prevHistoryLength=Mn.length,this.viewDirection=io}async onHistoryChange(){var fo;const{history:Mn}=RouterController.state,io=(fo=this.shadowRoot)==null?void 0:fo.querySelector("#dynamic");Mn.length>1&&!this.showBack&&io?(await io.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,io.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):Mn.length<=1&&this.showBack&&io&&(await io.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,io.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){RouterController.goBack()}};W3mHeader.styles=styles$q;__decorate$D([r$5()],W3mHeader.prototype,"heading",void 0);__decorate$D([r$5()],W3mHeader.prototype,"network",void 0);__decorate$D([r$5()],W3mHeader.prototype,"buffering",void 0);__decorate$D([r$5()],W3mHeader.prototype,"showBack",void 0);__decorate$D([r$5()],W3mHeader.prototype,"prevHistoryLength",void 0);__decorate$D([r$5()],W3mHeader.prototype,"view",void 0);__decorate$D([r$5()],W3mHeader.prototype,"viewDirection",void 0);__decorate$D([r$5()],W3mHeader.prototype,"headerText",void 0);W3mHeader=__decorate$D([customElement("w3m-header")],W3mHeader);var __decorate$C=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mHelpWidget=class extends r$7{constructor(){super(...arguments),this.data=[]}render(){return x`
      <wui-flex flexDirection="column" alignItems="center" gap="l">
        ${this.data.map(Mn=>x`
            <wui-flex flexDirection="column" alignItems="center" gap="xl">
              <wui-flex flexDirection="row" justifyContent="center" gap="1xs">
                ${Mn.images.map(io=>x`<wui-visual name=${io}></wui-visual>`)}
              </wui-flex>
            </wui-flex>
            <wui-flex flexDirection="column" alignItems="center" gap="xxs">
              <wui-text variant="paragraph-500" color="fg-100" align="center">
                ${Mn.title}
              </wui-text>
              <wui-text variant="small-500" color="fg-200" align="center">${Mn.text}</wui-text>
            </wui-flex>
          `)}
      </wui-flex>
    `}};__decorate$C([n$6({type:Array})],W3mHelpWidget.prototype,"data",void 0);W3mHelpWidget=__decorate$C([customElement("w3m-help-widget")],W3mHelpWidget);const styles$p=i$5`
  :host {
    width: 100%;
  }

  :host > wui-flex {
    width: 100%;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xs);
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: var(--wui-spacing-s);
  }

  :host > wui-flex:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  .purchase-image-container {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    width: var(--wui-icon-box-size-lg);
    height: var(--wui-icon-box-size-lg);
  }

  .purchase-image-container wui-image {
    width: 100%;
    height: 100%;
    position: relative;
    border-radius: calc(var(--wui-icon-box-size-lg) / 2);
  }

  .purchase-image-container wui-image::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    border-radius: calc(var(--wui-icon-box-size-lg) / 2);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  .purchase-image-container wui-icon-box {
    position: absolute;
    right: 0;
    bottom: 0;
    transform: translate(20%, 20%);
  }
`;var __decorate$B=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mOnRampActivityItem=class extends r$7{constructor(){super(...arguments),this.disabled=!1,this.color="inherit",this.label="Bought",this.purchaseValue="",this.purchaseCurrency="",this.date="",this.completed=!1,this.inProgress=!1,this.failed=!1,this.onClick=null,this.symbol=""}firstUpdated(){this.icon||this.fetchTokenImage()}render(){return x`
      <wui-flex>
        ${this.imageTemplate()}
        <wui-flex flexDirection="column" gap="4xs" flexGrow="1">
          <wui-flex gap="xxs" alignItems="center" justifyContent="flex-start">
            ${this.statusIconTemplate()}
            <wui-text variant="paragraph-500" color="fg-100"> ${this.label}</wui-text>
          </wui-flex>
          <wui-text variant="small-400" color="fg-200">
            + ${this.purchaseValue} ${this.purchaseCurrency}
          </wui-text>
        </wui-flex>
        ${this.inProgress?x`<wui-loading-spinner color="fg-200" size="md"></wui-loading-spinner>`:x`<wui-text variant="micro-700" color="fg-300"><span>${this.date}</span></wui-text>`}
      </wui-flex>
    `}async fetchTokenImage(){await ApiController._fetchTokenImage(this.purchaseCurrency)}statusIconTemplate(){return this.inProgress?null:this.completed?this.boughtIconTemplate():this.errorIconTemplate()}errorIconTemplate(){return x`<wui-icon-box
      size="xxs"
      iconColor="error-100"
      backgroundColor="error-100"
      background="opaque"
      icon="close"
      borderColor="wui-color-bg-125"
    ></wui-icon-box>`}imageTemplate(){const Mn=this.icon||`https://avatar.vercel.sh/andrew.svg?size=50&text=${this.symbol}`;return x`<wui-flex class="purchase-image-container">
      <wui-image src=${Mn}></wui-image>
    </wui-flex>`}boughtIconTemplate(){return x`<wui-icon-box
      size="xxs"
      iconColor="success-100"
      backgroundColor="success-100"
      background="opaque"
      icon="arrowBottom"
      borderColor="wui-color-bg-125"
    ></wui-icon-box>`}};W3mOnRampActivityItem.styles=[styles$p];__decorate$B([n$6({type:Boolean})],W3mOnRampActivityItem.prototype,"disabled",void 0);__decorate$B([n$6()],W3mOnRampActivityItem.prototype,"color",void 0);__decorate$B([n$6()],W3mOnRampActivityItem.prototype,"label",void 0);__decorate$B([n$6()],W3mOnRampActivityItem.prototype,"purchaseValue",void 0);__decorate$B([n$6()],W3mOnRampActivityItem.prototype,"purchaseCurrency",void 0);__decorate$B([n$6()],W3mOnRampActivityItem.prototype,"date",void 0);__decorate$B([n$6({type:Boolean})],W3mOnRampActivityItem.prototype,"completed",void 0);__decorate$B([n$6({type:Boolean})],W3mOnRampActivityItem.prototype,"inProgress",void 0);__decorate$B([n$6({type:Boolean})],W3mOnRampActivityItem.prototype,"failed",void 0);__decorate$B([n$6()],W3mOnRampActivityItem.prototype,"onClick",void 0);__decorate$B([n$6()],W3mOnRampActivityItem.prototype,"symbol",void 0);__decorate$B([n$6()],W3mOnRampActivityItem.prototype,"icon",void 0);W3mOnRampActivityItem=__decorate$B([customElement("w3m-onramp-activity-item")],W3mOnRampActivityItem);const styles$o=i$5`
  :host {
    width: 100%;
  }

  wui-loading-spinner {
    position: absolute;
    top: 50%;
    right: 20px;
    transform: translateY(-50%);
  }

  .currency-container {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: var(--wui-spacing-1xs);
    height: 40px;
    padding: var(--wui-spacing-xs) var(--wui-spacing-1xs) var(--wui-spacing-xs)
      var(--wui-spacing-xs);
    min-width: 95px;
    border-radius: var(--FULL, 1000px);
    border: 1px solid var(--wui-color-gray-glass-002);
    background: var(--wui-color-gray-glass-002);
    cursor: pointer;
  }

  .currency-container > wui-image {
    height: 24px;
    width: 24px;
    border-radius: 50%;
  }
`;var __decorate$A=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mInputCurrency=class extends r$7{constructor(){var Mn;super(),this.unsubscribe=[],this.type="Token",this.value=0,this.currencies=[],this.selectedCurrency=(Mn=this.currencies)==null?void 0:Mn[0],this.currencyImages=AssetController.state.currencyImages,this.tokenImages=AssetController.state.tokenImages,this.unsubscribe.push(OnRampController.subscribeKey("purchaseCurrency",io=>{!io||this.type==="Fiat"||(this.selectedCurrency=this.formatPurchaseCurrency(io))}),OnRampController.subscribeKey("paymentCurrency",io=>{!io||this.type==="Token"||(this.selectedCurrency=this.formatPaymentCurrency(io))}),OnRampController.subscribe(io=>{this.type==="Fiat"?this.currencies=io.purchaseCurrencies.map(this.formatPurchaseCurrency):this.currencies=io.paymentCurrencies.map(this.formatPaymentCurrency)}),AssetController.subscribe(io=>{this.currencyImages={...io.currencyImages},this.tokenImages={...io.tokenImages}}))}firstUpdated(){OnRampController.getAvailableCurrencies()}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){var fo;const Mn=((fo=this.selectedCurrency)==null?void 0:fo.symbol)||"",io=this.currencyImages[Mn]||this.tokenImages[Mn];return x`<wui-input-text type="number" size="lg" value=${this.value}>
      ${this.selectedCurrency?x` <wui-flex
            class="currency-container"
            justifyContent="space-between"
            alignItems="center"
            gap="xxs"
            @click=${()=>ModalController.open({view:`OnRamp${this.type}Select`})}
          >
            <wui-image src=${o$3(io)}></wui-image>
            <wui-text color="fg-100">${this.selectedCurrency.symbol}</wui-text>
          </wui-flex>`:x`<wui-loading-spinner></wui-loading-spinner>`}
    </wui-input-text>`}formatPaymentCurrency(Mn){return{name:Mn.id,symbol:Mn.id}}formatPurchaseCurrency(Mn){return{name:Mn.name,symbol:Mn.symbol}}};W3mInputCurrency.styles=styles$o;__decorate$A([n$6({type:String})],W3mInputCurrency.prototype,"type",void 0);__decorate$A([n$6({type:Number})],W3mInputCurrency.prototype,"value",void 0);__decorate$A([r$5()],W3mInputCurrency.prototype,"currencies",void 0);__decorate$A([r$5()],W3mInputCurrency.prototype,"selectedCurrency",void 0);__decorate$A([r$5()],W3mInputCurrency.prototype,"currencyImages",void 0);__decorate$A([r$5()],W3mInputCurrency.prototype,"tokenImages",void 0);W3mInputCurrency=__decorate$A([customElement("w3m-onramp-input")],W3mInputCurrency);const styles$n=i$5`
  button {
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xs);
    border: none;
    outline: none;
    background-color: var(--wui-color-gray-glass-002);
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: var(--wui-spacing-s);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-005);
  }

  .provider-image {
    width: var(--wui-spacing-3xl);
    min-width: var(--wui-spacing-3xl);
    height: var(--wui-spacing-3xl);
    border-radius: calc(var(--wui-border-radius-xs) - calc(var(--wui-spacing-s) / 2));
    position: relative;
    overflow: hidden;
  }

  .provider-image::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    border-radius: calc(var(--wui-border-radius-xs) - calc(var(--wui-spacing-s) / 2));
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  .network-icon {
    width: var(--wui-spacing-m);
    height: var(--wui-spacing-m);
    border-radius: calc(var(--wui-spacing-m) / 2);
    overflow: hidden;
    box-shadow:
      0 0 0 3px var(--wui-color-gray-glass-002),
      0 0 0 3px var(--wui-color-modal-bg);
    transition: box-shadow var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: box-shadow;
  }

  button:hover .network-icon {
    box-shadow:
      0 0 0 3px var(--wui-color-gray-glass-005),
      0 0 0 3px var(--wui-color-modal-bg);
  }
`;var __decorate$z=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mOnRampProviderItem=class extends r$7{constructor(){super(...arguments),this.disabled=!1,this.color="inherit",this.label="",this.feeRange="",this.loading=!1,this.onClick=null}render(){return x`
      <button ?disabled=${this.disabled} ontouchstart>
        <wui-visual name=${o$3(this.name)} class="provider-image"></wui-visual>
        <wui-flex flexDirection="column" gap="4xs">
          <wui-text variant="paragraph-500" color="fg-100">${this.label}</wui-text>
          <wui-flex alignItems="center" justifyContent="flex-start" gap="l">
            <wui-text variant="tiny-500" color="fg-100">
              <wui-text variant="tiny-400" color="fg-200">Fees</wui-text>
              ${this.feeRange}
            </wui-text>
            <wui-flex gap="xxs">
              <wui-icon name="bank" size="xs" color="fg-150"></wui-icon>
              <wui-icon name="card" size="xs" color="fg-150"></wui-icon>
            </wui-flex>
            ${this.networksTemplate()}
          </wui-flex>
        </wui-flex>
        ${this.loading?x`<wui-loading-spinner color="fg-200" size="md"></wui-loading-spinner>`:x`<wui-icon name="chevronRight" color="fg-200" size="sm"></wui-icon>`}
      </button>
    `}networksTemplate(){var fo;const Mn=ChainController.getAllRequestedCaipNetworks(),io=(fo=Mn==null?void 0:Mn.filter(mo=>{var $o;return($o=mo==null?void 0:mo.assets)==null?void 0:$o.imageId}))==null?void 0:fo.slice(0,5);return x`
      <wui-flex class="networks">
        ${io==null?void 0:io.map(mo=>x`
            <wui-flex class="network-icon">
              <wui-image src=${o$3(AssetUtil.getNetworkImage(mo))}></wui-image>
            </wui-flex>
          `)}
      </wui-flex>
    `}};W3mOnRampProviderItem.styles=[styles$n];__decorate$z([n$6({type:Boolean})],W3mOnRampProviderItem.prototype,"disabled",void 0);__decorate$z([n$6()],W3mOnRampProviderItem.prototype,"color",void 0);__decorate$z([n$6()],W3mOnRampProviderItem.prototype,"name",void 0);__decorate$z([n$6()],W3mOnRampProviderItem.prototype,"label",void 0);__decorate$z([n$6()],W3mOnRampProviderItem.prototype,"feeRange",void 0);__decorate$z([n$6({type:Boolean})],W3mOnRampProviderItem.prototype,"loading",void 0);__decorate$z([n$6()],W3mOnRampProviderItem.prototype,"onClick",void 0);W3mOnRampProviderItem=__decorate$z([customElement("w3m-onramp-provider-item")],W3mOnRampProviderItem);const styles$m=i$5`
  wui-flex {
    background-color: var(--wui-color-gray-glass-005);
  }

  a {
    text-decoration: none;
    color: var(--wui-color-fg-175);
    font-weight: 500;
  }
`;var __decorate$y=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mLegalFooter=class extends r$7{render(){var mo;const{termsConditionsUrl:Mn,privacyPolicyUrl:io}=OptionsController.state,fo=(mo=OptionsController.state.features)==null?void 0:mo.legalCheckbox;return!Mn&&!io||fo?null:x`
      <wui-flex .padding=${["m","s","s","s"]} justifyContent="center">
        <wui-text color="fg-250" variant="small-400" align="center">
          By connecting your wallet, you agree to our <br />
          ${this.termsTemplate()} ${this.andTemplate()} ${this.privacyTemplate()}
        </wui-text>
      </wui-flex>
    `}andTemplate(){const{termsConditionsUrl:Mn,privacyPolicyUrl:io}=OptionsController.state;return Mn&&io?"and":""}termsTemplate(){const{termsConditionsUrl:Mn}=OptionsController.state;return Mn?x`<a href=${Mn}>Terms of Service</a>`:null}privacyTemplate(){const{privacyPolicyUrl:Mn}=OptionsController.state;return Mn?x`<a href=${Mn}>Privacy Policy</a>`:null}};W3mLegalFooter.styles=[styles$m];W3mLegalFooter=__decorate$y([customElement("w3m-legal-footer")],W3mLegalFooter);const styles$l=i$5`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  wui-checkbox {
    padding: var(--wui-spacing-s);
  }
  a {
    text-decoration: none;
    color: var(--wui-color-fg-150);
    font-weight: 500;
  }
`;var __decorate$x=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mLegalCheckbox=class extends r$7{render(){var mo;const{termsConditionsUrl:Mn,privacyPolicyUrl:io}=OptionsController.state,fo=(mo=OptionsController.state.features)==null?void 0:mo.legalCheckbox;return!Mn&&!io||!fo?null:x`
      <wui-checkbox data-testid="wui-checkbox">
        <wui-text color="fg-250" variant="small-400" align="left">
          I agree to our ${this.termsTemplate()} ${this.andTemplate()} ${this.privacyTemplate()}
        </wui-text>
      </wui-checkbox>
    `}andTemplate(){const{termsConditionsUrl:Mn,privacyPolicyUrl:io}=OptionsController.state;return Mn&&io?"and":""}termsTemplate(){const{termsConditionsUrl:Mn}=OptionsController.state;return Mn?x`<a rel="noreferrer" target="_blank" href=${Mn}>terms of service</a>`:null}privacyTemplate(){const{privacyPolicyUrl:Mn}=OptionsController.state;return Mn?x`<a rel="noreferrer" target="_blank" href=${Mn}>privacy policy</a>`:null}};W3mLegalCheckbox.styles=[styles$l];W3mLegalCheckbox=__decorate$x([customElement("w3m-legal-checkbox")],W3mLegalCheckbox);const styles$k=i$5`
  :host {
    display: block;
    padding: 0 var(--wui-spacing-xl) var(--wui-spacing-xl);
  }
`;var __decorate$w=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mMobileDownloadLinks=class extends r$7{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;const{name:Mn,app_store:io,play_store:fo,chrome_store:mo,homepage:$o}=this.wallet,Ao=CoreHelperUtil.isMobile(),Lo=CoreHelperUtil.isIos(),Wo=CoreHelperUtil.isAndroid(),jo=[io,fo,$o,mo].filter(Boolean).length>1,zo=UiHelperUtil.getTruncateString({string:Mn,charsStart:12,charsEnd:0,truncate:"end"});return jo&&!Ao?x`
        <wui-cta-button
          label=${`Don't have ${zo}?`}
          buttonLabel="Get"
          @click=${()=>RouterController.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!jo&&$o?x`
        <wui-cta-button
          label=${`Don't have ${zo}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:io&&Lo?x`
        <wui-cta-button
          label=${`Don't have ${zo}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:fo&&Wo?x`
        <wui-cta-button
          label=${`Don't have ${zo}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){var Mn;(Mn=this.wallet)!=null&&Mn.app_store&&CoreHelperUtil.openHref(this.wallet.app_store,"_blank")}onPlayStore(){var Mn;(Mn=this.wallet)!=null&&Mn.play_store&&CoreHelperUtil.openHref(this.wallet.play_store,"_blank")}onHomePage(){var Mn;(Mn=this.wallet)!=null&&Mn.homepage&&CoreHelperUtil.openHref(this.wallet.homepage,"_blank")}};W3mMobileDownloadLinks.styles=[styles$k];__decorate$w([n$6({type:Object})],W3mMobileDownloadLinks.prototype,"wallet",void 0);W3mMobileDownloadLinks=__decorate$w([customElement("w3m-mobile-download-links")],W3mMobileDownloadLinks);const styles$j=i$5`
  wui-flex {
    border-top: 1px solid var(--wui-color-gray-glass-005);
  }

  a {
    text-decoration: none;
    color: var(--wui-color-fg-175);
    font-weight: 500;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--wui-spacing-3xs);
  }
`;var __decorate$v=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mOnRampProvidersFooter=class extends r$7{render(){const{termsConditionsUrl:Mn,privacyPolicyUrl:io}=OptionsController.state;return!Mn&&!io?null:x`
      <wui-flex
        .padding=${["m","s","s","s"]}
        flexDirection="column"
        alignItems="center"
        justifyContent="center"
        gap="s"
      >
        <wui-text color="fg-250" variant="small-400" align="center">
          We work with the best providers to give you the lowest fees and best support. More options
          coming soon!
        </wui-text>

        ${this.howDoesItWorkTemplate()}
      </wui-flex>
    `}howDoesItWorkTemplate(){return x` <wui-link @click=${this.onWhatIsBuy.bind(this)}>
      <wui-icon size="xs" color="accent-100" slot="iconLeft" name="helpCircle"></wui-icon>
      How does it work?
    </wui-link>`}onWhatIsBuy(){EventsController.sendEvent({type:"track",event:"SELECT_WHAT_IS_A_BUY",properties:{isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT}}),RouterController.push("WhatIsABuy")}};W3mOnRampProvidersFooter.styles=[styles$j];W3mOnRampProvidersFooter=__decorate$v([customElement("w3m-onramp-providers-footer")],W3mOnRampProvidersFooter);const styles$i=i$5`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`;var __decorate$u=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const presets$1={loading:void 0,success:{backgroundColor:"success-100",iconColor:"success-100",icon:"checkmark"},error:{backgroundColor:"error-100",iconColor:"error-100",icon:"close"}};let W3mSnackBar=class extends r$7{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=SnackController.state.open,this.unsubscribe.push(SnackController.subscribeKey("open",Mn=>{this.open=Mn,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(Mn=>Mn())}render(){const{message:Mn,variant:io,svg:fo}=SnackController.state,mo=presets$1[io],{icon:$o,iconColor:Ao}=fo??mo??{};return x`
      <wui-snackbar
        message=${Mn}
        backgroundColor=${mo==null?void 0:mo.backgroundColor}
        iconColor=${Ao}
        icon=${$o}
        .loading=${io==="loading"}
      ></wui-snackbar>
    `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>SnackController.hide(),2500)):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};W3mSnackBar.styles=styles$i;__decorate$u([r$5()],W3mSnackBar.prototype,"open",void 0);W3mSnackBar=__decorate$u([customElement("w3m-snackbar")],W3mSnackBar);const styles$h=i$5`
  :host {
    display: block;
    position: absolute;
    top: var(--wui-spacing-s);
    left: var(--wui-spacing-l);
    right: var(--wui-spacing-l);
    opacity: 0;
    pointer-events: none;
  }
`;var __decorate$t=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const presets={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"exclamationTriangle"}};let W3mAlertBar=class extends r$7{constructor(){super(),this.unsubscribe=[],this.open=AlertController.state.open,this.onOpen(!0),this.unsubscribe.push(AlertController.subscribeKey("open",Mn=>{this.open=Mn,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){const{message:Mn,variant:io}=AlertController.state,fo=presets[io];return x`
      <wui-alertbar
        message=${Mn}
        backgroundColor=${fo==null?void 0:fo.backgroundColor}
        iconColor=${fo==null?void 0:fo.iconColor}
        icon=${fo==null?void 0:fo.icon}
      ></wui-alertbar>
    `}onOpen(Mn){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):Mn||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};W3mAlertBar.styles=styles$h;__decorate$t([r$5()],W3mAlertBar.prototype,"open",void 0);W3mAlertBar=__decorate$t([customElement("w3m-alertbar")],W3mAlertBar);const styles$g=i$5`
  wui-separator {
    margin: var(--wui-spacing-s) calc(var(--wui-spacing-s) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }

  wui-email-input {
    width: 100%;
  }

  form {
    width: 100%;
    display: block;
    position: relative;
  }

  wui-icon-link,
  wui-loading-spinner {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  wui-icon-link {
    right: var(--wui-spacing-xs);
  }

  wui-loading-spinner {
    right: var(--wui-spacing-m);
  }

  wui-text {
    margin: var(--wui-spacing-xxs) var(--wui-spacing-m) var(--wui-spacing-0) var(--wui-spacing-m);
  }
`;var __decorate$s=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mEmailLoginWidget=class extends r$7{constructor(){super(),this.unsubscribe=[],this.formRef=e$2(),this.connectors=ConnectorController.state.connectors,this.authConnector=this.connectors.find(Mn=>Mn.type==="AUTH"),this.email="",this.loading=!1,this.error="",this.walletGuide="get-started",this.unsubscribe.push(ConnectorController.subscribeKey("connectors",Mn=>{this.connectors=Mn,this.authConnector=Mn.find(io=>io.type==="AUTH")}))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}firstUpdated(){var Mn;(Mn=this.formRef.value)==null||Mn.addEventListener("keydown",io=>{io.key==="Enter"&&this.onSubmitEmail(io)})}render(){var io;const Mn=(io=OptionsController.state.features)==null?void 0:io.email;return!this.authConnector||!Mn?null:x`
      <form ${n$4(this.formRef)} @submit=${this.onSubmitEmail.bind(this)}>
        <wui-email-input
          @focus=${this.onFocusEvent.bind(this)}
          .disabled=${this.loading}
          @inputChange=${this.onEmailInputChange.bind(this)}
          tabIdx=${o$3(this.tabIdx)}
        >
        </wui-email-input>

        ${this.submitButtonTemplate()}${this.loadingTemplate()}
        <input type="submit" hidden />
      </form>
      ${this.templateError()} ${this.separatorTemplate()}
    `}submitButtonTemplate(){return!this.loading&&this.email.length>3?x`
          <wui-icon-link
            size="sm"
            icon="chevronRight"
            iconcolor="accent-100"
            @click=${this.onSubmitEmail.bind(this)}
          >
          </wui-icon-link>
        `:null}separatorTemplate(){var Ao,Lo;const Mn=(Ao=OptionsController.state.features)==null?void 0:Ao.socials,io=this.connectors.length>1,fo=OptionsController.state.enableWallets,mo=(Lo=OptionsController.state.features)==null?void 0:Lo.emailShowWallets;return(Mn&&Mn.length||mo||!io||!fo)&&this.walletGuide==="get-started"||Mn&&Mn.length>0?null:x`
      <wui-flex
        data-testid="w3m-email-login-or-separator"
        .padding=${["xxs","0","0","0"]}
      >
        <wui-separator text="or"></wui-separator>
      </wui-flex>
    `}loadingTemplate(){return this.loading?x`<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>`:null}templateError(){return this.error?x`<wui-text variant="tiny-500" color="error-100">${this.error}</wui-text>`:null}onEmailInputChange(Mn){this.email=Mn.detail.trim(),this.error=""}async onSubmitEmail(Mn){if(![ConstantsUtil$3.CHAIN.EVM,ConstantsUtil$3.CHAIN.SOLANA].find(mo=>mo===ChainController.state.activeChain)){RouterController.push("SwitchActiveChain",{switchToChain:ConstantsUtil$3.CHAIN.EVM});return}try{if(this.loading)return;this.loading=!0,Mn.preventDefault();const mo=ConnectorController.getAuthConnector();if(!mo)throw new Error("w3m-email-login-widget: Auth connector not found");const{action:$o}=await mo.provider.connectEmail({email:this.email});EventsController.sendEvent({type:"track",event:"EMAIL_SUBMITTED"}),$o==="VERIFY_OTP"?(EventsController.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_SENT"}),RouterController.push("EmailVerifyOtp",{email:this.email})):$o==="VERIFY_DEVICE"&&RouterController.push("EmailVerifyDevice",{email:this.email})}catch(mo){const $o=CoreHelperUtil.parseError(mo);$o!=null&&$o.includes("Invalid email")?this.error="Invalid email. Try again.":SnackController.showError(mo)}finally{this.loading=!1}}onFocusEvent(){EventsController.sendEvent({type:"track",event:"EMAIL_LOGIN_SELECTED"})}};W3mEmailLoginWidget.styles=styles$g;__decorate$s([n$6()],W3mEmailLoginWidget.prototype,"tabIdx",void 0);__decorate$s([r$5()],W3mEmailLoginWidget.prototype,"connectors",void 0);__decorate$s([r$5()],W3mEmailLoginWidget.prototype,"authConnector",void 0);__decorate$s([r$5()],W3mEmailLoginWidget.prototype,"email",void 0);__decorate$s([r$5()],W3mEmailLoginWidget.prototype,"loading",void 0);__decorate$s([r$5()],W3mEmailLoginWidget.prototype,"error",void 0);__decorate$s([n$6()],W3mEmailLoginWidget.prototype,"walletGuide",void 0);W3mEmailLoginWidget=__decorate$s([customElement("w3m-email-login-widget")],W3mEmailLoginWidget);const styles$f=i$5`
  wui-flex {
    width: 100%;
  }

  :host > wui-flex:first-child {
    transform: translateY(calc(var(--wui-spacing-xxs) * -1));
  }

  wui-icon-link {
    margin-right: calc(var(--wui-icon-box-size-md) * -1);
  }

  wui-notice-card {
    margin-bottom: var(--wui-spacing-3xs);
  }

  wui-list-item > wui-text {
    flex: 1;
  }

  w3m-transactions-view {
    max-height: 200px;
  }

  .tab-content-container {
    height: 300px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
  }

  .tab-content-container::-webkit-scrollbar {
    display: none;
  }

  .account-button {
    width: auto;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--wui-spacing-s);
    height: 48px;
    padding: var(--wui-spacing-xs);
    padding-right: var(--wui-spacing-s);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: 24px;
    transition: background-color 0.2s linear;
  }

  .account-button:hover {
    background-color: var(--wui-color-gray-glass-005);
  }

  .avatar-container {
    position: relative;
  }

  wui-avatar.avatar {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  wui-avatar.network-avatar {
    width: 16px;
    height: 16px;
    position: absolute;
    left: 100%;
    top: 100%;
    transform: translate(-75%, -75%);
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  .account-links {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .account-links wui-flex {
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1;
    background: red;
    align-items: center;
    justify-content: center;
    height: 48px;
    padding: 10px;
    flex: 1 0 0;
    border-radius: var(--XS, 16px);
    border: 1px solid var(--dark-accent-glass-010, rgba(71, 161, 255, 0.1));
    background: var(--dark-accent-glass-010, rgba(71, 161, 255, 0.1));
    transition:
      background-color var(--wui-ease-out-power-1) var(--wui-duration-md),
      opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color, opacity;
  }

  .account-links wui-flex:hover {
    background: var(--dark-accent-glass-015, rgba(71, 161, 255, 0.15));
  }

  .account-links wui-flex wui-icon {
    width: var(--S, 20px);
    height: var(--S, 20px);
  }

  .account-links wui-flex wui-icon svg path {
    stroke: #667dff;
  }
`;var __decorate$r=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mAccountDefaultWidget=class extends r$7{constructor(){super(),this.unsubscribe=[],this.caipAddress=AccountController.state.caipAddress,this.address=CoreHelperUtil.getPlainAddress(AccountController.state.caipAddress),this.allAccounts=AccountController.state.allAccounts,this.profileImage=AccountController.state.profileImage,this.profileName=AccountController.state.profileName,this.disconnecting=!1,this.balance=AccountController.state.balance,this.balanceSymbol=AccountController.state.balanceSymbol,this.features=OptionsController.state.features,this.unsubscribe.push(AccountController.subscribeKey("caipAddress",Mn=>{this.address=CoreHelperUtil.getPlainAddress(Mn),this.caipAddress=Mn}),AccountController.subscribeKey("balance",Mn=>this.balance=Mn),AccountController.subscribeKey("balanceSymbol",Mn=>this.balanceSymbol=Mn),AccountController.subscribeKey("profileName",Mn=>this.profileName=Mn),AccountController.subscribeKey("profileImage",Mn=>this.profileImage=Mn),OptionsController.subscribeKey("features",Mn=>this.features=Mn),AccountController.subscribeKey("allAccounts",Mn=>{this.allAccounts=Mn}))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){if(!this.caipAddress)return null;const Mn=ChainController.state.activeChain===ConstantsUtil$3.CHAIN.EVM&&this.allAccounts.length>1;return x`<wui-flex
        flexDirection="column"
        .padding=${["0","xl","m","xl"]}
        alignItems="center"
        gap="l"
      >
        ${Mn?this.multiAccountTemplate():this.singleAccountTemplate()}
        <wui-flex flexDirection="column" alignItems="center">
          <wui-text variant="paragraph-500" color="fg-200">
            ${CoreHelperUtil.formatBalance(this.balance,this.balanceSymbol)}
          </wui-text>
        </wui-flex>
        ${this.explorerBtnTemplate()}
      </wui-flex>

      <wui-flex flexDirection="column" gap="xs" .padding=${["0","s","s","s"]}>
        ${this.authCardTemplate()} <w3m-account-auth-button></w3m-account-auth-button>
        ${this.onrampTemplate()} ${this.swapsTemplate()} ${this.activityTemplate()}
        <wui-list-item
          variant="icon"
          iconVariant="overlay"
          icon="disconnect"
          ?chevron=${!1}
          .loading=${this.disconnecting}
          @click=${this.onDisconnect.bind(this)}
          data-testid="disconnect-button"
        >
          <wui-text variant="paragraph-500" color="fg-200">Disconnect</wui-text>
        </wui-list-item>
      </wui-flex>`}onrampTemplate(){var io;return((io=this.features)==null?void 0:io.onramp)?x`
      <wui-list-item
        data-testid="w3m-account-default-onramp-button"
        iconVariant="blue"
        icon="card"
        ?chevron=${!0}
        @click=${this.handleClickPay.bind(this)}
      >
        <wui-text variant="paragraph-500" color="fg-100">Buy crypto</wui-text>
      </wui-list-item>
    `:null}activityTemplate(){const Mn=ChainController.state.activeChain===ConstantsUtil$3.CHAIN.SOLANA;return x` <wui-list-item
      iconVariant="blue"
      icon="clock"
      iconSize="sm"
      ?chevron=${!Mn}
      ?disabled=${Mn}
      @click=${this.onTransactions.bind(this)}
    >
      <wui-text variant="paragraph-500" color="fg-100" ?disabled=${Mn}> Activity </wui-text>
      ${Mn?x`<wui-tag variant="main">Coming soon</wui-tag>`:""}
    </wui-list-item>`}swapsTemplate(){var fo;const Mn=(fo=this.features)==null?void 0:fo.swaps,io=ChainController.state.activeChain===ConstantsUtil$3.CHAIN.SOLANA;return!Mn||io?null:x`
      <wui-list-item
        iconVariant="blue"
        icon="recycleHorizontal"
        ?chevron=${!0}
        @click=${this.handleClickSwap.bind(this)}
      >
        <wui-text variant="paragraph-500" color="fg-100">Swap</wui-text>
      </wui-list-item>
    `}authCardTemplate(){const Mn=StorageUtil.getConnectedConnector(),io=ConnectorController.getAuthConnector(),{origin:fo}=location;return!io||Mn!=="ID_AUTH"||fo.includes(ConstantsUtil$2.SECURE_SITE)?null:x`
      <wui-notice-card
        @click=${this.onGoToUpgradeView.bind(this)}
        label="Upgrade your wallet"
        description="Transition to a self-custodial wallet"
        icon="wallet"
        data-testid="w3m-wallet-upgrade-card"
      ></wui-notice-card>
    `}handleSwitchAccountsView(){RouterController.push("SwitchAddress")}handleClickPay(){RouterController.push("OnRampProviders")}handleClickSwap(){RouterController.push("Swap")}explorerBtnTemplate(){return AccountController.state.addressExplorerUrl?x`
      <wui-button size="md" variant="neutral" @click=${this.onExplorer.bind(this)}>
        <wui-icon size="sm" color="inherit" slot="iconLeft" name="compass"></wui-icon>
        Block Explorer
        <wui-icon size="sm" color="inherit" slot="iconRight" name="externalLink"></wui-icon>
      </wui-button>
    `:null}singleAccountTemplate(){return x`
      <wui-avatar
        alt=${o$3(this.caipAddress)}
        address=${o$3(CoreHelperUtil.getPlainAddress(this.caipAddress))}
        imageSrc=${o$3(this.profileImage===null?void 0:this.profileImage)}
        data-testid="single-account-avatar"
      ></wui-avatar>
      <wui-flex flexDirection="column" alignItems="center">
        <wui-flex gap="3xs" alignItems="center" justifyContent="center">
          <wui-text variant="large-600" color="fg-100">
            ${this.profileName?UiHelperUtil.getTruncateString({string:this.profileName,charsStart:20,charsEnd:0,truncate:"end"}):UiHelperUtil.getTruncateString({string:this.address||"",charsStart:4,charsEnd:4,truncate:"middle"})}
          </wui-text>
          <wui-icon-link
            size="md"
            icon="copy"
            iconColor="fg-200"
            @click=${this.onCopyAddress}
          ></wui-icon-link> </wui-flex
      ></wui-flex>
    `}multiAccountTemplate(){if(!this.address)throw new Error("w3m-account-view: No account provided");const Mn=this.allAccounts.find(fo=>fo.address===this.address),io=AccountController.state.addressLabels.get(this.address);return x`
      <wui-profile-button-v2
        .onProfileClick=${this.handleSwitchAccountsView.bind(this)}
        address=${o$3(this.address)}
        icon="${(Mn==null?void 0:Mn.type)===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT&&ChainController.state.activeChain===ConstantsUtil$3.CHAIN.EVM?"lightbulb":"mail"}"
        avatarSrc=${o$3(this.profileImage?this.profileImage:void 0)}
        profileName=${o$3(io||this.profileName)}
        .onCopyClick=${this.onCopyAddress.bind(this)}
      ></wui-profile-button-v2>
    `}onCopyAddress(){try{this.address&&(CoreHelperUtil.copyToClopboard(this.address),SnackController.showSuccess("Address copied"))}catch{SnackController.showError("Failed to copy")}}onTransactions(){EventsController.sendEvent({type:"track",event:"CLICK_TRANSACTIONS",properties:{isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT}}),RouterController.push("Transactions")}async onDisconnect(){try{this.disconnecting=!0,await ConnectionController.disconnect(),EventsController.sendEvent({type:"track",event:"DISCONNECT_SUCCESS"}),ModalController.close()}catch{EventsController.sendEvent({type:"track",event:"DISCONNECT_ERROR"}),SnackController.showError("Failed to disconnect")}finally{this.disconnecting=!1}}onExplorer(){const Mn=AccountController.state.addressExplorerUrl;Mn&&CoreHelperUtil.openHref(Mn,"_blank")}onGoToUpgradeView(){EventsController.sendEvent({type:"track",event:"EMAIL_UPGRADE_FROM_MODAL"}),RouterController.push("UpgradeEmailWallet")}};W3mAccountDefaultWidget.styles=styles$f;__decorate$r([r$5()],W3mAccountDefaultWidget.prototype,"caipAddress",void 0);__decorate$r([r$5()],W3mAccountDefaultWidget.prototype,"address",void 0);__decorate$r([r$5()],W3mAccountDefaultWidget.prototype,"allAccounts",void 0);__decorate$r([r$5()],W3mAccountDefaultWidget.prototype,"profileImage",void 0);__decorate$r([r$5()],W3mAccountDefaultWidget.prototype,"profileName",void 0);__decorate$r([r$5()],W3mAccountDefaultWidget.prototype,"disconnecting",void 0);__decorate$r([r$5()],W3mAccountDefaultWidget.prototype,"balance",void 0);__decorate$r([r$5()],W3mAccountDefaultWidget.prototype,"balanceSymbol",void 0);__decorate$r([r$5()],W3mAccountDefaultWidget.prototype,"features",void 0);W3mAccountDefaultWidget=__decorate$r([customElement("w3m-account-default-widget")],W3mAccountDefaultWidget);const styles$e=i$5`
  wui-flex {
    width: 100%;
  }

  wui-promo {
    position: absolute;
    top: -32px;
  }

  wui-profile-button {
    margin-top: calc(-1 * var(--wui-spacing-2l));
  }

  wui-promo + wui-profile-button {
    margin-top: var(--wui-spacing-2l);
  }

  wui-tabs {
    width: 100%;
  }

  .contentContainer {
    height: 280px;
  }

  .contentContainer > wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-xxs);
  }

  .contentContainer > .textContent {
    width: 65%;
  }
`;var __decorate$q=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const TABS=3,TABS_PADDING=48,MODAL_MOBILE_VIEW_PX=430;let W3mAccountWalletFeaturesWidget=class extends r$7{constructor(){super(),this.unsubscribe=[],this.address=AccountController.state.address,this.profileImage=AccountController.state.profileImage,this.profileName=AccountController.state.profileName,this.smartAccountDeployed=AccountController.state.smartAccountDeployed,this.network=ChainController.state.activeCaipNetwork,this.currentTab=AccountController.state.currentTab,this.tokenBalance=AccountController.state.tokenBalance,this.preferredAccountType=AccountController.state.preferredAccountType,this.features=OptionsController.state.features,this.unsubscribe.push(AccountController.subscribe(Mn=>{Mn.address?(this.address=Mn.address,this.profileImage=Mn.profileImage,this.profileName=Mn.profileName,this.currentTab=Mn.currentTab,this.tokenBalance=Mn.tokenBalance,this.smartAccountDeployed=Mn.smartAccountDeployed,this.preferredAccountType=Mn.preferredAccountType):ModalController.close()}),ChainController.subscribeKey("activeCaipNetwork",Mn=>this.network=Mn),OptionsController.subscribeKey("features",Mn=>this.features=Mn)),this.watchSwapValues()}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn()),clearInterval(this.watchTokenBalance)}firstUpdated(){AccountController.fetchTokenBalance()}render(){if(!this.address)throw new Error("w3m-account-view: No account provided");const Mn=AssetUtil.getNetworkImage(this.network);return x`<wui-flex
      flexDirection="column"
      .padding=${["0","xl","m","xl"]}
      alignItems="center"
      gap="m"
    >
      ${this.network&&x`<wui-network-icon .network=${this.network}></wui-network-icon>`}
      ${this.activateAccountTemplate()}
      <wui-profile-button
        @click=${this.onProfileButtonClick.bind(this)}
        address=${o$3(this.address)}
        networkSrc=${o$3(Mn)}
        icon="chevronBottom"
        avatarSrc=${o$3(this.profileImage?this.profileImage:void 0)}
        profileName=${this.profileName}
        data-testid="w3m-profile-button"
      ></wui-profile-button>
      ${this.tokenBalanceTemplate()}
      <wui-flex gap="s">
        <w3m-tooltip-trigger text="Buy">
          <wui-icon-button
            data-testid="wallet-features-onramp-button"
            @click=${this.onBuyClick.bind(this)}
            icon="card"
          ></wui-icon-button>
        </w3m-tooltip-trigger>
        ${this.swapsTemplate()}
        <w3m-tooltip-trigger text="Receive">
          <wui-icon-button
            data-testid="wallet-features-receive-button"
            @click=${this.onReceiveClick.bind(this)}
            icon="arrowBottomCircle"
          >
          </wui-icon-button>
        </w3m-tooltip-trigger>
        <w3m-tooltip-trigger text="Send">
          <wui-icon-button
            data-testid="wallet-features-send-button"
            @click=${this.onSendClick.bind(this)}
            icon="send"
          ></wui-icon-button>
        </w3m-tooltip-trigger>
      </wui-flex>

      <wui-tabs
        .onTabChange=${this.onTabChange.bind(this)}
        .activeTab=${this.currentTab}
        localTabWidth=${CoreHelperUtil.isMobile()&&window.innerWidth<MODAL_MOBILE_VIEW_PX?`${(window.innerWidth-TABS_PADDING)/TABS}px`:"104px"}
        .tabs=${ConstantsUtil.ACCOUNT_TABS}
      ></wui-tabs>
      ${this.listContentTemplate()}
    </wui-flex>`}swapsTemplate(){var io;return((io=this.features)==null?void 0:io.swaps)?x`
      <w3m-tooltip-trigger text="Swap">
        <wui-icon-button
          data-testid="wallet-features-swap-button"
          @click=${this.onSwapClick.bind(this)}
          icon="recycleHorizontal"
        >
        </wui-icon-button>
      </w3m-tooltip-trigger>
    `:null}watchSwapValues(){this.watchTokenBalance=setInterval(()=>AccountController.fetchTokenBalance(),1e4)}listContentTemplate(){return this.currentTab===0?x`<w3m-account-tokens-widget></w3m-account-tokens-widget>`:this.currentTab===1?x`<w3m-account-nfts-widget></w3m-account-nfts-widget>`:this.currentTab===2?x`<w3m-account-activity-widget></w3m-account-activity-widget>`:x`<w3m-account-tokens-widget></w3m-account-tokens-widget>`}tokenBalanceTemplate(){var Mn;if(this.tokenBalance&&((Mn=this.tokenBalance)==null?void 0:Mn.length)>=0){const io=CoreHelperUtil.calculateBalance(this.tokenBalance),{dollars:fo="0",pennies:mo="00"}=CoreHelperUtil.formatTokenBalance(io);return x`<wui-balance dollars=${fo} pennies=${mo}></wui-balance>`}return x`<wui-balance dollars="0" pennies="00"></wui-balance>`}activateAccountTemplate(){return!ChainController.checkIfSmartAccountEnabled()||this.preferredAccountType!==W3mFrameRpcConstants.ACCOUNT_TYPES.EOA||this.smartAccountDeployed?null:x` <wui-promo
      text=${"Activate your account"}
      @click=${this.onUpdateToSmartAccount.bind(this)}
      data-testid="activate-smart-account-promo"
    ></wui-promo>`}onTabChange(Mn){AccountController.setCurrentTab(Mn)}onProfileButtonClick(){RouterController.push("Profile")}onBuyClick(){RouterController.push("OnRampProviders")}onSwapClick(){var Mn,io,fo;(Mn=this.network)!=null&&Mn.caipNetworkId&&!ConstantsUtil$2.SWAP_SUPPORTED_NETWORKS.includes((io=this.network)==null?void 0:io.caipNetworkId)?RouterController.push("UnsupportedChain",{swapUnsupportedChain:!0}):(EventsController.sendEvent({type:"track",event:"OPEN_SWAP",properties:{network:((fo=this.network)==null?void 0:fo.caipNetworkId)||"",isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT}}),RouterController.push("Swap"))}onReceiveClick(){RouterController.push("WalletReceive")}onSendClick(){var Mn;EventsController.sendEvent({type:"track",event:"OPEN_SEND",properties:{network:((Mn=this.network)==null?void 0:Mn.caipNetworkId)||"",isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT}}),RouterController.push("WalletSend")}onUpdateToSmartAccount(){RouterController.push("UpgradeToSmartAccount")}};W3mAccountWalletFeaturesWidget.styles=styles$e;__decorate$q([r$5()],W3mAccountWalletFeaturesWidget.prototype,"watchTokenBalance",void 0);__decorate$q([r$5()],W3mAccountWalletFeaturesWidget.prototype,"address",void 0);__decorate$q([r$5()],W3mAccountWalletFeaturesWidget.prototype,"profileImage",void 0);__decorate$q([r$5()],W3mAccountWalletFeaturesWidget.prototype,"profileName",void 0);__decorate$q([r$5()],W3mAccountWalletFeaturesWidget.prototype,"smartAccountDeployed",void 0);__decorate$q([r$5()],W3mAccountWalletFeaturesWidget.prototype,"network",void 0);__decorate$q([r$5()],W3mAccountWalletFeaturesWidget.prototype,"currentTab",void 0);__decorate$q([r$5()],W3mAccountWalletFeaturesWidget.prototype,"tokenBalance",void 0);__decorate$q([r$5()],W3mAccountWalletFeaturesWidget.prototype,"preferredAccountType",void 0);__decorate$q([r$5()],W3mAccountWalletFeaturesWidget.prototype,"features",void 0);W3mAccountWalletFeaturesWidget=__decorate$q([customElement("w3m-account-wallet-features-widget")],W3mAccountWalletFeaturesWidget);const styles$d=i$5`
  :host {
    width: 100%;
    max-height: 280px;
    overflow: scroll;
    scrollbar-width: none;
  }

  :host::-webkit-scrollbar {
    display: none;
  }
`;var __decorate$p=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mAccountActivityWidget=class extends r$7{render(){return x`<w3m-activity-list page="account"></w3m-activity-list>`}};W3mAccountActivityWidget.styles=styles$d;W3mAccountActivityWidget=__decorate$p([customElement("w3m-account-activity-widget")],W3mAccountActivityWidget);const styles$c=i$5`
  .contentContainer {
    height: 280px;
  }

  .contentContainer > wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-xxs);
  }

  .contentContainer > .textContent {
    width: 65%;
  }
`;var __decorate$o=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mAccountNftsWidget=class extends r$7{render(){return x`${this.nftTemplate()}`}nftTemplate(){return x` <wui-flex
      class="contentContainer"
      alignItems="center"
      justifyContent="center"
      flexDirection="column"
      gap="l"
    >
      <wui-icon-box
        icon="wallet"
        size="inherit"
        iconColor="fg-200"
        backgroundColor="fg-200"
        iconSize="lg"
      ></wui-icon-box>
      <wui-flex
        class="textContent"
        gap="xs"
        flexDirection="column"
        justifyContent="center"
        flexDirection="column"
      >
        <wui-text variant="paragraph-500" align="center" color="fg-100">Coming soon</wui-text>
        <wui-text variant="small-400" align="center" color="fg-200"
          >Stay tuned for our upcoming NFT feature</wui-text
        >
      </wui-flex>
      <wui-link @click=${this.onReceiveClick.bind(this)}>Receive funds</wui-link>
    </wui-flex>`}onReceiveClick(){RouterController.push("WalletReceive")}};W3mAccountNftsWidget.styles=styles$c;W3mAccountNftsWidget=__decorate$o([customElement("w3m-account-nfts-widget")],W3mAccountNftsWidget);const styles$b=i$5`
  :host {
    width: 100%;
  }

  wui-flex {
    width: 100%;
  }

  .contentContainer {
    max-height: 280px;
    overflow: scroll;
    scrollbar-width: none;
  }

  .contentContainer::-webkit-scrollbar {
    display: none;
  }
`;var __decorate$n=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mAccountTokensWidget=class extends r$7{constructor(){super(),this.unsubscribe=[],this.tokenBalance=AccountController.state.tokenBalance,this.unsubscribe.push(AccountController.subscribe(Mn=>{this.tokenBalance=Mn.tokenBalance}))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){return x`${this.tokenTemplate()}`}tokenTemplate(){var Mn;return this.tokenBalance&&((Mn=this.tokenBalance)==null?void 0:Mn.length)>0?x`<wui-flex class="contentContainer" flexDirection="column" gap="xs">
        ${this.tokenItemTemplate()}
      </wui-flex>`:x` <wui-flex flexDirection="column" gap="xs"
      ><wui-list-description
        @click=${this.onBuyClick.bind(this)}
        text="Buy Crypto"
        description="Easy with card or bank account"
        icon="card"
        iconColor="success-100"
        iconBackgroundColor="success-100"
        tag="popular"
      ></wui-list-description
      ><wui-list-description
        @click=${this.onReceiveClick.bind(this)}
        text="Receive funds"
        description="Transfer tokens on your wallet"
        icon="arrowBottomCircle"
        iconColor="fg-200"
        iconBackgroundColor="fg-200"
      ></wui-list-description
    ></wui-flex>`}tokenItemTemplate(){var Mn;return(Mn=this.tokenBalance)==null?void 0:Mn.map(io=>x`<wui-list-token
          tokenName=${io.name}
          tokenImageUrl=${io.iconUrl}
          tokenAmount=${io.quantity.numeric}
          tokenValue=${io.value}
          tokenCurrency=${io.symbol}
        ></wui-list-token>`)}onReceiveClick(){RouterController.push("WalletReceive")}onBuyClick(){EventsController.sendEvent({type:"track",event:"SELECT_BUY_CRYPTO",properties:{isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT}}),RouterController.push("OnRampProviders")}};W3mAccountTokensWidget.styles=styles$b;__decorate$n([r$5()],W3mAccountTokensWidget.prototype,"tokenBalance",void 0);W3mAccountTokensWidget=__decorate$n([customElement("w3m-account-tokens-widget")],W3mAccountTokensWidget);const styles$a=i$5`
  :host {
    min-height: 100%;
  }

  .group-container[last-group='true'] {
    padding-bottom: var(--wui-spacing-m);
  }

  .contentContainer {
    height: 280px;
  }

  .contentContainer > wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-xxs);
  }

  .contentContainer > .textContent {
    width: 65%;
  }

  .emptyContainer {
    height: 100%;
  }
`;var __decorate$m=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const PAGINATOR_ID="last-transaction",LOADING_ITEM_COUNT=7;let W3mActivityList=class extends r$7{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.page="activity",this.caipAddress=ChainController.state.activeCaipAddress,this.transactionsByYear=TransactionsController.state.transactionsByYear,this.loading=TransactionsController.state.loading,this.empty=TransactionsController.state.empty,this.next=TransactionsController.state.next,TransactionsController.clearCursor(),this.unsubscribe.push(ChainController.subscribeKey("activeCaipAddress",Mn=>{Mn&&this.caipAddress!==Mn&&(TransactionsController.resetTransactions(),TransactionsController.fetchTransactions(Mn)),this.caipAddress=Mn}),ChainController.subscribeKey("activeCaipNetwork",()=>{this.updateTransactionView()}),TransactionsController.subscribe(Mn=>{this.transactionsByYear=Mn.transactionsByYear,this.loading=Mn.loading,this.empty=Mn.empty,this.next=Mn.next}))}firstUpdated(){this.updateTransactionView(),this.createPaginationObserver()}updated(){this.setPaginationObserver()}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){return x` ${this.empty?null:this.templateTransactionsByYear()}
    ${this.loading?this.templateLoading():null}
    ${!this.loading&&this.empty?this.templateEmpty():null}`}updateTransactionView(){var fo;const Mn=(fo=ChainController.state.activeCaipNetwork)==null?void 0:fo.caipNetworkId;TransactionsController.state.lastNetworkInView!==Mn&&(TransactionsController.resetTransactions(),this.caipAddress&&TransactionsController.fetchTransactions(CoreHelperUtil.getPlainAddress(this.caipAddress))),TransactionsController.setLastNetworkInView(Mn)}templateTransactionsByYear(){return Object.keys(this.transactionsByYear).sort().reverse().map(io=>{const fo=parseInt(io,10),mo=new Array(12).fill(null).map(($o,Ao)=>{var jo;const Lo=TransactionUtil.getTransactionGroupTitle(fo,Ao),Wo=(jo=this.transactionsByYear[fo])==null?void 0:jo[Ao];return{groupTitle:Lo,transactions:Wo}}).filter(({transactions:$o})=>$o).reverse();return mo.map(({groupTitle:$o,transactions:Ao},Lo)=>{const Wo=Lo===mo.length-1;return Ao?x`
          <wui-flex
            flexDirection="column"
            class="group-container"
            last-group="${Wo?"true":"false"}"
          >
            <wui-flex
              alignItems="center"
              flexDirection="row"
              .padding=${["xs","s","s","s"]}
            >
              <wui-text variant="paragraph-500" color="fg-200">${$o}</wui-text>
            </wui-flex>
            <wui-flex flexDirection="column" gap="xs">
              ${this.templateTransactions(Ao,Wo)}
            </wui-flex>
          </wui-flex>
        `:null})})}templateRenderTransaction(Mn,io){const{date:fo,descriptions:mo,direction:$o,isAllNFT:Ao,images:Lo,status:Wo,transfers:jo,type:zo}=this.getTransactionListItemProps(Mn),Vo=(jo==null?void 0:jo.length)>1;return(jo==null?void 0:jo.length)===2&&!Ao?x`
        <wui-transaction-list-item
          date=${fo}
          .direction=${$o}
          id=${io&&this.next?PAGINATOR_ID:""}
          status=${Wo}
          type=${zo}
          .images=${Lo}
          .descriptions=${mo}
        ></wui-transaction-list-item>
      `:Vo?jo.map((Jo,Qo)=>{const os=TransactionUtil.getTransferDescription(Jo),Cl=io&&Qo===jo.length-1;return x` <wui-transaction-list-item
          date=${fo}
          direction=${Jo.direction}
          id=${Cl&&this.next?PAGINATOR_ID:""}
          status=${Wo}
          type=${zo}
          .onlyDirectionIcon=${!0}
          .images=${[Lo[Qo]]}
          .descriptions=${[os]}
        ></wui-transaction-list-item>`}):x`
      <wui-transaction-list-item
        date=${fo}
        .direction=${$o}
        id=${io&&this.next?PAGINATOR_ID:""}
        status=${Wo}
        type=${zo}
        .images=${Lo}
        .descriptions=${mo}
      ></wui-transaction-list-item>
    `}templateTransactions(Mn,io){return Mn.map((fo,mo)=>{const $o=io&&mo===Mn.length-1;return x`${this.templateRenderTransaction(fo,$o)}`})}emptyStateActivity(){return x`<wui-flex
      class="emptyContainer"
      flexGrow="1"
      flexDirection="column"
      justifyContent="center"
      alignItems="center"
      .padding=${["3xl","xl","3xl","xl"]}
      gap="xl"
    >
      <wui-icon-box
        backgroundColor="gray-glass-005"
        background="gray"
        iconColor="fg-200"
        icon="wallet"
        size="lg"
        ?border=${!0}
        borderColor="wui-color-bg-125"
      ></wui-icon-box>
      <wui-flex flexDirection="column" alignItems="center" gap="xs">
        <wui-text align="center" variant="paragraph-500" color="fg-100"
          >No Transactions yet</wui-text
        >
        <wui-text align="center" variant="small-500" color="fg-200"
          >Start trading on dApps <br />
          to grow your wallet!</wui-text
        >
      </wui-flex>
    </wui-flex>`}emptyStateAccount(){return x`<wui-flex
      class="contentContainer"
      alignItems="center"
      justifyContent="center"
      flexDirection="column"
      gap="l"
    >
      <wui-icon-box
        icon="swapHorizontal"
        size="inherit"
        iconColor="fg-200"
        backgroundColor="fg-200"
        iconSize="lg"
      ></wui-icon-box>
      <wui-flex
        class="textContent"
        gap="xs"
        flexDirection="column"
        justifyContent="center"
        flexDirection="column"
      >
        <wui-text variant="paragraph-500" align="center" color="fg-100">No activity yet</wui-text>
        <wui-text variant="small-400" align="center" color="fg-200"
          >Your next transactions will appear here</wui-text
        >
      </wui-flex>
      <wui-link @click=${this.onReceiveClick.bind(this)}>Trade</wui-link>
    </wui-flex>`}templateEmpty(){return this.page==="account"?x`${this.emptyStateAccount()}`:x`${this.emptyStateActivity()}`}templateLoading(){return this.page==="activity"?Array(LOADING_ITEM_COUNT).fill(x` <wui-transaction-list-item-loader></wui-transaction-list-item-loader> `).map(Mn=>Mn):null}onReceiveClick(){RouterController.push("WalletReceive")}createPaginationObserver(){const{projectId:Mn}=OptionsController.state;this.paginationObserver=new IntersectionObserver(([io])=>{io!=null&&io.isIntersecting&&!this.loading&&(TransactionsController.fetchTransactions(CoreHelperUtil.getPlainAddress(this.caipAddress)),EventsController.sendEvent({type:"track",event:"LOAD_MORE_TRANSACTIONS",properties:{address:CoreHelperUtil.getPlainAddress(this.caipAddress),projectId:Mn,cursor:this.next,isSmartAccount:AccountController.state.preferredAccountType===W3mFrameRpcConstants.ACCOUNT_TYPES.SMART_ACCOUNT}}))},{}),this.setPaginationObserver()}setPaginationObserver(){var io,fo,mo;(io=this.paginationObserver)==null||io.disconnect();const Mn=(fo=this.shadowRoot)==null?void 0:fo.querySelector(`#${PAGINATOR_ID}`);Mn&&((mo=this.paginationObserver)==null||mo.observe(Mn))}getTransactionListItemProps(Mn){var Wo,jo,zo,Vo,Go;const io=DateUtil.formatDate((Wo=Mn==null?void 0:Mn.metadata)==null?void 0:Wo.minedAt),fo=TransactionUtil.getTransactionDescriptions(Mn),mo=Mn==null?void 0:Mn.transfers,$o=(jo=Mn==null?void 0:Mn.transfers)==null?void 0:jo[0],Ao=!!$o&&((zo=Mn==null?void 0:Mn.transfers)==null?void 0:zo.every(Jo=>!!Jo.nft_info)),Lo=TransactionUtil.getTransactionImages(mo);return{date:io,direction:$o==null?void 0:$o.direction,descriptions:fo,isAllNFT:Ao,images:Lo,status:(Vo=Mn.metadata)==null?void 0:Vo.status,transfers:mo,type:(Go=Mn.metadata)==null?void 0:Go.operationType}}};W3mActivityList.styles=styles$a;__decorate$m([n$6()],W3mActivityList.prototype,"page",void 0);__decorate$m([r$5()],W3mActivityList.prototype,"caipAddress",void 0);__decorate$m([r$5()],W3mActivityList.prototype,"transactionsByYear",void 0);__decorate$m([r$5()],W3mActivityList.prototype,"loading",void 0);__decorate$m([r$5()],W3mActivityList.prototype,"empty",void 0);__decorate$m([r$5()],W3mActivityList.prototype,"next",void 0);W3mActivityList=__decorate$m([customElement("w3m-activity-list")],W3mActivityList);const styles$9=i$5`
  :host {
    width: 100%;
    height: 100px;
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-gray-glass-002);
    background-color: var(--wui-color-gray-glass-002);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-lg);
    will-change: background-color;
  }

  :host(:hover) {
    background-color: var(--wui-color-gray-glass-005);
  }

  wui-flex {
    width: 100%;
    height: fit-content;
  }

  wui-button {
    width: 100%;
    display: flex;
    justify-content: flex-end;
  }

  wui-input-amount {
    mask-image: linear-gradient(
      270deg,
      transparent 0px,
      transparent 8px,
      black 24px,
      black 25px,
      black 32px,
      black 100%
    );
  }

  .totalValue {
    width: 100%;
  }
`;var __decorate$l=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mInputToken=class extends r$7{render(){return x` <wui-flex
      flexDirection="column"
      gap="4xs"
      .padding=${["xl","s","l","l"]}
    >
      <wui-flex alignItems="center">
        <wui-input-amount
          @inputChange=${this.onInputChange.bind(this)}
          ?disabled=${!this.token&&!0}
          .value=${this.sendTokenAmount?String(this.sendTokenAmount):""}
        ></wui-input-amount>
        ${this.buttonTemplate()}
      </wui-flex>
      <wui-flex alignItems="center" justifyContent="space-between">
        ${this.sendValueTemplate()}
        <wui-flex alignItems="center" gap="4xs" justifyContent="flex-end">
          ${this.maxAmountTemplate()} ${this.actionTemplate()}
        </wui-flex>
      </wui-flex>
    </wui-flex>`}buttonTemplate(){return this.token?x`<wui-token-button
        text=${this.token.symbol}
        imageSrc=${this.token.iconUrl}
        @click=${this.handleSelectButtonClick.bind(this)}
      >
      </wui-token-button>`:x`<wui-button
      size="md"
      variant="accent"
      @click=${this.handleSelectButtonClick.bind(this)}
      >Select token</wui-button
    >`}handleSelectButtonClick(){RouterController.push("WalletSendSelectToken")}sendValueTemplate(){if(this.token&&this.sendTokenAmount){const io=this.token.price*this.sendTokenAmount;return x`<wui-text class="totalValue" variant="small-400" color="fg-200"
        >${io?`$${UiHelperUtil.formatNumberToLocalString(io,2)}`:"Incorrect value"}</wui-text
      >`}return null}maxAmountTemplate(){return this.token?this.sendTokenAmount&&this.sendTokenAmount>Number(this.token.quantity.numeric)?x` <wui-text variant="small-400" color="error-100">
          ${UiHelperUtil.roundNumber(Number(this.token.quantity.numeric),6,5)}
        </wui-text>`:x` <wui-text variant="small-400" color="fg-200">
        ${UiHelperUtil.roundNumber(Number(this.token.quantity.numeric),6,5)}
      </wui-text>`:null}actionTemplate(){return this.token?this.sendTokenAmount&&this.sendTokenAmount>Number(this.token.quantity.numeric)?x`<wui-link @click=${this.onBuyClick.bind(this)}>Buy</wui-link>`:x`<wui-link @click=${this.onMaxClick.bind(this)}>Max</wui-link>`:null}onInputChange(Mn){SendController.setTokenAmount(Mn.detail)}onMaxClick(){if(this.token&&typeof this.gasPrice<"u"){const Mn=this.token.address===void 0||Object.values(ConstantsUtil$2.NATIVE_TOKEN_ADDRESS).some(mo=>{var $o;return(($o=this.token)==null?void 0:$o.address)===mo}),io=NumberUtil.bigNumber(this.gasPrice).shiftedBy(-this.token.quantity.decimals),fo=Mn?NumberUtil.bigNumber(this.token.quantity.numeric).minus(io):NumberUtil.bigNumber(this.token.quantity.numeric);SendController.setTokenAmount(Number(fo.toFixed(20)))}}onBuyClick(){RouterController.push("OnRampProviders")}};W3mInputToken.styles=styles$9;__decorate$l([n$6({type:Object})],W3mInputToken.prototype,"token",void 0);__decorate$l([n$6({type:Number})],W3mInputToken.prototype,"sendTokenAmount",void 0);__decorate$l([n$6({type:Number})],W3mInputToken.prototype,"gasPriceInUSD",void 0);__decorate$l([n$6({type:Number})],W3mInputToken.prototype,"gasPrice",void 0);W3mInputToken=__decorate$l([customElement("w3m-input-token")],W3mInputToken);const styles$8=i$5`
  :host {
    width: 100%;
    height: 100px;
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-gray-glass-002);
    background-color: var(--wui-color-gray-glass-002);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-lg);
    will-change: background-color;
    position: relative;
  }

  :host(:hover) {
    background-color: var(--wui-color-gray-glass-005);
  }

  wui-flex {
    width: 100%;
    height: fit-content;
  }

  wui-button {
    display: ruby;
    color: var(--wui-color-fg-100);
    margin: 0 var(--wui-spacing-xs);
  }

  .instruction {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 2;
  }

  .paste {
    display: inline-flex;
  }

  textarea {
    background: transparent;
    width: 100%;
    font-family: var(--w3m-font-family);
    font-size: var(--wui-font-size-medium);
    font-style: normal;
    font-weight: var(--wui-font-weight-light);
    line-height: 130%;
    letter-spacing: var(--wui-letter-spacing-medium);
    color: var(--wui-color-fg-100);
    caret-color: var(--wui-color-accent-100);
    box-sizing: border-box;
    -webkit-appearance: none;
    -moz-appearance: textfield;
    padding: 0px;
    border: none;
    outline: none;
    appearance: none;
    resize: none;
    overflow: hidden;
  }
`;var __decorate$k=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mInputAddress=class extends r$7{constructor(){super(...arguments),this.inputElementRef=e$2(),this.instructionElementRef=e$2(),this.instructionHidden=!!this.value,this.pasting=!1,this.onDebouncedSearch=CoreHelperUtil.debounce(async Mn=>{const io=await ConnectionController.getEnsAddress(Mn);if(SendController.setLoading(!1),io){SendController.setReceiverProfileName(Mn),SendController.setReceiverAddress(io);const fo=await ConnectionController.getEnsAvatar(Mn);SendController.setReceiverProfileImageUrl(fo||void 0)}else SendController.setReceiverAddress(Mn),SendController.setReceiverProfileName(void 0),SendController.setReceiverProfileImageUrl(void 0)})}firstUpdated(){this.value&&(this.instructionHidden=!0),this.checkHidden()}render(){return x` <wui-flex
      @click=${this.onBoxClick.bind(this)}
      flexDirection="column"
      justifyContent="center"
      gap="4xs"
      .padding=${["2xl","l","xl","l"]}
    >
      <wui-text
        ${n$4(this.instructionElementRef)}
        class="instruction"
        color="fg-300"
        variant="medium-400"
      >
        Type or
        <wui-button
          class="paste"
          size="md"
          variant="neutral"
          iconLeft="copy"
          @click=${this.onPasteClick.bind(this)}
        >
          <wui-icon size="sm" color="inherit" slot="iconLeft" name="copy"></wui-icon>
          Paste
        </wui-button>
        address
      </wui-text>
      <textarea
        spellcheck="false"
        ?disabled=${!this.instructionHidden}
        ${n$4(this.inputElementRef)}
        @input=${this.onInputChange.bind(this)}
        @blur=${this.onBlur.bind(this)}
        .value=${this.value??""}
        autocomplete="off"
      >
${this.value??""}</textarea
      >
    </wui-flex>`}async focusInput(){var Mn;this.instructionElementRef.value&&(this.instructionHidden=!0,await this.toggleInstructionFocus(!1),this.instructionElementRef.value.style.pointerEvents="none",(Mn=this.inputElementRef.value)==null||Mn.focus(),this.inputElementRef.value&&(this.inputElementRef.value.selectionStart=this.inputElementRef.value.selectionEnd=this.inputElementRef.value.value.length))}async focusInstruction(){var Mn;this.instructionElementRef.value&&(this.instructionHidden=!1,await this.toggleInstructionFocus(!0),this.instructionElementRef.value.style.pointerEvents="auto",(Mn=this.inputElementRef.value)==null||Mn.blur())}async toggleInstructionFocus(Mn){this.instructionElementRef.value&&await this.instructionElementRef.value.animate([{opacity:Mn?0:1},{opacity:Mn?1:0}],{duration:100,easing:"ease",fill:"forwards"}).finished}onBoxClick(){!this.value&&!this.instructionHidden&&this.focusInput()}onBlur(){!this.value&&this.instructionHidden&&!this.pasting&&this.focusInstruction()}checkHidden(){this.instructionHidden&&this.focusInput()}async onPasteClick(){this.pasting=!0;const Mn=await navigator.clipboard.readText();SendController.setReceiverAddress(Mn),this.focusInput()}onInputChange(Mn){this.pasting=!1;const io=Mn.target;io.value&&!this.instructionHidden&&this.focusInput(),SendController.setLoading(!0),this.onDebouncedSearch(io.value)}};W3mInputAddress.styles=styles$8;__decorate$k([n$6()],W3mInputAddress.prototype,"value",void 0);__decorate$k([r$5()],W3mInputAddress.prototype,"instructionHidden",void 0);__decorate$k([r$5()],W3mInputAddress.prototype,"pasting",void 0);W3mInputAddress=__decorate$k([customElement("w3m-input-address")],W3mInputAddress);const styles$7=i$5`
  :host {
    display: flex;
    width: auto;
    flex-direction: column;
    gap: var(--wui-border-radius-1xs);
    border-radius: var(--wui-border-radius-s);
    background: var(--wui-color-gray-glass-002);
    padding: var(--wui-spacing-s) var(--wui-spacing-1xs) var(--wui-spacing-1xs)
      var(--wui-spacing-1xs);
  }

  wui-text {
    padding: 0 var(--wui-spacing-1xs);
  }

  wui-flex {
    margin-top: var(--wui-spacing-1xs);
  }

  .network {
    cursor: pointer;
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-lg);
    will-change: background-color;
  }

  .network:focus-visible {
    border: 1px solid var(--wui-color-accent-100);
    background-color: var(--wui-color-gray-glass-005);
    -webkit-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  .network:hover {
    background-color: var(--wui-color-gray-glass-005);
  }

  .network:active {
    background-color: var(--wui-color-gray-glass-010);
  }
`;var __decorate$j=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mWalletSendDetails=class extends r$7{render(){return x` <wui-text variant="small-400" color="fg-200">Details</wui-text>
      <wui-flex flexDirection="column" gap="xxs">
        <wui-list-content textTitle="Network cost" textValue="$${o$3(UiHelperUtil.formatNumberToLocalString(this.networkFee,2))}"></wui-list-content></wui-list-content>
        <wui-list-content
          textTitle="Address"
          textValue=${UiHelperUtil.getTruncateString({string:this.receiverAddress??"",charsStart:4,charsEnd:4,truncate:"middle"})}
        >
        </wui-list-content>
        ${this.networkTemplate()}
      </wui-flex>`}networkTemplate(){var Mn;return(Mn=this.caipNetwork)!=null&&Mn.name?x` <wui-list-content
        @click=${()=>this.onNetworkClick(this.caipNetwork)}
        class="network"
        textTitle="Network"
        imageSrc=${o$3(AssetUtil.getNetworkImage(this.caipNetwork))}
      ></wui-list-content>`:null}onNetworkClick(Mn){Mn&&RouterController.push("Networks",{network:Mn})}};W3mWalletSendDetails.styles=styles$7;__decorate$j([n$6()],W3mWalletSendDetails.prototype,"receiverAddress",void 0);__decorate$j([n$6({type:Object})],W3mWalletSendDetails.prototype,"caipNetwork",void 0);__decorate$j([n$6({type:Number})],W3mWalletSendDetails.prototype,"networkFee",void 0);W3mWalletSendDetails=__decorate$j([customElement("w3m-wallet-send-details")],W3mWalletSendDetails);const styles$6=i$5`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px var(--wui-spacing-s) 10px var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);
    color: var(--wui-color-bg-100);
    position: fixed;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--w3m-modal-width) - var(--wui-spacing-xl));
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: var(--wui-color-bg-150);
    border: 1px solid var(--wui-color-gray-glass-005);
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: var(--wui-color-fg-150);
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: var(--wui-color-fg-100);
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: var(--wui-color-bg-150);
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }
`;var __decorate$i=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mTooltip=class extends r$7{constructor(){super(),this.unsubscribe=[],this.open=TooltipController.state.open,this.message=TooltipController.state.message,this.triggerRect=TooltipController.state.triggerRect,this.variant=TooltipController.state.variant,this.unsubscribe.push(TooltipController.subscribe(Mn=>{this.open=Mn.open,this.message=Mn.message,this.triggerRect=Mn.triggerRect,this.variant=Mn.variant}))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){this.dataset.variant=this.variant;const Mn=this.triggerRect.top,io=this.triggerRect.left;return this.style.cssText=`
    --w3m-tooltip-top: ${Mn}px;
    --w3m-tooltip-left: ${io}px;
    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;
    --w3m-tooltip-display: ${this.open?"flex":"none"};
    --w3m-tooltip-opacity: ${this.open?1:0};
    `,x`<wui-flex>
      <wui-icon data-placement="top" color="fg-100" size="inherit" name="cursor"></wui-icon>
      <wui-text color="inherit" variant="small-500">${this.message}</wui-text>
    </wui-flex>`}};W3mTooltip.styles=[styles$6];__decorate$i([r$5()],W3mTooltip.prototype,"open",void 0);__decorate$i([r$5()],W3mTooltip.prototype,"message",void 0);__decorate$i([r$5()],W3mTooltip.prototype,"triggerRect",void 0);__decorate$i([r$5()],W3mTooltip.prototype,"variant",void 0);W3mTooltip=__decorate$i([customElement("w3m-tooltip")],W3mTooltip);const styles$5=i$5`
  :host {
    width: 100%;
    display: block;
  }
`;var __decorate$h=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let WuiTooltipTrigger=class extends r$7{constructor(){super(),this.unsubscribe=[],this.text="",this.open=TooltipController.state.open,this.unsubscribe.push(RouterController.subscribeKey("view",()=>{TooltipController.hide()}),ModalController.subscribeKey("open",Mn=>{Mn||TooltipController.hide()}),TooltipController.subscribeKey("open",Mn=>{this.open=Mn}))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn()),TooltipController.hide()}render(){return x`
      <div
        @pointermove=${this.onMouseEnter.bind(this)}
        @pointerleave=${this.onMouseLeave.bind(this)}
      >
        ${this.renderChildren()}
      </div>
    `}renderChildren(){return x`<slot></slot> `}onMouseEnter(){const Mn=this.getBoundingClientRect();this.open||TooltipController.showTooltip({message:this.text,triggerRect:{width:Mn.width,height:Mn.height,left:Mn.left,top:Mn.top},variant:"shade"})}onMouseLeave(Mn){this.contains(Mn.relatedTarget)||TooltipController.hide()}};WuiTooltipTrigger.styles=[styles$5];__decorate$h([n$6()],WuiTooltipTrigger.prototype,"text",void 0);__decorate$h([r$5()],WuiTooltipTrigger.prototype,"open",void 0);WuiTooltipTrigger=__decorate$h([customElement("w3m-tooltip-trigger")],WuiTooltipTrigger);const styles$4=i$5`
  :host > wui-flex:first-child {
    margin-top: var(--wui-spacing-s);
  }
  wui-separator {
    margin: var(--wui-spacing-m) calc(var(--wui-spacing-m) * -1) var(--wui-spacing-m)
      calc(var(--wui-spacing-m) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }
`;var __decorate$g=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};const MAX_TOP_VIEW=2,MAXIMUM_LENGTH=6;let W3mSocialLoginWidget=class extends r$7{constructor(){super(),this.unsubscribe=[],this.walletGuide="get-started",this.tabIdx=void 0,this.connectors=ConnectorController.state.connectors,this.features=OptionsController.state.features,this.authConnector=this.connectors.find(Mn=>Mn.type==="AUTH"),this.unsubscribe.push(ConnectorController.subscribeKey("connectors",Mn=>{this.connectors=Mn,this.authConnector=this.connectors.find(io=>io.type==="AUTH")}),OptionsController.subscribeKey("features",Mn=>this.features=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){var io;const Mn=(io=this.features)==null?void 0:io.socials;return!this.authConnector||!Mn||!(Mn!=null&&Mn.length)?null:x`
      <wui-flex
        class="container"
        flexDirection="column"
        gap="xs"
        .padding=${["0","0","xs","0"]}
        data-testid="w3m-social-login-widget"
      >
        ${this.topViewTemplate()}${this.bottomViewTemplate()}
      </wui-flex>
      ${this.separatorTemplate()}
    `}topViewTemplate(){var io;const Mn=(io=this.features)==null?void 0:io.socials;return!this.authConnector||!Mn||!(Mn!=null&&Mn.length)?null:Mn.length===2?x` <wui-flex gap="xs">
        ${Mn.slice(0,MAX_TOP_VIEW).map(fo=>x`<wui-logo-select
              data-testid=${`social-selector-${fo}`}
              @click=${()=>{this.onSocialClick(fo)}}
              logo=${fo}
              tabIdx=${o$3(this.tabIdx)}
            ></wui-logo-select>`)}
      </wui-flex>`:x` <wui-list-social
      data-testid=${`social-selector-${Mn==null?void 0:Mn[0]}`}
      @click=${()=>{this.onSocialClick(Mn==null?void 0:Mn[0])}}
      logo=${o$3(Mn[0])}
      align="center"
      name=${`Continue with ${Mn[0]}`}
      tabIdx=${o$3(this.tabIdx)}
    ></wui-list-social>`}bottomViewTemplate(){var io;const Mn=(io=this.features)==null?void 0:io.socials;return!this.authConnector||!Mn||!(Mn!=null&&Mn.length)||Mn.length<=MAX_TOP_VIEW?null:Mn.length>MAXIMUM_LENGTH?x`<wui-flex gap="xs">
        ${Mn.slice(1,MAXIMUM_LENGTH-1).map(fo=>x`<wui-logo-select
              data-testid=${`social-selector-${fo}`}
              @click=${()=>{this.onSocialClick(fo)}}
              logo=${fo}
              tabIdx=${o$3(this.tabIdx)}
            ></wui-logo-select>`)}
        <wui-logo-select
          logo="more"
          tabIdx=${o$3(this.tabIdx)}
          @click=${this.onMoreSocialsClick.bind(this)}
        ></wui-logo-select>
      </wui-flex>`:x`<wui-flex gap="xs">
      ${Mn.slice(1,Mn.length).map(fo=>x`<wui-logo-select
            data-testid=${`social-selector-${fo}`}
            @click=${()=>{this.onSocialClick(fo)}}
            logo=${fo}
            tabIdx=${o$3(this.tabIdx)}
          ></wui-logo-select>`)}
    </wui-flex>`}separatorTemplate(){const Mn=this.connectors.find(fo=>fo.id==="walletConnect"),io=OptionsController.state.enableWallets;return Mn&&io||this.walletGuide==="explore"?x`<wui-separator text="or"></wui-separator>`:null}onMoreSocialsClick(){RouterController.push("ConnectSocials")}async onSocialClick(Mn){var io,fo;if(Mn&&(AccountController.setSocialProvider(Mn,ChainController.state.activeChain),EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:Mn}})),Mn===SocialProviderEnum.Farcaster){RouterController.push("ConnectingFarcaster");const mo=ConnectorController.getAuthConnector();if(mo&&!AccountController.state.farcasterUrl)try{const{url:$o}=await mo.provider.getFarcasterUri();AccountController.setFarcasterUrl($o,ChainController.state.activeChain)}catch($o){RouterController.goBack(),SnackController.showError($o)}}else{RouterController.push("ConnectingSocial");const mo=ConnectorController.getAuthConnector();this.popupWindow=CoreHelperUtil.returnOpenHref("","popupWindow","width=600,height=800,scrollbars=yes");try{if(mo&&Mn){const{uri:$o}=await mo.provider.getSocialRedirectUri({provider:Mn});if(this.popupWindow&&$o)AccountController.setSocialWindow(this.popupWindow,ChainController.state.activeChain),this.popupWindow.location.href=$o;else throw(io=this.popupWindow)==null||io.close(),new Error("Something went wrong")}}catch{(fo=this.popupWindow)==null||fo.close(),SnackController.showError("Something went wrong")}}}};W3mSocialLoginWidget.styles=styles$4;__decorate$g([n$6()],W3mSocialLoginWidget.prototype,"walletGuide",void 0);__decorate$g([n$6()],W3mSocialLoginWidget.prototype,"tabIdx",void 0);__decorate$g([r$5()],W3mSocialLoginWidget.prototype,"connectors",void 0);__decorate$g([r$5()],W3mSocialLoginWidget.prototype,"features",void 0);__decorate$g([r$5()],W3mSocialLoginWidget.prototype,"authConnector",void 0);W3mSocialLoginWidget=__decorate$g([customElement("w3m-social-login-widget")],W3mSocialLoginWidget);var __decorate$f=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mWalletLoginList=class extends r$7{constructor(){super(...arguments),this.tabIdx=void 0}render(){return x`
      <wui-flex flexDirection="column" gap="xs">
        <w3m-connector-list tabIdx=${o$3(this.tabIdx)}></w3m-connector-list>
        <w3m-all-wallets-widget tabIdx=${o$3(this.tabIdx)}></w3m-all-wallets-widget>
      </wui-flex>
    `}};__decorate$f([n$6()],W3mWalletLoginList.prototype,"tabIdx",void 0);W3mWalletLoginList=__decorate$f([customElement("w3m-wallet-login-list")],W3mWalletLoginList);const styles$3=i$5`
  :host {
    margin-top: var(--wui-spacing-3xs);
  }
  wui-separator {
    margin: var(--wui-spacing-m) calc(var(--wui-spacing-m) * -1) var(--wui-spacing-xs)
      calc(var(--wui-spacing-m) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }
`;var __decorate$e=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mSocialLoginList=class extends r$7{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ConnectorController.state.connectors,this.authConnector=this.connectors.find(Mn=>Mn.type==="AUTH"),this.features=OptionsController.state.features,this.unsubscribe.push(ConnectorController.subscribeKey("connectors",Mn=>{this.connectors=Mn,this.authConnector=this.connectors.find(io=>io.type==="AUTH")}),OptionsController.subscribeKey("features",Mn=>this.features=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){var io;const Mn=(io=this.features)==null?void 0:io.socials;return!this.authConnector||!Mn||!(Mn!=null&&Mn.length)?null:x` <wui-flex flexDirection="column" gap="xs">
      ${Mn.map(fo=>x`<wui-list-social
            @click=${()=>{this.onSocialClick(fo)}}
            name=${fo}
            logo=${fo}
            tabIdx=${o$3(this.tabIdx)}
          ></wui-list-social>`)}
    </wui-flex>`}async onSocialClick(Mn){var io,fo;if(Mn&&(AccountController.setSocialProvider(Mn,ChainController.state.activeChain),EventsController.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:Mn}})),Mn===SocialProviderEnum.Farcaster){RouterController.push("ConnectingFarcaster");const mo=ConnectorController.getAuthConnector();if(mo&&!AccountController.state.farcasterUrl)try{const{url:$o}=await mo.provider.getFarcasterUri();AccountController.setFarcasterUrl($o,ChainController.state.activeChain)}catch($o){RouterController.goBack(),SnackController.showError($o)}}else{RouterController.push("ConnectingSocial");const mo=ConnectorController.getAuthConnector();this.popupWindow=CoreHelperUtil.returnOpenHref("","popupWindow","width=600,height=800,scrollbars=yes");try{if(mo&&Mn){const{uri:$o}=await mo.provider.getSocialRedirectUri({provider:Mn});if(this.popupWindow&&$o)AccountController.setSocialWindow(this.popupWindow,ChainController.state.activeChain),this.popupWindow.location.href=$o;else throw(io=this.popupWindow)==null||io.close(),new Error("Something went wrong")}}catch{(fo=this.popupWindow)==null||fo.close(),SnackController.showError("Something went wrong")}}}};W3mSocialLoginList.styles=styles$3;__decorate$e([n$6()],W3mSocialLoginList.prototype,"tabIdx",void 0);__decorate$e([r$5()],W3mSocialLoginList.prototype,"connectors",void 0);__decorate$e([r$5()],W3mSocialLoginList.prototype,"authConnector",void 0);__decorate$e([r$5()],W3mSocialLoginList.prototype,"features",void 0);W3mSocialLoginList=__decorate$e([customElement("w3m-social-login-list")],W3mSocialLoginList);var __decorate$d=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectAnnouncedWidget=class extends r$7{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ConnectorController.state.connectors,this.unsubscribe.push(ConnectorController.subscribeKey("connectors",Mn=>this.connectors=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){const Mn=this.connectors.filter(io=>io.type==="ANNOUNCED");return Mn!=null&&Mn.length?x`
      <wui-flex flexDirection="column" gap="xs">
        ${Mn.map(io=>{var fo,mo;return(fo=io.info)!=null&&fo.rdns&&ApiController.state.excludedRDNS&&ApiController.state.excludedRDNS.includes((mo=io==null?void 0:io.info)==null?void 0:mo.rdns)?null:x`
            <wui-list-wallet
              imageSrc=${o$3(AssetUtil.getConnectorImage(io))}
              name=${io.name??"Unknown"}
              @click=${()=>this.onConnector(io)}
              tagVariant="success"
              tagLabel="installed"
              data-testid=${`wallet-selector-${io.id}`}
              .installed=${!0}
              tabIdx=${o$3(this.tabIdx)}
            >
            </wui-list-wallet>
          `})}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(Mn){Mn.id==="walletConnect"?CoreHelperUtil.isMobile()?RouterController.push("AllWallets"):RouterController.push("ConnectingWalletConnect"):RouterController.push("ConnectingExternal",{connector:Mn})}};__decorate$d([n$6()],W3mConnectAnnouncedWidget.prototype,"tabIdx",void 0);__decorate$d([r$5()],W3mConnectAnnouncedWidget.prototype,"connectors",void 0);W3mConnectAnnouncedWidget=__decorate$d([customElement("w3m-connect-announced-widget")],W3mConnectAnnouncedWidget);var __decorate$c=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectCustomWidget=class extends r$7{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ConnectorController.state.connectors,this.unsubscribe.push(ConnectorController.subscribeKey("connectors",Mn=>this.connectors=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){const{customWallets:Mn}=OptionsController.state;if(!(Mn!=null&&Mn.length))return this.style.cssText="display: none",null;const io=this.filterOutDuplicateWallets(Mn);return x`<wui-flex flexDirection="column" gap="xs">
      ${io.map(fo=>x`
          <wui-list-wallet
            imageSrc=${o$3(AssetUtil.getWalletImage(fo))}
            name=${fo.name??"Unknown"}
            @click=${()=>this.onConnectWallet(fo)}
            data-testid=${`wallet-selector-${fo.id}`}
            tabIdx=${o$3(this.tabIdx)}
          >
          </wui-list-wallet>
        `)}
    </wui-flex>`}filterOutDuplicateWallets(Mn){const io=StorageUtil.getRecentWallets(),fo=this.connectors.map(Lo=>{var Wo;return(Wo=Lo.info)==null?void 0:Wo.rdns}).filter(Boolean),mo=io.map(Lo=>Lo.rdns).filter(Boolean),$o=fo.concat(mo);if($o.includes("io.metamask.mobile")&&CoreHelperUtil.isMobile()){const Lo=$o.indexOf("io.metamask.mobile");$o[Lo]="io.metamask"}return Mn.filter(Lo=>!$o.includes(String(Lo==null?void 0:Lo.rdns)))}onConnectWallet(Mn){RouterController.push("ConnectingWalletConnect",{wallet:Mn})}};__decorate$c([n$6()],W3mConnectCustomWidget.prototype,"tabIdx",void 0);__decorate$c([r$5()],W3mConnectCustomWidget.prototype,"connectors",void 0);W3mConnectCustomWidget=__decorate$c([customElement("w3m-connect-custom-widget")],W3mConnectCustomWidget);var __decorate$b=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectFeaturedWidget=class extends r$7{constructor(){super(...arguments),this.unsubscribe=[],this.tabIdx=void 0}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){const{featured:Mn}=ApiController.state;if(!Mn.length)return this.style.cssText="display: none",null;const io=WalletUtil.filterOutDuplicateWallets(Mn);return x`
      <wui-flex flexDirection="column" gap="xs">
        ${io.map(fo=>x`
            <wui-list-wallet
              data-testid=${`wallet-selector-featured-${fo.id}`}
              imageSrc=${o$3(AssetUtil.getWalletImage(fo))}
              name=${fo.name??"Unknown"}
              @click=${()=>this.onConnectWallet(fo)}
              tabIdx=${o$3(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `}onConnectWallet(Mn){const io=ConnectorController.getConnector(Mn.id,Mn.rdns);io?RouterController.push("ConnectingExternal",{connector:io}):RouterController.push("ConnectingWalletConnect",{wallet:Mn})}};__decorate$b([n$6()],W3mConnectFeaturedWidget.prototype,"tabIdx",void 0);W3mConnectFeaturedWidget=__decorate$b([customElement("w3m-connect-featured-widget")],W3mConnectFeaturedWidget);var __decorate$a=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectInjectedWidget=class extends r$7{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ConnectorController.state.connectors,this.unsubscribe.push(ConnectorController.subscribeKey("connectors",Mn=>this.connectors=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){var io;const Mn=this.connectors.filter(fo=>fo.type==="INJECTED");return!(Mn!=null&&Mn.length)||Mn.length===1&&((io=Mn[0])==null?void 0:io.name)==="Browser Wallet"&&!CoreHelperUtil.isMobile()?(this.style.cssText="display: none",null):x`
      <wui-flex flexDirection="column" gap="xs">
        ${Mn.map(fo=>{var $o;if(!CoreHelperUtil.isMobile()&&fo.name==="Browser Wallet")return null;const mo=($o=fo.info)==null?void 0:$o.rdns;return!mo&&!ConnectionController.checkInstalled(void 0)?(this.style.cssText="display: none",null):mo&&ApiController.state.excludedRDNS&&ApiController.state.excludedRDNS.includes(mo)?null:x`
            <wui-list-wallet
              imageSrc=${o$3(AssetUtil.getConnectorImage(fo))}
              .installed=${!0}
              name=${fo.name??"Unknown"}
              tagVariant="success"
              tagLabel="installed"
              data-testid=${`wallet-selector-${fo.id}`}
              @click=${()=>this.onConnector(fo)}
              tabIdx=${o$3(this.tabIdx)}
            >
            </wui-list-wallet>
          `})}
      </wui-flex>
    `}onConnector(Mn){ChainController.setActiveConnector(Mn),RouterController.push("ConnectingExternal",{connector:Mn})}};__decorate$a([n$6()],W3mConnectInjectedWidget.prototype,"tabIdx",void 0);__decorate$a([r$5()],W3mConnectInjectedWidget.prototype,"connectors",void 0);W3mConnectInjectedWidget=__decorate$a([customElement("w3m-connect-injected-widget")],W3mConnectInjectedWidget);var __decorate$9=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectMultiChainWidget=class extends r$7{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ConnectorController.state.connectors,this.unsubscribe.push(ConnectorController.subscribeKey("connectors",Mn=>this.connectors=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){const Mn=this.connectors.filter(io=>io.type==="MULTI_CHAIN"&&io.name!=="WalletConnect");return Mn!=null&&Mn.length?x`
      <wui-flex flexDirection="column" gap="xs">
        ${Mn.map(io=>x`
            <wui-list-wallet
              imageSrc=${o$3(AssetUtil.getConnectorImage(io))}
              .installed=${!0}
              name=${io.name??"Unknown"}
              tagVariant="shade"
              tagLabel="multichain"
              data-testid=${`wallet-selector-${io.id}`}
              @click=${()=>this.onConnector(io)}
              tabIdx=${o$3(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(Mn){ChainController.setActiveConnector(Mn),RouterController.push("ConnectingMultiChain")}};__decorate$9([n$6()],W3mConnectMultiChainWidget.prototype,"tabIdx",void 0);__decorate$9([r$5()],W3mConnectMultiChainWidget.prototype,"connectors",void 0);W3mConnectMultiChainWidget=__decorate$9([customElement("w3m-connect-multi-chain-widget")],W3mConnectMultiChainWidget);var __decorate$8=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectExternalWidget=class extends r$7{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ConnectorController.state.connectors,this.unsubscribe.push(ConnectorController.subscribeKey("connectors",Mn=>this.connectors=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){const io=this.connectors.filter(fo=>fo.type==="EXTERNAL").filter(fo=>fo.id!=="coinbaseWalletSDK");return io!=null&&io.length?x`
      <wui-flex flexDirection="column" gap="xs">
        ${io.map(fo=>x`
            <wui-list-wallet
              imageSrc=${o$3(AssetUtil.getConnectorImage(fo))}
              .installed=${!0}
              name=${fo.name??"Unknown"}
              data-testid=${`wallet-selector-external-${fo.id}`}
              @click=${()=>this.onConnector(fo)}
              tabIdx=${o$3(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(Mn){RouterController.push("ConnectingExternal",{connector:Mn})}};__decorate$8([n$6()],W3mConnectExternalWidget.prototype,"tabIdx",void 0);__decorate$8([r$5()],W3mConnectExternalWidget.prototype,"connectors",void 0);W3mConnectExternalWidget=__decorate$8([customElement("w3m-connect-external-widget")],W3mConnectExternalWidget);var __decorate$7=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectRecentWidget=class extends r$7{constructor(){super(...arguments),this.tabIdx=void 0}render(){const Mn=StorageUtil.getRecentWallets();return Mn!=null&&Mn.length?x`
      <wui-flex flexDirection="column" gap="xs">
        ${Mn.map(io=>x`
            <wui-list-wallet
              imageSrc=${o$3(AssetUtil.getWalletImage(io))}
              name=${io.name??"Unknown"}
              @click=${()=>this.onConnectWallet(io)}
              tagLabel="recent"
              tagVariant="shade"
              tabIdx=${o$3(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(Mn){RouterController.push("ConnectingWalletConnect",{wallet:Mn})}};__decorate$7([n$6()],W3mConnectRecentWidget.prototype,"tabIdx",void 0);W3mConnectRecentWidget=__decorate$7([customElement("w3m-connect-recent-widget")],W3mConnectRecentWidget);var __decorate$6=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectRecommendedWidget=class extends r$7{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ConnectorController.state.connectors,this.unsubscribe.push(ConnectorController.subscribeKey("connectors",Mn=>this.connectors=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){if(!this.connectors.find(Go=>Go.id==="walletConnect"))return null;const{recommended:io}=ApiController.state,{customWallets:fo,featuredWalletIds:mo}=OptionsController.state,{connectors:$o}=ConnectorController.state,Ao=StorageUtil.getRecentWallets(),Wo=$o.filter(Go=>Go.type==="INJECTED"||Go.type==="ANNOUNCED"||Go.type==="MULTI_CHAIN").filter(Go=>Go.name!=="Browser Wallet");if(mo||fo||!io.length)return this.style.cssText="display: none",null;const jo=Wo.length+Ao.length,zo=Math.max(0,2-jo),Vo=WalletUtil.filterOutDuplicateWallets(io).slice(0,zo);return Vo.length?x`
      <wui-flex flexDirection="column" gap="xs">
        ${Vo.map(Go=>x`
            <wui-list-wallet
              imageSrc=${o$3(AssetUtil.getWalletImage(Go))}
              name=${(Go==null?void 0:Go.name)??"Unknown"}
              @click=${()=>this.onConnectWallet(Go)}
              tabIdx=${o$3(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(Mn){const io=ConnectorController.getConnector(Mn.id,Mn.rdns);io?RouterController.push("ConnectingExternal",{connector:io}):RouterController.push("ConnectingWalletConnect",{wallet:Mn})}};__decorate$6([n$6()],W3mConnectRecommendedWidget.prototype,"tabIdx",void 0);__decorate$6([r$5()],W3mConnectRecommendedWidget.prototype,"connectors",void 0);W3mConnectRecommendedWidget=__decorate$6([customElement("w3m-connect-recommended-widget")],W3mConnectRecommendedWidget);var __decorate$5=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectWalletConnectWidget=class extends r$7{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ConnectorController.state.connectors,this.unsubscribe.push(ConnectorController.subscribeKey("connectors",Mn=>this.connectors=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){if(CoreHelperUtil.isMobile())return this.style.cssText="display: none",null;const Mn=this.connectors.find(io=>io.id==="walletConnect");return Mn?x`
      <wui-list-wallet
        imageSrc=${o$3(AssetUtil.getConnectorImage(Mn))}
        name=${Mn.name??"Unknown"}
        @click=${()=>this.onConnector(Mn)}
        tagLabel="qr code"
        tagVariant="main"
        tabIdx=${o$3(this.tabIdx)}
        data-testid="wallet-selector-walletconnect"
      >
      </wui-list-wallet>
    `:(this.style.cssText="display: none",null)}onConnector(Mn){ChainController.setActiveConnector(Mn),RouterController.push("ConnectingWalletConnect")}};__decorate$5([n$6()],W3mConnectWalletConnectWidget.prototype,"tabIdx",void 0);__decorate$5([r$5()],W3mConnectWalletConnectWidget.prototype,"connectors",void 0);W3mConnectWalletConnectWidget=__decorate$5([customElement("w3m-connect-walletconnect-widget")],W3mConnectWalletConnectWidget);const styles$2=i$5`
  :host {
    margin-top: var(--wui-spacing-3xs);
  }
  wui-separator {
    margin: var(--wui-spacing-m) calc(var(--wui-spacing-m) * -1) var(--wui-spacing-xs)
      calc(var(--wui-spacing-m) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }
`;var __decorate$4=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mConnectorList=class extends r$7{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ConnectorController.state.connectors,this.unsubscribe.push(ConnectorController.subscribeKey("connectors",Mn=>this.connectors=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){const{custom:Mn,recent:io,announced:fo,injected:mo,multiChain:$o,recommended:Ao,featured:Lo,external:Wo}=this.getConnectorsByType(),jo=OptionsController.state.enableWalletConnect;return x`
      <wui-flex flexDirection="column" gap="xs">
        ${jo?x`<w3m-connect-walletconnect-widget
              tabIdx=${o$3(this.tabIdx)}
            ></w3m-connect-walletconnect-widget>`:null}
        ${io.length?x`<w3m-connect-recent-widget
              tabIdx=${o$3(this.tabIdx)}
            ></w3m-connect-recent-widget>`:null}
        ${$o.length?x`<w3m-connect-multi-chain-widget
              tabIdx=${o$3(this.tabIdx)}
            ></w3m-connect-multi-chain-widget>`:null}
        ${fo.length?x`<w3m-connect-announced-widget
              tabIdx=${o$3(this.tabIdx)}
            ></w3m-connect-announced-widget>`:null}
        ${mo.length?x`<w3m-connect-injected-widget
              tabIdx=${o$3(this.tabIdx)}
            ></w3m-connect-injected-widget>`:null}
        ${Lo.length?x`<w3m-connect-featured-widget
              tabIdx=${o$3(this.tabIdx)}
            ></w3m-connect-featured-widget>`:null}
        ${Mn!=null&&Mn.length?x`<w3m-connect-custom-widget
              tabIdx=${o$3(this.tabIdx)}
            ></w3m-connect-custom-widget>`:null}
        ${Wo.length?x`<w3m-connect-external-widget
              tabIdx=${o$3(this.tabIdx)}
            ></w3m-connect-external-widget>`:null}
        ${Ao.length?x`<w3m-connect-recommended-widget
              tabIdx=${o$3(this.tabIdx)}
            ></w3m-connect-recommended-widget>`:null}
      </wui-flex>
    `}getConnectorsByType(){const{featured:Mn,recommended:io}=ApiController.state,{customWallets:fo}=OptionsController.state,mo=StorageUtil.getRecentWallets(),$o=WalletUtil.filterOutDuplicateWallets(io),Ao=WalletUtil.filterOutDuplicateWallets(Mn),Lo=this.connectors.filter(Vo=>Vo.type==="MULTI_CHAIN"),Wo=this.connectors.filter(Vo=>Vo.type==="ANNOUNCED"),jo=this.connectors.filter(Vo=>Vo.type==="INJECTED"),zo=this.connectors.filter(Vo=>Vo.type==="EXTERNAL");return{custom:fo,recent:mo,external:zo,multiChain:Lo,announced:Wo,injected:jo,recommended:$o,featured:Ao}}};W3mConnectorList.styles=styles$2;__decorate$4([n$6()],W3mConnectorList.prototype,"tabIdx",void 0);__decorate$4([r$5()],W3mConnectorList.prototype,"connectors",void 0);W3mConnectorList=__decorate$4([customElement("w3m-connector-list")],W3mConnectorList);var __decorate$3=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mAllWalletsWidget=class extends r$7{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=ConnectorController.state.connectors,this.count=ApiController.state.count,this.unsubscribe.push(ConnectorController.subscribeKey("connectors",Mn=>this.connectors=Mn),ApiController.subscribeKey("count",Mn=>this.count=Mn))}disconnectedCallback(){this.unsubscribe.forEach(Mn=>Mn())}render(){const Mn=this.connectors.find(Lo=>Lo.id==="walletConnect"),{allWallets:io}=OptionsController.state;if(!Mn||io==="HIDE"||io==="ONLY_MOBILE"&&!CoreHelperUtil.isMobile())return null;const fo=ApiController.state.featured.length,mo=this.count+fo,$o=mo<10?mo:Math.floor(mo/10)*10,Ao=$o<mo?`${$o}+`:`${$o}`;return x`
      <wui-list-wallet
        name="All Wallets"
        walletIcon="allWallets"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${Ao}
        tagVariant="shade"
        data-testid="all-wallets"
        tabIdx=${o$3(this.tabIdx)}
      ></wui-list-wallet>
    `}onAllWallets(){EventsController.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),RouterController.push("AllWallets")}};__decorate$3([n$6()],W3mAllWalletsWidget.prototype,"tabIdx",void 0);__decorate$3([r$5()],W3mAllWalletsWidget.prototype,"connectors",void 0);__decorate$3([r$5()],W3mAllWalletsWidget.prototype,"count",void 0);W3mAllWalletsWidget=__decorate$3([customElement("w3m-all-wallets-widget")],W3mAllWalletsWidget);var __decorate$2=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mAccountAuthButton=class extends r$7{constructor(){super(...arguments),this.socialProvider=StorageUtil.getConnectedSocialProvider(),this.socialUsername=StorageUtil.getConnectedSocialUsername()}render(){const Mn=StorageUtil.getConnectedConnector(),io=ConnectorController.getAuthConnector();if(!io||Mn!=="ID_AUTH")return this.style.cssText="display: none",null;const fo=io.provider.getEmail()??"";return x`
      <wui-list-item
        variant="icon"
        iconVariant="overlay"
        icon=${this.socialProvider??"mail"}
        iconSize=${this.socialProvider?"xxl":"sm"}
        data-testid="w3m-account-email-update"
        ?chevron=${!this.socialProvider}
        @click=${()=>{this.onGoToUpdateEmail(fo,this.socialProvider)}}
      >
        <wui-text variant="paragraph-500" color="fg-100">${this.getAuthName(fo)}</wui-text>
      </wui-list-item>
    `}onGoToUpdateEmail(Mn,io){io||RouterController.push("UpdateEmailWallet",{email:Mn})}getAuthName(Mn){return this.socialUsername?this.socialProvider==="discord"&&this.socialUsername.endsWith("0")?this.socialUsername.slice(0,-1):this.socialUsername:Mn.length>30?`${Mn.slice(0,-3)}...`:Mn}};W3mAccountAuthButton=__decorate$2([customElement("w3m-account-auth-button")],W3mAccountAuthButton);const styles$1=i$5`
  wui-flex {
    width: 100%;
  }

  .wallet-guide {
    width: 100%;
  }

  .chip-box {
    width: fit-content;
    background-color: var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-3xl);
  }
`;var __decorate$1=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mWalletGuide=class extends r$7{constructor(){super(...arguments),this.walletGuide="get-started"}render(){return this.walletGuide==="explore"?x`<wui-flex
          class="wallet-guide"
          flexDirection="column"
          alignItems="center"
          justifyContent="center"
          rowGap="xs"
          data-testid="w3m-wallet-guide-explore"
        >
          <wui-text variant="small-400" color="fg-200" align="center">
            Looking for a self-custody wallet?
          </wui-text>

          <wui-flex class="chip-box">
            <wui-chip
              imageIcon="walletConnectLightBrown"
              icon="externalLink"
              variant="transparent"
              href="https://explorer.walletconnect.com"
              title="Visit our Explorer"
            ></wui-chip>
          </wui-flex>
        </wui-flex>`:x`<wui-flex
          columnGap="4xs"
          flexDirection="row"
          alignItems="center"
          justifyContent="center"
        >
          <wui-text variant="small-400" class="title" color="fg-200"
            >Haven't got a wallet?</wui-text
          >
          <wui-link
            data-testid="w3m-wallet-guide-get-started"
            color="blue-100"
            class="get-started-link"
            @click=${this.onGetStarted}
            tabIdx=${o$3(this.tabIdx)}
          >
            Get started
          </wui-link>
        </wui-flex>`}onGetStarted(){RouterController.push("Create")}};W3mWalletGuide.styles=styles$1;__decorate$1([n$6()],W3mWalletGuide.prototype,"tabIdx",void 0);__decorate$1([n$6()],W3mWalletGuide.prototype,"walletGuide",void 0);W3mWalletGuide=__decorate$1([customElement("w3m-wallet-guide")],W3mWalletGuide);const styles=i$5`
  :host {
    display: flex;
    justify-content: center;
    gap: var(--wui-spacing-2xl);
  }

  wui-visual-thumbnail:nth-child(1) {
    z-index: 1;
  }
`;var __decorate=function(Fn,Mn,io,fo){var mo=arguments.length,$o=mo<3?Mn:fo===null?fo=Object.getOwnPropertyDescriptor(Mn,io):fo,Ao;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$o=Reflect.decorate(Fn,Mn,io,fo);else for(var Lo=Fn.length-1;Lo>=0;Lo--)(Ao=Fn[Lo])&&($o=(mo<3?Ao($o):mo>3?Ao(Mn,io,$o):Ao(Mn,io))||$o);return mo>3&&$o&&Object.defineProperty(Mn,io,$o),$o};let W3mSIWXSignMessageThumbnails=class extends r$7{constructor(){var Mn,io;super(...arguments),this.dappImageUrl=(Mn=OptionsController.state.metadata)==null?void 0:Mn.icons,this.walletImageUrl=(io=AccountController.state.connectedWalletInfo)==null?void 0:io.icon}firstUpdated(){var io;const Mn=(io=this.shadowRoot)==null?void 0:io.querySelectorAll("wui-visual-thumbnail");Mn!=null&&Mn[0]&&this.createAnimation(Mn[0],"translate(18px)"),Mn!=null&&Mn[1]&&this.createAnimation(Mn[1],"translate(-18px)")}render(){var Mn;return x`
      <wui-visual-thumbnail
        ?borderRadiusFull=${!0}
        .imageSrc=${(Mn=this.dappImageUrl)==null?void 0:Mn[0]}
      ></wui-visual-thumbnail>
      <wui-visual-thumbnail .imageSrc=${this.walletImageUrl}></wui-visual-thumbnail>
    `}createAnimation(Mn,io){Mn.animate([{transform:"translateX(0px)"},{transform:io}],{duration:1600,easing:"cubic-bezier(0.56, 0, 0.48, 1)",direction:"alternate",iterations:1/0})}};W3mSIWXSignMessageThumbnails.styles=styles;W3mSIWXSignMessageThumbnails=__decorate([customElement("w3m-siwx-sign-message-thumbnails")],W3mSIWXSignMessageThumbnails);let modal;function createAppKit(Fn){return modal||(modal=new AppKit({...Fn,sdkVersion:CoreHelperUtil.generateSdkVersion(Fn.adapters??[],"react",PACKAGE_VERSION)})),modal}function getAction(Fn,Mn,io){const fo=Fn[Mn.name];if(typeof fo=="function")return fo;const mo=Fn[io];return typeof mo=="function"?mo:$o=>Mn(Fn,$o)}const version$1="2.15.0",getVersion=()=>`@wagmi/core@${version$1}`;var __classPrivateFieldGet=function(Fn,Mn,io,fo){if(io==="a"&&!fo)throw new TypeError("Private accessor was defined without a getter");if(typeof Mn=="function"?Fn!==Mn||!fo:!Mn.has(Fn))throw new TypeError("Cannot read private member from an object whose class did not declare it");return io==="m"?fo:io==="a"?fo.call(Fn):fo?fo.value:Mn.get(Fn)},_BaseError_instances,_BaseError_walk;let BaseError$1=class l$ extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return getVersion()}constructor(Mn,io={}){var $o;super(),_BaseError_instances.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const fo=io.cause instanceof l$?io.cause.details:($o=io.cause)!=null&&$o.message?io.cause.message:io.details,mo=io.cause instanceof l$&&io.cause.docsPath||io.docsPath;this.message=[Mn||"An error occurred.","",...io.metaMessages?[...io.metaMessages,""]:[],...mo?[`Docs: ${this.docsBaseUrl}${mo}.html${io.docsSlug?`#${io.docsSlug}`:""}`]:[],...fo?[`Details: ${fo}`]:[],`Version: ${this.version}`].join(`
`),io.cause&&(this.cause=io.cause),this.details=fo,this.docsPath=mo,this.metaMessages=io.metaMessages,this.shortMessage=Mn}walk(Mn){return __classPrivateFieldGet(this,_BaseError_instances,"m",_BaseError_walk).call(this,this,Mn)}};_BaseError_instances=new WeakSet,_BaseError_walk=function Fn(Mn,io){return io!=null&&io(Mn)?Mn:Mn.cause?__classPrivateFieldGet(this,_BaseError_instances,"m",Fn).call(this,Mn.cause,io):Mn};class ChainNotConfiguredError extends BaseError$1{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class ConnectorAlreadyConnectedError extends BaseError$1{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class ConnectorNotConnectedError extends BaseError$1{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class ConnectorAccountNotFoundError extends BaseError$1{constructor({address:Mn,connector:io}){super(`Account "${Mn}" not found for connector "${io.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class ConnectorChainMismatchError extends BaseError$1{constructor({connectionChainId:Mn,connectorChainId:io}){super(`The current chain of the connector (id: ${io}) does not match the connection's chain (id: ${Mn}).`,{metaMessages:[`Current Chain ID:  ${io}`,`Expected Chain ID: ${Mn}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class ConnectorUnavailableReconnectingError extends BaseError$1{constructor({connector:Mn}){super(`Connector "${Mn.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uuid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function connect$1(Fn,Mn){var fo;let io;if(typeof Mn.connector=="function"?io=Fn._internal.connectors.setup(Mn.connector):io=Mn.connector,io.uid===Fn.state.current)throw new ConnectorAlreadyConnectedError;try{Fn.setState(Ao=>({...Ao,status:"connecting"})),io.emitter.emit("message",{type:"connecting"});const mo=await io.connect({chainId:Mn.chainId}),$o=mo.accounts;return io.emitter.off("connect",Fn._internal.events.connect),io.emitter.on("change",Fn._internal.events.change),io.emitter.on("disconnect",Fn._internal.events.disconnect),await((fo=Fn.storage)==null?void 0:fo.setItem("recentConnectorId",io.id)),Fn.setState(Ao=>({...Ao,connections:new Map(Ao.connections).set(io.uid,{accounts:$o,chainId:mo.chainId,connector:io}),current:io.uid,status:"connected"})),{accounts:$o,chainId:mo.chainId}}catch(mo){throw Fn.setState($o=>({...$o,status:$o.current?"connected":"disconnected"})),mo}}async function getConnectorClient(Fn,Mn={}){let io;if(Mn.connector){const{connector:jo}=Mn;if(Fn.state.status==="reconnecting"&&!jo.getAccounts&&!jo.getChainId)throw new ConnectorUnavailableReconnectingError({connector:jo});const[zo,Vo]=await Promise.all([jo.getAccounts(),jo.getChainId()]);io={accounts:zo,chainId:Vo,connector:jo}}else io=Fn.state.connections.get(Fn.state.current);if(!io)throw new ConnectorNotConnectedError;const fo=Mn.chainId??io.chainId,mo=await io.connector.getChainId();if(mo!==io.chainId)throw new ConnectorChainMismatchError({connectionChainId:io.chainId,connectorChainId:mo});const $o=io.connector;if($o.getClient)return $o.getClient({chainId:fo});const Ao=parseAccount(Mn.account??io.accounts[0]);if(Ao.address=getAddress(Ao.address),Mn.account&&!io.accounts.some(jo=>jo.toLowerCase()===Ao.address.toLowerCase()))throw new ConnectorAccountNotFoundError({address:Ao.address,connector:$o});const Lo=Fn.chains.find(jo=>jo.id===fo),Wo=await io.connector.getProvider({chainId:fo});return createClient({account:Ao,chain:Lo,name:"Connector Client",transport:jo=>custom(Wo)({...jo,retryCount:0})})}async function disconnect(Fn,Mn={}){var mo,$o;let io;if(Mn.connector)io=Mn.connector;else{const{connections:Ao,current:Lo}=Fn.state,Wo=Ao.get(Lo);io=Wo==null?void 0:Wo.connector}const fo=Fn.state.connections;io&&(await io.disconnect(),io.emitter.off("change",Fn._internal.events.change),io.emitter.off("disconnect",Fn._internal.events.disconnect),io.emitter.on("connect",Fn._internal.events.connect),fo.delete(io.uid)),Fn.setState(Ao=>{if(fo.size===0)return{...Ao,connections:new Map,current:null,status:"disconnected"};const Lo=fo.values().next().value;return{...Ao,connections:new Map(fo),current:Lo.connector.uid}});{const Ao=Fn.state.current;if(!Ao)return;const Lo=(mo=Fn.state.connections.get(Ao))==null?void 0:mo.connector;if(!Lo)return;await(($o=Fn.storage)==null?void 0:$o.setItem("recentConnectorId",Lo.id))}}async function estimateGas(Fn,Mn){const{chainId:io,connector:fo,...mo}=Mn;let $o;Mn.account?$o=Mn.account:$o=(await getConnectorClient(Fn,{account:Mn.account,chainId:io,connector:fo})).account;const Ao=Fn.getClient({chainId:io});return getAction(Ao,estimateGas$1,"estimateGas")({...mo,account:$o})}function getUnit(Fn){return typeof Fn=="number"?Fn:Fn==="wei"?0:Math.abs(weiUnits[Fn])}function getAccount(Fn){const Mn=Fn.state.current,io=Fn.state.connections.get(Mn),fo=io==null?void 0:io.accounts,mo=fo==null?void 0:fo[0],$o=Fn.chains.find(Lo=>Lo.id===(io==null?void 0:io.chainId)),Ao=Fn.state.status;switch(Ao){case"connected":return{address:mo,addresses:fo,chain:$o,chainId:io==null?void 0:io.chainId,connector:io==null?void 0:io.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:Ao};case"reconnecting":return{address:mo,addresses:fo,chain:$o,chainId:io==null?void 0:io.chainId,connector:io==null?void 0:io.connector,isConnected:!!mo,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:Ao};case"connecting":return{address:mo,addresses:fo,chain:$o,chainId:io==null?void 0:io.chainId,connector:io==null?void 0:io.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:Ao};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:Ao}}}async function multicall(Fn,Mn){const{allowFailure:io=!0,chainId:fo,contracts:mo,...$o}=Mn,Ao=Fn.getClient({chainId:fo});return getAction(Ao,multicall$1,"multicall")({allowFailure:io,contracts:mo,...$o})}function readContract(Fn,Mn){const{chainId:io,...fo}=Mn,mo=Fn.getClient({chainId:io});return getAction(mo,readContract$1,"readContract")(fo)}async function readContracts(Fn,Mn){var Lo;const{allowFailure:io=!0,blockNumber:fo,blockTag:mo,...$o}=Mn,Ao=Mn.contracts;try{const Wo={};for(const[Go,Jo]of Ao.entries()){const Qo=Jo.chainId??Fn.state.chainId;Wo[Qo]||(Wo[Qo]=[]),(Lo=Wo[Qo])==null||Lo.push({contract:Jo,index:Go})}const jo=()=>Object.entries(Wo).map(([Go,Jo])=>multicall(Fn,{...$o,allowFailure:io,blockNumber:fo,blockTag:mo,chainId:Number.parseInt(Go),contracts:Jo.map(({contract:Qo})=>Qo)})),zo=(await Promise.all(jo())).flat(),Vo=Object.values(Wo).flatMap(Go=>Go.map(({index:Jo})=>Jo));return zo.reduce((Go,Jo,Qo)=>(Go&&(Go[Vo[Qo]]=Jo),Go),[])}catch(Wo){if(Wo instanceof ContractFunctionExecutionError)throw Wo;const jo=()=>Ao.map(zo=>readContract(Fn,{...zo,blockNumber:fo,blockTag:mo}));return io?(await Promise.allSettled(jo())).map(zo=>zo.status==="fulfilled"?{result:zo.value,status:"success"}:{error:zo.reason,result:void 0,status:"failure"}):await Promise.all(jo())}}async function getBalance(Fn,Mn){const{address:io,blockNumber:fo,blockTag:mo,chainId:$o,token:Ao,unit:Lo="ether"}=Mn;if(Ao)try{return await getTokenBalance(Fn,{balanceAddress:io,chainId:$o,symbolType:"string",tokenAddress:Ao})}catch(Go){if(Go.name==="ContractFunctionExecutionError"){const Jo=await getTokenBalance(Fn,{balanceAddress:io,chainId:$o,symbolType:"bytes32",tokenAddress:Ao}),Qo=hexToString(trim(Jo.symbol,{dir:"right"}));return{...Jo,symbol:Qo}}throw Go}const Wo=Fn.getClient({chainId:$o}),zo=await getAction(Wo,getBalance$1,"getBalance")(fo?{address:io,blockNumber:fo}:{address:io,blockTag:mo}),Vo=Fn.chains.find(Go=>Go.id===$o)??Wo.chain;return{decimals:Vo.nativeCurrency.decimals,formatted:formatUnits(zo,getUnit(Lo)),symbol:Vo.nativeCurrency.symbol,value:zo}}async function getTokenBalance(Fn,Mn){const{balanceAddress:io,chainId:fo,symbolType:mo,tokenAddress:$o,unit:Ao}=Mn,Lo={abi:[{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:mo}]}],address:$o},[Wo,jo,zo]=await readContracts(Fn,{allowFailure:!1,contracts:[{...Lo,functionName:"balanceOf",args:[io],chainId:fo},{...Lo,functionName:"decimals",chainId:fo},{...Lo,functionName:"symbol",chainId:fo}]}),Vo=formatUnits(Wo??"0",getUnit(Ao??jo));return{decimals:jo,formatted:Vo,symbol:zo,value:Wo}}function deepEqual$1(Fn,Mn){if(Fn===Mn)return!0;if(Fn&&Mn&&typeof Fn=="object"&&typeof Mn=="object"){if(Fn.constructor!==Mn.constructor)return!1;let io,fo;if(Array.isArray(Fn)&&Array.isArray(Mn)){if(io=Fn.length,io!==Mn.length)return!1;for(fo=io;fo--!==0;)if(!deepEqual$1(Fn[fo],Mn[fo]))return!1;return!0}if(Fn.valueOf!==Object.prototype.valueOf)return Fn.valueOf()===Mn.valueOf();if(Fn.toString!==Object.prototype.toString)return Fn.toString()===Mn.toString();const mo=Object.keys(Fn);if(io=mo.length,io!==Object.keys(Mn).length)return!1;for(fo=io;fo--!==0;)if(!Object.prototype.hasOwnProperty.call(Mn,mo[fo]))return!1;for(fo=io;fo--!==0;){const $o=mo[fo];if($o&&!deepEqual$1(Fn[$o],Mn[$o]))return!1}return!0}return Fn!==Fn&&Mn!==Mn}let previousConnections=[];function getConnections(Fn){const Mn=[...Fn.state.connections.values()];return Fn.state.status==="reconnecting"||deepEqual$1(previousConnections,Mn)?previousConnections:(previousConnections=Mn,Mn)}function getEnsAddress(Fn,Mn){const{chainId:io,...fo}=Mn,mo=Fn.getClient({chainId:io});return getAction(mo,getEnsAddress$1,"getEnsAddress")(fo)}function getEnsAvatar(Fn,Mn){const{chainId:io,...fo}=Mn,mo=Fn.getClient({chainId:io});return getAction(mo,getEnsAvatar$1,"getEnsAvatar")(fo)}function getEnsName(Fn,Mn){const{chainId:io,...fo}=Mn,mo=Fn.getClient({chainId:io});return getAction(mo,getEnsName$1,"getEnsName")(fo)}async function prepareTransactionRequest(Fn,Mn){const{account:io,chainId:fo,...mo}=Mn,$o=io??getAccount(Fn).address,Ao=Fn.getClient({chainId:fo});return getAction(Ao,prepareTransactionRequest$1,"prepareTransactionRequest")({...mo,...$o?{account:$o}:{}})}let isReconnecting=!1;async function reconnect(Fn,Mn={}){var jo,zo;if(isReconnecting)return[];isReconnecting=!0,Fn.setState(Vo=>({...Vo,status:Vo.current?"reconnecting":"connecting"}));const io=[];if((jo=Mn.connectors)!=null&&jo.length)for(const Vo of Mn.connectors){let Go;typeof Vo=="function"?Go=Fn._internal.connectors.setup(Vo):Go=Vo,io.push(Go)}else io.push(...Fn.connectors);let fo;try{fo=await((zo=Fn.storage)==null?void 0:zo.getItem("recentConnectorId"))}catch{}const mo={};for(const[,Vo]of Fn.state.connections)mo[Vo.connector.id]=1;fo&&(mo[fo]=0);const $o=Object.keys(mo).length>0?[...io].sort((Vo,Go)=>(mo[Vo.id]??10)-(mo[Go.id]??10)):io;let Ao=!1;const Lo=[],Wo=[];for(const Vo of $o){const Go=await Vo.getProvider().catch(()=>{});if(!Go||Wo.some(os=>os===Go)||!await Vo.isAuthorized())continue;const Qo=await Vo.connect({isReconnecting:!0}).catch(()=>null);Qo&&(Vo.emitter.off("connect",Fn._internal.events.connect),Vo.emitter.on("change",Fn._internal.events.change),Vo.emitter.on("disconnect",Fn._internal.events.disconnect),Fn.setState(os=>{const Cl=new Map(Ao?os.connections:new Map).set(Vo.uid,{accounts:Qo.accounts,chainId:Qo.chainId,connector:Vo});return{...os,current:Ao?os.current:Vo.uid,connections:Cl}}),Lo.push({accounts:Qo.accounts,chainId:Qo.chainId,connector:Vo}),Wo.push(Go),Ao=!0)}return(Fn.state.status==="reconnecting"||Fn.state.status==="connecting")&&(Ao?Fn.setState(Vo=>({...Vo,status:"connected"})):Fn.setState(Vo=>({...Vo,connections:new Map,current:null,status:"disconnected"}))),isReconnecting=!1,Lo}async function sendTransaction(Fn,Mn){const{account:io,chainId:fo,connector:mo,...$o}=Mn;let Ao;return typeof io=="object"&&(io==null?void 0:io.type)==="local"?Ao=Fn.getClient({chainId:fo}):Ao=await getConnectorClient(Fn,{account:io??void 0,chainId:fo,connector:mo}),await getAction(Ao,sendTransaction$1,"sendTransaction")({...$o,...io?{account:io}:{},chain:fo?{id:fo}:null})}async function signMessage(Fn,Mn){const{account:io,connector:fo,...mo}=Mn;let $o;return typeof io=="object"&&io.type==="local"?$o=Fn.getClient():$o=await getConnectorClient(Fn,{account:io,connector:fo}),getAction($o,signMessage$1,"signMessage")({...mo,...io?{account:io}:{}})}class ProviderNotFoundError extends BaseError$1{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class SwitchChainNotSupportedError extends BaseError$1{constructor({connector:Mn}){super(`"${Mn.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function switchChain(Fn,Mn){var Ao;const{addEthereumChainParameter:io,chainId:fo}=Mn,mo=Fn.state.connections.get(((Ao=Mn.connector)==null?void 0:Ao.uid)??Fn.state.current);if(mo){const Lo=mo.connector;if(!Lo.switchChain)throw new SwitchChainNotSupportedError({connector:Lo});return await Lo.switchChain({addEthereumChainParameter:io,chainId:fo})}const $o=Fn.chains.find(Lo=>Lo.id===fo);if(!$o)throw new ChainNotConfiguredError;return Fn.setState(Lo=>({...Lo,chainId:fo})),$o}function watchAccount(Fn,Mn){const{onChange:io}=Mn;return Fn.subscribe(()=>getAccount(Fn),io,{equalityFn(fo,mo){const{connector:$o,...Ao}=fo,{connector:Lo,...Wo}=mo;return deepEqual$1(Ao,Wo)&&($o==null?void 0:$o.id)===(Lo==null?void 0:Lo.id)&&($o==null?void 0:$o.uid)===(Lo==null?void 0:Lo.uid)}})}function watchConnections(Fn,Mn){const{onChange:io}=Mn;return Fn.subscribe(()=>getConnections(Fn),io,{equalityFn:deepEqual$1})}async function waitForTransactionReceipt(Fn,Mn){const{chainId:io,timeout:fo=0,...mo}=Mn,$o=Fn.getClient({chainId:io}),Lo=await getAction($o,waitForTransactionReceipt$1,"waitForTransactionReceipt")({...mo,timeout:fo});if(Lo.status==="reverted"){const jo=await getAction($o,getTransaction,"getTransaction")({hash:Lo.transactionHash}),Vo=await getAction($o,call,"call")({...jo,data:jo.input,gasPrice:jo.type!=="eip1559"?jo.gasPrice:void 0,maxFeePerGas:jo.type==="eip1559"?jo.maxFeePerGas:void 0,maxPriorityFeePerGas:jo.type==="eip1559"?jo.maxPriorityFeePerGas:void 0}),Go=Vo!=null&&Vo.data?hexToString(`0x${Vo.data.substring(138)}`):"unknown reason";throw new Error(Go)}return{...Lo,chainId:$o.chain.id}}async function writeContract(Fn,Mn){const{account:io,chainId:fo,connector:mo,...$o}=Mn;let Ao;return typeof io=="object"&&(io==null?void 0:io.type)==="local"?Ao=Fn.getClient({chainId:fo}):Ao=await getConnectorClient(Fn,{account:io??void 0,chainId:fo,connector:mo}),await getAction(Ao,writeContract$1,"writeContract")({...$o,...io?{account:io}:{},chain:fo?{id:fo}:null})}function createConnector(Fn){return Fn}injected.type="injected";function injected(Fn={}){const{shimDisconnect:Mn=!0,unstable_shimAsyncInject:io}=Fn;function fo(){const Wo=Fn.target;if(typeof Wo=="function"){const jo=Wo();if(jo)return jo}return typeof Wo=="object"?Wo:typeof Wo=="string"?{...targetMap[Wo]??{id:Wo,name:`${Wo[0].toUpperCase()}${Wo.slice(1)}`,provider:`is${Wo[0].toUpperCase()}${Wo.slice(1)}`}}:{id:"injected",name:"Injected",provider(jo){return jo==null?void 0:jo.ethereum}}}let mo,$o,Ao,Lo;return Wo=>({get icon(){return fo().icon},get id(){return fo().id},get name(){return fo().name},get supportsSimulation(){return!0},type:injected.type,async setup(){const jo=await this.getProvider();jo!=null&&jo.on&&Fn.target&&(Ao||(Ao=this.onConnect.bind(this),jo.on("connect",Ao)),mo||(mo=this.onAccountsChanged.bind(this),jo.on("accountsChanged",mo)))},async connect({chainId:jo,isReconnecting:zo}={}){var Jo,Qo,os,Cl,xl,ds;const Vo=await this.getProvider();if(!Vo)throw new ProviderNotFoundError;let Go=[];if(zo)Go=await this.getAccounts().catch(()=>[]);else if(Mn)try{Go=(Cl=(os=(Qo=(Jo=(await Vo.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0])==null?void 0:Jo.caveats)==null?void 0:Qo[0])==null?void 0:os.value)==null?void 0:Cl.map($l=>getAddress($l)),Go.length>0&&(Go=await this.getAccounts())}catch(_c){const $l=_c;if($l.code===UserRejectedRequestError.code)throw new UserRejectedRequestError($l);if($l.code===ResourceUnavailableRpcError.code)throw $l}try{!(Go!=null&&Go.length)&&!zo&&(Go=(await Vo.request({method:"eth_requestAccounts"})).map(Al=>getAddress(Al))),Ao&&(Vo.removeListener("connect",Ao),Ao=void 0),mo||(mo=this.onAccountsChanged.bind(this),Vo.on("accountsChanged",mo)),$o||($o=this.onChainChanged.bind(this),Vo.on("chainChanged",$o)),Lo||(Lo=this.onDisconnect.bind(this),Vo.on("disconnect",Lo));let _c=await this.getChainId();if(jo&&_c!==jo){const $l=await this.switchChain({chainId:jo}).catch(Al=>{if(Al.code===UserRejectedRequestError.code)throw Al;return{id:_c}});_c=($l==null?void 0:$l.id)??_c}return Mn&&await((xl=Wo.storage)==null?void 0:xl.removeItem(`${this.id}.disconnected`)),Fn.target||await((ds=Wo.storage)==null?void 0:ds.setItem("injected.connected",!0)),{accounts:Go,chainId:_c}}catch(_c){const $l=_c;throw $l.code===UserRejectedRequestError.code?new UserRejectedRequestError($l):$l.code===ResourceUnavailableRpcError.code?new ResourceUnavailableRpcError($l):$l}},async disconnect(){var zo,Vo;const jo=await this.getProvider();if(!jo)throw new ProviderNotFoundError;$o&&(jo.removeListener("chainChanged",$o),$o=void 0),Lo&&(jo.removeListener("disconnect",Lo),Lo=void 0),Ao||(Ao=this.onConnect.bind(this),jo.on("connect",Ao));try{await withTimeout(()=>jo.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}Mn&&await((zo=Wo.storage)==null?void 0:zo.setItem(`${this.id}.disconnected`,!0)),Fn.target||await((Vo=Wo.storage)==null?void 0:Vo.removeItem("injected.connected"))},async getAccounts(){const jo=await this.getProvider();if(!jo)throw new ProviderNotFoundError;return(await jo.request({method:"eth_accounts"})).map(Vo=>getAddress(Vo))},async getChainId(){const jo=await this.getProvider();if(!jo)throw new ProviderNotFoundError;const zo=await jo.request({method:"eth_chainId"});return Number(zo)},async getProvider(){if(typeof window>"u")return;let jo;const zo=fo();return typeof zo.provider=="function"?jo=zo.provider(window):typeof zo.provider=="string"?jo=findProvider(window,zo.provider):jo=zo.provider,jo&&!jo.removeListener&&("off"in jo&&typeof jo.off=="function"?jo.removeListener=jo.off:jo.removeListener=()=>{}),jo},async isAuthorized(){var jo,zo;try{if(Mn&&await((jo=Wo.storage)==null?void 0:jo.getItem(`${this.id}.disconnected`))||!Fn.target&&!await((zo=Wo.storage)==null?void 0:zo.getItem("injected.connected")))return!1;if(!await this.getProvider()){if(io!==void 0&&io!==!1){const Qo=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",Qo),!!await this.getProvider()),os=typeof io=="number"?io:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(xl=>window.addEventListener("ethereum#initialized",()=>xl(Qo()),{once:!0}))]:[],new Promise(xl=>setTimeout(()=>xl(Qo()),os))]))return!0}throw new ProviderNotFoundError}return!!(await withRetry(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:jo,chainId:zo}){var Qo,os,Cl,xl;const Vo=await this.getProvider();if(!Vo)throw new ProviderNotFoundError;const Go=Wo.chains.find(ds=>ds.id===zo);if(!Go)throw new SwitchChainError(new ChainNotConfiguredError);const Jo=new Promise(ds=>{const _c=$l=>{"chainId"in $l&&$l.chainId===zo&&(Wo.emitter.off("change",_c),ds())};Wo.emitter.on("change",_c)});try{return await Promise.all([Vo.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex(zo)}]}).then(async()=>{await this.getChainId()===zo&&Wo.emitter.emit("change",{chainId:zo})}),Jo]),Go}catch(ds){const _c=ds;if(_c.code===4902||((os=(Qo=_c==null?void 0:_c.data)==null?void 0:Qo.originalError)==null?void 0:os.code)===4902)try{const{default:$l,...Al}=Go.blockExplorers??{};let Il;jo!=null&&jo.blockExplorerUrls?Il=jo.blockExplorerUrls:$l&&(Il=[$l.url,...Object.values(Al).map(Rl=>Rl.url)]);let us;(Cl=jo==null?void 0:jo.rpcUrls)!=null&&Cl.length?us=jo.rpcUrls:us=[((xl=Go.rpcUrls.default)==null?void 0:xl.http[0])??""];const ps={blockExplorerUrls:Il,chainId:numberToHex(zo),chainName:(jo==null?void 0:jo.chainName)??Go.name,iconUrls:jo==null?void 0:jo.iconUrls,nativeCurrency:(jo==null?void 0:jo.nativeCurrency)??Go.nativeCurrency,rpcUrls:us};return await Promise.all([Vo.request({method:"wallet_addEthereumChain",params:[ps]}).then(async()=>{if(await this.getChainId()===zo)Wo.emitter.emit("change",{chainId:zo});else throw new UserRejectedRequestError(new Error("User rejected switch after adding network."))}),Jo]),Go}catch($l){throw new UserRejectedRequestError($l)}throw _c.code===UserRejectedRequestError.code?new UserRejectedRequestError(_c):new SwitchChainError(_c)}},async onAccountsChanged(jo){var zo;if(jo.length===0)this.onDisconnect();else if(Wo.emitter.listenerCount("connect")){const Vo=(await this.getChainId()).toString();this.onConnect({chainId:Vo}),Mn&&await((zo=Wo.storage)==null?void 0:zo.removeItem(`${this.id}.disconnected`))}else Wo.emitter.emit("change",{accounts:jo.map(Vo=>getAddress(Vo))})},onChainChanged(jo){const zo=Number(jo);Wo.emitter.emit("change",{chainId:zo})},async onConnect(jo){const zo=await this.getAccounts();if(zo.length===0)return;const Vo=Number(jo.chainId);Wo.emitter.emit("connect",{accounts:zo,chainId:Vo});const Go=await this.getProvider();Go&&(Ao&&(Go.removeListener("connect",Ao),Ao=void 0),mo||(mo=this.onAccountsChanged.bind(this),Go.on("accountsChanged",mo)),$o||($o=this.onChainChanged.bind(this),Go.on("chainChanged",$o)),Lo||(Lo=this.onDisconnect.bind(this),Go.on("disconnect",Lo)))},async onDisconnect(jo){const zo=await this.getProvider();jo&&jo.code===1013&&zo&&(await this.getAccounts()).length||(Wo.emitter.emit("disconnect"),zo&&($o&&(zo.removeListener("chainChanged",$o),$o=void 0),Lo&&(zo.removeListener("disconnect",Lo),Lo=void 0),Ao||(Ao=this.onConnect.bind(this),zo.on("connect",Ao))))}})}const targetMap={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(Fn){return Fn!=null&&Fn.coinbaseWalletExtension?Fn.coinbaseWalletExtension:findProvider(Fn,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(Fn){return findProvider(Fn,Mn=>{if(!Mn.isMetaMask||Mn.isBraveWallet&&!Mn._events&&!Mn._state)return!1;const io=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const fo of io)if(Mn[fo])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(Fn){var Mn,io;return(Mn=Fn==null?void 0:Fn.phantom)!=null&&Mn.ethereum?(io=Fn.phantom)==null?void 0:io.ethereum:findProvider(Fn,"isPhantom")}}};function findProvider(Fn,Mn){function io(mo){return typeof Mn=="function"?Mn(mo):typeof Mn=="string"?mo[Mn]:!0}const fo=Fn.ethereum;if(fo!=null&&fo.providers)return fo.providers.find(mo=>io(mo));if(fo&&io(fo))return fo}function requestProviders(Fn){if(typeof window>"u")return;const Mn=io=>Fn(io.detail);return window.addEventListener("eip6963:announceProvider",Mn),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",Mn)}function createStore$3(){const Fn=new Set;let Mn=[];const io=()=>requestProviders(mo=>{Mn.some(({info:$o})=>$o.uuid===mo.info.uuid)||(Mn=[...Mn,mo],Fn.forEach($o=>$o(Mn,{added:[mo]})))});let fo=io();return{_listeners(){return Fn},clear(){Fn.forEach(mo=>mo([],{removed:[...Mn]})),Mn=[]},destroy(){this.clear(),Fn.clear(),fo==null||fo()},findProvider({rdns:mo}){return Mn.find($o=>$o.info.rdns===mo)},getProviders(){return Mn},reset(){this.clear(),fo==null||fo(),fo=io()},subscribe(mo,{emitImmediately:$o}={}){return Fn.add(mo),$o&&mo(Mn,{added:Mn}),()=>Fn.delete(mo)}}}const subscribeWithSelectorImpl=Fn=>(Mn,io,fo)=>{const mo=fo.subscribe;return fo.subscribe=(Ao,Lo,Wo)=>{let jo=Ao;if(Lo){const zo=(Wo==null?void 0:Wo.equalityFn)||Object.is;let Vo=Ao(fo.getState());jo=Go=>{const Jo=Ao(Go);if(!zo(Vo,Jo)){const Qo=Vo;Lo(Vo=Jo,Qo)}},Wo!=null&&Wo.fireImmediately&&Lo(Vo,Vo)}return mo(jo)},Fn(Mn,io,fo)},subscribeWithSelector=subscribeWithSelectorImpl;function createJSONStorage(Fn,Mn){let io;try{io=Fn()}catch{return}return{getItem:mo=>{var $o;const Ao=Wo=>Wo===null?null:JSON.parse(Wo,void 0),Lo=($o=io.getItem(mo))!=null?$o:null;return Lo instanceof Promise?Lo.then(Ao):Ao(Lo)},setItem:(mo,$o)=>io.setItem(mo,JSON.stringify($o,void 0)),removeItem:mo=>io.removeItem(mo)}}const toThenable=Fn=>Mn=>{try{const io=Fn(Mn);return io instanceof Promise?io:{then(fo){return toThenable(fo)(io)},catch(fo){return this}}}catch(io){return{then(fo){return this},catch(fo){return toThenable(fo)(io)}}}},persistImpl=(Fn,Mn)=>(io,fo,mo)=>{let $o={storage:createJSONStorage(()=>localStorage),partialize:os=>os,version:0,merge:(os,Cl)=>({...Cl,...os}),...Mn},Ao=!1;const Lo=new Set,Wo=new Set;let jo=$o.storage;if(!jo)return Fn((...os)=>{console.warn(`[zustand persist middleware] Unable to update item '${$o.name}', the given storage is currently unavailable.`),io(...os)},fo,mo);const zo=()=>{const os=$o.partialize({...fo()});return jo.setItem($o.name,{state:os,version:$o.version})},Vo=mo.setState;mo.setState=(os,Cl)=>{Vo(os,Cl),zo()};const Go=Fn((...os)=>{io(...os),zo()},fo,mo);mo.getInitialState=()=>Go;let Jo;const Qo=()=>{var os,Cl;if(!jo)return;Ao=!1,Lo.forEach(ds=>{var _c;return ds((_c=fo())!=null?_c:Go)});const xl=((Cl=$o.onRehydrateStorage)==null?void 0:Cl.call($o,(os=fo())!=null?os:Go))||void 0;return toThenable(jo.getItem.bind(jo))($o.name).then(ds=>{if(ds)if(typeof ds.version=="number"&&ds.version!==$o.version){if($o.migrate)return[!0,$o.migrate(ds.state,ds.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,ds.state];return[!1,void 0]}).then(ds=>{var _c;const[$l,Al]=ds;if(Jo=$o.merge(Al,(_c=fo())!=null?_c:Go),io(Jo,!0),$l)return zo()}).then(()=>{xl==null||xl(Jo,void 0),Jo=fo(),Ao=!0,Wo.forEach(ds=>ds(Jo))}).catch(ds=>{xl==null||xl(void 0,ds)})};return mo.persist={setOptions:os=>{$o={...$o,...os},os.storage&&(jo=os.storage)},clearStorage:()=>{jo==null||jo.removeItem($o.name)},getOptions:()=>$o,rehydrate:()=>Qo(),hasHydrated:()=>Ao,onHydrate:os=>(Lo.add(os),()=>{Lo.delete(os)}),onFinishHydration:os=>(Wo.add(os),()=>{Wo.delete(os)})},$o.skipHydration||Qo(),Jo||Go},persist=persistImpl,createStoreImpl=Fn=>{let Mn;const io=new Set,fo=(jo,zo)=>{const Vo=typeof jo=="function"?jo(Mn):jo;if(!Object.is(Vo,Mn)){const Go=Mn;Mn=zo??(typeof Vo!="object"||Vo===null)?Vo:Object.assign({},Mn,Vo),io.forEach(Jo=>Jo(Mn,Go))}},mo=()=>Mn,Lo={setState:fo,getState:mo,getInitialState:()=>Wo,subscribe:jo=>(io.add(jo),()=>io.delete(jo))},Wo=Mn=Fn(fo,mo,Lo);return Lo},createStore$2=Fn=>Fn?createStoreImpl(Fn):createStoreImpl;var eventemitter3={exports:{}};(function(Fn){var Mn=Object.prototype.hasOwnProperty,io="~";function fo(){}Object.create&&(fo.prototype=Object.create(null),new fo().__proto__||(io=!1));function mo(Wo,jo,zo){this.fn=Wo,this.context=jo,this.once=zo||!1}function $o(Wo,jo,zo,Vo,Go){if(typeof zo!="function")throw new TypeError("The listener must be a function");var Jo=new mo(zo,Vo||Wo,Go),Qo=io?io+jo:jo;return Wo._events[Qo]?Wo._events[Qo].fn?Wo._events[Qo]=[Wo._events[Qo],Jo]:Wo._events[Qo].push(Jo):(Wo._events[Qo]=Jo,Wo._eventsCount++),Wo}function Ao(Wo,jo){--Wo._eventsCount===0?Wo._events=new fo:delete Wo._events[jo]}function Lo(){this._events=new fo,this._eventsCount=0}Lo.prototype.eventNames=function(){var jo=[],zo,Vo;if(this._eventsCount===0)return jo;for(Vo in zo=this._events)Mn.call(zo,Vo)&&jo.push(io?Vo.slice(1):Vo);return Object.getOwnPropertySymbols?jo.concat(Object.getOwnPropertySymbols(zo)):jo},Lo.prototype.listeners=function(jo){var zo=io?io+jo:jo,Vo=this._events[zo];if(!Vo)return[];if(Vo.fn)return[Vo.fn];for(var Go=0,Jo=Vo.length,Qo=new Array(Jo);Go<Jo;Go++)Qo[Go]=Vo[Go].fn;return Qo},Lo.prototype.listenerCount=function(jo){var zo=io?io+jo:jo,Vo=this._events[zo];return Vo?Vo.fn?1:Vo.length:0},Lo.prototype.emit=function(jo,zo,Vo,Go,Jo,Qo){var os=io?io+jo:jo;if(!this._events[os])return!1;var Cl=this._events[os],xl=arguments.length,ds,_c;if(Cl.fn){switch(Cl.once&&this.removeListener(jo,Cl.fn,void 0,!0),xl){case 1:return Cl.fn.call(Cl.context),!0;case 2:return Cl.fn.call(Cl.context,zo),!0;case 3:return Cl.fn.call(Cl.context,zo,Vo),!0;case 4:return Cl.fn.call(Cl.context,zo,Vo,Go),!0;case 5:return Cl.fn.call(Cl.context,zo,Vo,Go,Jo),!0;case 6:return Cl.fn.call(Cl.context,zo,Vo,Go,Jo,Qo),!0}for(_c=1,ds=new Array(xl-1);_c<xl;_c++)ds[_c-1]=arguments[_c];Cl.fn.apply(Cl.context,ds)}else{var $l=Cl.length,Al;for(_c=0;_c<$l;_c++)switch(Cl[_c].once&&this.removeListener(jo,Cl[_c].fn,void 0,!0),xl){case 1:Cl[_c].fn.call(Cl[_c].context);break;case 2:Cl[_c].fn.call(Cl[_c].context,zo);break;case 3:Cl[_c].fn.call(Cl[_c].context,zo,Vo);break;case 4:Cl[_c].fn.call(Cl[_c].context,zo,Vo,Go);break;default:if(!ds)for(Al=1,ds=new Array(xl-1);Al<xl;Al++)ds[Al-1]=arguments[Al];Cl[_c].fn.apply(Cl[_c].context,ds)}}return!0},Lo.prototype.on=function(jo,zo,Vo){return $o(this,jo,zo,Vo,!1)},Lo.prototype.once=function(jo,zo,Vo){return $o(this,jo,zo,Vo,!0)},Lo.prototype.removeListener=function(jo,zo,Vo,Go){var Jo=io?io+jo:jo;if(!this._events[Jo])return this;if(!zo)return Ao(this,Jo),this;var Qo=this._events[Jo];if(Qo.fn)Qo.fn===zo&&(!Go||Qo.once)&&(!Vo||Qo.context===Vo)&&Ao(this,Jo);else{for(var os=0,Cl=[],xl=Qo.length;os<xl;os++)(Qo[os].fn!==zo||Go&&!Qo[os].once||Vo&&Qo[os].context!==Vo)&&Cl.push(Qo[os]);Cl.length?this._events[Jo]=Cl.length===1?Cl[0]:Cl:Ao(this,Jo)}return this},Lo.prototype.removeAllListeners=function(jo){var zo;return jo?(zo=io?io+jo:jo,this._events[zo]&&Ao(this,zo)):(this._events=new fo,this._eventsCount=0),this},Lo.prototype.off=Lo.prototype.removeListener,Lo.prototype.addListener=Lo.prototype.on,Lo.prefixed=io,Lo.EventEmitter=Lo,Fn.exports=Lo})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter$1=getDefaultExportFromCjs(eventemitter3Exports);class Emitter{constructor(Mn){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:Mn}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new EventEmitter$1})}on(Mn,io){this._emitter.on(Mn,io)}once(Mn,io){this._emitter.once(Mn,io)}off(Mn,io){this._emitter.off(Mn,io)}emit(Mn,...io){const fo=io[0];this._emitter.emit(Mn,{uid:this.uid,...fo})}listenerCount(Mn){return this._emitter.listenerCount(Mn)}}function createEmitter(Fn){return new Emitter(Fn)}function deserialize(Fn,Mn){return JSON.parse(Fn,(io,fo)=>{let mo=fo;return(mo==null?void 0:mo.__type)==="bigint"&&(mo=BigInt(mo.value)),(mo==null?void 0:mo.__type)==="Map"&&(mo=new Map(mo.value)),(Mn==null?void 0:Mn(io,mo))??mo})}function getReferenceKey(Fn,Mn){return Fn.slice(0,Mn).join(".")||"."}function getCutoff(Fn,Mn){const{length:io}=Fn;for(let fo=0;fo<io;++fo)if(Fn[fo]===Mn)return fo+1;return 0}function createReplacer(Fn,Mn){const io=typeof Fn=="function",fo=typeof Mn=="function",mo=[],$o=[];return function(Lo,Wo){if(typeof Wo=="object")if(mo.length){const jo=getCutoff(mo,this);jo===0?mo[mo.length]=this:(mo.splice(jo),$o.splice(jo)),$o[$o.length]=Lo;const zo=getCutoff(mo,Wo);if(zo!==0)return fo?Mn.call(this,Lo,Wo,getReferenceKey($o,zo)):`[ref=${getReferenceKey($o,zo)}]`}else mo[0]=Wo,$o[0]=Lo;return io?Fn.call(this,Lo,Wo):Wo}}function serialize(Fn,Mn,io,fo){return JSON.stringify(Fn,createReplacer((mo,$o)=>{let Ao=$o;return typeof Ao=="bigint"&&(Ao={__type:"bigint",value:$o.toString()}),Ao instanceof Map&&(Ao={__type:"Map",value:Array.from($o.entries())}),(Mn==null?void 0:Mn(mo,Ao))??Ao},fo),io??void 0)}function createStorage(Fn){const{deserialize:Mn=deserialize,key:io="wagmi",serialize:fo=serialize,storage:mo=noopStorage}=Fn;function $o(Ao){return Ao instanceof Promise?Ao.then(Lo=>Lo).catch(()=>null):Ao}return{...mo,key:io,async getItem(Ao,Lo){const Wo=mo.getItem(`${io}.${Ao}`),jo=await $o(Wo);return jo?Mn(jo)??null:Lo??null},async setItem(Ao,Lo){const Wo=`${io}.${Ao}`;Lo===null?await $o(mo.removeItem(Wo)):await $o(mo.setItem(Wo,fo(Lo)))},async removeItem(Ao){await $o(mo.removeItem(`${io}.${Ao}`))}}}const noopStorage={getItem:()=>null,setItem:()=>{},removeItem:()=>{}},size$4=256;let index$1=size$4,buffer$1;function uid(Fn=11){if(!buffer$1||index$1+Fn>size$4*2){buffer$1="",index$1=0;for(let Mn=0;Mn<size$4;Mn++)buffer$1+=(256+Math.random()*256|0).toString(16).substring(1)}return buffer$1.substring(index$1,index$1+++Fn)}function createConfig(Fn){const{multiInjectedProviderDiscovery:Mn=!0,storage:io=createStorage({storage:typeof window<"u"&&window.localStorage?window.localStorage:noopStorage}),syncConnectedChain:fo=!0,ssr:mo=!1,...$o}=Fn,Ao=typeof window<"u"&&Mn?createStore$3():void 0,Lo=createStore$2(()=>$o.chains),Wo=createStore$2(()=>{const Al=[],Il=new Set;for(const us of $o.connectors??[]){const ps=jo(us);if(Al.push(ps),!mo&&ps.rdns){const Rl=typeof ps.rdns=="string"?[ps.rdns]:ps.rdns;for(const Wl of Rl)Il.add(Wl)}}if(!mo&&Ao){const us=Ao.getProviders();for(const ps of us)Il.has(ps.info.rdns)||Al.push(jo(zo(ps)))}return Al});function jo(Al){var ps;const Il=createEmitter(uid()),us={...Al({emitter:Il,chains:Lo.getState(),storage:io,transports:$o.transports}),emitter:Il,uid:Il.uid};return Il.on("connect",_c),(ps=us.setup)==null||ps.call(us),us}function zo(Al){const{info:Il}=Al,us=Al.provider;return injected({target:{...Il,id:Il.rdns,provider:us}})}const Vo=new Map;function Go(Al={}){const Il=Al.chainId??Cl.getState().chainId,us=Lo.getState().find(Rl=>Rl.id===Il);if(Al.chainId&&!us)throw new ChainNotConfiguredError;{const Rl=Vo.get(Cl.getState().chainId);if(Rl&&!us)return Rl;if(!us)throw new ChainNotConfiguredError}{const Rl=Vo.get(Il);if(Rl)return Rl}let ps;if($o.client)ps=$o.client({chain:us});else{const Rl=us.id,Wl=Lo.getState().map(Xo=>Xo.id),Nl={},wl=Object.entries($o);for(const[Xo,rs]of wl)if(!(Xo==="chains"||Xo==="client"||Xo==="connectors"||Xo==="transports"))if(typeof rs=="object")if(Rl in rs)Nl[Xo]=rs[Rl];else{if(Wl.some(El=>El in rs))continue;Nl[Xo]=rs}else Nl[Xo]=rs;ps=createClient({...Nl,chain:us,batch:Nl.batch??{multicall:!0},transport:Xo=>$o.transports[Rl]({...Xo,connectors:Wo})})}return Vo.set(Il,ps),ps}function Jo(){return{chainId:Lo.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let Qo;const os="0.0.0-canary-";version$1.startsWith(os)?Qo=Number.parseInt(version$1.replace(os,"")):Qo=Number.parseInt(version$1.split(".")[0]??"0");const Cl=createStore$2(subscribeWithSelector(io?persist(Jo,{migrate(Al,Il){if(Il===Qo)return Al;const us=Jo(),ps=xl(Al,us.chainId);return{...us,chainId:ps}},name:"store",partialize(Al){return{connections:{__type:"Map",value:Array.from(Al.connections.entries()).map(([Il,us])=>{const{id:ps,name:Rl,type:Wl,uid:Nl}=us.connector;return[Il,{...us,connector:{id:ps,name:Rl,type:Wl,uid:Nl}}]})},chainId:Al.chainId,current:Al.current}},merge(Al,Il){typeof Al=="object"&&Al&&"status"in Al&&delete Al.status;const us=xl(Al,Il.chainId);return{...Il,...Al,chainId:us}},skipHydration:mo,storage:io,version:Qo}):Jo));Cl.setState(Jo());function xl(Al,Il){return Al&&typeof Al=="object"&&"chainId"in Al&&typeof Al.chainId=="number"&&Lo.getState().some(us=>us.id===Al.chainId)?Al.chainId:Il}fo&&Cl.subscribe(({connections:Al,current:Il})=>{var us;return Il?(us=Al.get(Il))==null?void 0:us.chainId:void 0},Al=>{if(Lo.getState().some(us=>us.id===Al))return Cl.setState(us=>({...us,chainId:Al??us.chainId}))}),Ao==null||Ao.subscribe(Al=>{const Il=new Set,us=new Set;for(const Rl of Wo.getState())if(Il.add(Rl.id),Rl.rdns){const Wl=typeof Rl.rdns=="string"?[Rl.rdns]:Rl.rdns;for(const Nl of Wl)us.add(Nl)}const ps=[];for(const Rl of Al){if(us.has(Rl.info.rdns))continue;const Wl=jo(zo(Rl));Il.has(Wl.id)||ps.push(Wl)}io&&!Cl.persist.hasHydrated()||Wo.setState(Rl=>[...Rl,...ps],!0)});function ds(Al){Cl.setState(Il=>{const us=Il.connections.get(Al.uid);return us?{...Il,connections:new Map(Il.connections).set(Al.uid,{accounts:Al.accounts??us.accounts,chainId:Al.chainId??us.chainId,connector:us.connector})}:Il})}function _c(Al){Cl.getState().status==="connecting"||Cl.getState().status==="reconnecting"||Cl.setState(Il=>{const us=Wo.getState().find(ps=>ps.uid===Al.uid);return us?(us.emitter.listenerCount("connect")&&us.emitter.off("connect",ds),us.emitter.listenerCount("change")||us.emitter.on("change",ds),us.emitter.listenerCount("disconnect")||us.emitter.on("disconnect",$l),{...Il,connections:new Map(Il.connections).set(Al.uid,{accounts:Al.accounts,chainId:Al.chainId,connector:us}),current:Al.uid,status:"connected"}):Il})}function $l(Al){Cl.setState(Il=>{const us=Il.connections.get(Al.uid);if(us){const Rl=us.connector;Rl.emitter.listenerCount("change")&&us.connector.emitter.off("change",ds),Rl.emitter.listenerCount("disconnect")&&us.connector.emitter.off("disconnect",$l),Rl.emitter.listenerCount("connect")||us.connector.emitter.on("connect",_c)}if(Il.connections.delete(Al.uid),Il.connections.size===0)return{...Il,connections:new Map,current:null,status:"disconnected"};const ps=Il.connections.values().next().value;return{...Il,connections:new Map(Il.connections),current:ps.connector.uid}})}return{get chains(){return Lo.getState()},get connectors(){return Wo.getState()},storage:io,getClient:Go,get state(){return Cl.getState()},setState(Al){let Il;typeof Al=="function"?Il=Al(Cl.getState()):Il=Al;const us=Jo();typeof Il!="object"&&(Il=us),Object.keys(us).some(Rl=>!(Rl in Il))&&(Il=us),Cl.setState(Il,!0)},subscribe(Al,Il,us){return Cl.subscribe(Al,Il,us?{...us,fireImmediately:us.emitImmediately}:void 0)},_internal:{mipd:Ao,store:Cl,ssr:!!mo,syncConnectedChain:fo,transports:$o.transports,chains:{setState(Al){const Il=typeof Al=="function"?Al(Lo.getState()):Al;if(Il.length!==0)return Lo.setState(Il,!0)},subscribe(Al){return Lo.subscribe(Al)}},connectors:{providerDetailToConnector:zo,setup:jo,setState(Al){return Wo.setState(typeof Al=="function"?Al(Wo.getState()):Al,!0)},subscribe(Al){return Wo.subscribe(Al)}},events:{change:ds,connect:_c,disconnect:$l}}}}function hydrate(Fn,Mn){const{initialState:io,reconnectOnMount:fo}=Mn;return io&&!Fn._internal.store.persist.hasHydrated()&&Fn.setState({...io,chainId:Fn.chains.some(mo=>mo.id===io.chainId)?io.chainId:Fn.chains[0].id,connections:fo?io.connections:new Map,status:fo?"reconnecting":"disconnected"}),{async onMount(){Fn._internal.ssr&&(await Fn._internal.store.persist.rehydrate(),Fn._internal.mipd&&Fn._internal.connectors.setState(mo=>{var Wo;const $o=new Set;for(const jo of mo??[])if(jo.rdns){const zo=Array.isArray(jo.rdns)?jo.rdns:[jo.rdns];for(const Vo of zo)$o.add(Vo)}const Ao=[],Lo=((Wo=Fn._internal.mipd)==null?void 0:Wo.getProviders())??[];for(const jo of Lo){if($o.has(jo.info.rdns))continue;const zo=Fn._internal.connectors.providerDetailToConnector(jo),Vo=Fn._internal.connectors.setup(zo);Ao.push(Vo)}return[...mo,...Ao]})),fo?reconnect(Fn):Fn.storage&&Fn.setState(mo=>({...mo,connections:new Map}))}}}function Hydrate(Fn){const{children:Mn,config:io,initialState:fo,reconnectOnMount:mo=!0}=Fn,{onMount:$o}=hydrate(io,{initialState:fo,reconnectOnMount:mo});io._internal.ssr||$o();const Ao=reactExports.useRef(!0);return reactExports.useEffect(()=>{if(Ao.current&&io._internal.ssr)return $o(),()=>{Ao.current=!1}},[]),Mn}const WagmiContext=reactExports.createContext(void 0);function WagmiProvider(Fn){const{children:Mn,config:io}=Fn,fo={value:io};return reactExports.createElement(Hydrate,Fn,reactExports.createElement(WagmiContext.Provider,fo,Mn))}var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(Fn){return this.listeners.add(Fn),this.onSubscribe(),()=>{this.listeners.delete(Fn),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$2(){}function functionalUpdate$1(Fn,Mn){return typeof Fn=="function"?Fn(Mn):Fn}function isValidTimeout(Fn){return typeof Fn=="number"&&Fn>=0&&Fn!==1/0}function timeUntilStale(Fn,Mn){return Math.max(Fn+(Mn||0)-Date.now(),0)}function resolveStaleTime(Fn,Mn){return typeof Fn=="function"?Fn(Mn):Fn}function resolveEnabled(Fn,Mn){return typeof Fn=="function"?Fn(Mn):Fn}function matchQuery(Fn,Mn){const{type:io="all",exact:fo,fetchStatus:mo,predicate:$o,queryKey:Ao,stale:Lo}=Fn;if(Ao){if(fo){if(Mn.queryHash!==hashQueryKeyByOptions(Ao,Mn.options))return!1}else if(!partialMatchKey(Mn.queryKey,Ao))return!1}if(io!=="all"){const Wo=Mn.isActive();if(io==="active"&&!Wo||io==="inactive"&&Wo)return!1}return!(typeof Lo=="boolean"&&Mn.isStale()!==Lo||mo&&mo!==Mn.state.fetchStatus||$o&&!$o(Mn))}function matchMutation(Fn,Mn){const{exact:io,status:fo,predicate:mo,mutationKey:$o}=Fn;if($o){if(!Mn.options.mutationKey)return!1;if(io){if(hashKey(Mn.options.mutationKey)!==hashKey($o))return!1}else if(!partialMatchKey(Mn.options.mutationKey,$o))return!1}return!(fo&&Mn.state.status!==fo||mo&&!mo(Mn))}function hashQueryKeyByOptions(Fn,Mn){return((Mn==null?void 0:Mn.queryKeyHashFn)||hashKey)(Fn)}function hashKey(Fn){return JSON.stringify(Fn,(Mn,io)=>isPlainObject$1(io)?Object.keys(io).sort().reduce((fo,mo)=>(fo[mo]=io[mo],fo),{}):io)}function partialMatchKey(Fn,Mn){return Fn===Mn?!0:typeof Fn!=typeof Mn?!1:Fn&&Mn&&typeof Fn=="object"&&typeof Mn=="object"?!Object.keys(Mn).some(io=>!partialMatchKey(Fn[io],Mn[io])):!1}function replaceEqualDeep$1(Fn,Mn){if(Fn===Mn)return Fn;const io=isPlainArray$1(Fn)&&isPlainArray$1(Mn);if(io||isPlainObject$1(Fn)&&isPlainObject$1(Mn)){const fo=io?Fn:Object.keys(Fn),mo=fo.length,$o=io?Mn:Object.keys(Mn),Ao=$o.length,Lo=io?[]:{};let Wo=0;for(let jo=0;jo<Ao;jo++){const zo=io?jo:$o[jo];(!io&&fo.includes(zo)||io)&&Fn[zo]===void 0&&Mn[zo]===void 0?(Lo[zo]=void 0,Wo++):(Lo[zo]=replaceEqualDeep$1(Fn[zo],Mn[zo]),Lo[zo]===Fn[zo]&&Fn[zo]!==void 0&&Wo++)}return mo===Ao&&Wo===mo?Fn:Lo}return Mn}function shallowEqualObjects(Fn,Mn){if(!Mn||Object.keys(Fn).length!==Object.keys(Mn).length)return!1;for(const io in Fn)if(Fn[io]!==Mn[io])return!1;return!0}function isPlainArray$1(Fn){return Array.isArray(Fn)&&Fn.length===Object.keys(Fn).length}function isPlainObject$1(Fn){if(!hasObjectPrototype$1(Fn))return!1;const Mn=Fn.constructor;if(Mn===void 0)return!0;const io=Mn.prototype;return!(!hasObjectPrototype$1(io)||!io.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(Fn)!==Object.prototype)}function hasObjectPrototype$1(Fn){return Object.prototype.toString.call(Fn)==="[object Object]"}function sleep(Fn){return new Promise(Mn=>{setTimeout(Mn,Fn)})}function replaceData(Fn,Mn,io){return typeof io.structuralSharing=="function"?io.structuralSharing(Fn,Mn):io.structuralSharing!==!1?replaceEqualDeep$1(Fn,Mn):Mn}function addToEnd(Fn,Mn,io=0){const fo=[...Fn,Mn];return io&&fo.length>io?fo.slice(1):fo}function addToStart(Fn,Mn,io=0){const fo=[Mn,...Fn];return io&&fo.length>io?fo.slice(0,-1):fo}var skipToken=Symbol();function ensureQueryFn(Fn,Mn){return!Fn.queryFn&&(Mn!=null&&Mn.initialPromise)?()=>Mn.initialPromise:!Fn.queryFn||Fn.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${Fn.queryHash}'`)):Fn.queryFn}var ly,jw,Py,g6,FocusManager=(g6=class extends Subscribable{constructor(){super();a1(this,ly);a1(this,jw);a1(this,Py);Zp(this,Py,Mn=>{if(!isServer&&window.addEventListener){const io=()=>Mn();return window.addEventListener("visibilitychange",io,!1),()=>{window.removeEventListener("visibilitychange",io)}}})}onSubscribe(){cp(this,jw)||this.setEventListener(cp(this,Py))}onUnsubscribe(){var Mn;this.hasListeners()||((Mn=cp(this,jw))==null||Mn.call(this),Zp(this,jw,void 0))}setEventListener(Mn){var io;Zp(this,Py,Mn),(io=cp(this,jw))==null||io.call(this),Zp(this,jw,Mn(fo=>{typeof fo=="boolean"?this.setFocused(fo):this.onFocus()}))}setFocused(Mn){cp(this,ly)!==Mn&&(Zp(this,ly,Mn),this.onFocus())}onFocus(){const Mn=this.isFocused();this.listeners.forEach(io=>{io(Mn)})}isFocused(){var Mn;return typeof cp(this,ly)=="boolean"?cp(this,ly):((Mn=globalThis.document)==null?void 0:Mn.visibilityState)!=="hidden"}},ly=new WeakMap,jw=new WeakMap,Py=new WeakMap,g6),focusManager=new FocusManager,Ny,zw,Dy,m6,OnlineManager=(m6=class extends Subscribable{constructor(){super();a1(this,Ny,!0);a1(this,zw);a1(this,Dy);Zp(this,Dy,Mn=>{if(!isServer&&window.addEventListener){const io=()=>Mn(!0),fo=()=>Mn(!1);return window.addEventListener("online",io,!1),window.addEventListener("offline",fo,!1),()=>{window.removeEventListener("online",io),window.removeEventListener("offline",fo)}}})}onSubscribe(){cp(this,zw)||this.setEventListener(cp(this,Dy))}onUnsubscribe(){var Mn;this.hasListeners()||((Mn=cp(this,zw))==null||Mn.call(this),Zp(this,zw,void 0))}setEventListener(Mn){var io;Zp(this,Dy,Mn),(io=cp(this,zw))==null||io.call(this),Zp(this,zw,Mn(this.setOnline.bind(this)))}setOnline(Mn){cp(this,Ny)!==Mn&&(Zp(this,Ny,Mn),this.listeners.forEach(fo=>{fo(Mn)}))}isOnline(){return cp(this,Ny)}},Ny=new WeakMap,zw=new WeakMap,Dy=new WeakMap,m6),onlineManager=new OnlineManager;function pendingThenable(){let Fn,Mn;const io=new Promise((mo,$o)=>{Fn=mo,Mn=$o});io.status="pending",io.catch(()=>{});function fo(mo){Object.assign(io,mo),delete io.resolve,delete io.reject}return io.resolve=mo=>{fo({status:"fulfilled",value:mo}),Fn(mo)},io.reject=mo=>{fo({status:"rejected",reason:mo}),Mn(mo)},io}function defaultRetryDelay(Fn){return Math.min(1e3*2**Fn,3e4)}function canFetch(Fn){return(Fn??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(Fn){super("CancelledError"),this.revert=Fn==null?void 0:Fn.revert,this.silent=Fn==null?void 0:Fn.silent}};function isCancelledError(Fn){return Fn instanceof CancelledError}function createRetryer(Fn){let Mn=!1,io=0,fo=!1,mo;const $o=pendingThenable(),Ao=os=>{var Cl;fo||(Go(new CancelledError(os)),(Cl=Fn.abort)==null||Cl.call(Fn))},Lo=()=>{Mn=!0},Wo=()=>{Mn=!1},jo=()=>focusManager.isFocused()&&(Fn.networkMode==="always"||onlineManager.isOnline())&&Fn.canRun(),zo=()=>canFetch(Fn.networkMode)&&Fn.canRun(),Vo=os=>{var Cl;fo||(fo=!0,(Cl=Fn.onSuccess)==null||Cl.call(Fn,os),mo==null||mo(),$o.resolve(os))},Go=os=>{var Cl;fo||(fo=!0,(Cl=Fn.onError)==null||Cl.call(Fn,os),mo==null||mo(),$o.reject(os))},Jo=()=>new Promise(os=>{var Cl;mo=xl=>{(fo||jo())&&os(xl)},(Cl=Fn.onPause)==null||Cl.call(Fn)}).then(()=>{var os;mo=void 0,fo||(os=Fn.onContinue)==null||os.call(Fn)}),Qo=()=>{if(fo)return;let os;const Cl=io===0?Fn.initialPromise:void 0;try{os=Cl??Fn.fn()}catch(xl){os=Promise.reject(xl)}Promise.resolve(os).then(Vo).catch(xl=>{var Il;if(fo)return;const ds=Fn.retry??(isServer?0:3),_c=Fn.retryDelay??defaultRetryDelay,$l=typeof _c=="function"?_c(io,xl):_c,Al=ds===!0||typeof ds=="number"&&io<ds||typeof ds=="function"&&ds(io,xl);if(Mn||!Al){Go(xl);return}io++,(Il=Fn.onFail)==null||Il.call(Fn,io,xl),sleep($l).then(()=>jo()?void 0:Jo()).then(()=>{Mn?Go(xl):Qo()})})};return{promise:$o,cancel:Ao,continue:()=>(mo==null||mo(),$o),cancelRetry:Lo,continueRetry:Wo,canStart:zo,start:()=>(zo()?Qo():Jo().then(Qo),$o)}}function createNotifyManager(){let Fn=[],Mn=0,io=Lo=>{Lo()},fo=Lo=>{Lo()},mo=Lo=>setTimeout(Lo,0);const $o=Lo=>{Mn?Fn.push(Lo):mo(()=>{io(Lo)})},Ao=()=>{const Lo=Fn;Fn=[],Lo.length&&mo(()=>{fo(()=>{Lo.forEach(Wo=>{io(Wo)})})})};return{batch:Lo=>{let Wo;Mn++;try{Wo=Lo()}finally{Mn--,Mn||Ao()}return Wo},batchCalls:Lo=>(...Wo)=>{$o(()=>{Lo(...Wo)})},schedule:$o,setNotifyFunction:Lo=>{io=Lo},setBatchNotifyFunction:Lo=>{fo=Lo},setScheduler:Lo=>{mo=Lo}}}var notifyManager=createNotifyManager(),uy,w6,Removable=(w6=class{constructor(){a1(this,uy)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&Zp(this,uy,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(Fn){this.gcTime=Math.max(this.gcTime||0,Fn??(isServer?1/0:5*60*1e3))}clearGcTimeout(){cp(this,uy)&&(clearTimeout(cp(this,uy)),Zp(this,uy,void 0))}},uy=new WeakMap,w6),Oy,My,Ym,ym,Nv,dy,uw,Iw,y6,Query=(y6=class extends Removable{constructor(Mn){super();a1(this,uw);a1(this,Oy);a1(this,My);a1(this,Ym);a1(this,ym);a1(this,Nv);a1(this,dy);Zp(this,dy,!1),Zp(this,Nv,Mn.defaultOptions),this.setOptions(Mn.options),this.observers=[],Zp(this,Ym,Mn.cache),this.queryKey=Mn.queryKey,this.queryHash=Mn.queryHash,Zp(this,Oy,getDefaultState$1(this.options)),this.state=Mn.state??cp(this,Oy),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var Mn;return(Mn=cp(this,ym))==null?void 0:Mn.promise}setOptions(Mn){this.options={...cp(this,Nv),...Mn},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&cp(this,Ym).remove(this)}setData(Mn,io){const fo=replaceData(this.state.data,Mn,this.options);return q1(this,uw,Iw).call(this,{data:fo,type:"success",dataUpdatedAt:io==null?void 0:io.updatedAt,manual:io==null?void 0:io.manual}),fo}setState(Mn,io){q1(this,uw,Iw).call(this,{type:"setState",state:Mn,setStateOptions:io})}cancel(Mn){var fo,mo;const io=(fo=cp(this,ym))==null?void 0:fo.promise;return(mo=cp(this,ym))==null||mo.cancel(Mn),io?io.then(noop$2).catch(noop$2):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(cp(this,Oy))}isActive(){return this.observers.some(Mn=>resolveEnabled(Mn.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(Mn=>Mn.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(Mn=0){return this.state.isInvalidated||this.state.data===void 0||!timeUntilStale(this.state.dataUpdatedAt,Mn)}onFocus(){var io;const Mn=this.observers.find(fo=>fo.shouldFetchOnWindowFocus());Mn==null||Mn.refetch({cancelRefetch:!1}),(io=cp(this,ym))==null||io.continue()}onOnline(){var io;const Mn=this.observers.find(fo=>fo.shouldFetchOnReconnect());Mn==null||Mn.refetch({cancelRefetch:!1}),(io=cp(this,ym))==null||io.continue()}addObserver(Mn){this.observers.includes(Mn)||(this.observers.push(Mn),this.clearGcTimeout(),cp(this,Ym).notify({type:"observerAdded",query:this,observer:Mn}))}removeObserver(Mn){this.observers.includes(Mn)&&(this.observers=this.observers.filter(io=>io!==Mn),this.observers.length||(cp(this,ym)&&(cp(this,dy)?cp(this,ym).cancel({revert:!0}):cp(this,ym).cancelRetry()),this.scheduleGc()),cp(this,Ym).notify({type:"observerRemoved",query:this,observer:Mn}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||q1(this,uw,Iw).call(this,{type:"invalidate"})}fetch(Mn,io){var Wo,jo,zo;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(io!=null&&io.cancelRefetch))this.cancel({silent:!0});else if(cp(this,ym))return cp(this,ym).continueRetry(),cp(this,ym).promise}if(Mn&&this.setOptions(Mn),!this.options.queryFn){const Vo=this.observers.find(Go=>Go.options.queryFn);Vo&&this.setOptions(Vo.options)}const fo=new AbortController,mo=Vo=>{Object.defineProperty(Vo,"signal",{enumerable:!0,get:()=>(Zp(this,dy,!0),fo.signal)})},$o=()=>{const Vo=ensureQueryFn(this.options,io),Go={queryKey:this.queryKey,meta:this.meta};return mo(Go),Zp(this,dy,!1),this.options.persister?this.options.persister(Vo,Go,this):Vo(Go)},Ao={fetchOptions:io,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:$o};mo(Ao),(Wo=this.options.behavior)==null||Wo.onFetch(Ao,this),Zp(this,My,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((jo=Ao.fetchOptions)==null?void 0:jo.meta))&&q1(this,uw,Iw).call(this,{type:"fetch",meta:(zo=Ao.fetchOptions)==null?void 0:zo.meta});const Lo=Vo=>{var Go,Jo,Qo,os;isCancelledError(Vo)&&Vo.silent||q1(this,uw,Iw).call(this,{type:"error",error:Vo}),isCancelledError(Vo)||((Jo=(Go=cp(this,Ym).config).onError)==null||Jo.call(Go,Vo,this),(os=(Qo=cp(this,Ym).config).onSettled)==null||os.call(Qo,this.state.data,Vo,this)),this.scheduleGc()};return Zp(this,ym,createRetryer({initialPromise:io==null?void 0:io.initialPromise,fn:Ao.fetchFn,abort:fo.abort.bind(fo),onSuccess:Vo=>{var Go,Jo,Qo,os;if(Vo===void 0){Lo(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(Vo)}catch(Cl){Lo(Cl);return}(Jo=(Go=cp(this,Ym).config).onSuccess)==null||Jo.call(Go,Vo,this),(os=(Qo=cp(this,Ym).config).onSettled)==null||os.call(Qo,Vo,this.state.error,this),this.scheduleGc()},onError:Lo,onFail:(Vo,Go)=>{q1(this,uw,Iw).call(this,{type:"failed",failureCount:Vo,error:Go})},onPause:()=>{q1(this,uw,Iw).call(this,{type:"pause"})},onContinue:()=>{q1(this,uw,Iw).call(this,{type:"continue"})},retry:Ao.options.retry,retryDelay:Ao.options.retryDelay,networkMode:Ao.options.networkMode,canRun:()=>!0})),cp(this,ym).start()}},Oy=new WeakMap,My=new WeakMap,Ym=new WeakMap,ym=new WeakMap,Nv=new WeakMap,dy=new WeakMap,uw=new WeakSet,Iw=function(Mn){const io=fo=>{switch(Mn.type){case"failed":return{...fo,fetchFailureCount:Mn.failureCount,fetchFailureReason:Mn.error};case"pause":return{...fo,fetchStatus:"paused"};case"continue":return{...fo,fetchStatus:"fetching"};case"fetch":return{...fo,...fetchState(fo.data,this.options),fetchMeta:Mn.meta??null};case"success":return{...fo,data:Mn.data,dataUpdateCount:fo.dataUpdateCount+1,dataUpdatedAt:Mn.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!Mn.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const mo=Mn.error;return isCancelledError(mo)&&mo.revert&&cp(this,My)?{...cp(this,My),fetchStatus:"idle"}:{...fo,error:mo,errorUpdateCount:fo.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:fo.fetchFailureCount+1,fetchFailureReason:mo,fetchStatus:"idle",status:"error"};case"invalidate":return{...fo,isInvalidated:!0};case"setState":return{...fo,...Mn.state}}};this.state=io(this.state),notifyManager.batch(()=>{this.observers.forEach(fo=>{fo.onQueryUpdate()}),cp(this,Ym).notify({query:this,type:"updated",action:Mn})})},y6);function fetchState(Fn,Mn){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(Mn.networkMode)?"fetching":"paused",...Fn===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(Fn){const Mn=typeof Fn.initialData=="function"?Fn.initialData():Fn.initialData,io=Mn!==void 0,fo=io?typeof Fn.initialDataUpdatedAt=="function"?Fn.initialDataUpdatedAt():Fn.initialDataUpdatedAt:0;return{data:Mn,dataUpdateCount:0,dataUpdatedAt:io?fo??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:io?"success":"pending",fetchStatus:"idle"}}var mw,b6,QueryCache=(b6=class extends Subscribable{constructor(Mn={}){super();a1(this,mw);this.config=Mn,Zp(this,mw,new Map)}build(Mn,io,fo){const mo=io.queryKey,$o=io.queryHash??hashQueryKeyByOptions(mo,io);let Ao=this.get($o);return Ao||(Ao=new Query({cache:this,queryKey:mo,queryHash:$o,options:Mn.defaultQueryOptions(io),state:fo,defaultOptions:Mn.getQueryDefaults(mo)}),this.add(Ao)),Ao}add(Mn){cp(this,mw).has(Mn.queryHash)||(cp(this,mw).set(Mn.queryHash,Mn),this.notify({type:"added",query:Mn}))}remove(Mn){const io=cp(this,mw).get(Mn.queryHash);io&&(Mn.destroy(),io===Mn&&cp(this,mw).delete(Mn.queryHash),this.notify({type:"removed",query:Mn}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(Mn=>{this.remove(Mn)})})}get(Mn){return cp(this,mw).get(Mn)}getAll(){return[...cp(this,mw).values()]}find(Mn){const io={exact:!0,...Mn};return this.getAll().find(fo=>matchQuery(io,fo))}findAll(Mn={}){const io=this.getAll();return Object.keys(Mn).length>0?io.filter(fo=>matchQuery(Mn,fo)):io}notify(Mn){notifyManager.batch(()=>{this.listeners.forEach(io=>{io(Mn)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(Mn=>{Mn.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(Mn=>{Mn.onOnline()})})}},mw=new WeakMap,b6),ww,_m,hy,yw,Fw,v6,Mutation=(v6=class extends Removable{constructor(Mn){super();a1(this,yw);a1(this,ww);a1(this,_m);a1(this,hy);this.mutationId=Mn.mutationId,Zp(this,_m,Mn.mutationCache),Zp(this,ww,[]),this.state=Mn.state||getDefaultState(),this.setOptions(Mn.options),this.scheduleGc()}setOptions(Mn){this.options=Mn,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(Mn){cp(this,ww).includes(Mn)||(cp(this,ww).push(Mn),this.clearGcTimeout(),cp(this,_m).notify({type:"observerAdded",mutation:this,observer:Mn}))}removeObserver(Mn){Zp(this,ww,cp(this,ww).filter(io=>io!==Mn)),this.scheduleGc(),cp(this,_m).notify({type:"observerRemoved",mutation:this,observer:Mn})}optionalRemove(){cp(this,ww).length||(this.state.status==="pending"?this.scheduleGc():cp(this,_m).remove(this))}continue(){var Mn;return((Mn=cp(this,hy))==null?void 0:Mn.continue())??this.execute(this.state.variables)}async execute(Mn){var mo,$o,Ao,Lo,Wo,jo,zo,Vo,Go,Jo,Qo,os,Cl,xl,ds,_c,$l,Al,Il,us;Zp(this,hy,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(Mn):Promise.reject(new Error("No mutationFn found")),onFail:(ps,Rl)=>{q1(this,yw,Fw).call(this,{type:"failed",failureCount:ps,error:Rl})},onPause:()=>{q1(this,yw,Fw).call(this,{type:"pause"})},onContinue:()=>{q1(this,yw,Fw).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>cp(this,_m).canRun(this)}));const io=this.state.status==="pending",fo=!cp(this,hy).canStart();try{if(!io){q1(this,yw,Fw).call(this,{type:"pending",variables:Mn,isPaused:fo}),await(($o=(mo=cp(this,_m).config).onMutate)==null?void 0:$o.call(mo,Mn,this));const Rl=await((Lo=(Ao=this.options).onMutate)==null?void 0:Lo.call(Ao,Mn));Rl!==this.state.context&&q1(this,yw,Fw).call(this,{type:"pending",context:Rl,variables:Mn,isPaused:fo})}const ps=await cp(this,hy).start();return await((jo=(Wo=cp(this,_m).config).onSuccess)==null?void 0:jo.call(Wo,ps,Mn,this.state.context,this)),await((Vo=(zo=this.options).onSuccess)==null?void 0:Vo.call(zo,ps,Mn,this.state.context)),await((Jo=(Go=cp(this,_m).config).onSettled)==null?void 0:Jo.call(Go,ps,null,this.state.variables,this.state.context,this)),await((os=(Qo=this.options).onSettled)==null?void 0:os.call(Qo,ps,null,Mn,this.state.context)),q1(this,yw,Fw).call(this,{type:"success",data:ps}),ps}catch(ps){try{throw await((xl=(Cl=cp(this,_m).config).onError)==null?void 0:xl.call(Cl,ps,Mn,this.state.context,this)),await((_c=(ds=this.options).onError)==null?void 0:_c.call(ds,ps,Mn,this.state.context)),await((Al=($l=cp(this,_m).config).onSettled)==null?void 0:Al.call($l,void 0,ps,this.state.variables,this.state.context,this)),await((us=(Il=this.options).onSettled)==null?void 0:us.call(Il,void 0,ps,Mn,this.state.context)),ps}finally{q1(this,yw,Fw).call(this,{type:"error",error:ps})}}finally{cp(this,_m).runNext(this)}}},ww=new WeakMap,_m=new WeakMap,hy=new WeakMap,yw=new WeakSet,Fw=function(Mn){const io=fo=>{switch(Mn.type){case"failed":return{...fo,failureCount:Mn.failureCount,failureReason:Mn.error};case"pause":return{...fo,isPaused:!0};case"continue":return{...fo,isPaused:!1};case"pending":return{...fo,context:Mn.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:Mn.isPaused,status:"pending",variables:Mn.variables,submittedAt:Date.now()};case"success":return{...fo,data:Mn.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...fo,data:void 0,error:Mn.error,failureCount:fo.failureCount+1,failureReason:Mn.error,isPaused:!1,status:"error"}}};this.state=io(this.state),notifyManager.batch(()=>{cp(this,ww).forEach(fo=>{fo.onMutationUpdate(Mn)}),cp(this,_m).notify({mutation:this,type:"updated",action:Mn})})},v6);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wm,Dv,$6,MutationCache=($6=class extends Subscribable{constructor(Mn={}){super();a1(this,Wm);a1(this,Dv);this.config=Mn,Zp(this,Wm,new Map),Zp(this,Dv,Date.now())}build(Mn,io,fo){const mo=new Mutation({mutationCache:this,mutationId:++q2(this,Dv)._,options:Mn.defaultMutationOptions(io),state:fo});return this.add(mo),mo}add(Mn){const io=scopeFor(Mn),fo=cp(this,Wm).get(io)??[];fo.push(Mn),cp(this,Wm).set(io,fo),this.notify({type:"added",mutation:Mn})}remove(Mn){var fo;const io=scopeFor(Mn);if(cp(this,Wm).has(io)){const mo=(fo=cp(this,Wm).get(io))==null?void 0:fo.filter($o=>$o!==Mn);mo&&(mo.length===0?cp(this,Wm).delete(io):cp(this,Wm).set(io,mo))}this.notify({type:"removed",mutation:Mn})}canRun(Mn){var fo;const io=(fo=cp(this,Wm).get(scopeFor(Mn)))==null?void 0:fo.find(mo=>mo.state.status==="pending");return!io||io===Mn}runNext(Mn){var fo;const io=(fo=cp(this,Wm).get(scopeFor(Mn)))==null?void 0:fo.find(mo=>mo!==Mn&&mo.state.isPaused);return(io==null?void 0:io.continue())??Promise.resolve()}clear(){notifyManager.batch(()=>{this.getAll().forEach(Mn=>{this.remove(Mn)})})}getAll(){return[...cp(this,Wm).values()].flat()}find(Mn){const io={exact:!0,...Mn};return this.getAll().find(fo=>matchMutation(io,fo))}findAll(Mn={}){return this.getAll().filter(io=>matchMutation(Mn,io))}notify(Mn){notifyManager.batch(()=>{this.listeners.forEach(io=>{io(Mn)})})}resumePausedMutations(){const Mn=this.getAll().filter(io=>io.state.isPaused);return notifyManager.batch(()=>Promise.all(Mn.map(io=>io.continue().catch(noop$2))))}},Wm=new WeakMap,Dv=new WeakMap,$6);function scopeFor(Fn){var Mn;return((Mn=Fn.options.scope)==null?void 0:Mn.id)??String(Fn.mutationId)}function infiniteQueryBehavior(Fn){return{onFetch:(Mn,io)=>{var zo,Vo,Go,Jo,Qo;const fo=Mn.options,mo=(Go=(Vo=(zo=Mn.fetchOptions)==null?void 0:zo.meta)==null?void 0:Vo.fetchMore)==null?void 0:Go.direction,$o=((Jo=Mn.state.data)==null?void 0:Jo.pages)||[],Ao=((Qo=Mn.state.data)==null?void 0:Qo.pageParams)||[];let Lo={pages:[],pageParams:[]},Wo=0;const jo=async()=>{let os=!1;const Cl=_c=>{Object.defineProperty(_c,"signal",{enumerable:!0,get:()=>(Mn.signal.aborted?os=!0:Mn.signal.addEventListener("abort",()=>{os=!0}),Mn.signal)})},xl=ensureQueryFn(Mn.options,Mn.fetchOptions),ds=async(_c,$l,Al)=>{if(os)return Promise.reject();if($l==null&&_c.pages.length)return Promise.resolve(_c);const Il={queryKey:Mn.queryKey,pageParam:$l,direction:Al?"backward":"forward",meta:Mn.options.meta};Cl(Il);const us=await xl(Il),{maxPages:ps}=Mn.options,Rl=Al?addToStart:addToEnd;return{pages:Rl(_c.pages,us,ps),pageParams:Rl(_c.pageParams,$l,ps)}};if(mo&&$o.length){const _c=mo==="backward",$l=_c?getPreviousPageParam:getNextPageParam,Al={pages:$o,pageParams:Ao},Il=$l(fo,Al);Lo=await ds(Al,Il,_c)}else{const _c=Fn??$o.length;do{const $l=Wo===0?Ao[0]??fo.initialPageParam:getNextPageParam(fo,Lo);if(Wo>0&&$l==null)break;Lo=await ds(Lo,$l),Wo++}while(Wo<_c)}return Lo};Mn.options.persister?Mn.fetchFn=()=>{var os,Cl;return(Cl=(os=Mn.options).persister)==null?void 0:Cl.call(os,jo,{queryKey:Mn.queryKey,meta:Mn.options.meta,signal:Mn.signal},io)}:Mn.fetchFn=jo}}}function getNextPageParam(Fn,{pages:Mn,pageParams:io}){const fo=Mn.length-1;return Mn.length>0?Fn.getNextPageParam(Mn[fo],Mn,io[fo],io):void 0}function getPreviousPageParam(Fn,{pages:Mn,pageParams:io}){var fo;return Mn.length>0?(fo=Fn.getPreviousPageParam)==null?void 0:fo.call(Fn,Mn[0],Mn,io[0],io):void 0}var F1,Hw,Vw,By,Ly,qw,Uy,Wy,x6,QueryClient=(x6=class{constructor(Fn={}){a1(this,F1);a1(this,Hw);a1(this,Vw);a1(this,By);a1(this,Ly);a1(this,qw);a1(this,Uy);a1(this,Wy);Zp(this,F1,Fn.queryCache||new QueryCache),Zp(this,Hw,Fn.mutationCache||new MutationCache),Zp(this,Vw,Fn.defaultOptions||{}),Zp(this,By,new Map),Zp(this,Ly,new Map),Zp(this,qw,0)}mount(){q2(this,qw)._++,cp(this,qw)===1&&(Zp(this,Uy,focusManager.subscribe(async Fn=>{Fn&&(await this.resumePausedMutations(),cp(this,F1).onFocus())})),Zp(this,Wy,onlineManager.subscribe(async Fn=>{Fn&&(await this.resumePausedMutations(),cp(this,F1).onOnline())})))}unmount(){var Fn,Mn;q2(this,qw)._--,cp(this,qw)===0&&((Fn=cp(this,Uy))==null||Fn.call(this),Zp(this,Uy,void 0),(Mn=cp(this,Wy))==null||Mn.call(this),Zp(this,Wy,void 0))}isFetching(Fn){return cp(this,F1).findAll({...Fn,fetchStatus:"fetching"}).length}isMutating(Fn){return cp(this,Hw).findAll({...Fn,status:"pending"}).length}getQueryData(Fn){var io;const Mn=this.defaultQueryOptions({queryKey:Fn});return(io=cp(this,F1).get(Mn.queryHash))==null?void 0:io.state.data}ensureQueryData(Fn){const Mn=this.getQueryData(Fn.queryKey);if(Mn===void 0)return this.fetchQuery(Fn);{const io=this.defaultQueryOptions(Fn),fo=cp(this,F1).build(this,io);return Fn.revalidateIfStale&&fo.isStaleByTime(resolveStaleTime(io.staleTime,fo))&&this.prefetchQuery(io),Promise.resolve(Mn)}}getQueriesData(Fn){return cp(this,F1).findAll(Fn).map(({queryKey:Mn,state:io})=>{const fo=io.data;return[Mn,fo]})}setQueryData(Fn,Mn,io){const fo=this.defaultQueryOptions({queryKey:Fn}),mo=cp(this,F1).get(fo.queryHash),$o=mo==null?void 0:mo.state.data,Ao=functionalUpdate$1(Mn,$o);if(Ao!==void 0)return cp(this,F1).build(this,fo).setData(Ao,{...io,manual:!0})}setQueriesData(Fn,Mn,io){return notifyManager.batch(()=>cp(this,F1).findAll(Fn).map(({queryKey:fo})=>[fo,this.setQueryData(fo,Mn,io)]))}getQueryState(Fn){var io;const Mn=this.defaultQueryOptions({queryKey:Fn});return(io=cp(this,F1).get(Mn.queryHash))==null?void 0:io.state}removeQueries(Fn){const Mn=cp(this,F1);notifyManager.batch(()=>{Mn.findAll(Fn).forEach(io=>{Mn.remove(io)})})}resetQueries(Fn,Mn){const io=cp(this,F1),fo={type:"active",...Fn};return notifyManager.batch(()=>(io.findAll(Fn).forEach(mo=>{mo.reset()}),this.refetchQueries(fo,Mn)))}cancelQueries(Fn={},Mn={}){const io={revert:!0,...Mn},fo=notifyManager.batch(()=>cp(this,F1).findAll(Fn).map(mo=>mo.cancel(io)));return Promise.all(fo).then(noop$2).catch(noop$2)}invalidateQueries(Fn={},Mn={}){return notifyManager.batch(()=>{if(cp(this,F1).findAll(Fn).forEach(fo=>{fo.invalidate()}),Fn.refetchType==="none")return Promise.resolve();const io={...Fn,type:Fn.refetchType??Fn.type??"active"};return this.refetchQueries(io,Mn)})}refetchQueries(Fn={},Mn){const io={...Mn,cancelRefetch:(Mn==null?void 0:Mn.cancelRefetch)??!0},fo=notifyManager.batch(()=>cp(this,F1).findAll(Fn).filter(mo=>!mo.isDisabled()).map(mo=>{let $o=mo.fetch(void 0,io);return io.throwOnError||($o=$o.catch(noop$2)),mo.state.fetchStatus==="paused"?Promise.resolve():$o}));return Promise.all(fo).then(noop$2)}fetchQuery(Fn){const Mn=this.defaultQueryOptions(Fn);Mn.retry===void 0&&(Mn.retry=!1);const io=cp(this,F1).build(this,Mn);return io.isStaleByTime(resolveStaleTime(Mn.staleTime,io))?io.fetch(Mn):Promise.resolve(io.state.data)}prefetchQuery(Fn){return this.fetchQuery(Fn).then(noop$2).catch(noop$2)}fetchInfiniteQuery(Fn){return Fn.behavior=infiniteQueryBehavior(Fn.pages),this.fetchQuery(Fn)}prefetchInfiniteQuery(Fn){return this.fetchInfiniteQuery(Fn).then(noop$2).catch(noop$2)}ensureInfiniteQueryData(Fn){return Fn.behavior=infiniteQueryBehavior(Fn.pages),this.ensureQueryData(Fn)}resumePausedMutations(){return onlineManager.isOnline()?cp(this,Hw).resumePausedMutations():Promise.resolve()}getQueryCache(){return cp(this,F1)}getMutationCache(){return cp(this,Hw)}getDefaultOptions(){return cp(this,Vw)}setDefaultOptions(Fn){Zp(this,Vw,Fn)}setQueryDefaults(Fn,Mn){cp(this,By).set(hashKey(Fn),{queryKey:Fn,defaultOptions:Mn})}getQueryDefaults(Fn){const Mn=[...cp(this,By).values()];let io={};return Mn.forEach(fo=>{partialMatchKey(Fn,fo.queryKey)&&(io={...io,...fo.defaultOptions})}),io}setMutationDefaults(Fn,Mn){cp(this,Ly).set(hashKey(Fn),{mutationKey:Fn,defaultOptions:Mn})}getMutationDefaults(Fn){const Mn=[...cp(this,Ly).values()];let io={};return Mn.forEach(fo=>{partialMatchKey(Fn,fo.mutationKey)&&(io={...io,...fo.defaultOptions})}),io}defaultQueryOptions(Fn){if(Fn._defaulted)return Fn;const Mn={...cp(this,Vw).queries,...this.getQueryDefaults(Fn.queryKey),...Fn,_defaulted:!0};return Mn.queryHash||(Mn.queryHash=hashQueryKeyByOptions(Mn.queryKey,Mn)),Mn.refetchOnReconnect===void 0&&(Mn.refetchOnReconnect=Mn.networkMode!=="always"),Mn.throwOnError===void 0&&(Mn.throwOnError=!!Mn.suspense),!Mn.networkMode&&Mn.persister&&(Mn.networkMode="offlineFirst"),Mn.enabled!==!0&&Mn.queryFn===skipToken&&(Mn.enabled=!1),Mn}defaultMutationOptions(Fn){return Fn!=null&&Fn._defaulted?Fn:{...cp(this,Vw).mutations,...(Fn==null?void 0:Fn.mutationKey)&&this.getMutationDefaults(Fn.mutationKey),...Fn,_defaulted:!0}}clear(){cp(this,F1).clear(),cp(this,Hw).clear()}},F1=new WeakMap,Hw=new WeakMap,Vw=new WeakMap,By=new WeakMap,Ly=new WeakMap,qw=new WeakMap,Uy=new WeakMap,Wy=new WeakMap,x6),QueryClientContext=reactExports.createContext(void 0),useQueryClient=Fn=>{const Mn=reactExports.useContext(QueryClientContext);if(!Mn)throw new Error("No QueryClient set, use QueryClientProvider to set one");return Mn},QueryClientProvider=({client:Fn,children:Mn})=>(reactExports.useEffect(()=>(Fn.mount(),()=>{Fn.unmount()}),[Fn]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:Fn,children:Mn}));function authConnector(Fn){let Mn=[];function io(fo){return NetworkUtil.parseEvmChainId(fo)||1}return fo=>({id:ConstantsUtil$1.AUTH_CONNECTOR_ID,name:"AppKit Auth",type:"ID_AUTH",chain:ConstantsUtil$3.CHAIN.EVM,async connect(mo={}){const $o=await this.getProvider();let Ao=mo.chainId;if(mo.isReconnecting&&(Ao=$o.getLastUsedChainId(),!Ao))throw new Error("ChainId not found in provider");const{address:Lo,chainId:Wo,accounts:jo}=await $o.connect({chainId:Ao});Mn=(jo==null?void 0:jo.map(Vo=>Vo.address))||[Lo],await $o.getSmartAccountEnabledNetworks();const zo=io(Wo);return{accounts:Mn,account:Lo,chainId:zo,chain:{id:zo,unsuported:!1}}},async disconnect(){await(await this.getProvider()).disconnect()},getAccounts(){return Mn!=null&&Mn.length?(fo.emitter.emit("change",{accounts:Mn}),Promise.resolve(Mn)):Promise.resolve([])},async getProvider(){return this.provider||(this.provider=W3mFrameProviderSingleton.getInstance({projectId:Fn.options.projectId,onTimeout:()=>{AlertController.open(ErrorUtil.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}})),Promise.resolve(this.provider)},async getChainId(){const mo=await this.getProvider(),{chainId:$o}=await mo.getChainId();return io($o)},async isAuthorized(){const mo=await this.getProvider();return Promise.resolve(mo.getLoginEmailUsed())},async switchChain({chainId:mo}){var $o;try{const Ao=fo.chains.find(jo=>jo.id===mo);if(!Ao)throw new SwitchChainError(new Error("chain not found on connector."));const Wo=await(await this.getProvider()).connect({chainId:mo});return Mn=(($o=Wo==null?void 0:Wo.accounts)==null?void 0:$o.map(jo=>jo.address))||[Wo.address],fo.emitter.emit("change",{chainId:Number(mo),accounts:Mn}),Ao}catch(Ao){throw Ao instanceof Error?new SwitchChainError(Ao):Ao}},onAccountsChanged(mo){mo.length===0?this.onDisconnect():fo.emitter.emit("change",{accounts:mo.map(getAddress)})},onChainChanged(mo){const $o=Number(mo);fo.emitter.emit("change",{chainId:$o})},async onDisconnect(mo){await(await this.getProvider()).disconnect()}})}walletConnect.type="walletConnect";function walletConnect(Fn,Mn,io){const fo=Fn.isNewChainsStale??!0;let mo,$o,Ao,Lo,Wo,jo,zo;return Vo=>({id:"walletConnect",name:"WalletConnect",type:walletConnect.type,async setup(){const Go=await this.getProvider().catch(()=>null);Go&&(Lo||(Lo=this.onConnect.bind(this),Go.on("connect",Lo)),jo||(jo=this.onSessionDelete.bind(this),Go.on("session_delete",jo)))},async connect({...Go}={}){try{const Jo=await this.getProvider();if(!Jo)throw new ProviderNotFoundError;Wo||(Wo=this.onDisplayUri,Jo.on("display_uri",Wo));const Qo=await this.isChainsStale();if(Jo.session&&Qo&&await Jo.disconnect(),!Jo.session||Qo){const xl=WcHelpersUtil.createNamespaces(io);await Jo.connect({optionalNamespaces:xl,..."pairingTopic"in Go?{pairingTopic:Go.pairingTopic}:{}}),this.setRequestedChainsIds(io.map(ds=>Number(ds.id)))}const os=(await Jo.enable()).map(xl=>getAddress(xl)),Cl=await this.getChainId();return Wo&&(Jo.removeListener("display_uri",Wo),Wo=void 0),Lo&&(Jo.removeListener("connect",Lo),Lo=void 0),$o||($o=this.onAccountsChanged.bind(this),Jo.on("accountsChanged",$o)),Ao||(Ao=this.onChainChanged.bind(this),Jo.on("chainChanged",Ao)),zo||(zo=this.onDisconnect.bind(this),Jo.on("disconnect",zo)),jo||(jo=this.onSessionDelete.bind(this),Jo.on("session_delete",jo)),{accounts:os,chainId:Cl}}catch(Jo){throw/(user rejected|connection request reset)/i.test(Jo==null?void 0:Jo.message)?new UserRejectedRequestError(Jo):Jo}},async disconnect(){const Go=await this.getProvider();try{await(Go==null?void 0:Go.disconnect())}catch(Jo){if(!/No matching key/i.test(Jo.message))throw Jo}finally{Ao&&(Go==null||Go.removeListener("chainChanged",Ao),Ao=void 0),zo&&(Go==null||Go.removeListener("disconnect",zo),zo=void 0),Lo||(Lo=this.onConnect.bind(this),Go==null||Go.on("connect",Lo)),$o&&(Go==null||Go.removeListener("accountsChanged",$o),$o=void 0),jo&&(Go==null||Go.removeListener("session_delete",jo),jo=void 0),this.setRequestedChainsIds([])}},async getAccounts(){var os,Cl,xl;const Go=await this.getProvider();if(!((os=Go==null?void 0:Go.session)!=null&&os.namespaces))return[];const Jo=(xl=(Cl=Go==null?void 0:Go.session)==null?void 0:Cl.namespaces.eip155)==null?void 0:xl.accounts;return(Jo==null?void 0:Jo.map(ds=>ds.split(":")[2]))??[]},async getProvider({chainId:Go}={}){var Qo,os;mo||(mo=await Mn.getUniversalProvider(),mo==null||mo.events.setMaxListeners(Number.POSITIVE_INFINITY));const Jo=(Qo=Mn.getCaipNetwork())==null?void 0:Qo.id;if(Go&&Jo!==Go){const Cl=StorageUtil.getStoredActiveCaipNetwork();Cl&&Cl.chainNamespace===ConstantsUtil$3.CHAIN.EVM&&await((os=this.switchChain)==null?void 0:os.call(this,{chainId:Number(Cl.id)}))}return mo},async getChainId(){var Cl,xl,ds,_c;const Go=(Cl=Mn.getCaipNetwork())==null?void 0:Cl.id;if(Go)return Go;const Qo=(_c=(ds=(xl=(await this.getProvider()).session)==null?void 0:xl.namespaces.eip155)==null?void 0:ds.chains)==null?void 0:_c[0],os=io.find($l=>$l.id===Qo);return os==null?void 0:os.id},async isAuthorized(){try{const[Go,Jo]=await Promise.all([this.getAccounts(),this.getProvider()]);return Go.length?await this.isChainsStale()&&Jo.session?(await Jo.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:Go,chainId:Jo}){var Cl,xl;const Qo=await this.getProvider();if(!Qo)throw new ProviderNotFoundError;const os=io.find(ds=>ds.id===Jo);if(!os)throw new SwitchChainError(new ChainNotConfiguredError);try{await Qo.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex(Jo)}]}),os!=null&&os.caipNetworkId&&Qo.setDefaultChain(os==null?void 0:os.caipNetworkId),Vo.emitter.emit("change",{chainId:Number(Jo)});const ds=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...ds,Jo]),{...os,id:os.id}}catch(ds){const _c=ds;if(/(?:user rejected)/iu.test(_c.message))throw new UserRejectedRequestError(_c);try{let $l;Go!=null&&Go.blockExplorerUrls?$l=Go.blockExplorerUrls:$l=(Cl=os.blockExplorers)!=null&&Cl.default.url?[(xl=os.blockExplorers)==null?void 0:xl.default.url]:[];const Al={blockExplorerUrls:$l,chainId:numberToHex(Jo),chainName:os.name,iconUrls:Go==null?void 0:Go.iconUrls,nativeCurrency:os.nativeCurrency,rpcUrls:os.rpcUrls.default.http};await Qo.request({method:"wallet_addEthereumChain",params:[Al]});const Il=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...Il,Jo]),{...os,id:os.id}}catch($l){throw new UserRejectedRequestError($l)}}},onAccountsChanged(Go){Go.length===0?this.onDisconnect():Vo.emitter.emit("change",{accounts:Go.map(Jo=>getAddress(Jo))})},onChainChanged(Go){const Jo=Number(Go);Vo.emitter.emit("change",{chainId:Jo})},async onConnect(Go){const Jo=Number(Go.chainId),Qo=await this.getAccounts();this.setRequestedChainsIds(io.map(os=>Number(os.id))),Vo.emitter.emit("connect",{accounts:Qo,chainId:Jo})},async onDisconnect(Go){this.setRequestedChainsIds([]),Vo.emitter.emit("disconnect");const Jo=await this.getProvider();$o&&(Jo.removeListener("accountsChanged",$o),$o=void 0),Ao&&(Jo.removeListener("chainChanged",Ao),Ao=void 0),zo&&(Jo.removeListener("disconnect",zo),zo=void 0),jo&&(Jo.removeListener("session_delete",jo),jo=void 0),Lo||(Lo=this.onConnect.bind(this),Jo.on("connect",Lo))},onDisplayUri(Go){Vo.emitter.emit("message",{type:"display_uri",data:Go})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var Qo,os,Cl;if(!((Qo=mo==null?void 0:mo.session)!=null&&Qo.namespaces))return[];const Go=(Cl=(os=mo==null?void 0:mo.session)==null?void 0:os.namespaces.eip155)==null?void 0:Cl.accounts;return(Go==null?void 0:Go.map(xl=>Number.parseInt(xl.split(":")[1]??"")))??[]},async getRequestedChainsIds(){var Jo;const Go=await((Jo=Vo.storage)==null?void 0:Jo.getItem(this.requestedChainsStorageKey))??[];return[...new Set(Go)]},async isChainsStale(){if(!fo)return!1;const Go=Vo.chains.map(os=>os.id),Jo=this.getNamespaceChainsIds();if(Jo.length&&!Jo.some(os=>Go.includes(os)))return!1;const Qo=await this.getRequestedChainsIds();return!Go.every(os=>Qo.includes(Number(os)))},async setRequestedChainsIds(Go){var Jo;await((Jo=Vo.storage)==null?void 0:Jo.setItem(this.requestedChainsStorageKey,Go))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}coinbaseWallet.type="coinbaseWallet";function coinbaseWallet(Fn={}){return Fn.version==="3"||Fn.headlessMode?version3(Fn):version4(Fn)}function version4(Fn){let Mn,io,fo,mo;return $o=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",rdns:"com.coinbase.wallet",type:coinbaseWallet.type,async connect({chainId:Ao}={}){try{const Lo=await this.getProvider(),Wo=(await Lo.request({method:"eth_requestAccounts"})).map(zo=>getAddress(zo));io||(io=this.onAccountsChanged.bind(this),Lo.on("accountsChanged",io)),fo||(fo=this.onChainChanged.bind(this),Lo.on("chainChanged",fo)),mo||(mo=this.onDisconnect.bind(this),Lo.on("disconnect",mo));let jo=await this.getChainId();if(Ao&&jo!==Ao){const zo=await this.switchChain({chainId:Ao}).catch(Vo=>{if(Vo.code===UserRejectedRequestError.code)throw Vo;return{id:jo}});jo=(zo==null?void 0:zo.id)??jo}return{accounts:Wo,chainId:jo}}catch(Lo){throw/(user closed modal|accounts received is empty|user denied account|request rejected)/i.test(Lo.message)?new UserRejectedRequestError(Lo):Lo}},async disconnect(){var Lo;const Ao=await this.getProvider();io&&(Ao.removeListener("accountsChanged",io),io=void 0),fo&&(Ao.removeListener("chainChanged",fo),fo=void 0),mo&&(Ao.removeListener("disconnect",mo),mo=void 0),Ao.disconnect(),(Lo=Ao.close)==null||Lo.call(Ao)},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(Lo=>getAddress(Lo))},async getChainId(){const Lo=await(await this.getProvider()).request({method:"eth_chainId"});return Number(Lo)},async getProvider(){if(!Mn){const Ao=(()=>{var jo;return typeof Fn.preference=="string"?{options:Fn.preference}:{...Fn.preference,options:((jo=Fn.preference)==null?void 0:jo.options)??"all"}})(),{createCoinbaseWalletSDK:Lo}=await __vitePreload(async()=>{const{createCoinbaseWalletSDK:jo}=await import("./index-CZhaPLV9.js");return{createCoinbaseWalletSDK:jo}},__vite__mapDeps([2,3]));Mn=Lo({...Fn,appChainIds:$o.chains.map(jo=>jo.id),preference:Ao}).getProvider()}return Mn},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:Ao,chainId:Lo}){var zo,Vo,Go,Jo;const Wo=$o.chains.find(Qo=>Qo.id===Lo);if(!Wo)throw new SwitchChainError(new ChainNotConfiguredError);const jo=await this.getProvider();try{return await jo.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex(Wo.id)}]}),Wo}catch(Qo){if(Qo.code===4902)try{let os;Ao!=null&&Ao.blockExplorerUrls?os=Ao.blockExplorerUrls:os=(zo=Wo.blockExplorers)!=null&&zo.default.url?[(Vo=Wo.blockExplorers)==null?void 0:Vo.default.url]:[];let Cl;(Go=Ao==null?void 0:Ao.rpcUrls)!=null&&Go.length?Cl=Ao.rpcUrls:Cl=[((Jo=Wo.rpcUrls.default)==null?void 0:Jo.http[0])??""];const xl={blockExplorerUrls:os,chainId:numberToHex(Lo),chainName:(Ao==null?void 0:Ao.chainName)??Wo.name,iconUrls:Ao==null?void 0:Ao.iconUrls,nativeCurrency:(Ao==null?void 0:Ao.nativeCurrency)??Wo.nativeCurrency,rpcUrls:Cl};return await jo.request({method:"wallet_addEthereumChain",params:[xl]}),Wo}catch(os){throw new UserRejectedRequestError(os)}throw new SwitchChainError(Qo)}},onAccountsChanged(Ao){Ao.length===0?this.onDisconnect():$o.emitter.emit("change",{accounts:Ao.map(Lo=>getAddress(Lo))})},onChainChanged(Ao){const Lo=Number(Ao);$o.emitter.emit("change",{chainId:Lo})},async onDisconnect(Ao){$o.emitter.emit("disconnect");const Lo=await this.getProvider();io&&(Lo.removeListener("accountsChanged",io),io=void 0),fo&&(Lo.removeListener("chainChanged",fo),fo=void 0),mo&&(Lo.removeListener("disconnect",mo),mo=void 0)}})}function version3(Fn){let io,fo,mo,$o,Ao;return Lo=>({id:"coinbaseWalletSDK",name:"Coinbase Wallet",type:coinbaseWallet.type,async connect({chainId:Wo}={}){try{const jo=await this.getProvider(),zo=(await jo.request({method:"eth_requestAccounts"})).map(Go=>getAddress(Go));mo||(mo=this.onAccountsChanged.bind(this),jo.on("accountsChanged",mo)),$o||($o=this.onChainChanged.bind(this),jo.on("chainChanged",$o)),Ao||(Ao=this.onDisconnect.bind(this),jo.on("disconnect",Ao));let Vo=await this.getChainId();if(Wo&&Vo!==Wo){const Go=await this.switchChain({chainId:Wo}).catch(Jo=>{if(Jo.code===UserRejectedRequestError.code)throw Jo;return{id:Vo}});Vo=(Go==null?void 0:Go.id)??Vo}return{accounts:zo,chainId:Vo}}catch(jo){throw/(user closed modal|accounts received is empty|user denied account)/i.test(jo.message)?new UserRejectedRequestError(jo):jo}},async disconnect(){const Wo=await this.getProvider();mo&&(Wo.removeListener("accountsChanged",mo),mo=void 0),$o&&(Wo.removeListener("chainChanged",$o),$o=void 0),Ao&&(Wo.removeListener("disconnect",Ao),Ao=void 0),Wo.disconnect(),Wo.close()},async getAccounts(){return(await(await this.getProvider()).request({method:"eth_accounts"})).map(jo=>getAddress(jo))},async getChainId(){const jo=await(await this.getProvider()).request({method:"eth_chainId"});return Number(jo)},async getProvider(){var Wo;if(!fo){const jo=await(async()=>{const{default:Qo}=await __vitePreload(async()=>{const{default:os}=await import("./index-BI3mwhUJ.js").then(Cl=>Cl.i);return{default:os}},__vite__mapDeps([4,3,5]));return typeof Qo!="function"&&typeof Qo.default=="function"?Qo.default:Qo})();io=new jo({...Fn,reloadOnDisconnect:!1});const zo=(Wo=io.walletExtension)==null?void 0:Wo.getChainId(),Vo=Lo.chains.find(Qo=>Fn.chainId?Qo.id===Fn.chainId:Qo.id===zo)||Lo.chains[0],Go=Fn.chainId||(Vo==null?void 0:Vo.id),Jo=Fn.jsonRpcUrl||(Vo==null?void 0:Vo.rpcUrls.default.http[0]);fo=io.makeWeb3Provider(Jo,Go)}return fo},async isAuthorized(){try{return!!(await this.getAccounts()).length}catch{return!1}},async switchChain({addEthereumChainParameter:Wo,chainId:jo}){var Go,Jo,Qo,os;const zo=Lo.chains.find(Cl=>Cl.id===jo);if(!zo)throw new SwitchChainError(new ChainNotConfiguredError);const Vo=await this.getProvider();try{return await Vo.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex(zo.id)}]}),zo}catch(Cl){if(Cl.code===4902)try{let xl;Wo!=null&&Wo.blockExplorerUrls?xl=Wo.blockExplorerUrls:xl=(Go=zo.blockExplorers)!=null&&Go.default.url?[(Jo=zo.blockExplorers)==null?void 0:Jo.default.url]:[];let ds;(Qo=Wo==null?void 0:Wo.rpcUrls)!=null&&Qo.length?ds=Wo.rpcUrls:ds=[((os=zo.rpcUrls.default)==null?void 0:os.http[0])??""];const _c={blockExplorerUrls:xl,chainId:numberToHex(jo),chainName:(Wo==null?void 0:Wo.chainName)??zo.name,iconUrls:Wo==null?void 0:Wo.iconUrls,nativeCurrency:(Wo==null?void 0:Wo.nativeCurrency)??zo.nativeCurrency,rpcUrls:ds};return await Vo.request({method:"wallet_addEthereumChain",params:[_c]}),zo}catch(xl){throw new UserRejectedRequestError(xl)}throw new SwitchChainError(Cl)}},onAccountsChanged(Wo){Wo.length===0?this.onDisconnect():Lo.emitter.emit("change",{accounts:Wo.map(jo=>getAddress(jo))})},onChainChanged(Wo){const jo=Number(Wo);Lo.emitter.emit("change",{chainId:jo})},async onDisconnect(Wo){Lo.emitter.emit("disconnect");const jo=await this.getProvider();mo&&(jo.removeListener("accountsChanged",mo),mo=void 0),$o&&(jo.removeListener("chainChanged",$o),$o=void 0),Ao&&(jo.removeListener("disconnect",Ao),Ao=void 0)}})}var COMPRESSED$1="AEkU4AngDVgB0QKRAQYBOwDqATEAnwDbAIUApABsAOAAbwCRAEYAiQBPAHYAPgA+ACsANwAlAGMAHwAvACsAJQAWAC8AGwAiACIALwAUACsAEQAiAAsAGwARABcAGAA6ACkALAAsADUAFgAsABEAHQAhAA8AGwAdABUAFgAZAA0ADQAXABAAGQAUABIEqgYJAR4UFjfDBdMAsQCuPwFnAKUBA10jAK5/Ly8vLwE/pwUJ6/0HPwbkMQVXBVgAPSs5APa2EQbIwQuUCkEDyJ4zAsUKLwKOoQKG2D+Ob4kCxcsCg/IBH98JAPKtAUECLY0KP48A4wDiChUAF9S5yAwLPZ0EG3cA/QI5GL0P6wkGKekFBIFnDRsHLQCrAGmR76WcfwBbBpMjBukAGwA7DJMAWxVbqfu75wzbIM8IuykDsRQ7APcta6MAoX0YABcEJdcWAR0AuRnNBPoJIEw3CZcJiB4bVllM44NCABMADAAVAA5rVAAhAA4AR+4V2D3zOVjKleYuChAdX01YPewAEwAMABUADmsgXECXAMPrABsAOQzFABsVW6n7Adq4HB0FWwXiAtCfAsSwCkwcpGUUcxptTPUAuw1nAuEACy00iRfJkQKBewETGwC9DWcC4QALLQFIUCWRTAoDLfsFMgnXaRetAddDAEkrEncCMRYhAusnuTdrADnhAfUlAMcOy7UBG2OBALEFAAUAitNJBRvDHwcXAKgn0QGhKy0DmwBnAQoZPu03dAQYFwCqAccCIQDTKxJzOvNQsAWQOncnNUgF+icFWQVYr7gFaTtdQhI6WEGXe5NmX6H4CxMDxQcl8XcjBKNLAlNTAnUbqycBj6OlNVsDRRcEg2EJANEGqz8vIwcpAjldAGsBYR9xAIMdGQCVAUm3ACdpFwGvxQM3LSFDUwFvWQZlAmUA8UkXAykBBQBJQQCrAF0AcwArtQYH8+8ZjX8ACSEAKQCzG0cB0QHbBwsxl3iB6AAKABEANAA9ADgzd3nTwBBfEFwBTQlMbDoVCwKsD6YL5REVDNEqy9PYADSpB+sDUwfrA1MDUwfrB+sDUwfrA1MDUwNTA1McCvAa08AQXw9IBG0FjgWLBNYIgyZJEYEHKAjSVA10HhxHA0UA/CMlSRw7kzMLJUJMDE0DB/w2QmynfTgDRzGrVPWQogPLMk85bAEecRKgACoPcxw1tU5+ekdxoApLT661f0liTmcCvjqoP/gKIQmTb7t3TgY9EBcnoRDzDC8BsQE3DelL1ATtBjcExR95GRUPyZWYCKEt2QzpJt8unYBWI/EqfwXpS/A82QtJUWQPVQthCd86X4FKAx0BCSKHCtkNNQhpEO8KxWcN4RFBBzUD0UmWAKEG/QsNHTEVsSYMYqgLBTlzBvca8guLJqsTJXr4Bc8aHQZJASUa+wDLLuOFrFotXBhPWwX/CyEjwxSkUBwNIUCzeEQaFwcRJaUCjUNsSoNRMh6PIfI8OQ1iLg9ReAfxPAEZSwt9PJpGp0UKEc4+iT1EIkVMKAQxeywrJ4cJyw+BDLV8bgFVCR0JrQxtEy0REzfBCDUHFSmXICcRCB1GkWCWBPObA+8TzQMHBTsJPQcPA7EcKRMqFSUFCYEg0wLvNtEurwKLVnwBEwXHDyEf2xBMR9wO5QiXAmEDfyXnACkVHQATIpcIP18AW4/UUwEuxwjDamgjcANjFONdEW8HjQ5TB6McLxW7HN1wxF4HhgQon6sJVwFxCZUBWwTfCAU1V4ycID1nT4tUGJcgXUE7XfgCLQxhFZtEuYd0AocPZxIXATEBbwc1DP0CcxHpEWcQkQjnhgA1sTP0OiEESyF/IA0KIwNLbMoLIyb1DPRlAZ8SXgMINDl36menYLIgF/kHFTLBQVwh7QuOT8kMmBq9GD5UKhngB7sD7xrvJ+ZBUwX7A58POkkz6gS5C2UIhwk7AEUOnxMH0xhmCm2MzAEthwGzlQNTjX8Ca4sGMwcHAGMHgwV14QAZAqMInwABAMsDUwA1AqkHmQAVAIE9ATkDIysBHeECiwOPCC3HAZErAe8lBBe/DBEA8zNuRgLDrQKAZmaeBdlUAooCRTEBSSEEAUpDTQOrbd0A1wBHBg/bQwERp0bHFt8/AdtrJwDDAPcAATEHAT0ByQHvaQCzAVsLLQmer7EBSeUlAH8AEWcB0wKFANkAMQB77QFPAEkFVfUFzwJLRQENLRQnU10BtwMbAS8BCQB1BseJocUDGwRpB88CEBcV3QLvKgexAyLbE8lCwQK92lEAMhIKNAq1CrQfX/NcLwItbj1MAAofpD7DP0oFTTtPO1Q7TztUO087VDtPO1Q7TztUA5O73rveCmhfQWHnDKIN0ETEOkUT12BNYC4TxC2zFL0VyiVSGTkauCcBJeBVBQ8ALc9mLAgoNHEXuAA7KWSDPWOCHiwKRxzjU41U9C0XAK1LnjOrDagbEUQ8BUN16WImFgoKHgJkfQJiPldJq1c3HAKh8wJolAJmBQKfgDgXBwJmNwJmIgRqBHsDfw8Dfo45AjlzEzl+Oh8fAmwZAjIyOAYCbcMCbarrhi9jQScBYwDaAN0ARgEHlAyJAPoHvgAJsQJ3KwJ2njsCeUc/Ani2GVjXRapG0wJ8OwJ6xAJ9BQJ87AVVBRxH/Eh5XyAAJxFJVEpXERNKyALQ/QLQyEsjA4hLA4fiRMGRLgLynVz/AwOqS8pMKSHLTUhNqwKLOwKK1L0XAxk/YwGzAo4zAo5YPJN9Ao7VAo5YdFGwUzEGUtBUgQKT9wKTCADlABhVGlWrVcwCLBcpkYIy3XhiRTc1ApebAu+uWB2kAFUhApaLApZ4mAClWahaBX1JADcClrEClkpcQFzNApnHAplgXMZdAxUCnJc5vjqZApwSAp+XAp60hgAZCy0mCwKd7QKejgCxOWEwYesCns8CoGoBpQKemxsCnkqhY8RkIyEnAierAiZ6AqD3AqBIAqLZAqHAAqYrAqXKAqf7AHkCp+5oeGit/0VqGGrNAqzfAqyqAq1jAqz+AlcZAlXYArHd0wMfSmyTArK5CQKy5BNs3G1fbURbAyXJArZYNztujAMpQQK4WgK5QxECuSZzcDJw3QK9FQK71nCSAzINAr6Ecf4DM20CvhZzHnNLAsPHAsMAc350RzFBdNwDPKMDPJYDPbsCxXgCxkMCxgyFAshlTQLIQALJSwLJKgJkmQLdznh1XXiqeSFLzAMYn2b+AmHwGe+VIHsHXo5etw0Cz2cCz2grR0/O7w+bAMKpAs9vASXmA04OfkcBAtwjAtuGAtJLA1JYA1NbAP0DVYiAhTvHEulcQYIYgs+CyoOJAtrDAtnahAyERac4A4ahACsDZAqGbVX1AFEC32EC3rRvcwLiK+0QAfMsIwH0lwHyzoMC6+8C6Wx1Aur1AurgAPVDAbUC7oUC65iWppb/Au47A4XcmHVw3HGdAvL/AGUDjhKZjwL3DwORagOSgwL3lAL51QL4YpoYmqe3M5saA51/Av72ARcANZ8Yn68DBYkDpmYDptUAzcEDBmahhKIBBQMMRQELARsHaQZdtWMBALcEZ7sNhx6vCQATcTUAHwMvEkkDhXsBXyMdAIzrAB0A5p8Dm40IswYbn8EApwURu+kdPT4WeAVoNz5AK0IhQrRfcRFfvACWxQUyAJBMGZu5OyZgMhG6zw4vGMYYicn2BVcFWAVXBVgFYwVYBVcFWAVXBVgFVwVYBVcFWEYVCNeFZwICAgpkXukrBMkDsQYvu7sAuwSnuwDnQCkWsgVGPmk+cEI/QrZfdTdf6ABYETOrAIz+zGvL/KbnRno9JiMEKxYnNjV+bd9qwfEZwixpAWvXbjAXBV8FasnBybgIz0lbAAAACnxefYu+ADM/gQADFtEG5a0jBQCMwwsDAQ0A5WUdPSQfSkKxQrxBOCNfJ2A2JzgjCcE9CkQ/Qz54PoE+cD5xAolCvElCO1/LTk9qTQosa1QvagtuH1/gMzobCWebCmIjKzwdJkKrQrwrzAHL/F/JDh8uCQgJIn6d32o6LUoXyavJrAllwcvMCmBBXw/lEKMRAJONHUVCJRupbTnOOAozP0M+cEI/HAcKHUxHbFssLVrhvBIKfe0dK0I/HF0ISgkOM1RDQjcEO0OcLAqBGy1CPxv1CFMiIxgwMQAFj2HwXgpxZMlgC2AtI25DYBk5AhseYLMGAmsQZU5gTREBZOdgFWCVYH1gs2BLYJFoFhcGtQ7cVam8WgtDFqsBuyvNwQIfFQAcAx4BeQJsLzCVUoABigq4RxoA5CN0jgrKDaZN6gGbAoecTwVAXwD39wkANBZXDAulDCQfuq9HAE8MNAAVE58rggh6AtILS2URGwDYTgZ1BAoeWgAxALa4AZonCxZvqyQ4nxkBWwGGCfwD2e0PBqoGSga5AB3LValaCbthE4kLLT8OuwG7ASICR1ooKCggHh8hLBImBiEMjQBUAm5XkEmVAW4fD3FHAdN1D85RIBmpsE3qBxEFTF8A9/cKAHoGJGwKKwulODAtx69WDQsAX7wLAGNAlQh6AOpN7yIbvwAxALa4AZonLTsOzgKQGHtQu1jIdHKO16WbDvWZFT0b7AEpEFwSBg8bAccJOhCTBRArDDYLABEAs84BAgCkAOEAmIIABWtXLwAUAFsbxi5sdioNwRACOyQz0+EcHgsbfQJ7Ls6hHATBCqrxbAA3OS0Opge7CQAQOi7OERkAfavaHA+7GkcczaF3HgE9Kl8cAuugCAHCAULz5B9lAb4Jtwz6CDwKPgAFwAs9AksNuwi8DTwKvC7OoSoJPA67BZgBG2sKD4sa4QHDARELuxY7AKALOxC7BBige9wAO2sMPAACpgm8BRvQ9QUBvgH6bsoGewAHuwG7D00RErwBAQDqAQAAdBVbBhbLFPxvF7sYOwAuuwLrDlaouwAeuwJVICp/AAG7AALjAAg7FTwVuwAbuwG9KOClWw6/xAD0AGj7L7ZtvgNIo7vIqDsDAbuVJ0sAAlsACrsEAOfdGbsIGnsIoQUK/3AA37unuxjbGruji3lyBvupm4MAErsGGwsBvAAAhgBtuwYAC7unOwEaO7oIoZzKAbsL7QfAqTsA4XsBvwAA5QAVuwAG+wAJuwBpiwAauwAOuwIYu45pFfsAAVsADmsALkseAAa7ABe7CCEADUoBwgC3ryYBwAAAtAAOmwG+J+QAsloAHBsBv/7hCqEABcYLFRXbAAebAEK7AQIAabsAC3sAHbsACLsJoQAFygBunxnVAJEIIQAFygABOwAH2wAdmwghAAaaAAl7ABsrAG0bAOa7gAAIWwAUuwkhAAbKAOOLAAk7C6EOxPtfAAc7AG6cQEgARwADOwAJrQM3AAcbABl7Abv/Aab7AAobAAo7AAn7p+sGuwAJGwADCwAQOwAAFDsAEWsAD4sADesADbsAGQsGFhsAFTsAbpsWswG7ALoAEzsDAGkrCgDhSwACOwAEUgAXewUbAAbQABi7AAv7AF+7AGv7AOSLAbsAF3YBvAABcguhAAVKHgF7KFIAOUUA/gcNDHIAKCpwAaQFCF4BvF4jDAkHb0tsXyqJHzwUYi02A6EKtAHYABYC0QNuAXZyR1IUIQNPAhU+ASwGA3NGvHtSekAAKQAxAfsAUwrbAHuQLAErAHblDREyRgFKAFcFAAFQAQeKzAB4OwQgpQBaANYVAJVoNx+LAM1rsQDP1BYIwnVzGxhWHQnRAYiQqyJTU01IEjzCifkAfxw3QCkr4BGXTwByASksMClCGQ8DMFUE98XuAEtl3ABqAnECPxF6Osd4LjXVBgUAEBsdCggMKgQfHSlOU04IuboAChLNACYAARoAhgCJAI41AO4AtADgAJ08ALsAqwCmAKEA8gCfANMAnADrAQwBBwDAAHkAWgDLAM0BBwDXAOsAiACiATUA4wDYANUDAQcqM9TU1NS2wNzN0M5DMhcBTQFXL0cBVQFkAWMBVgFHS0NFaA0BThUHCAMyNgwHACINJCYpLDg6Oj09PT4/DkAeUVFRUVNTUlMpVFVXVlYcXWFhYGJhI2ZocG9ycnJycnJ0dHR0dHR0dHR0dHZ2d3Z1WwBA7ABFAJYAdAAuAGLyAIoAUwBTADMCc+kAh//y8gBgAI/sAJsASwBeAGD5+aoAgQCBAGUAUgCtAB4AsgB/AjwCPwD4AOMA+gD6AOQA+wDlAOUA5ADiACkCdwFNATwBOgFQAToBOgE6ATUBNAE0ATQBGAFUDwArCAAATRcKFgMVFg4AigCSAKIASwBkGAItAHAAaQCRAxIDJCoDHkE+RykAiwJLAMMCUwKgALoCkgKSApICkgKSApIChwKSApICkgKSApICkgKRApEClAKcApMCkgKSApACkAKQApACjgKRAnEB0AKTApsCkgKSApEWeQsA+gUDpwJdAjYXAVAQNQLeEQorEwFKNxNNkQF3pDwBZVkA/wM9RwEAAJMpHhiPagApYABpAC4AiQOUzIvwroRaBborDsIRAZ3VdCoLBCMxbAEzWmwBsgDdfoB/foB+gYKCfoOGhH6FiIaAh4KIgol+in6LfoyKjX6Ofo+CkH6RfpJ+k36Ug5WIloKXftoC2WzhAtdsAIJsJGygAINsbARCBD8EQQREBEIESARFBEAERgRIBEcEQwRFBEgAlmZsAKMDh2wAtGYBBWwAyVFsbADPbAIMbAD2WmwA9gEZAPYA9AD0APUA9AN8XmzUhCNlvwD2APQA9AD1APQcbGwAiVpsAPYAiQEZAPYAiQLsAPYAiQN8XmzUhCNlvxxsAPdabAEZAPYA9gD0APQA9QD0APcA9AD0APUA9AN8XmzUhCNlvxxsbACJWmwBGQD2AIkA9gCJAuwA9gCJA3xebNSEI2W/HGwCQwE2bAJKATlsAkvBbGwCV2xsA54C7AOeA54DnwOfA58DnwN8XmzUhCNlvxxsbACJWmwBGQOeAIkDngCJAuwDngCJA3xebNSEI2W/HGwEN2wAiQQ4AIkGjTFtIC9s1m4DJmwA/QDGWgJsbABVWv4UMgJsbACJAmwAVAEAuV5sAmxebGwAiV5sAmxebD3YAEls1gJsbEZFNiJ9FGVAe8xvEZKvxVfKZszAVTBzYBH2d1iyUXEHH7twNw7eZF5JJRHI5EgaRr5D20/3dfONrFLSq5qSrrgd2CEUq722WBQ/LzpA+bx1oREI5xy4BDSZNun0ZWORUJqInZSyMaioyvfSI0l5uFDzbWaQ28/zdB0hwR4OQZ0/jn9ALSLNikjFYGfqR389qtFlhD3a6KdIh97rhZYpywuLc7o8ql5/X8KCbPU3L/QlmCowhRXhsGDvg6wUNprA9bM/49uxlAj7ZVy3ouEY/BgFXBNyK0TLrSjZWeJm/T4nz6QGLT3cJNtWRZVZTvIdtaxMMJRHgig9+S11LjBh7Inr06ykoch1U097Rw0hvgmOrydQyaWcEQDg0RavuMuT0zYabUZl1e33HNSK1oNUCS03eh+9C2EvF3fq9h+XBaAMFuoWeZf+mfZgL4HzyiKDIUtfNU4oFu0aE9qt3VA3U4D3fOSrAcYVnjG3cSkp1vhXZnp3JQm4JknKdBitO2NVnGCYQwU3YMWHWB87NEd+4AHuOKI8BSIH92reW0pfs+kWCTJxDCbRjFv8Cfc4/DSBYJScJYTeAEgg9wTEvcwd/QuHRHqGzAQ4fXf5FUI1lPrO+fvEcPl4JInM1z9AtBT2bL4QYEREe7KiSnnxTwtmAFjn8lqT3mND8qTktX2F16Ae9cakqJ6/pEQsHURqyqWlRMCzKXRKfCHT7sYHWx9/T/ugYTFY6iVN3Btm58ATJR5alYZybKMWojwOw3HbFn23NFyeLl7+Er82RchyYuBoGQ3j7SAWNxiYvp5U+Fq/DEzB9cG5DlJWsqkosRze92OVlCtQEYo1S1lF72Z8xWc4ld/+fFcfTEDTFb9d8tJGQ75dpJEvcWyGmGBiTbiWDdGOcw93Dmxq5ISUrmasygONfHLvhgo83HQZenbdBtSzBkvYrCEQ/xEDMhMZsN6gqplx5jGG9mSQLhM81UEdEeJ59sdNJDAFy/gPyJoKlwPZgB/MkC/kICLiCB8va+nCdO2ry4aDfkmPFpF/H/SGQ3LJ6aAv9dtJ8DniHtLOckZix0BVb0iR5V3LAp521LBSIi6AtV7r2ZB/hQEvAw54EFNOQcFnl1xGUIc67tqK1INNwD2n/RbwgzO9h45LM6VMuN8V1ZNIQ6t+Xy3lTqyVCD5kqLy/t3/b8MLbgDg8JIWDkSZ+LrGhhr+gYpH+pr1TnCUnZPjpUdw6bSL6MWVXoDDciQDWECwU2e6VEpfrcOBbrSOijqGkEIoJPbpmeJLkcwbvA0yWIixQVjo0HnYh7fji+Dfdq1mtV1lG2Zz9R7eFMHS+FK7nybutu2fwzDpFldO2pZBshsHJWaltn3PWOoGJpCT2jE8EHOuC6FkejNWcfsWCqNqMLP9xTwcWArj2EiiI7D+EaDi7/2cqHL1gPiF6C/J7aUo7RQqogPZ11WqbyP97nsoMxPOC78wZMF7B1Y0g7JNXJV/nN1m4xx8hbqWz07KSaqr5hE4icB326DMR/vUKX9LoNjle/ZWtbUhrTAcsdgrLlG5Ne8aiR0bS/2ZhpNOVVxavWIZsEM/rd68EB4vjbbD13NkMK1qvMk74vGbSkL7ULO0sZ9R6APSCo6KH+Xn98wEdw1bCPAnDTaBsD6sidAGN58uiH4a3ovG1KyZAu2XtyGgF/vgWKGxw9R1lfAVcfuYE71DHuxtTzfGZnHaDpDGWmfEq0N4GawE7yIkaoz8jcmVmzJe1ydM8q0p08YIxFcY1YcqQc1djWBEoNETDFcgk5waRftEJasPREkrV++N/TOKkERF1fCLrXS8DFGYGRBeECMQRNEs0ES3FzUtXCcNxpYEM3Uei6XodZruXUIRnn+UXf2b/r7n1vQutoi6WoIbW7svDNWBbUWcDUc7F9SJK3bvSy9KIqhgyJHoW2Kpvv0J4ob14HFXGWWVsYXJzjwxS+SADShTgCRjhoDgjAYRGxwJ1Vonw+cpnCKhz8NQPrb0SFxHIRbmG95Q2hlC4mDxvPBRbkFa60cvWakd7f0kVBxxktzZ9agPJEWyA63RSHYVqt8cPrs2uFJ3rS3k9ETGKn5+A6F9IOrdZHfT1biEyUJKEvwzuscwshGCBJvd16TrefW03xVnJf4xvs72PdxrMidjJO8EiWyN/VWyB3fv9kc34YIuZTFtXGo9DuG3H1Uka5FgBMwDPEvRcSabi3WakNQkXFecJlFk6buLVk5YHpuKWTw6oF632FPPSVIVl5hgUAeHhj0t/sw/PEEvThLQDDFE34eCg/rLOyXT3r+L98oRKrlTO0MdALYQ3rRQqC7d822dJPGxF1K4J2TtfPSMFaCAg0n0NGk9yiaKKOJD1v2aBX9HUOIawjjfvwCmjHZJTR62R9c9x33JnBjWrN4QYEOmehy0oZMP9XM9Zyi6TYoe07PaLceRXcCWZiY/imRUWW6+mci7+wMxSdwMdbXckXtvhJH8sc4iQcTwm7yp+3f7CaesTTQB2qkgeXh+wFiSMXfMlH7Yil0OoZ2QTtRLTip2O0cLZ4SstqWHZ6H+8A2kZXhpm0kPbL9dUanTOvziqIUh6Ambwa3WrCb2eWbuCN3L1hgWUmjRC3JoL3dBhR3imSQI8xuCMfsszlji7cSShNSYdqCXPxEVwbqO9i5B6hf93YI7aeyI8jxgcVXK0I/klbvhSXjkjOIwZgPdVwmsFW7HGPLUAvDRuKm+itybRg7c8+Yqqjg824Qf+/NxsBSUNAK9KCoJpauFqK0XQULrWYj4FnxeKDuvr54iokpi+D57e6Y1zxRJJdsHnDR3JyraCUufHBRTKODWBVzthjm4k3/Hv+Q990XDVR+KW+TcJX045LW86EKhz/97aqj89A8ZvTk1//tczosU90loIPVaHuWegJU3wP//7XHcO7c0yQM2jM/IhQKrf8hiObHWiWDZManF8Uf/HzbmDfC2wT//aiZ4hGTv/xzgKwdb1sD6cGEkceow0s3b89/zg+3plyRm0HlZi886j5wUwFhdHiDTaBidZRo5cx/tMeLyguOATbzq17ydhzbrpxunuHx6lbFGiO97gsd4dk//7iCIo+Ew+hG2so5kvv+ITG4c1fzHPtu1Xn5QfUnqY3/uByVmB7gmnE/E+5zdm+6nDmoews5fr+NzThdSHzK4bBQOL9c4O8OI0xLSqjJ4lbniLJg1aFpQRLwaSMZmpkC9e/j6FOVrTQ6a/a4alGgfrl2ZL1sbHUQ3DOI7ntq9diHFfm3t1mul3rdJEJCHnlW/hlQntipMrpeMs7fUr6wK370D7VbXH0DUHzdYfRg/6Z11Ult1sffJS+heHbco15Sxy3+rDnPesqH1lajk0yu02hPUvEUqvcUXWXL7Ad0wNGMx5gOle4XJxq/r/YY0xdco2wRSEGwcT7YADlBrHc9ZbvzOL0QwyWCWWChB9Obg800v7tyBWaNvdwz+fL7Ph9i2irEeJkRgOzeEDw+JiD/V93vH9FgMEoFIJMoIuogmicZohf94SBuPn6hXaV9jP4VVVA/bu+Wg8S88GLtmEPSNRLdtlXx2XL/nuM8nKkhnlnjaropiKKLIH94pLIASci0pDBfj9Hi5BfaTSXQg5+PMjQX91Ktk4MOqK1K99l4BRPv5+vNovGZ3IxQv8ICvjV4/diThpoaM8uvd3D9d/DE477w3yAbW3IDm2i73pZ9aEj38JqS6h/s8/xgmUIVcuq2JTgefAyuoafzQxAuRASeg3NtG3ach/JEkyuX+JDt2PnDZTShUhyHHG3ttBg/6lhAchGjLJBtopj4e01MlCp2yqQRTr4sBBXru+lKaoanwYX8y2aWCJiR3KnhCOkYVFSvsO0oDRujUFOEptiNDTYrJoUbvOyvl4AhC9h3wORiTXK1MrpMfnvdnndnR/HRVSusMBgIxwrLdn3vq1VcncPiD0SquTx/kNmxeFyCT4uXVUd9AL+rSGmuq7OOCzDKeVPjiNWVaoP5KOFqYq5Xcuf/xW9S+u9eIq9GAtZWtQlgkRecjRtvG1NR4WXXpn+pwsTBTIy079Ikg8rSef1aVapIFcXCd6C2wHVjLXR+N0tw4Taw6x6H90BFRgNrtlq2up6hHKuV3inM5RJaQWZHd84e6RsKkk9po3dk9by54tpPw7cBkFas/G+GbHwuG+AwP55BZyXILTHCIVrPpXHEaUPYfL6nphJP1Rc10xG4UaCeY4IHCwuur8xmSQDgY4aVwhzWhjbtSHG8JO6P2i2nC9/0Bfx0zk6dYQq3aw7k5vIObD7SEKrxhz0fQ0+YTOfHW23CBNeZci1qNsUDhoeqmfyP6PvjoEjHk8QbrFyQVZPHVWijnb8YCM65iYNoEbvnchStZ/9cKg5Vd45j8KnB6UjzXl/bkyZx7VoD47ocUUi117WwgySSb4rXgLJ52Mv5XJbp3I+uBP81BUvOjy4Cacgi+GWWlC/8dwgqwiojjUBDnEOxyRyowwLQfytFra1OZS4XvRYr4uoamAfG3I/p2bA7G90yqKThH8Ke00Tqd+3l3dmJpaCZelBMYjGqNLVa3SM4+LQeL56gY6Bymy2LQPVOxjWfj5tq4o74swcxhyGJPynkS5xAjOXZP1/FAYcBT3u6qLoIkEfErwo4gozmyI1YCvM0oyI3ghjGPQSsof2sKUhq91WsKy9cYWN+4A2v4pG/Mxpdc6w6kI/HX7Xb0TuihmsiOy2wQIsrZbUmr3OBSUo6oDJNgQp+YqYkgTgYcWZDgawJw3DFfdzT//PhVUidgB2qa8uw/j9ToHBAS33iT8YLhhAfyXG0bQUFp7QmH7oQ3i6Flf4OTZLvJdh8pfuflmWu2ohm5pTiSg1pl3vq9uluTJwqXfh1hqy8e2iHoD+Y35gCIViTo6VOtK5dD8HYClucJucXASzwe2kPj4S4eYQtmkYHagXhAzp/F541xE8YFYqSPszDuz3soWzHy0p3E2jwZNQaIcGU9FNQwQxeDw0ZlK9dxXrj9IUHGUPTOyib8CqXmbZ7Ex54bn1rLx3qqAavu/gh6XjV0GmN1p+yyMK9HN5uYEvxgbAk43tsheREhyI+Q5WLIneKTGPmYiM/lxOp8fvqHy8YgXK0TlMiX0tliLI2JtfmWZP8eVV732sdYm+pcWzDzEmKLJZyeelyaZKkjPnnUO9keDwtgiLnmd5+t+Sr5y8brRnlvxcWEWfCqIALQYHvaXx6jTg4dAlye469uGwwOZVZCILLfGjaMg4LUCNMTtMSp1aC2y/3wR2t1v3w/iNBRQ+bNbtDqL2NAr7K4rUcyqbSpNrXZgAWXvjxBBtfYLK1uRYt3q2pfXJOAL0HtWcEwJLddOSJKV1SwvcvEuzg/4MPnA8MIUJOLqm3qI6wFyN99Ck6zYaV/zGSAzF/PGsaNa4vPLe5QnyuqVUnVQ6xELA6gbe53aGgeke+R/ycb2LJVyc7BhuzI90zA+c6wUDTb7NH//gdDSl2u/aW7lRJm8m1fLtPxcNuEM5JbkOCZKPM88HUsLRoC1pmKKlvWyeAXuxILbu0snpSxf8N+RgtLUSe5n2gdjOjoSTaN7mMZ7bF+cWk/MS8mFD4pcyl5UN7CbpFZH2a+Pm1VAnUTVfbw8qrmz1G9m5aKmRzY1SMhhPrlCn2t4uNUXNA3IFe6NOjSC1DEaAFZAfDlEkQCsbNhsZPj6NQPDSB3tLiTo0ZYoEbIeEIaKtU3Wk60rEszawTFuyHVd365LA/c/uarABN5M5rGq/dqTG3Ilye/5EKiYisisuzqNaZjmWv0z9TORc0CKbaTea214oNM9u2sXUZub/eqM3Pi/PjRSyQiOSwPWif2asTgu6hS6fb5UGosCWxdedMqdViIUUSSdIJx+qQ4KShfTT39VAWZbi+mB+iKICNwpt6cflY57Rcbs6d1kA26Iru73cuxYVlSvuJdcR5VfDYZRk8X0AXePROyw3Le6LaUdmTLzYsoNhhgQpd67xVNiHgk3pakmndeIAtTC4DCXy9oS6eU4CWxDdVmY53pKNbdAKmQsP37lrJZC6iDXMELGKcHjNuuZgcDyY8W/yv6ha3DX7OWm/35fpvhw55oitf4V+GULlcPWYyGGuVBdro19c8u0RDddDun40W7G5cSIzHLh/qZxb59R+EPY+wZ2XerkUim92hhXpKyW6WtAh6zQS97DrPyjCvKi3pCw96LeKynOpyjtsMQc2RmI/20zFOZcSa2AK++PoRcT6zeJyxlBZ7kk5mhqXGkLlM2hFKc+/T544xXP0Ua38Q6xdPTLTeG1PHnLMaOvksUQMrEFTB/lizCirmFQL8zYVU+OTeYQEFaITsBSMMYexS9HkajO2gGIf2micvntCZJsZQEwIH3/4JGJQGflBuH5rNXmnRRYXDQs3ZoEQoMtYDr1kFKUS/siiQSUxcTH9XYeBZiKDDFQoExREO9dddKQLO3BwMHvymCSTFyY+vxn3D27NDx6OlU092D5EDUwilttqVHpjJQDUceJYCLsK2swfXeNUVrBJT/w/sk+7si8rPtiMFis+oxvGdGQxirMBID700T39mULuNHzOyN+xBfcFACZcyngF1aSpv0JPkNUrAZTqfplv509cGXFUiEEm5dZb+OsP/blizqdK45/dSsIrufYTrCPY2lgJD6k6QljTfXVlHfYKSq+MsagyUcaMintyr95bD8kdTAeYNLNsMmo/Wdd8a2nStBP49ARIjqqpUHWY4q4mvO5Cq/CgCP+4/B+5zutGwX5pssgVLr1+fIM7WWLfiUQDk4c6ZdHZOWv5hG3g2dgQ5NXnpIY+BWwJpaouf25bXnjDzbHnQNofH/c6m+dEAS9Gs2h7pFRPKOBDnqswZ8KZjhId1ytHUTs533KwBoSiImoxKQUgZ7z6pA9QB3sZ8Cq0vwutJTTkfbX8AzCpm2cFXx/P22niUMHauU8IGc+78R6TsutoonoqFuoNA3l80t387YHMoL5KGAT1JO4zmx+vJ0LbLHlicHraSVYvJjnO9p++qnWgKw9OwFVVUagvZuf9qfiuum+hIicxP1q4zDnzkHsCNriLxBpxY9N+UOmqzdY1MunLMDgkMyi3uvnN3UBXJeZ8YLs5xr8QrOhimYoKuGBebZHAiBIkViv3DG8k2oNpp5OIgX6ulqaRN8V62QUPjn5tl1kPXhT9bcd8qIm8gi4or/FGbvQ6pgGSHmnayrugmf5E0upGxPRf/3xOtitGMaHLKJVm5zhglmVfI91o0yxhJZVS/5wQ8zfxK8Ylw0WmHXoGfRkoBRx9Hsnl/6sgTjAVwpmNuSeZtBwlX4qB8Bh8lxjqBDIuFGJ4I1wxN0XRlAAslzqMKwQfyA7OkuivCXfv+i+3XmhcBFM2n4jdT+NyUmBnQJPV3F2sZfKvJhUlXzSosFR4VevVVcOkFnnjdiRWc0TeSYxj41sJGYMbZTeLI3GvyZ8/gAAudQ1+4oFX+enX5V49MczGCYVBuoC4kHjp7ZVxj+clBwPr9k+v05SsezQK3enxLs1Nt/N7c7AImVUysjGou4iOohHo83Zs9/MI/OWB+OyXzOBD93NbApGHXrv8CVRHp2bwH+xB55cfNrdqFD35HSMx4iVmtzYAmSCIV8kXsHoq3DIb93riTWbubnjxbBW5zConVtbxLRStXHkIyAByaozME952Gc9aAdAbBpZSVCH88Uwb/4bPTVOVl+WoMYD7JIvK8VcMrJ8zHV4bbG0Dg7Kx17A4ej/ZcZ2Z5pVuVLUH1E/AccUTKm81SE+LQ6STTUDscUk0x2OWIbEORhg69tdoTGNkA1RfkGIRZHr5mCXOpLC55WWzCZoGPFUVtZRHwh0nq039CDdjEPo+JyaxSQAvDgR6Iqvxy0frrtEG1A385N81l05SSzN+IDm9bypF9m92EUqblnauZ5sjc37wRykOdl7w4o8WMgQsjii3EE/aJYDfHs1cH6DNBEujjcCc8qAefYFyIAURDcDnzun5UmkbBQsU4eu/W8I9nBE0qJKTdg2hwjq0+XV7a3TJ7R+alvJZCRia9lJ+grNB9dbrOmWEvUotMjvDhq4wV/kq4fvIBkzUGpDeYH74rne8uU3dgoNZdR9pUL6q9YDNRfOiF6Dyk+SYXQIghTjm9qR4tBHh0gnmF/9q3Qv22EzaLhSvDlDOxMrrCNRmLCl1jApzLrBCPn2mjn5zqK7OYK7VxOfQ5GfBfoPdyQwqFEgCVHkJ9oTnagRM3R0+rsuN5jQv9icCav/p1WqiEXSzCdLd/WEA6z6dDP7tPqPbeDYKAkVcz1lLGbFOC9b7cBd3MV0Ve8dZ89oR7OnxGS7uVpSry8banVZwpJg+nkH1jRBYa2BvBMY2xITH9ERXCjHzdZxs+ipdXP2DY7X+eWiBhtT2L0RRGTLPeazn5tpl4tu8iE2rWig731iuJDRbCHHy+g/Mb9+miAyVqfIpXT/iZeOxOxODO0hEpLM78I1+G2Z45yi3lS1K3m4WMQ559Lp4UML5vZUjYGJuxl+OPpUH5klpyBujkjprhei0TmUik10gjvNUp8mDkWlNKikmYspaVTqewbnOzJrmz8FLIpsT67EJLHIIfeDcWEfiP+DJrZ1jfxpoAb2abeMqLx+9RuZGzQoYtYVGgAWwEM9Kek2vPIeBNAKD6ao7nw6sgvfeLZPoXkbYO/tStHJdKzk+WFSFEU2NcALJAEP6S8pcnqqBBt57dwTrzQNCIdk2SocK4dLRbD/pu/VryKnm65ZYXiJCfHJk3mx9MRSl+nSK6OqEBSoGjz0/LADddwF/HqcfK3K3O+6YUGQcmj8pZL4PhZ6KrGkb8B38FmDvvLd3XQXbvS/FQmrXFTvJNkaN/FGo83KuS43BK1UfVnIqigGkCoP5fBda2MwAGTGNKX9K9t4Bx83pMFc5KSORmWKv+8VoVggWxoaBz3/9IBh6RwLd1tebwy89xvE5z6EEpXpDfrXWfRsMs6+ekUHH6idVosno55+xQ8Zqzelh0bxtJTgCcH3Z3/Cxlx9eNIS4JIFKOAVrDqbrXRszmY55a5+niJGHtkO3b6mnIDxLa1WXc7BAe33mt2KyM4Fbc3R6/WVTQN8QhlqAtave2WsQTqzWeSlKuGUVIJRqtObpv294rS0kDN1RKzdstZTXJebR2HlzsQ4P3NbMHUqFZMZw+/IKXnh4t+lY8qocp/B1oMszR03EFs3bPeND8QkItMvllObeCz3SZAjqZrobmLcrpFyQV7mwBjg3C3C8/bc5goQhv8j/IXMLGnt4mF7tybRDG5G0polxoUScQkPvmnga2/K+aapKeqSL0BTmo1Cm5g+booNOtdyKva2KoefRURaBk7113QKo3y+WTuFKtgETIK8HRluYS9DvlcciCDvnG8UaJRfZE2siZsiTHvRmN80xkUIInHeRZl5Re/+ATL6VhKFi8CZ/n/jbFV6T5pZ+Uoppvsi3qjacVFOJgWWfdlwVHKPW/TJO3na9hRM9bS2yo2rEsC6IBzRReVO6IesJU7PItzOamr+ROFfwGZmZ7ue8HNxAgLJKb7P3p8dMqk6Be5PJaT/5Rdc1deYVihWH9cjVKc9uz5EnfHqxLUkOO8iJUENBNVf5LyNy8zjLu/78k5WNTywiPfYeX3CPk7yc6CI3lum/CEZwfUaNpcI3KsPqfn2lmz3kd/acQjKA1ebkJaiuLD+epQ/Fc1llHXXMzofWzz/Kd29SNmOhcjMWw1jq1g3YfrXZ9rzXDYW4ZttfgfMi6oCUtBs0PkMVuxmq5lxEoCaSXPSqCJJ7MlKdRDidVt0AFlxk5cTdX++sBF2+E35mjwfm8ERVxH0FvuAQtsfA4V2G0TKTUxeyRGVjd/u6F1SvuAiU2/WaQjcNCU4Ep7VunXCYSbZj3U3wzu/LWM5MPlYuyQ3FOOCD/zt7K295hY2JhwF+ODDIZ676vGQFKveEQYkWj7lkK7rVmD7MhU0Y/tF8EcTTpo4/yqOufbd/zWIpMajnbDuWK2vn6OPPtz2rc9MIBNlPd8tt+yf+7SC4wqEPbozKMCwY5Bygx4JmoIEDsixWRDcdHd6S3/dZMHXOJAAv7+NIstl00crgSqHZKAEe4g3G4dzIV51EeZB01r7p8GNlfUnG/GjZgNGsqXZdYMBVtAtFNv3hJWPve4GvqZ2XxuiNkHTz5kxWgr0PjQdJlVywJ9Zf2ZvqeeTbolKtvK54re2Lq5BoyzfsRtvDfyao3kmyFzDQ88nM+qx83w74RDlkngtYiArI05Epre3GgBeSlMig0pE6RGQaFznKkGeb0SozLCyiOtxh7hgwZlbKbClzUUfC8ntMiHUOZE375RhTy9c4DA+oMLkUDkztSybZbdmP1xpaIbjUpPAHBq3cIq+CBFzbMlMMCCkUQ6d9LGV6GYCsYiEWZIy3nBnuxOYXeU4YTGDSin9e4/pCjPtQSHlg5LMEvIlF0ElthqrF129iK2RPBEWd3XWOl3SWV5uz5VUyZYp5kEFmz7QfP/B1W1BBzQ2iTGbSVT79lUHzcGXz3PJceSgz4uknETUwo0xffpr2KUvZF0i/r2sL3IFIClYx8CbIZE6Qt7MDJbOPB3xMScwaOcWG66IJfCnDkb0D2Mb+PHzX+oiCbxeTIogtyN+s2NJirNACk/OACSOTtV6vscwbzW4M168xqaI+RzR47S1nlV/rOoZnid87n/Ima2XYa3un3BuGAisNjb8eLMT9OnMtazQROFCuO1HiZXaOc0oUDbNC4eKLToOx8DzVhMgGA8XIAQ2x3b6I0uEyLssQjJX3QphcUMx4KsMgJ+72km4N2aqkBF2coKmUEt1eqIMGn+5txMT4kYVGd3ALO+y9Z4PP3d3l48JQK8s9ZZ/Qx/+NBKgBEJFlQ32psoJiihGO7FSYM5L81q72kaAYcilEFMG+ZK1BcMqELkflyCV7v8JEXLO4Rf/oZYNZHZVjJhfL6fnpP9Tio3Euue5uS7FMkfGOeRCTrBZ06Caev7tgufeTrX34Ur/Vvc+b8ksiIShNJtuF9WmYxOZ4xg8y6zTdy3KAB2y5kYkcRnXsptWwAFyKZ2I/QGySNeoQLkINUMloC+5L3WuMMx297Q1xUYLKqZ9XHavaobo6QQv4auMm+i84IhxRpPt9nUmcav9NcjCcP+TcMmxsQZ/F3mgeoA0fQgwvTsyXuuTaM3Sqtv2jaaajmaFQpK9W6uIbeqwvSDo34ZrY6elDUHwSCjHRRmlwmyy+eOra64Ssq0XSXYljMHtKY+FShcMkHsEUY/4Bw63dJ6KpwDaxmthlDdbdE+TvYF3v33cGSKqO+1H1pKYhJMvZD5ckQcHyNF8zrtiR5b0ko6NPGoRexUZTYP6VbUdn3zzxGBOi8Z0OqHjGqYxRXwN3mYi0GYEEZYq+Q3QvdKcEHILLLj8S+VFepSfErtmfZCdvxbfIifFSpEzKi+7VJsLMT+zEFeyp1OdwRC1VZrfTLIyR7xTPUcZFYPD9qI7D70uTb4hdpqPXsJIRNYbZtNwch1OI3trh3u2ScoQyM9POnInsUa+OovcwkUP1UfIzPb95n4BaF2ev57NHAej0+BVMF9/Cj9663HN2/JN3SQgslL914bKfiTTDFAz9PlQEL/dSv1H8xl3mtWxh1McFO9EJXlRDaKQDsyKO4vOJW90NFE6yw2tjbc2GeF95sbs0I9enAa6QwQVf/kJQhAD2BzUDKggOyjy1TEhED6sfk+418lQy3c/uj8aw8UEzZ6hIMCd8RohAkumMtIj9m73l2yPWoGHVTPaywkC7Yj9tBM1NxMgcrDwRtk4RO2WHT7Ql5kQCKdJj6kNuOTeyEBYBjLMhGz+O5/YGa84HEiTYEpZ6fFzy26GG2hWtTyteuYrhSyG56BjsT/wQeLRytpTY3D7sIMqZnJ9z1FDrfyjFlGl2TNw9BQysbaxOuwYYZs/7I6BANgkqCknWZC7/BBXvaeKwAmC959I+G39BUE9bExkNlbRoFRyEtNzv+NJ91FuisG3JCS6uYBeRnfv8AkAfKTeg9EYamqnsGfAV7d0f9DghHEQ5IsPGDIUhgoSj7obM4Bu5uhQ3/CYEDTHc92AsFvDK4XGrwUeGBWBHPlS+f4x+CxmmHz2sAGmSFNt65kwZC64mnaoWlu2310laYn8r62AqsR5dfjyK18MEdurdagldzfJtjFXlZs7St4QhdPiye6TPh2/ZAQLU/Fip5s7TDEM16KtRWrK9hmxnQ7bmfa/+7pa10Z8WDPK3NuJ+NN/RAbQ5vHx2uX0Lm7/w7cAEH/hvZA+mt7J7zGw7YtQYwnNN6dpgwkGjjrS3yQoeoYt1EnczmtmJfQZWzUlP3Hlg9Wzlr9IH23q3thGth+QNEANFettxKfskkGOlLk8AqoKJwDqOxAa6UzAx07plSSyNBJSGco9zjnC5gGbDoKvsMDuBR6bGRlGzJ+hFsGa/Izt78aI+WZ6dJlZKp4pGISuv9rV0sAS0MWEwCmfauO7oQZMiakHU35LBxiyJoOMddhUWgcZuC8r4Ksvn75TTcQXLJ7kWtYhGuGqPd9dZuFjBWQHNwosXY5snbHFQq72CvHXhIg+shQxycuLOuWYErwCLZeF24b7F78pO7xw4X6lIAR02hUOf5087Rl0nOaeb6CK4i/KA/EZv76ftOWZtjwxslNr0E/u8rWUmnf3amfg6UZmBAluuoj3Dd7UV+9IAJ6iYcDfSJlgmIImohjfIUMJ27z+opj50Ak9af2LCNrWrBJvMovA1OeNO+MF/MwZvnaCxTgG7Cw4QfSPF6AYCGFt21M8PySZFeV3t2Rqqs5JMzMYzGRgq4o+UaKRgBf9GHi/9X9HXA3wxkCsd/UhnHSh2zUVDiraio/6nP4y3XJqs8ABfALAtCYU7DHPMPRjgcM6Ad/HiSXDAbOdSMkvGZPAkHs8wuQTy6X2Ov/JFvcPuKfV3/r9Q28";const FENCED=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),NSM_MAX=4;function decode_arithmetic(Fn){let Mn=0;function io(){return Fn[Mn++]<<8|Fn[Mn++]}let fo=io(),mo=1,$o=[0,1];for(let Al=1;Al<fo;Al++)$o.push(mo+=io());let Ao=io(),Lo=Mn;Mn+=Ao;let Wo=0,jo=0;function zo(){return Wo==0&&(jo=jo<<8|Fn[Mn++],Wo=8),jo>>--Wo&1}const Vo=31,Go=2**Vo,Jo=Go>>>1,Qo=Jo>>1,os=Go-1;let Cl=0;for(let Al=0;Al<Vo;Al++)Cl=Cl<<1|zo();let xl=[],ds=0,_c=Go;for(;;){let Al=Math.floor(((Cl-ds+1)*mo-1)/_c),Il=0,us=fo;for(;us-Il>1;){let Wl=Il+us>>>1;Al<$o[Wl]?us=Wl:Il=Wl}if(Il==0)break;xl.push(Il);let ps=ds+Math.floor(_c*$o[Il]/mo),Rl=ds+Math.floor(_c*$o[Il+1]/mo)-1;for(;!((ps^Rl)&Jo);)Cl=Cl<<1&os|zo(),ps=ps<<1&os,Rl=Rl<<1&os|1;for(;ps&~Rl&Qo;)Cl=Cl&Jo|Cl<<1&os>>>1|zo(),ps=ps<<1^Jo,Rl=(Rl^Jo)<<1|Jo|1;ds=ps,_c=1+Rl-ps}let $l=fo-4;return xl.map(Al=>{switch(Al-$l){case 3:return $l+65792+(Fn[Lo++]<<16|Fn[Lo++]<<8|Fn[Lo++]);case 2:return $l+256+(Fn[Lo++]<<8|Fn[Lo++]);case 1:return $l+Fn[Lo++];default:return Al-1}})}function read_payload(Fn){let Mn=0;return()=>Fn[Mn++]}function read_compressed_payload(Fn){return read_payload(decode_arithmetic(unsafe_atob(Fn)))}function unsafe_atob(Fn){let Mn=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((mo,$o)=>Mn[mo.charCodeAt(0)]=$o);let io=Fn.length,fo=new Uint8Array(6*io>>3);for(let mo=0,$o=0,Ao=0,Lo=0;mo<io;mo++)Lo=Lo<<6|Mn[Fn.charCodeAt(mo)],Ao+=6,Ao>=8&&(fo[$o++]=Lo>>(Ao-=8));return fo}function signed(Fn){return Fn&1?~Fn>>1:Fn>>1}function read_deltas(Fn,Mn){let io=Array(Fn);for(let fo=0,mo=0;fo<Fn;fo++)io[fo]=mo+=signed(Mn());return io}function read_sorted(Fn,Mn=0){let io=[];for(;;){let fo=Fn(),mo=Fn();if(!mo)break;Mn+=fo;for(let $o=0;$o<mo;$o++)io.push(Mn+$o);Mn+=mo+1}return io}function read_sorted_arrays(Fn){return read_array_while(()=>{let Mn=read_sorted(Fn);if(Mn.length)return Mn})}function read_mapped(Fn){let Mn=[];for(;;){let io=Fn();if(io==0)break;Mn.push(read_linear_table(io,Fn))}for(;;){let io=Fn()-1;if(io<0)break;Mn.push(read_replacement_table(io,Fn))}return Mn.flat()}function read_array_while(Fn){let Mn=[];for(;;){let io=Fn(Mn.length);if(!io)break;Mn.push(io)}return Mn}function read_transposed(Fn,Mn,io){let fo=Array(Fn).fill().map(()=>[]);for(let mo=0;mo<Mn;mo++)read_deltas(Fn,io).forEach(($o,Ao)=>fo[Ao].push($o));return fo}function read_linear_table(Fn,Mn){let io=1+Mn(),fo=Mn(),mo=read_array_while(Mn);return read_transposed(mo.length,1+Fn,Mn).flatMap((Ao,Lo)=>{let[Wo,...jo]=Ao;return Array(mo[Lo]).fill().map((zo,Vo)=>{let Go=Vo*fo;return[Wo+Vo*io,jo.map(Jo=>Jo+Go)]})})}function read_replacement_table(Fn,Mn){let io=1+Mn();return read_transposed(io,1+Fn,Mn).map(mo=>[mo[0],mo.slice(1)])}function read_trie(Fn){let Mn=[],io=read_sorted(Fn);return mo(fo([]),[]),Mn;function fo($o){let Ao=Fn(),Lo=read_array_while(()=>{let Wo=read_sorted(Fn).map(jo=>io[jo]);if(Wo.length)return fo(Wo)});return{S:Ao,B:Lo,Q:$o}}function mo({S:$o,B:Ao},Lo,Wo){if(!($o&4&&Wo===Lo[Lo.length-1])){$o&2&&(Wo=Lo[Lo.length-1]),$o&1&&Mn.push(Lo);for(let jo of Ao)for(let zo of jo.Q)mo(jo,[...Lo,zo],Wo)}}}function hex_cp(Fn){return Fn.toString(16).toUpperCase().padStart(2,"0")}function quote_cp(Fn){return`{${hex_cp(Fn)}}`}function explode_cp(Fn){let Mn=[];for(let io=0,fo=Fn.length;io<fo;){let mo=Fn.codePointAt(io);io+=mo<65536?1:2,Mn.push(mo)}return Mn}function str_from_cps(Fn){let io=Fn.length;if(io<4096)return String.fromCodePoint(...Fn);let fo=[];for(let mo=0;mo<io;)fo.push(String.fromCodePoint(...Fn.slice(mo,mo+=4096)));return fo.join("")}function compare_arrays(Fn,Mn){let io=Fn.length,fo=io-Mn.length;for(let mo=0;fo==0&&mo<io;mo++)fo=Fn[mo]-Mn[mo];return fo}var COMPRESSED="AEUDVgHLCGMATwDUADIAdAAhADQAFAAtABQAIQAPACcADQASAAoAGAAJABIACQARAAUACwAFAAwABQAQAAMABwAEAAoABQAJAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACwANAA0AAwAKAAkABAAdAAYAZwDTAeYDMwCxCl8B8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgPi89uj00MsvBXxEPAGPCDwBnQKoEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiC+AZ4EWRJJFbEu7QDQLARtEbgECxDwAb/RyAk1AV4nD2cEQQKTAzsAGpobWgAahAGPCrysdy0OAKwAfFIcBAQFUmoA/PtZADkBIadVj2UMUgx5Il4ANQC9vAITAdQZWxDzALN9AhsZVwIcGSkCBAgXOhG7AqMZ4M7+1M0UAPDNAWsC+mcJDe8AAQA99zkEXLICyQozAo6lAobcP5JvjQLFzwKD9gU/OD8FEQCtEQL6bW+nAKUEvzjDHsuRyUvOFHcacUz5AqIFRSE2kzsBEQCuaQL5DQTlcgO6twSpTiUgCwIFCAUXBHQEqQV6swAVxUlmTmsCwjqsP/wKJQmXb793UgZBEBsnpRD3DDMBtQE7De1L2ATxBjsEyR99GRkPzZWcCKUt3QztJuMuoYBaI/UqgwXtS/Q83QtNUWgPWQtlCeM6Y4FOAyEBDSKLCt0NOQhtEPMKyWsN5RFFBzkD1UmaAKUHAQsRHTUVtSYQYqwLCTl3Bvsa9guPJq8TKXr8BdMaIQZNASka/wDPLueFsFoxXBxPXwYDCyUjxxSoUCANJUC3eEgaGwcVJakCkUNwSodRNh6TIfY8PQ1mLhNRfAf1PAUZTwuBPJ5Gq0UOEdI+jT1IIklMLAQ1fywvJ4sJzw+FDLl8cgFZCSEJsQxxEzERFzfFCDkHGS2XJCcVCCFGlWCaBPefA/MT0QMLBT8JQQcTA7UcLRMuFSkFDYEk1wLzNtUuswKPVoABFwXLDyUf3xBQR+AO6QibAmUDgyXrAC0VIQAXIpsIQ2MAX4/YUwUuywjHamwjdANnFOdhEXMHkQ5XB6ccMxW/HOFwyF4Lhggoo68JWwF1CZkBXwTjCAk1W4ygIEFnU4tYGJsgYUE/XfwCMQxlFZ9EvYd4AosPaxIbATUBcwc5DQECdxHtEWsQlQjrhgQ1tTP4OiUETyGDIBEKJwNPbM4LJyb5DPhpAaMSYgMMND137merYLYkF/0HGTLFQWAh8QuST80MnBrBGEJULhnkB78D8xrzJ+pBVwX/A6MDEzpNM+4EvQtpCIsJPwBJDqMXB9cYagpxjNABMYsBt5kDV5GDAm+PBjcHCwBnC4cFeeUAHQKnCKMABQDPA1cAOQKtB50AGQCFQQE9AycvASHlAo8DkwgxywGVLwHzKQQbwwwVAPc3bkoCw7ECgGpmogXdWAKOAkk1AU0lBAVOR1EDr3HhANsASwYT30cBFatKyxrjQwHfbysAxwD7AAU1BwVBAc0B820AtwFfCzEJorO1AU3pKQCDABVrAdcCiQDdADUAf/EBUwBNBVn5BdMCT0kBETEYK1dhAbsDHwEzAQ0AeQbLjaXJBx8EbQfTAhAbFeEC7y4HtQEDIt8TzULFAr3eVaFgAmSBAmJCW02vWzcgAqH3AmiYAmYJAp+EOBsLAmY7AmYmBG4EfwN/EwN+kjkGOXcXOYI6IyMCbB0CMjY4CgJtxwJtru+KM2dFKwFnAN4A4QBKBQeYDI0A/gvCAA21AncvAnaiPwJ5S0MCeLodXNtFrkbXAnw/AnrIAn0JAnzwBVkFIEgASH1jJAKBbQKAAAKABQJ/rklYSlsVF0rMAtEBAtDMSycDiE8Dh+ZExZEyAvKhXQMDA65LzkwtJQPPTUxNrwKLPwKK2MEbBx1DZwW3Ao43Ao5cQJeBAo7ZAo5ceFG0UzUKUtRUhQKT+wKTDADpABxVHlWvVdAGLBsplYYy4XhmRTs5ApefAu+yWCGoAFklApaPApZ8nACpWaxaCYFNADsClrUClk5cRFzRApnLAplkXMpdBxkCnJs5wjqdApwWAp+bAp64igAdDzEqDwKd8QKekgC1PWE0Ye8CntMCoG4BqQKenx8Cnk6lY8hkJyUrAievAiZ+AqD7AqBMAqLdAqHEAqYvAqXOAqf/AH0Cp/JofGixAANJahxq0QKs4wKsrgKtZwKtAgJXHQJV3AKx4dcDH05slwKyvQ0CsugXbOBtY21IXwMlzQK2XDs/bpADKUUCuF4CuUcVArkqd3A2cOECvRkCu9pwlgMyEQK+iHICAzNxAr4acyJzTwLDywLDBHOCdEs1RXTgAzynAzyaAz2/AsV8AsZHAsYQiQLIaVECyEQCyU8CyS4CZJ0C3dJ4eWF4rnklS9ADGKNnAgJh9BnzlSR7C16SXrsRAs9rAs9sL0tT0vMTnwDGrQLPcwEp6gNOEn5LBQLcJwLbigLSTwNSXANTXwEBA1WMgIk/AMsW7WBFghyC04LOg40C2scC2d6EEIRJpzwDhqUALwNkDoZxWfkAVQLfZQLeuHN3AuIv7RQB8zAnAfSbAfLShwLr8wLpcHkC6vkC6uQA+UcBuQLuiQLrnJaqlwMC7j8DheCYeXDgcaEC8wMAaQOOFpmTAvcTA5FuA5KHAveYAvnZAvhmmhyaq7s3mx4DnYMC/voBGwA5nxyfswMFjQOmagOm2QDRxQMGaqGIogUJAwxJAtQAPwMA4UEXUwER8wNrB5dnBQCTLSu3r73bAYmZFH8RBDkB+ykFIQ6dCZ8Akv0TtRQrxQL3LScApQC3BbmOkRc/xqdtQS4UJo0uAUMBgPwBtSYAdQMOBG0ALAIWDKEAAAoCPQJqA90DfgSRASBFBSF8CgAFAEQAEwA2EgJ3AQAF1QNr7wrFAgD3Cp8nv7G35QGRIUFCAekUfxE0wIkABAAbAFoCRQKEiwAGOlM6lI1tALg6jzrQAI04wTrcAKUA6ADLATqBOjs5/Dn5O3aJOls7nok6bzkYAVYBMwFsBS81XTWeNa01ZjV1NbY1xTWCNZE10jXhNZ41rTXuNf01sjXBNgI2ETXGNdU2FjYnNd417TYuNj02LjUtITY6Nj02PDbJNwgEkDxXNjg23TcgNw82yiA3iTcwCgSwPGc2JDcZN2w6jTchQtRDB0LgQwscDw8JmyhtKFFVBgDpfwDpsAD+mxQ91wLpNSMArQC9BbeOkRdLxptzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgELgEaJZkC7aMAoQCjBcGOmxdNxrsBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUHqSvAj5Gqwr7YrMUACT9AN3rlr3JG9m8w9lIAXltp/v8kfWaIaaR9OwpAES/I3ZVamDXSgB/UsOgAG6D0tq+5CIqE15FiAhV3yA2VhCQ7tj+m6xXaF53FIfGi/IAZIskMGAi2MU7MDVJNCbMzERyHZi+osdPtnFVbvq653O8rwaCy4IAf9OOok65AqJUtUriUfYsGPPVbe6jm0s9lbKlPCUKjdkHsFsEhvX4kT39ZCtAAbwQdn/h4TpO5hTByWAmr5n+Wuwhdegv6bmvX4LyOes3z2+cuHv2JFYwVMNuq2gzn8YHTjlUQd39osyWei4NKl3LAdfxlO876hh5ENp/cOvpuI9bF55guEthLLPOXjD4dktTH04P5TvZrWTM0e4+BHJxj7MLApXIFOs0sWKhNkG8iwuM5wR83my6V3wW06abhDzTXYfOr/ZpFXgXzmv4d12FFyP00/dPGbIVGV5ao8UufGzUwp/IHx6v/wDWJr9iaoCulhWwlZ7A8q/NMoD12+mBdNRgJYnThRLtMx1Bgwttn8/4Qn2CDfOSup9GVXEvA21ILgp0owHYxNOkpwLWz0G7K+WREIDjIzUzSn8I99CuJSmSpPyH0Ke6/NERYiNx+3dncSebPnOUnnWD61AhJ1n/tSLZmU5wYO5GfgzyAYJm6VL91LxZ8hL1lfximQxIDMRhIecQZBmeE5R0XlrpvwplVrJwpa8BBCdp93GPP9lyBeZ2zkRr920CR3cYbKpKHfogvm0nV7XdDz6EbjzlxADCMjSLXuXpIpyuizy39yY+I+H9rmpoIF3YwEjlH9MgGgWcCNTjHEWMqAbprn2Ox7rOHupaVE3lNyg3nt5XaZID6Y+uml5Ja+aOPu+BI+DZbiJVfaspUadakWUX6TA4dETkIqdJJHYnU4Z4yKpt5y8rVIahoMUf8A8kWtAQNCTbjp71gx3/zVdqNz1Sutkw0gFIMVm2BF4Xdv/0olw+NaDIR9Bb3DPweZA2K/cw+/b+AwyWl9ZOP67A9nexmeTNjfdzPGf9J6E6BMPKa5lJh+qNsdUz3HBUevU71eQFCqOcxiIYhacAhh/8PX0J5DdSViZ6WazDDx7cukJNpMfEkYLJ5Ao4vLoVd3d25Pg4qaVa2p2D2L3WvYPJ5Yf/A/MSxptjlgXL/KJtP2U0cRv2I09ATAiWCJYuRwiapeKFsqmi18yMMulDp3HdcIldq+7jkwsJUOHLHCzzzBw5XFvL0CAmo1ub456z7zb7shk3KPGCLZzr47oT1k/j06XNnJvG3Udv6XrP+wsqTBlZ5MaNPt9FOs/4Bt/ja/vbVhTNpBFl9Gq7MqINvGlWKOAwQzwOZy+EzSdjAqKJVV2YcskTuM94aIK+kc/AZaXiZLPREUDpkXIV947IFfj+85TrqPqLfkGcxgboMQjosf+az+odLNXdyp1mDNGsqSdK/pJ2Ca04mt/4d6s1X+lncOEYaGBBeW4pApGcjf7/XJCFbj3N3mFb+BtlIcw8ZiDKoClFX9Rf0bxCqtLpicObKJzBVVHr/6u4siH2hK75RNv7w9GfTbhJOQBYiFUZAByY4rn37tZBHT//kqKsNi3ryL9AqXJRzqiMIJMhILjoi/i8LVEsbu+Ih9bsyW16sgQqjYLO0qda6KaCPKj3DQcu6CfV5lKtjS3ZCdqLAZkOey9MR+QutJBGiz/r15GVD6rCVwJR4UUKC4GNJkfDf00OMW8aQtLSAGLXV8MIi9mbbl/qQEpxCm2L5hutFX4ekeLH4QgBWUFKs/2VVMKy46WtFE6AbwgmYm/Z0yHk5veDIrcl2HpVqb/rSE0PC9EbDzJEWqeaPhh7vF369Umq2kSiB3s5rBI6c/7N9bkRu4h2n+/h5nSwy+7n+/I+6oXQVANo2Jb5zDwtiBPf1ySCzHdT6yJShMzqSRZfnykX49CaFaxhoVF4PBhEuECJ1PrFYSpmHuyYsl14DTAV9ZxRms1XiR/kBrjhZjidOt0UNe+GSml7XNgpVw8YsUTmZXLTK+6iYnyW/wYR1W4UXwOi14xpFROHb6HcZzksgF5DbL2AFXzKNwHU2adjdAY+KCyM/cwRTBkkq/a227NI0q6DR2MkMCRu620t79bGcYUmACtqN3mk/0uNwd3JSXHqE1kzf6Yyj0W2083JNDRnIXDlgBxJ6uf58NN1f6FQiRCWB4egF8QDx74AixV8oTyw7PluIjr3/rj/WzgwPSq4xPojaF7V0xqG2u5ti2L1h6yYHv73Isrukr0kURDIEjClBsBx7kdcXUxaYMS0syT3ymLzDzslNDWQOT1Tao1YNmJHARUenhCkmV9tqCPGI5GqZaRpkiPxyjoncWjyOHYGqvbvRX+Bn1pn7EhRNXa1lqJPmoeN5VqdqIDPhEVhFsyG0d4iQEIYX0wZUbY2XbZWYlpZ/l66IrDDY0q1C1YzBDpHC4h05YqHQLqS9anyl22JQ6lEvjvdBwMHfE7z0luCXD34/rFeDa2TmSeEAykSpYO5j1G/nsgpR3qn0qaQEmLjnnLfcz+veoYqPnRqmRGwCJ6FJ3Gm/Z1/aVX5PSb03MMnjAf41ww54sD5k8FrkfBP+K0b1MrYpapWjtpZfve2HVf4ickX3LKSOhu7qI1Vd4c1kNrn2ajy1t4y93JhV4fnWCKq7OmFpcr7FjdJCXPTql0Drr14Ho3Z87+GPQ4Z/DcTiGqtvZxlRYi8cNuhXABveZIwNl/BX1huhVLaFax5OqypUrQRyb9OE3SSkPlDdy5uo5XGg2EIGEjLY1MO5cr1ibfiFWV7zspcTgkBKkwo5jPyAin04LqizZXb2tDRgwKJjGx4cVk3ngAQixwcxjYAg2Q7vmUR/hpwInMdw7OhC2qyf41vTPkudQAORS0DdLtOGQxb4fH2VYGsvJCkeWPeUwtf1/tuIhzXEThoCZzzSJqqjUtbaPI3ntHm3T5uf849hGUA0zU8ni5W+EEn3/0Y6oUhQFw9z0aGjkljBbAlFXc0y82G2wkd7VdgWa5KTgJJNjNwZMfmdnUIUn1JU5LiWX5UZEZbVlKSN76mlmjUR2ku+fucTNlO4IAAahnLjBhlvQNR9pe9swGBgq0YR7P3VCyI/seYwQ4QBzy9X+HPePgoF8WfKaJ4MBOhLCGHae6Z8xkNXwni9QAKvTNtVA56x8YJflZ/VvONRSlsSLmiSyNMnTjTaE1ko81zkzGEnVwEhjCzlwIqpxmpDAqwsEmtpdr3xpc7i/ZX3f2TzT3M0FdxIEQvO1jgmmiN+D1YpMduAzEhBtj2OBkMN/rv6p7Th4pSH6f5aH3aTvwFTl7EOSgGASI7ttyMehzpm4AVyK+bFEaFg9gnZsSUPpsbAe/0RFhrH+EXZ12Z7thf4dzN1+Sn+G8QrDA1VKaN4IFxD1rQz9Xq9Coii9S9/hPbTGjyBwFH3H1UdQuz5KsgPDEHua4/kPg2Gp/IIItsaLWBqiT9XH45MiQxSosGJ56H/0F2cjcCFd72l1665RNHURdC3lspI77esfJsl+rXXabkAy7vxDXG/XGGcKpwiKDPFfvMEgjkAHil4Za1F36RnyxxvdIAzvgfH8knukYDck07tc++DP4TdWeI7HXuq5Yl6VVFrUQtf64/dkXewlKZSHQo6YvCSpREB0GDrz+Ys2GfO8nw2SwrYwaf88AifzlPvP17bf1mI3AuccJvAjZIpBmqvharKFAebEjVKfGAwpQjWoXlm9LROsq9bCk1UeQ3CJxJqprzssS/Q04JeS1ReCCubL3J7sx86spkP4eNpp95UF+8K748icIs8vdILFklk9skQqi1So6cx3X906pvy1vz+KipTJ8fiVJxsV5MmT0XwA";const S0=44032,L0=4352,V0=4449,T0=4519,L_COUNT=19,V_COUNT=21,T_COUNT=28,N_COUNT=V_COUNT*T_COUNT,S_COUNT=L_COUNT*N_COUNT,S1=S0+S_COUNT,L1=L0+L_COUNT,V1=V0+V_COUNT,T1=T0+T_COUNT;function unpack_cc(Fn){return Fn>>24&255}function unpack_cp(Fn){return Fn&16777215}let SHIFTED_RANK,EXCLUSIONS,DECOMP,RECOMP;function init$1(){let Fn=read_compressed_payload(COMPRESSED);SHIFTED_RANK=new Map(read_sorted_arrays(Fn).flatMap((Mn,io)=>Mn.map(fo=>[fo,io+1<<24]))),EXCLUSIONS=new Set(read_sorted(Fn)),DECOMP=new Map,RECOMP=new Map;for(let[Mn,io]of read_mapped(Fn)){if(!EXCLUSIONS.has(Mn)&&io.length==2){let[fo,mo]=io,$o=RECOMP.get(fo);$o||($o=new Map,RECOMP.set(fo,$o)),$o.set(mo,Mn)}DECOMP.set(Mn,io.reverse())}}function is_hangul(Fn){return Fn>=S0&&Fn<S1}function compose_pair(Fn,Mn){if(Fn>=L0&&Fn<L1&&Mn>=V0&&Mn<V1)return S0+(Fn-L0)*N_COUNT+(Mn-V0)*T_COUNT;if(is_hangul(Fn)&&Mn>T0&&Mn<T1&&(Fn-S0)%T_COUNT==0)return Fn+(Mn-T0);{let io=RECOMP.get(Fn);return io&&(io=io.get(Mn),io)?io:-1}}function decomposed(Fn){SHIFTED_RANK||init$1();let Mn=[],io=[],fo=!1;function mo($o){let Ao=SHIFTED_RANK.get($o);Ao&&(fo=!0,$o|=Ao),Mn.push($o)}for(let $o of Fn)for(;;){if($o<128)Mn.push($o);else if(is_hangul($o)){let Ao=$o-S0,Lo=Ao/N_COUNT|0,Wo=Ao%N_COUNT/T_COUNT|0,jo=Ao%T_COUNT;mo(L0+Lo),mo(V0+Wo),jo>0&&mo(T0+jo)}else{let Ao=DECOMP.get($o);Ao?io.push(...Ao):mo($o)}if(!io.length)break;$o=io.pop()}if(fo&&Mn.length>1){let $o=unpack_cc(Mn[0]);for(let Ao=1;Ao<Mn.length;Ao++){let Lo=unpack_cc(Mn[Ao]);if(Lo==0||$o<=Lo){$o=Lo;continue}let Wo=Ao-1;for(;;){let jo=Mn[Wo+1];if(Mn[Wo+1]=Mn[Wo],Mn[Wo]=jo,!Wo||($o=unpack_cc(Mn[--Wo]),$o<=Lo))break}$o=unpack_cc(Mn[Ao])}}return Mn}function composed_from_decomposed(Fn){let Mn=[],io=[],fo=-1,mo=0;for(let $o of Fn){let Ao=unpack_cc($o),Lo=unpack_cp($o);if(fo==-1)Ao==0?fo=Lo:Mn.push(Lo);else if(mo>0&&mo>=Ao)Ao==0?(Mn.push(fo,...io),io.length=0,fo=Lo):io.push(Lo),mo=Ao;else{let Wo=compose_pair(fo,Lo);Wo>=0?fo=Wo:mo==0&&Ao==0?(Mn.push(fo),fo=Lo):(io.push(Lo),mo=Ao)}}return fo>=0&&Mn.push(fo,...io),Mn}function nfd(Fn){return decomposed(Fn).map(unpack_cp)}function nfc(Fn){return composed_from_decomposed(decomposed(Fn))}const HYPHEN=45,STOP_CH=".",FE0F=65039,UNIQUE_PH=1,Array_from=Fn=>Array.from(Fn);function group_has_cp(Fn,Mn){return Fn.P.has(Mn)||Fn.Q.has(Mn)}class Emoji extends Array{get is_emoji(){return!0}}let MAPPED,IGNORED,CM,NSM,ESCAPE,GROUPS,WHOLE_VALID,WHOLE_MAP,VALID,EMOJI_LIST,EMOJI_ROOT;function init$2(){if(MAPPED)return;let Fn=read_compressed_payload(COMPRESSED$1);const Mn=()=>read_sorted(Fn),io=()=>new Set(Mn()),fo=(zo,Vo)=>Vo.forEach(Go=>zo.add(Go));MAPPED=new Map(read_mapped(Fn)),IGNORED=io(),CM=Mn(),NSM=new Set(Mn().map(zo=>CM[zo])),CM=new Set(CM),ESCAPE=io(),io();let mo=read_sorted_arrays(Fn),$o=Fn();const Ao=()=>{let zo=new Set;return Mn().forEach(Vo=>fo(zo,mo[Vo])),fo(zo,Mn()),zo};GROUPS=read_array_while(zo=>{let Vo=read_array_while(Fn).map(Go=>Go+96);if(Vo.length){let Go=zo>=$o;Vo[0]-=32,Vo=str_from_cps(Vo),Go&&(Vo=`Restricted[${Vo}]`);let Jo=Ao(),Qo=Ao(),os=!Fn();return{N:Vo,P:Jo,Q:Qo,M:os,R:Go}}}),WHOLE_VALID=io(),WHOLE_MAP=new Map;let Lo=Mn().concat(Array_from(WHOLE_VALID)).sort((zo,Vo)=>zo-Vo);Lo.forEach((zo,Vo)=>{let Go=Fn(),Jo=Lo[Vo]=Go?Lo[Vo-Go]:{V:[],M:new Map};Jo.V.push(zo),WHOLE_VALID.has(zo)||WHOLE_MAP.set(zo,Jo)});for(let{V:zo,M:Vo}of new Set(WHOLE_MAP.values())){let Go=[];for(let Qo of zo){let os=GROUPS.filter(xl=>group_has_cp(xl,Qo)),Cl=Go.find(({G:xl})=>os.some(ds=>xl.has(ds)));Cl||(Cl={G:new Set,V:[]},Go.push(Cl)),Cl.V.push(Qo),fo(Cl.G,os)}let Jo=Go.flatMap(Qo=>Array_from(Qo.G));for(let{G:Qo,V:os}of Go){let Cl=new Set(Jo.filter(xl=>!Qo.has(xl)));for(let xl of os)Vo.set(xl,Cl)}}VALID=new Set;let Wo=new Set;const jo=zo=>VALID.has(zo)?Wo.add(zo):VALID.add(zo);for(let zo of GROUPS){for(let Vo of zo.P)jo(Vo);for(let Vo of zo.Q)jo(Vo)}for(let zo of VALID)!WHOLE_MAP.has(zo)&&!Wo.has(zo)&&WHOLE_MAP.set(zo,UNIQUE_PH);fo(VALID,nfd(VALID)),EMOJI_LIST=read_trie(Fn).map(zo=>Emoji.from(zo)).sort(compare_arrays),EMOJI_ROOT=new Map;for(let zo of EMOJI_LIST){let Vo=[EMOJI_ROOT];for(let Go of zo){let Jo=Vo.map(Qo=>{let os=Qo.get(Go);return os||(os=new Map,Qo.set(Go,os)),os});Go===FE0F?Vo.push(...Jo):Vo=Jo}for(let Go of Vo)Go.V=zo}}function quoted_cp(Fn){return(should_escape(Fn)?"":`${bidi_qq(safe_str_from_cps([Fn]))} `)+quote_cp(Fn)}function bidi_qq(Fn){return`"${Fn}"`}function check_label_extension(Fn){if(Fn.length>=4&&Fn[2]==HYPHEN&&Fn[3]==HYPHEN)throw new Error(`invalid label extension: "${str_from_cps(Fn.slice(0,4))}"`)}function check_leading_underscore(Fn){for(let io=Fn.lastIndexOf(95);io>0;)if(Fn[--io]!==95)throw new Error("underscore allowed only at start")}function check_fenced(Fn){let Mn=Fn[0],io=FENCED.get(Mn);if(io)throw error_placement(`leading ${io}`);let fo=Fn.length,mo=-1;for(let $o=1;$o<fo;$o++){Mn=Fn[$o];let Ao=FENCED.get(Mn);if(Ao){if(mo==$o)throw error_placement(`${io} + ${Ao}`);mo=$o+1,io=Ao}}if(mo==fo)throw error_placement(`trailing ${io}`)}function safe_str_from_cps(Fn,Mn=1/0,io=quote_cp){let fo=[];is_combining_mark(Fn[0])&&fo.push(""),Fn.length>Mn&&(Mn>>=1,Fn=[...Fn.slice(0,Mn),8230,...Fn.slice(-Mn)]);let mo=0,$o=Fn.length;for(let Ao=0;Ao<$o;Ao++){let Lo=Fn[Ao];should_escape(Lo)&&(fo.push(str_from_cps(Fn.slice(mo,Ao))),fo.push(io(Lo)),mo=Ao+1)}return fo.push(str_from_cps(Fn.slice(mo,$o))),fo.join("")}function is_combining_mark(Fn,Mn){return init$2(),CM.has(Fn)}function should_escape(Fn){return init$2(),ESCAPE.has(Fn)}function ens_normalize(Fn){return flatten(split$2(Fn,nfc,filter_fe0f))}function split$2(Fn,Mn,io){if(!Fn)return[];init$2();let fo=0;return Fn.split(STOP_CH).map(mo=>{let $o=explode_cp(mo),Ao={input:$o,offset:fo};fo+=$o.length+1;try{let Lo=Ao.tokens=tokens_from_str($o,Mn,io),Wo=Lo.length,jo;if(!Wo)throw new Error("empty label");let zo=Ao.output=Lo.flat();if(check_leading_underscore(zo),!(Ao.emoji=Wo>1||Lo[0].is_emoji)&&zo.every(Go=>Go<128))check_label_extension(zo),jo="ASCII";else{let Go=Lo.flatMap(Jo=>Jo.is_emoji?[]:Jo);if(!Go.length)jo="Emoji";else{if(CM.has(zo[0]))throw error_placement("leading combining mark");for(let os=1;os<Wo;os++){let Cl=Lo[os];if(!Cl.is_emoji&&CM.has(Cl[0]))throw error_placement(`emoji + combining mark: "${str_from_cps(Lo[os-1])} + ${safe_str_from_cps([Cl[0]])}"`)}check_fenced(zo);let Jo=Array_from(new Set(Go)),[Qo]=determine_group(Jo);check_group(Qo,Go),check_whole(Qo,Jo),jo=Qo.N}}Ao.type=jo}catch(Lo){Ao.error=Lo}return Ao})}function check_whole(Fn,Mn){let io,fo=[];for(let mo of Mn){let $o=WHOLE_MAP.get(mo);if($o===UNIQUE_PH)return;if($o){let Ao=$o.M.get(mo);if(io=io?io.filter(Lo=>Ao.has(Lo)):Array_from(Ao),!io.length)return}else fo.push(mo)}if(io){for(let mo of io)if(fo.every($o=>group_has_cp(mo,$o)))throw new Error(`whole-script confusable: ${Fn.N}/${mo.N}`)}}function determine_group(Fn){let Mn=GROUPS;for(let io of Fn){let fo=Mn.filter(mo=>group_has_cp(mo,io));if(!fo.length)throw GROUPS.some(mo=>group_has_cp(mo,io))?error_group_member(Mn[0],io):error_disallowed(io);if(Mn=fo,fo.length==1)break}return Mn}function flatten(Fn){return Fn.map(({input:Mn,error:io,output:fo})=>{if(io){let mo=io.message;throw new Error(Fn.length==1?mo:`Invalid label ${bidi_qq(safe_str_from_cps(Mn,63))}: ${mo}`)}return str_from_cps(fo)}).join(STOP_CH)}function error_disallowed(Fn){return new Error(`disallowed character: ${quoted_cp(Fn)}`)}function error_group_member(Fn,Mn){let io=quoted_cp(Mn),fo=GROUPS.find(mo=>mo.P.has(Mn));return fo&&(io=`${fo.N} ${io}`),new Error(`illegal mixture: ${Fn.N} + ${io}`)}function error_placement(Fn){return new Error(`illegal placement: ${Fn}`)}function check_group(Fn,Mn){for(let io of Mn)if(!group_has_cp(Fn,io))throw error_group_member(Fn,io);if(Fn.M){let io=nfd(Mn);for(let fo=1,mo=io.length;fo<mo;fo++)if(NSM.has(io[fo])){let $o=fo+1;for(let Ao;$o<mo&&NSM.has(Ao=io[$o]);$o++)for(let Lo=fo;Lo<$o;Lo++)if(io[Lo]==Ao)throw new Error(`duplicate non-spacing marks: ${quoted_cp(Ao)}`);if($o-fo>NSM_MAX)throw new Error(`excessive non-spacing marks: ${bidi_qq(safe_str_from_cps(io.slice(fo-1,$o)))} (${$o-fo}/${NSM_MAX})`);fo=$o}}}function tokens_from_str(Fn,Mn,io){let fo=[],mo=[];for(Fn=Fn.slice().reverse();Fn.length;){let $o=consume_emoji_reversed(Fn);if($o)mo.length&&(fo.push(Mn(mo)),mo=[]),fo.push(io($o));else{let Ao=Fn.pop();if(VALID.has(Ao))mo.push(Ao);else{let Lo=MAPPED.get(Ao);if(Lo)mo.push(...Lo);else if(!IGNORED.has(Ao))throw error_disallowed(Ao)}}}return mo.length&&fo.push(Mn(mo)),fo}function filter_fe0f(Fn){return Fn.filter(Mn=>Mn!=FE0F)}function consume_emoji_reversed(Fn,Mn){let io=EMOJI_ROOT,fo,mo=Fn.length;for(;mo&&(io=io.get(Fn[--mo]),!!io);){let{V:$o}=io;$o&&(fo=$o,Fn.length=mo)}return fo}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function isBytes(Fn){return Fn instanceof Uint8Array||Fn!=null&&typeof Fn=="object"&&Fn.constructor.name==="Uint8Array"}function chain(...Fn){const Mn=$o=>$o,io=($o,Ao)=>Lo=>$o(Ao(Lo)),fo=Fn.map($o=>$o.encode).reduceRight(io,Mn),mo=Fn.map($o=>$o.decode).reduce(io,Mn);return{encode:fo,decode:mo}}function alphabet$2(Fn){return{encode:Mn=>{if(!Array.isArray(Mn)||Mn.length&&typeof Mn[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return Mn.map(io=>{if(io<0||io>=Fn.length)throw new Error(`Digit index outside alphabet: ${io} (alphabet: ${Fn.length})`);return Fn[io]})},decode:Mn=>{if(!Array.isArray(Mn)||Mn.length&&typeof Mn[0]!="string")throw new Error("alphabet.decode input should be array of strings");return Mn.map(io=>{if(typeof io!="string")throw new Error(`alphabet.decode: not string element=${io}`);const fo=Fn.indexOf(io);if(fo===-1)throw new Error(`Unknown letter: "${io}". Allowed: ${Fn}`);return fo})}}}function join$1(Fn=""){if(typeof Fn!="string")throw new Error("join separator should be string");return{encode:Mn=>{if(!Array.isArray(Mn)||Mn.length&&typeof Mn[0]!="string")throw new Error("join.encode input should be array of strings");for(let io of Mn)if(typeof io!="string")throw new Error(`join.encode: non-string input=${io}`);return Mn.join(Fn)},decode:Mn=>{if(typeof Mn!="string")throw new Error("join.decode input should be string");return Mn.split(Fn)}}}function padding$1(Fn,Mn="="){if(typeof Mn!="string")throw new Error("padding chr should be string");return{encode(io){if(!Array.isArray(io)||io.length&&typeof io[0]!="string")throw new Error("padding.encode input should be array of strings");for(let fo of io)if(typeof fo!="string")throw new Error(`padding.encode: non-string input=${fo}`);for(;io.length*Fn%8;)io.push(Mn);return io},decode(io){if(!Array.isArray(io)||io.length&&typeof io[0]!="string")throw new Error("padding.encode input should be array of strings");for(let mo of io)if(typeof mo!="string")throw new Error(`padding.decode: non-string input=${mo}`);let fo=io.length;if(fo*Fn%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;fo>0&&io[fo-1]===Mn;fo--)if(!((fo-1)*Fn%8))throw new Error("Invalid padding: string has too much padding");return io.slice(0,fo)}}}function convertRadix(Fn,Mn,io){if(Mn<2)throw new Error(`convertRadix: wrong from=${Mn}, base cannot be less than 2`);if(io<2)throw new Error(`convertRadix: wrong to=${io}, base cannot be less than 2`);if(!Array.isArray(Fn))throw new Error("convertRadix: data should be array");if(!Fn.length)return[];let fo=0;const mo=[],$o=Array.from(Fn);for($o.forEach(Ao=>{if(Ao<0||Ao>=Mn)throw new Error(`Wrong integer: ${Ao}`)});;){let Ao=0,Lo=!0;for(let Wo=fo;Wo<$o.length;Wo++){const jo=$o[Wo],zo=Mn*Ao+jo;if(!Number.isSafeInteger(zo)||Mn*Ao/Mn!==Ao||zo-jo!==Mn*Ao)throw new Error("convertRadix: carry overflow");Ao=zo%io;const Vo=Math.floor(zo/io);if($o[Wo]=Vo,!Number.isSafeInteger(Vo)||Vo*io+Ao!==zo)throw new Error("convertRadix: carry overflow");if(Lo)Vo?Lo=!1:fo=Wo;else continue}if(mo.push(Ao),Lo)break}for(let Ao=0;Ao<Fn.length-1&&Fn[Ao]===0;Ao++)mo.push(0);return mo.reverse()}const gcd=(Fn,Mn)=>Mn?gcd(Mn,Fn%Mn):Fn,radix2carry=(Fn,Mn)=>Fn+(Mn-gcd(Fn,Mn));function convertRadix2(Fn,Mn,io,fo){if(!Array.isArray(Fn))throw new Error("convertRadix2: data should be array");if(Mn<=0||Mn>32)throw new Error(`convertRadix2: wrong from=${Mn}`);if(io<=0||io>32)throw new Error(`convertRadix2: wrong to=${io}`);if(radix2carry(Mn,io)>32)throw new Error(`convertRadix2: carry overflow from=${Mn} to=${io} carryBits=${radix2carry(Mn,io)}`);let mo=0,$o=0;const Ao=2**io-1,Lo=[];for(const Wo of Fn){if(Wo>=2**Mn)throw new Error(`convertRadix2: invalid data word=${Wo} from=${Mn}`);if(mo=mo<<Mn|Wo,$o+Mn>32)throw new Error(`convertRadix2: carry overflow pos=${$o} from=${Mn}`);for($o+=Mn;$o>=io;$o-=io)Lo.push((mo>>$o-io&Ao)>>>0);mo&=2**$o-1}if(mo=mo<<io-$o&Ao,!fo&&$o>=Mn)throw new Error("Excess padding");if(!fo&&mo)throw new Error(`Non-zero padding: ${mo}`);return fo&&$o>0&&Lo.push(mo>>>0),Lo}function radix(Fn){return{encode:Mn=>{if(!isBytes(Mn))throw new Error("radix.encode input should be Uint8Array");return convertRadix(Array.from(Mn),2**8,Fn)},decode:Mn=>{if(!Array.isArray(Mn)||Mn.length&&typeof Mn[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(convertRadix(Mn,Fn,2**8))}}}function radix2(Fn,Mn=!1){if(Fn<=0||Fn>32)throw new Error("radix2: bits should be in (0..32]");if(radix2carry(8,Fn)>32||radix2carry(Fn,8)>32)throw new Error("radix2: carry overflow");return{encode:io=>{if(!isBytes(io))throw new Error("radix2.encode input should be Uint8Array");return convertRadix2(Array.from(io),8,Fn,!Mn)},decode:io=>{if(!Array.isArray(io)||io.length&&typeof io[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(convertRadix2(io,Fn,8,Mn))}}}function checksum(Fn,Mn){if(typeof Mn!="function")throw new Error("checksum fn should be function");return{encode(io){if(!isBytes(io))throw new Error("checksum.encode: input should be Uint8Array");const fo=Mn(io).slice(0,Fn),mo=new Uint8Array(io.length+Fn);return mo.set(io),mo.set(fo,io.length),mo},decode(io){if(!isBytes(io))throw new Error("checksum.decode: input should be Uint8Array");const fo=io.slice(0,-Fn),mo=Mn(fo).slice(0,Fn),$o=io.slice(-Fn);for(let Ao=0;Ao<Fn;Ao++)if(mo[Ao]!==$o[Ao])throw new Error("Invalid checksum");return fo}}}const utils$1={alphabet:alphabet$2,chain,checksum,convertRadix,convertRadix2,radix,radix2,join:join$1,padding:padding$1};/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const isJapanese=Fn=>Fn[0]==="";function nfkd(Fn){if(typeof Fn!="string")throw new TypeError(`Invalid mnemonic type: ${typeof Fn}`);return Fn.normalize("NFKD")}function normalize$2(Fn){const Mn=nfkd(Fn),io=Mn.split(" ");if(![12,15,18,21,24].includes(io.length))throw new Error("Invalid mnemonic");return{nfkd:Mn,words:io}}function assertEntropy(Fn){bytes$1(Fn,16,20,24,28,32)}const calcChecksum=Fn=>{const Mn=8-Fn.length/4;return new Uint8Array([sha256$6(Fn)[0]>>Mn<<Mn])};function getCoder(Fn){if(!Array.isArray(Fn)||Fn.length!==2048||typeof Fn[0]!="string")throw new Error("Wordlist: expected array of 2048 strings");return Fn.forEach(Mn=>{if(typeof Mn!="string")throw new Error(`Wordlist: non-string element: ${Mn}`)}),utils$1.chain(utils$1.checksum(1,calcChecksum),utils$1.radix2(11,!0),utils$1.alphabet(Fn))}function mnemonicToEntropy(Fn,Mn){const{words:io}=normalize$2(Fn),fo=getCoder(Mn).decode(io);return assertEntropy(fo),fo}function entropyToMnemonic(Fn,Mn){return assertEntropy(Fn),getCoder(Mn).encode(Fn).join(isJapanese(Mn)?"":" ")}const wordlist=`abandon
ability
able
about
above
absent
absorb
abstract
absurd
abuse
access
accident
account
accuse
achieve
acid
acoustic
acquire
across
act
action
actor
actress
actual
adapt
add
addict
address
adjust
admit
adult
advance
advice
aerobic
affair
afford
afraid
again
age
agent
agree
ahead
aim
air
airport
aisle
alarm
album
alcohol
alert
alien
all
alley
allow
almost
alone
alpha
already
also
alter
always
amateur
amazing
among
amount
amused
analyst
anchor
ancient
anger
angle
angry
animal
ankle
announce
annual
another
answer
antenna
antique
anxiety
any
apart
apology
appear
apple
approve
april
arch
arctic
area
arena
argue
arm
armed
armor
army
around
arrange
arrest
arrive
arrow
art
artefact
artist
artwork
ask
aspect
assault
asset
assist
assume
asthma
athlete
atom
attack
attend
attitude
attract
auction
audit
august
aunt
author
auto
autumn
average
avocado
avoid
awake
aware
away
awesome
awful
awkward
axis
baby
bachelor
bacon
badge
bag
balance
balcony
ball
bamboo
banana
banner
bar
barely
bargain
barrel
base
basic
basket
battle
beach
bean
beauty
because
become
beef
before
begin
behave
behind
believe
below
belt
bench
benefit
best
betray
better
between
beyond
bicycle
bid
bike
bind
biology
bird
birth
bitter
black
blade
blame
blanket
blast
bleak
bless
blind
blood
blossom
blouse
blue
blur
blush
board
boat
body
boil
bomb
bone
bonus
book
boost
border
boring
borrow
boss
bottom
bounce
box
boy
bracket
brain
brand
brass
brave
bread
breeze
brick
bridge
brief
bright
bring
brisk
broccoli
broken
bronze
broom
brother
brown
brush
bubble
buddy
budget
buffalo
build
bulb
bulk
bullet
bundle
bunker
burden
burger
burst
bus
business
busy
butter
buyer
buzz
cabbage
cabin
cable
cactus
cage
cake
call
calm
camera
camp
can
canal
cancel
candy
cannon
canoe
canvas
canyon
capable
capital
captain
car
carbon
card
cargo
carpet
carry
cart
case
cash
casino
castle
casual
cat
catalog
catch
category
cattle
caught
cause
caution
cave
ceiling
celery
cement
census
century
cereal
certain
chair
chalk
champion
change
chaos
chapter
charge
chase
chat
cheap
check
cheese
chef
cherry
chest
chicken
chief
child
chimney
choice
choose
chronic
chuckle
chunk
churn
cigar
cinnamon
circle
citizen
city
civil
claim
clap
clarify
claw
clay
clean
clerk
clever
click
client
cliff
climb
clinic
clip
clock
clog
close
cloth
cloud
clown
club
clump
cluster
clutch
coach
coast
coconut
code
coffee
coil
coin
collect
color
column
combine
come
comfort
comic
common
company
concert
conduct
confirm
congress
connect
consider
control
convince
cook
cool
copper
copy
coral
core
corn
correct
cost
cotton
couch
country
couple
course
cousin
cover
coyote
crack
cradle
craft
cram
crane
crash
crater
crawl
crazy
cream
credit
creek
crew
cricket
crime
crisp
critic
crop
cross
crouch
crowd
crucial
cruel
cruise
crumble
crunch
crush
cry
crystal
cube
culture
cup
cupboard
curious
current
curtain
curve
cushion
custom
cute
cycle
dad
damage
damp
dance
danger
daring
dash
daughter
dawn
day
deal
debate
debris
decade
december
decide
decline
decorate
decrease
deer
defense
define
defy
degree
delay
deliver
demand
demise
denial
dentist
deny
depart
depend
deposit
depth
deputy
derive
describe
desert
design
desk
despair
destroy
detail
detect
develop
device
devote
diagram
dial
diamond
diary
dice
diesel
diet
differ
digital
dignity
dilemma
dinner
dinosaur
direct
dirt
disagree
discover
disease
dish
dismiss
disorder
display
distance
divert
divide
divorce
dizzy
doctor
document
dog
doll
dolphin
domain
donate
donkey
donor
door
dose
double
dove
draft
dragon
drama
drastic
draw
dream
dress
drift
drill
drink
drip
drive
drop
drum
dry
duck
dumb
dune
during
dust
dutch
duty
dwarf
dynamic
eager
eagle
early
earn
earth
easily
east
easy
echo
ecology
economy
edge
edit
educate
effort
egg
eight
either
elbow
elder
electric
elegant
element
elephant
elevator
elite
else
embark
embody
embrace
emerge
emotion
employ
empower
empty
enable
enact
end
endless
endorse
enemy
energy
enforce
engage
engine
enhance
enjoy
enlist
enough
enrich
enroll
ensure
enter
entire
entry
envelope
episode
equal
equip
era
erase
erode
erosion
error
erupt
escape
essay
essence
estate
eternal
ethics
evidence
evil
evoke
evolve
exact
example
excess
exchange
excite
exclude
excuse
execute
exercise
exhaust
exhibit
exile
exist
exit
exotic
expand
expect
expire
explain
expose
express
extend
extra
eye
eyebrow
fabric
face
faculty
fade
faint
faith
fall
false
fame
family
famous
fan
fancy
fantasy
farm
fashion
fat
fatal
father
fatigue
fault
favorite
feature
february
federal
fee
feed
feel
female
fence
festival
fetch
fever
few
fiber
fiction
field
figure
file
film
filter
final
find
fine
finger
finish
fire
firm
first
fiscal
fish
fit
fitness
fix
flag
flame
flash
flat
flavor
flee
flight
flip
float
flock
floor
flower
fluid
flush
fly
foam
focus
fog
foil
fold
follow
food
foot
force
forest
forget
fork
fortune
forum
forward
fossil
foster
found
fox
fragile
frame
frequent
fresh
friend
fringe
frog
front
frost
frown
frozen
fruit
fuel
fun
funny
furnace
fury
future
gadget
gain
galaxy
gallery
game
gap
garage
garbage
garden
garlic
garment
gas
gasp
gate
gather
gauge
gaze
general
genius
genre
gentle
genuine
gesture
ghost
giant
gift
giggle
ginger
giraffe
girl
give
glad
glance
glare
glass
glide
glimpse
globe
gloom
glory
glove
glow
glue
goat
goddess
gold
good
goose
gorilla
gospel
gossip
govern
gown
grab
grace
grain
grant
grape
grass
gravity
great
green
grid
grief
grit
grocery
group
grow
grunt
guard
guess
guide
guilt
guitar
gun
gym
habit
hair
half
hammer
hamster
hand
happy
harbor
hard
harsh
harvest
hat
have
hawk
hazard
head
health
heart
heavy
hedgehog
height
hello
helmet
help
hen
hero
hidden
high
hill
hint
hip
hire
history
hobby
hockey
hold
hole
holiday
hollow
home
honey
hood
hope
horn
horror
horse
hospital
host
hotel
hour
hover
hub
huge
human
humble
humor
hundred
hungry
hunt
hurdle
hurry
hurt
husband
hybrid
ice
icon
idea
identify
idle
ignore
ill
illegal
illness
image
imitate
immense
immune
impact
impose
improve
impulse
inch
include
income
increase
index
indicate
indoor
industry
infant
inflict
inform
inhale
inherit
initial
inject
injury
inmate
inner
innocent
input
inquiry
insane
insect
inside
inspire
install
intact
interest
into
invest
invite
involve
iron
island
isolate
issue
item
ivory
jacket
jaguar
jar
jazz
jealous
jeans
jelly
jewel
job
join
joke
journey
joy
judge
juice
jump
jungle
junior
junk
just
kangaroo
keen
keep
ketchup
key
kick
kid
kidney
kind
kingdom
kiss
kit
kitchen
kite
kitten
kiwi
knee
knife
knock
know
lab
label
labor
ladder
lady
lake
lamp
language
laptop
large
later
latin
laugh
laundry
lava
law
lawn
lawsuit
layer
lazy
leader
leaf
learn
leave
lecture
left
leg
legal
legend
leisure
lemon
lend
length
lens
leopard
lesson
letter
level
liar
liberty
library
license
life
lift
light
like
limb
limit
link
lion
liquid
list
little
live
lizard
load
loan
lobster
local
lock
logic
lonely
long
loop
lottery
loud
lounge
love
loyal
lucky
luggage
lumber
lunar
lunch
luxury
lyrics
machine
mad
magic
magnet
maid
mail
main
major
make
mammal
man
manage
mandate
mango
mansion
manual
maple
marble
march
margin
marine
market
marriage
mask
mass
master
match
material
math
matrix
matter
maximum
maze
meadow
mean
measure
meat
mechanic
medal
media
melody
melt
member
memory
mention
menu
mercy
merge
merit
merry
mesh
message
metal
method
middle
midnight
milk
million
mimic
mind
minimum
minor
minute
miracle
mirror
misery
miss
mistake
mix
mixed
mixture
mobile
model
modify
mom
moment
monitor
monkey
monster
month
moon
moral
more
morning
mosquito
mother
motion
motor
mountain
mouse
move
movie
much
muffin
mule
multiply
muscle
museum
mushroom
music
must
mutual
myself
mystery
myth
naive
name
napkin
narrow
nasty
nation
nature
near
neck
need
negative
neglect
neither
nephew
nerve
nest
net
network
neutral
never
news
next
nice
night
noble
noise
nominee
noodle
normal
north
nose
notable
note
nothing
notice
novel
now
nuclear
number
nurse
nut
oak
obey
object
oblige
obscure
observe
obtain
obvious
occur
ocean
october
odor
off
offer
office
often
oil
okay
old
olive
olympic
omit
once
one
onion
online
only
open
opera
opinion
oppose
option
orange
orbit
orchard
order
ordinary
organ
orient
original
orphan
ostrich
other
outdoor
outer
output
outside
oval
oven
over
own
owner
oxygen
oyster
ozone
pact
paddle
page
pair
palace
palm
panda
panel
panic
panther
paper
parade
parent
park
parrot
party
pass
patch
path
patient
patrol
pattern
pause
pave
payment
peace
peanut
pear
peasant
pelican
pen
penalty
pencil
people
pepper
perfect
permit
person
pet
phone
photo
phrase
physical
piano
picnic
picture
piece
pig
pigeon
pill
pilot
pink
pioneer
pipe
pistol
pitch
pizza
place
planet
plastic
plate
play
please
pledge
pluck
plug
plunge
poem
poet
point
polar
pole
police
pond
pony
pool
popular
portion
position
possible
post
potato
pottery
poverty
powder
power
practice
praise
predict
prefer
prepare
present
pretty
prevent
price
pride
primary
print
priority
prison
private
prize
problem
process
produce
profit
program
project
promote
proof
property
prosper
protect
proud
provide
public
pudding
pull
pulp
pulse
pumpkin
punch
pupil
puppy
purchase
purity
purpose
purse
push
put
puzzle
pyramid
quality
quantum
quarter
question
quick
quit
quiz
quote
rabbit
raccoon
race
rack
radar
radio
rail
rain
raise
rally
ramp
ranch
random
range
rapid
rare
rate
rather
raven
raw
razor
ready
real
reason
rebel
rebuild
recall
receive
recipe
record
recycle
reduce
reflect
reform
refuse
region
regret
regular
reject
relax
release
relief
rely
remain
remember
remind
remove
render
renew
rent
reopen
repair
repeat
replace
report
require
rescue
resemble
resist
resource
response
result
retire
retreat
return
reunion
reveal
review
reward
rhythm
rib
ribbon
rice
rich
ride
ridge
rifle
right
rigid
ring
riot
ripple
risk
ritual
rival
river
road
roast
robot
robust
rocket
romance
roof
rookie
room
rose
rotate
rough
round
route
royal
rubber
rude
rug
rule
run
runway
rural
sad
saddle
sadness
safe
sail
salad
salmon
salon
salt
salute
same
sample
sand
satisfy
satoshi
sauce
sausage
save
say
scale
scan
scare
scatter
scene
scheme
school
science
scissors
scorpion
scout
scrap
screen
script
scrub
sea
search
season
seat
second
secret
section
security
seed
seek
segment
select
sell
seminar
senior
sense
sentence
series
service
session
settle
setup
seven
shadow
shaft
shallow
share
shed
shell
sheriff
shield
shift
shine
ship
shiver
shock
shoe
shoot
shop
short
shoulder
shove
shrimp
shrug
shuffle
shy
sibling
sick
side
siege
sight
sign
silent
silk
silly
silver
similar
simple
since
sing
siren
sister
situate
six
size
skate
sketch
ski
skill
skin
skirt
skull
slab
slam
sleep
slender
slice
slide
slight
slim
slogan
slot
slow
slush
small
smart
smile
smoke
smooth
snack
snake
snap
sniff
snow
soap
soccer
social
sock
soda
soft
solar
soldier
solid
solution
solve
someone
song
soon
sorry
sort
soul
sound
soup
source
south
space
spare
spatial
spawn
speak
special
speed
spell
spend
sphere
spice
spider
spike
spin
spirit
split
spoil
sponsor
spoon
sport
spot
spray
spread
spring
spy
square
squeeze
squirrel
stable
stadium
staff
stage
stairs
stamp
stand
start
state
stay
steak
steel
stem
step
stereo
stick
still
sting
stock
stomach
stone
stool
story
stove
strategy
street
strike
strong
struggle
student
stuff
stumble
style
subject
submit
subway
success
such
sudden
suffer
sugar
suggest
suit
summer
sun
sunny
sunset
super
supply
supreme
sure
surface
surge
surprise
surround
survey
suspect
sustain
swallow
swamp
swap
swarm
swear
sweet
swift
swim
swing
switch
sword
symbol
symptom
syrup
system
table
tackle
tag
tail
talent
talk
tank
tape
target
task
taste
tattoo
taxi
teach
team
tell
ten
tenant
tennis
tent
term
test
text
thank
that
theme
then
theory
there
they
thing
this
thought
three
thrive
throw
thumb
thunder
ticket
tide
tiger
tilt
timber
time
tiny
tip
tired
tissue
title
toast
tobacco
today
toddler
toe
together
toilet
token
tomato
tomorrow
tone
tongue
tonight
tool
tooth
top
topic
topple
torch
tornado
tortoise
toss
total
tourist
toward
tower
town
toy
track
trade
traffic
tragic
train
transfer
trap
trash
travel
tray
treat
tree
trend
trial
tribe
trick
trigger
trim
trip
trophy
trouble
truck
true
truly
trumpet
trust
truth
try
tube
tuition
tumble
tuna
tunnel
turkey
turn
turtle
twelve
twenty
twice
twin
twist
two
type
typical
ugly
umbrella
unable
unaware
uncle
uncover
under
undo
unfair
unfold
unhappy
uniform
unique
unit
universe
unknown
unlock
until
unusual
unveil
update
upgrade
uphold
upon
upper
upset
urban
urge
usage
use
used
useful
useless
usual
utility
vacant
vacuum
vague
valid
valley
valve
van
vanish
vapor
various
vast
vault
vehicle
velvet
vendor
venture
venue
verb
verify
version
very
vessel
veteran
viable
vibrant
vicious
victory
video
view
village
vintage
violin
virtual
virus
visa
visit
visual
vital
vivid
vocal
voice
void
volcano
volume
vote
voyage
wage
wagon
wait
walk
wall
walnut
want
warfare
warm
warrior
wash
wasp
waste
water
wave
way
wealth
weapon
wear
weasel
weather
web
wedding
weekend
weird
welcome
west
wet
whale
what
wheat
wheel
when
where
whip
whisper
wide
width
wife
wild
will
win
window
wine
wing
wink
winner
winter
wire
wisdom
wise
wish
witness
wolf
woman
wonder
wood
wool
word
work
world
worry
worth
wrap
wreck
wrestle
wrist
write
wrong
yard
year
yellow
you
young
youth
zebra
zero
zone
zoo`.split(`
`);function normalize$1(Fn){return ens_normalize(Fn)}normalize$1.parseError=Fn=>Fn;function normalize(Fn){return normalize$1(Fn)}function parseWalletCapabilities(Fn){try{return JSON.parse(Fn)}catch{throw new Error("Error parsing wallet capabilities")}}class WagmiAdapter extends AdapterBlueprint{constructor(Mn){super({projectId:Mn.projectId,networks:CaipNetworksUtil.extendCaipNetworks(Mn.networks,{projectId:Mn.projectId,customNetworkImageUrls:{}})}),this.adapterType="wagmi",this.namespace=ConstantsUtil$3.CHAIN.EVM,this.createConfig({...Mn,networks:CaipNetworksUtil.extendCaipNetworks(Mn.networks,{projectId:Mn.projectId,customNetworkImageUrls:{}}),projectId:Mn.projectId}),this.setupWatchers()}createConfig(Mn){this.caipNetworks=CaipNetworksUtil.extendCaipNetworks(Mn.networks,{projectId:Mn.projectId,customNetworkImageUrls:{}}),this.wagmiChains=this.caipNetworks.filter($o=>$o.chainNamespace===ConstantsUtil$3.CHAIN.EVM);const io=this.wagmiChains.map($o=>[$o.id,CaipNetworksUtil.getViemTransport($o)]);Object.entries(Mn.transports??{}).forEach(([$o,Ao])=>{const Lo=io.findIndex(([Wo])=>Wo===Number($o));Lo===-1?io.push([Number($o),Ao]):io[Lo]=[Number($o),Ao]});const fo=Object.fromEntries(io),mo=[...Mn.connectors??[]];this.wagmiConfig=createConfig({...Mn,chains:this.wagmiChains,transports:fo,connectors:mo})}setupWatchers(){watchAccount(this.wagmiConfig,{onChange:Mn=>{Mn.address&&this.emit("accountChanged",{address:Mn.address,chainId:Mn.chainId}),Mn.chainId&&this.emit("switchNetwork",{address:Mn.address,chainId:Mn.chainId})}}),watchConnections(this.wagmiConfig,{onChange:Mn=>{Mn.length===0&&this.emit("disconnect")}})}addWagmiConnectors(Mn,io){var Ao,Lo,Wo,jo,zo,Vo,Go,Jo;const fo=[];Mn.enableCoinbase!==!1&&fo.push(coinbaseWallet({version:"4",appName:((Ao=Mn.metadata)==null?void 0:Ao.name)??"Unknown",appLogoUrl:((Lo=Mn.metadata)==null?void 0:Lo.icons[0])??"Unknown",preference:Mn.coinbasePreference??"all"})),Mn.enableWalletConnect!==!1&&fo.push(walletConnect(Mn,io,this.caipNetworks)),Mn.enableInjected!==!1&&fo.push(injected({shimDisconnect:!0}));const mo=((Wo=Mn.features)==null?void 0:Wo.email)===void 0?ConstantsUtil$2.DEFAULT_FEATURES.email:(jo=Mn.features)==null?void 0:jo.email,$o=(zo=Mn.features)!=null&&zo.socials?((Go=(Vo=Mn.features)==null?void 0:Vo.socials)==null?void 0:Go.length)>0:ConstantsUtil$2.DEFAULT_FEATURES.socials;(mo||$o)&&fo.push(authConnector({chains:this.wagmiChains,options:{projectId:Mn.projectId},provider:(Jo=this.availableConnectors.find(Qo=>Qo.id===ConstantsUtil$1.AUTH_CONNECTOR_ID))==null?void 0:Jo.provider})),fo.forEach(Qo=>{const os=this.wagmiConfig._internal.connectors.setup(Qo);this.wagmiConfig._internal.connectors.setState(Cl=>[...Cl,os])})}async signMessage(Mn){try{return{signature:await signMessage(this.wagmiConfig,{message:Mn.message,account:Mn.address})}}catch{throw new Error("WagmiAdapter:signMessage - Sign message failed")}}async sendTransaction(Mn){const{chainId:io}=getAccount(this.wagmiConfig),fo={account:Mn.address,to:Mn.to,value:Mn.value,gas:Mn.gas,gasPrice:Mn.gasPrice,data:Mn.data,chainId:io,type:"legacy"};await prepareTransactionRequest(this.wagmiConfig,fo);const mo=await sendTransaction(this.wagmiConfig,fo);return await waitForTransactionReceipt(this.wagmiConfig,{hash:mo,timeout:25e3}),{hash:mo}}async writeContract(Mn){var Ao;const{caipNetwork:io,...fo}=Mn,mo=Number(NetworkUtil.caipNetworkIdToNumber(io.caipNetworkId));return{hash:await writeContract(this.wagmiConfig,{chain:(Ao=this.wagmiChains)==null?void 0:Ao[mo],chainId:mo,address:fo.tokenAddress,account:fo.fromAddress,abi:fo.abi,functionName:fo.method,args:[fo.receiverAddress,fo.tokenAmount]})}}async getEnsAddress(Mn){const{name:io,caipNetwork:fo}=Mn;try{if(!this.wagmiConfig)throw new Error("networkControllerClient:getApprovedCaipNetworksData - wagmiConfig is undefined");let mo=!1,$o=!1;return isReownName(io)&&($o=await WcHelpersUtil.resolveReownName(io)||!1),fo.id===1&&(mo=await getEnsAddress(this.wagmiConfig,{name:normalize(io),chainId:fo.id})),{address:mo||$o||!1}}catch{return{address:!1}}}async estimateGas(Mn){try{return{gas:await estimateGas(this.wagmiConfig,{account:Mn.address,to:Mn.to,data:Mn.data,type:"legacy"})}}catch{throw new Error("WagmiAdapter:estimateGas - error estimating gas")}}parseUnits(Mn){return parseUnits(Mn.value,Mn.decimals)}formatUnits(Mn){return formatUnits(Mn.value,Mn.decimals)}syncConnectors(Mn,io){this.addWagmiConnectors(Mn,io);const fo=this.wagmiConfig.connectors.map(Ao=>({...Ao,chain:this.namespace})),mo=new Set;fo.filter(Ao=>{const Lo=mo.has(Ao.id);return mo.add(Ao.id),!Lo}).forEach(Ao=>{var jo;const Lo=ConstantsUtil$1.AUTH_CONNECTOR_ID===Ao.id,Wo=Ao.id===ConstantsUtil$1.INJECTED_CONNECTOR_ID;!Lo&&this.namespace&&this.addConnector({id:Ao.id,explorerId:PresetsUtil.ConnectorExplorerIds[Ao.id],imageUrl:((jo=Mn==null?void 0:Mn.connectorImages)==null?void 0:jo[Ao.id])??Ao.icon,name:PresetsUtil.ConnectorNamesMap[Ao.id]??Ao.name,imageId:PresetsUtil.ConnectorImageIds[Ao.id],type:PresetsUtil.ConnectorTypesMap[Ao.type]??"EXTERNAL",info:Wo?void 0:{rdns:Ao.id},chain:this.namespace,chains:[]})})}async syncConnection(Mn){const{id:io}=Mn,mo=getConnections(this.wagmiConfig).find(Lo=>Lo.connector.id===io),$o=this.wagmiConfig.connectors.find(Lo=>Lo.id===io),Ao=await($o==null?void 0:$o.getProvider());return{chainId:Number(mo==null?void 0:mo.chainId),address:mo==null?void 0:mo.accounts[0],provider:Ao,type:mo==null?void 0:mo.connector.type,id:mo==null?void 0:mo.connector.id}}async connectWalletConnect(Mn,io){const fo=this.wagmiConfig.connectors.find($o=>$o.type==="walletConnect"),mo=await fo.getProvider();if(!this.caipNetworks||!mo)throw new Error("UniversalAdapter:connectWalletConnect - caipNetworks or provider is undefined");mo.on("display_uri",$o=>{Mn($o)}),await connect$1(this.wagmiConfig,{connector:fo,chainId:io?Number(io):void 0})}async connect(Mn){var jo;const{id:io,provider:fo,type:mo,info:$o,chainId:Ao}=Mn,Lo=this.wagmiConfig.connectors.find(zo=>zo.id===io);if(!Lo)throw new Error("connectionControllerClient:connectExternal - connector is undefined");fo&&$o&&Lo.id===ConstantsUtil$1.EIP6963_CONNECTOR_ID&&((jo=Lo.setEip6963Wallet)==null||jo.call(Lo,{provider:fo,info:$o}));const Wo=await connect$1(this.wagmiConfig,{connector:Lo,chainId:Ao?Number(Ao):void 0});return{address:Wo.accounts[0],chainId:Wo.chainId,provider:fo,type:mo,id:io}}async reconnect(Mn){const{id:io}=Mn,fo=this.wagmiConfig.connectors.find(mo=>mo.id===io);if(!fo)throw new Error("connectionControllerClient:connectExternal - connector is undefined");await reconnect(this.wagmiConfig,{connectors:[fo]})}async getBalance(Mn){var fo,mo,$o;const io=(fo=this.caipNetworks)==null?void 0:fo.find(Ao=>Ao.id===Mn.chainId);if(io&&this.wagmiConfig){const Ao=Number(Mn.chainId),Lo=await getBalance(this.wagmiConfig,{address:Mn.address,chainId:Ao,token:($o=(mo=Mn.tokens)==null?void 0:mo[io.caipNetworkId])==null?void 0:$o.address});return{balance:Lo.formatted,symbol:Lo.symbol}}return{balance:"",symbol:""}}async getProfile(Mn){const io=Mn.chainId,fo=await getEnsName(this.wagmiConfig,{address:Mn.address,chainId:io});if(fo){const mo=await getEnsAvatar(this.wagmiConfig,{name:fo,chainId:io});return{profileName:fo,profileImage:mo??void 0}}return{profileName:void 0,profileImage:void 0}}getWalletConnectProvider(){var Mn;return(Mn=this.wagmiConfig.connectors.find(io=>io.type==="walletConnect"))==null?void 0:Mn.provider}async disconnect(){const Mn=getConnections(this.wagmiConfig);await Promise.all(Mn.map(async io=>{const fo=io==null?void 0:io.connector;fo&&await disconnect(this.wagmiConfig,{connector:fo})}))}async switchNetwork(Mn){await switchChain(this.wagmiConfig,{chainId:Mn.caipNetwork.id})}async getCapabilities(Mn){var Ao,Lo;if(!this.wagmiConfig)throw new Error("connectionControllerClient:getCapabilities - wagmiConfig is undefined");const fo=getConnections(this.wagmiConfig)[0];if(!(fo!=null&&fo.connector))throw new Error("connectionControllerClient:getCapabilities - connector is undefined");const mo=await fo.connector.getProvider();if(!mo)throw new Error("connectionControllerClient:getCapabilities - provider is undefined");const $o=(Lo=(Ao=mo.session)==null?void 0:Ao.sessionProperties)==null?void 0:Lo.capabilities;if($o){const jo=parseWalletCapabilities($o)[Mn];if(jo)return jo}return await mo.request({method:"wallet_getCapabilities",params:[Mn]})}async grantPermissions(Mn){if(!this.wagmiConfig)throw new Error("connectionControllerClient:grantPermissions - wagmiConfig is undefined");const fo=getConnections(this.wagmiConfig)[0];if(!(fo!=null&&fo.connector))throw new Error("connectionControllerClient:grantPermissions - connector is undefined");const mo=await fo.connector.getProvider();if(!mo)throw new Error("connectionControllerClient:grantPermissions - provider is undefined");return mo.request({method:"wallet_grantPermissions",params:Mn})}async revokePermissions(Mn){if(!this.wagmiConfig)throw new Error("connectionControllerClient:revokePermissions - wagmiConfig is undefined");const fo=getConnections(this.wagmiConfig)[0];if(!(fo!=null&&fo.connector))throw new Error("connectionControllerClient:revokePermissions - connector is undefined");const mo=await fo.connector.getProvider();if(!mo)throw new Error("connectionControllerClient:revokePermissions - provider is undefined");return mo.request({method:"wallet_revokePermissions",params:Mn})}}const pushStateEvent="pushstate",popStateEvent="popstate",beforeUnloadEvent="beforeunload",beforeUnloadListener=Fn=>(Fn.preventDefault(),Fn.returnValue=""),stopBlocking=()=>{removeEventListener(beforeUnloadEvent,beforeUnloadListener,{capture:!0})};function createHistory(Fn){let Mn=Fn.getLocation();const io=new Set;let fo=[];const mo=()=>{Mn=Fn.getLocation(),io.forEach(Ao=>Ao({location:Mn}))},$o=async(Ao,Lo)=>{var Wo;if(!((Lo==null?void 0:Lo.ignoreBlocker)??!1)&&typeof document<"u"&&fo.length){for(const zo of fo)if(!await zo()){(Wo=Fn.onBlocked)==null||Wo.call(Fn,mo);return}}Ao()};return{get location(){return Mn},get length(){return Fn.getLength()},subscribers:io,subscribe:Ao=>(io.add(Ao),()=>{io.delete(Ao)}),push:(Ao,Lo,Wo)=>{Lo=assignKey(Lo),$o(()=>{Fn.pushState(Ao,Lo),mo()},Wo)},replace:(Ao,Lo,Wo)=>{Lo=assignKey(Lo),$o(()=>{Fn.replaceState(Ao,Lo),mo()},Wo)},go:(Ao,Lo)=>{$o(()=>{Fn.go(Ao),mo()},Lo)},back:Ao=>{$o(()=>{Fn.back(),mo()},Ao)},forward:Ao=>{$o(()=>{Fn.forward(),mo()},Ao)},createHref:Ao=>Fn.createHref(Ao),block:Ao=>(fo.push(Ao),fo.length===1&&addEventListener(beforeUnloadEvent,beforeUnloadListener,{capture:!0}),()=>{fo=fo.filter(Lo=>Lo!==Ao),fo.length||stopBlocking()}),flush:()=>{var Ao;return(Ao=Fn.flush)==null?void 0:Ao.call(Fn)},destroy:()=>{var Ao;return(Ao=Fn.destroy)==null?void 0:Ao.call(Fn)},notify:mo}}function assignKey(Fn){return Fn||(Fn={}),{...Fn,key:createRandomKey()}}function createBrowserHistory(Fn){const Mn=(Fn==null?void 0:Fn.window)??(typeof document<"u"?window:void 0),io=Mn.history.pushState,fo=Mn.history.replaceState,mo=(Fn==null?void 0:Fn.createHref)??(os=>os),$o=(Fn==null?void 0:Fn.parseLocation)??(()=>parseHref(`${Mn.location.pathname}${Mn.location.search}${Mn.location.hash}`,Mn.history.state));let Ao=$o(),Lo;const Wo=()=>Ao;let jo,zo;const Vo=()=>{jo&&(Qo._ignoreSubscribers=!0,(jo.isPush?Mn.history.pushState:Mn.history.replaceState)(jo.state,"",jo.href),Qo._ignoreSubscribers=!1,jo=void 0,zo=void 0,Lo=void 0)},Go=(os,Cl,xl)=>{const ds=mo(Cl);zo||(Lo=Ao),Ao=parseHref(Cl,xl),jo={href:ds,state:xl,isPush:(jo==null?void 0:jo.isPush)||os==="push"},zo||(zo=Promise.resolve().then(()=>Vo()))},Jo=()=>{Ao=$o(),Qo.notify()},Qo=createHistory({getLocation:Wo,getLength:()=>Mn.history.length,pushState:(os,Cl)=>Go("push",os,Cl),replaceState:(os,Cl)=>Go("replace",os,Cl),back:()=>Mn.history.back(),forward:()=>Mn.history.forward(),go:os=>Mn.history.go(os),createHref:os=>mo(os),flush:Vo,destroy:()=>{Mn.history.pushState=io,Mn.history.replaceState=fo,Mn.removeEventListener(pushStateEvent,Jo),Mn.removeEventListener(popStateEvent,Jo)},onBlocked:os=>{Lo&&Ao!==Lo&&(Ao=Lo,os())}});return Mn.addEventListener(pushStateEvent,Jo),Mn.addEventListener(popStateEvent,Jo),Mn.history.pushState=function(...os){const Cl=io.apply(Mn.history,os);return Qo._ignoreSubscribers||Jo(),Cl},Mn.history.replaceState=function(...os){const Cl=fo.apply(Mn.history,os);return Qo._ignoreSubscribers||Jo(),Cl},Qo}function createHashHistory(Fn){const Mn=typeof document<"u"?window:void 0;return createBrowserHistory({window:Mn,parseLocation:()=>{const io=Mn.location.hash.split("#").slice(1).join("#")??"/";return parseHref(io,Mn.history.state)},createHref:io=>`${Mn.location.pathname}${Mn.location.search}#${io}`})}function createMemoryHistory(Fn={initialEntries:["/"]}){const Mn=Fn.initialEntries;let io=Fn.initialIndex??Mn.length-1;const fo=Mn.map(()=>({}));return createHistory({getLocation:()=>parseHref(Mn[io],fo[io]),getLength:()=>Mn.length,pushState:($o,Ao)=>{io<Mn.length-1&&(Mn.splice(io+1),fo.splice(io+1)),fo.push(Ao),Mn.push($o),io=Math.max(Mn.length-1,0)},replaceState:($o,Ao)=>{fo[io]=Ao,Mn[io]=$o},back:()=>{io=Math.max(io-1,0)},forward:()=>{io=Math.min(io+1,Mn.length-1)},go:$o=>{io=Math.min(Math.max(io+$o,0),Mn.length-1)},createHref:$o=>$o})}function parseHref(Fn,Mn){const io=Fn.indexOf("#"),fo=Fn.indexOf("?");return{href:Fn,pathname:Fn.substring(0,io>0?fo>0?Math.min(io,fo):io:fo>0?fo:Fn.length),hash:io>-1?Fn.substring(io):"",search:fo>-1?Fn.slice(fo,io===-1?void 0:io):"",state:Mn||{}}}function createRandomKey(){return(Math.random()+1).toString(36).substring(7)}var prefix$1="Invariant failed";function invariant(Fn,Mn){if(!Fn)throw new Error(prefix$1)}function warning(Fn,Mn){}const routerContext=reactExports.createContext(null);function getRouterContext(){return typeof document>"u"?routerContext:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=routerContext,routerContext)}function useRouter(Fn){const Mn=reactExports.useContext(getRouterContext());return Fn==null||Fn.warn,Mn}var withSelector={exports:{}},withSelector_production_min={},shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$1=reactExports;function h$3(Fn,Mn){return Fn===Mn&&(Fn!==0||1/Fn===1/Mn)||Fn!==Fn&&Mn!==Mn}var k=typeof Object.is=="function"?Object.is:h$3,l$1=e$1.useState,m$1=e$1.useEffect,n$3=e$1.useLayoutEffect,p$2=e$1.useDebugValue;function q$1(Fn,Mn){var io=Mn(),fo=l$1({inst:{value:io,getSnapshot:Mn}}),mo=fo[0].inst,$o=fo[1];return n$3(function(){mo.value=io,mo.getSnapshot=Mn,r$3(mo)&&$o({inst:mo})},[Fn,io,Mn]),m$1(function(){return r$3(mo)&&$o({inst:mo}),Fn(function(){r$3(mo)&&$o({inst:mo})})},[Fn]),p$2(io),io}function r$3(Fn){var Mn=Fn.getSnapshot;Fn=Fn.value;try{var io=Mn();return!k(Fn,io)}catch{return!0}}function t$2(Fn,Mn){return Mn()}var u$3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$2:q$1;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$1.useSyncExternalStore!==void 0?e$1.useSyncExternalStore:u$3;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$2=reactExports,n$2=shimExports;function p$1(Fn,Mn){return Fn===Mn&&(Fn!==0||1/Fn===1/Mn)||Fn!==Fn&&Mn!==Mn}var q=typeof Object.is=="function"?Object.is:p$1,r$2=n$2.useSyncExternalStore,t$1=h$2.useRef,u$2=h$2.useEffect,v$2=h$2.useMemo,w$1=h$2.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(Fn,Mn,io,fo,mo){var $o=t$1(null);if($o.current===null){var Ao={hasValue:!1,value:null};$o.current=Ao}else Ao=$o.current;$o=v$2(function(){function Wo(Jo){if(!jo){if(jo=!0,zo=Jo,Jo=fo(Jo),mo!==void 0&&Ao.hasValue){var Qo=Ao.value;if(mo(Qo,Jo))return Vo=Qo}return Vo=Jo}if(Qo=Vo,q(zo,Jo))return Qo;var os=fo(Jo);return mo!==void 0&&mo(Qo,os)?Qo:(zo=Jo,Vo=os)}var jo=!1,zo,Vo,Go=io===void 0?null:io;return[function(){return Wo(Mn())},Go===null?void 0:function(){return Wo(Go())}]},[Mn,io,fo,mo]);var Lo=r$2(Fn,$o[0],$o[1]);return u$2(function(){Ao.hasValue=!0,Ao.value=Lo},[Lo]),w$1(Lo),Lo};withSelector.exports=withSelector_production_min;var withSelectorExports=withSelector.exports;class Store{constructor(Mn,io){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=fo=>{var mo,$o;this.listeners.add(fo);const Ao=($o=(mo=this.options)==null?void 0:mo.onSubscribe)==null?void 0:$o.call(mo,fo,this);return()=>{this.listeners.delete(fo),Ao==null||Ao()}},this.setState=fo=>{var mo,$o,Ao;const Lo=this.state;this.state=(mo=this.options)!=null&&mo.updateFn?this.options.updateFn(Lo)(fo):fo(Lo),(Ao=($o=this.options)==null?void 0:$o.onUpdate)==null||Ao.call($o),this._flush()},this._flush=()=>{if(this._batching)return;const fo=++this._flushing;this.listeners.forEach(mo=>{this._flushing===fo&&mo()})},this.batch=fo=>{if(this._batching)return fo();this._batching=!0,fo(),this._batching=!1,this._flush()},this.state=Mn,this.options=io}}function useStore$1(Fn,Mn=io=>io){return withSelectorExports.useSyncExternalStoreWithSelector(Fn.subscribe,()=>Fn.state,()=>Fn.state,Mn,shallow)}function shallow(Fn,Mn){if(Object.is(Fn,Mn))return!0;if(typeof Fn!="object"||Fn===null||typeof Mn!="object"||Mn===null)return!1;if(Fn instanceof Map&&Mn instanceof Map){if(Fn.size!==Mn.size)return!1;for(const[fo,mo]of Fn)if(!Mn.has(fo)||!Object.is(mo,Mn.get(fo)))return!1;return!0}if(Fn instanceof Set&&Mn instanceof Set){if(Fn.size!==Mn.size)return!1;for(const fo of Fn)if(!Mn.has(fo))return!1;return!0}const io=Object.keys(Fn);if(io.length!==Object.keys(Mn).length)return!1;for(let fo=0;fo<io.length;fo++)if(!Object.prototype.hasOwnProperty.call(Mn,io[fo])||!Object.is(Fn[io[fo]],Mn[io[fo]]))return!1;return!0}const rootRouteId="__root__";function encode$S(Fn,Mn){let io,fo,mo,$o="";for(io in Fn)if((mo=Fn[io])!==void 0)if(Array.isArray(mo))for(fo=0;fo<mo.length;fo++)$o&&($o+="&"),$o+=encodeURIComponent(io)+"="+encodeURIComponent(mo[fo]);else $o&&($o+="&"),$o+=encodeURIComponent(io)+"="+encodeURIComponent(mo);return""+$o}function toValue$1(Fn){if(!Fn)return"";const Mn=decodeURIComponent(Fn);return Mn==="false"?!1:Mn==="true"?!0:+Mn*0===0&&+Mn+""===Mn?+Mn:Mn}function decode$1g(Fn,Mn){let io,fo;const mo={},$o=Fn.split("&");for(;io=$o.shift();){const Ao=io.indexOf("=");if(Ao!==-1){fo=io.slice(0,Ao),fo=decodeURIComponent(fo);const Lo=io.slice(Ao+1);mo[fo]!==void 0?mo[fo]=[].concat(mo[fo],toValue$1(Lo)):mo[fo]=toValue$1(Lo)}else fo=io,fo=decodeURIComponent(fo),mo[fo]=""}return mo}const defaultParseSearch=parseSearchWith(JSON.parse),defaultStringifySearch=stringifySearchWith(JSON.stringify,JSON.parse);function parseSearchWith(Fn){return Mn=>{Mn.substring(0,1)==="?"&&(Mn=Mn.substring(1));const io=decode$1g(Mn);for(const fo in io){const mo=io[fo];if(typeof mo=="string")try{io[fo]=Fn(mo)}catch{}}return io}}function stringifySearchWith(Fn,Mn){function io(fo){if(typeof fo=="object"&&fo!==null)try{return Fn(fo)}catch{}else if(typeof fo=="string"&&typeof Mn=="function")try{return Mn(fo),Fn(fo)}catch{}return fo}return fo=>{fo={...fo},Object.keys(fo).forEach($o=>{const Ao=fo[$o];typeof Ao>"u"||Ao===void 0?delete fo[$o]:fo[$o]=io(Ao)});const mo=encode$S(fo).toString();return mo?`?${mo}`:""}}function last(Fn){return Fn[Fn.length-1]}function isFunction(Fn){return typeof Fn=="function"}function functionalUpdate(Fn,Mn){return isFunction(Fn)?Fn(Mn):Fn}function pick(Fn,Mn){return Mn.reduce((io,fo)=>(io[fo]=Fn[fo],io),{})}function replaceEqualDeep(Fn,Mn){if(Fn===Mn)return Fn;const io=Mn,fo=isPlainArray(Fn)&&isPlainArray(io);if(fo||isPlainObject(Fn)&&isPlainObject(io)){const mo=fo?Fn:Object.keys(Fn),$o=mo.length,Ao=fo?io:Object.keys(io),Lo=Ao.length,Wo=fo?[]:{};let jo=0;for(let zo=0;zo<Lo;zo++){const Vo=fo?zo:Ao[zo];(!fo&&mo.includes(Vo)||fo)&&Fn[Vo]===void 0&&io[Vo]===void 0?(Wo[Vo]=void 0,jo++):(Wo[Vo]=replaceEqualDeep(Fn[Vo],io[Vo]),Wo[Vo]===Fn[Vo]&&Fn[Vo]!==void 0&&jo++)}return $o===Lo&&jo===$o?Fn:Wo}return io}function isPlainObject(Fn){if(!hasObjectPrototype(Fn))return!1;const Mn=Fn.constructor;if(typeof Mn>"u")return!0;const io=Mn.prototype;return!(!hasObjectPrototype(io)||!io.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(Fn){return Object.prototype.toString.call(Fn)==="[object Object]"}function isPlainArray(Fn){return Array.isArray(Fn)&&Fn.length===Object.keys(Fn).length}function getObjectKeys(Fn,Mn){let io=Object.keys(Fn);return Mn&&(io=io.filter(fo=>Fn[fo]!==void 0)),io}function deepEqual(Fn,Mn,io){if(Fn===Mn)return!0;if(typeof Fn!=typeof Mn)return!1;if(isPlainObject(Fn)&&isPlainObject(Mn)){const fo=(io==null?void 0:io.ignoreUndefined)??!0,mo=getObjectKeys(Fn,fo),$o=getObjectKeys(Mn,fo);return!(io!=null&&io.partial)&&mo.length!==$o.length?!1:$o.every(Ao=>deepEqual(Fn[Ao],Mn[Ao],io))}return Array.isArray(Fn)&&Array.isArray(Mn)?Fn.length!==Mn.length?!1:!Fn.some((fo,mo)=>!deepEqual(fo,Mn[mo],io)):!1}const useLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function createControlledPromise(Fn){let Mn,io;const fo=new Promise((mo,$o)=>{Mn=mo,io=$o});return fo.status="pending",fo.resolve=mo=>{fo.status="resolved",fo.value=mo,Mn(mo),Fn==null||Fn(mo)},fo.reject=mo=>{fo.status="rejected",io(mo)},fo}function usePrevious$1(Fn){const Mn=reactExports.useRef({value:Fn,prev:null}),io=Mn.current.value;return Fn!==io&&(Mn.current={value:Fn,prev:io}),Mn.current.prev}function useIntersectionObserver(Fn,Mn,io={},fo={}){const mo=reactExports.useRef(typeof IntersectionObserver=="function"),$o=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!(!Fn.current||!mo.current||fo.disabled))return $o.current=new IntersectionObserver(([Ao])=>{Mn(Ao)},io),$o.current.observe(Fn.current),()=>{var Ao;(Ao=$o.current)==null||Ao.disconnect()}},[Mn,io,fo.disabled,Fn]),$o.current}function useForwardedRef(Fn){const Mn=reactExports.useRef(null);return reactExports.useEffect(()=>{Fn&&(typeof Fn=="function"?Fn(Mn.current):Fn.current=Mn.current)}),Mn}function joinPaths(Fn){return cleanPath(Fn.filter(Mn=>Mn!==void 0).join("/"))}function cleanPath(Fn){return Fn.replace(/\/{2,}/g,"/")}function trimPathLeft(Fn){return Fn==="/"?Fn:Fn.replace(/^\/{1,}/,"")}function trimPathRight(Fn){return Fn==="/"?Fn:Fn.replace(/\/{1,}$/,"")}function trimPath(Fn){return trimPathRight(trimPathLeft(Fn))}function removeTrailingSlash(Fn,Mn){return Fn.endsWith("/")&&Fn!=="/"&&Fn!==`${Mn}/`?Fn.slice(0,-1):Fn}function exactPathTest(Fn,Mn,io){return removeTrailingSlash(Fn,io)===removeTrailingSlash(Mn,io)}function resolvePath({basepath:Fn,base:Mn,to:io,trailingSlash:fo="never",caseSensitive:mo}){var $o,Ao;Mn=removeBasepath(Fn,Mn,mo),io=removeBasepath(Fn,io,mo);let Lo=parsePathname(Mn);const Wo=parsePathname(io);Lo.length>1&&(($o=last(Lo))==null?void 0:$o.value)==="/"&&Lo.pop(),Wo.forEach((zo,Vo)=>{zo.value==="/"?Vo?Vo===Wo.length-1&&Lo.push(zo):Lo=[zo]:zo.value===".."?Lo.pop():zo.value==="."||Lo.push(zo)}),Lo.length>1&&(((Ao=last(Lo))==null?void 0:Ao.value)==="/"?fo==="never"&&Lo.pop():fo==="always"&&Lo.push({type:"pathname",value:"/"}));const jo=joinPaths([Fn,...Lo.map(zo=>zo.value)]);return cleanPath(jo)}function parsePathname(Fn){if(!Fn)return[];Fn=cleanPath(Fn);const Mn=[];if(Fn.slice(0,1)==="/"&&(Fn=Fn.substring(1),Mn.push({type:"pathname",value:"/"})),!Fn)return Mn;const io=Fn.split("/").filter(Boolean);return Mn.push(...io.map(fo=>fo==="$"||fo==="*"?{type:"wildcard",value:fo}:fo.charAt(0)==="$"?{type:"param",value:fo}:{type:"pathname",value:decodeURI(fo)})),Fn.slice(-1)==="/"&&(Fn=Fn.substring(1),Mn.push({type:"pathname",value:"/"})),Mn}function interpolatePath({path:Fn,params:Mn,leaveWildcards:io,leaveParams:fo,decodeCharMap:mo}){const $o=parsePathname(Fn),Ao={};for(const[Lo,Wo]of Object.entries(Mn)){const jo=typeof Wo=="string";["*","_splat"].includes(Lo)?Ao[Lo]=jo?encodeURI(Wo):Wo:Ao[Lo]=jo?encodePathParam(Wo,mo):Wo}return joinPaths($o.map(Lo=>{if(Lo.type==="wildcard"){const Wo=Ao._splat;return io?`${Lo.value}${Wo??""}`:Wo}if(Lo.type==="param"){if(fo){const Wo=Ao[Lo.value];return`${Lo.value}${Wo??""}`}return Ao[Lo.value.substring(1)]??"undefined"}return Lo.value}))}function encodePathParam(Fn,Mn){let io=encodeURIComponent(Fn);if(Mn)for(const[fo,mo]of Mn)io=io.replaceAll(fo,mo);return io}function matchPathname(Fn,Mn,io){const fo=matchByPath(Fn,Mn,io);if(!(io.to&&!fo))return fo??{}}function removeBasepath(Fn,Mn,io=!1){const fo=io?Fn:Fn.toLowerCase(),mo=io?Mn:Mn.toLowerCase();switch(!0){case fo==="/":return Mn;case mo===fo:return"";case Mn.length<Fn.length:return Mn;case mo[fo.length]!=="/":return Mn;case mo.startsWith(fo):return Mn.slice(Fn.length);default:return Mn}}function matchByPath(Fn,Mn,io){if(Fn!=="/"&&!Mn.startsWith(Fn))return;Mn=removeBasepath(Fn,Mn,io.caseSensitive);const fo=removeBasepath(Fn,`${io.to??"$"}`,io.caseSensitive),mo=parsePathname(Mn),$o=parsePathname(fo);Mn.startsWith("/")||mo.unshift({type:"pathname",value:"/"}),fo.startsWith("/")||$o.unshift({type:"pathname",value:"/"});const Ao={};return(()=>{for(let Wo=0;Wo<Math.max(mo.length,$o.length);Wo++){const jo=mo[Wo],zo=$o[Wo],Vo=Wo>=mo.length-1,Go=Wo>=$o.length-1;if(zo){if(zo.type==="wildcard"){const Jo=decodeURI(joinPaths(mo.slice(Wo).map(Qo=>Qo.value)));return Ao["*"]=Jo,Ao._splat=Jo,!0}if(zo.type==="pathname"){if(zo.value==="/"&&!(jo!=null&&jo.value))return!0;if(jo){if(io.caseSensitive){if(zo.value!==jo.value)return!1}else if(zo.value.toLowerCase()!==jo.value.toLowerCase())return!1}}if(!jo)return!1;if(zo.type==="param"){if(jo.value==="/")return!1;jo.value.charAt(0)!=="$"&&(Ao[zo.value.substring(1)]=decodeURIComponent(jo.value))}}if(!Vo&&Go)return Ao["**"]=joinPaths(mo.slice(Wo+1).map(Jo=>Jo.value)),!!io.fuzzy&&(zo==null?void 0:zo.value)!=="/"}return!0})()?Ao:void 0}function isRedirect(Fn){return!!(Fn!=null&&Fn.isRedirect)}function isResolvedRedirect(Fn){return!!(Fn!=null&&Fn.isRedirect)&&Fn.href}function CatchBoundary(Fn){const Mn=Fn.errorComponent??ErrorComponent;return jsxRuntimeExports.jsx(CatchBoundaryImpl,{getResetKey:Fn.getResetKey,onCatch:Fn.onCatch,children:({error:io,reset:fo})=>io?reactExports.createElement(Mn,{error:io,reset:fo}):Fn.children})}class CatchBoundaryImpl extends reactExports.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(Mn){return{resetKey:Mn.getResetKey()}}static getDerivedStateFromError(Mn){return{error:Mn}}reset(){this.setState({error:null})}componentDidUpdate(Mn,io){io.error&&io.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(Mn,io){this.props.onCatch&&this.props.onCatch(Mn,io)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function ErrorComponent({error:Fn}){const[Mn,io]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[jsxRuntimeExports.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),jsxRuntimeExports.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>io(fo=>!fo),children:Mn?"Hide Error":"Show Error"})]}),jsxRuntimeExports.jsx("div",{style:{height:".25rem"}}),Mn?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:Fn.message?jsxRuntimeExports.jsx("code",{children:Fn.message}):null})}):null]})}function useRouterState(Fn){const Mn=useRouter({warn:(Fn==null?void 0:Fn.router)===void 0}),io=(Fn==null?void 0:Fn.router)||Mn,fo=reactExports.useRef();return useStore$1(io.__store,mo=>{if(Fn!=null&&Fn.select){if(Fn.structuralSharing??io.options.defaultStructuralSharing){const $o=replaceEqualDeep(fo.current,Fn.select(mo));return fo.current=$o,$o}return Fn.select(mo)}return mo})}function isNotFound(Fn){return!!(Fn!=null&&Fn.isNotFound)}function CatchNotFound(Fn){const Mn=useRouterState({select:io=>`not-found-${io.location.pathname}-${io.status}`});return jsxRuntimeExports.jsx(CatchBoundary,{getResetKey:()=>Mn,onCatch:(io,fo)=>{var mo;if(isNotFound(io))(mo=Fn.onCatch)==null||mo.call(Fn,io,fo);else throw io},errorComponent:({error:io})=>{var fo;if(isNotFound(io))return(fo=Fn.fallback)==null?void 0:fo.call(Fn,io);throw io},children:Fn.children})}function DefaultGlobalNotFound(){return jsxRuntimeExports.jsx("p",{children:"Not Found"})}const defaultTransformer={stringify:Fn=>JSON.stringify(Fn,function(io,fo){const mo=this[io],$o=transformers.find(Ao=>Ao.stringifyCondition(mo));return $o?$o.stringify(mo):fo}),parse:Fn=>JSON.parse(Fn,function(io,fo){const mo=this[io],$o=transformers.find(Ao=>Ao.parseCondition(mo));return $o?$o.parse(mo):fo})},transformers=[{stringifyCondition:Fn=>Fn instanceof Date,stringify:Fn=>({$date:Fn.toISOString()}),parseCondition:Fn=>isPlainObject(Fn)&&Fn.$date,parse:Fn=>new Date(Fn.$date)},{stringifyCondition:Fn=>Fn===void 0,stringify:()=>({$undefined:""}),parseCondition:Fn=>isPlainObject(Fn)&&Fn.$undefined==="",parse:()=>{}}],componentTypes=["component","errorComponent","pendingComponent","notFoundComponent"];function routeNeedsPreload(Fn){var Mn;for(const io of componentTypes)if((Mn=Fn.options[io])!=null&&Mn.preload)return!0;return!1}function validateSearch(Fn,Mn){if(Fn==null)return{};if("~standard"in Fn){const io=Fn["~standard"].validate(Mn);if(io instanceof Promise)throw new SearchParamError("Async validation not supported");if(io.issues)throw new SearchParamError(JSON.stringify(io.issues,void 0,2));return io.value}return"parse"in Fn?Fn.parse(Mn):typeof Fn=="function"?Fn(Mn):{}}function createRouter(Fn){return new Router(Fn)}class Router{constructor(Mn){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.subscribers=new Set,this.startReactTransition=io=>io(),this.update=io=>{io.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const fo=this.options;this.options={...this.options,...io},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(mo=>[encodeURIComponent(mo),mo])):void 0,(!this.basepath||io.basepath&&io.basepath!==fo.basepath)&&(io.basepath===void 0||io.basepath===""||io.basepath==="/"?this.basepath="/":this.basepath=`/${trimPath(io.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?createMemoryHistory({initialEntries:[this.basepath||"/"]}):createBrowserHistory()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new Store(getInitialRouterState(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(mo=>!["redirected"].includes(mo.status))}}}))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const io=this.options.notFoundRoute;io&&(io.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[io.id]=io);const fo=Ao=>{Ao.forEach((Lo,Wo)=>{Lo.init({originalIndex:Wo,defaultSsr:this.options.defaultSsr});const jo=this.routesById[Lo.id];if(invariant(!jo,`Duplicate routes found with id: ${String(Lo.id)}`),this.routesById[Lo.id]=Lo,!Lo.isRoot&&Lo.path){const Vo=trimPathRight(Lo.fullPath);(!this.routesByPath[Vo]||Lo.fullPath.endsWith("/"))&&(this.routesByPath[Vo]=Lo)}const zo=Lo.children;zo!=null&&zo.length&&fo(zo)})};fo([this.routeTree]);const mo=[];Object.values(this.routesById).forEach((Ao,Lo)=>{var Wo;if(Ao.isRoot||!Ao.path)return;const jo=trimPathLeft(Ao.fullPath),zo=parsePathname(jo);for(;zo.length>1&&((Wo=zo[0])==null?void 0:Wo.value)==="/";)zo.shift();const Vo=zo.map(Go=>Go.value==="/"?.75:Go.type==="param"?.5:Go.type==="wildcard"?.25:1);mo.push({child:Ao,trimmed:jo,parsed:zo,index:Lo,scores:Vo})}),this.flatRoutes=mo.sort((Ao,Lo)=>{const Wo=Math.min(Ao.scores.length,Lo.scores.length);for(let jo=0;jo<Wo;jo++)if(Ao.scores[jo]!==Lo.scores[jo])return Lo.scores[jo]-Ao.scores[jo];if(Ao.scores.length!==Lo.scores.length)return Lo.scores.length-Ao.scores.length;for(let jo=0;jo<Wo;jo++)if(Ao.parsed[jo].value!==Lo.parsed[jo].value)return Ao.parsed[jo].value>Lo.parsed[jo].value?1:-1;return Ao.index-Lo.index}).map((Ao,Lo)=>(Ao.child.rank=Lo,Ao.child))},this.subscribe=(io,fo)=>{const mo={eventType:io,fn:fo};return this.subscribers.add(mo),()=>{this.subscribers.delete(mo)}},this.emit=io=>{this.subscribers.forEach(fo=>{fo.eventType===io.type&&fo.fn(io)})},this.parseLocation=io=>{const fo=({pathname:Lo,search:Wo,hash:jo,state:zo})=>{const Vo=this.options.parseSearch(Wo),Go=this.options.stringifySearch(Vo);return{pathname:Lo,searchStr:Go,search:replaceEqualDeep(io==null?void 0:io.search,Vo),hash:jo.split("#").reverse()[0]??"",href:`${Lo}${Go}${jo}`,state:replaceEqualDeep(io==null?void 0:io.state,zo)}},mo=fo(this.history.location),{__tempLocation:$o,__tempKey:Ao}=mo.state;if($o&&(!Ao||Ao===this.tempLocationKey)){const Lo=fo($o);return Lo.state.key=mo.state.key,delete Lo.state.__tempLocation,{...Lo,maskedLocation:mo}}return mo},this.resolvePathWithBase=(io,fo)=>resolvePath({basepath:this.basepath,base:io,to:cleanPath(fo),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(io,fo)=>{let mo={};const $o=trimPathRight(io.pathname),Ao=zo=>matchPathname(this.basepath,$o,{to:zo.fullPath,caseSensitive:zo.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let Lo=(fo==null?void 0:fo.to)!==void 0?this.routesByPath[fo.to]:void 0;Lo?mo=Ao(Lo):Lo=this.flatRoutes.find(zo=>{const Vo=Ao(zo);return Vo?(mo=Vo,!0):!1});let Wo=Lo||this.routesById[rootRouteId];const jo=[Wo];for(;Wo.parentRoute;)Wo=Wo.parentRoute,jo.unshift(Wo);return{matchedRoutes:jo,routeParams:mo,foundRoute:Lo}},this.cancelMatch=io=>{const fo=this.getMatch(io);fo&&(fo.abortController.abort(),clearTimeout(fo.pendingTimeout))},this.cancelMatches=()=>{var io;(io=this.state.pendingMatches)==null||io.forEach(fo=>{this.cancelMatch(fo.id)})},this.buildLocation=io=>{const fo=($o={},Ao)=>{var Lo,Wo,jo,zo,Vo,Go;const Jo=$o._fromLocation?this.matchRoutes($o._fromLocation,{_buildLocation:!0}):this.state.matches,Qo=$o.from!=null?Jo.find(Nl=>matchPathname(this.basepath,trimPathRight(Nl.pathname),{to:$o.from,caseSensitive:!1,fuzzy:!1})):void 0,os=(Qo==null?void 0:Qo.pathname)||this.latestLocation.pathname;invariant($o.from==null||Qo!=null,"Could not find match for from: "+$o.from);const Cl=(Lo=this.state.pendingMatches)!=null&&Lo.length?(Wo=last(this.state.pendingMatches))==null?void 0:Wo.search:((jo=last(Jo))==null?void 0:jo.search)||this.latestLocation.search,xl=Ao==null?void 0:Ao.matchedRoutes.filter(Nl=>Jo.find(wl=>wl.routeId===Nl.id));let ds;if($o.to)ds=this.resolvePathWithBase(os,`${$o.to}`);else{const Nl=this.routesById[(zo=xl==null?void 0:xl.find(wl=>{const Xo=interpolatePath({path:wl.fullPath,params:(Ao==null?void 0:Ao.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap});return joinPaths([this.basepath,Xo])===os}))==null?void 0:zo.id];ds=this.resolvePathWithBase(os,(Nl==null?void 0:Nl.to)??os)}const _c={...(Vo=last(Jo))==null?void 0:Vo.params};let $l=($o.params??!0)===!0?_c:{..._c,...functionalUpdate($o.params,_c)};Object.keys($l).length>0&&(Ao==null||Ao.matchedRoutes.map(Nl=>{var wl;return((wl=Nl.options.params)==null?void 0:wl.stringify)??Nl.options.stringifyParams}).filter(Boolean).forEach(Nl=>{$l={...$l,...Nl($l)}})),ds=interpolatePath({path:ds,params:$l??{},leaveWildcards:!1,leaveParams:io.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let Al=Cl;if(io._includeValidateSearch&&((Go=this.options.search)!=null&&Go.strict)){let Nl={};Ao==null||Ao.matchedRoutes.forEach(wl=>{try{wl.options.validateSearch&&(Nl={...Nl,...validateSearch(wl.options.validateSearch,{...Nl,...Al})??{}})}catch{}}),Al=Nl}Al=(Nl=>{const wl=(Ao==null?void 0:Ao.matchedRoutes.reduce((as,El)=>{var Pl;const Sl=[];if("search"in El.options)(Pl=El.options.search)!=null&&Pl.middlewares&&Sl.push(...El.options.search.middlewares);else if(El.options.preSearchFilters||El.options.postSearchFilters){const Tl=({search:hs,next:yl})=>{let Fl=hs;"preSearchFilters"in El.options&&El.options.preSearchFilters&&(Fl=El.options.preSearchFilters.reduce((bu,Ul)=>Ul(bu),hs));const Xl=yl(Fl);return"postSearchFilters"in El.options&&El.options.postSearchFilters?El.options.postSearchFilters.reduce((bu,Ul)=>Ul(bu),Xl):Xl};Sl.push(Tl)}if(io._includeValidateSearch&&El.options.validateSearch){const Tl=({search:hs,next:yl})=>{try{const Fl=yl(hs);return{...Fl,...validateSearch(El.options.validateSearch,Fl)??{}}}catch{}};Sl.push(Tl)}return as.concat(Sl)},[]))??[],Xo=({search:as})=>$o.search?$o.search===!0?as:functionalUpdate($o.search,as):{};wl.push(Xo);const rs=(as,El)=>{if(as>=wl.length)return El;const Pl=wl[as];return Pl({search:El,next:Tl=>rs(as+1,Tl)})};return rs(0,Nl)})(Al),Al=replaceEqualDeep(Cl,Al);const us=this.options.stringifySearch(Al),ps=$o.hash===!0?this.latestLocation.hash:$o.hash?functionalUpdate($o.hash,this.latestLocation.hash):void 0,Rl=ps?`#${ps}`:"";let Wl=$o.state===!0?this.latestLocation.state:$o.state?functionalUpdate($o.state,this.latestLocation.state):{};return Wl=replaceEqualDeep(this.latestLocation.state,Wl),{pathname:ds,search:Al,searchStr:us,state:Wl,hash:ps??"",href:`${ds}${us}${Rl}`,unmaskOnReload:$o.unmaskOnReload}},mo=($o={},Ao)=>{var Lo;const Wo=fo($o);let jo=Ao?fo(Ao):void 0;if(!jo){let Go={};const Jo=(Lo=this.options.routeMasks)==null?void 0:Lo.find(Qo=>{const os=matchPathname(this.basepath,Wo.pathname,{to:Qo.from,caseSensitive:!1,fuzzy:!1});return os?(Go=os,!0):!1});if(Jo){const{from:Qo,...os}=Jo;Ao={...pick(io,["from"]),...os,params:Go},jo=fo(Ao)}}const zo=this.getMatchedRoutes(Wo,$o),Vo=fo($o,zo);if(jo){const Go=this.getMatchedRoutes(jo,Ao),Jo=fo(Ao,Go);Vo.maskedLocation=Jo}return Vo};return io.mask?mo(io,{...pick(io,["from"]),...io.mask}):mo(io)},this.commitLocation=({viewTransition:io,ignoreBlocker:fo,...mo})=>{const $o=()=>{mo.state.key=this.latestLocation.state.key;const Wo=deepEqual(mo.state,this.latestLocation.state);return delete mo.state.key,Wo},Ao=this.latestLocation.href===mo.href,Lo=this.commitLocationPromise;if(this.commitLocationPromise=createControlledPromise(()=>{Lo==null||Lo.resolve()}),Ao&&$o())this.load();else{let{maskedLocation:Wo,...jo}=mo;Wo&&(jo={...Wo,state:{...Wo.state,__tempKey:void 0,__tempLocation:{...jo,search:jo.searchStr,state:{...jo.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(jo.unmaskOnReload??this.options.unmaskOnReload??!1)&&(jo.state.__tempKey=this.tempLocationKey)),this.shouldViewTransition=io,this.history[mo.replace?"replace":"push"](jo.href,jo.state,{ignoreBlocker:fo})}return this.resetNextScroll=mo.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:io,resetScroll:fo,viewTransition:mo,ignoreBlocker:$o,...Ao}={})=>{const Lo=Ao.href;if(Lo){const jo=parseHref(Lo,{});Ao.to=jo.pathname,Ao.search=this.options.parseSearch(jo.search),Ao.hash=jo.hash.slice(1)}const Wo=this.buildLocation({...Ao,_includeValidateSearch:!0});return this.commitLocation({...Wo,viewTransition:mo,replace:io,resetScroll:fo,ignoreBlocker:$o})},this.navigate=({to:io,...fo})=>{const mo=String(io);let $o;try{new URL(`${mo}`),$o=!0}catch{}return invariant(!$o),this.buildAndCommitLocation({...fo,to:io})},this.load=async()=>{this.latestLocation=this.parseLocation(this.latestLocation);let io,fo,mo;for(mo=new Promise($o=>{this.startReactTransition(async()=>{var Ao;try{const Lo=this.latestLocation,Wo=this.state.resolvedLocation,jo=Wo.href!==Lo.href;this.cancelMatches();let zo;this.__store.batch(()=>{zo=this.matchRoutes(Lo),this.__store.setState(Vo=>({...Vo,status:"pending",isLoading:!0,location:Lo,pendingMatches:zo,cachedMatches:Vo.cachedMatches.filter(Go=>!zo.find(Jo=>Jo.id===Go.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:Wo,toLocation:Lo,pathChanged:jo}),this.emit({type:"onBeforeLoad",fromLocation:Wo,toLocation:Lo,pathChanged:jo}),await this.loadMatches({matches:zo,location:Lo,onReady:async()=>{this.startViewTransition(async()=>{let Vo,Go,Jo;this.__store.batch(()=>{this.__store.setState(Qo=>{const os=Qo.matches,Cl=Qo.pendingMatches||Qo.matches;return Vo=os.filter(xl=>!Cl.find(ds=>ds.id===xl.id)),Go=Cl.filter(xl=>!os.find(ds=>ds.id===xl.id)),Jo=os.filter(xl=>Cl.find(ds=>ds.id===xl.id)),{...Qo,isLoading:!1,loadedAt:Date.now(),matches:Cl,pendingMatches:void 0,cachedMatches:[...Qo.cachedMatches,...Vo.filter(xl=>xl.status!=="error")]}}),this.clearExpiredCache()}),[[Vo,"onLeave"],[Go,"onEnter"],[Jo,"onStay"]].forEach(([Qo,os])=>{Qo.forEach(Cl=>{var xl,ds;(ds=(xl=this.looseRoutesById[Cl.routeId].options)[os])==null||ds.call(xl,Cl)})})})}})}catch(Lo){isResolvedRedirect(Lo)?(io=Lo,this.isServer||this.navigate({...Lo,replace:!0,ignoreBlocker:!0})):isNotFound(Lo)&&(fo=Lo),this.__store.setState(Wo=>({...Wo,statusCode:io?io.statusCode:fo?404:Wo.matches.some(jo=>jo.status==="error")?500:200,redirect:io}))}this.latestLoadPromise===mo&&((Ao=this.commitLocationPromise)==null||Ao.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),$o()})}),this.latestLoadPromise=mo,await mo;this.latestLoadPromise&&mo!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=io=>{const fo=this.shouldViewTransition??this.options.defaultViewTransition;delete this.shouldViewTransition,fo&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"?document.startViewTransition(io):io()},this.updateMatch=(io,fo)=>{var mo;let $o;const Ao=(mo=this.state.pendingMatches)==null?void 0:mo.find(jo=>jo.id===io),Lo=this.state.matches.find(jo=>jo.id===io),Wo=Ao?"pendingMatches":Lo?"matches":"cachedMatches";return this.__store.setState(jo=>{var zo;return{...jo,[Wo]:(zo=jo[Wo])==null?void 0:zo.map(Vo=>Vo.id===io?$o=fo(Vo):Vo)}}),$o},this.getMatch=io=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(fo=>fo.id===io),this.loadMatches=async({location:io,matches:fo,preload:mo,onReady:$o,updateMatch:Ao=this.updateMatch})=>{let Lo,Wo=!1;const jo=async()=>{Wo||(Wo=!0,await($o==null?void 0:$o()))};!this.isServer&&!this.state.matches.length&&jo();const zo=(Vo,Go)=>{var Jo,Qo,os;if(isResolvedRedirect(Go))throw Go;if(isRedirect(Go)||isNotFound(Go)){if(Ao(Vo.id,Cl=>({...Cl,status:isRedirect(Go)?"redirected":isNotFound(Go)?"notFound":"error",isFetching:!1,error:Go,beforeLoadPromise:void 0,loaderPromise:void 0})),Go.routeId||(Go.routeId=Vo.routeId),(Jo=Vo.beforeLoadPromise)==null||Jo.resolve(),(Qo=Vo.loaderPromise)==null||Qo.resolve(),(os=Vo.loadPromise)==null||os.resolve(),isRedirect(Go))throw Wo=!0,Go=this.resolveRedirect({...Go,_fromLocation:io}),Go;if(isNotFound(Go))throw this._handleNotFound(fo,Go,{updateMatch:Ao}),Go}};try{await new Promise((Vo,Go)=>{(async()=>{var Jo,Qo,os;try{const Cl=(_c,$l,Al)=>{var Il,us;const{id:ps,routeId:Rl}=fo[_c],Wl=this.looseRoutesById[Rl];if($l instanceof Promise)throw $l;$l.routerCode=Al,Lo=Lo??_c,zo(this.getMatch(ps),$l);try{(us=(Il=Wl.options).onError)==null||us.call(Il,$l)}catch(Nl){$l=Nl,zo(this.getMatch(ps),$l)}Ao(ps,Nl=>{var wl,Xo;return(wl=Nl.beforeLoadPromise)==null||wl.resolve(),(Xo=Nl.loadPromise)==null||Xo.resolve(),{...Nl,error:$l,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[_c,{id:$l,routeId:Al}]of fo.entries()){const Il=this.getMatch($l),us=(Jo=fo[_c-1])==null?void 0:Jo.id,ps=this.looseRoutesById[Al],Rl=ps.options.pendingMs??this.options.defaultPendingMs,Wl=!!($o&&!this.isServer&&!mo&&(ps.options.loader||ps.options.beforeLoad)&&typeof Rl=="number"&&Rl!==1/0&&(ps.options.pendingComponent??this.options.defaultPendingComponent));if(Il.beforeLoadPromise||Il.loaderPromise)Wl&&setTimeout(()=>{try{jo()}catch{}},Rl),await Il.beforeLoadPromise;else{try{Ao($l,Fl=>({...Fl,loadPromise:createControlledPromise(()=>{var Xl;(Xl=Fl.loadPromise)==null||Xl.resolve()}),beforeLoadPromise:createControlledPromise()}));const Nl=new AbortController;let wl;Wl&&(wl=setTimeout(()=>{try{jo()}catch{}},Rl));const{paramsError:Xo,searchError:rs}=this.getMatch($l);Xo&&Cl(_c,Xo,"PARSE_PARAMS"),rs&&Cl(_c,rs,"VALIDATE_SEARCH");const as=()=>us?this.getMatch(us).context:this.options.context??{};Ao($l,Fl=>({...Fl,isFetching:"beforeLoad",fetchCount:Fl.fetchCount+1,abortController:Nl,pendingTimeout:wl,context:{...as(),...Fl.__routeContext,...Fl.__beforeLoadContext}}));const{search:El,params:Pl,context:Sl,cause:Tl}=this.getMatch($l),hs={search:El,abortController:Nl,params:Pl,preload:!!mo,context:Sl,location:io,navigate:Fl=>this.navigate({...Fl,_fromLocation:io}),buildLocation:this.buildLocation,cause:mo?"preload":Tl,matches:fo};let yl=await((os=(Qo=ps.options).beforeLoad)==null?void 0:os.call(Qo,hs))??{};this.serializeLoaderData&&(yl=this.serializeLoaderData("__beforeLoadContext",yl,{router:this,match:this.getMatch($l)})),(isRedirect(yl)||isNotFound(yl))&&Cl(_c,yl,"BEFORE_LOAD"),Ao($l,Fl=>({...Fl,__beforeLoadContext:yl,context:{...as(),...Fl.__routeContext,...yl},abortController:Nl}))}catch(Nl){Cl(_c,Nl,"BEFORE_LOAD")}Ao($l,Nl=>{var wl;return(wl=Nl.beforeLoadPromise)==null||wl.resolve(),{...Nl,beforeLoadPromise:void 0,isFetching:!1}})}}const xl=fo.slice(0,Lo),ds=[];xl.forEach(({id:_c,routeId:$l},Al)=>{ds.push((async()=>{const{loaderPromise:Il}=this.getMatch(_c);let us=!1;if(Il)await Il;else{const ps=ds[Al-1],Rl=this.looseRoutesById[$l],Wl=()=>{const{params:hs,loaderDeps:yl,abortController:Fl,context:Xl,cause:bu}=this.getMatch(_c);return{params:hs,deps:yl,preload:!!mo,parentMatchPromise:ps,abortController:Fl,context:Xl,location:io,navigate:Ul=>this.navigate({...Ul,_fromLocation:io}),cause:mo?"preload":bu,route:Rl}},Nl=Date.now()-this.getMatch(_c).updatedAt,wl=mo?Rl.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:Rl.options.staleTime??this.options.defaultStaleTime??0,Xo=Rl.options.shouldReload,rs=typeof Xo=="function"?Xo(Wl()):Xo;Ao(_c,hs=>({...hs,loaderPromise:createControlledPromise(),preload:!!mo&&!this.state.matches.find(yl=>yl.id===_c)}));const as=async()=>{var hs,yl,Fl,Xl,bu,Ul,yu,Vl;try{const Jl=async()=>{const Ql=this.getMatch(_c);Ql.minPendingPromise&&await Ql.minPendingPromise};try{Rl._lazyPromise===void 0&&(Rl.lazyFn?Rl._lazyPromise=Rl.lazyFn().then(op=>{const{id:lp,...hp}=op.options;Object.assign(Rl.options,hp)}):Rl._lazyPromise=Promise.resolve()),Rl._componentsPromise===void 0&&(Rl._componentsPromise=Rl._lazyPromise.then(()=>Promise.all(componentTypes.map(async op=>{const lp=Rl.options[op];lp!=null&&lp.preload&&await lp.preload()})))),Ao(_c,op=>({...op,isFetching:"loader"}));let Ql=await((yl=(hs=Rl.options).loader)==null?void 0:yl.call(hs,Wl()));this.serializeLoaderData&&(Ql=this.serializeLoaderData("loaderData",Ql,{router:this,match:this.getMatch(_c)})),zo(this.getMatch(_c),Ql),await Rl._lazyPromise,await Jl();const Ol=(Xl=(Fl=Rl.options).head)==null?void 0:Xl.call(Fl,{matches:fo,match:this.getMatch(_c),params:this.getMatch(_c).params,loaderData:Ql}),Zl=Ol==null?void 0:Ol.meta,rp=(Ul=(bu=Rl.options).headers)==null?void 0:Ul.call(bu,{loaderData:Ql});Ao(_c,op=>({...op,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:Ql,meta:Zl,headers:rp}))}catch(Ql){let Ol=Ql;await Jl(),zo(this.getMatch(_c),Ql);try{(Vl=(yu=Rl.options).onError)==null||Vl.call(yu,Ql)}catch(Zl){Ol=Zl,zo(this.getMatch(_c),Zl)}Ao(_c,Zl=>({...Zl,error:Ol,status:"error",isFetching:!1}))}await Rl._componentsPromise}catch(Jl){Ao(_c,Ql=>({...Ql,loaderPromise:void 0})),zo(this.getMatch(_c),Jl)}},{status:El,invalid:Pl}=this.getMatch(_c);us=El==="success"&&(Pl||(rs??Nl>wl)),mo&&Rl.options.preload===!1||(us?(async()=>{try{await as()}catch(hs){isResolvedRedirect(hs)&&await this.navigate(hs)}})():El!=="success"&&await as());const{loaderPromise:Sl,loadPromise:Tl}=this.getMatch(_c);Sl==null||Sl.resolve(),Tl==null||Tl.resolve()}return Ao(_c,ps=>({...ps,isFetching:us?ps.isFetching:!1,loaderPromise:void 0,invalid:!1})),this.getMatch(_c)})())}),await Promise.all(ds),Vo()}catch(Cl){Go(Cl)}})()}),await jo()}catch(Vo){if(isRedirect(Vo)||isNotFound(Vo))throw isNotFound(Vo)&&!mo&&await jo(),Vo}return fo},this.invalidate=io=>{const fo=mo=>{var $o;return(($o=io==null?void 0:io.filter)==null?void 0:$o.call(io,mo))??!0?{...mo,invalid:!0,...mo.status==="error"?{status:"pending",error:void 0}:{}}:mo};return this.__store.setState(mo=>{var $o;return{...mo,matches:mo.matches.map(fo),cachedMatches:mo.cachedMatches.map(fo),pendingMatches:($o=mo.pendingMatches)==null?void 0:$o.map(fo)}}),this.load()},this.resolveRedirect=io=>{const fo=io;return fo.href||(fo.href=this.buildLocation(fo).href),fo},this.clearCache=io=>{const fo=io==null?void 0:io.filter;fo!==void 0?this.__store.setState(mo=>({...mo,cachedMatches:mo.cachedMatches.filter($o=>!fo($o))})):this.__store.setState(mo=>({...mo,cachedMatches:[]}))},this.clearExpiredCache=()=>{const io=fo=>{const mo=this.looseRoutesById[fo.routeId];if(!mo.options.loader)return!0;const $o=(fo.preload?mo.options.preloadGcTime??this.options.defaultPreloadGcTime:mo.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(fo.status!=="error"&&Date.now()-fo.updatedAt<$o)};this.clearCache({filter:io})},this.preloadRoute=async io=>{const fo=this.buildLocation(io);let mo=this.matchRoutes(fo,{throwOnError:!0,preload:!0,dest:io});const $o=Object.fromEntries([...this.state.matches,...this.state.pendingMatches??[],...this.state.cachedMatches].map(Lo=>[Lo.id,!0]));this.__store.batch(()=>{mo.forEach(Lo=>{$o[Lo.id]||this.__store.setState(Wo=>({...Wo,cachedMatches:[...Wo.cachedMatches,Lo]}))})});const Ao=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(Lo=>Lo.id));try{return mo=await this.loadMatches({matches:mo,location:fo,preload:!0,updateMatch:(Lo,Wo)=>{Ao.has(Lo)?mo=mo.map(jo=>jo.id===Lo?Wo(jo):jo):this.updateMatch(Lo,Wo)}}),mo}catch(Lo){if(isRedirect(Lo))return await this.preloadRoute({...Lo,_fromLocation:fo});console.error(Lo);return}},this.matchRoute=(io,fo)=>{const mo={...io,to:io.to?this.resolvePathWithBase(io.from||"",io.to):void 0,params:io.params||{},leaveParams:!0},$o=this.buildLocation(mo);if(fo!=null&&fo.pending&&this.state.status!=="pending")return!1;const Lo=((fo==null?void 0:fo.pending)===void 0?!this.state.isLoading:fo.pending)?this.latestLocation:this.state.resolvedLocation,Wo=matchPathname(this.basepath,Lo.pathname,{...fo,to:$o.pathname});return!Wo||io.params&&!deepEqual(Wo,io.params,{partial:!0})?!1:Wo&&((fo==null?void 0:fo.includeSearch)??!0)?deepEqual(Lo.search,$o.search,{partial:!0})?Wo:!1:Wo},this.dehydrate=()=>{var io;const fo=((io=this.options.errorSerializer)==null?void 0:io.serialize)??defaultSerializeError;return{state:{dehydratedMatches:this.state.matches.map(mo=>({...pick(mo,["id","status","updatedAt"]),error:mo.error?{data:fo(mo.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var io,fo,mo;let $o;typeof document<"u"&&($o=this.options.transformer.parse((io=window.__TSR__)==null?void 0:io.dehydrated)),invariant($o),this.dehydratedData=$o.payload,(mo=(fo=this.options).hydrate)==null||mo.call(fo,$o.payload);const Ao=$o.router.state,Lo=this.matchRoutes(this.state.location).map(Wo=>{const jo=Ao.dehydratedMatches.find(zo=>zo.id===Wo.id);return invariant(jo,`Could not find a client-side match for dehydrated match with id: ${Wo.id}!`),{...Wo,...jo}});this.__store.setState(Wo=>({...Wo,matches:Lo})),this.manifest=$o.router.manifest},this.injectedHtml=[],this.injectHtml=io=>{const fo=()=>(this.injectedHtml=this.injectedHtml.filter(mo=>mo!==fo),io);this.injectedHtml.push(fo)},this.injectScript=(io,fo)=>{this.injectHtml(`<script class='tsr-once'>${io}; __TSR__.cleanScripts()<\/script>`)},this.streamedKeys=new Set,this.getStreamedValue=io=>{var fo;if(this.isServer)return;const mo=(fo=window.__TSR__)==null?void 0:fo.streamedValues[io];if(mo)return mo.parsed||(mo.parsed=this.options.transformer.parse(mo.value)),mo.parsed},this.streamValue=(io,fo)=>{var mo;this.streamedKeys.has(io),this.streamedKeys.add(io),this.injectScript(`__TSR__.streamedValues['${io}'] = { value: ${(mo=this.serializer)==null?void 0:mo.call(this,this.options.transformer.stringify(fo))}}`)},this._handleNotFound=(io,fo,{updateMatch:mo=this.updateMatch}={})=>{const $o=Object.fromEntries(io.map(Wo=>[Wo.routeId,Wo]));let Ao=(fo.global?this.looseRoutesById[rootRouteId]:this.looseRoutesById[fo.routeId])||this.looseRoutesById[rootRouteId];for(;!Ao.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&Ao.id!==rootRouteId;)Ao=Ao.parentRoute,invariant(Ao);const Lo=$o[Ao.id];invariant(Lo,"Could not find match for route: "+Ao.id),mo(Lo.id,Wo=>({...Wo,status:"notFound",error:fo,isFetching:!1})),fo.routerCode==="BEFORE_LOAD"&&Ao.parentRoute&&(fo.routeId=Ao.parentRoute.id,this._handleNotFound(io,fo,{updateMatch:mo}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(io=>io.status==="notFound"||io.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...Mn,caseSensitive:Mn.caseSensitive??!1,notFoundMode:Mn.notFoundMode??"fuzzy",stringifySearch:Mn.stringifySearch??defaultStringifySearch,parseSearch:Mn.parseSearch??defaultParseSearch,transformer:Mn.transformer??defaultTransformer}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(Mn,io,fo){return typeof Mn=="string"?this.matchRoutesInternal({pathname:Mn,search:io},fo):this.matchRoutesInternal(Mn,io)}matchRoutesInternal(Mn,io){const{foundRoute:fo,matchedRoutes:mo,routeParams:$o}=this.getMatchedRoutes(Mn,io==null?void 0:io.dest);let Ao=!1;(fo?fo.path!=="/"&&$o["**"]:trimPathRight(Mn.pathname))&&(this.options.notFoundRoute?mo.push(this.options.notFoundRoute):Ao=!0);const Lo=(()=>{if(Ao){if(this.options.notFoundMode!=="root")for(let zo=mo.length-1;zo>=0;zo--){const Vo=mo[zo];if(Vo.children)return Vo.id}return rootRouteId}})(),Wo=mo.map(zo=>{var Vo;let Go;const Jo=((Vo=zo.options.params)==null?void 0:Vo.parse)??zo.options.parseParams;if(Jo)try{const Qo=Jo($o);Object.assign($o,Qo)}catch(Qo){if(Go=new PathParamError(Qo.message,{cause:Qo}),io!=null&&io.throwOnError)throw Go;return Go}}),jo=[];return mo.forEach((zo,Vo)=>{var Go,Jo,Qo,os,Cl,xl,ds,_c;const $l=jo[Vo-1],[Al,Il]=(()=>{const Sl=($l==null?void 0:$l.search)??Mn.search;try{const Tl=validateSearch(zo.options.validateSearch,Sl)??{};return[{...Sl,...Tl},void 0]}catch(Tl){const hs=new SearchParamError(Tl.message,{cause:Tl});if(io!=null&&io.throwOnError)throw hs;return[Sl,hs]}})(),us=((Jo=(Go=zo.options).loaderDeps)==null?void 0:Jo.call(Go,{search:Al}))??"",ps=us?JSON.stringify(us):"",Rl=interpolatePath({path:zo.fullPath,params:$o,decodeCharMap:this.pathParamsDecodeCharMap}),Wl=interpolatePath({path:zo.id,params:$o,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+ps,Nl=this.getMatch(Wl),wl=this.state.matches.find(Sl=>Sl.routeId===zo.id),Xo=wl?"stay":"enter";let rs;if(Nl)rs={...Nl,cause:Xo,params:wl?replaceEqualDeep(wl.params,$o):$o,search:replaceEqualDeep(wl?wl.search:Nl.search,Al)};else{const Sl=zo.options.loader||zo.options.beforeLoad||zo.lazyFn||routeNeedsPreload(zo)?"pending":"success";rs={id:Wl,index:Vo,routeId:zo.id,params:wl?replaceEqualDeep(wl.params,$o):$o,pathname:joinPaths([this.basepath,Rl]),updatedAt:Date.now(),search:wl?replaceEqualDeep(wl.search,Al):Al,searchError:void 0,status:Sl,isFetching:!1,error:void 0,paramsError:Wo[Vo],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:Xo,loaderDeps:wl?replaceEqualDeep(wl.loaderDeps,us):us,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:zo.options.staticData||{},loadPromise:createControlledPromise(),fullPath:zo.fullPath}}const as=(os=(Qo=zo.options).head)==null?void 0:os.call(Qo,{matches:jo,match:rs,params:rs.params,loaderData:rs.loaderData??void 0});rs.links=as==null?void 0:as.links,rs.scripts=as==null?void 0:as.scripts,rs.meta=as==null?void 0:as.meta,rs.status==="success"&&(rs.headers=(xl=(Cl=zo.options).headers)==null?void 0:xl.call(Cl,{loaderData:rs.loaderData})),io!=null&&io.preload||(rs.globalNotFound=Lo===zo.id),rs.searchError=Il;const Pl=($l==null?void 0:$l.id)?$l.context??this.options.context??{}:this.options.context??{};if(rs.context={...Pl,...rs.__routeContext,...rs.__beforeLoadContext},!Nl&&(io==null?void 0:io._buildLocation)!==!0){const Sl={deps:us,params:rs.params,context:rs.context,location:Mn,navigate:Tl=>this.navigate({...Tl,_fromLocation:Mn}),buildLocation:this.buildLocation,cause:rs.cause,abortController:rs.abortController,preload:!!rs.preload,matches:jo};rs.__routeContext=((_c=(ds=zo.options).context)==null?void 0:_c.call(ds,Sl))??{},rs.context={...Pl,...rs.__routeContext,...rs.__beforeLoadContext}}jo.push(rs)}),jo}}class SearchParamError extends Error{}class PathParamError extends Error{}function getInitialRouterState(Fn){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...Fn},location:Fn,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function defaultSerializeError(Fn){return Fn instanceof Error?{name:Fn.name,message:Fn.message}:{data:Fn}}function isServerSideError(Fn){return!(typeof Fn=="object"&&Fn&&"data"in Fn)||!("__isServerError"in Fn&&Fn.__isServerError)||!(typeof Fn.data=="object"&&Fn.data)?!1:Fn.__isServerError===!0}function defaultDeserializeError(Fn){if("name"in Fn&&"message"in Fn){const Mn=new Error(Fn.message);return Mn.name=Fn.name,Mn}return Fn.data}const matchContext=reactExports.createContext(void 0),dummyMatchContext=reactExports.createContext(void 0);function useMatch(Fn){const Mn=reactExports.useContext(Fn.from?dummyMatchContext:matchContext);return useRouterState({select:fo=>{const mo=fo.matches.find($o=>Fn.from?Fn.from===$o.routeId:$o.id===Mn);if(invariant(!((Fn.shouldThrow??!0)&&!mo),`Could not find ${Fn.from?`an active match from "${Fn.from}"`:"a nearest match!"}`),mo!==void 0)return Fn.select?Fn.select(mo):mo},structuralSharing:Fn.structuralSharing})}function useLoaderData(Fn){return useMatch({from:Fn.from,strict:Fn.strict,structuralSharing:Fn.structuralSharing,select:Mn=>Fn.select?Fn.select(Mn.loaderData):Mn.loaderData})}function useLoaderDeps(Fn){const{select:Mn,...io}=Fn;return useMatch({...io,select:fo=>Mn?Mn(fo.loaderDeps):fo.loaderDeps})}function useParams(Fn){return useMatch({from:Fn.from,strict:Fn.strict,structuralSharing:Fn.structuralSharing,select:Mn=>Fn.select?Fn.select(Mn.params):Mn.params})}function useSearch(Fn){return useMatch({from:Fn.from,strict:Fn.strict,structuralSharing:Fn.structuralSharing,select:Mn=>Fn.select?Fn.select(Mn.search):Mn.search})}function useNavigate(Fn){const{navigate:Mn}=useRouter();return reactExports.useCallback(io=>Mn({...io}),[Mn])}let Route$1=class{constructor(Mn){this.init=io=>{var fo,mo;this.originalIndex=io.originalIndex;const $o=this.options,Ao=!($o!=null&&$o.path)&&!($o!=null&&$o.id);this.parentRoute=(mo=(fo=this.options).getParentRoute)==null?void 0:mo.call(fo),Ao?this._path=rootRouteId:invariant(this.parentRoute);let Lo=Ao?rootRouteId:$o.path;Lo&&Lo!=="/"&&(Lo=trimPathLeft(Lo));const Wo=($o==null?void 0:$o.id)||Lo;let jo=Ao?rootRouteId:joinPaths([this.parentRoute.id===rootRouteId?"":this.parentRoute.id,Wo]);Lo===rootRouteId&&(Lo="/"),jo!==rootRouteId&&(jo=joinPaths(["/",jo]));const zo=jo===rootRouteId?"/":joinPaths([this.parentRoute.fullPath,Lo]);this._path=Lo,this._id=jo,this._fullPath=zo,this._to=zo,this._ssr=($o==null?void 0:$o.ssr)??io.defaultSsr??!0},this.updateLoader=io=>(Object.assign(this.options,io),this),this.update=io=>(Object.assign(this.options,io),this),this.lazy=io=>(this.lazyFn=io,this),this.useMatch=io=>useMatch({select:io==null?void 0:io.select,from:this.id,structuralSharing:io==null?void 0:io.structuralSharing}),this.useRouteContext=io=>useMatch({...io,from:this.id,select:fo=>io!=null&&io.select?io.select(fo.context):fo.context}),this.useSearch=io=>useSearch({select:io==null?void 0:io.select,structuralSharing:io==null?void 0:io.structuralSharing,from:this.id}),this.useParams=io=>useParams({select:io==null?void 0:io.select,structuralSharing:io==null?void 0:io.structuralSharing,from:this.id}),this.useLoaderDeps=io=>useLoaderDeps({...io,from:this.id}),this.useLoaderData=io=>useLoaderData({...io,from:this.id}),this.useNavigate=()=>useNavigate({from:this.id}),this.options=Mn||{},this.isRoot=!(Mn!=null&&Mn.getParentRoute),invariant(!(Mn!=null&&Mn.id&&(Mn!=null&&Mn.path))),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(Mn){return this._addFileChildren(Mn)}_addFileChildren(Mn){return Array.isArray(Mn)&&(this.children=Mn),typeof Mn=="object"&&Mn!==null&&(this.children=Object.values(Mn)),this}};function createRoute(Fn){return new Route$1(Fn)}class RootRoute extends Route$1{constructor(Mn){super(Mn)}addChildren(Mn){return super.addChildren(Mn),this}_addFileChildren(Mn){return super._addFileChildren(Mn),this}_addFileTypes(){return this}}function createRootRoute(Fn){return new RootRoute(Fn)}function createFileRoute(Fn){return new FileRoute(Fn,{silent:!0}).createRoute}class FileRoute{constructor(Mn,io){this.path=Mn,this.createRoute=fo=>{this.silent;const mo=createRoute(fo);return mo.isRoot=!1,mo},this.silent=io==null?void 0:io.silent}}class LazyRoute{constructor(Mn){this.useMatch=io=>useMatch({select:io==null?void 0:io.select,from:this.options.id,structuralSharing:io==null?void 0:io.structuralSharing}),this.useRouteContext=io=>useMatch({from:this.options.id,select:fo=>io!=null&&io.select?io.select(fo.context):fo.context}),this.useSearch=io=>useSearch({select:io==null?void 0:io.select,structuralSharing:io==null?void 0:io.structuralSharing,from:this.options.id}),this.useParams=io=>useParams({select:io==null?void 0:io.select,structuralSharing:io==null?void 0:io.structuralSharing,from:this.options.id}),this.useLoaderDeps=io=>useLoaderDeps({...io,from:this.options.id}),this.useLoaderData=io=>useLoaderData({...io,from:this.options.id}),this.useNavigate=()=>useNavigate({from:this.options.id}),this.options=Mn,this.$$typeof=Symbol.for("react.memo")}}function createLazyFileRoute(Fn){return Mn=>new LazyRoute({id:Fn,...Mn})}function SafeFragment(Fn){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Fn.children})}function renderRouteNotFound(Fn,Mn,io){return Mn.options.notFoundComponent?jsxRuntimeExports.jsx(Mn.options.notFoundComponent,{data:io}):Fn.options.defaultNotFoundComponent?jsxRuntimeExports.jsx(Fn.options.defaultNotFoundComponent,{data:io}):jsxRuntimeExports.jsx(DefaultGlobalNotFound,{})}const Match$2=reactExports.memo(function({matchId:Mn}){var io,fo;const mo=useRouter(),$o=useRouterState({select:Cl=>{var xl;return(xl=Cl.matches.find(ds=>ds.id===Mn))==null?void 0:xl.routeId}});invariant($o);const Ao=mo.routesById[$o],Lo=Ao.options.pendingComponent??mo.options.defaultPendingComponent,Wo=Lo?jsxRuntimeExports.jsx(Lo,{}):null,jo=Ao.options.errorComponent??mo.options.defaultErrorComponent,zo=Ao.options.onCatch??mo.options.defaultOnCatch,Vo=Ao.isRoot?Ao.options.notFoundComponent??((io=mo.options.notFoundRoute)==null?void 0:io.options.component):Ao.options.notFoundComponent,Go=(!Ao.isRoot||Ao.options.wrapInSuspense)&&(Ao.options.wrapInSuspense??Lo??((fo=Ao.options.errorComponent)==null?void 0:fo.preload))?reactExports.Suspense:SafeFragment,Jo=jo?CatchBoundary:SafeFragment,Qo=Vo?CatchNotFound:SafeFragment,os=useRouterState({select:Cl=>Cl.loadedAt});return jsxRuntimeExports.jsx(matchContext.Provider,{value:Mn,children:jsxRuntimeExports.jsx(Go,{fallback:Wo,children:jsxRuntimeExports.jsx(Jo,{getResetKey:()=>os,errorComponent:jo||ErrorComponent,onCatch:(Cl,xl)=>{if(isNotFound(Cl))throw Cl;zo==null||zo(Cl,xl)},children:jsxRuntimeExports.jsx(Qo,{fallback:Cl=>{if(!Vo||Cl.routeId&&Cl.routeId!==$o||!Cl.routeId&&!Ao.isRoot)throw Cl;return reactExports.createElement(Vo,Cl)},children:jsxRuntimeExports.jsx(MatchInner,{matchId:Mn})})})})})}),MatchInner=reactExports.memo(function({matchId:Mn}){var io,fo,mo,$o,Ao;const Lo=useRouter(),{match:Wo,matchIndex:jo,routeId:zo}=useRouterState({select:Qo=>{const os=Qo.matches.findIndex(ds=>ds.id===Mn),Cl=Qo.matches[os];return{routeId:Cl.routeId,matchIndex:os,match:pick(Cl,["id","status","error"])}},structuralSharing:!0}),Vo=Lo.routesById[zo],Go=reactExports.useMemo(()=>{const Qo=Vo.options.component??Lo.options.defaultComponent;return Qo?jsxRuntimeExports.jsx(Qo,{}):jsxRuntimeExports.jsx(Outlet,{})},[Vo.options.component,Lo.options.defaultComponent]),Jo=(Vo.options.errorComponent??Lo.options.defaultErrorComponent)||ErrorComponent;if(Wo.status==="notFound"){let Qo;return isServerSideError(Wo.error)?Qo=(((io=Lo.options.errorSerializer)==null?void 0:io.deserialize)??defaultDeserializeError)(Wo.error.data):Qo=Wo.error,invariant(isNotFound(Qo)),renderRouteNotFound(Lo,Vo,Qo)}if(Wo.status==="redirected")throw invariant(isRedirect(Wo.error)),(fo=Lo.getMatch(Wo.id))==null?void 0:fo.loadPromise;if(Wo.status==="error"){if(Lo.isServer)return jsxRuntimeExports.jsx(Jo,{error:Wo.error,info:{componentStack:""}});throw isServerSideError(Wo.error)?(((mo=Lo.options.errorSerializer)==null?void 0:mo.deserialize)??defaultDeserializeError)(Wo.error.data):Wo.error}if(Wo.status==="pending"){const Qo=Vo.options.pendingMinMs??Lo.options.defaultPendingMinMs;if(Qo&&!(($o=Lo.getMatch(Wo.id))!=null&&$o.minPendingPromise)&&!Lo.isServer){const os=createControlledPromise();Promise.resolve().then(()=>{Lo.updateMatch(Wo.id,Cl=>({...Cl,minPendingPromise:os}))}),setTimeout(()=>{os.resolve(),Lo.updateMatch(Wo.id,Cl=>({...Cl,minPendingPromise:void 0}))},Qo)}throw(Ao=Lo.getMatch(Wo.id))==null?void 0:Ao.loadPromise}return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Go,Lo.AfterEachMatch?jsxRuntimeExports.jsx(Lo.AfterEachMatch,{match:Wo,matchIndex:jo}):null]})}),Outlet=reactExports.memo(function(){const Mn=useRouter(),io=reactExports.useContext(matchContext),fo=useRouterState({select:jo=>{var zo;return(zo=jo.matches.find(Vo=>Vo.id===io))==null?void 0:zo.routeId}}),mo=Mn.routesById[fo],$o=useRouterState({select:jo=>{const Vo=jo.matches.find(Go=>Go.id===io);return invariant(Vo),Vo.globalNotFound}}),Ao=useRouterState({select:jo=>{var zo;const Vo=jo.matches,Go=Vo.findIndex(Jo=>Jo.id===io);return(zo=Vo[Go+1])==null?void 0:zo.id}});if($o)return renderRouteNotFound(Mn,mo,void 0);if(!Ao)return null;const Lo=jsxRuntimeExports.jsx(Match$2,{matchId:Ao}),Wo=Mn.options.defaultPendingComponent?jsxRuntimeExports.jsx(Mn.options.defaultPendingComponent,{}):null;return io===rootRouteId?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:Wo,children:Lo}):Lo}),preloadWarning="Error preloading route! ";function useLinkProps(Fn,Mn){const io=useRouter(),[fo,mo]=reactExports.useState(!1),$o=reactExports.useRef(!1),Ao=useForwardedRef(Mn),{activeProps:Lo=()=>({className:"active"}),inactiveProps:Wo=()=>({}),activeOptions:jo,to:zo,preload:Vo,preloadDelay:Go,replace:Jo,startTransition:Qo,resetScroll:os,viewTransition:Cl,children:xl,target:ds,disabled:_c,style:$l,className:Al,onClick:Il,onFocus:us,onMouseEnter:ps,onMouseLeave:Rl,onTouchStart:Wl,ignoreBlocker:Nl,...wl}=Fn,{params:Xo,search:rs,hash:as,state:El,mask:Pl,...Sl}=wl,Tl=reactExports.useMemo(()=>{try{return new URL(`${zo}`),"external"}catch{}return"internal"},[zo]),hs=useRouterState({select:Ep=>Ep.location.search,structuralSharing:!0});Fn={from:useMatch({strict:!1,select:Ep=>Ep.pathname}),...Fn};const Fl=reactExports.useMemo(()=>io.buildLocation(Fn),[io,Fn,hs]),Xl=reactExports.useMemo(()=>Vo??io.options.defaultPreload,[io.options.defaultPreload,Vo]),bu=Go??io.options.defaultPreloadDelay??0,Ul=useRouterState({select:Ep=>{if(jo!=null&&jo.exact){if(!exactPathTest(Ep.location.pathname,Fl.pathname,io.basepath))return!1}else{const vp=removeTrailingSlash(Ep.location.pathname,io.basepath).split("/");if(!removeTrailingSlash(Fl.pathname,io.basepath).split("/").every((wp,Cp)=>wp===vp[Cp]))return!1}return((jo==null?void 0:jo.includeSearch)??!0)&&!deepEqual(Ep.location.search,Fl.search,{partial:!(jo!=null&&jo.exact),ignoreUndefined:!(jo!=null&&jo.explicitUndefined)})?!1:jo!=null&&jo.includeHash?Ep.location.hash===Fl.hash:!0}}),yu=reactExports.useCallback(()=>{io.preloadRoute(Fn).catch(Ep=>{console.warn(Ep),console.warn(preloadWarning)})},[Fn,io]),Vl=reactExports.useCallback(Ep=>{Ep!=null&&Ep.isIntersecting&&yu()},[yu]);if(useIntersectionObserver(Ao,Vl,{rootMargin:"100px"},{disabled:!!_c||Xl!=="viewport"}),useLayoutEffect(()=>{$o.current||!_c&&Xl==="render"&&(yu(),$o.current=!0)},[_c,yu,Xl]),Tl==="external")return{...Sl,ref:Ao,type:Tl,href:zo,...xl&&{children:xl},...ds&&{target:ds},..._c&&{disabled:_c},...$l&&{style:$l},...Al&&{className:Al},...Il&&{onClick:Il},...us&&{onFocus:us},...ps&&{onMouseEnter:ps},...Rl&&{onMouseLeave:Rl},...Wl&&{onTouchStart:Wl}};const Jl=Ep=>{if(!_c&&!isCtrlEvent(Ep)&&!Ep.defaultPrevented&&(!ds||ds==="_self")&&Ep.button===0){Ep.preventDefault(),reactDomExports.flushSync(()=>{mo(!0)});const vp=io.subscribe("onResolved",()=>{vp(),mo(!1)});io.buildAndCommitLocation({...Fn,replace:Jo,resetScroll:os,startTransition:Qo,viewTransition:Cl,ignoreBlocker:Nl})}},Ql=Ep=>{_c||Xl&&yu()},Ol=Ql,Zl=Ep=>{if(_c)return;const vp=Ep.target||{};if(Xl){if(vp.preloadTimeout)return;vp.preloadTimeout=setTimeout(()=>{vp.preloadTimeout=null,yu()},bu)}},rp=Ep=>{if(_c)return;const vp=Ep.target||{};vp.preloadTimeout&&(clearTimeout(vp.preloadTimeout),vp.preloadTimeout=null)},op=Ep=>vp=>{var Tp;(Tp=vp.persist)==null||Tp.call(vp),Ep.filter(Boolean).forEach(Ap=>{vp.defaultPrevented||Ap(vp)})},lp=Ul?functionalUpdate(Lo,{})??{}:{},hp=Ul?{}:functionalUpdate(Wo,{}),xp=[Al,lp.className,hp.className].filter(Boolean).join(" "),Ip={...$l,...lp.style,...hp.style};return{...Sl,...lp,...hp,href:_c?void 0:Fl.maskedLocation?io.history.createHref(Fl.maskedLocation.href):io.history.createHref(Fl.href),ref:Ao,onClick:op([Il,Jl]),onFocus:op([us,Ql]),onMouseEnter:op([ps,Zl]),onMouseLeave:op([Rl,rp]),onTouchStart:op([Wl,Ol]),disabled:!!_c,target:ds,...Object.keys(Ip).length&&{style:Ip},...xp&&{className:xp},..._c&&{role:"link","aria-disabled":!0},...Ul&&{"data-status":"active","aria-current":"page"},...fo&&{"data-transitioning":"transitioning"}}}const Link$2=reactExports.forwardRef((Fn,Mn)=>{const{_asChild:io,...fo}=Fn,{type:mo,ref:$o,...Ao}=useLinkProps(fo,Mn),Lo=typeof fo.children=="function"?fo.children({isActive:Ao["data-status"]==="active"}):fo.children;return typeof io>"u"&&delete Ao.disabled,reactExports.createElement(io||"a",{...Ao,ref:$o},Lo)});function isCtrlEvent(Fn){return!!(Fn.metaKey||Fn.altKey||Fn.ctrlKey||Fn.shiftKey)}function Transitioner(){const Fn=useRouter(),Mn=reactExports.useRef({router:Fn,mounted:!1}),io=useRouterState({select:({isLoading:Vo})=>Vo}),[fo,mo]=reactExports.useTransition(),$o=useRouterState({select:Vo=>Vo.matches.some(Go=>Go.status==="pending"),structuralSharing:!0}),Ao=usePrevious$1(io),Lo=io||fo||$o,Wo=usePrevious$1(Lo),jo=io||$o,zo=usePrevious$1(jo);return Fn.isServer||(Fn.startReactTransition=mo),reactExports.useEffect(()=>{const Vo=Fn.history.subscribe(Fn.load),Go=Fn.buildLocation({to:Fn.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return trimPathRight(Fn.latestLocation.href)!==trimPathRight(Go.href)&&Fn.commitLocation({...Go,replace:!0}),()=>{Vo()}},[Fn,Fn.history]),useLayoutEffect(()=>{var Vo;if(typeof window<"u"&&((Vo=window.__TSR__)!=null&&Vo.dehydrated)||Mn.current.router===Fn&&Mn.current.mounted)return;Mn.current={router:Fn,mounted:!0},(async()=>{try{await Fn.load()}catch(Jo){console.error(Jo)}})()},[Fn]),useLayoutEffect(()=>{if(Ao&&!io){const Vo=Fn.state.location,Go=Fn.state.resolvedLocation,Jo=Go.pathname!==Vo.pathname;Fn.emit({type:"onLoad",fromLocation:Go,toLocation:Vo,pathChanged:Jo})}},[Ao,Fn,io]),useLayoutEffect(()=>{if(zo&&!jo){const Vo=Fn.state.location,Go=Fn.state.resolvedLocation,Jo=Go.pathname!==Vo.pathname;Fn.emit({type:"onBeforeRouteMount",fromLocation:Go,toLocation:Vo,pathChanged:Jo})}},[jo,zo,Fn]),useLayoutEffect(()=>{if(Wo&&!Lo){const Vo=Fn.state.location,Go=Fn.state.resolvedLocation,Jo=Go.pathname!==Vo.pathname;if(Fn.emit({type:"onResolved",fromLocation:Go,toLocation:Vo,pathChanged:Jo}),Fn.__store.setState(Qo=>({...Qo,status:"idle",resolvedLocation:Qo.location})),typeof document<"u"&&document.querySelector&&Fn.state.location.hash!==""){const Qo=document.getElementById(Fn.state.location.hash);Qo&&Qo.scrollIntoView()}}},[Lo,Wo,Fn]),null}function Matches(){const Fn=useRouter(),Mn=Fn.options.defaultPendingComponent?jsxRuntimeExports.jsx(Fn.options.defaultPendingComponent,{}):null,io=Fn.isServer||typeof document<"u"&&window.__TSR__?SafeFragment:reactExports.Suspense,fo=jsxRuntimeExports.jsxs(io,{fallback:Mn,children:[jsxRuntimeExports.jsx(Transitioner,{}),jsxRuntimeExports.jsx(MatchesInner,{})]});return Fn.options.InnerWrap?jsxRuntimeExports.jsx(Fn.options.InnerWrap,{children:fo}):fo}function MatchesInner(){const Fn=useRouterState({select:io=>{var fo;return(fo=io.matches[0])==null?void 0:fo.id}}),Mn=useRouterState({select:io=>io.loadedAt});return jsxRuntimeExports.jsx(matchContext.Provider,{value:Fn,children:jsxRuntimeExports.jsx(CatchBoundary,{getResetKey:()=>Mn,errorComponent:ErrorComponent,onCatch:io=>{io.message||io.toString()},children:Fn?jsxRuntimeExports.jsx(Match$2,{matchId:Fn}):null})})}function RouterContextProvider({router:Fn,children:Mn,...io}){Fn.update({...Fn.options,...io,context:{...Fn.options.context,...io.context}});const fo=getRouterContext(),mo=jsxRuntimeExports.jsx(fo.Provider,{value:Fn,children:Mn});return Fn.options.Wrap?jsxRuntimeExports.jsx(Fn.options.Wrap,{children:mo}):mo}function RouterProvider({router:Fn,...Mn}){return jsxRuntimeExports.jsx(RouterContextProvider,{router:Fn,...Mn,children:jsxRuntimeExports.jsx(Matches,{})})}var It=Fn=>{switch(Fn){case"success":return Ut;case"info":return Kt;case"warning":return Ot;case"error":return Jt;default:return null}},_t$1=Array(12).fill(0),kt=({visible:Fn,className:Mn})=>React.createElement("div",{className:["sonner-loading-wrapper",Mn].filter(Boolean).join(" "),"data-visible":Fn},React.createElement("div",{className:"sonner-spinner"},_t$1.map((io,fo)=>React.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${fo}`})))),Ut=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ot=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Kt=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Jt=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Dt=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Mt=()=>{let[Fn,Mn]=React.useState(document.hidden);return React.useEffect(()=>{let io=()=>{Mn(document.hidden)};return document.addEventListener("visibilitychange",io),()=>window.removeEventListener("visibilitychange",io)},[]),Fn},mt=1,pt=class{constructor(){this.subscribe=Fn=>(this.subscribers.push(Fn),()=>{let Mn=this.subscribers.indexOf(Fn);this.subscribers.splice(Mn,1)}),this.publish=Fn=>{this.subscribers.forEach(Mn=>Mn(Fn))},this.addToast=Fn=>{this.publish(Fn),this.toasts=[...this.toasts,Fn]},this.create=Fn=>{var Mn;let{message:io,...fo}=Fn,mo=typeof(Fn==null?void 0:Fn.id)=="number"||((Mn=Fn.id)==null?void 0:Mn.length)>0?Fn.id:mt++,$o=this.toasts.find(Lo=>Lo.id===mo),Ao=Fn.dismissible===void 0?!0:Fn.dismissible;return $o?this.toasts=this.toasts.map(Lo=>Lo.id===mo?(this.publish({...Lo,...Fn,id:mo,title:io}),{...Lo,...Fn,id:mo,dismissible:Ao,title:io}):Lo):this.addToast({title:io,...fo,dismissible:Ao,id:mo}),mo},this.dismiss=Fn=>(Fn||this.toasts.forEach(Mn=>{this.subscribers.forEach(io=>io({id:Mn.id,dismiss:!0}))}),this.subscribers.forEach(Mn=>Mn({id:Fn,dismiss:!0})),Fn),this.message=(Fn,Mn)=>this.create({...Mn,message:Fn}),this.error=(Fn,Mn)=>this.create({...Mn,message:Fn,type:"error"}),this.success=(Fn,Mn)=>this.create({...Mn,type:"success",message:Fn}),this.info=(Fn,Mn)=>this.create({...Mn,type:"info",message:Fn}),this.warning=(Fn,Mn)=>this.create({...Mn,type:"warning",message:Fn}),this.loading=(Fn,Mn)=>this.create({...Mn,type:"loading",message:Fn}),this.promise=(Fn,Mn)=>{if(!Mn)return;let io;Mn.loading!==void 0&&(io=this.create({...Mn,promise:Fn,type:"loading",message:Mn.loading,description:typeof Mn.description!="function"?Mn.description:void 0}));let fo=Fn instanceof Promise?Fn:Fn(),mo=io!==void 0,$o,Ao=fo.then(async Wo=>{if($o=["resolve",Wo],React.isValidElement(Wo))mo=!1,this.create({id:io,type:"default",message:Wo});else if(Qt(Wo)&&!Wo.ok){mo=!1;let jo=typeof Mn.error=="function"?await Mn.error(`HTTP error! status: ${Wo.status}`):Mn.error,zo=typeof Mn.description=="function"?await Mn.description(`HTTP error! status: ${Wo.status}`):Mn.description;this.create({id:io,type:"error",message:jo,description:zo})}else if(Mn.success!==void 0){mo=!1;let jo=typeof Mn.success=="function"?await Mn.success(Wo):Mn.success,zo=typeof Mn.description=="function"?await Mn.description(Wo):Mn.description;this.create({id:io,type:"success",message:jo,description:zo})}}).catch(async Wo=>{if($o=["reject",Wo],Mn.error!==void 0){mo=!1;let jo=typeof Mn.error=="function"?await Mn.error(Wo):Mn.error,zo=typeof Mn.description=="function"?await Mn.description(Wo):Mn.description;this.create({id:io,type:"error",message:jo,description:zo})}}).finally(()=>{var Wo;mo&&(this.dismiss(io),io=void 0),(Wo=Mn.finally)==null||Wo.call(Mn)}),Lo=()=>new Promise((Wo,jo)=>Ao.then(()=>$o[0]==="reject"?jo($o[1]):Wo($o[1])).catch(jo));return typeof io!="string"&&typeof io!="number"?{unwrap:Lo}:Object.assign(io,{unwrap:Lo})},this.custom=(Fn,Mn)=>{let io=(Mn==null?void 0:Mn.id)||mt++;return this.create({jsx:Fn(io),id:io,...Mn}),io},this.subscribers=[],this.toasts=[]}},v$1=new pt,Gt=(Fn,Mn)=>{let io=(Mn==null?void 0:Mn.id)||mt++;return v$1.addToast({title:Fn,...Mn,id:io}),io},Qt=Fn=>Fn&&typeof Fn=="object"&&"ok"in Fn&&typeof Fn.ok=="boolean"&&"status"in Fn&&typeof Fn.status=="number",qt=Gt,Zt=()=>v$1.toasts;Object.assign(qt,{success:v$1.success,info:v$1.info,warning:v$1.warning,error:v$1.error,custom:v$1.custom,message:v$1.message,promise:v$1.promise,dismiss:v$1.dismiss,loading:v$1.loading},{getHistory:Zt});function gt(Fn,{insertAt:Mn}={}){if(typeof document>"u")return;let io=document.head||document.getElementsByTagName("head")[0],fo=document.createElement("style");fo.type="text/css",Mn==="top"&&io.firstChild?io.insertBefore(fo,io.firstChild):io.appendChild(fo),fo.styleSheet?fo.styleSheet.cssText=Fn:fo.appendChild(document.createTextNode(Fn))}gt(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function O$1(Fn){return Fn.label!==void 0}var ae=3,ne$1="32px",At=4e3,re$1=356,se$1=14,ie=20,le$1=200;function de$1(...Fn){return Fn.filter(Boolean).join(" ")}var ce=Fn=>{var Mn,io,fo,mo,$o,Ao,Lo,Wo,jo,zo,Vo;let{invert:Go,toast:Jo,unstyled:Qo,interacting:os,setHeights:Cl,visibleToasts:xl,heights:ds,index:_c,toasts:$l,expanded:Al,removeToast:Il,defaultRichColors:us,closeButton:ps,style:Rl,cancelButtonStyle:Wl,actionButtonStyle:Nl,className:wl="",descriptionClassName:Xo="",duration:rs,position:as,gap:El,loadingIcon:Pl,expandByDefault:Sl,classNames:Tl,icons:hs,closeButtonAriaLabel:yl="Close toast",pauseWhenPageIsHidden:Fl,cn:Xl}=Fn,[bu,Ul]=React.useState(!1),[yu,Vl]=React.useState(!1),[Jl,Ql]=React.useState(!1),[Ol,Zl]=React.useState(!1),[rp,op]=React.useState(!1),[lp,hp]=React.useState(0),[xp,Ip]=React.useState(0),Ep=React.useRef(Jo.duration||rs||At),vp=React.useRef(null),Tp=React.useRef(null),Ap=_c===0,wp=_c+1<=xl,Cp=Jo.type,Rp=Jo.dismissible!==!1,yp=Jo.className||"",Pp=Jo.descriptionClassName||"",zl=React.useMemo(()=>ds.findIndex(kp=>kp.toastId===Jo.id)||0,[ds,Jo.id]),Dl=React.useMemo(()=>{var kp;return(kp=Jo.closeButton)!=null?kp:ps},[Jo.closeButton,ps]);React.useMemo(()=>Jo.duration||rs||At,[Jo.duration,rs]);let Ll=React.useRef(0),Gl=React.useRef(0),fu=React.useRef(0),_d=React.useRef(null),[sp,fp]=as.split("-"),_p=React.useMemo(()=>ds.reduce((kp,Hp,$p)=>$p>=zl?kp:kp+Hp.height,0),[ds,zl]),Mp=Mt(),Sp=Jo.invert||Go,Bp=Cp==="loading";Gl.current=React.useMemo(()=>zl*El+_p,[zl,_p]),React.useEffect(()=>{Ul(!0)},[]),React.useEffect(()=>{let kp=Tp.current;if(kp){let Hp=kp.getBoundingClientRect().height;return Ip(Hp),Cl($p=>[{toastId:Jo.id,height:Hp,position:Jo.position},...$p]),()=>Cl($p=>$p.filter(Vp=>Vp.toastId!==Jo.id))}},[Cl,Jo.id]),React.useLayoutEffect(()=>{if(!bu)return;let kp=Tp.current,Hp=kp.style.height;kp.style.height="auto";let $p=kp.getBoundingClientRect().height;kp.style.height=Hp,Ip($p),Cl(Vp=>Vp.find(qp=>qp.toastId===Jo.id)?Vp.map(qp=>qp.toastId===Jo.id?{...qp,height:$p}:qp):[{toastId:Jo.id,height:$p,position:Jo.position},...Vp])},[bu,Jo.title,Jo.description,Cl,Jo.id]);let Jp=React.useCallback(()=>{Vl(!0),hp(Gl.current),Cl(kp=>kp.filter(Hp=>Hp.toastId!==Jo.id)),setTimeout(()=>{Il(Jo)},le$1)},[Jo,Il,Cl,Gl]);React.useEffect(()=>{if(Jo.promise&&Cp==="loading"||Jo.duration===1/0||Jo.type==="loading")return;let kp;return Al||os||Fl&&Mp?(()=>{if(fu.current<Ll.current){let Hp=new Date().getTime()-Ll.current;Ep.current=Ep.current-Hp}fu.current=new Date().getTime()})():Ep.current!==1/0&&(Ll.current=new Date().getTime(),kp=setTimeout(()=>{var Hp;(Hp=Jo.onAutoClose)==null||Hp.call(Jo,Jo),Jp()},Ep.current)),()=>clearTimeout(kp)},[Al,os,Jo,Cp,Fl,Mp,Jp]),React.useEffect(()=>{Jo.delete&&Jp()},[Jp,Jo.delete]);function Kp(){var kp,Hp,$p;return hs!=null&&hs.loading?React.createElement("div",{className:Xl(Tl==null?void 0:Tl.loader,(kp=Jo==null?void 0:Jo.classNames)==null?void 0:kp.loader,"sonner-loader"),"data-visible":Cp==="loading"},hs.loading):Pl?React.createElement("div",{className:Xl(Tl==null?void 0:Tl.loader,(Hp=Jo==null?void 0:Jo.classNames)==null?void 0:Hp.loader,"sonner-loader"),"data-visible":Cp==="loading"},Pl):React.createElement(kt,{className:Xl(Tl==null?void 0:Tl.loader,($p=Jo==null?void 0:Jo.classNames)==null?void 0:$p.loader),visible:Cp==="loading"})}return React.createElement("li",{tabIndex:0,ref:Tp,className:Xl(wl,yp,Tl==null?void 0:Tl.toast,(Mn=Jo==null?void 0:Jo.classNames)==null?void 0:Mn.toast,Tl==null?void 0:Tl.default,Tl==null?void 0:Tl[Cp],(io=Jo==null?void 0:Jo.classNames)==null?void 0:io[Cp]),"data-sonner-toast":"","data-rich-colors":(fo=Jo.richColors)!=null?fo:us,"data-styled":!(Jo.jsx||Jo.unstyled||Qo),"data-mounted":bu,"data-promise":!!Jo.promise,"data-swiped":rp,"data-removed":yu,"data-visible":wp,"data-y-position":sp,"data-x-position":fp,"data-index":_c,"data-front":Ap,"data-swiping":Jl,"data-dismissible":Rp,"data-type":Cp,"data-invert":Sp,"data-swipe-out":Ol,"data-expanded":!!(Al||Sl&&bu),style:{"--index":_c,"--toasts-before":_c,"--z-index":$l.length-_c,"--offset":`${yu?lp:Gl.current}px`,"--initial-height":Sl?"auto":`${xp}px`,...Rl,...Jo.style},onPointerDown:kp=>{Bp||!Rp||(vp.current=new Date,hp(Gl.current),kp.target.setPointerCapture(kp.pointerId),kp.target.tagName!=="BUTTON"&&(Ql(!0),_d.current={x:kp.clientX,y:kp.clientY}))},onPointerUp:()=>{var kp,Hp,$p,Vp;if(Ol||!Rp)return;_d.current=null;let qp=Number(((kp=Tp.current)==null?void 0:kp.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Dp=new Date().getTime()-((Hp=vp.current)==null?void 0:Hp.getTime()),Yp=Math.abs(qp)/Dp;if(Math.abs(qp)>=ie||Yp>.11){hp(Gl.current),($p=Jo.onDismiss)==null||$p.call(Jo,Jo),Jp(),Zl(!0),op(!1);return}(Vp=Tp.current)==null||Vp.style.setProperty("--swipe-amount","0px"),Ql(!1)},onPointerMove:kp=>{var Hp,$p,Vp;if(!_d.current||!Rp)return;let qp=kp.clientY-_d.current.y,Dp=((Hp=window.getSelection())==null?void 0:Hp.toString().length)>0;Number((($p=Tp.current)==null?void 0:$p.style.getPropertyValue("--swipe-amount").replace("px",""))||0)>0&&op(!0),!Dp&&((Vp=Tp.current)==null||Vp.style.setProperty("--swipe-amount",`${Math.max(0,qp)}px`))}},Dl&&!Jo.jsx?React.createElement("button",{"aria-label":yl,"data-disabled":Bp,"data-close-button":!0,onClick:Bp||!Rp?()=>{}:()=>{var kp;Jp(),(kp=Jo.onDismiss)==null||kp.call(Jo,Jo)},className:Xl(Tl==null?void 0:Tl.closeButton,(mo=Jo==null?void 0:Jo.classNames)==null?void 0:mo.closeButton)},($o=hs==null?void 0:hs.close)!=null?$o:Dt):null,Jo.jsx||React.isValidElement(Jo.title)?Jo.jsx?Jo.jsx:typeof Jo.title=="function"?Jo.title():Jo.title:React.createElement(React.Fragment,null,Cp||Jo.icon||Jo.promise?React.createElement("div",{"data-icon":"",className:Xl(Tl==null?void 0:Tl.icon,(Ao=Jo==null?void 0:Jo.classNames)==null?void 0:Ao.icon)},Jo.promise||Jo.type==="loading"&&!Jo.icon?Jo.icon||Kp():null,Jo.type!=="loading"?Jo.icon||(hs==null?void 0:hs[Cp])||It(Cp):null):null,React.createElement("div",{"data-content":"",className:Xl(Tl==null?void 0:Tl.content,(Lo=Jo==null?void 0:Jo.classNames)==null?void 0:Lo.content)},React.createElement("div",{"data-title":"",className:Xl(Tl==null?void 0:Tl.title,(Wo=Jo==null?void 0:Jo.classNames)==null?void 0:Wo.title)},typeof Jo.title=="function"?Jo.title():Jo.title),Jo.description?React.createElement("div",{"data-description":"",className:Xl(Xo,Pp,Tl==null?void 0:Tl.description,(jo=Jo==null?void 0:Jo.classNames)==null?void 0:jo.description)},typeof Jo.description=="function"?Jo.description():Jo.description):null),React.isValidElement(Jo.cancel)?Jo.cancel:Jo.cancel&&O$1(Jo.cancel)?React.createElement("button",{"data-button":!0,"data-cancel":!0,style:Jo.cancelButtonStyle||Wl,onClick:kp=>{var Hp,$p;O$1(Jo.cancel)&&Rp&&(($p=(Hp=Jo.cancel).onClick)==null||$p.call(Hp,kp),Jp())},className:Xl(Tl==null?void 0:Tl.cancelButton,(zo=Jo==null?void 0:Jo.classNames)==null?void 0:zo.cancelButton)},Jo.cancel.label):null,React.isValidElement(Jo.action)?Jo.action:Jo.action&&O$1(Jo.action)?React.createElement("button",{"data-button":!0,"data-action":!0,style:Jo.actionButtonStyle||Nl,onClick:kp=>{var Hp,$p;O$1(Jo.action)&&(($p=(Hp=Jo.action).onClick)==null||$p.call(Hp,kp),!kp.defaultPrevented&&Jp())},className:Xl(Tl==null?void 0:Tl.actionButton,(Vo=Jo==null?void 0:Jo.classNames)==null?void 0:Vo.actionButton)},Jo.action.label):null))};function Lt(){if(typeof window>"u"||typeof document>"u")return"ltr";let Fn=document.documentElement.getAttribute("dir");return Fn==="auto"||!Fn?window.getComputedStyle(document.documentElement).direction:Fn}var Be=reactExports.forwardRef(function(Fn,Mn){let{invert:io,position:fo="bottom-right",hotkey:mo=["altKey","KeyT"],expand:$o,closeButton:Ao,className:Lo,offset:Wo,theme:jo="light",richColors:zo,duration:Vo,style:Go,visibleToasts:Jo=ae,toastOptions:Qo,dir:os=Lt(),gap:Cl=se$1,loadingIcon:xl,icons:ds,containerAriaLabel:_c="Notifications",pauseWhenPageIsHidden:$l,cn:Al=de$1}=Fn,[Il,us]=React.useState([]),ps=React.useMemo(()=>Array.from(new Set([fo].concat(Il.filter(Fl=>Fl.position).map(Fl=>Fl.position)))),[Il,fo]),[Rl,Wl]=React.useState([]),[Nl,wl]=React.useState(!1),[Xo,rs]=React.useState(!1),[as,El]=React.useState(jo!=="system"?jo:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Pl=React.useRef(null),Sl=mo.join("+").replace(/Key/g,"").replace(/Digit/g,""),Tl=React.useRef(null),hs=React.useRef(!1),yl=React.useCallback(Fl=>{us(Xl=>{var bu;return(bu=Xl.find(Ul=>Ul.id===Fl.id))!=null&&bu.delete||v$1.dismiss(Fl.id),Xl.filter(({id:Ul})=>Ul!==Fl.id)})},[]);return React.useEffect(()=>v$1.subscribe(Fl=>{if(Fl.dismiss){us(Xl=>Xl.map(bu=>bu.id===Fl.id?{...bu,delete:!0}:bu));return}setTimeout(()=>{ReactDOM.flushSync(()=>{us(Xl=>{let bu=Xl.findIndex(Ul=>Ul.id===Fl.id);return bu!==-1?[...Xl.slice(0,bu),{...Xl[bu],...Fl},...Xl.slice(bu+1)]:[Fl,...Xl]})})})}),[]),React.useEffect(()=>{if(jo!=="system"){El(jo);return}if(jo==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?El("dark"):El("light")),typeof window>"u")return;let Fl=window.matchMedia("(prefers-color-scheme: dark)");try{Fl.addEventListener("change",({matches:Xl})=>{El(Xl?"dark":"light")})}catch{Fl.addListener(({matches:bu})=>{try{El(bu?"dark":"light")}catch(Ul){console.error(Ul)}})}},[jo]),React.useEffect(()=>{Il.length<=1&&wl(!1)},[Il]),React.useEffect(()=>{let Fl=Xl=>{var bu,Ul;mo.every(yu=>Xl[yu]||Xl.code===yu)&&(wl(!0),(bu=Pl.current)==null||bu.focus()),Xl.code==="Escape"&&(document.activeElement===Pl.current||(Ul=Pl.current)!=null&&Ul.contains(document.activeElement))&&wl(!1)};return document.addEventListener("keydown",Fl),()=>document.removeEventListener("keydown",Fl)},[mo]),React.useEffect(()=>{if(Pl.current)return()=>{Tl.current&&(Tl.current.focus({preventScroll:!0}),Tl.current=null,hs.current=!1)}},[Pl.current]),React.createElement("section",{"aria-label":`${_c} ${Sl}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false"},ps.map((Fl,Xl)=>{var bu;let[Ul,yu]=Fl.split("-");return Il.length?React.createElement("ol",{key:Fl,dir:os==="auto"?Lt():os,tabIndex:-1,ref:Pl,className:Lo,"data-sonner-toaster":!0,"data-theme":as,"data-y-position":Ul,"data-lifted":Nl&&Il.length>1&&!$o,"data-x-position":yu,style:{"--front-toast-height":`${((bu=Rl[0])==null?void 0:bu.height)||0}px`,"--offset":typeof Wo=="number"?`${Wo}px`:Wo||ne$1,"--width":`${re$1}px`,"--gap":`${Cl}px`,...Go},onBlur:Vl=>{hs.current&&!Vl.currentTarget.contains(Vl.relatedTarget)&&(hs.current=!1,Tl.current&&(Tl.current.focus({preventScroll:!0}),Tl.current=null))},onFocus:Vl=>{Vl.target instanceof HTMLElement&&Vl.target.dataset.dismissible==="false"||hs.current||(hs.current=!0,Tl.current=Vl.relatedTarget)},onMouseEnter:()=>wl(!0),onMouseMove:()=>wl(!0),onMouseLeave:()=>{Xo||wl(!1)},onPointerDown:Vl=>{Vl.target instanceof HTMLElement&&Vl.target.dataset.dismissible==="false"||rs(!0)},onPointerUp:()=>rs(!1)},Il.filter(Vl=>!Vl.position&&Xl===0||Vl.position===Fl).map((Vl,Jl)=>{var Ql,Ol;return React.createElement(ce,{key:Vl.id,icons:ds,index:Jl,toast:Vl,defaultRichColors:zo,duration:(Ql=Qo==null?void 0:Qo.duration)!=null?Ql:Vo,className:Qo==null?void 0:Qo.className,descriptionClassName:Qo==null?void 0:Qo.descriptionClassName,invert:io,visibleToasts:Jo,closeButton:(Ol=Qo==null?void 0:Qo.closeButton)!=null?Ol:Ao,interacting:Xo,position:Fl,style:Qo==null?void 0:Qo.style,unstyled:Qo==null?void 0:Qo.unstyled,classNames:Qo==null?void 0:Qo.classNames,cancelButtonStyle:Qo==null?void 0:Qo.cancelButtonStyle,actionButtonStyle:Qo==null?void 0:Qo.actionButtonStyle,removeToast:yl,toasts:Il.filter(Zl=>Zl.position==Vl.position),heights:Rl.filter(Zl=>Zl.position==Vl.position),setHeights:Wl,expandByDefault:$o,gap:Cl,loadingIcon:xl,expanded:Nl,pauseWhenPageIsHidden:$l,cn:Al})})):null}))});let e={data:""},t=Fn=>typeof window=="object"?((Fn?Fn.querySelector("#_goober"):window._goober)||Object.assign((Fn||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:Fn||e,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n$1=/\n+/g,o=(Fn,Mn)=>{let io="",fo="",mo="";for(let $o in Fn){let Ao=Fn[$o];$o[0]=="@"?$o[1]=="i"?io=$o+" "+Ao+";":fo+=$o[1]=="f"?o(Ao,$o):$o+"{"+o(Ao,$o[1]=="k"?"":Mn)+"}":typeof Ao=="object"?fo+=o(Ao,Mn?Mn.replace(/([^,])+/g,Lo=>$o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,Wo=>/&/.test(Wo)?Wo.replace(/&/g,Lo):Lo?Lo+" "+Wo:Wo)):$o):Ao!=null&&($o=/^--/.test($o)?$o:$o.replace(/[A-Z]/g,"-$&").toLowerCase(),mo+=o.p?o.p($o,Ao):$o+":"+Ao+";")}return io+(Mn&&mo?Mn+"{"+mo+"}":mo)+fo},c={},s=Fn=>{if(typeof Fn=="object"){let Mn="";for(let io in Fn)Mn+=io+s(Fn[io]);return Mn}return Fn},i=(Fn,Mn,io,fo,mo)=>{let $o=s(Fn),Ao=c[$o]||(c[$o]=(Wo=>{let jo=0,zo=11;for(;jo<Wo.length;)zo=101*zo+Wo.charCodeAt(jo++)>>>0;return"go"+zo})($o));if(!c[Ao]){let Wo=$o!==Fn?Fn:(jo=>{let zo,Vo,Go=[{}];for(;zo=l.exec(jo.replace(a,""));)zo[4]?Go.shift():zo[3]?(Vo=zo[3].replace(n$1," ").trim(),Go.unshift(Go[0][Vo]=Go[0][Vo]||{})):Go[0][zo[1]]=zo[2].replace(n$1," ").trim();return Go[0]})(Fn);c[Ao]=o(mo?{["@keyframes "+Ao]:Wo}:Wo,io?"":"."+Ao)}let Lo=io&&c.g?c.g:null;return io&&(c.g=c[Ao]),((Wo,jo,zo,Vo)=>{Vo?jo.data=jo.data.replace(Vo,Wo):jo.data.indexOf(Wo)===-1&&(jo.data=zo?Wo+jo.data:jo.data+Wo)})(c[Ao],Mn,fo,Lo),Ao},p=(Fn,Mn,io)=>Fn.reduce((fo,mo,$o)=>{let Ao=Mn[$o];if(Ao&&Ao.call){let Lo=Ao(io),Wo=Lo&&Lo.props&&Lo.props.className||/^go/.test(Lo)&&Lo;Ao=Wo?"."+Wo:Lo&&typeof Lo=="object"?Lo.props?"":o(Lo,""):Lo===!1?"":Lo}return fo+mo+(Ao??"")},"");function u$1(Fn){let Mn=this||{},io=Fn.call?Fn(Mn.p):Fn;return i(io.unshift?io.raw?p(io,[].slice.call(arguments,1),Mn.p):io.reduce((fo,mo)=>Object.assign(fo,mo&&mo.call?mo(Mn.p):mo),{}):io,t(Mn.target),Mn.g,Mn.o,Mn.k)}let d,f,g;u$1.bind({g:1});let h$1=u$1.bind({k:1});function m(Fn,Mn,io,fo){o.p=Mn,d=Fn,f=io,g=fo}function j(Fn,Mn){let io=this||{};return function(){let fo=arguments;function mo($o,Ao){let Lo=Object.assign({},$o),Wo=Lo.className||mo.className;io.p=Object.assign({theme:f&&f()},Lo),io.o=/ *go\d+/.test(Wo),Lo.className=u$1.apply(io,fo)+(Wo?" "+Wo:"");let jo=Fn;return Fn[0]&&(jo=Lo.as||Fn,delete Lo.as),g&&jo[0]&&g(Lo),d(jo,Lo)}return mo}}var W=Fn=>typeof Fn=="function",T=(Fn,Mn)=>W(Fn)?Fn(Mn):Fn,U=(()=>{let Fn=0;return()=>(++Fn).toString()})(),b=(()=>{let Fn;return()=>{if(Fn===void 0&&typeof window<"u"){let Mn=matchMedia("(prefers-reduced-motion: reduce)");Fn=!Mn||Mn.matches}return Fn}})(),Q=20,S=new Map,X$1=1e3,$=Fn=>{if(S.has(Fn))return;let Mn=setTimeout(()=>{S.delete(Fn),u({type:4,toastId:Fn})},X$1);S.set(Fn,Mn)},J=Fn=>{let Mn=S.get(Fn);Mn&&clearTimeout(Mn)},v=(Fn,Mn)=>{switch(Mn.type){case 0:return{...Fn,toasts:[Mn.toast,...Fn.toasts].slice(0,Q)};case 1:return Mn.toast.id&&J(Mn.toast.id),{...Fn,toasts:Fn.toasts.map($o=>$o.id===Mn.toast.id?{...$o,...Mn.toast}:$o)};case 2:let{toast:io}=Mn;return Fn.toasts.find($o=>$o.id===io.id)?v(Fn,{type:1,toast:io}):v(Fn,{type:0,toast:io});case 3:let{toastId:fo}=Mn;return fo?$(fo):Fn.toasts.forEach($o=>{$($o.id)}),{...Fn,toasts:Fn.toasts.map($o=>$o.id===fo||fo===void 0?{...$o,visible:!1}:$o)};case 4:return Mn.toastId===void 0?{...Fn,toasts:[]}:{...Fn,toasts:Fn.toasts.filter($o=>$o.id!==Mn.toastId)};case 5:return{...Fn,pausedAt:Mn.time};case 6:let mo=Mn.time-(Fn.pausedAt||0);return{...Fn,pausedAt:void 0,toasts:Fn.toasts.map($o=>({...$o,pauseDuration:$o.pauseDuration+mo}))}}},A=[],P={toasts:[],pausedAt:void 0},u=Fn=>{P=v(P,Fn),A.forEach(Mn=>{Mn(P)})},Y={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},I=(Fn={})=>{let[Mn,io]=reactExports.useState(P);reactExports.useEffect(()=>(A.push(io),()=>{let mo=A.indexOf(io);mo>-1&&A.splice(mo,1)}),[Mn]);let fo=Mn.toasts.map(mo=>{var $o,Ao;return{...Fn,...Fn[mo.type],...mo,duration:mo.duration||(($o=Fn[mo.type])==null?void 0:$o.duration)||(Fn==null?void 0:Fn.duration)||Y[mo.type],style:{...Fn.style,...(Ao=Fn[mo.type])==null?void 0:Ao.style,...mo.style}}});return{...Mn,toasts:fo}},G=(Fn,Mn="blank",io)=>({createdAt:Date.now(),visible:!0,type:Mn,ariaProps:{role:"status","aria-live":"polite"},message:Fn,pauseDuration:0,...io,id:(io==null?void 0:io.id)||U()}),h=Fn=>(Mn,io)=>{let fo=G(Mn,Fn,io);return u({type:2,toast:fo}),fo.id},n=(Fn,Mn)=>h("blank")(Fn,Mn);n.error=h("error");n.success=h("success");n.loading=h("loading");n.custom=h("custom");n.dismiss=Fn=>{u({type:3,toastId:Fn})};n.remove=Fn=>u({type:4,toastId:Fn});n.promise=(Fn,Mn,io)=>{let fo=n.loading(Mn.loading,{...io,...io==null?void 0:io.loading});return Fn.then(mo=>(n.success(T(Mn.success,mo),{id:fo,...io,...io==null?void 0:io.success}),mo)).catch(mo=>{n.error(T(Mn.error,mo),{id:fo,...io,...io==null?void 0:io.error})}),Fn};var Z=(Fn,Mn)=>{u({type:1,toast:{id:Fn,height:Mn}})},ee=()=>{u({type:5,time:Date.now()})},D=Fn=>{let{toasts:Mn,pausedAt:io}=I(Fn);reactExports.useEffect(()=>{if(io)return;let $o=Date.now(),Ao=Mn.map(Lo=>{if(Lo.duration===1/0)return;let Wo=(Lo.duration||0)+Lo.pauseDuration-($o-Lo.createdAt);if(Wo<0){Lo.visible&&n.dismiss(Lo.id);return}return setTimeout(()=>n.dismiss(Lo.id),Wo)});return()=>{Ao.forEach(Lo=>Lo&&clearTimeout(Lo))}},[Mn,io]);let fo=reactExports.useCallback(()=>{io&&u({type:6,time:Date.now()})},[io]),mo=reactExports.useCallback(($o,Ao)=>{let{reverseOrder:Lo=!1,gutter:Wo=8,defaultPosition:jo}=Ao||{},zo=Mn.filter(Jo=>(Jo.position||jo)===($o.position||jo)&&Jo.height),Vo=zo.findIndex(Jo=>Jo.id===$o.id),Go=zo.filter((Jo,Qo)=>Qo<Vo&&Jo.visible).length;return zo.filter(Jo=>Jo.visible).slice(...Lo?[Go+1]:[0,Go]).reduce((Jo,Qo)=>Jo+(Qo.height||0)+Wo,0)},[Mn]);return{toasts:Mn,handlers:{updateHeight:Z,startPause:ee,endPause:fo,calculateOffset:mo}}},oe=h$1`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,re=h$1`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,se=h$1`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${Fn=>Fn.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${re} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${Fn=>Fn.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${se} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ne=h$1`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,V=j("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${Fn=>Fn.secondary||"#e0e0e0"};
  border-right-color: ${Fn=>Fn.primary||"#616161"};
  animation: ${ne} 1s linear infinite;
`,pe=h$1`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,de=h$1`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,w=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${Fn=>Fn.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${de} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${Fn=>Fn.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ue=j("div")`
  position: absolute;
`,le=j("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Te=h$1`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fe=j("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Te} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,M=({toast:Fn})=>{let{icon:Mn,type:io,iconTheme:fo}=Fn;return Mn!==void 0?typeof Mn=="string"?reactExports.createElement(fe,null,Mn):Mn:io==="blank"?null:reactExports.createElement(le,null,reactExports.createElement(V,{...fo}),io!=="loading"&&reactExports.createElement(ue,null,io==="error"?reactExports.createElement(_,{...fo}):reactExports.createElement(w,{...fo})))},ye=Fn=>`
0% {transform: translate3d(0,${Fn*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ge=Fn=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${Fn*-150}%,-1px) scale(.6); opacity:0;}
`,he="0%{opacity:0;} 100%{opacity:1;}",xe="0%{opacity:1;} 100%{opacity:0;}",be=j("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Se=j("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ae=(Fn,Mn)=>{let io=Fn.includes("top")?1:-1,[fo,mo]=b()?[he,xe]:[ye(io),ge(io)];return{animation:Mn?`${h$1(fo)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h$1(mo)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},F=reactExports.memo(({toast:Fn,position:Mn,style:io,children:fo})=>{let mo=Fn.height?Ae(Fn.position||Mn||"top-center",Fn.visible):{opacity:0},$o=reactExports.createElement(M,{toast:Fn}),Ao=reactExports.createElement(Se,{...Fn.ariaProps},T(Fn.message,Fn));return reactExports.createElement(be,{className:Fn.className,style:{...mo,...io,...Fn.style}},typeof fo=="function"?fo({icon:$o,message:Ao}):reactExports.createElement(reactExports.Fragment,null,$o,Ao))});m(reactExports.createElement);var Ee=({id:Fn,className:Mn,style:io,onHeightUpdate:fo,children:mo})=>{let $o=reactExports.useCallback(Ao=>{if(Ao){let Lo=()=>{let Wo=Ao.getBoundingClientRect().height;fo(Fn,Wo)};Lo(),new MutationObserver(Lo).observe(Ao,{subtree:!0,childList:!0,characterData:!0})}},[Fn,fo]);return reactExports.createElement("div",{ref:$o,className:Mn,style:io},mo)},Re=(Fn,Mn)=>{let io=Fn.includes("top"),fo=io?{top:0}:{bottom:0},mo=Fn.includes("center")?{justifyContent:"center"}:Fn.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:b()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${Mn*(io?1:-1)}px)`,...fo,...mo}},ve=u$1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,O=16,Ie=({reverseOrder:Fn,position:Mn="top-center",toastOptions:io,gutter:fo,children:mo,containerStyle:$o,containerClassName:Ao})=>{let{toasts:Lo,handlers:Wo}=D(io);return reactExports.createElement("div",{style:{position:"fixed",zIndex:9999,top:O,left:O,right:O,bottom:O,pointerEvents:"none",...$o},className:Ao,onMouseEnter:Wo.startPause,onMouseLeave:Wo.endPause},Lo.map(jo=>{let zo=jo.position||Mn,Vo=Wo.calculateOffset(jo,{reverseOrder:Fn,gutter:fo,defaultPosition:Mn}),Go=Re(zo,Vo);return reactExports.createElement(Ee,{id:jo.id,key:jo.id,onHeightUpdate:Wo.updateHeight,className:jo.visible?ve:"",style:Go},jo.type==="custom"?T(jo.message,jo):mo?mo(jo):reactExports.createElement(F,{toast:jo,position:zo}))}))},_t=n;function createContext2(Fn,Mn){const io=reactExports.createContext(Mn),fo=$o=>{const{children:Ao,...Lo}=$o,Wo=reactExports.useMemo(()=>Lo,Object.values(Lo));return jsxRuntimeExports.jsx(io.Provider,{value:Wo,children:Ao})};fo.displayName=Fn+"Provider";function mo($o){const Ao=reactExports.useContext(io);if(Ao)return Ao;if(Mn!==void 0)return Mn;throw new Error(`\`${$o}\` must be used within \`${Fn}\``)}return[fo,mo]}function createContextScope$1(Fn,Mn=[]){let io=[];function fo($o,Ao){const Lo=reactExports.createContext(Ao),Wo=io.length;io=[...io,Ao];const jo=Vo=>{var xl;const{scope:Go,children:Jo,...Qo}=Vo,os=((xl=Go==null?void 0:Go[Fn])==null?void 0:xl[Wo])||Lo,Cl=reactExports.useMemo(()=>Qo,Object.values(Qo));return jsxRuntimeExports.jsx(os.Provider,{value:Cl,children:Jo})};jo.displayName=$o+"Provider";function zo(Vo,Go){var os;const Jo=((os=Go==null?void 0:Go[Fn])==null?void 0:os[Wo])||Lo,Qo=reactExports.useContext(Jo);if(Qo)return Qo;if(Ao!==void 0)return Ao;throw new Error(`\`${Vo}\` must be used within \`${$o}\``)}return[jo,zo]}const mo=()=>{const $o=io.map(Ao=>reactExports.createContext(Ao));return function(Lo){const Wo=(Lo==null?void 0:Lo[Fn])||$o;return reactExports.useMemo(()=>({[`__scope${Fn}`]:{...Lo,[Fn]:Wo}}),[Lo,Wo])}};return mo.scopeName=Fn,[fo,composeContextScopes$1(mo,...Mn)]}function composeContextScopes$1(...Fn){const Mn=Fn[0];if(Fn.length===1)return Mn;const io=()=>{const fo=Fn.map(mo=>({useScope:mo(),scopeName:mo.scopeName}));return function($o){const Ao=fo.reduce((Lo,{useScope:Wo,scopeName:jo})=>{const Vo=Wo($o)[`__scope${jo}`];return{...Lo,...Vo}},{});return reactExports.useMemo(()=>({[`__scope${Mn.scopeName}`]:Ao}),[Ao])}};return io.scopeName=Mn.scopeName,io}function composeEventHandlers(Fn,Mn,{checkForDefaultPrevented:io=!0}={}){return function(mo){if(Fn==null||Fn(mo),io===!1||!mo.defaultPrevented)return Mn==null?void 0:Mn(mo)}}function setRef(Fn,Mn){typeof Fn=="function"?Fn(Mn):Fn!=null&&(Fn.current=Mn)}function composeRefs(...Fn){return Mn=>Fn.forEach(io=>setRef(io,Mn))}function useComposedRefs(...Fn){return reactExports.useCallback(composeRefs(...Fn),Fn)}var Slot=reactExports.forwardRef((Fn,Mn)=>{const{children:io,...fo}=Fn,mo=reactExports.Children.toArray(io),$o=mo.find(isSlottable);if($o){const Ao=$o.props.children,Lo=mo.map(Wo=>Wo===$o?reactExports.Children.count(Ao)>1?reactExports.Children.only(null):reactExports.isValidElement(Ao)?Ao.props.children:null:Wo);return jsxRuntimeExports.jsx(SlotClone,{...fo,ref:Mn,children:reactExports.isValidElement(Ao)?reactExports.cloneElement(Ao,void 0,Lo):null})}return jsxRuntimeExports.jsx(SlotClone,{...fo,ref:Mn,children:io})});Slot.displayName="Slot";var SlotClone=reactExports.forwardRef((Fn,Mn)=>{const{children:io,...fo}=Fn;if(reactExports.isValidElement(io)){const mo=getElementRef$1(io);return reactExports.cloneElement(io,{...mergeProps(fo,io.props),ref:Mn?composeRefs(Mn,mo):mo})}return reactExports.Children.count(io)>1?reactExports.Children.only(null):null});SlotClone.displayName="SlotClone";var Slottable=({children:Fn})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Fn});function isSlottable(Fn){return reactExports.isValidElement(Fn)&&Fn.type===Slottable}function mergeProps(Fn,Mn){const io={...Mn};for(const fo in Mn){const mo=Fn[fo],$o=Mn[fo];/^on[A-Z]/.test(fo)?mo&&$o?io[fo]=(...Lo)=>{$o(...Lo),mo(...Lo)}:mo&&(io[fo]=mo):fo==="style"?io[fo]={...mo,...$o}:fo==="className"&&(io[fo]=[mo,$o].filter(Boolean).join(" "))}return{...Fn,...io}}function getElementRef$1(Fn){var fo,mo;let Mn=(fo=Object.getOwnPropertyDescriptor(Fn.props,"ref"))==null?void 0:fo.get,io=Mn&&"isReactWarning"in Mn&&Mn.isReactWarning;return io?Fn.ref:(Mn=(mo=Object.getOwnPropertyDescriptor(Fn,"ref"))==null?void 0:mo.get,io=Mn&&"isReactWarning"in Mn&&Mn.isReactWarning,io?Fn.props.ref:Fn.props.ref||Fn.ref)}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Primitive=NODES.reduce((Fn,Mn)=>{const io=reactExports.forwardRef((fo,mo)=>{const{asChild:$o,...Ao}=fo,Lo=$o?Slot:Mn;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(Lo,{...Ao,ref:mo})});return io.displayName=`Primitive.${Mn}`,{...Fn,[Mn]:io}},{});function dispatchDiscreteCustomEvent(Fn,Mn){Fn&&reactDomExports.flushSync(()=>Fn.dispatchEvent(Mn))}function useCallbackRef(Fn){const Mn=reactExports.useRef(Fn);return reactExports.useEffect(()=>{Mn.current=Fn}),reactExports.useMemo(()=>(...io)=>{var fo;return(fo=Mn.current)==null?void 0:fo.call(Mn,...io)},[])}function useControllableState({prop:Fn,defaultProp:Mn,onChange:io=()=>{}}){const[fo,mo]=useUncontrolledState({defaultProp:Mn,onChange:io}),$o=Fn!==void 0,Ao=$o?Fn:fo,Lo=useCallbackRef(io),Wo=reactExports.useCallback(jo=>{if($o){const Vo=typeof jo=="function"?jo(Fn):jo;Vo!==Fn&&Lo(Vo)}else mo(jo)},[$o,Fn,mo,Lo]);return[Ao,Wo]}function useUncontrolledState({defaultProp:Fn,onChange:Mn}){const io=reactExports.useState(Fn),[fo]=io,mo=reactExports.useRef(fo),$o=useCallbackRef(Mn);return reactExports.useEffect(()=>{mo.current!==fo&&($o(fo),mo.current=fo)},[fo,mo,$o]),io}var DirectionContext=reactExports.createContext(void 0);function useDirection(Fn){const Mn=reactExports.useContext(DirectionContext);return Fn||Mn||"ltr"}var useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{};function useStateMachine(Fn,Mn){return reactExports.useReducer((io,fo)=>Mn[io][fo]??io,Fn)}var Presence=Fn=>{const{present:Mn,children:io}=Fn,fo=usePresence(Mn),mo=typeof io=="function"?io({present:fo.isPresent}):reactExports.Children.only(io),$o=useComposedRefs(fo.ref,getElementRef(mo));return typeof io=="function"||fo.isPresent?reactExports.cloneElement(mo,{ref:$o}):null};Presence.displayName="Presence";function usePresence(Fn){const[Mn,io]=reactExports.useState(),fo=reactExports.useRef({}),mo=reactExports.useRef(Fn),$o=reactExports.useRef("none"),Ao=Fn?"mounted":"unmounted",[Lo,Wo]=useStateMachine(Ao,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const jo=getAnimationName(fo.current);$o.current=Lo==="mounted"?jo:"none"},[Lo]),useLayoutEffect2(()=>{const jo=fo.current,zo=mo.current;if(zo!==Fn){const Go=$o.current,Jo=getAnimationName(jo);Fn?Wo("MOUNT"):Jo==="none"||(jo==null?void 0:jo.display)==="none"?Wo("UNMOUNT"):Wo(zo&&Go!==Jo?"ANIMATION_OUT":"UNMOUNT"),mo.current=Fn}},[Fn,Wo]),useLayoutEffect2(()=>{if(Mn){let jo;const zo=Mn.ownerDocument.defaultView??window,Vo=Jo=>{const os=getAnimationName(fo.current).includes(Jo.animationName);if(Jo.target===Mn&&os&&(Wo("ANIMATION_END"),!mo.current)){const Cl=Mn.style.animationFillMode;Mn.style.animationFillMode="forwards",jo=zo.setTimeout(()=>{Mn.style.animationFillMode==="forwards"&&(Mn.style.animationFillMode=Cl)})}},Go=Jo=>{Jo.target===Mn&&($o.current=getAnimationName(fo.current))};return Mn.addEventListener("animationstart",Go),Mn.addEventListener("animationcancel",Vo),Mn.addEventListener("animationend",Vo),()=>{zo.clearTimeout(jo),Mn.removeEventListener("animationstart",Go),Mn.removeEventListener("animationcancel",Vo),Mn.removeEventListener("animationend",Vo)}}else Wo("ANIMATION_END")},[Mn,Wo]),{isPresent:["mounted","unmountSuspended"].includes(Lo),ref:reactExports.useCallback(jo=>{jo&&(fo.current=getComputedStyle(jo)),io(jo)},[])}}function getAnimationName(Fn){return(Fn==null?void 0:Fn.animationName)||"none"}function getElementRef(Fn){var fo,mo;let Mn=(fo=Object.getOwnPropertyDescriptor(Fn.props,"ref"))==null?void 0:fo.get,io=Mn&&"isReactWarning"in Mn&&Mn.isReactWarning;return io?Fn.ref:(Mn=(mo=Object.getOwnPropertyDescriptor(Fn,"ref"))==null?void 0:mo.get,io=Mn&&"isReactWarning"in Mn&&Mn.isReactWarning,io?Fn.props.ref:Fn.props.ref||Fn.ref)}var useReactId=React$1.useId||(()=>{}),count=0;function useId(Fn){const[Mn,io]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{Fn||io(fo=>fo??String(count++))},[Fn]),Fn||(Mn?`radix-${Mn}`:"")}function createContextScope(Fn,Mn=[]){let io=[];function fo($o,Ao){const Lo=reactExports.createContext(Ao),Wo=io.length;io=[...io,Ao];function jo(Vo){const{scope:Go,children:Jo,...Qo}=Vo,os=(Go==null?void 0:Go[Fn][Wo])||Lo,Cl=reactExports.useMemo(()=>Qo,Object.values(Qo));return jsxRuntimeExports.jsx(os.Provider,{value:Cl,children:Jo})}function zo(Vo,Go){const Jo=(Go==null?void 0:Go[Fn][Wo])||Lo,Qo=reactExports.useContext(Jo);if(Qo)return Qo;if(Ao!==void 0)return Ao;throw new Error(`\`${Vo}\` must be used within \`${$o}\``)}return jo.displayName=$o+"Provider",[jo,zo]}const mo=()=>{const $o=io.map(Ao=>reactExports.createContext(Ao));return function(Lo){const Wo=(Lo==null?void 0:Lo[Fn])||$o;return reactExports.useMemo(()=>({[`__scope${Fn}`]:{...Lo,[Fn]:Wo}}),[Lo,Wo])}};return mo.scopeName=Fn,[fo,composeContextScopes(mo,...Mn)]}function composeContextScopes(...Fn){const Mn=Fn[0];if(Fn.length===1)return Mn;const io=()=>{const fo=Fn.map(mo=>({useScope:mo(),scopeName:mo.scopeName}));return function($o){const Ao=fo.reduce((Lo,{useScope:Wo,scopeName:jo})=>{const Vo=Wo($o)[`__scope${jo}`];return{...Lo,...Vo}},{});return reactExports.useMemo(()=>({[`__scope${Mn.scopeName}`]:Ao}),[Ao])}};return io.scopeName=Mn.scopeName,io}function createCollection(Fn){const Mn=Fn+"CollectionProvider",[io,fo]=createContextScope(Mn),[mo,$o]=io(Mn,{collectionRef:{current:null},itemMap:new Map}),Ao=Jo=>{const{scope:Qo,children:os}=Jo,Cl=React.useRef(null),xl=React.useRef(new Map).current;return jsxRuntimeExports.jsx(mo,{scope:Qo,itemMap:xl,collectionRef:Cl,children:os})};Ao.displayName=Mn;const Lo=Fn+"CollectionSlot",Wo=React.forwardRef((Jo,Qo)=>{const{scope:os,children:Cl}=Jo,xl=$o(Lo,os),ds=useComposedRefs(Qo,xl.collectionRef);return jsxRuntimeExports.jsx(Slot,{ref:ds,children:Cl})});Wo.displayName=Lo;const jo=Fn+"CollectionItemSlot",zo="data-radix-collection-item",Vo=React.forwardRef((Jo,Qo)=>{const{scope:os,children:Cl,...xl}=Jo,ds=React.useRef(null),_c=useComposedRefs(Qo,ds),$l=$o(jo,os);return React.useEffect(()=>($l.itemMap.set(ds,{ref:ds,...xl}),()=>void $l.itemMap.delete(ds))),jsxRuntimeExports.jsx(Slot,{[zo]:"",ref:_c,children:Cl})});Vo.displayName=jo;function Go(Jo){const Qo=$o(Fn+"CollectionConsumer",Jo);return React.useCallback(()=>{const Cl=Qo.collectionRef.current;if(!Cl)return[];const xl=Array.from(Cl.querySelectorAll(`[${zo}]`));return Array.from(Qo.itemMap.values()).sort(($l,Al)=>xl.indexOf($l.ref.current)-xl.indexOf(Al.ref.current))},[Qo.collectionRef,Qo.itemMap])}return[{Provider:Ao,Slot:Wo,ItemSlot:Vo},Go,fo]}function useEscapeKeydown(Fn,Mn=globalThis==null?void 0:globalThis.document){const io=useCallbackRef(Fn);reactExports.useEffect(()=>{const fo=mo=>{mo.key==="Escape"&&io(mo)};return Mn.addEventListener("keydown",fo,{capture:!0}),()=>Mn.removeEventListener("keydown",fo,{capture:!0})},[io,Mn])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((Fn,Mn)=>{const{disableOutsidePointerEvents:io=!1,onEscapeKeyDown:fo,onPointerDownOutside:mo,onFocusOutside:$o,onInteractOutside:Ao,onDismiss:Lo,...Wo}=Fn,jo=reactExports.useContext(DismissableLayerContext),[zo,Vo]=reactExports.useState(null),Go=(zo==null?void 0:zo.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,Jo]=reactExports.useState({}),Qo=useComposedRefs(Mn,us=>Vo(us)),os=Array.from(jo.layers),[Cl]=[...jo.layersWithOutsidePointerEventsDisabled].slice(-1),xl=os.indexOf(Cl),ds=zo?os.indexOf(zo):-1,_c=jo.layersWithOutsidePointerEventsDisabled.size>0,$l=ds>=xl,Al=usePointerDownOutside(us=>{const ps=us.target,Rl=[...jo.branches].some(Wl=>Wl.contains(ps));!$l||Rl||(mo==null||mo(us),Ao==null||Ao(us),us.defaultPrevented||Lo==null||Lo())},Go),Il=useFocusOutside(us=>{const ps=us.target;[...jo.branches].some(Wl=>Wl.contains(ps))||($o==null||$o(us),Ao==null||Ao(us),us.defaultPrevented||Lo==null||Lo())},Go);return useEscapeKeydown(us=>{ds===jo.layers.size-1&&(fo==null||fo(us),!us.defaultPrevented&&Lo&&(us.preventDefault(),Lo()))},Go),reactExports.useEffect(()=>{if(zo)return io&&(jo.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=Go.body.style.pointerEvents,Go.body.style.pointerEvents="none"),jo.layersWithOutsidePointerEventsDisabled.add(zo)),jo.layers.add(zo),dispatchUpdate(),()=>{io&&jo.layersWithOutsidePointerEventsDisabled.size===1&&(Go.body.style.pointerEvents=originalBodyPointerEvents)}},[zo,Go,io,jo]),reactExports.useEffect(()=>()=>{zo&&(jo.layers.delete(zo),jo.layersWithOutsidePointerEventsDisabled.delete(zo),dispatchUpdate())},[zo,jo]),reactExports.useEffect(()=>{const us=()=>Jo({});return document.addEventListener(CONTEXT_UPDATE,us),()=>document.removeEventListener(CONTEXT_UPDATE,us)},[]),jsxRuntimeExports.jsx(Primitive.div,{...Wo,ref:Qo,style:{pointerEvents:_c?$l?"auto":"none":void 0,...Fn.style},onFocusCapture:composeEventHandlers(Fn.onFocusCapture,Il.onFocusCapture),onBlurCapture:composeEventHandlers(Fn.onBlurCapture,Il.onBlurCapture),onPointerDownCapture:composeEventHandlers(Fn.onPointerDownCapture,Al.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((Fn,Mn)=>{const io=reactExports.useContext(DismissableLayerContext),fo=reactExports.useRef(null),mo=useComposedRefs(Mn,fo);return reactExports.useEffect(()=>{const $o=fo.current;if($o)return io.branches.add($o),()=>{io.branches.delete($o)}},[io.branches]),jsxRuntimeExports.jsx(Primitive.div,{...Fn,ref:mo})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(Fn,Mn=globalThis==null?void 0:globalThis.document){const io=useCallbackRef(Fn),fo=reactExports.useRef(!1),mo=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const $o=Lo=>{if(Lo.target&&!fo.current){let Wo=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,io,jo,{discrete:!0})};const jo={originalEvent:Lo};Lo.pointerType==="touch"?(Mn.removeEventListener("click",mo.current),mo.current=Wo,Mn.addEventListener("click",mo.current,{once:!0})):Wo()}else Mn.removeEventListener("click",mo.current);fo.current=!1},Ao=window.setTimeout(()=>{Mn.addEventListener("pointerdown",$o)},0);return()=>{window.clearTimeout(Ao),Mn.removeEventListener("pointerdown",$o),Mn.removeEventListener("click",mo.current)}},[Mn,io]),{onPointerDownCapture:()=>fo.current=!0}}function useFocusOutside(Fn,Mn=globalThis==null?void 0:globalThis.document){const io=useCallbackRef(Fn),fo=reactExports.useRef(!1);return reactExports.useEffect(()=>{const mo=$o=>{$o.target&&!fo.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,io,{originalEvent:$o},{discrete:!1})};return Mn.addEventListener("focusin",mo),()=>Mn.removeEventListener("focusin",mo)},[Mn,io]),{onFocusCapture:()=>fo.current=!0,onBlurCapture:()=>fo.current=!1}}function dispatchUpdate(){const Fn=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(Fn)}function handleAndDispatchCustomEvent(Fn,Mn,io,{discrete:fo}){const mo=io.originalEvent.target,$o=new CustomEvent(Fn,{bubbles:!1,cancelable:!0,detail:io});Mn&&mo.addEventListener(Fn,Mn,{once:!0}),fo?dispatchDiscreteCustomEvent(mo,$o):mo.dispatchEvent($o)}function usePrevious(Fn){const Mn=reactExports.useRef({value:Fn,previous:Fn});return reactExports.useMemo(()=>(Mn.current.value!==Fn&&(Mn.current.previous=Mn.current.value,Mn.current.value=Fn),Mn.current.previous),[Fn])}var NAME="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((Fn,Mn)=>jsxRuntimeExports.jsx(Primitive.span,{...Fn,ref:Mn,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...Fn.style}}));VisuallyHidden.displayName=NAME;var Root=VisuallyHidden,NAVIGATION_MENU_NAME="NavigationMenu",[Collection,useCollection,createCollectionScope]=createCollection(NAVIGATION_MENU_NAME),[FocusGroupCollection,useFocusGroupCollection,createFocusGroupCollectionScope]=createCollection(NAVIGATION_MENU_NAME),[createNavigationMenuContext,createNavigationMenuScope]=createContextScope$1(NAVIGATION_MENU_NAME,[createCollectionScope,createFocusGroupCollectionScope]),[NavigationMenuProviderImpl,useNavigationMenuContext]=createNavigationMenuContext(NAVIGATION_MENU_NAME),[ViewportContentProvider,useViewportContentContext]=createNavigationMenuContext(NAVIGATION_MENU_NAME),NavigationMenu$1=reactExports.forwardRef((Fn,Mn)=>{const{__scopeNavigationMenu:io,value:fo,onValueChange:mo,defaultValue:$o,delayDuration:Ao=200,skipDelayDuration:Lo=300,orientation:Wo="horizontal",dir:jo,...zo}=Fn,[Vo,Go]=reactExports.useState(null),Jo=useComposedRefs(Mn,Rl=>Go(Rl)),Qo=useDirection(jo),os=reactExports.useRef(0),Cl=reactExports.useRef(0),xl=reactExports.useRef(0),[ds,_c]=reactExports.useState(!0),[$l="",Al]=useControllableState({prop:fo,onChange:Rl=>{const Wl=Rl!=="",Nl=Lo>0;Wl?(window.clearTimeout(xl.current),Nl&&_c(!1)):(window.clearTimeout(xl.current),xl.current=window.setTimeout(()=>_c(!0),Lo)),mo==null||mo(Rl)},defaultProp:$o}),Il=reactExports.useCallback(()=>{window.clearTimeout(Cl.current),Cl.current=window.setTimeout(()=>Al(""),150)},[Al]),us=reactExports.useCallback(Rl=>{window.clearTimeout(Cl.current),Al(Rl)},[Al]),ps=reactExports.useCallback(Rl=>{$l===Rl?window.clearTimeout(Cl.current):os.current=window.setTimeout(()=>{window.clearTimeout(Cl.current),Al(Rl)},Ao)},[$l,Al,Ao]);return reactExports.useEffect(()=>()=>{window.clearTimeout(os.current),window.clearTimeout(Cl.current),window.clearTimeout(xl.current)},[]),jsxRuntimeExports.jsx(NavigationMenuProvider,{scope:io,isRootMenu:!0,value:$l,dir:Qo,orientation:Wo,rootNavigationMenu:Vo,onTriggerEnter:Rl=>{window.clearTimeout(os.current),ds?ps(Rl):us(Rl)},onTriggerLeave:()=>{window.clearTimeout(os.current),Il()},onContentEnter:()=>window.clearTimeout(Cl.current),onContentLeave:Il,onItemSelect:Rl=>{Al(Wl=>Wl===Rl?"":Rl)},onItemDismiss:()=>Al(""),children:jsxRuntimeExports.jsx(Primitive.nav,{"aria-label":"Main","data-orientation":Wo,dir:Qo,...zo,ref:Jo})})});NavigationMenu$1.displayName=NAVIGATION_MENU_NAME;var SUB_NAME="NavigationMenuSub",NavigationMenuSub$1=reactExports.forwardRef((Fn,Mn)=>{const{__scopeNavigationMenu:io,value:fo,onValueChange:mo,defaultValue:$o,orientation:Ao="horizontal",...Lo}=Fn,Wo=useNavigationMenuContext(SUB_NAME,io),[jo="",zo]=useControllableState({prop:fo,onChange:mo,defaultProp:$o});return jsxRuntimeExports.jsx(NavigationMenuProvider,{scope:io,isRootMenu:!1,value:jo,dir:Wo.dir,orientation:Ao,rootNavigationMenu:Wo.rootNavigationMenu,onTriggerEnter:Vo=>zo(Vo),onItemSelect:Vo=>zo(Vo),onItemDismiss:()=>zo(""),children:jsxRuntimeExports.jsx(Primitive.div,{"data-orientation":Ao,...Lo,ref:Mn})})});NavigationMenuSub$1.displayName=SUB_NAME;var NavigationMenuProvider=Fn=>{const{scope:Mn,isRootMenu:io,rootNavigationMenu:fo,dir:mo,orientation:$o,children:Ao,value:Lo,onItemSelect:Wo,onItemDismiss:jo,onTriggerEnter:zo,onTriggerLeave:Vo,onContentEnter:Go,onContentLeave:Jo}=Fn,[Qo,os]=reactExports.useState(null),[Cl,xl]=reactExports.useState(new Map),[ds,_c]=reactExports.useState(null);return jsxRuntimeExports.jsx(NavigationMenuProviderImpl,{scope:Mn,isRootMenu:io,rootNavigationMenu:fo,value:Lo,previousValue:usePrevious(Lo),baseId:useId(),dir:mo,orientation:$o,viewport:Qo,onViewportChange:os,indicatorTrack:ds,onIndicatorTrackChange:_c,onTriggerEnter:useCallbackRef(zo),onTriggerLeave:useCallbackRef(Vo),onContentEnter:useCallbackRef(Go),onContentLeave:useCallbackRef(Jo),onItemSelect:useCallbackRef(Wo),onItemDismiss:useCallbackRef(jo),onViewportContentChange:reactExports.useCallback(($l,Al)=>{xl(Il=>(Il.set($l,Al),new Map(Il)))},[]),onViewportContentRemove:reactExports.useCallback($l=>{xl(Al=>Al.has($l)?(Al.delete($l),new Map(Al)):Al)},[]),children:jsxRuntimeExports.jsx(Collection.Provider,{scope:Mn,children:jsxRuntimeExports.jsx(ViewportContentProvider,{scope:Mn,items:Cl,children:Ao})})})},LIST_NAME="NavigationMenuList",NavigationMenuList$1=reactExports.forwardRef((Fn,Mn)=>{const{__scopeNavigationMenu:io,...fo}=Fn,mo=useNavigationMenuContext(LIST_NAME,io),$o=jsxRuntimeExports.jsx(Primitive.ul,{"data-orientation":mo.orientation,...fo,ref:Mn});return jsxRuntimeExports.jsx(Primitive.div,{style:{position:"relative"},ref:mo.onIndicatorTrackChange,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:io,children:mo.isRootMenu?jsxRuntimeExports.jsx(FocusGroup,{asChild:!0,children:$o}):$o})})});NavigationMenuList$1.displayName=LIST_NAME;var ITEM_NAME="NavigationMenuItem",[NavigationMenuItemContextProvider,useNavigationMenuItemContext]=createNavigationMenuContext(ITEM_NAME),NavigationMenuItem$1=reactExports.forwardRef((Fn,Mn)=>{const{__scopeNavigationMenu:io,value:fo,...mo}=Fn,$o=useId(),Ao=fo||$o||"LEGACY_REACT_AUTO_VALUE",Lo=reactExports.useRef(null),Wo=reactExports.useRef(null),jo=reactExports.useRef(null),zo=reactExports.useRef(()=>{}),Vo=reactExports.useRef(!1),Go=reactExports.useCallback((Qo="start")=>{if(Lo.current){zo.current();const os=getTabbableCandidates(Lo.current);os.length&&focusFirst(Qo==="start"?os:os.reverse())}},[]),Jo=reactExports.useCallback(()=>{if(Lo.current){const Qo=getTabbableCandidates(Lo.current);Qo.length&&(zo.current=removeFromTabOrder(Qo))}},[]);return jsxRuntimeExports.jsx(NavigationMenuItemContextProvider,{scope:io,value:Ao,triggerRef:Wo,contentRef:Lo,focusProxyRef:jo,wasEscapeCloseRef:Vo,onEntryKeyDown:Go,onFocusProxyEnter:Go,onRootContentClose:Jo,onContentFocusOutside:Jo,children:jsxRuntimeExports.jsx(Primitive.li,{...mo,ref:Mn})})});NavigationMenuItem$1.displayName=ITEM_NAME;var TRIGGER_NAME="NavigationMenuTrigger",NavigationMenuTrigger$1=reactExports.forwardRef((Fn,Mn)=>{const{__scopeNavigationMenu:io,disabled:fo,...mo}=Fn,$o=useNavigationMenuContext(TRIGGER_NAME,Fn.__scopeNavigationMenu),Ao=useNavigationMenuItemContext(TRIGGER_NAME,Fn.__scopeNavigationMenu),Lo=reactExports.useRef(null),Wo=useComposedRefs(Lo,Ao.triggerRef,Mn),jo=makeTriggerId($o.baseId,Ao.value),zo=makeContentId($o.baseId,Ao.value),Vo=reactExports.useRef(!1),Go=reactExports.useRef(!1),Jo=Ao.value===$o.value;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:io,value:Ao.value,children:jsxRuntimeExports.jsx(FocusGroupItem,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive.button,{id:jo,disabled:fo,"data-disabled":fo?"":void 0,"data-state":getOpenState(Jo),"aria-expanded":Jo,"aria-controls":zo,...mo,ref:Wo,onPointerEnter:composeEventHandlers(Fn.onPointerEnter,()=>{Go.current=!1,Ao.wasEscapeCloseRef.current=!1}),onPointerMove:composeEventHandlers(Fn.onPointerMove,whenMouse(()=>{fo||Go.current||Ao.wasEscapeCloseRef.current||Vo.current||($o.onTriggerEnter(Ao.value),Vo.current=!0)})),onPointerLeave:composeEventHandlers(Fn.onPointerLeave,whenMouse(()=>{fo||($o.onTriggerLeave(),Vo.current=!1)})),onClick:composeEventHandlers(Fn.onClick,()=>{$o.onItemSelect(Ao.value),Go.current=Jo}),onKeyDown:composeEventHandlers(Fn.onKeyDown,Qo=>{const Cl={horizontal:"ArrowDown",vertical:$o.dir==="rtl"?"ArrowLeft":"ArrowRight"}[$o.orientation];Jo&&Qo.key===Cl&&(Ao.onEntryKeyDown(),Qo.preventDefault())})})})}),Jo&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Root,{"aria-hidden":!0,tabIndex:0,ref:Ao.focusProxyRef,onFocus:Qo=>{const os=Ao.contentRef.current,Cl=Qo.relatedTarget,xl=Cl===Lo.current,ds=os==null?void 0:os.contains(Cl);(xl||!ds)&&Ao.onFocusProxyEnter(xl?"start":"end")}}),$o.viewport&&jsxRuntimeExports.jsx("span",{"aria-owns":zo})]})]})});NavigationMenuTrigger$1.displayName=TRIGGER_NAME;var LINK_NAME="NavigationMenuLink",LINK_SELECT="navigationMenu.linkSelect",NavigationMenuLink$1=reactExports.forwardRef((Fn,Mn)=>{const{__scopeNavigationMenu:io,active:fo,onSelect:mo,...$o}=Fn;return jsxRuntimeExports.jsx(FocusGroupItem,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive.a,{"data-active":fo?"":void 0,"aria-current":fo?"page":void 0,...$o,ref:Mn,onClick:composeEventHandlers(Fn.onClick,Ao=>{const Lo=Ao.target,Wo=new CustomEvent(LINK_SELECT,{bubbles:!0,cancelable:!0});if(Lo.addEventListener(LINK_SELECT,jo=>mo==null?void 0:mo(jo),{once:!0}),dispatchDiscreteCustomEvent(Lo,Wo),!Wo.defaultPrevented&&!Ao.metaKey){const jo=new CustomEvent(ROOT_CONTENT_DISMISS,{bubbles:!0,cancelable:!0});dispatchDiscreteCustomEvent(Lo,jo)}},{checkForDefaultPrevented:!1})})})});NavigationMenuLink$1.displayName=LINK_NAME;var INDICATOR_NAME="NavigationMenuIndicator",NavigationMenuIndicator$1=reactExports.forwardRef((Fn,Mn)=>{const{forceMount:io,...fo}=Fn,mo=useNavigationMenuContext(INDICATOR_NAME,Fn.__scopeNavigationMenu),$o=!!mo.value;return mo.indicatorTrack?ReactDOM.createPortal(jsxRuntimeExports.jsx(Presence,{present:io||$o,children:jsxRuntimeExports.jsx(NavigationMenuIndicatorImpl,{...fo,ref:Mn})}),mo.indicatorTrack):null});NavigationMenuIndicator$1.displayName=INDICATOR_NAME;var NavigationMenuIndicatorImpl=reactExports.forwardRef((Fn,Mn)=>{const{__scopeNavigationMenu:io,...fo}=Fn,mo=useNavigationMenuContext(INDICATOR_NAME,io),$o=useCollection(io),[Ao,Lo]=reactExports.useState(null),[Wo,jo]=reactExports.useState(null),zo=mo.orientation==="horizontal",Vo=!!mo.value;reactExports.useEffect(()=>{var os;const Qo=(os=$o().find(Cl=>Cl.value===mo.value))==null?void 0:os.ref.current;Qo&&Lo(Qo)},[$o,mo.value]);const Go=()=>{Ao&&jo({size:zo?Ao.offsetWidth:Ao.offsetHeight,offset:zo?Ao.offsetLeft:Ao.offsetTop})};return useResizeObserver(Ao,Go),useResizeObserver(mo.indicatorTrack,Go),Wo?jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,"data-state":Vo?"visible":"hidden","data-orientation":mo.orientation,...fo,ref:Mn,style:{position:"absolute",...zo?{left:0,width:Wo.size+"px",transform:`translateX(${Wo.offset}px)`}:{top:0,height:Wo.size+"px",transform:`translateY(${Wo.offset}px)`},...fo.style}}):null}),CONTENT_NAME="NavigationMenuContent",NavigationMenuContent$1=reactExports.forwardRef((Fn,Mn)=>{const{forceMount:io,...fo}=Fn,mo=useNavigationMenuContext(CONTENT_NAME,Fn.__scopeNavigationMenu),$o=useNavigationMenuItemContext(CONTENT_NAME,Fn.__scopeNavigationMenu),Ao=useComposedRefs($o.contentRef,Mn),Lo=$o.value===mo.value,Wo={value:$o.value,triggerRef:$o.triggerRef,focusProxyRef:$o.focusProxyRef,wasEscapeCloseRef:$o.wasEscapeCloseRef,onContentFocusOutside:$o.onContentFocusOutside,onRootContentClose:$o.onRootContentClose,...fo};return mo.viewport?jsxRuntimeExports.jsx(ViewportContentMounter,{forceMount:io,...Wo,ref:Ao}):jsxRuntimeExports.jsx(Presence,{present:io||Lo,children:jsxRuntimeExports.jsx(NavigationMenuContentImpl,{"data-state":getOpenState(Lo),...Wo,ref:Ao,onPointerEnter:composeEventHandlers(Fn.onPointerEnter,mo.onContentEnter),onPointerLeave:composeEventHandlers(Fn.onPointerLeave,whenMouse(mo.onContentLeave)),style:{pointerEvents:!Lo&&mo.isRootMenu?"none":void 0,...Wo.style}})})});NavigationMenuContent$1.displayName=CONTENT_NAME;var ViewportContentMounter=reactExports.forwardRef((Fn,Mn)=>{const io=useNavigationMenuContext(CONTENT_NAME,Fn.__scopeNavigationMenu),{onViewportContentChange:fo,onViewportContentRemove:mo}=io;return useLayoutEffect2(()=>{fo(Fn.value,{ref:Mn,...Fn})},[Fn,Mn,fo]),useLayoutEffect2(()=>()=>mo(Fn.value),[Fn.value,mo]),null}),ROOT_CONTENT_DISMISS="navigationMenu.rootContentDismiss",NavigationMenuContentImpl=reactExports.forwardRef((Fn,Mn)=>{const{__scopeNavigationMenu:io,value:fo,triggerRef:mo,focusProxyRef:$o,wasEscapeCloseRef:Ao,onRootContentClose:Lo,onContentFocusOutside:Wo,...jo}=Fn,zo=useNavigationMenuContext(CONTENT_NAME,io),Vo=reactExports.useRef(null),Go=useComposedRefs(Vo,Mn),Jo=makeTriggerId(zo.baseId,fo),Qo=makeContentId(zo.baseId,fo),os=useCollection(io),Cl=reactExports.useRef(null),{onItemDismiss:xl}=zo;reactExports.useEffect(()=>{const _c=Vo.current;if(zo.isRootMenu&&_c){const $l=()=>{var Al;xl(),Lo(),_c.contains(document.activeElement)&&((Al=mo.current)==null||Al.focus())};return _c.addEventListener(ROOT_CONTENT_DISMISS,$l),()=>_c.removeEventListener(ROOT_CONTENT_DISMISS,$l)}},[zo.isRootMenu,Fn.value,mo,xl,Lo]);const ds=reactExports.useMemo(()=>{const $l=os().map(Wl=>Wl.value);zo.dir==="rtl"&&$l.reverse();const Al=$l.indexOf(zo.value),Il=$l.indexOf(zo.previousValue),us=fo===zo.value,ps=Il===$l.indexOf(fo);if(!us&&!ps)return Cl.current;const Rl=(()=>{if(Al!==Il){if(us&&Il!==-1)return Al>Il?"from-end":"from-start";if(ps&&Al!==-1)return Al>Il?"to-start":"to-end"}return null})();return Cl.current=Rl,Rl},[zo.previousValue,zo.value,zo.dir,os,fo]);return jsxRuntimeExports.jsx(FocusGroup,{asChild:!0,children:jsxRuntimeExports.jsx(DismissableLayer,{id:Qo,"aria-labelledby":Jo,"data-motion":ds,"data-orientation":zo.orientation,...jo,ref:Go,disableOutsidePointerEvents:!1,onDismiss:()=>{var $l;const _c=new Event(ROOT_CONTENT_DISMISS,{bubbles:!0,cancelable:!0});($l=Vo.current)==null||$l.dispatchEvent(_c)},onFocusOutside:composeEventHandlers(Fn.onFocusOutside,_c=>{var Al;Wo();const $l=_c.target;(Al=zo.rootNavigationMenu)!=null&&Al.contains($l)&&_c.preventDefault()}),onPointerDownOutside:composeEventHandlers(Fn.onPointerDownOutside,_c=>{var us;const $l=_c.target,Al=os().some(ps=>{var Rl;return(Rl=ps.ref.current)==null?void 0:Rl.contains($l)}),Il=zo.isRootMenu&&((us=zo.viewport)==null?void 0:us.contains($l));(Al||Il||!zo.isRootMenu)&&_c.preventDefault()}),onKeyDown:composeEventHandlers(Fn.onKeyDown,_c=>{var Il;const $l=_c.altKey||_c.ctrlKey||_c.metaKey;if(_c.key==="Tab"&&!$l){const us=getTabbableCandidates(_c.currentTarget),ps=document.activeElement,Rl=us.findIndex(wl=>wl===ps),Nl=_c.shiftKey?us.slice(0,Rl).reverse():us.slice(Rl+1,us.length);focusFirst(Nl)?_c.preventDefault():(Il=$o.current)==null||Il.focus()}}),onEscapeKeyDown:composeEventHandlers(Fn.onEscapeKeyDown,_c=>{Ao.current=!0})})})}),VIEWPORT_NAME="NavigationMenuViewport",NavigationMenuViewport$1=reactExports.forwardRef((Fn,Mn)=>{const{forceMount:io,...fo}=Fn,$o=!!useNavigationMenuContext(VIEWPORT_NAME,Fn.__scopeNavigationMenu).value;return jsxRuntimeExports.jsx(Presence,{present:io||$o,children:jsxRuntimeExports.jsx(NavigationMenuViewportImpl,{...fo,ref:Mn})})});NavigationMenuViewport$1.displayName=VIEWPORT_NAME;var NavigationMenuViewportImpl=reactExports.forwardRef((Fn,Mn)=>{const{__scopeNavigationMenu:io,children:fo,...mo}=Fn,$o=useNavigationMenuContext(VIEWPORT_NAME,io),Ao=useComposedRefs(Mn,$o.onViewportChange),Lo=useViewportContentContext(CONTENT_NAME,Fn.__scopeNavigationMenu),[Wo,jo]=reactExports.useState(null),[zo,Vo]=reactExports.useState(null),Go=Wo?(Wo==null?void 0:Wo.width)+"px":void 0,Jo=Wo?(Wo==null?void 0:Wo.height)+"px":void 0,Qo=!!$o.value,os=Qo?$o.value:$o.previousValue;return useResizeObserver(zo,()=>{zo&&jo({width:zo.offsetWidth,height:zo.offsetHeight})}),jsxRuntimeExports.jsx(Primitive.div,{"data-state":getOpenState(Qo),"data-orientation":$o.orientation,...mo,ref:Ao,style:{pointerEvents:!Qo&&$o.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":Go,"--radix-navigation-menu-viewport-height":Jo,...mo.style},onPointerEnter:composeEventHandlers(Fn.onPointerEnter,$o.onContentEnter),onPointerLeave:composeEventHandlers(Fn.onPointerLeave,whenMouse($o.onContentLeave)),children:Array.from(Lo.items).map(([xl,{ref:ds,forceMount:_c,...$l}])=>{const Al=os===xl;return jsxRuntimeExports.jsx(Presence,{present:_c||Al,children:jsxRuntimeExports.jsx(NavigationMenuContentImpl,{...$l,ref:composeRefs(ds,Il=>{Al&&Il&&Vo(Il)})})},xl)})})}),FOCUS_GROUP_NAME="FocusGroup",FocusGroup=reactExports.forwardRef((Fn,Mn)=>{const{__scopeNavigationMenu:io,...fo}=Fn,mo=useNavigationMenuContext(FOCUS_GROUP_NAME,io);return jsxRuntimeExports.jsx(FocusGroupCollection.Provider,{scope:io,children:jsxRuntimeExports.jsx(FocusGroupCollection.Slot,{scope:io,children:jsxRuntimeExports.jsx(Primitive.div,{dir:mo.dir,...fo,ref:Mn})})})}),ARROW_KEYS=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],FOCUS_GROUP_ITEM_NAME="FocusGroupItem",FocusGroupItem=reactExports.forwardRef((Fn,Mn)=>{const{__scopeNavigationMenu:io,...fo}=Fn,mo=useFocusGroupCollection(io),$o=useNavigationMenuContext(FOCUS_GROUP_ITEM_NAME,io);return jsxRuntimeExports.jsx(FocusGroupCollection.ItemSlot,{scope:io,children:jsxRuntimeExports.jsx(Primitive.button,{...fo,ref:Mn,onKeyDown:composeEventHandlers(Fn.onKeyDown,Ao=>{if(["Home","End",...ARROW_KEYS].includes(Ao.key)){let Wo=mo().map(Vo=>Vo.ref.current);if([$o.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(Ao.key)&&Wo.reverse(),ARROW_KEYS.includes(Ao.key)){const Vo=Wo.indexOf(Ao.currentTarget);Wo=Wo.slice(Vo+1)}setTimeout(()=>focusFirst(Wo)),Ao.preventDefault()}})})})});function getTabbableCandidates(Fn){const Mn=[],io=document.createTreeWalker(Fn,NodeFilter.SHOW_ELEMENT,{acceptNode:fo=>{const mo=fo.tagName==="INPUT"&&fo.type==="hidden";return fo.disabled||fo.hidden||mo?NodeFilter.FILTER_SKIP:fo.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;io.nextNode();)Mn.push(io.currentNode);return Mn}function focusFirst(Fn){const Mn=document.activeElement;return Fn.some(io=>io===Mn?!0:(io.focus(),document.activeElement!==Mn))}function removeFromTabOrder(Fn){return Fn.forEach(Mn=>{Mn.dataset.tabindex=Mn.getAttribute("tabindex")||"",Mn.setAttribute("tabindex","-1")}),()=>{Fn.forEach(Mn=>{const io=Mn.dataset.tabindex;Mn.setAttribute("tabindex",io)})}}function useResizeObserver(Fn,Mn){const io=useCallbackRef(Mn);useLayoutEffect2(()=>{let fo=0;if(Fn){const mo=new ResizeObserver(()=>{cancelAnimationFrame(fo),fo=window.requestAnimationFrame(io)});return mo.observe(Fn),()=>{window.cancelAnimationFrame(fo),mo.unobserve(Fn)}}},[Fn,io])}function getOpenState(Fn){return Fn?"open":"closed"}function makeTriggerId(Fn,Mn){return`${Fn}-trigger-${Mn}`}function makeContentId(Fn,Mn){return`${Fn}-content-${Mn}`}function whenMouse(Fn){return Mn=>Mn.pointerType==="mouse"?Fn(Mn):void 0}var Root2=NavigationMenu$1,Sub=NavigationMenuSub$1,List=NavigationMenuList$1,Item=NavigationMenuItem$1,Trigger=NavigationMenuTrigger$1,Link$1=NavigationMenuLink$1,Indicator=NavigationMenuIndicator$1,Content=NavigationMenuContent$1,Viewport=NavigationMenuViewport$1;function r$1(Fn){var Mn,io,fo="";if(typeof Fn=="string"||typeof Fn=="number")fo+=Fn;else if(typeof Fn=="object")if(Array.isArray(Fn))for(Mn=0;Mn<Fn.length;Mn++)Fn[Mn]&&(io=r$1(Fn[Mn]))&&(fo&&(fo+=" "),fo+=io);else for(Mn in Fn)Fn[Mn]&&(fo&&(fo+=" "),fo+=Mn);return fo}function clsx$1(){for(var Fn,Mn,io=0,fo="";io<arguments.length;)(Fn=arguments[io++])&&(Mn=r$1(Fn))&&(fo&&(fo+=" "),fo+=Mn);return fo}const falsyToString=Fn=>typeof Fn=="boolean"?"".concat(Fn):Fn===0?"0":Fn,cx=clsx$1,cva=(Fn,Mn)=>io=>{var fo;if((Mn==null?void 0:Mn.variants)==null)return cx(Fn,io==null?void 0:io.class,io==null?void 0:io.className);const{variants:mo,defaultVariants:$o}=Mn,Ao=Object.keys(mo).map(jo=>{const zo=io==null?void 0:io[jo],Vo=$o==null?void 0:$o[jo];if(zo===null)return null;const Go=falsyToString(zo)||falsyToString(Vo);return mo[jo][Go]}),Lo=io&&Object.entries(io).reduce((jo,zo)=>{let[Vo,Go]=zo;return Go===void 0||(jo[Vo]=Go),jo},{}),Wo=Mn==null||(fo=Mn.compoundVariants)===null||fo===void 0?void 0:fo.reduce((jo,zo)=>{let{class:Vo,className:Go,...Jo}=zo;return Object.entries(Jo).every(Qo=>{let[os,Cl]=Qo;return Array.isArray(Cl)?Cl.includes({...$o,...Lo}[os]):{...$o,...Lo}[os]===Cl})?[...jo,Vo,Go]:jo},[]);return cx(Fn,Ao,Wo,io==null?void 0:io.class,io==null?void 0:io.className)};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=Fn=>Fn.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...Fn)=>Fn.filter((Mn,io,fo)=>!!Mn&&Mn.trim()!==""&&fo.indexOf(Mn)===io).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:Fn="currentColor",size:Mn=24,strokeWidth:io=2,absoluteStrokeWidth:fo,className:mo="",children:$o,iconNode:Ao,...Lo},Wo)=>reactExports.createElement("svg",{ref:Wo,...defaultAttributes,width:Mn,height:Mn,stroke:Fn,strokeWidth:fo?Number(io)*24/Number(Mn):io,className:mergeClasses("lucide",mo),...Lo},[...Ao.map(([jo,zo])=>reactExports.createElement(jo,zo)),...Array.isArray($o)?$o:[$o]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(Fn,Mn)=>{const io=reactExports.forwardRef(({className:fo,...mo},$o)=>reactExports.createElement(Icon,{ref:$o,iconNode:Mn,className:mergeClasses(`lucide-${toKebabCase(Fn)}`,fo),...mo}));return io.displayName=`${Fn}`,io};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BookOpen=createLucideIcon("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Github=createLucideIcon("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const House=createLucideIcon("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function r(Fn){var Mn,io,fo="";if(typeof Fn=="string"||typeof Fn=="number")fo+=Fn;else if(typeof Fn=="object")if(Array.isArray(Fn)){var mo=Fn.length;for(Mn=0;Mn<mo;Mn++)Fn[Mn]&&(io=r(Fn[Mn]))&&(fo&&(fo+=" "),fo+=io)}else for(io in Fn)Fn[io]&&(fo&&(fo+=" "),fo+=io);return fo}function clsx(){for(var Fn,Mn,io=0,fo="",mo=arguments.length;io<mo;io++)(Fn=arguments[io])&&(Mn=r(Fn))&&(fo&&(fo+=" "),fo+=Mn);return fo}const CLASS_PART_SEPARATOR="-",createClassGroupUtils=Fn=>{const Mn=createClassMap(Fn),{conflictingClassGroups:io,conflictingClassGroupModifiers:fo}=Fn;return{getClassGroupId:Ao=>{const Lo=Ao.split(CLASS_PART_SEPARATOR);return Lo[0]===""&&Lo.length!==1&&Lo.shift(),getGroupRecursive(Lo,Mn)||getGroupIdForArbitraryProperty(Ao)},getConflictingClassGroupIds:(Ao,Lo)=>{const Wo=io[Ao]||[];return Lo&&fo[Ao]?[...Wo,...fo[Ao]]:Wo}}},getGroupRecursive=(Fn,Mn)=>{var Ao;if(Fn.length===0)return Mn.classGroupId;const io=Fn[0],fo=Mn.nextPart.get(io),mo=fo?getGroupRecursive(Fn.slice(1),fo):void 0;if(mo)return mo;if(Mn.validators.length===0)return;const $o=Fn.join(CLASS_PART_SEPARATOR);return(Ao=Mn.validators.find(({validator:Lo})=>Lo($o)))==null?void 0:Ao.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=Fn=>{if(arbitraryPropertyRegex.test(Fn)){const Mn=arbitraryPropertyRegex.exec(Fn)[1],io=Mn==null?void 0:Mn.substring(0,Mn.indexOf(":"));if(io)return"arbitrary.."+io}},createClassMap=Fn=>{const{theme:Mn,prefix:io}=Fn,fo={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(Fn.classGroups),io).forEach(([$o,Ao])=>{processClassesRecursively(Ao,fo,$o,Mn)}),fo},processClassesRecursively=(Fn,Mn,io,fo)=>{Fn.forEach(mo=>{if(typeof mo=="string"){const $o=mo===""?Mn:getPart(Mn,mo);$o.classGroupId=io;return}if(typeof mo=="function"){if(isThemeGetter(mo)){processClassesRecursively(mo(fo),Mn,io,fo);return}Mn.validators.push({validator:mo,classGroupId:io});return}Object.entries(mo).forEach(([$o,Ao])=>{processClassesRecursively(Ao,getPart(Mn,$o),io,fo)})})},getPart=(Fn,Mn)=>{let io=Fn;return Mn.split(CLASS_PART_SEPARATOR).forEach(fo=>{io.nextPart.has(fo)||io.nextPart.set(fo,{nextPart:new Map,validators:[]}),io=io.nextPart.get(fo)}),io},isThemeGetter=Fn=>Fn.isThemeGetter,getPrefixedClassGroupEntries=(Fn,Mn)=>Mn?Fn.map(([io,fo])=>{const mo=fo.map($o=>typeof $o=="string"?Mn+$o:typeof $o=="object"?Object.fromEntries(Object.entries($o).map(([Ao,Lo])=>[Mn+Ao,Lo])):$o);return[io,mo]}):Fn,createLruCache=Fn=>{if(Fn<1)return{get:()=>{},set:()=>{}};let Mn=0,io=new Map,fo=new Map;const mo=($o,Ao)=>{io.set($o,Ao),Mn++,Mn>Fn&&(Mn=0,fo=io,io=new Map)};return{get($o){let Ao=io.get($o);if(Ao!==void 0)return Ao;if((Ao=fo.get($o))!==void 0)return mo($o,Ao),Ao},set($o,Ao){io.has($o)?io.set($o,Ao):mo($o,Ao)}}},IMPORTANT_MODIFIER="!",createParseClassName=Fn=>{const{separator:Mn,experimentalParseClassName:io}=Fn,fo=Mn.length===1,mo=Mn[0],$o=Mn.length,Ao=Lo=>{const Wo=[];let jo=0,zo=0,Vo;for(let Cl=0;Cl<Lo.length;Cl++){let xl=Lo[Cl];if(jo===0){if(xl===mo&&(fo||Lo.slice(Cl,Cl+$o)===Mn)){Wo.push(Lo.slice(zo,Cl)),zo=Cl+$o;continue}if(xl==="/"){Vo=Cl;continue}}xl==="["?jo++:xl==="]"&&jo--}const Go=Wo.length===0?Lo:Lo.substring(zo),Jo=Go.startsWith(IMPORTANT_MODIFIER),Qo=Jo?Go.substring(1):Go,os=Vo&&Vo>zo?Vo-zo:void 0;return{modifiers:Wo,hasImportantModifier:Jo,baseClassName:Qo,maybePostfixModifierPosition:os}};return io?Lo=>io({className:Lo,parseClassName:Ao}):Ao},sortModifiers=Fn=>{if(Fn.length<=1)return Fn;const Mn=[];let io=[];return Fn.forEach(fo=>{fo[0]==="["?(Mn.push(...io.sort(),fo),io=[]):io.push(fo)}),Mn.push(...io.sort()),Mn},createConfigUtils=Fn=>({cache:createLruCache(Fn.cacheSize),parseClassName:createParseClassName(Fn),...createClassGroupUtils(Fn)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(Fn,Mn)=>{const{parseClassName:io,getClassGroupId:fo,getConflictingClassGroupIds:mo}=Mn,$o=[],Ao=Fn.trim().split(SPLIT_CLASSES_REGEX);let Lo="";for(let Wo=Ao.length-1;Wo>=0;Wo-=1){const jo=Ao[Wo],{modifiers:zo,hasImportantModifier:Vo,baseClassName:Go,maybePostfixModifierPosition:Jo}=io(jo);let Qo=!!Jo,os=fo(Qo?Go.substring(0,Jo):Go);if(!os){if(!Qo){Lo=jo+(Lo.length>0?" "+Lo:Lo);continue}if(os=fo(Go),!os){Lo=jo+(Lo.length>0?" "+Lo:Lo);continue}Qo=!1}const Cl=sortModifiers(zo).join(":"),xl=Vo?Cl+IMPORTANT_MODIFIER:Cl,ds=xl+os;if($o.includes(ds))continue;$o.push(ds);const _c=mo(os,Qo);for(let $l=0;$l<_c.length;++$l){const Al=_c[$l];$o.push(xl+Al)}Lo=jo+(Lo.length>0?" "+Lo:Lo)}return Lo};function twJoin(){let Fn=0,Mn,io,fo="";for(;Fn<arguments.length;)(Mn=arguments[Fn++])&&(io=toValue(Mn))&&(fo&&(fo+=" "),fo+=io);return fo}const toValue=Fn=>{if(typeof Fn=="string")return Fn;let Mn,io="";for(let fo=0;fo<Fn.length;fo++)Fn[fo]&&(Mn=toValue(Fn[fo]))&&(io&&(io+=" "),io+=Mn);return io};function createTailwindMerge(Fn,...Mn){let io,fo,mo,$o=Ao;function Ao(Wo){const jo=Mn.reduce((zo,Vo)=>Vo(zo),Fn());return io=createConfigUtils(jo),fo=io.cache.get,mo=io.cache.set,$o=Lo,Lo(Wo)}function Lo(Wo){const jo=fo(Wo);if(jo)return jo;const zo=mergeClassList(Wo,io);return mo(Wo,zo),zo}return function(){return $o(twJoin.apply(null,arguments))}}const fromTheme=Fn=>{const Mn=io=>io[Fn]||[];return Mn.isThemeGetter=!0,Mn},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=Fn=>isNumber(Fn)||stringLengths.has(Fn)||fractionRegex.test(Fn),isArbitraryLength=Fn=>getIsArbitraryValue(Fn,"length",isLengthOnly),isNumber=Fn=>!!Fn&&!Number.isNaN(Number(Fn)),isArbitraryNumber=Fn=>getIsArbitraryValue(Fn,"number",isNumber),isInteger=Fn=>!!Fn&&Number.isInteger(Number(Fn)),isPercent=Fn=>Fn.endsWith("%")&&isNumber(Fn.slice(0,-1)),isArbitraryValue=Fn=>arbitraryValueRegex.test(Fn),isTshirtSize=Fn=>tshirtUnitRegex.test(Fn),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=Fn=>getIsArbitraryValue(Fn,sizeLabels,isNever),isArbitraryPosition=Fn=>getIsArbitraryValue(Fn,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=Fn=>getIsArbitraryValue(Fn,imageLabels,isImage),isArbitraryShadow=Fn=>getIsArbitraryValue(Fn,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(Fn,Mn,io)=>{const fo=arbitraryValueRegex.exec(Fn);return fo?fo[1]?typeof Mn=="string"?fo[1]===Mn:Mn.has(fo[1]):io(fo[2]):!1},isLengthOnly=Fn=>lengthUnitRegex.test(Fn)&&!colorFunctionRegex.test(Fn),isNever=()=>!1,isShadow=Fn=>shadowRegex.test(Fn),isImage=Fn=>imageRegex.test(Fn),getDefaultConfig=()=>{const Fn=fromTheme("colors"),Mn=fromTheme("spacing"),io=fromTheme("blur"),fo=fromTheme("brightness"),mo=fromTheme("borderColor"),$o=fromTheme("borderRadius"),Ao=fromTheme("borderSpacing"),Lo=fromTheme("borderWidth"),Wo=fromTheme("contrast"),jo=fromTheme("grayscale"),zo=fromTheme("hueRotate"),Vo=fromTheme("invert"),Go=fromTheme("gap"),Jo=fromTheme("gradientColorStops"),Qo=fromTheme("gradientColorStopPositions"),os=fromTheme("inset"),Cl=fromTheme("margin"),xl=fromTheme("opacity"),ds=fromTheme("padding"),_c=fromTheme("saturate"),$l=fromTheme("scale"),Al=fromTheme("sepia"),Il=fromTheme("skew"),us=fromTheme("space"),ps=fromTheme("translate"),Rl=()=>["auto","contain","none"],Wl=()=>["auto","hidden","clip","visible","scroll"],Nl=()=>["auto",isArbitraryValue,Mn],wl=()=>[isArbitraryValue,Mn],Xo=()=>["",isLength,isArbitraryLength],rs=()=>["auto",isNumber,isArbitraryValue],as=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],El=()=>["solid","dashed","dotted","double","none"],Pl=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Sl=()=>["start","end","center","between","around","evenly","stretch"],Tl=()=>["","0",isArbitraryValue],hs=()=>["auto","avoid","all","avoid-page","page","left","right","column"],yl=()=>[isNumber,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:yl(),borderColor:[Fn],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:wl(),borderWidth:Xo(),contrast:yl(),grayscale:Tl(),hueRotate:yl(),invert:Tl(),gap:wl(),gradientColorStops:[Fn],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:Nl(),margin:Nl(),opacity:yl(),padding:wl(),saturate:yl(),scale:yl(),sepia:Tl(),skew:yl(),space:wl(),translate:wl()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":hs()}],"break-before":[{"break-before":hs()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...as(),isArbitraryValue]}],overflow:[{overflow:Wl()}],"overflow-x":[{"overflow-x":Wl()}],"overflow-y":[{"overflow-y":Wl()}],overscroll:[{overscroll:Rl()}],"overscroll-x":[{"overscroll-x":Rl()}],"overscroll-y":[{"overscroll-y":Rl()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[os]}],"inset-x":[{"inset-x":[os]}],"inset-y":[{"inset-y":[os]}],start:[{start:[os]}],end:[{end:[os]}],top:[{top:[os]}],right:[{right:[os]}],bottom:[{bottom:[os]}],left:[{left:[os]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:Nl()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:Tl()}],shrink:[{shrink:Tl()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":rs()}],"col-end":[{"col-end":rs()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":rs()}],"row-end":[{"row-end":rs()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[Go]}],"gap-x":[{"gap-x":[Go]}],"gap-y":[{"gap-y":[Go]}],"justify-content":[{justify:["normal",...Sl()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Sl(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Sl(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[ds]}],px:[{px:[ds]}],py:[{py:[ds]}],ps:[{ps:[ds]}],pe:[{pe:[ds]}],pt:[{pt:[ds]}],pr:[{pr:[ds]}],pb:[{pb:[ds]}],pl:[{pl:[ds]}],m:[{m:[Cl]}],mx:[{mx:[Cl]}],my:[{my:[Cl]}],ms:[{ms:[Cl]}],me:[{me:[Cl]}],mt:[{mt:[Cl]}],mr:[{mr:[Cl]}],mb:[{mb:[Cl]}],ml:[{ml:[Cl]}],"space-x":[{"space-x":[us]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[us]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,Mn]}],"min-w":[{"min-w":[isArbitraryValue,Mn,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,Mn,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,Mn,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,Mn,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,Mn,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,Mn,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[Fn]}],"placeholder-opacity":[{"placeholder-opacity":[xl]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[Fn]}],"text-opacity":[{"text-opacity":[xl]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...El(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[Fn]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:wl()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[xl]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...as(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[Fn]}],"gradient-from-pos":[{from:[Qo]}],"gradient-via-pos":[{via:[Qo]}],"gradient-to-pos":[{to:[Qo]}],"gradient-from":[{from:[Jo]}],"gradient-via":[{via:[Jo]}],"gradient-to":[{to:[Jo]}],rounded:[{rounded:[$o]}],"rounded-s":[{"rounded-s":[$o]}],"rounded-e":[{"rounded-e":[$o]}],"rounded-t":[{"rounded-t":[$o]}],"rounded-r":[{"rounded-r":[$o]}],"rounded-b":[{"rounded-b":[$o]}],"rounded-l":[{"rounded-l":[$o]}],"rounded-ss":[{"rounded-ss":[$o]}],"rounded-se":[{"rounded-se":[$o]}],"rounded-ee":[{"rounded-ee":[$o]}],"rounded-es":[{"rounded-es":[$o]}],"rounded-tl":[{"rounded-tl":[$o]}],"rounded-tr":[{"rounded-tr":[$o]}],"rounded-br":[{"rounded-br":[$o]}],"rounded-bl":[{"rounded-bl":[$o]}],"border-w":[{border:[Lo]}],"border-w-x":[{"border-x":[Lo]}],"border-w-y":[{"border-y":[Lo]}],"border-w-s":[{"border-s":[Lo]}],"border-w-e":[{"border-e":[Lo]}],"border-w-t":[{"border-t":[Lo]}],"border-w-r":[{"border-r":[Lo]}],"border-w-b":[{"border-b":[Lo]}],"border-w-l":[{"border-l":[Lo]}],"border-opacity":[{"border-opacity":[xl]}],"border-style":[{border:[...El(),"hidden"]}],"divide-x":[{"divide-x":[Lo]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[Lo]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[xl]}],"divide-style":[{divide:El()}],"border-color":[{border:[mo]}],"border-color-x":[{"border-x":[mo]}],"border-color-y":[{"border-y":[mo]}],"border-color-s":[{"border-s":[mo]}],"border-color-e":[{"border-e":[mo]}],"border-color-t":[{"border-t":[mo]}],"border-color-r":[{"border-r":[mo]}],"border-color-b":[{"border-b":[mo]}],"border-color-l":[{"border-l":[mo]}],"divide-color":[{divide:[mo]}],"outline-style":[{outline:["",...El()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[Fn]}],"ring-w":[{ring:Xo()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[Fn]}],"ring-opacity":[{"ring-opacity":[xl]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[Fn]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[xl]}],"mix-blend":[{"mix-blend":[...Pl(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Pl()}],filter:[{filter:["","none"]}],blur:[{blur:[io]}],brightness:[{brightness:[fo]}],contrast:[{contrast:[Wo]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[jo]}],"hue-rotate":[{"hue-rotate":[zo]}],invert:[{invert:[Vo]}],saturate:[{saturate:[_c]}],sepia:[{sepia:[Al]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[io]}],"backdrop-brightness":[{"backdrop-brightness":[fo]}],"backdrop-contrast":[{"backdrop-contrast":[Wo]}],"backdrop-grayscale":[{"backdrop-grayscale":[jo]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[zo]}],"backdrop-invert":[{"backdrop-invert":[Vo]}],"backdrop-opacity":[{"backdrop-opacity":[xl]}],"backdrop-saturate":[{"backdrop-saturate":[_c]}],"backdrop-sepia":[{"backdrop-sepia":[Al]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[Ao]}],"border-spacing-x":[{"border-spacing-x":[Ao]}],"border-spacing-y":[{"border-spacing-y":[Ao]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:yl()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:yl()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[$l]}],"scale-x":[{"scale-x":[$l]}],"scale-y":[{"scale-y":[$l]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[ps]}],"translate-y":[{"translate-y":[ps]}],"skew-x":[{"skew-x":[Il]}],"skew-y":[{"skew-y":[Il]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",Fn]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[Fn]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":wl()}],"scroll-mx":[{"scroll-mx":wl()}],"scroll-my":[{"scroll-my":wl()}],"scroll-ms":[{"scroll-ms":wl()}],"scroll-me":[{"scroll-me":wl()}],"scroll-mt":[{"scroll-mt":wl()}],"scroll-mr":[{"scroll-mr":wl()}],"scroll-mb":[{"scroll-mb":wl()}],"scroll-ml":[{"scroll-ml":wl()}],"scroll-p":[{"scroll-p":wl()}],"scroll-px":[{"scroll-px":wl()}],"scroll-py":[{"scroll-py":wl()}],"scroll-ps":[{"scroll-ps":wl()}],"scroll-pe":[{"scroll-pe":wl()}],"scroll-pt":[{"scroll-pt":wl()}],"scroll-pr":[{"scroll-pr":wl()}],"scroll-pb":[{"scroll-pb":wl()}],"scroll-pl":[{"scroll-pl":wl()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[Fn,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[Fn,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig),typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is(Fn){if(Fn===null)return"null";if(Fn===void 0)return"undefined";if(Fn===!0||Fn===!1)return"boolean";const Mn=typeof Fn;if(typeofs.includes(Mn))return Mn;if(Mn==="function")return"Function";if(Array.isArray(Fn))return"Array";if(isBuffer$1(Fn))return"Buffer";const io=getObjectType(Fn);return io||"Object"}function isBuffer$1(Fn){return Fn&&Fn.constructor&&Fn.constructor.isBuffer&&Fn.constructor.isBuffer.call(null,Fn)}function getObjectType(Fn){const Mn=Object.prototype.toString.call(Fn).slice(8,-1);if(objectTypeNames.includes(Mn))return Mn}class Type{constructor(Mn,io,fo){this.major=Mn,this.majorEncoded=Mn<<5,this.name=io,this.terminal=fo}toString(){return`Type[${this.major}].${this.name}`}compare(Mn){return this.major<Mn.major?-1:this.major>Mn.major?1:0}}Type.uint=new Type(0,"uint",!0);Type.negint=new Type(1,"negint",!0);Type.bytes=new Type(2,"bytes",!0);Type.string=new Type(3,"string",!0);Type.array=new Type(4,"array",!1);Type.map=new Type(5,"map",!1);Type.tag=new Type(6,"tag",!1);Type.float=new Type(7,"float",!0);Type.false=new Type(7,"false",!0);Type.true=new Type(7,"true",!0);Type.null=new Type(7,"null",!0);Type.undefined=new Type(7,"undefined",!0);Type.break=new Type(7,"break",!0);class Token{constructor(Mn,io,fo){this.type=Mn,this.value=io,this.encodedLength=fo,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder$1=new TextDecoder,textEncoder$2=new TextEncoder;function isBuffer(Fn){return useBuffer&&globalThis.Buffer.isBuffer(Fn)}function asU8A(Fn){return Fn instanceof Uint8Array?isBuffer(Fn)?new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength):Fn:Uint8Array.from(Fn)}const toString$3=useBuffer?(Fn,Mn,io)=>io-Mn>64?globalThis.Buffer.from(Fn.subarray(Mn,io)).toString("utf8"):utf8Slice(Fn,Mn,io):(Fn,Mn,io)=>io-Mn>64?textDecoder$1.decode(Fn.subarray(Mn,io)):utf8Slice(Fn,Mn,io),fromString$2=useBuffer?Fn=>Fn.length>64?globalThis.Buffer.from(Fn):utf8ToBytes(Fn):Fn=>Fn.length>64?textEncoder$2.encode(Fn):utf8ToBytes(Fn),fromArray=Fn=>Uint8Array.from(Fn),slice$1=useBuffer?(Fn,Mn,io)=>isBuffer(Fn)?new Uint8Array(Fn.subarray(Mn,io)):Fn.slice(Mn,io):(Fn,Mn,io)=>Fn.slice(Mn,io),concat$1=useBuffer?(Fn,Mn)=>(Fn=Fn.map(io=>io instanceof Uint8Array?io:globalThis.Buffer.from(io)),asU8A(globalThis.Buffer.concat(Fn,Mn))):(Fn,Mn)=>{const io=new Uint8Array(Mn);let fo=0;for(let mo of Fn)fo+mo.length>io.length&&(mo=mo.subarray(0,io.length-fo)),io.set(mo,fo),fo+=mo.length;return io},alloc$1=useBuffer?Fn=>globalThis.Buffer.allocUnsafe(Fn):Fn=>new Uint8Array(Fn);function compare$1(Fn,Mn){if(isBuffer(Fn)&&isBuffer(Mn))return Fn.compare(Mn);for(let io=0;io<Fn.length;io++)if(Fn[io]!==Mn[io])return Fn[io]<Mn[io]?-1:1;return 0}function utf8ToBytes(Fn){const Mn=[];let io=0;for(let fo=0;fo<Fn.length;fo++){let mo=Fn.charCodeAt(fo);mo<128?Mn[io++]=mo:mo<2048?(Mn[io++]=mo>>6|192,Mn[io++]=mo&63|128):(mo&64512)===55296&&fo+1<Fn.length&&(Fn.charCodeAt(fo+1)&64512)===56320?(mo=65536+((mo&1023)<<10)+(Fn.charCodeAt(++fo)&1023),Mn[io++]=mo>>18|240,Mn[io++]=mo>>12&63|128,Mn[io++]=mo>>6&63|128,Mn[io++]=mo&63|128):(Mn[io++]=mo>>12|224,Mn[io++]=mo>>6&63|128,Mn[io++]=mo&63|128)}return Mn}function utf8Slice(Fn,Mn,io){const fo=[];for(;Mn<io;){const mo=Fn[Mn];let $o=null,Ao=mo>239?4:mo>223?3:mo>191?2:1;if(Mn+Ao<=io){let Lo,Wo,jo,zo;switch(Ao){case 1:mo<128&&($o=mo);break;case 2:Lo=Fn[Mn+1],(Lo&192)===128&&(zo=(mo&31)<<6|Lo&63,zo>127&&($o=zo));break;case 3:Lo=Fn[Mn+1],Wo=Fn[Mn+2],(Lo&192)===128&&(Wo&192)===128&&(zo=(mo&15)<<12|(Lo&63)<<6|Wo&63,zo>2047&&(zo<55296||zo>57343)&&($o=zo));break;case 4:Lo=Fn[Mn+1],Wo=Fn[Mn+2],jo=Fn[Mn+3],(Lo&192)===128&&(Wo&192)===128&&(jo&192)===128&&(zo=(mo&15)<<18|(Lo&63)<<12|(Wo&63)<<6|jo&63,zo>65535&&zo<1114112&&($o=zo))}}$o===null?($o=65533,Ao=1):$o>65535&&($o-=65536,fo.push($o>>>10&1023|55296),$o=56320|$o&1023),fo.push($o),Mn+=Ao}return decodeCodePointsArray(fo)}const MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(Fn){const Mn=Fn.length;if(Mn<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,Fn);let io="",fo=0;for(;fo<Mn;)io+=String.fromCharCode.apply(String,Fn.slice(fo,fo+=MAX_ARGUMENTS_LENGTH));return io}const defaultChunkSize=256;class Bl{constructor(Mn=defaultChunkSize){this.chunkSize=Mn,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(Mn){let io=this.chunks[this.chunks.length-1];if(this.cursor+Mn.length<=this.maxCursor+1){const mo=io.length-(this.maxCursor-this.cursor)-1;io.set(Mn,mo)}else{if(io){const mo=io.length-(this.maxCursor-this.cursor)-1;mo<io.length&&(this.chunks[this.chunks.length-1]=io.subarray(0,mo),this.maxCursor=this.cursor-1)}Mn.length<64&&Mn.length<this.chunkSize?(io=alloc$1(this.chunkSize),this.chunks.push(io),this.maxCursor+=io.length,this._initReuseChunk===null&&(this._initReuseChunk=io),io.set(Mn,0)):(this.chunks.push(Mn),this.maxCursor+=Mn.length)}this.cursor+=Mn.length}toBytes(Mn=!1){let io;if(this.chunks.length===1){const fo=this.chunks[0];Mn&&this.cursor>fo.length/2?(io=this.cursor===fo.length?fo:fo.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):io=slice$1(fo,0,this.cursor)}else io=concat$1(this.chunks,this.cursor);return Mn&&this.reset(),io}}const decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:";function assertEnoughData(Fn,Mn,io){if(Fn.length-Mn<io)throw new Error(`${decodeErrPrefix} not enough data for type`)}const uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8(Fn,Mn,io){assertEnoughData(Fn,Mn,1);const fo=Fn[Mn];if(io.strict===!0&&fo<uintBoundaries[0])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return fo}function readUint16(Fn,Mn,io){assertEnoughData(Fn,Mn,2);const fo=Fn[Mn]<<8|Fn[Mn+1];if(io.strict===!0&&fo<uintBoundaries[1])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return fo}function readUint32(Fn,Mn,io){assertEnoughData(Fn,Mn,4);const fo=Fn[Mn]*16777216+(Fn[Mn+1]<<16)+(Fn[Mn+2]<<8)+Fn[Mn+3];if(io.strict===!0&&fo<uintBoundaries[2])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return fo}function readUint64(Fn,Mn,io){assertEnoughData(Fn,Mn,8);const fo=Fn[Mn]*16777216+(Fn[Mn+1]<<16)+(Fn[Mn+2]<<8)+Fn[Mn+3],mo=Fn[Mn+4]*16777216+(Fn[Mn+5]<<16)+(Fn[Mn+6]<<8)+Fn[Mn+7],$o=(BigInt(fo)<<BigInt(32))+BigInt(mo);if(io.strict===!0&&$o<uintBoundaries[3])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);if($o<=Number.MAX_SAFE_INTEGER)return Number($o);if(io.allowBigInt===!0)return $o;throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`)}function decodeUint8(Fn,Mn,io,fo){return new Token(Type.uint,readUint8(Fn,Mn+1,fo),2)}function decodeUint16(Fn,Mn,io,fo){return new Token(Type.uint,readUint16(Fn,Mn+1,fo),3)}function decodeUint32(Fn,Mn,io,fo){return new Token(Type.uint,readUint32(Fn,Mn+1,fo),5)}function decodeUint64(Fn,Mn,io,fo){return new Token(Type.uint,readUint64(Fn,Mn+1,fo),9)}function encodeUint(Fn,Mn){return encodeUintValue(Fn,0,Mn.value)}function encodeUintValue(Fn,Mn,io){if(io<uintBoundaries[0]){const fo=Number(io);Fn.push([Mn|fo])}else if(io<uintBoundaries[1]){const fo=Number(io);Fn.push([Mn|24,fo])}else if(io<uintBoundaries[2]){const fo=Number(io);Fn.push([Mn|25,fo>>>8,fo&255])}else if(io<uintBoundaries[3]){const fo=Number(io);Fn.push([Mn|26,fo>>>24&255,fo>>>16&255,fo>>>8&255,fo&255])}else{const fo=BigInt(io);if(fo<uintBoundaries[4]){const mo=[Mn|27,0,0,0,0,0,0,0];let $o=Number(fo&BigInt(4294967295)),Ao=Number(fo>>BigInt(32)&BigInt(4294967295));mo[8]=$o&255,$o=$o>>8,mo[7]=$o&255,$o=$o>>8,mo[6]=$o&255,$o=$o>>8,mo[5]=$o&255,mo[4]=Ao&255,Ao=Ao>>8,mo[3]=Ao&255,Ao=Ao>>8,mo[2]=Ao&255,Ao=Ao>>8,mo[1]=Ao&255,Fn.push(mo)}else throw new Error(`${decodeErrPrefix} encountered BigInt larger than allowable range`)}}encodeUint.encodedSize=function(Mn){return encodeUintValue.encodedSize(Mn.value)};encodeUintValue.encodedSize=function(Mn){return Mn<uintBoundaries[0]?1:Mn<uintBoundaries[1]?2:Mn<uintBoundaries[2]?3:Mn<uintBoundaries[3]?5:9};encodeUint.compareTokens=function(Mn,io){return Mn.value<io.value?-1:Mn.value>io.value?1:0};function decodeNegint8(Fn,Mn,io,fo){return new Token(Type.negint,-1-readUint8(Fn,Mn+1,fo),2)}function decodeNegint16(Fn,Mn,io,fo){return new Token(Type.negint,-1-readUint16(Fn,Mn+1,fo),3)}function decodeNegint32(Fn,Mn,io,fo){return new Token(Type.negint,-1-readUint32(Fn,Mn+1,fo),5)}const neg1b=BigInt(-1),pos1b=BigInt(1);function decodeNegint64(Fn,Mn,io,fo){const mo=readUint64(Fn,Mn+1,fo);if(typeof mo!="bigint"){const $o=-1-mo;if($o>=Number.MIN_SAFE_INTEGER)return new Token(Type.negint,$o,9)}if(fo.allowBigInt!==!0)throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`);return new Token(Type.negint,neg1b-BigInt(mo),9)}function encodeNegint(Fn,Mn){const io=Mn.value,fo=typeof io=="bigint"?io*neg1b-pos1b:io*-1-1;encodeUintValue(Fn,Mn.type.majorEncoded,fo)}encodeNegint.encodedSize=function(Mn){const io=Mn.value,fo=typeof io=="bigint"?io*neg1b-pos1b:io*-1-1;return fo<uintBoundaries[0]?1:fo<uintBoundaries[1]?2:fo<uintBoundaries[2]?3:fo<uintBoundaries[3]?5:9};encodeNegint.compareTokens=function(Mn,io){return Mn.value<io.value?1:Mn.value>io.value?-1:0};function toToken$3(Fn,Mn,io,fo){assertEnoughData(Fn,Mn,io+fo);const mo=slice$1(Fn,Mn+io,Mn+io+fo);return new Token(Type.bytes,mo,io+fo)}function decodeBytesCompact(Fn,Mn,io,fo){return toToken$3(Fn,Mn,1,io)}function decodeBytes8(Fn,Mn,io,fo){return toToken$3(Fn,Mn,2,readUint8(Fn,Mn+1,fo))}function decodeBytes16(Fn,Mn,io,fo){return toToken$3(Fn,Mn,3,readUint16(Fn,Mn+1,fo))}function decodeBytes32(Fn,Mn,io,fo){return toToken$3(Fn,Mn,5,readUint32(Fn,Mn+1,fo))}function decodeBytes64(Fn,Mn,io,fo){const mo=readUint64(Fn,Mn+1,fo);if(typeof mo=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer bytes lengths not supported`);return toToken$3(Fn,Mn,9,mo)}function tokenBytes(Fn){return Fn.encodedBytes===void 0&&(Fn.encodedBytes=Fn.type===Type.string?fromString$2(Fn.value):Fn.value),Fn.encodedBytes}function encodeBytes(Fn,Mn){const io=tokenBytes(Mn);encodeUintValue(Fn,Mn.type.majorEncoded,io.length),Fn.push(io)}encodeBytes.encodedSize=function(Mn){const io=tokenBytes(Mn);return encodeUintValue.encodedSize(io.length)+io.length};encodeBytes.compareTokens=function(Mn,io){return compareBytes(tokenBytes(Mn),tokenBytes(io))};function compareBytes(Fn,Mn){return Fn.length<Mn.length?-1:Fn.length>Mn.length?1:compare$1(Fn,Mn)}function toToken$2(Fn,Mn,io,fo,mo){const $o=io+fo;assertEnoughData(Fn,Mn,$o);const Ao=new Token(Type.string,toString$3(Fn,Mn+io,Mn+$o),$o);return mo.retainStringBytes===!0&&(Ao.byteValue=slice$1(Fn,Mn+io,Mn+$o)),Ao}function decodeStringCompact(Fn,Mn,io,fo){return toToken$2(Fn,Mn,1,io,fo)}function decodeString8(Fn,Mn,io,fo){return toToken$2(Fn,Mn,2,readUint8(Fn,Mn+1,fo),fo)}function decodeString16(Fn,Mn,io,fo){return toToken$2(Fn,Mn,3,readUint16(Fn,Mn+1,fo),fo)}function decodeString32(Fn,Mn,io,fo){return toToken$2(Fn,Mn,5,readUint32(Fn,Mn+1,fo),fo)}function decodeString64(Fn,Mn,io,fo){const mo=readUint64(Fn,Mn+1,fo);if(typeof mo=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer string lengths not supported`);return toToken$2(Fn,Mn,9,mo,fo)}const encodeString=encodeBytes;function toToken$1(Fn,Mn,io,fo){return new Token(Type.array,fo,io)}function decodeArrayCompact(Fn,Mn,io,fo){return toToken$1(Fn,Mn,1,io)}function decodeArray8(Fn,Mn,io,fo){return toToken$1(Fn,Mn,2,readUint8(Fn,Mn+1,fo))}function decodeArray16(Fn,Mn,io,fo){return toToken$1(Fn,Mn,3,readUint16(Fn,Mn+1,fo))}function decodeArray32(Fn,Mn,io,fo){return toToken$1(Fn,Mn,5,readUint32(Fn,Mn+1,fo))}function decodeArray64(Fn,Mn,io,fo){const mo=readUint64(Fn,Mn+1,fo);if(typeof mo=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer array lengths not supported`);return toToken$1(Fn,Mn,9,mo)}function decodeArrayIndefinite(Fn,Mn,io,fo){if(fo.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken$1(Fn,Mn,1,1/0)}function encodeArray(Fn,Mn){encodeUintValue(Fn,Type.array.majorEncoded,Mn.value)}encodeArray.compareTokens=encodeUint.compareTokens;encodeArray.encodedSize=function(Mn){return encodeUintValue.encodedSize(Mn.value)};function toToken(Fn,Mn,io,fo){return new Token(Type.map,fo,io)}function decodeMapCompact(Fn,Mn,io,fo){return toToken(Fn,Mn,1,io)}function decodeMap8(Fn,Mn,io,fo){return toToken(Fn,Mn,2,readUint8(Fn,Mn+1,fo))}function decodeMap16(Fn,Mn,io,fo){return toToken(Fn,Mn,3,readUint16(Fn,Mn+1,fo))}function decodeMap32(Fn,Mn,io,fo){return toToken(Fn,Mn,5,readUint32(Fn,Mn+1,fo))}function decodeMap64(Fn,Mn,io,fo){const mo=readUint64(Fn,Mn+1,fo);if(typeof mo=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer map lengths not supported`);return toToken(Fn,Mn,9,mo)}function decodeMapIndefinite(Fn,Mn,io,fo){if(fo.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken(Fn,Mn,1,1/0)}function encodeMap(Fn,Mn){encodeUintValue(Fn,Type.map.majorEncoded,Mn.value)}encodeMap.compareTokens=encodeUint.compareTokens;encodeMap.encodedSize=function(Mn){return encodeUintValue.encodedSize(Mn.value)};function decodeTagCompact(Fn,Mn,io,fo){return new Token(Type.tag,io,1)}function decodeTag8(Fn,Mn,io,fo){return new Token(Type.tag,readUint8(Fn,Mn+1,fo),2)}function decodeTag16(Fn,Mn,io,fo){return new Token(Type.tag,readUint16(Fn,Mn+1,fo),3)}function decodeTag32(Fn,Mn,io,fo){return new Token(Type.tag,readUint32(Fn,Mn+1,fo),5)}function decodeTag64(Fn,Mn,io,fo){return new Token(Type.tag,readUint64(Fn,Mn+1,fo),9)}function encodeTag(Fn,Mn){encodeUintValue(Fn,Type.tag.majorEncoded,Mn.value)}encodeTag.compareTokens=encodeUint.compareTokens;encodeTag.encodedSize=function(Mn){return encodeUintValue.encodedSize(Mn.value)};const MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function decodeUndefined(Fn,Mn,io,fo){if(fo.allowUndefined===!1)throw new Error(`${decodeErrPrefix} undefined values are not supported`);return fo.coerceUndefinedToNull===!0?new Token(Type.null,null,1):new Token(Type.undefined,void 0,1)}function decodeBreak(Fn,Mn,io,fo){if(fo.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return new Token(Type.break,void 0,1)}function createToken(Fn,Mn,io){if(io){if(io.allowNaN===!1&&Number.isNaN(Fn))throw new Error(`${decodeErrPrefix} NaN values are not supported`);if(io.allowInfinity===!1&&(Fn===1/0||Fn===-1/0))throw new Error(`${decodeErrPrefix} Infinity values are not supported`)}return new Token(Type.float,Fn,Mn)}function decodeFloat16(Fn,Mn,io,fo){return createToken(readFloat16(Fn,Mn+1),3,fo)}function decodeFloat32(Fn,Mn,io,fo){return createToken(readFloat32(Fn,Mn+1),5,fo)}function decodeFloat64(Fn,Mn,io,fo){return createToken(readFloat64(Fn,Mn+1),9,fo)}function encodeFloat(Fn,Mn,io){const fo=Mn.value;if(fo===!1)Fn.push([Type.float.majorEncoded|MINOR_FALSE]);else if(fo===!0)Fn.push([Type.float.majorEncoded|MINOR_TRUE]);else if(fo===null)Fn.push([Type.float.majorEncoded|MINOR_NULL]);else if(fo===void 0)Fn.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{let mo,$o=!1;(!io||io.float64!==!0)&&(encodeFloat16(fo),mo=readFloat16(ui8a,1),fo===mo||Number.isNaN(fo)?(ui8a[0]=249,Fn.push(ui8a.slice(0,3)),$o=!0):(encodeFloat32(fo),mo=readFloat32(ui8a,1),fo===mo&&(ui8a[0]=250,Fn.push(ui8a.slice(0,5)),$o=!0))),$o||(encodeFloat64(fo),mo=readFloat64(ui8a,1),ui8a[0]=251,Fn.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function(Mn,io){const fo=Mn.value;if(fo===!1||fo===!0||fo===null||fo===void 0)return 1;if(!io||io.float64!==!0){encodeFloat16(fo);let mo=readFloat16(ui8a,1);if(fo===mo||Number.isNaN(fo))return 3;if(encodeFloat32(fo),mo=readFloat32(ui8a,1),fo===mo)return 5}return 9};const buffer=new ArrayBuffer(9),dataView=new DataView(buffer,1),ui8a=new Uint8Array(buffer,0);function encodeFloat16(Fn){if(Fn===1/0)dataView.setUint16(0,31744,!1);else if(Fn===-1/0)dataView.setUint16(0,64512,!1);else if(Number.isNaN(Fn))dataView.setUint16(0,32256,!1);else{dataView.setFloat32(0,Fn);const Mn=dataView.getUint32(0),io=(Mn&2139095040)>>23,fo=Mn&8388607;if(io===255)dataView.setUint16(0,31744,!1);else if(io===0)dataView.setUint16(0,(Fn&2147483648)>>16|fo>>13,!1);else{const mo=io-127;mo<-24?dataView.setUint16(0,0):mo<-14?dataView.setUint16(0,(Mn&2147483648)>>16|1<<24+mo,!1):dataView.setUint16(0,(Mn&2147483648)>>16|mo+15<<10|fo>>13,!1)}}}function readFloat16(Fn,Mn){if(Fn.length-Mn<2)throw new Error(`${decodeErrPrefix} not enough data for float16`);const io=(Fn[Mn]<<8)+Fn[Mn+1];if(io===31744)return 1/0;if(io===64512)return-1/0;if(io===32256)return NaN;const fo=io>>10&31,mo=io&1023;let $o;return fo===0?$o=mo*2**-24:fo!==31?$o=(mo+1024)*2**(fo-25):$o=mo===0?1/0:NaN,io&32768?-$o:$o}function encodeFloat32(Fn){dataView.setFloat32(0,Fn,!1)}function readFloat32(Fn,Mn){if(Fn.length-Mn<4)throw new Error(`${decodeErrPrefix} not enough data for float32`);const io=(Fn.byteOffset||0)+Mn;return new DataView(Fn.buffer,io,4).getFloat32(0,!1)}function encodeFloat64(Fn){dataView.setFloat64(0,Fn,!1)}function readFloat64(Fn,Mn){if(Fn.length-Mn<8)throw new Error(`${decodeErrPrefix} not enough data for float64`);const io=(Fn.byteOffset||0)+Mn;return new DataView(Fn.buffer,io,8).getFloat64(0,!1)}encodeFloat.compareTokens=encodeUint.compareTokens;function invalidMinor(Fn,Mn,io){throw new Error(`${decodeErrPrefix} encountered invalid minor (${io}) for major ${Fn[Mn]>>>5}`)}function errorer(Fn){return()=>{throw new Error(`${decodeErrPrefix} ${Fn}`)}}const jump=[];for(let Fn=0;Fn<=23;Fn++)jump[Fn]=invalidMinor;jump[24]=decodeUint8;jump[25]=decodeUint16;jump[26]=decodeUint32;jump[27]=decodeUint64;jump[28]=invalidMinor;jump[29]=invalidMinor;jump[30]=invalidMinor;jump[31]=invalidMinor;for(let Fn=32;Fn<=55;Fn++)jump[Fn]=invalidMinor;jump[56]=decodeNegint8;jump[57]=decodeNegint16;jump[58]=decodeNegint32;jump[59]=decodeNegint64;jump[60]=invalidMinor;jump[61]=invalidMinor;jump[62]=invalidMinor;jump[63]=invalidMinor;for(let Fn=64;Fn<=87;Fn++)jump[Fn]=decodeBytesCompact;jump[88]=decodeBytes8;jump[89]=decodeBytes16;jump[90]=decodeBytes32;jump[91]=decodeBytes64;jump[92]=invalidMinor;jump[93]=invalidMinor;jump[94]=invalidMinor;jump[95]=errorer("indefinite length bytes/strings are not supported");for(let Fn=96;Fn<=119;Fn++)jump[Fn]=decodeStringCompact;jump[120]=decodeString8;jump[121]=decodeString16;jump[122]=decodeString32;jump[123]=decodeString64;jump[124]=invalidMinor;jump[125]=invalidMinor;jump[126]=invalidMinor;jump[127]=errorer("indefinite length bytes/strings are not supported");for(let Fn=128;Fn<=151;Fn++)jump[Fn]=decodeArrayCompact;jump[152]=decodeArray8;jump[153]=decodeArray16;jump[154]=decodeArray32;jump[155]=decodeArray64;jump[156]=invalidMinor;jump[157]=invalidMinor;jump[158]=invalidMinor;jump[159]=decodeArrayIndefinite;for(let Fn=160;Fn<=183;Fn++)jump[Fn]=decodeMapCompact;jump[184]=decodeMap8;jump[185]=decodeMap16;jump[186]=decodeMap32;jump[187]=decodeMap64;jump[188]=invalidMinor;jump[189]=invalidMinor;jump[190]=invalidMinor;jump[191]=decodeMapIndefinite;for(let Fn=192;Fn<=215;Fn++)jump[Fn]=decodeTagCompact;jump[216]=decodeTag8;jump[217]=decodeTag16;jump[218]=decodeTag32;jump[219]=decodeTag64;jump[220]=invalidMinor;jump[221]=invalidMinor;jump[222]=invalidMinor;jump[223]=invalidMinor;for(let Fn=224;Fn<=243;Fn++)jump[Fn]=errorer("simple values are not supported");jump[244]=invalidMinor;jump[245]=invalidMinor;jump[246]=invalidMinor;jump[247]=decodeUndefined;jump[248]=errorer("simple values are not supported");jump[249]=decodeFloat16;jump[250]=decodeFloat32;jump[251]=decodeFloat64;jump[252]=invalidMinor;jump[253]=invalidMinor;jump[254]=invalidMinor;jump[255]=decodeBreak;const quick=[];for(let Fn=0;Fn<24;Fn++)quick[Fn]=new Token(Type.uint,Fn,1);for(let Fn=-1;Fn>=-24;Fn--)quick[31-Fn]=new Token(Type.negint,Fn,1);quick[64]=new Token(Type.bytes,new Uint8Array(0),1);quick[96]=new Token(Type.string,"",1);quick[128]=new Token(Type.array,0,1);quick[160]=new Token(Type.map,0,1);quick[244]=new Token(Type.false,!1,1);quick[245]=new Token(Type.true,!0,1);quick[246]=new Token(Type.null,null,1);function quickEncodeToken(Fn){switch(Fn.type){case Type.false:return fromArray([244]);case Type.true:return fromArray([245]);case Type.null:return fromArray([246]);case Type.bytes:return Fn.value.length?void 0:fromArray([64]);case Type.string:return Fn.value===""?fromArray([96]):void 0;case Type.array:return Fn.value===0?fromArray([128]):void 0;case Type.map:return Fn.value===0?fromArray([160]):void 0;case Type.uint:return Fn.value<24?fromArray([Number(Fn.value)]):void 0;case Type.negint:if(Fn.value>=-24)return fromArray([31-Number(Fn.value)])}}const defaultEncodeOptions$2={float64:!1,mapSorter:mapSorter$1,quickEncodeToken};function makeCborEncoders(){const Fn=[];return Fn[Type.uint.major]=encodeUint,Fn[Type.negint.major]=encodeNegint,Fn[Type.bytes.major]=encodeBytes,Fn[Type.string.major]=encodeString,Fn[Type.array.major]=encodeArray,Fn[Type.map.major]=encodeMap,Fn[Type.tag.major]=encodeTag,Fn[Type.float.major]=encodeFloat,Fn}const cborEncoders$1=makeCborEncoders(),buf=new Bl;class Ref{constructor(Mn,io){this.obj=Mn,this.parent=io}includes(Mn){let io=this;do if(io.obj===Mn)return!0;while(io=io.parent);return!1}static createCheck(Mn,io){if(Mn&&Mn.includes(io))throw new Error(`${encodeErrPrefix} object contains circular references`);return new Ref(io,Mn)}}const simpleTokens={null:new Token(Type.null,null),undefined:new Token(Type.undefined,void 0),true:new Token(Type.true,!0),false:new Token(Type.false,!1),emptyArray:new Token(Type.array,0),emptyMap:new Token(Type.map,0)},typeEncoders={number(Fn,Mn,io,fo){return!Number.isInteger(Fn)||!Number.isSafeInteger(Fn)?new Token(Type.float,Fn):Fn>=0?new Token(Type.uint,Fn):new Token(Type.negint,Fn)},bigint(Fn,Mn,io,fo){return Fn>=BigInt(0)?new Token(Type.uint,Fn):new Token(Type.negint,Fn)},Uint8Array(Fn,Mn,io,fo){return new Token(Type.bytes,Fn)},string(Fn,Mn,io,fo){return new Token(Type.string,Fn)},boolean(Fn,Mn,io,fo){return Fn?simpleTokens.true:simpleTokens.false},null(Fn,Mn,io,fo){return simpleTokens.null},undefined(Fn,Mn,io,fo){return simpleTokens.undefined},ArrayBuffer(Fn,Mn,io,fo){return new Token(Type.bytes,new Uint8Array(Fn))},DataView(Fn,Mn,io,fo){return new Token(Type.bytes,new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength))},Array(Fn,Mn,io,fo){if(!Fn.length)return io.addBreakTokens===!0?[simpleTokens.emptyArray,new Token(Type.break)]:simpleTokens.emptyArray;fo=Ref.createCheck(fo,Fn);const mo=[];let $o=0;for(const Ao of Fn)mo[$o++]=objectToTokens(Ao,io,fo);return io.addBreakTokens?[new Token(Type.array,Fn.length),mo,new Token(Type.break)]:[new Token(Type.array,Fn.length),mo]},Object(Fn,Mn,io,fo){const mo=Mn!=="Object",$o=mo?Fn.keys():Object.keys(Fn),Ao=mo?Fn.size:$o.length;if(!Ao)return io.addBreakTokens===!0?[simpleTokens.emptyMap,new Token(Type.break)]:simpleTokens.emptyMap;fo=Ref.createCheck(fo,Fn);const Lo=[];let Wo=0;for(const jo of $o)Lo[Wo++]=[objectToTokens(jo,io,fo),objectToTokens(mo?Fn.get(jo):Fn[jo],io,fo)];return sortMapEntries(Lo,io),io.addBreakTokens?[new Token(Type.map,Ao),Lo,new Token(Type.break)]:[new Token(Type.map,Ao),Lo]}};typeEncoders.Map=typeEncoders.Object;typeEncoders.Buffer=typeEncoders.Uint8Array;for(const Fn of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders[`${Fn}Array`]=typeEncoders.DataView;function objectToTokens(Fn,Mn={},io){const fo=is(Fn),mo=Mn&&Mn.typeEncoders&&Mn.typeEncoders[fo]||typeEncoders[fo];if(typeof mo=="function"){const Ao=mo(Fn,fo,Mn,io);if(Ao!=null)return Ao}const $o=typeEncoders[fo];if(!$o)throw new Error(`${encodeErrPrefix} unsupported type: ${fo}`);return $o(Fn,fo,Mn,io)}function sortMapEntries(Fn,Mn){Mn.mapSorter&&Fn.sort(Mn.mapSorter)}function mapSorter$1(Fn,Mn){const io=Array.isArray(Fn[0])?Fn[0][0]:Fn[0],fo=Array.isArray(Mn[0])?Mn[0][0]:Mn[0];if(io.type!==fo.type)return io.type.compare(fo.type);const mo=io.type.major,$o=cborEncoders$1[mo].compareTokens(io,fo);return $o===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),$o}function tokensToEncoded(Fn,Mn,io,fo){if(Array.isArray(Mn))for(const mo of Mn)tokensToEncoded(Fn,mo,io,fo);else io[Mn.type.major](Fn,Mn,fo)}function encodeCustom(Fn,Mn,io){const fo=objectToTokens(Fn,io);if(!Array.isArray(fo)&&io.quickEncodeToken){const mo=io.quickEncodeToken(fo);if(mo)return mo;const $o=Mn[fo.type.major];if($o.encodedSize){const Ao=$o.encodedSize(fo,io),Lo=new Bl(Ao);if($o(Lo,fo,io),Lo.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${fo} was wrong`);return asU8A(Lo.chunks[0])}}return buf.reset(),tokensToEncoded(buf,fo,Mn,io),buf.toBytes(!0)}function encode$R(Fn,Mn){return Mn=Object.assign({},defaultEncodeOptions$2,Mn),encodeCustom(Fn,cborEncoders$1,Mn)}const defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Tokeniser{constructor(Mn,io={}){this._pos=0,this.data=Mn,this.options=io}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){const Mn=this.data[this._pos];let io=quick[Mn];if(io===void 0){const fo=jump[Mn];if(!fo)throw new Error(`${decodeErrPrefix} no decoder for major type ${Mn>>>5} (byte 0x${Mn.toString(16).padStart(2,"0")})`);const mo=Mn&31;io=fo(this.data,this._pos,mo,this.options)}return this._pos+=io.encodedLength,io}}const DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray(Fn,Mn,io){const fo=[];for(let mo=0;mo<Fn.value;mo++){const $o=tokensToObject(Mn,io);if($o===BREAK){if(Fn.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed array`)}if($o===DONE)throw new Error(`${decodeErrPrefix} found array but not enough entries (got ${mo}, expected ${Fn.value})`);fo[mo]=$o}return fo}function tokenToMap(Fn,Mn,io){const fo=io.useMaps===!0,mo=fo?void 0:{},$o=fo?new Map:void 0;for(let Ao=0;Ao<Fn.value;Ao++){const Lo=tokensToObject(Mn,io);if(Lo===BREAK){if(Fn.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed map`)}if(Lo===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${Ao} [no key], expected ${Fn.value})`);if(fo!==!0&&typeof Lo!="string")throw new Error(`${decodeErrPrefix} non-string keys not supported (got ${typeof Lo})`);if(io.rejectDuplicateMapKeys===!0&&(fo&&$o.has(Lo)||!fo&&Lo in mo))throw new Error(`${decodeErrPrefix} found repeat map key "${Lo}"`);const Wo=tokensToObject(Mn,io);if(Wo===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${Ao} [no value], expected ${Fn.value})`);fo?$o.set(Lo,Wo):mo[Lo]=Wo}return fo?$o:mo}function tokensToObject(Fn,Mn){if(Fn.done())return DONE;const io=Fn.next();if(io.type===Type.break)return BREAK;if(io.type.terminal)return io.value;if(io.type===Type.array)return tokenToArray(io,Fn,Mn);if(io.type===Type.map)return tokenToMap(io,Fn,Mn);if(io.type===Type.tag){if(Mn.tags&&typeof Mn.tags[io.value]=="function"){const fo=tokensToObject(Fn,Mn);return Mn.tags[io.value](fo)}throw new Error(`${decodeErrPrefix} tag not supported (${io.value})`)}throw new Error("unsupported")}function decodeFirst(Fn,Mn){if(!(Fn instanceof Uint8Array))throw new Error(`${decodeErrPrefix} data to decode must be a Uint8Array`);Mn=Object.assign({},defaultDecodeOptions,Mn);const io=Mn.tokenizer||new Tokeniser(Fn,Mn),fo=tokensToObject(io,Mn);if(fo===DONE)throw new Error(`${decodeErrPrefix} did not find any content to decode`);if(fo===BREAK)throw new Error(`${decodeErrPrefix} got unexpected break`);return[fo,Fn.subarray(io.pos())]}function decode$1f(Fn,Mn){const[io,fo]=decodeFirst(Fn,Mn);if(fo.length>0)throw new Error(`${decodeErrPrefix} too many terminals, data makes no sense`);return io}function equals$n(Fn,Mn){if(Fn===Mn)return!0;if(Fn.byteLength!==Mn.byteLength)return!1;for(let io=0;io<Fn.byteLength;io++)if(Fn[io]!==Mn[io])return!1;return!0}function coerce$d(Fn){if(Fn instanceof Uint8Array&&Fn.constructor.name==="Uint8Array")return Fn;if(Fn instanceof ArrayBuffer)return new Uint8Array(Fn);if(ArrayBuffer.isView(Fn))return new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength);throw new Error("Unknown type, must be binary type")}function base$d(Fn,Mn){if(Fn.length>=255)throw new TypeError("Alphabet too long");for(var io=new Uint8Array(256),fo=0;fo<io.length;fo++)io[fo]=255;for(var mo=0;mo<Fn.length;mo++){var $o=Fn.charAt(mo),Ao=$o.charCodeAt(0);if(io[Ao]!==255)throw new TypeError($o+" is ambiguous");io[Ao]=mo}var Lo=Fn.length,Wo=Fn.charAt(0),jo=Math.log(Lo)/Math.log(256),zo=Math.log(256)/Math.log(Lo);function Vo(Qo){if(Qo instanceof Uint8Array||(ArrayBuffer.isView(Qo)?Qo=new Uint8Array(Qo.buffer,Qo.byteOffset,Qo.byteLength):Array.isArray(Qo)&&(Qo=Uint8Array.from(Qo))),!(Qo instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Qo.length===0)return"";for(var os=0,Cl=0,xl=0,ds=Qo.length;xl!==ds&&Qo[xl]===0;)xl++,os++;for(var _c=(ds-xl)*zo+1>>>0,$l=new Uint8Array(_c);xl!==ds;){for(var Al=Qo[xl],Il=0,us=_c-1;(Al!==0||Il<Cl)&&us!==-1;us--,Il++)Al+=256*$l[us]>>>0,$l[us]=Al%Lo>>>0,Al=Al/Lo>>>0;if(Al!==0)throw new Error("Non-zero carry");Cl=Il,xl++}for(var ps=_c-Cl;ps!==_c&&$l[ps]===0;)ps++;for(var Rl=Wo.repeat(os);ps<_c;++ps)Rl+=Fn.charAt($l[ps]);return Rl}function Go(Qo){if(typeof Qo!="string")throw new TypeError("Expected String");if(Qo.length===0)return new Uint8Array;var os=0;if(Qo[os]!==" "){for(var Cl=0,xl=0;Qo[os]===Wo;)Cl++,os++;for(var ds=(Qo.length-os)*jo+1>>>0,_c=new Uint8Array(ds);Qo[os];){var $l=io[Qo.charCodeAt(os)];if($l===255)return;for(var Al=0,Il=ds-1;($l!==0||Al<xl)&&Il!==-1;Il--,Al++)$l+=Lo*_c[Il]>>>0,_c[Il]=$l%256>>>0,$l=$l/256>>>0;if($l!==0)throw new Error("Non-zero carry");xl=Al,os++}if(Qo[os]!==" "){for(var us=ds-xl;us!==ds&&_c[us]===0;)us++;for(var ps=new Uint8Array(Cl+(ds-us)),Rl=Cl;us!==ds;)ps[Rl++]=_c[us++];return ps}}}function Jo(Qo){var os=Go(Qo);if(os)return os;throw new Error(`Non-${Mn} character`)}return{encode:Vo,decodeUnsafe:Go,decode:Jo}}var src$d=base$d,_brrp__multiformats_scope_baseX$d=src$d;let Encoder$d=class{constructor(Mn,io,fo){tp(this,"name");tp(this,"prefix");tp(this,"baseEncode");this.name=Mn,this.prefix=io,this.baseEncode=fo}encode(Mn){if(Mn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Mn)}`;throw Error("Unknown type, must be binary type")}},Decoder$d=class{constructor(Mn,io,fo){tp(this,"name");tp(this,"prefix");tp(this,"baseDecode");tp(this,"prefixCodePoint");this.name=Mn,this.prefix=io;const mo=io.codePointAt(0);if(mo===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=mo,this.baseDecode=fo}decode(Mn){if(typeof Mn=="string"){if(Mn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Mn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Mn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(Mn){return or$l(this,Mn)}},ComposedDecoder$d=class{constructor(Mn){tp(this,"decoders");this.decoders=Mn}or(Mn){return or$l(this,Mn)}decode(Mn){const io=Mn[0],fo=this.decoders[io];if(fo!=null)return fo.decode(Mn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Mn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function or$l(Fn,Mn){return new ComposedDecoder$d({...Fn.decoders??{[Fn.prefix]:Fn},...Mn.decoders??{[Mn.prefix]:Mn}})}let Codec$d=class{constructor(Mn,io,fo,mo){tp(this,"name");tp(this,"prefix");tp(this,"baseEncode");tp(this,"baseDecode");tp(this,"encoder");tp(this,"decoder");this.name=Mn,this.prefix=io,this.baseEncode=fo,this.baseDecode=mo,this.encoder=new Encoder$d(Mn,io,fo),this.decoder=new Decoder$d(Mn,io,mo)}encode(Mn){return this.encoder.encode(Mn)}decode(Mn){return this.decoder.decode(Mn)}};function from$t({name:Fn,prefix:Mn,encode:io,decode:fo}){return new Codec$d(Fn,Mn,io,fo)}function baseX$d({name:Fn,prefix:Mn,alphabet:io}){const{encode:fo,decode:mo}=_brrp__multiformats_scope_baseX$d(io,Fn);return from$t({prefix:Mn,name:Fn,encode:fo,decode:$o=>coerce$d(mo($o))})}function decode$1e(Fn,Mn,io,fo){const mo={};for(let zo=0;zo<Mn.length;++zo)mo[Mn[zo]]=zo;let $o=Fn.length;for(;Fn[$o-1]==="=";)--$o;const Ao=new Uint8Array($o*io/8|0);let Lo=0,Wo=0,jo=0;for(let zo=0;zo<$o;++zo){const Vo=mo[Fn[zo]];if(Vo===void 0)throw new SyntaxError(`Non-${fo} character`);Wo=Wo<<io|Vo,Lo+=io,Lo>=8&&(Lo-=8,Ao[jo++]=255&Wo>>Lo)}if(Lo>=io||255&Wo<<8-Lo)throw new SyntaxError("Unexpected end of data");return Ao}function encode$Q(Fn,Mn,io){const fo=Mn[Mn.length-1]==="=",mo=(1<<io)-1;let $o="",Ao=0,Lo=0;for(let Wo=0;Wo<Fn.length;++Wo)for(Lo=Lo<<8|Fn[Wo],Ao+=8;Ao>io;)Ao-=io,$o+=Mn[mo&Lo>>Ao];if(Ao!==0&&($o+=Mn[mo&Lo<<io-Ao]),fo)for(;$o.length*io&7;)$o+="=";return $o}function rfc4648$d({name:Fn,prefix:Mn,bitsPerChar:io,alphabet:fo}){return from$t({prefix:Mn,name:Fn,encode(mo){return encode$Q(mo,fo,io)},decode(mo){return decode$1e(mo,fo,io,Fn)}})}const base32$a=rfc4648$d({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$d({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$d({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$d({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$d({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$d({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$d({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$d({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$d({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const base36$5=baseX$d({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});baseX$d({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});const base58btc$b=baseX$d({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$d({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var encode_1$e=encode$P,MSB$g=128,REST$g=127,MSBALL$f=~REST$g,INT$f=Math.pow(2,31);function encode$P(Fn,Mn,io){Mn=Mn||[],io=io||0;for(var fo=io;Fn>=INT$f;)Mn[io++]=Fn&255|MSB$g,Fn/=128;for(;Fn&MSBALL$f;)Mn[io++]=Fn&255|MSB$g,Fn>>>=7;return Mn[io]=Fn|0,encode$P.bytes=io-fo+1,Mn}var decode$1d=read$h,MSB$1$e=128,REST$1$e=127;function read$h(Fn,fo){var io=0,fo=fo||0,mo=0,$o=fo,Ao,Lo=Fn.length;do{if($o>=Lo)throw read$h.bytes=0,new RangeError("Could not decode varint");Ao=Fn[$o++],io+=mo<28?(Ao&REST$1$e)<<mo:(Ao&REST$1$e)*Math.pow(2,mo),mo+=7}while(Ao>=MSB$1$e);return read$h.bytes=$o-fo,io}var N1$e=Math.pow(2,7),N2$e=Math.pow(2,14),N3$e=Math.pow(2,21),N4$e=Math.pow(2,28),N5$e=Math.pow(2,35),N6$e=Math.pow(2,42),N7$e=Math.pow(2,49),N8$e=Math.pow(2,56),N9$e=Math.pow(2,63),length$e=function(Fn){return Fn<N1$e?1:Fn<N2$e?2:Fn<N3$e?3:Fn<N4$e?4:Fn<N5$e?5:Fn<N6$e?6:Fn<N7$e?7:Fn<N8$e?8:Fn<N9$e?9:10},varint$f={encode:encode_1$e,decode:decode$1d,encodingLength:length$e},_brrp_varint$d=varint$f;function decode$1c(Fn,Mn=0){return[_brrp_varint$d.decode(Fn,Mn),_brrp_varint$d.decode.bytes]}function encodeTo$d(Fn,Mn,io=0){return _brrp_varint$d.encode(Fn,Mn,io),Mn}function encodingLength$d(Fn){return _brrp_varint$d.encodingLength(Fn)}function create$u(Fn,Mn){const io=Mn.byteLength,fo=encodingLength$d(Fn),mo=fo+encodingLength$d(io),$o=new Uint8Array(mo+io);return encodeTo$d(Fn,$o,0),encodeTo$d(io,$o,fo),$o.set(Mn,mo),new Digest$d(Fn,io,Mn,$o)}function decode$1b(Fn){const Mn=coerce$d(Fn),[io,fo]=decode$1c(Mn),[mo,$o]=decode$1c(Mn.subarray(fo)),Ao=Mn.subarray(fo+$o);if(Ao.byteLength!==mo)throw new Error("Incorrect length");return new Digest$d(io,mo,Ao,Mn)}function equals$m(Fn,Mn){if(Fn===Mn)return!0;{const io=Mn;return Fn.code===io.code&&Fn.size===io.size&&io.bytes instanceof Uint8Array&&equals$n(Fn.bytes,io.bytes)}}let Digest$d=class{constructor(Mn,io,fo,mo){tp(this,"code");tp(this,"size");tp(this,"digest");tp(this,"bytes");this.code=Mn,this.size=io,this.digest=fo,this.bytes=mo}};function format$e(Fn,Mn){const{bytes:io,version:fo}=Fn;switch(fo){case 0:return toStringV0$a(io,baseCache$a(Fn),Mn??base58btc$b.encoder);default:return toStringV1$a(io,baseCache$a(Fn),Mn??base32$a.encoder)}}const cache$b=new WeakMap;function baseCache$a(Fn){const Mn=cache$b.get(Fn);if(Mn==null){const io=new Map;return cache$b.set(Fn,io),io}return Mn}var C6;let CID$a=class cm{constructor(Mn,io,fo,mo){tp(this,"code");tp(this,"version");tp(this,"multihash");tp(this,"bytes");tp(this,"/");tp(this,C6,"CID");this.code=io,this.version=Mn,this.multihash=fo,this.bytes=mo,this["/"]=mo}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:Mn,multihash:io}=this;if(Mn!==DAG_PB_CODE$c)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(io.code!==SHA_256_CODE$a)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return cm.createV0(io)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:Mn,digest:io}=this.multihash,fo=create$u(Mn,io);return cm.createV1(this.code,fo)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(Mn){return cm.equals(this,Mn)}static equals(Mn,io){const fo=io;return fo!=null&&Mn.code===fo.code&&Mn.version===fo.version&&equals$m(Mn.multihash,fo.multihash)}toString(Mn){return format$e(this,Mn)}toJSON(){return{"/":format$e(this)}}link(){return this}[(C6=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(Mn){if(Mn==null)return null;const io=Mn;if(io instanceof cm)return io;if(io["/"]!=null&&io["/"]===io.bytes||io.asCID===io){const{version:fo,code:mo,multihash:$o,bytes:Ao}=io;return new cm(fo,mo,$o,Ao??encodeCID$a(fo,mo,$o.bytes))}else if(io[cidSymbol$a]===!0){const{version:fo,multihash:mo,code:$o}=io,Ao=decode$1b(mo);return cm.create(fo,$o,Ao)}else return null}static create(Mn,io,fo){if(typeof io!="number")throw new Error("String codecs are no longer supported");if(!(fo.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(Mn){case 0:{if(io!==DAG_PB_CODE$c)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$c}) block encoding`);return new cm(Mn,io,fo,fo.bytes)}case 1:{const mo=encodeCID$a(Mn,io,fo.bytes);return new cm(Mn,io,fo,mo)}default:throw new Error("Invalid version")}}static createV0(Mn){return cm.create(0,DAG_PB_CODE$c,Mn)}static createV1(Mn,io){return cm.create(1,Mn,io)}static decode(Mn){const[io,fo]=cm.decodeFirst(Mn);if(fo.length!==0)throw new Error("Incorrect length");return io}static decodeFirst(Mn){const io=cm.inspectBytes(Mn),fo=io.size-io.multihashSize,mo=coerce$d(Mn.subarray(fo,fo+io.multihashSize));if(mo.byteLength!==io.multihashSize)throw new Error("Incorrect length");const $o=mo.subarray(io.multihashSize-io.digestSize),Ao=new Digest$d(io.multihashCode,io.digestSize,$o,mo);return[io.version===0?cm.createV0(Ao):cm.createV1(io.codec,Ao),Mn.subarray(io.size)]}static inspectBytes(Mn){let io=0;const fo=()=>{const[Vo,Go]=decode$1c(Mn.subarray(io));return io+=Go,Vo};let mo=fo(),$o=DAG_PB_CODE$c;if(mo===18?(mo=0,io=0):$o=fo(),mo!==0&&mo!==1)throw new RangeError(`Invalid CID version ${mo}`);const Ao=io,Lo=fo(),Wo=fo(),jo=io+Wo,zo=jo-Ao;return{version:mo,codec:$o,multihashCode:Lo,digestSize:Wo,multihashSize:zo,size:jo}}static parse(Mn,io){const[fo,mo]=parseCIDtoBytes$a(Mn,io),$o=cm.decode(mo);if($o.version===0&&Mn[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$a($o).set(fo,Mn),$o}};function parseCIDtoBytes$a(Fn,Mn){switch(Fn[0]){case"Q":{const io=Mn??base58btc$b;return[base58btc$b.prefix,io.decode(`${base58btc$b.prefix}${Fn}`)]}case base58btc$b.prefix:{const io=Mn??base58btc$b;return[base58btc$b.prefix,io.decode(Fn)]}case base32$a.prefix:{const io=Mn??base32$a;return[base32$a.prefix,io.decode(Fn)]}case base36$5.prefix:{const io=Mn??base36$5;return[base36$5.prefix,io.decode(Fn)]}default:{if(Mn==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[Fn[0],Mn.decode(Fn)]}}}function toStringV0$a(Fn,Mn,io){const{prefix:fo}=io;if(fo!==base58btc$b.prefix)throw Error(`Cannot string encode V0 in ${io.name} encoding`);const mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn).slice(1);return Mn.set(fo,$o),$o}else return mo}function toStringV1$a(Fn,Mn,io){const{prefix:fo}=io,mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn);return Mn.set(fo,$o),$o}else return mo}const DAG_PB_CODE$c=112,SHA_256_CODE$a=18;function encodeCID$a(Fn,Mn,io){const fo=encodingLength$d(Fn),mo=fo+encodingLength$d(Mn),$o=new Uint8Array(mo+io.byteLength);return encodeTo$d(Fn,$o,0),encodeTo$d(Mn,$o,fo),$o.set(io,mo),$o}const cidSymbol$a=Symbol.for("@ipld/js-cid/CID"),CID_CBOR_TAG=42;function toByteView$2(Fn){return Fn instanceof ArrayBuffer?new Uint8Array(Fn,0,Fn.byteLength):Fn}function cidEncoder$1(Fn){if(Fn.asCID!==Fn&&Fn["/"]!==Fn.bytes)return null;const Mn=CID$a.asCID(Fn);if(!Mn)return null;const io=new Uint8Array(Mn.bytes.byteLength+1);return io.set(Mn.bytes,1),[new Token(Type.tag,CID_CBOR_TAG),new Token(Type.bytes,io)]}function undefinedEncoder$1(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder$1(Fn){if(Number.isNaN(Fn))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(Fn===1/0||Fn===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const _encodeOptions={float64:!0,typeEncoders:{Object:cidEncoder$1,undefined:undefinedEncoder$1,number:numberEncoder$1}};({..._encodeOptions,typeEncoders:{..._encodeOptions.typeEncoders}});function cidDecoder(Fn){if(Fn[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID$a.decode(Fn.subarray(1))}const _decodeOptions={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};_decodeOptions.tags[CID_CBOR_TAG]=cidDecoder;({..._decodeOptions,tags:_decodeOptions.tags.slice()});const name$a="dag-cbor",code$h=113,encode$O=Fn=>encode$R(Fn,_encodeOptions),decode$1a=Fn=>decode$1f(toByteView$2(Fn),_decodeOptions),encoder=new TextEncoder,decoder=new TextDecoder,encode$N=Fn=>encoder.encode(Fn),decode$19=Fn=>decoder.decode(Fn);var encode_1$d=encode$M,MSB$f=128,REST$f=127,MSBALL$e=~REST$f,INT$e=Math.pow(2,31);function encode$M(Fn,Mn,io){Mn=Mn||[],io=io||0;for(var fo=io;Fn>=INT$e;)Mn[io++]=Fn&255|MSB$f,Fn/=128;for(;Fn&MSBALL$e;)Mn[io++]=Fn&255|MSB$f,Fn>>>=7;return Mn[io]=Fn|0,encode$M.bytes=io-fo+1,Mn}var decode$18=read$g,MSB$1$d=128,REST$1$d=127;function read$g(Fn,fo){var io=0,fo=fo||0,mo=0,$o=fo,Ao,Lo=Fn.length;do{if($o>=Lo)throw read$g.bytes=0,new RangeError("Could not decode varint");Ao=Fn[$o++],io+=mo<28?(Ao&REST$1$d)<<mo:(Ao&REST$1$d)*Math.pow(2,mo),mo+=7}while(Ao>=MSB$1$d);return read$g.bytes=$o-fo,io}var N1$d=Math.pow(2,7),N2$d=Math.pow(2,14),N3$d=Math.pow(2,21),N4$d=Math.pow(2,28),N5$d=Math.pow(2,35),N6$d=Math.pow(2,42),N7$d=Math.pow(2,49),N8$d=Math.pow(2,56),N9$d=Math.pow(2,63),length$d=function(Fn){return Fn<N1$d?1:Fn<N2$d?2:Fn<N3$d?3:Fn<N4$d?4:Fn<N5$d?5:Fn<N6$d?6:Fn<N7$d?7:Fn<N8$d?8:Fn<N9$d?9:10},varint$e={encode:encode_1$d,decode:decode$18,encodingLength:length$d},_brrp_varint$c=varint$e;const decode$17=(Fn,Mn=0)=>[_brrp_varint$c.decode(Fn,Mn),_brrp_varint$c.decode.bytes],encodeTo$c=(Fn,Mn,io=0)=>(_brrp_varint$c.encode(Fn,Mn,io),Mn),encodingLength$c=Fn=>_brrp_varint$c.encodingLength(Fn),equals$l=(Fn,Mn)=>{if(Fn===Mn)return!0;if(Fn.byteLength!==Mn.byteLength)return!1;for(let io=0;io<Fn.byteLength;io++)if(Fn[io]!==Mn[io])return!1;return!0},coerce$c=Fn=>{if(Fn instanceof Uint8Array&&Fn.constructor.name==="Uint8Array")return Fn;if(Fn instanceof ArrayBuffer)return new Uint8Array(Fn);if(ArrayBuffer.isView(Fn))return new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength);throw new Error("Unknown type, must be binary type")},create$t=(Fn,Mn)=>{const io=Mn.byteLength,fo=encodingLength$c(Fn),mo=fo+encodingLength$c(io),$o=new Uint8Array(mo+io);return encodeTo$c(Fn,$o,0),encodeTo$c(io,$o,fo),$o.set(Mn,mo),new Digest$c(Fn,io,Mn,$o)},decode$16=Fn=>{const Mn=coerce$c(Fn),[io,fo]=decode$17(Mn),[mo,$o]=decode$17(Mn.subarray(fo)),Ao=Mn.subarray(fo+$o);if(Ao.byteLength!==mo)throw new Error("Incorrect length");return new Digest$c(io,mo,Ao,Mn)},equals$k=(Fn,Mn)=>{if(Fn===Mn)return!0;{const io=Mn;return Fn.code===io.code&&Fn.size===io.size&&io.bytes instanceof Uint8Array&&equals$l(Fn.bytes,io.bytes)}};let Digest$c=class{constructor(Mn,io,fo,mo){this.code=Mn,this.size=io,this.digest=fo,this.bytes=mo}};function base$c(Fn,Mn){if(Fn.length>=255)throw new TypeError("Alphabet too long");for(var io=new Uint8Array(256),fo=0;fo<io.length;fo++)io[fo]=255;for(var mo=0;mo<Fn.length;mo++){var $o=Fn.charAt(mo),Ao=$o.charCodeAt(0);if(io[Ao]!==255)throw new TypeError($o+" is ambiguous");io[Ao]=mo}var Lo=Fn.length,Wo=Fn.charAt(0),jo=Math.log(Lo)/Math.log(256),zo=Math.log(256)/Math.log(Lo);function Vo(Qo){if(Qo instanceof Uint8Array||(ArrayBuffer.isView(Qo)?Qo=new Uint8Array(Qo.buffer,Qo.byteOffset,Qo.byteLength):Array.isArray(Qo)&&(Qo=Uint8Array.from(Qo))),!(Qo instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Qo.length===0)return"";for(var os=0,Cl=0,xl=0,ds=Qo.length;xl!==ds&&Qo[xl]===0;)xl++,os++;for(var _c=(ds-xl)*zo+1>>>0,$l=new Uint8Array(_c);xl!==ds;){for(var Al=Qo[xl],Il=0,us=_c-1;(Al!==0||Il<Cl)&&us!==-1;us--,Il++)Al+=256*$l[us]>>>0,$l[us]=Al%Lo>>>0,Al=Al/Lo>>>0;if(Al!==0)throw new Error("Non-zero carry");Cl=Il,xl++}for(var ps=_c-Cl;ps!==_c&&$l[ps]===0;)ps++;for(var Rl=Wo.repeat(os);ps<_c;++ps)Rl+=Fn.charAt($l[ps]);return Rl}function Go(Qo){if(typeof Qo!="string")throw new TypeError("Expected String");if(Qo.length===0)return new Uint8Array;var os=0;if(Qo[os]!==" "){for(var Cl=0,xl=0;Qo[os]===Wo;)Cl++,os++;for(var ds=(Qo.length-os)*jo+1>>>0,_c=new Uint8Array(ds);Qo[os];){var $l=io[Qo.charCodeAt(os)];if($l===255)return;for(var Al=0,Il=ds-1;($l!==0||Al<xl)&&Il!==-1;Il--,Al++)$l+=Lo*_c[Il]>>>0,_c[Il]=$l%256>>>0,$l=$l/256>>>0;if($l!==0)throw new Error("Non-zero carry");xl=Al,os++}if(Qo[os]!==" "){for(var us=ds-xl;us!==ds&&_c[us]===0;)us++;for(var ps=new Uint8Array(Cl+(ds-us)),Rl=Cl;us!==ds;)ps[Rl++]=_c[us++];return ps}}}function Jo(Qo){var os=Go(Qo);if(os)return os;throw new Error(`Non-${Mn} character`)}return{encode:Vo,decodeUnsafe:Go,decode:Jo}}var src$c=base$c,_brrp__multiformats_scope_baseX$c=src$c;let Encoder$c=class{constructor(Mn,io,fo){this.name=Mn,this.prefix=io,this.baseEncode=fo}encode(Mn){if(Mn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Mn)}`;throw Error("Unknown type, must be binary type")}},Decoder$c=class{constructor(Mn,io,fo){if(this.name=Mn,this.prefix=io,io.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=io.codePointAt(0),this.baseDecode=fo}decode(Mn){if(typeof Mn=="string"){if(Mn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Mn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Mn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(Mn){return or$k(this,Mn)}},ComposedDecoder$c=class{constructor(Mn){this.decoders=Mn}or(Mn){return or$k(this,Mn)}decode(Mn){const io=Mn[0],fo=this.decoders[io];if(fo)return fo.decode(Mn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Mn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$k=(Fn,Mn)=>new ComposedDecoder$c({...Fn.decoders||{[Fn.prefix]:Fn},...Mn.decoders||{[Mn.prefix]:Mn}});let Codec$c=class{constructor(Mn,io,fo,mo){this.name=Mn,this.prefix=io,this.baseEncode=fo,this.baseDecode=mo,this.encoder=new Encoder$c(Mn,io,fo),this.decoder=new Decoder$c(Mn,io,mo)}encode(Mn){return this.encoder.encode(Mn)}decode(Mn){return this.decoder.decode(Mn)}};const from$s=({name:Fn,prefix:Mn,encode:io,decode:fo})=>new Codec$c(Fn,Mn,io,fo),baseX$c=({prefix:Fn,name:Mn,alphabet:io})=>{const{encode:fo,decode:mo}=_brrp__multiformats_scope_baseX$c(io,Mn);return from$s({prefix:Fn,name:Mn,encode:fo,decode:$o=>coerce$c(mo($o))})},decode$15=(Fn,Mn,io,fo)=>{const mo={};for(let zo=0;zo<Mn.length;++zo)mo[Mn[zo]]=zo;let $o=Fn.length;for(;Fn[$o-1]==="=";)--$o;const Ao=new Uint8Array($o*io/8|0);let Lo=0,Wo=0,jo=0;for(let zo=0;zo<$o;++zo){const Vo=mo[Fn[zo]];if(Vo===void 0)throw new SyntaxError(`Non-${fo} character`);Wo=Wo<<io|Vo,Lo+=io,Lo>=8&&(Lo-=8,Ao[jo++]=255&Wo>>Lo)}if(Lo>=io||255&Wo<<8-Lo)throw new SyntaxError("Unexpected end of data");return Ao},encode$L=(Fn,Mn,io)=>{const fo=Mn[Mn.length-1]==="=",mo=(1<<io)-1;let $o="",Ao=0,Lo=0;for(let Wo=0;Wo<Fn.length;++Wo)for(Lo=Lo<<8|Fn[Wo],Ao+=8;Ao>io;)Ao-=io,$o+=Mn[mo&Lo>>Ao];if(Ao&&($o+=Mn[mo&Lo<<io-Ao]),fo)for(;$o.length*io&7;)$o+="=";return $o},rfc4648$c=({name:Fn,prefix:Mn,bitsPerChar:io,alphabet:fo})=>from$s({prefix:Mn,name:Fn,encode(mo){return encode$L(mo,fo,io)},decode(mo){return decode$15(mo,fo,io,Fn)}}),base58btc$a=baseX$c({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$c({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const base32$9=rfc4648$c({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$c({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$c({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$c({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$c({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$c({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$c({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$c({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$c({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const format$d=(Fn,Mn)=>{const{bytes:io,version:fo}=Fn;switch(fo){case 0:return toStringV0$9(io,baseCache$9(Fn),Mn||base58btc$a.encoder);default:return toStringV1$9(io,baseCache$9(Fn),Mn||base32$9.encoder)}},cache$a=new WeakMap,baseCache$9=Fn=>{const Mn=cache$a.get(Fn);if(Mn==null){const io=new Map;return cache$a.set(Fn,io),io}return Mn};let CID$9=class lm{constructor(Mn,io,fo,mo){this.code=io,this.version=Mn,this.multihash=fo,this.bytes=mo,this["/"]=mo}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:Mn,multihash:io}=this;if(Mn!==DAG_PB_CODE$b)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(io.code!==SHA_256_CODE$9)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return lm.createV0(io)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:Mn,digest:io}=this.multihash,fo=create$t(Mn,io);return lm.createV1(this.code,fo)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(Mn){return lm.equals(this,Mn)}static equals(Mn,io){const fo=io;return fo&&Mn.code===fo.code&&Mn.version===fo.version&&equals$k(Mn.multihash,fo.multihash)}toString(Mn){return format$d(this,Mn)}toJSON(){return{"/":format$d(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(Mn){if(Mn==null)return null;const io=Mn;if(io instanceof lm)return io;if(io["/"]!=null&&io["/"]===io.bytes||io.asCID===io){const{version:fo,code:mo,multihash:$o,bytes:Ao}=io;return new lm(fo,mo,$o,Ao||encodeCID$9(fo,mo,$o.bytes))}else if(io[cidSymbol$9]===!0){const{version:fo,multihash:mo,code:$o}=io,Ao=decode$16(mo);return lm.create(fo,$o,Ao)}else return null}static create(Mn,io,fo){if(typeof io!="number")throw new Error("String codecs are no longer supported");if(!(fo.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(Mn){case 0:{if(io!==DAG_PB_CODE$b)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$b}) block encoding`);return new lm(Mn,io,fo,fo.bytes)}case 1:{const mo=encodeCID$9(Mn,io,fo.bytes);return new lm(Mn,io,fo,mo)}default:throw new Error("Invalid version")}}static createV0(Mn){return lm.create(0,DAG_PB_CODE$b,Mn)}static createV1(Mn,io){return lm.create(1,Mn,io)}static decode(Mn){const[io,fo]=lm.decodeFirst(Mn);if(fo.length)throw new Error("Incorrect length");return io}static decodeFirst(Mn){const io=lm.inspectBytes(Mn),fo=io.size-io.multihashSize,mo=coerce$c(Mn.subarray(fo,fo+io.multihashSize));if(mo.byteLength!==io.multihashSize)throw new Error("Incorrect length");const $o=mo.subarray(io.multihashSize-io.digestSize),Ao=new Digest$c(io.multihashCode,io.digestSize,$o,mo);return[io.version===0?lm.createV0(Ao):lm.createV1(io.codec,Ao),Mn.subarray(io.size)]}static inspectBytes(Mn){let io=0;const fo=()=>{const[Vo,Go]=decode$17(Mn.subarray(io));return io+=Go,Vo};let mo=fo(),$o=DAG_PB_CODE$b;if(mo===18?(mo=0,io=0):$o=fo(),mo!==0&&mo!==1)throw new RangeError(`Invalid CID version ${mo}`);const Ao=io,Lo=fo(),Wo=fo(),jo=io+Wo,zo=jo-Ao;return{version:mo,codec:$o,multihashCode:Lo,digestSize:Wo,multihashSize:zo,size:jo}}static parse(Mn,io){const[fo,mo]=parseCIDtoBytes$9(Mn,io),$o=lm.decode(mo);if($o.version===0&&Mn[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$9($o).set(fo,Mn),$o}};const parseCIDtoBytes$9=(Fn,Mn)=>{switch(Fn[0]){case"Q":{const io=Mn||base58btc$a;return[base58btc$a.prefix,io.decode(`${base58btc$a.prefix}${Fn}`)]}case base58btc$a.prefix:{const io=Mn||base58btc$a;return[base58btc$a.prefix,io.decode(Fn)]}case base32$9.prefix:{const io=Mn||base32$9;return[base32$9.prefix,io.decode(Fn)]}default:{if(Mn==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[Fn[0],Mn.decode(Fn)]}}},toStringV0$9=(Fn,Mn,io)=>{const{prefix:fo}=io;if(fo!==base58btc$a.prefix)throw Error(`Cannot string encode V0 in ${io.name} encoding`);const mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn).slice(1);return Mn.set(fo,$o),$o}else return mo},toStringV1$9=(Fn,Mn,io)=>{const{prefix:fo}=io,mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn);return Mn.set(fo,$o),$o}else return mo},DAG_PB_CODE$b=112,SHA_256_CODE$9=18,encodeCID$9=(Fn,Mn,io)=>{const fo=encodingLength$c(Fn),mo=fo+encodingLength$c(Mn),$o=new Uint8Array(mo+io.byteLength);return encodeTo$c(Fn,$o,0),encodeTo$c(Mn,$o,fo),$o.set(io,mo),$o},cidSymbol$9=Symbol.for("@ipld/js-cid/CID"),create$s=(Fn,Mn)=>CID$9.create(1,Fn,Mn),isLink$1=Fn=>{if(Fn==null)return!1;const Mn=Fn;return Mn["/"]!=null&&Mn["/"]===Mn.bytes||Fn.asCID===Fn},parse$3=(Fn,Mn)=>CID$9.parse(Fn,Mn),code$g=0,name$9="identity",encode$K=coerce$c,digest$4=Fn=>create$t(code$g,encode$K(Fn)),identity$1={code:code$g,name:name$9,encode:encode$K,digest:digest$4},from$r=({name:Fn,code:Mn,encode:io})=>new Hasher$6(Fn,Mn,io);let Hasher$6=class{constructor(Mn,io,fo){this.name=Mn,this.code=io,this.encode=fo}digest(Mn){if(Mn instanceof Uint8Array){const io=this.encode(Mn);return io instanceof Uint8Array?create$t(this.code,io):io.then(fo=>create$t(this.code,fo))}else throw Error("Unknown type, must be binary type")}};const DID_PREFIX="did:",DID_PREFIX_SIZE=DID_PREFIX.length,DID_KEY_PREFIX="did:key:",DID_KEY_PREFIX_SIZE=DID_KEY_PREFIX.length,ED25519=237,RSA$1=4613,P256=4608,P384=4609,P521=4610,SECP256K1=231,BLS12381G1$1=234,BLS12381G2$1=235,DID_CORE=3357,METHOD_OFFSET=encodingLength$c(DID_CORE),parse$2=Fn=>{if(Fn.startsWith(DID_PREFIX))if(Fn.startsWith(DID_KEY_PREFIX)){const Mn=base58btc$a.decode(Fn.slice(DID_KEY_PREFIX_SIZE));return decode$14(Mn)}else{const Mn=encode$N(Fn.slice(DID_PREFIX_SIZE)),io=new Uint8Array(Mn.byteLength+METHOD_OFFSET);return encodeTo$c(DID_CORE,io),io.set(Mn,METHOD_OFFSET),new DID$1(io)}else throw new RangeError(`Invalid DID "${Fn}", must start with 'did:'`)},format$c=Fn=>Fn.did(),from$q=Fn=>Fn instanceof DID$1?Fn:Fn instanceof Uint8Array?decode$14(Fn):parse$2(typeof Fn=="string"?Fn:Fn.did()),decode$14=Fn=>{const[Mn]=decode$17(Fn),{buffer:io,byteOffset:fo,byteLength:mo}=Fn;switch(Mn){case P256:if(Fn.length>35)throw new RangeError("Only p256-pub compressed is supported.");case ED25519:case RSA$1:case P384:case P521:case BLS12381G1$1:case BLS12381G2$1:case SECP256K1:return new DIDKey(io,fo,mo);case DID_CORE:return new DID$1(io,fo,mo);default:throw new RangeError(`Unsupported DID encoding, unknown multicode 0x${Mn.toString(16)}.`)}};let DID$1=class extends Uint8Array{did(){const Mn=new Uint8Array(this.buffer,this.byteOffset+METHOD_OFFSET);return`did:${decode$19(Mn)}`}toJSON(){return this.did()}};class DIDKey extends DID$1{did(){return`did:key:${base58btc$a.encode(this)}`}}const code$f=85,base64$3=rfc4648$c({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648$c({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const base64url=rfc4648$c({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648$c({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});const NON_STANDARD=53248,ES256K=53479,BLS12381G1=53482,BLS12381G2=53483,EdDSA=53485,ES256=13636096,ES384=13636097,ES512=13636098,RS256=13636101,EIP191=53649,codeName=Fn=>{switch(Fn){case ES256K:return"ES256K";case BLS12381G1:return"BLS12381G1";case BLS12381G2:return"BLS12381G2";case EdDSA:return"EdDSA";case ES256:return"ES256";case ES384:return"ES384";case ES512:return"ES512";case RS256:return"RS256";case EIP191:return"EIP191";default:throw new RangeError(`Unknown signature algorithm code 0x${Fn.toString(16)}`)}},nameCode=Fn=>{switch(Fn){case"ES256K":return ES256K;case"BLS12381G1":return BLS12381G1;case"BLS12381G2":return BLS12381G2;case"EdDSA":return EdDSA;case"ES256":return ES256;case"ES384":return ES384;case"ES512":return ES512;case"RS256":return RS256;case"EIP191":return EIP191;default:return NON_STANDARD}};let Signature$1=class extends Uint8Array{get code(){const[Mn]=decode$17(this);return Object.defineProperties(this,{code:{value:Mn}}),Mn}get size(){const Mn=size$3(this);return Object.defineProperties(this,{size:{value:Mn}}),Mn}get algorithm(){const Mn=algorithm(this);return Object.defineProperties(this,{algorithm:{value:Mn}}),Mn}get raw(){const{buffer:Mn,byteOffset:io,size:fo,code:mo}=this,$o=encodingLength$c(mo),Ao=encodingLength$c(fo),Lo=new Uint8Array(Mn,io+$o+Ao,fo);return Object.defineProperties(this,{raw:{value:Lo}}),Lo}async verify(Mn,io){try{if(await Mn.verify(io,this)===!0)return{ok:{}};throw new Error("Invalid signature")}catch(fo){return{error:fo}}}toJSON(){return toJSON$1(this)}};const algorithm=Fn=>{const{code:Mn,raw:io,buffer:fo,byteOffset:mo}=Fn;if(Mn===NON_STANDARD){const $o=io.byteLength+encodingLength$c(Mn)+encodingLength$c(io.byteLength),Ao=new Uint8Array(fo,mo+$o);return decode$19(Ao)}else return codeName(Mn)},size$3=Fn=>{const Mn=encodingLength$c(Fn.code),[io]=decode$17(new Uint8Array(Fn.buffer,Fn.byteOffset+Mn));return io},create$r=(Fn,Mn)=>{codeName(Fn);const io=encodingLength$c(Fn),fo=encodingLength$c(Mn.byteLength),mo=new Signature$1(io+fo+Mn.byteLength);return encodeTo$c(Fn,mo),encodeTo$c(Mn.byteLength,mo,io),mo.set(Mn,io+fo),Object.defineProperties(mo,{code:{value:Fn},size:{value:Mn.byteLength}}),mo},createNamed=(Fn,Mn)=>{const io=nameCode(Fn);return io===NON_STANDARD?createNonStandard(Fn,Mn):create$r(io,Mn)},createNonStandard=(Fn,Mn)=>{const io=NON_STANDARD,fo=encodingLength$c(io),mo=encodingLength$c(Mn.byteLength),$o=encode$N(Fn),Ao=new Signature$1(fo+mo+Mn.byteLength+$o.byteLength);return encodeTo$c(io,Ao),encodeTo$c(Mn.byteLength,Ao,fo),Ao.set(Mn,fo+mo),Ao.set($o,fo+mo+Mn.byteLength),Ao},view$4=Fn=>new Signature$1(Fn.buffer,Fn.byteOffset,Fn.byteLength),decode$13=Fn=>{if(!(Fn instanceof Uint8Array))throw new TypeError(`Can only decode Uint8Array into a Signature, instead got ${JSON.stringify(Fn)}`);return view$4(Fn)},encode$J=Fn=>decode$13(Fn),toJSON$1=Fn=>({"/":{bytes:base64$3.baseEncode(Fn)}}),readPayload=Fn=>readPayloadWith(Fn,{readPrincipal,readProof}),readJWTPayload=Fn=>readPayloadWith(Fn,{readPrincipal:readStringPrincipal,readProof:readStringProof}),readPayloadWith=(Fn,{readPrincipal:Mn,readProof:io})=>({iss:Mn(Fn.iss,"iss"),aud:Mn(Fn.aud,"aud"),att:readCapabilities(Fn.att,"att"),prf:readOptionalArray(Fn.prf,io,"prf")||[],exp:readNullable(Fn.exp===1/0?null:Fn.exp,readInt$2,"exp"),nbf:readOptional(Fn.nbf,readInt$2,"nbf"),fct:readOptionalArray(Fn.fct,readFact,"fct")||[],nnc:readOptional(Fn.nnc,readString,"nnc")}),readSignature=Fn=>{if(Fn instanceof Uint8Array)return decode$13(Fn);throw new TypeError(`Can only decode Uint8Array into a Signature, instead got ${JSON.stringify(Fn)}`)},readInt$2=(Fn,Mn)=>Number.isInteger(Fn)?Fn:ParseError.throw(`Expected ${Mn} to be integer, instead got ${JSON.stringify(Fn)}`),readCapability=(Fn,Mn)=>readStruct(Fn,asCapability,Mn),readCapabilities=(Fn,Mn)=>readArray(Fn,readCapability,Mn),asCapability=Fn=>({...Fn,can:readAbility(Fn.can),with:readResource(Fn.with)}),readAbility=Fn=>typeof Fn!="string"?ParseError.throw(`Capability has invalid 'can: ${JSON.stringify(Fn)}', value must be a string`):Fn.slice(1,-1).includes("/")?Fn.toLocaleLowerCase():Fn==="*"?Fn:ParseError.throw(`Capability has invalid 'can: "${Fn}"', value must have at least one path segment`),readResource=Fn=>typeof Fn!="string"?ParseError.throw(`Capability has invalid 'with: ${JSON.stringify(Fn)}', value must be a string`):parseURL(Fn)||ParseError.throw(`Capability has invalid 'with: "${Fn}"', value must be a valid URI string`),parseURL=Fn=>{try{return new URL(Fn),Fn}catch{return null}},readArray=(Fn,Mn,io)=>Array.isArray(Fn)?Fn.map((fo,mo)=>Mn(fo,`${io}[${mo}]`)):ParseError.throw(`${io} must be an array`),readOptionalArray=(Fn,Mn,io)=>Fn===void 0?Fn:readArray(Fn,Mn,io),readStruct=(Fn,Mn,io)=>Fn!=null&&typeof Fn=="object"?Mn(Fn):ParseError.throw(`${io} must be of type object, instead got ${Fn}`),readFact=(Fn,Mn)=>readStruct(Fn,Object,Mn),readProof=(Fn,Mn)=>isLink$1(Fn)?Fn:fail$1(`Expected ${Mn} to be IPLD link, instead got ${JSON.stringify(Fn)}`),readStringProof=(Fn,Mn)=>parseProof(readString(Fn,Mn)),parseProof=Fn=>{try{return parse$3(Fn)}catch{return create$s(code$f,identity$1.digest(encode$N(Fn)))}},readPrincipal=(Fn,Mn)=>decode$14(readBytes(Fn,Mn)),readStringPrincipal=(Fn,Mn)=>parse$2(readString(Fn,Mn)),readOptional=(Fn,Mn,io="Field")=>Fn!==void 0?Mn(Fn,io):void 0,readNullable=(Fn,Mn,io)=>Fn===null?null:Mn(Fn,io),readString=(Fn,Mn="Field")=>typeof Fn=="string"?Fn:fail$1(`${Mn} has invalid value ${Fn}`),readBytes=(Fn,Mn)=>Fn instanceof Uint8Array?Fn:fail$1(`Expected ${Mn} to be Uint8Array, instead got ${JSON.stringify(Fn)}`),readVersion=(Fn,Mn)=>/\d+\.\d+\.\d+/.test(Fn)?Fn:ParseError.throw(`Invalid version '${Mn}: ${JSON.stringify(Fn)}'`),readLiteral=(Fn,Mn,io)=>Fn===Mn?Mn:ParseError.throw(`Expected ${io} to be a ${JSON.stringify(Mn)} instead got ${JSON.stringify(Fn)}`);class ParseError extends TypeError{get name(){return"ParseError"}static throw(Mn){throw new this(Mn)}}const fail$1=Fn=>ParseError.throw(Fn);class JSONEncoder extends Array{constructor(){super(),this.inRecursive=[]}prefix(Mn){const io=this.inRecursive[this.inRecursive.length-1];io&&(io.type===Type.array&&(io.elements++,io.elements!==1&&Mn.push([44])),io.type===Type.map&&(io.elements++,io.elements!==1&&(io.elements%2===1?Mn.push([44]):Mn.push([58]))))}[Type.uint.major](Mn,io){this.prefix(Mn);const fo=String(io.value),mo=[];for(let $o=0;$o<fo.length;$o++)mo[$o]=fo.charCodeAt($o);Mn.push(mo)}[Type.negint.major](Mn,io){this[Type.uint.major](Mn,io)}[Type.bytes.major](Mn,io){throw new Error(`${encodeErrPrefix} unsupported type: Uint8Array`)}[Type.string.major](Mn,io){this.prefix(Mn);const fo=fromString$2(JSON.stringify(io.value));Mn.push(fo.length>32?asU8A(fo):fo)}[Type.array.major](Mn,io){this.prefix(Mn),this.inRecursive.push({type:Type.array,elements:0}),Mn.push([91])}[Type.map.major](Mn,io){this.prefix(Mn),this.inRecursive.push({type:Type.map,elements:0}),Mn.push([123])}[Type.tag.major](Mn,io){}[Type.float.major](Mn,io){if(io.type.name==="break"){const Ao=this.inRecursive.pop();if(Ao){if(Ao.type===Type.array)Mn.push([93]);else if(Ao.type===Type.map)Mn.push([125]);else throw new Error("Unexpected recursive type; this should not happen!");return}throw new Error("Unexpected break; this should not happen!")}if(io.value===void 0)throw new Error(`${encodeErrPrefix} unsupported type: undefined`);if(this.prefix(Mn),io.type.name==="true"){Mn.push([116,114,117,101]);return}else if(io.type.name==="false"){Mn.push([102,97,108,115,101]);return}else if(io.type.name==="null"){Mn.push([110,117,108,108]);return}const fo=String(io.value),mo=[];let $o=!1;for(let Ao=0;Ao<fo.length;Ao++)mo[Ao]=fo.charCodeAt(Ao),!$o&&(mo[Ao]===46||mo[Ao]===101||mo[Ao]===69)&&($o=!0);$o||(mo.push(46),mo.push(48)),Mn.push(mo)}}function mapSorter(Fn,Mn){if(Array.isArray(Fn[0])||Array.isArray(Mn[0]))throw new Error(`${encodeErrPrefix} complex map keys are not supported`);const io=Fn[0],fo=Mn[0];if(io.type!==Type.string||fo.type!==Type.string)throw new Error(`${encodeErrPrefix} non-string map keys are not supported`);if(io<fo)return-1;if(io>fo)return 1;throw new Error(`${encodeErrPrefix} unexpected duplicate map keys, this is not supported`)}const defaultEncodeOptions$1={addBreakTokens:!0,mapSorter};function encode$I(Fn,Mn){return Mn=Object.assign({},defaultEncodeOptions$1,Mn),encodeCustom(Fn,new JSONEncoder,Mn)}class Tokenizer{constructor(Mn,io={}){this._pos=0,this.data=Mn,this.options=io,this.modeStack=["value"],this.lastToken=""}pos(){return this._pos}done(){return this._pos>=this.data.length}ch(){return this.data[this._pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let Mn=this.ch();for(;Mn===32||Mn===9||Mn===13||Mn===10;)Mn=this.data[++this._pos]}expect(Mn){if(this.data.length-this._pos<Mn.length)throw new Error(`${decodeErrPrefix} unexpected end of input at position ${this._pos}`);for(let io=0;io<Mn.length;io++)if(this.data[this._pos++]!==Mn[io])throw new Error(`${decodeErrPrefix} unexpected token at position ${this._pos}, expected to find '${String.fromCharCode(...Mn)}'`)}parseNumber(){const Mn=this._pos;let io=!1,fo=!1;const mo=Lo=>{for(;!this.done();){const Wo=this.ch();if(Lo.includes(Wo))this._pos++;else break}};if(this.ch()===45&&(io=!0,this._pos++),this.ch()===48)if(this._pos++,this.ch()===46)this._pos++,fo=!0;else return new Token(Type.uint,0,this._pos-Mn);if(mo([48,49,50,51,52,53,54,55,56,57]),io&&this._pos===Mn+1)throw new Error(`${decodeErrPrefix} unexpected token at position ${this._pos}`);if(!this.done()&&this.ch()===46){if(fo)throw new Error(`${decodeErrPrefix} unexpected token at position ${this._pos}`);fo=!0,this._pos++,mo([48,49,50,51,52,53,54,55,56,57])}!this.done()&&(this.ch()===101||this.ch()===69)&&(fo=!0,this._pos++,!this.done()&&(this.ch()===43||this.ch()===45)&&this._pos++,mo([48,49,50,51,52,53,54,55,56,57]));const $o=String.fromCharCode.apply(null,this.data.subarray(Mn,this._pos)),Ao=parseFloat($o);return fo?new Token(Type.float,Ao,this._pos-Mn):this.options.allowBigInt!==!0||Number.isSafeInteger(Ao)?new Token(Ao>=0?Type.uint:Type.negint,Ao,this._pos-Mn):new Token(Ao>=0?Type.uint:Type.negint,BigInt($o),this._pos-Mn)}parseString(){if(this.ch()!==34)throw new Error(`${decodeErrPrefix} unexpected character at position ${this._pos}; this shouldn't happen`);this._pos++;for(let $o=this._pos,Ao=0;$o<this.data.length&&Ao<65536;$o++,Ao++){const Lo=this.data[$o];if(Lo===92||Lo<32||Lo>=128)break;if(Lo===34){const Wo=String.fromCharCode.apply(null,this.data.subarray(this._pos,$o));return this._pos=$o+1,new Token(Type.string,Wo,Ao)}}const Mn=this._pos,io=[],fo=()=>{if(this._pos+4>=this.data.length)throw new Error(`${decodeErrPrefix} unexpected end of unicode escape sequence at position ${this._pos}`);let $o=0;for(let Ao=0;Ao<4;Ao++){let Lo=this.ch();if(Lo>=48&&Lo<=57)Lo-=48;else if(Lo>=97&&Lo<=102)Lo=Lo-97+10;else if(Lo>=65&&Lo<=70)Lo=Lo-65+10;else throw new Error(`${decodeErrPrefix} unexpected unicode escape character at position ${this._pos}`);$o=$o*16+Lo,this._pos++}return $o},mo=()=>{const $o=this.ch();let Ao=null,Lo=$o>239?4:$o>223?3:$o>191?2:1;if(this._pos+Lo>this.data.length)throw new Error(`${decodeErrPrefix} unexpected unicode sequence at position ${this._pos}`);let Wo,jo,zo,Vo;switch(Lo){case 1:$o<128&&(Ao=$o);break;case 2:Wo=this.data[this._pos+1],(Wo&192)===128&&(Vo=($o&31)<<6|Wo&63,Vo>127&&(Ao=Vo));break;case 3:Wo=this.data[this._pos+1],jo=this.data[this._pos+2],(Wo&192)===128&&(jo&192)===128&&(Vo=($o&15)<<12|(Wo&63)<<6|jo&63,Vo>2047&&(Vo<55296||Vo>57343)&&(Ao=Vo));break;case 4:Wo=this.data[this._pos+1],jo=this.data[this._pos+2],zo=this.data[this._pos+3],(Wo&192)===128&&(jo&192)===128&&(zo&192)===128&&(Vo=($o&15)<<18|(Wo&63)<<12|(jo&63)<<6|zo&63,Vo>65535&&Vo<1114112&&(Ao=Vo))}Ao===null?(Ao=65533,Lo=1):Ao>65535&&(Ao-=65536,io.push(Ao>>>10&1023|55296),Ao=56320|Ao&1023),io.push(Ao),this._pos+=Lo};for(;!this.done();){const $o=this.ch();let Ao;switch($o){case 92:if(this._pos++,this.done())throw new Error(`${decodeErrPrefix} unexpected string termination at position ${this._pos}`);switch(Ao=this.ch(),this._pos++,Ao){case 34:case 39:case 92:case 47:io.push(Ao);break;case 98:io.push(8);break;case 116:io.push(9);break;case 110:io.push(10);break;case 102:io.push(12);break;case 114:io.push(13);break;case 117:io.push(fo());break;default:throw new Error(`${decodeErrPrefix} unexpected string escape character at position ${this._pos}`)}break;case 34:return this._pos++,new Token(Type.string,decodeCodePointsArray(io),this._pos-Mn);default:if($o<32)throw new Error(`${decodeErrPrefix} invalid control character at position ${this._pos}`);$o<128?(io.push($o),this._pos++):mo()}}throw new Error(`${decodeErrPrefix} unexpected end of string at position ${this._pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this._pos++,new Token(Type.map,1/0,1);case 91:return this.modeStack.push("array-start"),this._pos++,new Token(Type.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new Token(Type.null,null,4);case 102:return this.expect([102,97,108,115,101]),new Token(Type.false,!1,5);case 116:return this.expect([116,114,117,101]),new Token(Type.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw new Error(`${decodeErrPrefix} unexpected character at position ${this._pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":{if(this.modeStack.pop(),this.ch()===93)return this._pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);if(this.ch()!==44)throw new Error(`${decodeErrPrefix} unexpected character at position ${this._pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue()}case"array-start":return this.modeStack.pop(),this.ch()===93?(this._pos++,this.skipWhitespace(),new Token(Type.break,void 0,1)):(this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue());case"obj-key":if(this.ch()===125)return this.modeStack.pop(),this._pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);if(this.ch()!==44)throw new Error(`${decodeErrPrefix} unexpected character at position ${this._pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this._pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),this.ch()===125)return this._pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);const Mn=this.parseString();if(this.skipWhitespace(),this.ch()!==58)throw new Error(`${decodeErrPrefix} unexpected character at position ${this._pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("obj-value"),Mn}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw new Error(`${decodeErrPrefix} unexpected parse state at position ${this._pos}; this shouldn't happen`)}}}function decode$12(Fn,Mn){return Mn=Object.assign({tokenizer:new Tokenizer(Fn,Mn)},Mn),decode$1f(Fn,Mn)}function equals$j(Fn,Mn){if(Fn===Mn)return!0;if(Fn.byteLength!==Mn.byteLength)return!1;for(let io=0;io<Fn.byteLength;io++)if(Fn[io]!==Mn[io])return!1;return!0}function coerce$b(Fn){if(Fn instanceof Uint8Array&&Fn.constructor.name==="Uint8Array")return Fn;if(Fn instanceof ArrayBuffer)return new Uint8Array(Fn);if(ArrayBuffer.isView(Fn))return new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength);throw new Error("Unknown type, must be binary type")}function base$b(Fn,Mn){if(Fn.length>=255)throw new TypeError("Alphabet too long");for(var io=new Uint8Array(256),fo=0;fo<io.length;fo++)io[fo]=255;for(var mo=0;mo<Fn.length;mo++){var $o=Fn.charAt(mo),Ao=$o.charCodeAt(0);if(io[Ao]!==255)throw new TypeError($o+" is ambiguous");io[Ao]=mo}var Lo=Fn.length,Wo=Fn.charAt(0),jo=Math.log(Lo)/Math.log(256),zo=Math.log(256)/Math.log(Lo);function Vo(Qo){if(Qo instanceof Uint8Array||(ArrayBuffer.isView(Qo)?Qo=new Uint8Array(Qo.buffer,Qo.byteOffset,Qo.byteLength):Array.isArray(Qo)&&(Qo=Uint8Array.from(Qo))),!(Qo instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Qo.length===0)return"";for(var os=0,Cl=0,xl=0,ds=Qo.length;xl!==ds&&Qo[xl]===0;)xl++,os++;for(var _c=(ds-xl)*zo+1>>>0,$l=new Uint8Array(_c);xl!==ds;){for(var Al=Qo[xl],Il=0,us=_c-1;(Al!==0||Il<Cl)&&us!==-1;us--,Il++)Al+=256*$l[us]>>>0,$l[us]=Al%Lo>>>0,Al=Al/Lo>>>0;if(Al!==0)throw new Error("Non-zero carry");Cl=Il,xl++}for(var ps=_c-Cl;ps!==_c&&$l[ps]===0;)ps++;for(var Rl=Wo.repeat(os);ps<_c;++ps)Rl+=Fn.charAt($l[ps]);return Rl}function Go(Qo){if(typeof Qo!="string")throw new TypeError("Expected String");if(Qo.length===0)return new Uint8Array;var os=0;if(Qo[os]!==" "){for(var Cl=0,xl=0;Qo[os]===Wo;)Cl++,os++;for(var ds=(Qo.length-os)*jo+1>>>0,_c=new Uint8Array(ds);Qo[os];){var $l=io[Qo.charCodeAt(os)];if($l===255)return;for(var Al=0,Il=ds-1;($l!==0||Al<xl)&&Il!==-1;Il--,Al++)$l+=Lo*_c[Il]>>>0,_c[Il]=$l%256>>>0,$l=$l/256>>>0;if($l!==0)throw new Error("Non-zero carry");xl=Al,os++}if(Qo[os]!==" "){for(var us=ds-xl;us!==ds&&_c[us]===0;)us++;for(var ps=new Uint8Array(Cl+(ds-us)),Rl=Cl;us!==ds;)ps[Rl++]=_c[us++];return ps}}}function Jo(Qo){var os=Go(Qo);if(os)return os;throw new Error(`Non-${Mn} character`)}return{encode:Vo,decodeUnsafe:Go,decode:Jo}}var src$b=base$b,_brrp__multiformats_scope_baseX$b=src$b;let Encoder$b=class{constructor(Mn,io,fo){tp(this,"name");tp(this,"prefix");tp(this,"baseEncode");this.name=Mn,this.prefix=io,this.baseEncode=fo}encode(Mn){if(Mn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Mn)}`;throw Error("Unknown type, must be binary type")}},Decoder$b=class{constructor(Mn,io,fo){tp(this,"name");tp(this,"prefix");tp(this,"baseDecode");tp(this,"prefixCodePoint");this.name=Mn,this.prefix=io;const mo=io.codePointAt(0);if(mo===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=mo,this.baseDecode=fo}decode(Mn){if(typeof Mn=="string"){if(Mn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Mn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Mn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(Mn){return or$j(this,Mn)}},ComposedDecoder$b=class{constructor(Mn){tp(this,"decoders");this.decoders=Mn}or(Mn){return or$j(this,Mn)}decode(Mn){const io=Mn[0],fo=this.decoders[io];if(fo!=null)return fo.decode(Mn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Mn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function or$j(Fn,Mn){return new ComposedDecoder$b({...Fn.decoders??{[Fn.prefix]:Fn},...Mn.decoders??{[Mn.prefix]:Mn}})}let Codec$b=class{constructor(Mn,io,fo,mo){tp(this,"name");tp(this,"prefix");tp(this,"baseEncode");tp(this,"baseDecode");tp(this,"encoder");tp(this,"decoder");this.name=Mn,this.prefix=io,this.baseEncode=fo,this.baseDecode=mo,this.encoder=new Encoder$b(Mn,io,fo),this.decoder=new Decoder$b(Mn,io,mo)}encode(Mn){return this.encoder.encode(Mn)}decode(Mn){return this.decoder.decode(Mn)}};function from$p({name:Fn,prefix:Mn,encode:io,decode:fo}){return new Codec$b(Fn,Mn,io,fo)}function baseX$b({name:Fn,prefix:Mn,alphabet:io}){const{encode:fo,decode:mo}=_brrp__multiformats_scope_baseX$b(io,Fn);return from$p({prefix:Mn,name:Fn,encode:fo,decode:$o=>coerce$b(mo($o))})}function decode$11(Fn,Mn,io,fo){const mo={};for(let zo=0;zo<Mn.length;++zo)mo[Mn[zo]]=zo;let $o=Fn.length;for(;Fn[$o-1]==="=";)--$o;const Ao=new Uint8Array($o*io/8|0);let Lo=0,Wo=0,jo=0;for(let zo=0;zo<$o;++zo){const Vo=mo[Fn[zo]];if(Vo===void 0)throw new SyntaxError(`Non-${fo} character`);Wo=Wo<<io|Vo,Lo+=io,Lo>=8&&(Lo-=8,Ao[jo++]=255&Wo>>Lo)}if(Lo>=io||255&Wo<<8-Lo)throw new SyntaxError("Unexpected end of data");return Ao}function encode$H(Fn,Mn,io){const fo=Mn[Mn.length-1]==="=",mo=(1<<io)-1;let $o="",Ao=0,Lo=0;for(let Wo=0;Wo<Fn.length;++Wo)for(Lo=Lo<<8|Fn[Wo],Ao+=8;Ao>io;)Ao-=io,$o+=Mn[mo&Lo>>Ao];if(Ao!==0&&($o+=Mn[mo&Lo<<io-Ao]),fo)for(;$o.length*io&7;)$o+="=";return $o}function rfc4648$b({name:Fn,prefix:Mn,bitsPerChar:io,alphabet:fo}){return from$p({prefix:Mn,name:Fn,encode(mo){return encode$H(mo,fo,io)},decode(mo){return decode$11(mo,fo,io,Fn)}})}const base32$8=rfc4648$b({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$b({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$b({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$b({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$b({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$b({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$b({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$b({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$b({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const base36$4=baseX$b({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});baseX$b({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});const base58btc$9=baseX$b({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$b({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var encode_1$c=encode$G,MSB$e=128,REST$e=127,MSBALL$d=~REST$e,INT$d=Math.pow(2,31);function encode$G(Fn,Mn,io){Mn=Mn||[],io=io||0;for(var fo=io;Fn>=INT$d;)Mn[io++]=Fn&255|MSB$e,Fn/=128;for(;Fn&MSBALL$d;)Mn[io++]=Fn&255|MSB$e,Fn>>>=7;return Mn[io]=Fn|0,encode$G.bytes=io-fo+1,Mn}var decode$10=read$f,MSB$1$c=128,REST$1$c=127;function read$f(Fn,fo){var io=0,fo=fo||0,mo=0,$o=fo,Ao,Lo=Fn.length;do{if($o>=Lo)throw read$f.bytes=0,new RangeError("Could not decode varint");Ao=Fn[$o++],io+=mo<28?(Ao&REST$1$c)<<mo:(Ao&REST$1$c)*Math.pow(2,mo),mo+=7}while(Ao>=MSB$1$c);return read$f.bytes=$o-fo,io}var N1$c=Math.pow(2,7),N2$c=Math.pow(2,14),N3$c=Math.pow(2,21),N4$c=Math.pow(2,28),N5$c=Math.pow(2,35),N6$c=Math.pow(2,42),N7$c=Math.pow(2,49),N8$c=Math.pow(2,56),N9$c=Math.pow(2,63),length$c=function(Fn){return Fn<N1$c?1:Fn<N2$c?2:Fn<N3$c?3:Fn<N4$c?4:Fn<N5$c?5:Fn<N6$c?6:Fn<N7$c?7:Fn<N8$c?8:Fn<N9$c?9:10},varint$d={encode:encode_1$c,decode:decode$10,encodingLength:length$c},_brrp_varint$b=varint$d;function decode$$(Fn,Mn=0){return[_brrp_varint$b.decode(Fn,Mn),_brrp_varint$b.decode.bytes]}function encodeTo$b(Fn,Mn,io=0){return _brrp_varint$b.encode(Fn,Mn,io),Mn}function encodingLength$b(Fn){return _brrp_varint$b.encodingLength(Fn)}function create$q(Fn,Mn){const io=Mn.byteLength,fo=encodingLength$b(Fn),mo=fo+encodingLength$b(io),$o=new Uint8Array(mo+io);return encodeTo$b(Fn,$o,0),encodeTo$b(io,$o,fo),$o.set(Mn,mo),new Digest$b(Fn,io,Mn,$o)}function decode$_(Fn){const Mn=coerce$b(Fn),[io,fo]=decode$$(Mn),[mo,$o]=decode$$(Mn.subarray(fo)),Ao=Mn.subarray(fo+$o);if(Ao.byteLength!==mo)throw new Error("Incorrect length");return new Digest$b(io,mo,Ao,Mn)}function equals$i(Fn,Mn){if(Fn===Mn)return!0;{const io=Mn;return Fn.code===io.code&&Fn.size===io.size&&io.bytes instanceof Uint8Array&&equals$j(Fn.bytes,io.bytes)}}let Digest$b=class{constructor(Mn,io,fo,mo){tp(this,"code");tp(this,"size");tp(this,"digest");tp(this,"bytes");this.code=Mn,this.size=io,this.digest=fo,this.bytes=mo}};function format$b(Fn,Mn){const{bytes:io,version:fo}=Fn;switch(fo){case 0:return toStringV0$8(io,baseCache$8(Fn),Mn??base58btc$9.encoder);default:return toStringV1$8(io,baseCache$8(Fn),Mn??base32$8.encoder)}}const cache$9=new WeakMap;function baseCache$8(Fn){const Mn=cache$9.get(Fn);if(Mn==null){const io=new Map;return cache$9.set(Fn,io),io}return Mn}var _6;let CID$8=class um{constructor(Mn,io,fo,mo){tp(this,"code");tp(this,"version");tp(this,"multihash");tp(this,"bytes");tp(this,"/");tp(this,_6,"CID");this.code=io,this.version=Mn,this.multihash=fo,this.bytes=mo,this["/"]=mo}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:Mn,multihash:io}=this;if(Mn!==DAG_PB_CODE$a)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(io.code!==SHA_256_CODE$8)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return um.createV0(io)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:Mn,digest:io}=this.multihash,fo=create$q(Mn,io);return um.createV1(this.code,fo)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(Mn){return um.equals(this,Mn)}static equals(Mn,io){const fo=io;return fo!=null&&Mn.code===fo.code&&Mn.version===fo.version&&equals$i(Mn.multihash,fo.multihash)}toString(Mn){return format$b(this,Mn)}toJSON(){return{"/":format$b(this)}}link(){return this}[(_6=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(Mn){if(Mn==null)return null;const io=Mn;if(io instanceof um)return io;if(io["/"]!=null&&io["/"]===io.bytes||io.asCID===io){const{version:fo,code:mo,multihash:$o,bytes:Ao}=io;return new um(fo,mo,$o,Ao??encodeCID$8(fo,mo,$o.bytes))}else if(io[cidSymbol$8]===!0){const{version:fo,multihash:mo,code:$o}=io,Ao=decode$_(mo);return um.create(fo,$o,Ao)}else return null}static create(Mn,io,fo){if(typeof io!="number")throw new Error("String codecs are no longer supported");if(!(fo.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(Mn){case 0:{if(io!==DAG_PB_CODE$a)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$a}) block encoding`);return new um(Mn,io,fo,fo.bytes)}case 1:{const mo=encodeCID$8(Mn,io,fo.bytes);return new um(Mn,io,fo,mo)}default:throw new Error("Invalid version")}}static createV0(Mn){return um.create(0,DAG_PB_CODE$a,Mn)}static createV1(Mn,io){return um.create(1,Mn,io)}static decode(Mn){const[io,fo]=um.decodeFirst(Mn);if(fo.length!==0)throw new Error("Incorrect length");return io}static decodeFirst(Mn){const io=um.inspectBytes(Mn),fo=io.size-io.multihashSize,mo=coerce$b(Mn.subarray(fo,fo+io.multihashSize));if(mo.byteLength!==io.multihashSize)throw new Error("Incorrect length");const $o=mo.subarray(io.multihashSize-io.digestSize),Ao=new Digest$b(io.multihashCode,io.digestSize,$o,mo);return[io.version===0?um.createV0(Ao):um.createV1(io.codec,Ao),Mn.subarray(io.size)]}static inspectBytes(Mn){let io=0;const fo=()=>{const[Vo,Go]=decode$$(Mn.subarray(io));return io+=Go,Vo};let mo=fo(),$o=DAG_PB_CODE$a;if(mo===18?(mo=0,io=0):$o=fo(),mo!==0&&mo!==1)throw new RangeError(`Invalid CID version ${mo}`);const Ao=io,Lo=fo(),Wo=fo(),jo=io+Wo,zo=jo-Ao;return{version:mo,codec:$o,multihashCode:Lo,digestSize:Wo,multihashSize:zo,size:jo}}static parse(Mn,io){const[fo,mo]=parseCIDtoBytes$8(Mn,io),$o=um.decode(mo);if($o.version===0&&Mn[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$8($o).set(fo,Mn),$o}};function parseCIDtoBytes$8(Fn,Mn){switch(Fn[0]){case"Q":{const io=Mn??base58btc$9;return[base58btc$9.prefix,io.decode(`${base58btc$9.prefix}${Fn}`)]}case base58btc$9.prefix:{const io=Mn??base58btc$9;return[base58btc$9.prefix,io.decode(Fn)]}case base32$8.prefix:{const io=Mn??base32$8;return[base32$8.prefix,io.decode(Fn)]}case base36$4.prefix:{const io=Mn??base36$4;return[base36$4.prefix,io.decode(Fn)]}default:{if(Mn==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[Fn[0],Mn.decode(Fn)]}}}function toStringV0$8(Fn,Mn,io){const{prefix:fo}=io;if(fo!==base58btc$9.prefix)throw Error(`Cannot string encode V0 in ${io.name} encoding`);const mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn).slice(1);return Mn.set(fo,$o),$o}else return mo}function toStringV1$8(Fn,Mn,io){const{prefix:fo}=io,mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn);return Mn.set(fo,$o),$o}else return mo}const DAG_PB_CODE$a=112,SHA_256_CODE$8=18;function encodeCID$8(Fn,Mn,io){const fo=encodingLength$b(Fn),mo=fo+encodingLength$b(Mn),$o=new Uint8Array(mo+io.byteLength);return encodeTo$b(Fn,$o,0),encodeTo$b(Mn,$o,fo),$o.set(io,mo),$o}const cidSymbol$8=Symbol.for("@ipld/js-cid/CID"),base64$2=rfc4648$b({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648$b({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});rfc4648$b({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648$b({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function toByteView$1(Fn){return Fn instanceof ArrayBuffer?new Uint8Array(Fn,0,Fn.byteLength):Fn}function cidEncoder(Fn){if(Fn.asCID!==Fn&&Fn["/"]!==Fn.bytes)return null;const Mn=CID$8.asCID(Fn);if(!Mn)return null;const io=Mn.toString();return[new Token(Type.map,1/0,1),new Token(Type.string,"/",1),new Token(Type.string,io,io.length),new Token(Type.break,void 0,1)]}function bytesEncoder(Fn){const Mn=base64$2.encode(Fn).slice(1);return[new Token(Type.map,1/0,1),new Token(Type.string,"/",1),new Token(Type.map,1/0,1),new Token(Type.string,"bytes",5),new Token(Type.string,Mn,Mn.length),new Token(Type.break,void 0,1),new Token(Type.break,void 0,1)]}function taBytesEncoder(Fn){return bytesEncoder(new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength))}function abBytesEncoder(Fn){return bytesEncoder(new Uint8Array(Fn))}function undefinedEncoder(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder(Fn){if(Number.isNaN(Fn))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(Fn===1/0||Fn===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions={typeEncoders:{Object:cidEncoder,Buffer:bytesEncoder,Uint8Array:bytesEncoder,Int8Array:taBytesEncoder,Uint16Array:taBytesEncoder,Int16Array:taBytesEncoder,Uint32Array:taBytesEncoder,Int32Array:taBytesEncoder,Float32Array:taBytesEncoder,Float64Array:taBytesEncoder,Uint8ClampedArray:taBytesEncoder,BigInt64Array:taBytesEncoder,BigUint64Array:taBytesEncoder,DataView:taBytesEncoder,ArrayBuffer:abBytesEncoder,undefined:undefinedEncoder,number:numberEncoder}};class DagJsonTokenizer extends Tokenizer{constructor(Mn,io){super(Mn,io),this.tokenBuffer=[]}done(){return this.tokenBuffer.length===0&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){const Mn=this._next();if(Mn.type===Type.map){const io=this._next();if(io.type===Type.string&&io.value==="/"){const fo=this._next();if(fo.type===Type.string){if(this._next().type!==Type.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(fo),new Token(Type.tag,42,0)}if(fo.type===Type.map){const mo=this._next();if(mo.type===Type.string&&mo.value==="bytes"){const $o=this._next();if($o.type===Type.string){for(let Lo=0;Lo<2;Lo++)if(this._next().type!==Type.break)throw new Error("Invalid encoded Bytes form");const Ao=base64$2.decode(`m${$o.value}`);return new Token(Type.bytes,Ao,$o.value.length)}this.tokenBuffer.push($o)}this.tokenBuffer.push(mo)}this.tokenBuffer.push(fo)}this.tokenBuffer.push(io)}return Mn}}const decodeOptions={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};decodeOptions.tags[42]=CID$8.parse;const encode$F=Fn=>encode$I(Fn,encodeOptions),decode$Z=Fn=>{const Mn=toByteView$1(Fn),io=Object.assign(decodeOptions,{tokenizer:new DagJsonTokenizer(Mn,decodeOptions)});return decode$12(Mn,io)};new TextDecoder;new TextEncoder;const format$a=Fn=>{const Mn=formatHeader(Fn.v,Fn.s.algorithm),io=formatPayload(Fn),fo=formatSignature(Fn.s);return`${Mn}.${io}.${fo}`},formatSignPayload=(Fn,Mn,io)=>`${formatHeader(Mn,io)}.${formatPayload(Fn)}`,formatHeader=(Fn,Mn)=>base64url.baseEncode(encodeHeader$1(Fn,Mn)),formatPayload=Fn=>base64url.baseEncode(encodePayload(Fn)),formatSignature=Fn=>base64url.baseEncode(Fn.raw),encodeHeader$1=(Fn,Mn)=>encode$F({alg:Mn,ucv:Fn,typ:"JWT"}),encodePayload=Fn=>encode$F({iss:format$c(Fn.iss),aud:format$c(Fn.aud),att:Fn.att,exp:Fn.exp,prf:Fn.prf.map(encodeProof),...Fn.fct.length>0&&{fct:Fn.fct},...Fn.nnc&&{nnc:Fn.nnc},...Fn.nbf&&{nbf:Fn.nbf}}),encodeProof=Fn=>Fn.toString(),toJSON=Fn=>JSON.parse(decode$19(encode$F(Fn)));let View$1=class{constructor(Mn){this.model=Mn}get version(){return this.model.v}get issuer(){return from$q(this.model.iss)}get audience(){return from$q(this.model.aud)}get capabilities(){return this.model.att}get expiration(){const{exp:Mn}=this.model;return Mn===null?1/0:Mn}get notBefore(){return this.model.nbf}get nonce(){return this.model.nnc}get facts(){return this.model.fct}get proofs(){return this.model.prf}get signature(){return this.model.s}get jwt(){return this.model.jwt}get s(){return this.model.s}get v(){return this.model.v}get iss(){return this.model.iss}get aud(){return this.model.aud}get att(){return this.model.att}get exp(){return this.model.exp}get nbf(){return this.model.nbf}get nnc(){return this.model.nnc}get fct(){return this.model.fct}get prf(){return this.model.prf}toJSON(){const{v:Mn,iss:io,aud:fo,s:mo,att:$o,prf:Ao,exp:Lo,fct:Wo,nnc:jo,nbf:zo}=this.model;return{iss:io,aud:fo,v:Mn,s:mo,exp:Lo,...toJSON({att:$o,prf:Ao,...Wo.length>0&&{fct:Wo}}),...jo!=null&&{nnc:jo},...zo&&{nbf:zo}}}};const code$e=code$h,from$o=Fn=>new CBORView(Fn),encode$E=Fn=>{const{fct:Mn,nnc:io,nbf:fo,...mo}=readPayload(Fn);return encode$O({...Mn.length>0&&{fct:Mn},...io!=null&&{nnc:io},...fo&&{nbf:fo},...mo,v:readVersion(Fn.v,"v"),s:encodeSignature(Fn.s,"s")})},encodeSignature=(Fn,Mn)=>{try{return encode$J(Fn)}catch(io){throw new Error(`Expected signature ${Mn}, instead got ${JSON.stringify(Fn)}`,{cause:io})}},decode$Y=Fn=>{const Mn=decode$1a(Fn);return new CBORView({...readPayload(Mn),v:readVersion(Mn.v,"v"),s:readSignature(Mn.s)})};class CBORView extends View$1{get code(){return code$e}format(){return format$a(this.model)}encode(){return encode$E(this.model)}}const parse$1=Fn=>{const Mn=Fn.split("."),[io,fo,mo]=Mn.length===3?Mn:fail$1(`Can't parse UCAN: ${Fn}: Expected JWT format: 3 dot-separated base64url-encoded values.`),{ucv:$o,alg:Ao}=parseHeader(io);return{...parsePayload(fo),v:$o,s:createNamed(Ao,base64url.baseDecode(mo))}},parseHeader=Fn=>{const{ucv:Mn,alg:io,typ:fo}=decode$Z(base64url.baseDecode(Fn));return{typ:readLiteral(fo,"JWT","typ"),ucv:readVersion(Mn,"ucv"),alg:readString(io,"alg")}},parsePayload=Fn=>{const Mn=decode$Z(base64url.baseDecode(Fn));return readJWTPayload(Mn)},decode$X=Fn=>{const Mn=decode$19(Fn);return new JWTView({...parse$1(Mn),jwt:Mn})},encode$D=({jwt:Fn})=>encode$N(Fn),format$9=({jwt:Fn})=>Fn;class JWTView extends View$1{constructor(Mn){super(Mn),this.model=Mn}get code(){return code$f}format(){return format$9(this.model)}encode(){return encode$D(this.model)}}const sha$4=Fn=>async Mn=>new Uint8Array(await crypto.subtle.digest(Fn,Mn)),sha256$4=from$r({name:"sha2-256",code:18,encode:sha$4("SHA-256")}),VERSION="0.9.1",defaultHasher=sha256$4,decode$W=Fn=>{try{return decode$Y(Fn)}catch{return decode$X(Fn)}},write$6=async(Fn,{hasher:Mn=defaultHasher}={})=>{const[io,fo]=Fn.jwt?[code$f,encode$D(Fn)]:[code$e,encode$E(Fn)],mo=await Mn.digest(fo);return{bytes:fo,cid:create$s(io,mo),data:Fn}},issue$2=async({issuer:Fn,audience:Mn,capabilities:io,lifetimeInSeconds:fo=30,expiration:mo=now()+fo,notBefore:$o,facts:Ao=[],proofs:Lo=[],nonce:Wo})=>{const jo=VERSION,zo=readPayload({iss:parse$2(Fn.did()),aud:parse$2(Mn.did()),att:io,fct:Ao,exp:mo,nbf:$o,prf:Lo,nnc:Wo}),Vo=encodeSignaturePayload(zo,jo,Fn.signatureAlgorithm);return from$o({...zo,v:jo,s:await Fn.sign(Vo)})},encodeSignaturePayload=(Fn,Mn,io)=>encode$N(formatSignPayload(Fn,Mn,io)),now=()=>Math.floor(Date.now()/1e3);var encode_1$b=encode$C,MSB$d=128,REST$d=127,MSBALL$c=~REST$d,INT$c=Math.pow(2,31);function encode$C(Fn,Mn,io){Mn=Mn||[],io=io||0;for(var fo=io;Fn>=INT$c;)Mn[io++]=Fn&255|MSB$d,Fn/=128;for(;Fn&MSBALL$c;)Mn[io++]=Fn&255|MSB$d,Fn>>>=7;return Mn[io]=Fn|0,encode$C.bytes=io-fo+1,Mn}var decode$V=read$e,MSB$1$b=128,REST$1$b=127;function read$e(Fn,fo){var io=0,fo=fo||0,mo=0,$o=fo,Ao,Lo=Fn.length;do{if($o>=Lo)throw read$e.bytes=0,new RangeError("Could not decode varint");Ao=Fn[$o++],io+=mo<28?(Ao&REST$1$b)<<mo:(Ao&REST$1$b)*Math.pow(2,mo),mo+=7}while(Ao>=MSB$1$b);return read$e.bytes=$o-fo,io}var N1$b=Math.pow(2,7),N2$b=Math.pow(2,14),N3$b=Math.pow(2,21),N4$b=Math.pow(2,28),N5$b=Math.pow(2,35),N6$b=Math.pow(2,42),N7$b=Math.pow(2,49),N8$b=Math.pow(2,56),N9$b=Math.pow(2,63),length$b=function(Fn){return Fn<N1$b?1:Fn<N2$b?2:Fn<N3$b?3:Fn<N4$b?4:Fn<N5$b?5:Fn<N6$b?6:Fn<N7$b?7:Fn<N8$b?8:Fn<N9$b?9:10},varint$c={encode:encode_1$b,decode:decode$V,encodingLength:length$b},_brrp_varint$a=varint$c;const decode$U=(Fn,Mn=0)=>[_brrp_varint$a.decode(Fn,Mn),_brrp_varint$a.decode.bytes],encodeTo$a=(Fn,Mn,io=0)=>(_brrp_varint$a.encode(Fn,Mn,io),Mn),encodingLength$a=Fn=>_brrp_varint$a.encodingLength(Fn),equals$h=(Fn,Mn)=>{if(Fn===Mn)return!0;if(Fn.byteLength!==Mn.byteLength)return!1;for(let io=0;io<Fn.byteLength;io++)if(Fn[io]!==Mn[io])return!1;return!0},coerce$a=Fn=>{if(Fn instanceof Uint8Array&&Fn.constructor.name==="Uint8Array")return Fn;if(Fn instanceof ArrayBuffer)return new Uint8Array(Fn);if(ArrayBuffer.isView(Fn))return new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength);throw new Error("Unknown type, must be binary type")},create$p=(Fn,Mn)=>{const io=Mn.byteLength,fo=encodingLength$a(Fn),mo=fo+encodingLength$a(io),$o=new Uint8Array(mo+io);return encodeTo$a(Fn,$o,0),encodeTo$a(io,$o,fo),$o.set(Mn,mo),new Digest$a(Fn,io,Mn,$o)},decode$T=Fn=>{const Mn=coerce$a(Fn),[io,fo]=decode$U(Mn),[mo,$o]=decode$U(Mn.subarray(fo)),Ao=Mn.subarray(fo+$o);if(Ao.byteLength!==mo)throw new Error("Incorrect length");return new Digest$a(io,mo,Ao,Mn)},equals$g=(Fn,Mn)=>{if(Fn===Mn)return!0;{const io=Mn;return Fn.code===io.code&&Fn.size===io.size&&io.bytes instanceof Uint8Array&&equals$h(Fn.bytes,io.bytes)}};let Digest$a=class{constructor(Mn,io,fo,mo){this.code=Mn,this.size=io,this.digest=fo,this.bytes=mo}};function base$a(Fn,Mn){if(Fn.length>=255)throw new TypeError("Alphabet too long");for(var io=new Uint8Array(256),fo=0;fo<io.length;fo++)io[fo]=255;for(var mo=0;mo<Fn.length;mo++){var $o=Fn.charAt(mo),Ao=$o.charCodeAt(0);if(io[Ao]!==255)throw new TypeError($o+" is ambiguous");io[Ao]=mo}var Lo=Fn.length,Wo=Fn.charAt(0),jo=Math.log(Lo)/Math.log(256),zo=Math.log(256)/Math.log(Lo);function Vo(Qo){if(Qo instanceof Uint8Array||(ArrayBuffer.isView(Qo)?Qo=new Uint8Array(Qo.buffer,Qo.byteOffset,Qo.byteLength):Array.isArray(Qo)&&(Qo=Uint8Array.from(Qo))),!(Qo instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Qo.length===0)return"";for(var os=0,Cl=0,xl=0,ds=Qo.length;xl!==ds&&Qo[xl]===0;)xl++,os++;for(var _c=(ds-xl)*zo+1>>>0,$l=new Uint8Array(_c);xl!==ds;){for(var Al=Qo[xl],Il=0,us=_c-1;(Al!==0||Il<Cl)&&us!==-1;us--,Il++)Al+=256*$l[us]>>>0,$l[us]=Al%Lo>>>0,Al=Al/Lo>>>0;if(Al!==0)throw new Error("Non-zero carry");Cl=Il,xl++}for(var ps=_c-Cl;ps!==_c&&$l[ps]===0;)ps++;for(var Rl=Wo.repeat(os);ps<_c;++ps)Rl+=Fn.charAt($l[ps]);return Rl}function Go(Qo){if(typeof Qo!="string")throw new TypeError("Expected String");if(Qo.length===0)return new Uint8Array;var os=0;if(Qo[os]!==" "){for(var Cl=0,xl=0;Qo[os]===Wo;)Cl++,os++;for(var ds=(Qo.length-os)*jo+1>>>0,_c=new Uint8Array(ds);Qo[os];){var $l=io[Qo.charCodeAt(os)];if($l===255)return;for(var Al=0,Il=ds-1;($l!==0||Al<xl)&&Il!==-1;Il--,Al++)$l+=Lo*_c[Il]>>>0,_c[Il]=$l%256>>>0,$l=$l/256>>>0;if($l!==0)throw new Error("Non-zero carry");xl=Al,os++}if(Qo[os]!==" "){for(var us=ds-xl;us!==ds&&_c[us]===0;)us++;for(var ps=new Uint8Array(Cl+(ds-us)),Rl=Cl;us!==ds;)ps[Rl++]=_c[us++];return ps}}}function Jo(Qo){var os=Go(Qo);if(os)return os;throw new Error(`Non-${Mn} character`)}return{encode:Vo,decodeUnsafe:Go,decode:Jo}}var src$a=base$a,_brrp__multiformats_scope_baseX$a=src$a;let Encoder$a=class{constructor(Mn,io,fo){this.name=Mn,this.prefix=io,this.baseEncode=fo}encode(Mn){if(Mn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Mn)}`;throw Error("Unknown type, must be binary type")}},Decoder$a=class{constructor(Mn,io,fo){if(this.name=Mn,this.prefix=io,io.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=io.codePointAt(0),this.baseDecode=fo}decode(Mn){if(typeof Mn=="string"){if(Mn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Mn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Mn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(Mn){return or$i(this,Mn)}},ComposedDecoder$a=class{constructor(Mn){this.decoders=Mn}or(Mn){return or$i(this,Mn)}decode(Mn){const io=Mn[0],fo=this.decoders[io];if(fo)return fo.decode(Mn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Mn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$i=(Fn,Mn)=>new ComposedDecoder$a({...Fn.decoders||{[Fn.prefix]:Fn},...Mn.decoders||{[Mn.prefix]:Mn}});let Codec$a=class{constructor(Mn,io,fo,mo){this.name=Mn,this.prefix=io,this.baseEncode=fo,this.baseDecode=mo,this.encoder=new Encoder$a(Mn,io,fo),this.decoder=new Decoder$a(Mn,io,mo)}encode(Mn){return this.encoder.encode(Mn)}decode(Mn){return this.decoder.decode(Mn)}};const from$n=({name:Fn,prefix:Mn,encode:io,decode:fo})=>new Codec$a(Fn,Mn,io,fo),baseX$a=({prefix:Fn,name:Mn,alphabet:io})=>{const{encode:fo,decode:mo}=_brrp__multiformats_scope_baseX$a(io,Mn);return from$n({prefix:Fn,name:Mn,encode:fo,decode:$o=>coerce$a(mo($o))})},decode$S=(Fn,Mn,io,fo)=>{const mo={};for(let zo=0;zo<Mn.length;++zo)mo[Mn[zo]]=zo;let $o=Fn.length;for(;Fn[$o-1]==="=";)--$o;const Ao=new Uint8Array($o*io/8|0);let Lo=0,Wo=0,jo=0;for(let zo=0;zo<$o;++zo){const Vo=mo[Fn[zo]];if(Vo===void 0)throw new SyntaxError(`Non-${fo} character`);Wo=Wo<<io|Vo,Lo+=io,Lo>=8&&(Lo-=8,Ao[jo++]=255&Wo>>Lo)}if(Lo>=io||255&Wo<<8-Lo)throw new SyntaxError("Unexpected end of data");return Ao},encode$B=(Fn,Mn,io)=>{const fo=Mn[Mn.length-1]==="=",mo=(1<<io)-1;let $o="",Ao=0,Lo=0;for(let Wo=0;Wo<Fn.length;++Wo)for(Lo=Lo<<8|Fn[Wo],Ao+=8;Ao>io;)Ao-=io,$o+=Mn[mo&Lo>>Ao];if(Ao&&($o+=Mn[mo&Lo<<io-Ao]),fo)for(;$o.length*io&7;)$o+="=";return $o},rfc4648$a=({name:Fn,prefix:Mn,bitsPerChar:io,alphabet:fo})=>from$n({prefix:Mn,name:Fn,encode(mo){return encode$B(mo,fo,io)},decode(mo){return decode$S(mo,fo,io,Fn)}}),base58btc$8=baseX$a({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$a({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const base32$7=rfc4648$a({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$a({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$a({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$a({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$a({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$a({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$a({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$a({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$a({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const format$8=(Fn,Mn)=>{const{bytes:io,version:fo}=Fn;switch(fo){case 0:return toStringV0$7(io,baseCache$7(Fn),Mn||base58btc$8.encoder);default:return toStringV1$7(io,baseCache$7(Fn),Mn||base32$7.encoder)}},cache$8=new WeakMap,baseCache$7=Fn=>{const Mn=cache$8.get(Fn);if(Mn==null){const io=new Map;return cache$8.set(Fn,io),io}return Mn};let CID$7=class dm{constructor(Mn,io,fo,mo){this.code=io,this.version=Mn,this.multihash=fo,this.bytes=mo,this["/"]=mo}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:Mn,multihash:io}=this;if(Mn!==DAG_PB_CODE$9)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(io.code!==SHA_256_CODE$7)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return dm.createV0(io)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:Mn,digest:io}=this.multihash,fo=create$p(Mn,io);return dm.createV1(this.code,fo)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(Mn){return dm.equals(this,Mn)}static equals(Mn,io){const fo=io;return fo&&Mn.code===fo.code&&Mn.version===fo.version&&equals$g(Mn.multihash,fo.multihash)}toString(Mn){return format$8(this,Mn)}toJSON(){return{"/":format$8(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(Mn){if(Mn==null)return null;const io=Mn;if(io instanceof dm)return io;if(io["/"]!=null&&io["/"]===io.bytes||io.asCID===io){const{version:fo,code:mo,multihash:$o,bytes:Ao}=io;return new dm(fo,mo,$o,Ao||encodeCID$7(fo,mo,$o.bytes))}else if(io[cidSymbol$7]===!0){const{version:fo,multihash:mo,code:$o}=io,Ao=decode$T(mo);return dm.create(fo,$o,Ao)}else return null}static create(Mn,io,fo){if(typeof io!="number")throw new Error("String codecs are no longer supported");if(!(fo.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(Mn){case 0:{if(io!==DAG_PB_CODE$9)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$9}) block encoding`);return new dm(Mn,io,fo,fo.bytes)}case 1:{const mo=encodeCID$7(Mn,io,fo.bytes);return new dm(Mn,io,fo,mo)}default:throw new Error("Invalid version")}}static createV0(Mn){return dm.create(0,DAG_PB_CODE$9,Mn)}static createV1(Mn,io){return dm.create(1,Mn,io)}static decode(Mn){const[io,fo]=dm.decodeFirst(Mn);if(fo.length)throw new Error("Incorrect length");return io}static decodeFirst(Mn){const io=dm.inspectBytes(Mn),fo=io.size-io.multihashSize,mo=coerce$a(Mn.subarray(fo,fo+io.multihashSize));if(mo.byteLength!==io.multihashSize)throw new Error("Incorrect length");const $o=mo.subarray(io.multihashSize-io.digestSize),Ao=new Digest$a(io.multihashCode,io.digestSize,$o,mo);return[io.version===0?dm.createV0(Ao):dm.createV1(io.codec,Ao),Mn.subarray(io.size)]}static inspectBytes(Mn){let io=0;const fo=()=>{const[Vo,Go]=decode$U(Mn.subarray(io));return io+=Go,Vo};let mo=fo(),$o=DAG_PB_CODE$9;if(mo===18?(mo=0,io=0):$o=fo(),mo!==0&&mo!==1)throw new RangeError(`Invalid CID version ${mo}`);const Ao=io,Lo=fo(),Wo=fo(),jo=io+Wo,zo=jo-Ao;return{version:mo,codec:$o,multihashCode:Lo,digestSize:Wo,multihashSize:zo,size:jo}}static parse(Mn,io){const[fo,mo]=parseCIDtoBytes$7(Mn,io),$o=dm.decode(mo);if($o.version===0&&Mn[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$7($o).set(fo,Mn),$o}};const parseCIDtoBytes$7=(Fn,Mn)=>{switch(Fn[0]){case"Q":{const io=Mn||base58btc$8;return[base58btc$8.prefix,io.decode(`${base58btc$8.prefix}${Fn}`)]}case base58btc$8.prefix:{const io=Mn||base58btc$8;return[base58btc$8.prefix,io.decode(Fn)]}case base32$7.prefix:{const io=Mn||base32$7;return[base32$7.prefix,io.decode(Fn)]}default:{if(Mn==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[Fn[0],Mn.decode(Fn)]}}},toStringV0$7=(Fn,Mn,io)=>{const{prefix:fo}=io;if(fo!==base58btc$8.prefix)throw Error(`Cannot string encode V0 in ${io.name} encoding`);const mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn).slice(1);return Mn.set(fo,$o),$o}else return mo},toStringV1$7=(Fn,Mn,io)=>{const{prefix:fo}=io,mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn);return Mn.set(fo,$o),$o}else return mo},DAG_PB_CODE$9=112,SHA_256_CODE$7=18,encodeCID$7=(Fn,Mn,io)=>{const fo=encodingLength$a(Fn),mo=fo+encodingLength$a(Mn),$o=new Uint8Array(mo+io.byteLength);return encodeTo$a(Fn,$o,0),encodeTo$a(Mn,$o,fo),$o.set(io,mo),$o},cidSymbol$7=Symbol.for("@ipld/js-cid/CID"),DAG_PB_CODE$8=112,createLegacy$1=Fn=>CID$7.create(0,DAG_PB_CODE$8,Fn),create$o=(Fn,Mn)=>CID$7.create(1,Fn,Mn),isLink=Fn=>{if(Fn==null)return!1;const Mn=Fn;return Mn["/"]!=null&&Mn["/"]===Mn.bytes||Fn.asCID===Fn},parse=(Fn,Mn)=>CID$7.parse(Fn,Mn),from$m=({name:Fn,code:Mn,encode:io})=>new Hasher$5(Fn,Mn,io);let Hasher$5=class{constructor(Mn,io,fo){this.name=Mn,this.code=io,this.encode=fo}digest(Mn){if(Mn instanceof Uint8Array){const io=this.encode(Mn);return io instanceof Uint8Array?create$p(this.code,io):io.then(fo=>create$p(this.code,fo))}else throw Error("Unknown type, must be binary type")}};const sha$3=Fn=>async Mn=>new Uint8Array(await crypto.subtle.digest(Fn,Mn)),sha256$3=from$m({name:"sha2-256",code:18,encode:sha$3("SHA-256")}),contentType$7="application/vnd.ipld.dag-cbor",prepare$1=(Fn,Mn)=>{if(Mn.has(Fn))throw new TypeError("Can not encode circular structure");if(Fn===void 0&&Mn.size===0||Fn===null||typeof Fn=="symbol"&&Mn.size===0)return null;if(isLink(Fn)||ArrayBuffer.isView(Fn))return Fn;if(Array.isArray(Fn)){Mn.add(Fn);const io=[];for(const fo of Fn)io.push(fo===void 0||typeof fo=="symbol"?null:prepare$1(fo,Mn));return io}if(typeof Fn.toJSON=="function"){Mn.add(Fn);const io=Fn.toJSON();return prepare$1(io,Mn)}if(typeof Fn=="object"){Mn.add(Fn);const io={};for(const[fo,mo]of Object.entries(Fn))mo!==void 0&&typeof mo!="symbol"&&(io[fo]=prepare$1(mo,new Set(Mn)));return io}return Fn},encode$A=Fn=>encode$O(prepare$1(Fn,new Set)),link$3=async(Fn,{hasher:Mn=sha256$3}={})=>create$o(code$h,await Mn.digest(Fn)),write$5=async(Fn,Mn)=>{const io=encode$A(Fn);return{cid:await link$3(io,Mn),bytes:io}},CBOR=Object.freeze(Object.defineProperty({__proto__:null,code:code$h,contentType:contentType$7,decode:decode$1a,encode:encode$A,link:link$3,name:name$a,write:write$5},Symbol.toStringTag,{value:"Module"})),code$d=0,name$8="identity",encode$z=coerce$a,digest$3=Fn=>create$p(code$d,encode$z(Fn)),identity={code:code$d,name:name$8,encode:encode$z,digest:digest$3},iterate$2=function*(Fn){Fn&&typeof Fn=="object"&&"iterateIPLDBlocks"in Fn&&typeof Fn.iterateIPLDBlocks=="function"&&(yield*Fn.iterateIPLDBlocks())},createStore$1=(Fn=[])=>{const Mn=new Map;return addEveryInto(Fn,Mn),Mn},EMBED_CODE=identity.code,get$i=(Fn,Mn,io)=>{if(Fn.multihash.code===EMBED_CODE)return{cid:Fn,bytes:Fn.multihash.digest};const fo=Mn.get(`${Fn}`);return fo||io},notFound=Fn=>{throw new Error(`Block for the ${Fn} is not found`)},writeInto=async(Fn,Mn,io={})=>{const fo=io.codec||CBOR,mo=io.hasher||sha256$3,$o=fo.encode(Fn),Ao=await mo.digest($o),Lo=create$o(fo.code,Ao);return Mn.set(Lo.toString(),{bytes:$o,cid:Lo}),{bytes:$o,cid:Lo,data:Fn}},addInto=({cid:Fn,bytes:Mn},io)=>(io.set(Fn.toString(),{bytes:Mn,cid:Fn}),{bytes:Mn,cid:Fn}),addEveryInto=(Fn,Mn)=>{for(const io of Fn)addInto(io,Mn)};function equals$f(Fn,Mn){if(Fn===Mn)return!0;if(Fn.byteLength!==Mn.byteLength)return!1;for(let io=0;io<Fn.byteLength;io++)if(Fn[io]!==Mn[io])return!1;return!0}function coerce$9(Fn){if(Fn instanceof Uint8Array&&Fn.constructor.name==="Uint8Array")return Fn;if(Fn instanceof ArrayBuffer)return new Uint8Array(Fn);if(ArrayBuffer.isView(Fn))return new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength);throw new Error("Unknown type, must be binary type")}function base$9(Fn,Mn){if(Fn.length>=255)throw new TypeError("Alphabet too long");for(var io=new Uint8Array(256),fo=0;fo<io.length;fo++)io[fo]=255;for(var mo=0;mo<Fn.length;mo++){var $o=Fn.charAt(mo),Ao=$o.charCodeAt(0);if(io[Ao]!==255)throw new TypeError($o+" is ambiguous");io[Ao]=mo}var Lo=Fn.length,Wo=Fn.charAt(0),jo=Math.log(Lo)/Math.log(256),zo=Math.log(256)/Math.log(Lo);function Vo(Qo){if(Qo instanceof Uint8Array||(ArrayBuffer.isView(Qo)?Qo=new Uint8Array(Qo.buffer,Qo.byteOffset,Qo.byteLength):Array.isArray(Qo)&&(Qo=Uint8Array.from(Qo))),!(Qo instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Qo.length===0)return"";for(var os=0,Cl=0,xl=0,ds=Qo.length;xl!==ds&&Qo[xl]===0;)xl++,os++;for(var _c=(ds-xl)*zo+1>>>0,$l=new Uint8Array(_c);xl!==ds;){for(var Al=Qo[xl],Il=0,us=_c-1;(Al!==0||Il<Cl)&&us!==-1;us--,Il++)Al+=256*$l[us]>>>0,$l[us]=Al%Lo>>>0,Al=Al/Lo>>>0;if(Al!==0)throw new Error("Non-zero carry");Cl=Il,xl++}for(var ps=_c-Cl;ps!==_c&&$l[ps]===0;)ps++;for(var Rl=Wo.repeat(os);ps<_c;++ps)Rl+=Fn.charAt($l[ps]);return Rl}function Go(Qo){if(typeof Qo!="string")throw new TypeError("Expected String");if(Qo.length===0)return new Uint8Array;var os=0;if(Qo[os]!==" "){for(var Cl=0,xl=0;Qo[os]===Wo;)Cl++,os++;for(var ds=(Qo.length-os)*jo+1>>>0,_c=new Uint8Array(ds);Qo[os];){var $l=io[Qo.charCodeAt(os)];if($l===255)return;for(var Al=0,Il=ds-1;($l!==0||Al<xl)&&Il!==-1;Il--,Al++)$l+=Lo*_c[Il]>>>0,_c[Il]=$l%256>>>0,$l=$l/256>>>0;if($l!==0)throw new Error("Non-zero carry");xl=Al,os++}if(Qo[os]!==" "){for(var us=ds-xl;us!==ds&&_c[us]===0;)us++;for(var ps=new Uint8Array(Cl+(ds-us)),Rl=Cl;us!==ds;)ps[Rl++]=_c[us++];return ps}}}function Jo(Qo){var os=Go(Qo);if(os)return os;throw new Error(`Non-${Mn} character`)}return{encode:Vo,decodeUnsafe:Go,decode:Jo}}var src$9=base$9,_brrp__multiformats_scope_baseX$9=src$9;let Encoder$9=class{constructor(Mn,io,fo){tp(this,"name");tp(this,"prefix");tp(this,"baseEncode");this.name=Mn,this.prefix=io,this.baseEncode=fo}encode(Mn){if(Mn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Mn)}`;throw Error("Unknown type, must be binary type")}},Decoder$9=class{constructor(Mn,io,fo){tp(this,"name");tp(this,"prefix");tp(this,"baseDecode");tp(this,"prefixCodePoint");this.name=Mn,this.prefix=io;const mo=io.codePointAt(0);if(mo===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=mo,this.baseDecode=fo}decode(Mn){if(typeof Mn=="string"){if(Mn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Mn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Mn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(Mn){return or$h(this,Mn)}},ComposedDecoder$9=class{constructor(Mn){tp(this,"decoders");this.decoders=Mn}or(Mn){return or$h(this,Mn)}decode(Mn){const io=Mn[0],fo=this.decoders[io];if(fo!=null)return fo.decode(Mn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Mn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function or$h(Fn,Mn){return new ComposedDecoder$9({...Fn.decoders??{[Fn.prefix]:Fn},...Mn.decoders??{[Mn.prefix]:Mn}})}let Codec$9=class{constructor(Mn,io,fo,mo){tp(this,"name");tp(this,"prefix");tp(this,"baseEncode");tp(this,"baseDecode");tp(this,"encoder");tp(this,"decoder");this.name=Mn,this.prefix=io,this.baseEncode=fo,this.baseDecode=mo,this.encoder=new Encoder$9(Mn,io,fo),this.decoder=new Decoder$9(Mn,io,mo)}encode(Mn){return this.encoder.encode(Mn)}decode(Mn){return this.decoder.decode(Mn)}};function from$l({name:Fn,prefix:Mn,encode:io,decode:fo}){return new Codec$9(Fn,Mn,io,fo)}function baseX$9({name:Fn,prefix:Mn,alphabet:io}){const{encode:fo,decode:mo}=_brrp__multiformats_scope_baseX$9(io,Fn);return from$l({prefix:Mn,name:Fn,encode:fo,decode:$o=>coerce$9(mo($o))})}function decode$R(Fn,Mn,io,fo){const mo={};for(let zo=0;zo<Mn.length;++zo)mo[Mn[zo]]=zo;let $o=Fn.length;for(;Fn[$o-1]==="=";)--$o;const Ao=new Uint8Array($o*io/8|0);let Lo=0,Wo=0,jo=0;for(let zo=0;zo<$o;++zo){const Vo=mo[Fn[zo]];if(Vo===void 0)throw new SyntaxError(`Non-${fo} character`);Wo=Wo<<io|Vo,Lo+=io,Lo>=8&&(Lo-=8,Ao[jo++]=255&Wo>>Lo)}if(Lo>=io||255&Wo<<8-Lo)throw new SyntaxError("Unexpected end of data");return Ao}function encode$y(Fn,Mn,io){const fo=Mn[Mn.length-1]==="=",mo=(1<<io)-1;let $o="",Ao=0,Lo=0;for(let Wo=0;Wo<Fn.length;++Wo)for(Lo=Lo<<8|Fn[Wo],Ao+=8;Ao>io;)Ao-=io,$o+=Mn[mo&Lo>>Ao];if(Ao!==0&&($o+=Mn[mo&Lo<<io-Ao]),fo)for(;$o.length*io&7;)$o+="=";return $o}function rfc4648$9({name:Fn,prefix:Mn,bitsPerChar:io,alphabet:fo}){return from$l({prefix:Mn,name:Fn,encode(mo){return encode$y(mo,fo,io)},decode(mo){return decode$R(mo,fo,io,Fn)}})}const base32$6=rfc4648$9({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$9({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$9({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$9({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$9({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$9({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$9({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$9({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$9({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const base36$3=baseX$9({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});baseX$9({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});const base58btc$7=baseX$9({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$9({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var encode_1$a=encode$x,MSB$c=128,REST$c=127,MSBALL$b=~REST$c,INT$b=Math.pow(2,31);function encode$x(Fn,Mn,io){Mn=Mn||[],io=io||0;for(var fo=io;Fn>=INT$b;)Mn[io++]=Fn&255|MSB$c,Fn/=128;for(;Fn&MSBALL$b;)Mn[io++]=Fn&255|MSB$c,Fn>>>=7;return Mn[io]=Fn|0,encode$x.bytes=io-fo+1,Mn}var decode$Q=read$d,MSB$1$a=128,REST$1$a=127;function read$d(Fn,fo){var io=0,fo=fo||0,mo=0,$o=fo,Ao,Lo=Fn.length;do{if($o>=Lo)throw read$d.bytes=0,new RangeError("Could not decode varint");Ao=Fn[$o++],io+=mo<28?(Ao&REST$1$a)<<mo:(Ao&REST$1$a)*Math.pow(2,mo),mo+=7}while(Ao>=MSB$1$a);return read$d.bytes=$o-fo,io}var N1$a=Math.pow(2,7),N2$a=Math.pow(2,14),N3$a=Math.pow(2,21),N4$a=Math.pow(2,28),N5$a=Math.pow(2,35),N6$a=Math.pow(2,42),N7$a=Math.pow(2,49),N8$a=Math.pow(2,56),N9$a=Math.pow(2,63),length$a=function(Fn){return Fn<N1$a?1:Fn<N2$a?2:Fn<N3$a?3:Fn<N4$a?4:Fn<N5$a?5:Fn<N6$a?6:Fn<N7$a?7:Fn<N8$a?8:Fn<N9$a?9:10},varint$b={encode:encode_1$a,decode:decode$Q,encodingLength:length$a},_brrp_varint$9=varint$b;function decode$P(Fn,Mn=0){return[_brrp_varint$9.decode(Fn,Mn),_brrp_varint$9.decode.bytes]}function encodeTo$9(Fn,Mn,io=0){return _brrp_varint$9.encode(Fn,Mn,io),Mn}function encodingLength$9(Fn){return _brrp_varint$9.encodingLength(Fn)}function create$n(Fn,Mn){const io=Mn.byteLength,fo=encodingLength$9(Fn),mo=fo+encodingLength$9(io),$o=new Uint8Array(mo+io);return encodeTo$9(Fn,$o,0),encodeTo$9(io,$o,fo),$o.set(Mn,mo),new Digest$9(Fn,io,Mn,$o)}function decode$O(Fn){const Mn=coerce$9(Fn),[io,fo]=decode$P(Mn),[mo,$o]=decode$P(Mn.subarray(fo)),Ao=Mn.subarray(fo+$o);if(Ao.byteLength!==mo)throw new Error("Incorrect length");return new Digest$9(io,mo,Ao,Mn)}function equals$e(Fn,Mn){if(Fn===Mn)return!0;{const io=Mn;return Fn.code===io.code&&Fn.size===io.size&&io.bytes instanceof Uint8Array&&equals$f(Fn.bytes,io.bytes)}}let Digest$9=class{constructor(Mn,io,fo,mo){tp(this,"code");tp(this,"size");tp(this,"digest");tp(this,"bytes");this.code=Mn,this.size=io,this.digest=fo,this.bytes=mo}};function format$7(Fn,Mn){const{bytes:io,version:fo}=Fn;switch(fo){case 0:return toStringV0$6(io,baseCache$6(Fn),Mn??base58btc$7.encoder);default:return toStringV1$6(io,baseCache$6(Fn),Mn??base32$6.encoder)}}const cache$7=new WeakMap;function baseCache$6(Fn){const Mn=cache$7.get(Fn);if(Mn==null){const io=new Map;return cache$7.set(Fn,io),io}return Mn}var E6;let CID$6=class hm{constructor(Mn,io,fo,mo){tp(this,"code");tp(this,"version");tp(this,"multihash");tp(this,"bytes");tp(this,"/");tp(this,E6,"CID");this.code=io,this.version=Mn,this.multihash=fo,this.bytes=mo,this["/"]=mo}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:Mn,multihash:io}=this;if(Mn!==DAG_PB_CODE$7)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(io.code!==SHA_256_CODE$6)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return hm.createV0(io)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:Mn,digest:io}=this.multihash,fo=create$n(Mn,io);return hm.createV1(this.code,fo)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(Mn){return hm.equals(this,Mn)}static equals(Mn,io){const fo=io;return fo!=null&&Mn.code===fo.code&&Mn.version===fo.version&&equals$e(Mn.multihash,fo.multihash)}toString(Mn){return format$7(this,Mn)}toJSON(){return{"/":format$7(this)}}link(){return this}[(E6=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(Mn){if(Mn==null)return null;const io=Mn;if(io instanceof hm)return io;if(io["/"]!=null&&io["/"]===io.bytes||io.asCID===io){const{version:fo,code:mo,multihash:$o,bytes:Ao}=io;return new hm(fo,mo,$o,Ao??encodeCID$6(fo,mo,$o.bytes))}else if(io[cidSymbol$6]===!0){const{version:fo,multihash:mo,code:$o}=io,Ao=decode$O(mo);return hm.create(fo,$o,Ao)}else return null}static create(Mn,io,fo){if(typeof io!="number")throw new Error("String codecs are no longer supported");if(!(fo.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(Mn){case 0:{if(io!==DAG_PB_CODE$7)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$7}) block encoding`);return new hm(Mn,io,fo,fo.bytes)}case 1:{const mo=encodeCID$6(Mn,io,fo.bytes);return new hm(Mn,io,fo,mo)}default:throw new Error("Invalid version")}}static createV0(Mn){return hm.create(0,DAG_PB_CODE$7,Mn)}static createV1(Mn,io){return hm.create(1,Mn,io)}static decode(Mn){const[io,fo]=hm.decodeFirst(Mn);if(fo.length!==0)throw new Error("Incorrect length");return io}static decodeFirst(Mn){const io=hm.inspectBytes(Mn),fo=io.size-io.multihashSize,mo=coerce$9(Mn.subarray(fo,fo+io.multihashSize));if(mo.byteLength!==io.multihashSize)throw new Error("Incorrect length");const $o=mo.subarray(io.multihashSize-io.digestSize),Ao=new Digest$9(io.multihashCode,io.digestSize,$o,mo);return[io.version===0?hm.createV0(Ao):hm.createV1(io.codec,Ao),Mn.subarray(io.size)]}static inspectBytes(Mn){let io=0;const fo=()=>{const[Vo,Go]=decode$P(Mn.subarray(io));return io+=Go,Vo};let mo=fo(),$o=DAG_PB_CODE$7;if(mo===18?(mo=0,io=0):$o=fo(),mo!==0&&mo!==1)throw new RangeError(`Invalid CID version ${mo}`);const Ao=io,Lo=fo(),Wo=fo(),jo=io+Wo,zo=jo-Ao;return{version:mo,codec:$o,multihashCode:Lo,digestSize:Wo,multihashSize:zo,size:jo}}static parse(Mn,io){const[fo,mo]=parseCIDtoBytes$6(Mn,io),$o=hm.decode(mo);if($o.version===0&&Mn[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$6($o).set(fo,Mn),$o}};function parseCIDtoBytes$6(Fn,Mn){switch(Fn[0]){case"Q":{const io=Mn??base58btc$7;return[base58btc$7.prefix,io.decode(`${base58btc$7.prefix}${Fn}`)]}case base58btc$7.prefix:{const io=Mn??base58btc$7;return[base58btc$7.prefix,io.decode(Fn)]}case base32$6.prefix:{const io=Mn??base32$6;return[base32$6.prefix,io.decode(Fn)]}case base36$3.prefix:{const io=Mn??base36$3;return[base36$3.prefix,io.decode(Fn)]}default:{if(Mn==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[Fn[0],Mn.decode(Fn)]}}}function toStringV0$6(Fn,Mn,io){const{prefix:fo}=io;if(fo!==base58btc$7.prefix)throw Error(`Cannot string encode V0 in ${io.name} encoding`);const mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn).slice(1);return Mn.set(fo,$o),$o}else return mo}function toStringV1$6(Fn,Mn,io){const{prefix:fo}=io,mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn);return Mn.set(fo,$o),$o}else return mo}const DAG_PB_CODE$7=112,SHA_256_CODE$6=18;function encodeCID$6(Fn,Mn,io){const fo=encodingLength$9(Fn),mo=fo+encodingLength$9(Mn),$o=new Uint8Array(mo+io.byteLength);return encodeTo$9(Fn,$o,0),encodeTo$9(Mn,$o,fo),$o.set(io,mo),$o}const cidSymbol$6=Symbol.for("@ipld/js-cid/CID");var encode_1$9=encode$w,MSB$b=128,REST$b=127,MSBALL$a=~REST$b,INT$a=Math.pow(2,31);function encode$w(Fn,Mn,io){if(Number.MAX_SAFE_INTEGER&&Fn>Number.MAX_SAFE_INTEGER)throw encode$w.bytes=0,new RangeError("Could not encode varint");Mn=Mn||[],io=io||0;for(var fo=io;Fn>=INT$a;)Mn[io++]=Fn&255|MSB$b,Fn/=128;for(;Fn&MSBALL$a;)Mn[io++]=Fn&255|MSB$b,Fn>>>=7;return Mn[io]=Fn|0,encode$w.bytes=io-fo+1,Mn}var decode$N=read$c,MSB$a=128,REST$a=127;function read$c(Fn,fo){var io=0,fo=fo||0,mo=0,$o=fo,Ao,Lo=Fn.length;do{if($o>=Lo||mo>49)throw read$c.bytes=0,new RangeError("Could not decode varint");Ao=Fn[$o++],io+=mo<28?(Ao&REST$a)<<mo:(Ao&REST$a)*Math.pow(2,mo),mo+=7}while(Ao>=MSB$a);return read$c.bytes=$o-fo,io}var N1$9=Math.pow(2,7),N2$9=Math.pow(2,14),N3$9=Math.pow(2,21),N4$9=Math.pow(2,28),N5$9=Math.pow(2,35),N6$9=Math.pow(2,42),N7$9=Math.pow(2,49),N8$9=Math.pow(2,56),N9$9=Math.pow(2,63),length$9=function(Fn){return Fn<N1$9?1:Fn<N2$9?2:Fn<N3$9?3:Fn<N4$9?4:Fn<N5$9?5:Fn<N6$9?6:Fn<N7$9?7:Fn<N8$9?8:Fn<N9$9?9:10},varint$9={encode:encode_1$9,decode:decode$N,encodingLength:length$9};const varint$a=getDefaultExportFromCjs(varint$9),CIDV0_BYTES$1={SHA2_256:18,LENGTH:32,DAG_PB:112},V2_HEADER_LENGTH=40;function decodeVarint$1(Fn,Mn){if(!Fn.length)throw new Error("Unexpected end of data");const io=varint$a.decode(Fn);return Mn.seek(varint$a.decode.bytes),io}function decodeV2Header(Fn){const Mn=new DataView(Fn.buffer,Fn.byteOffset,Fn.byteLength);let io=0;return{version:2,characteristics:[Mn.getBigUint64(io,!0),Mn.getBigUint64(io+=8,!0)],dataOffset:Number(Mn.getBigUint64(io+=8,!0)),dataSize:Number(Mn.getBigUint64(io+=8,!0)),indexOffset:Number(Mn.getBigUint64(io+=8,!0))}}function getMultihashLength$1(Fn){varint$a.decode(Fn);const Mn=varint$a.decode.bytes,io=varint$a.decode(Fn.subarray(varint$a.decode.bytes)),fo=varint$a.decode.bytes;return Mn+fo+io}const Kinds={Null:Fn=>Fn===null?Fn:void 0,Int:Fn=>Number.isInteger(Fn)?Fn:void 0,Float:Fn=>typeof Fn=="number"&&Number.isFinite(Fn)?Fn:void 0,String:Fn=>typeof Fn=="string"?Fn:void 0,Bool:Fn=>typeof Fn=="boolean"?Fn:void 0,Bytes:Fn=>Fn instanceof Uint8Array?Fn:void 0,Link:Fn=>Fn!==null&&typeof Fn=="object"&&Fn.asCID===Fn?Fn:void 0,List:Fn=>Array.isArray(Fn)?Fn:void 0,Map:Fn=>Fn!==null&&typeof Fn=="object"&&Fn.asCID!==Fn&&!Array.isArray(Fn)&&!(Fn instanceof Uint8Array)?Fn:void 0},Types={"CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)":Kinds.Link,"CarV1HeaderOrV2Pragma > roots (anon)":Fn=>{if(Kinds.List(Fn)!==void 0){for(let Mn=0;Mn<Fn.length;Mn++){let io=Fn[Mn];if(io=Types["CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)"](io),io===void 0)return;if(io!==Fn[Mn]){const fo=Fn.slice(0,Mn);for(let mo=Mn;mo<Fn.length;mo++){let $o=Fn[mo];if($o=Types["CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)"]($o),$o===void 0)return;fo.push($o)}return fo}}return Fn}},Int:Kinds.Int,CarV1HeaderOrV2Pragma:Fn=>{if(Kinds.Map(Fn)===void 0)return;const Mn=Object.entries(Fn);let io=Fn,fo=1;for(let mo=0;mo<Mn.length;mo++){const[$o,Ao]=Mn[mo];switch($o){case"roots":{const Lo=Types["CarV1HeaderOrV2Pragma > roots (anon)"](Fn[$o]);if(Lo===void 0)return;if(Lo!==Ao||io!==Fn){if(io===Fn){io={};for(let Wo=0;Wo<mo;Wo++)io[Mn[Wo][0]]=Mn[Wo][1]}io.roots=Lo}}break;case"version":{fo--;const Lo=Types.Int(Fn[$o]);if(Lo===void 0)return;if(Lo!==Ao||io!==Fn){if(io===Fn){io={};for(let Wo=0;Wo<mo;Wo++)io[Mn[Wo][0]]=Mn[Wo][1]}io.version=Lo}}break;default:return}}if(!(fo>0))return io}},Reprs={"CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)":Kinds.Link,"CarV1HeaderOrV2Pragma > roots (anon)":Fn=>{if(Kinds.List(Fn)!==void 0){for(let Mn=0;Mn<Fn.length;Mn++){let io=Fn[Mn];if(io=Reprs["CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)"](io),io===void 0)return;if(io!==Fn[Mn]){const fo=Fn.slice(0,Mn);for(let mo=Mn;mo<Fn.length;mo++){let $o=Fn[mo];if($o=Reprs["CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)"]($o),$o===void 0)return;fo.push($o)}return fo}}return Fn}},Int:Kinds.Int,CarV1HeaderOrV2Pragma:Fn=>{if(Kinds.Map(Fn)===void 0)return;const Mn=Object.entries(Fn);let io=Fn,fo=1;for(let mo=0;mo<Mn.length;mo++){const[$o,Ao]=Mn[mo];switch($o){case"roots":{const Lo=Reprs["CarV1HeaderOrV2Pragma > roots (anon)"](Ao);if(Lo===void 0)return;if(Lo!==Ao||io!==Fn){if(io===Fn){io={};for(let Wo=0;Wo<mo;Wo++)io[Mn[Wo][0]]=Mn[Wo][1]}io.roots=Lo}}break;case"version":{fo--;const Lo=Reprs.Int(Ao);if(Lo===void 0)return;if(Lo!==Ao||io!==Fn){if(io===Fn){io={};for(let Wo=0;Wo<mo;Wo++)io[Mn[Wo][0]]=Mn[Wo][1]}io.version=Lo}}break;default:return}}if(!(fo>0))return io}},CarV1HeaderOrV2Pragma={toTyped:Types.CarV1HeaderOrV2Pragma,toRepresentation:Reprs.CarV1HeaderOrV2Pragma};function readHeader$1(Fn,Mn){const io=decodeVarint$1(Fn.upTo(8),Fn);if(io===0)throw new Error("Invalid CAR header (zero length)");const fo=Fn.exactly(io,!0),mo=decode$1a(fo);if(CarV1HeaderOrV2Pragma.toTyped(mo)===void 0)throw new Error("Invalid CAR header format");if(mo.version!==1&&mo.version!==2||Mn!==void 0&&mo.version!==Mn)throw new Error(`Invalid CAR version: ${mo.version}${Mn!==void 0?` (expected ${Mn})`:""}`);if(mo.version===1){if(!Array.isArray(mo.roots))throw new Error("Invalid CAR header format");return mo}if(mo.roots!==void 0)throw new Error("Invalid CAR header format");const $o=decodeV2Header(Fn.exactly(V2_HEADER_LENGTH,!0));Fn.seek($o.dataOffset-Fn.pos);const Ao=readHeader$1(Fn,1);return Object.assign(Ao,$o)}function readCid$1(Fn){const Mn=Fn.exactly(2,!1);if(Mn[0]===CIDV0_BYTES$1.SHA2_256&&Mn[1]===CIDV0_BYTES$1.LENGTH){const Ao=Fn.exactly(34,!0),Lo=decode$O(Ao);return CID$6.create(0,CIDV0_BYTES$1.DAG_PB,Lo)}const io=decodeVarint$1(Fn.upTo(8),Fn);if(io!==1)throw new Error(`Unexpected CID version (${io})`);const fo=decodeVarint$1(Fn.upTo(8),Fn),mo=Fn.exactly(getMultihashLength$1(Fn.upTo(8)),!0),$o=decode$O(mo);return CID$6.create(io,fo,$o)}function readBlockHead$1(Fn){const Mn=Fn.pos;let io=decodeVarint$1(Fn.upTo(8),Fn);if(io===0)throw new Error("Invalid CAR section (zero length)");io+=Fn.pos-Mn;const fo=readCid$1(Fn),mo=io-Number(Fn.pos-Mn);return{cid:fo,length:io,blockLength:mo}}function fromBytes$4(Fn){let Mn=bytesReader$1(Fn);const io=readHeader$1(Mn);if(io.version===2){const mo=Mn.pos-io.dataOffset;Mn=limitReader$1(Mn,io.dataSize-mo)}const fo=[];for(;Mn.upTo(8).length>0;){const{cid:mo,blockLength:$o}=readBlockHead$1(Mn);fo.push({cid:mo,bytes:Mn.exactly($o,!0)})}return{header:io,blocks:fo}}function bytesReader$1(Fn){let Mn=0;return{upTo(io){return Fn.subarray(Mn,Mn+Math.min(io,Fn.length-Mn))},exactly(io,fo=!1){if(io>Fn.length-Mn)throw new Error("Unexpected end of data");const mo=Fn.subarray(Mn,Mn+io);return fo&&(Mn+=io),mo},seek(io){Mn+=io},get pos(){return Mn}}}function limitReader$1(Fn,Mn){let io=0;return{upTo(fo){let mo=Fn.upTo(fo);return mo.length+io>Mn&&(mo=mo.subarray(0,Mn-io)),mo},exactly(fo,mo=!1){const $o=Fn.exactly(fo,mo);if($o.length+io>Mn)throw new Error("Unexpected end of data");return mo&&(io+=fo),$o},seek(fo){io+=fo,Fn.seek(fo)},get pos(){return Fn.pos}}}class CarBufferReader{constructor(Mn,io){this._header=Mn,this._blocks=io,this._cids=void 0}get version(){return this._header.version}getRoots(){return this._header.roots}has(Mn){return this._blocks.some(io=>io.cid.equals(Mn))}get(Mn){return this._blocks.find(io=>io.cid.equals(Mn))}blocks(){return this._blocks}cids(){return this._cids||(this._cids=this._blocks.map(Mn=>Mn.cid)),this._cids}static fromBytes(Mn){if(!(Mn instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");const{header:io,blocks:fo}=fromBytes$4(Mn);return new CarBufferReader(io,fo)}}const cborEncoders=makeCborEncoders(),defaultEncodeOptions={float64:!1,quickEncodeToken};function tokensToLength(Fn,Mn=cborEncoders,io=defaultEncodeOptions){if(Array.isArray(Fn)){let fo=0;for(const mo of Fn)fo+=tokensToLength(mo,Mn,io);return fo}else{const fo=Mn[Fn.type.major];if(fo.encodedSize===void 0||typeof fo.encodedSize!="function")throw new Error(`Encoder for ${Fn.type.name} does not have an encodedSize()`);return fo.encodedSize(Fn,io)}}class CarBufferWriter{constructor(Mn,io){this.bytes=Mn,this.byteOffset=io,this.roots=[],this.headerSize=io}addRoot(Mn,io){return addRoot(this,Mn,io),this}write(Mn){return addBlock(this,Mn),this}close(Mn){return close$7(this,Mn)}}const addRoot=(Fn,Mn,io={})=>{const{resize:fo=!1}=io,{bytes:mo,headerSize:$o,byteOffset:Ao,roots:Lo}=Fn;Fn.roots.push(Mn);const Wo=headerLength(Fn);if(Wo>$o)if(Wo-$o+Ao<mo.byteLength)if(fo)resizeHeader(Fn,Wo);else throw Lo.pop(),new RangeError(`Header of size ${$o} has no capacity for new root ${Mn}.
  However there is a space in the buffer and you could call addRoot(root, { resize: root }) to resize header to make a space for this root.`);else throw Lo.pop(),new RangeError(`Buffer has no capacity for a new root ${Mn}`)},blockLength=({cid:Fn,bytes:Mn})=>{const io=Fn.bytes.byteLength+Mn.byteLength;return varint$a.encodingLength(io)+io},addBlock=(Fn,{cid:Mn,bytes:io})=>{const fo=Mn.bytes.byteLength+io.byteLength,mo=varint$a.encode(fo);if(Fn.byteOffset+mo.length+fo>Fn.bytes.byteLength)throw new RangeError("Buffer has no capacity for this block");writeBytes$1(Fn,mo),writeBytes$1(Fn,Mn.bytes),writeBytes$1(Fn,io)},close$7=(Fn,Mn={})=>{const{resize:io=!1}=Mn,{roots:fo,bytes:mo,byteOffset:$o,headerSize:Ao}=Fn,Lo=encode$O({version:1,roots:fo}),Wo=varint$a.encode(Lo.length),jo=Wo.length+Lo.byteLength;if(Ao-jo===0)return writeHeader(Fn,Wo,Lo),mo.subarray(0,$o);if(io)return resizeHeader(Fn,jo),writeHeader(Fn,Wo,Lo),mo.subarray(0,Fn.byteOffset);throw new RangeError(`Header size was overestimated.
You can use close({ resize: true }) to resize header`)},resizeHeader=(Fn,Mn)=>{const{bytes:io,headerSize:fo}=Fn;io.set(io.subarray(fo,Fn.byteOffset),Mn),Fn.byteOffset+=Mn-fo,Fn.headerSize=Mn},writeBytes$1=(Fn,Mn)=>{Fn.bytes.set(Mn,Fn.byteOffset),Fn.byteOffset+=Mn.length},writeHeader=({bytes:Fn},Mn,io)=>{Fn.set(Mn),Fn.set(io,Mn.length)},headerPreludeTokens=[new Token(Type.map,2),new Token(Type.string,"version"),new Token(Type.uint,1),new Token(Type.string,"roots")],CID_TAG=new Token(Type.tag,42),calculateHeaderLength=Fn=>{const Mn=[...headerPreludeTokens];Mn.push(new Token(Type.array,Fn.length));for(const fo of Fn)Mn.push(CID_TAG),Mn.push(new Token(Type.bytes,{length:fo+1}));const io=tokensToLength(Mn);return varint$a.encodingLength(io)+io},headerLength=({roots:Fn})=>calculateHeaderLength(Fn.map(Mn=>Mn.bytes.byteLength)),createWriter$2=(Fn,Mn={})=>{const{roots:io=[],byteOffset:fo=0,byteLength:mo=Fn.byteLength,headerSize:$o=headerLength({roots:io})}=Mn,Ao=new Uint8Array(Fn,fo,mo),Lo=new CarBufferWriter(Ao,$o);for(const Wo of io)Lo.addRoot(Wo);return Lo},contentType$6="application/vnd.ipld.car",name$7="CAR",code$c=514;let Writer$2=class{constructor(Mn=[],io=0){this.written=new Set,this.blocks=Mn,this.byteLength=io}write(...Mn){for(const io of Mn){const fo=io.cid.toString(base32$7);this.written.has(fo)||(this.blocks.push(io),this.byteLength+=blockLength(io),this.written.add(fo))}return this}flush(...Mn){const io=[];for(const $o of Mn.reverse()){const Ao=$o.cid.toString(base32$7);this.written.has(Ao)||(this.blocks.unshift($o),this.byteLength+=blockLength({cid:$o.cid,bytes:$o.bytes}),this.written.add(Ao)),io.unshift($o.cid)}this.byteLength+=headerLength({roots:io});const fo=new ArrayBuffer(this.byteLength),mo=createWriter$2(fo,{roots:io});for(const $o of this.blocks)mo.write($o);return mo.close()}};const createWriter$1=()=>new Writer$2,encode$v=({roots:Fn=[],blocks:Mn})=>{const io=new Writer$2;return Mn&&io.write(...Mn.values()),io.flush(...Fn)},decode$M=Fn=>{const Mn=CarBufferReader.fromBytes(Fn),io=[],fo=new Map;for(const mo of Mn.getRoots()){const $o=Mn.get(mo);$o&&io.push($o)}for(const mo of Mn.blocks())fo.set(mo.cid.toString(),mo);return{roots:io,blocks:fo}},link$2=async(Fn,{hasher:Mn=sha256$3}={})=>create$o(code$c,await Mn.digest(Fn)),write$4=async(Fn,Mn)=>{const io=encode$v(Fn),fo=await link$2(io,Mn);return{bytes:io,cid:fo}},car=Object.freeze(Object.defineProperty({__proto__:null,code:code$c,contentType:contentType$6,createWriter:createWriter$1,decode:decode$M,encode:encode$v,link:link$2,name:name$7,write:write$4},Symbol.toStringTag,{value:"Module"})),ok=Fn=>{if(Fn==null)throw new TypeError(`ok(${Fn}) is not allowed, consider ok({}) instead`);return{ok:Fn}},error$1=Fn=>{if(Fn==null)throw new TypeError(`error(${Fn}) is not allowed, consider passing an error instead`);return{error:Fn}},panic$1=Fn=>{throw new Failure(Fn)},fail=Fn=>({error:new Failure(Fn)});class Failure extends Error{describe(){return this.toString()}get message(){return this.describe()}toJSON(){const{name:Mn,message:io,stack:fo}=this;return{name:Mn,message:io,stack:fo}}}class API{constructor(Mn){this.settings=Mn}toString(){return`new ${this.constructor.name}()`}readWith(Mn,io){throw new Error("Abstract method readWith must be implemented by subclass")}read(Mn){return this.readWith(Mn,this.settings)}is(Mn){var io;return!((io=this.read(Mn))!=null&&io.error)}from(Mn){const io=this.read(Mn);if(io.error)throw io.error;return io.ok}optional(){return optional$1(this)}nullable(){return nullable(this)}array(){return array(this)}or(Mn){return or$g(this,Mn)}and(Mn){return and$4(this,Mn)}refine(Mn){return refine(this,Mn)}brand(Mn){return this}default(Mn){const io=this.from(Mn);if(io===void 0)throw new Error("Value of type undefined is not a valid default");return new Default({reader:this,value:io})}}class Unknown extends API{read(Mn){return{ok:Mn}}toString(){return"unknown()"}}const unknown=()=>new Unknown;class Nullable extends API{readWith(Mn,io){const fo=io.read(Mn);return fo.error?Mn===null?{ok:null}:{error:new UnionError({causes:[fo.error,typeError({expect:"null",actual:Mn}).error]})}:fo}toString(){return`${this.settings}.nullable()`}}const nullable=Fn=>new Nullable(Fn);class Optional extends API{optional(){return this}readWith(Mn,io){const fo=io.read(Mn);return fo.error&&Mn===void 0?{ok:void 0}:fo}toString(){return`${this.settings}.optional()`}}class Default extends API{optional(){return this}readWith(Mn,{reader:io,value:fo}){if(Mn===void 0)return{ok:fo};{const mo=io.read(Mn);return mo.error||mo.ok!==void 0?mo:{ok:fo}}}toString(){return`${this.settings.reader}.default(${JSON.stringify(this.settings.value)})`}get value(){return this.settings.value}}const optional$1=Fn=>new Optional(Fn);class ArrayOf extends API{readWith(Mn,io){if(!Array.isArray(Mn))return typeError({expect:"array",actual:Mn});const fo=[];for(const[mo,$o]of Mn.entries()){const Ao=io.read($o);if(Ao.error)return memberError({at:mo,cause:Ao.error});fo.push(Ao.ok)}return{ok:fo}}get element(){return this.settings}toString(){return`array(${this.element})`}}const array=Fn=>new ArrayOf(Fn);class Tuple extends API{readWith(Mn,io){if(!Array.isArray(Mn))return typeError({expect:"array",actual:Mn});if(Mn.length!==this.shape.length)return error(`Array must contain exactly ${this.shape.length} elements`);const fo=[];for(const[mo,$o]of io.entries()){const Ao=$o.read(Mn[mo]);if(Ao.error)return memberError({at:mo,cause:Ao.error});fo[mo]=Ao.ok}return{ok:fo}}get shape(){return this.settings}toString(){return`tuple([${this.shape.map(Mn=>Mn.toString()).join(", ")}])`}}const tuple=Fn=>new Tuple(Fn);class Dictionary extends API{readWith(Mn,{key:io,value:fo}){if(typeof Mn!="object"||Mn===null||Array.isArray(Mn))return typeError({expect:"dictionary",actual:Mn});const mo={};for(const[$o,Ao]of Object.entries(Mn)){const Lo=io.read($o);if(Lo.error)return memberError({at:$o,cause:Lo.error});const Wo=fo.read(Ao);if(Wo.error)return memberError({at:$o,cause:Wo.error});Wo.ok!==void 0&&(mo[Lo.ok]=Wo.ok)}return{ok:mo}}get key(){return this.settings.key}get value(){return this.settings.value}partial(){const{key:Mn,value:io}=this.settings;return new Dictionary({key:Mn,value:optional$1(io)})}toString(){return`dictionary(${this.settings})`}}const dictionary=({value:Fn,key:Mn})=>new Dictionary({value:Fn,key:Mn||string()});class Union extends API{readWith(Mn,io){const fo=[];for(const mo of io){const $o=mo.read(Mn);if($o.error)fo.push($o.error);else return $o}return{error:new UnionError({causes:fo})}}get variants(){return this.settings}toString(){return`union([${this.variants.map(Mn=>Mn.toString()).join(", ")}])`}}const union=Fn=>new Union(Fn),or$g=(Fn,Mn)=>union([Fn,Mn]);class Intersection extends API{readWith(Mn,io){const fo=[];for(const mo of io){const $o=mo.read(Mn);$o.error&&fo.push($o.error)}return fo.length>0?{error:new IntersectionError({causes:fo})}:{ok:Mn}}toString(){return`intersection([${this.settings.map(Mn=>Mn.toString()).join(",")}])`}}const intersection$1=Fn=>new Intersection(Fn),and$4=(Fn,Mn)=>intersection$1([Fn,Mn]);let Boolean$1=class extends API{readWith(Mn){switch(Mn){case!0:case!1:return{ok:Mn};default:return typeError({expect:"boolean",actual:Mn})}}toString(){return"boolean()"}};const anyBoolean=new Boolean$1,boolean=()=>anyBoolean;class UnknownNumber extends API{greaterThan(Mn){return this.refine(greaterThan(Mn))}lessThan(Mn){return this.refine(lessThan(Mn))}refine(Mn){return new RefinedNumber({base:this,schema:Mn})}}class AnyNumber extends UnknownNumber{readWith(Mn){return typeof Mn=="number"?{ok:Mn}:typeError({expect:"number",actual:Mn})}toString(){return"number()"}}const anyNumber=new AnyNumber,number=()=>anyNumber;class RefinedNumber extends UnknownNumber{readWith(Mn,{base:io,schema:fo}){const mo=io.read(Mn);return mo.error?mo:fo.read(mo.ok)}toString(){return`${this.settings.base}.refine(${this.settings.schema})`}}class LessThan extends API{readWith(Mn,io){return Mn<io?{ok:Mn}:error(`Expected ${Mn} < ${io}`)}toString(){return`lessThan(${this.settings})`}}const lessThan=Fn=>new LessThan(Fn);class GreaterThan extends API{readWith(Mn,io){return Mn>io?{ok:Mn}:error(`Expected ${Mn} > ${io}`)}toString(){return`greaterThan(${this.settings})`}}const greaterThan=Fn=>new GreaterThan(Fn),Integer={read(Fn){return Number.isInteger(Fn)?{ok:Fn}:typeError({expect:"integer",actual:Fn})},toString(){return"Integer"}},anyInteger=anyNumber.refine(Integer),integer=()=>anyInteger,Float={read(Fn){return Number.isFinite(Fn)?{ok:Fn}:typeError({expect:"Float",actual:Fn})},toString(){return"Float"}};anyNumber.refine(Float);class UnknownString extends API{refine(Mn){const io=Mn;return new RefinedString({base:this,schema:io})}startsWith(Mn){return this.refine(startsWith(Mn))}endsWith(Mn){return this.refine(endsWith(Mn))}toString(){return"string()"}}class RefinedString extends UnknownString{readWith(Mn,{base:io,schema:fo}){const mo=io.read(Mn);return mo.error?mo:fo.read(mo.ok)}toString(){return`${this.settings.base}.refine(${this.settings.schema})`}}class AnyString extends UnknownString{readWith(Mn){return typeof Mn=="string"?{ok:Mn}:typeError({expect:"string",actual:Mn})}}const anyString=new AnyString,string=()=>anyString;class BytesSchema extends API{readWith(Mn){return Mn instanceof Uint8Array?{ok:Mn}:typeError({expect:"Uint8Array",actual:Mn})}}const Bytes=new BytesSchema,bytes=()=>Bytes;class StartsWith extends API{readWith(Mn,io){return Mn.startsWith(io)?{ok:Mn}:error(`Expect string to start with "${io}" instead got "${Mn}"`)}get prefix(){return this.settings}toString(){return`startsWith("${this.prefix}")`}}const startsWith=Fn=>new StartsWith(Fn);class EndsWith extends API{readWith(Mn,io){return Mn.endsWith(io)?{ok:Mn}:error(`Expect string to end with "${io}" instead got "${Mn}"`)}get suffix(){return this.settings}toString(){return`endsWith("${this.suffix}")`}}const endsWith=Fn=>new EndsWith(Fn);class Refine extends API{readWith(Mn,{base:io,schema:fo}){const mo=io.read(Mn);return mo.error?mo:fo.read(mo.ok)}toString(){return`${this.settings.base}.refine(${this.settings.schema})`}}const refine=(Fn,Mn)=>new Refine({base:Fn,schema:Mn});class Literal extends API{readWith(Mn,io){return Mn!==io?{error:new LiteralError({expect:io,actual:Mn})}:{ok:io}}get value(){return this.settings}default(Mn=this.value){return super.default(Mn)}toString(){return`literal(${toString$2(this.value)})`}}const literal=Fn=>new Literal(Fn);class Struct extends API{readWith(Mn,io){if(typeof Mn!="object"||Mn===null||Array.isArray(Mn))return typeError({expect:"object",actual:Mn});const fo=Mn,mo={},$o=Object.entries(io);for(const[Ao,Lo]of $o){const Wo=Lo.read(fo[Ao]);if(Wo.error)return memberError({at:Ao,cause:Wo.error});Wo.ok!==void 0&&(mo[Ao]=Wo.ok)}return{ok:mo}}partial(){return new Struct(Object.fromEntries(Object.entries(this.shape).map(([Mn,io])=>[Mn,optional$1(io)])))}get shape(){return this.settings}toString(){return["struct({ ",...Object.entries(this.shape).map(([Mn,io])=>`${Mn}: ${io}`).join(", ")," })"].join("")}create(Mn){return this.from(Mn||{})}extend(Mn){return new Struct({...this.shape,...Mn})}}const struct=Fn=>{const Mn={},io=Object.entries(Fn);for(const[fo,mo]of io)switch(typeof mo){case"number":case"string":case"boolean":Mn[fo]=literal(mo);break;case"object":Mn[fo]=mo===null?literal(null):mo;break;default:throw new Error(`Invalid struct field "${fo}", expected schema or literal, instead got ${typeof mo}`)}return new Struct(Mn)};class Variant extends API{readWith(Mn,io){if(typeof Mn!="object"||Mn===null||Array.isArray(Mn))return typeError({expect:"object",actual:Mn});const fo=Object.keys(Mn),[mo]=fo.length===1?fo:[],$o=mo?io[mo]:void 0;if($o){const Ao=$o.read(Mn[mo]);return Ao.error?memberError({at:mo,cause:Ao.error}):{ok:{[mo]:Ao.ok}}}else if(io._){const Ao=io._.read(Mn);return Ao.error?Ao:{ok:{_:Ao.ok}}}else return error(mo?`Expected an object with one of the these keys: ${Object.keys(io).sort().join(", ")} instead got object with key ${mo}`:"Expected an object with a single key instead got object with keys "+fo.sort().join(", "))}match(Mn,io){const fo=this.read(Mn);if(fo.error){if(io!==void 0)return[null,io];throw fo.error}else{const[mo]=Object.keys(fo.ok),$o=fo.ok[mo];return[mo,$o]}}create(Mn){return this.from(Mn)}}const variant=Fn=>new Variant(Fn),error=Fn=>({error:new SchemaError(Fn)});class SchemaError extends Failure{get name(){return"SchemaError"}describe(){return this.name}}let TypeError$1=class extends SchemaError{constructor({expect:Mn,actual:io}){super(),this.expect=Mn,this.actual=io}get name(){return"TypeError"}describe(){return`Expected value of type ${this.expect} instead got ${toString$2(this.actual)}`}};const typeError=Fn=>({error:new TypeError$1(Fn)}),toString$2=Fn=>{const Mn=typeof Fn;switch(Mn){case"boolean":case"string":return JSON.stringify(Fn);case"bigint":return`${Fn}n`;case"number":case"symbol":case"undefined":return String(Fn);case"object":return Fn===null?"null":Array.isArray(Fn)?"array":Symbol.toStringTag in Fn?Fn[Symbol.toStringTag]:"object";default:return Mn}};class LiteralError extends SchemaError{constructor({expect:Mn,actual:io}){super(),this.expect=Mn,this.actual=io}get name(){return"LiteralError"}describe(){return`Expected literal ${toString$2(this.expect)} instead got ${toString$2(this.actual)}`}}class ElementError extends SchemaError{constructor({at:Mn,cause:io}){super(),this.at=Mn,this.cause=io}get name(){return"ElementError"}describe(){return[`Array contains invalid element at ${this.at}:`,li$1(this.cause.message)].join(`
`)}}class FieldError extends SchemaError{constructor({at:Mn,cause:io}){super(),this.at=Mn,this.cause=io}get name(){return"FieldError"}describe(){return[`Object contains invalid field "${this.at}":`,li$1(this.cause.message)].join(`
`)}}const memberError=({at:Fn,cause:Mn})=>typeof Fn=="string"?{error:new FieldError({at:Fn,cause:Mn})}:{error:new ElementError({at:Fn,cause:Mn})};class UnionError extends SchemaError{constructor({causes:Mn}){super(),this.causes=Mn}get name(){return"UnionError"}describe(){const{causes:Mn}=this;return["Value does not match any type of the union:",...Mn.map(io=>li$1(io.message))].join(`
`)}}class IntersectionError extends SchemaError{constructor({causes:Mn}){super(),this.causes=Mn}get name(){return"IntersectionError"}describe(){const{causes:Mn}=this;return["Value does not match following types of the intersection:",...Mn.map(io=>li$1(io.message))].join(`
`)}}const indent$1=(Fn,Mn="  ")=>`${Mn}${Fn.split(`
`).join(`
${Mn}`)}`,li$1=Fn=>indent$1(`- ${Fn}`);class URISchema extends API{readWith(Mn,{protocol:io}={}){if(typeof Mn!="string"&&!(Mn instanceof URL))return error(`Expected URI but got ${Mn===null?"null":typeof Mn}`);try{const fo=new URL(String(Mn));return io!=null&&fo.protocol!==io?error(`Expected ${io} URI instead got ${fo.href}`):{ok:fo.href}}catch{return error("Invalid URI")}}}const match$3=Fn=>new URISchema(Fn);class LinkSchema extends API{readWith(Mn,{code:io,multihash:fo={},version:mo}){if(Mn==null)return error(`Expected link but got ${Mn} instead`);if(isLink(Mn)){if(io!=null&&Mn.code!==io)return error(`Expected link to be CID with 0x${io.toString(16)} codec`);if(fo.code!=null&&Mn.multihash.code!==fo.code)return error(`Expected link to be CID with 0x${fo.code.toString(16)} hashing algorithm`);if(mo!=null&&Mn.version!==mo)return error(`Expected link to be CID version ${mo} instead of ${Mn.version}`);const[$o,Ao]=fo.digest!=null?[base32$7.baseEncode(fo.digest),base32$7.baseEncode(Mn.multihash.digest)]:["",""];return $o!==Ao?error(`Expected link with "${$o}" hash digest instead of "${Ao}"`):{ok:Mn}}else return error(`Expected link to be a CID instead of ${Mn}`)}}const schema$2=new LinkSchema({}),link$1=()=>schema$2,match$2=(Fn={})=>new LinkSchema(Fn),read$b=Fn=>schema$2.read(Fn),optional=()=>schema$2.optional(),Link=Object.freeze(Object.defineProperty({__proto__:null,create:create$o,createLegacy:createLegacy$1,isLink,link:link$1,match:match$2,optional,parse,read:read$b,schema:schema$2},Symbol.toStringTag,{value:"Module"}));class DIDSchema extends API{readWith(Mn,io){const fo=io?`did:${io}:`:"did:";return Mn.startsWith(fo)?{ok:Mn}:error(`Expected a ${fo} but got "${Mn}" instead`)}}const schema$1=string().refine(new DIDSchema),did=()=>schema$1,read$a=Fn=>schema$1.read(Fn),match$1=(Fn={})=>string().refine(new DIDSchema(Fn.method)),from$k=Fn=>match$1({}).from(Fn),DID=Object.freeze(Object.defineProperty({__proto__:null,did,from:from$k,match:match$1,read:read$a},Symbol.toStringTag,{value:"Module"})),schema=string(),match=Fn=>Fn?schema.refine(new Match$1(Fn.pattern)):schema;let Match$1=class extends API{readWith(Mn,io){return io.test(Mn)?{ok:Mn}:error(`Expected to match ${io} but got "${Mn}" instead`)}};const isDelegation=Fn=>!isLink(Fn),allows=(...Fn)=>{let Mn={};for(const io of Fn)for(const{with:fo,can:mo,nb:$o}of iterateCapabilities(io)){const Ao=Mn[fo]||(Mn[fo]={});(Ao[mo]||(Ao[mo]=[])).push({...$o})}return Mn},iterateCapabilities=function*({issuer:Fn,capabilities:Mn,proofs:io}){for(const fo of Mn)if(fo.with==="ucan:*"){yield{...fo,with:Fn.did()};for(const mo of io)if(isDelegation(mo))for(const $o of iterateCapabilities(mo)){const Ao=matchAbility($o.can,fo.can);Ao&&(yield{...$o,can:Ao,nb:{...$o.nb,...Object(fo.nb)}})}}else yield fo},matchAbility=(Fn,Mn)=>Fn==="*"?Mn:Mn==="*"||Mn.endsWith("/*")&&Fn.startsWith(Mn.slice(0,-1))?Fn:Fn.endsWith("/*")&&Mn.startsWith(Fn.slice(0,-1))?Mn:Fn===Mn?Fn:null;class Delegation{constructor(Mn,io=new Map){this.root=Mn,this.blocks=io,Object.defineProperties(this,{blocks:{enumerable:!1}})}get attachedLinks(){const Mn=new Set,io=this.data;for(const fo of io.capabilities){const mo=getLinksFromObject(fo);for(const $o of mo)Mn.add(`${$o}`)}for(const fo of io.facts)if(isLink(fo))Mn.add(`${fo}`);else{const mo=Object.values(fo).filter($o=>isLink($o));for(const $o of mo)Mn.add(`${$o}`)}return Mn}get version(){return this.data.version}get signature(){return this.data.signature}get cid(){return this.root.cid}link(){return this.root.cid}get asCID(){return this.cid}get bytes(){return this.root.bytes}get data(){const Mn=decode$L(this.root);return Object.defineProperties(this,{data:{value:Mn,enumerable:!1}}),Mn}attach(Mn){if(!this.attachedLinks.has(`${Mn.cid.link()}`))throw new Error(`given block with ${Mn.cid} is not an attached link`);this.blocks.set(`${Mn.cid}`,Mn)}export(){return exportDAG(this.root,this.blocks,this.attachedLinks)}archive(){return archive$2(this)}iterateIPLDBlocks(){return exportDAG(this.root,this.blocks,this.attachedLinks)}get proofs(){return proofs(this)}get issuer(){return this.data.issuer}get audience(){return this.data.audience}get capabilities(){return this.data.capabilities}get expiration(){return this.data.expiration}get notBefore(){return this.data.notBefore}get nonce(){return this.data.nonce}get facts(){return this.data.facts}iterate(){return it(this)}delegate(){return this}buildIPLDView(){return this}toJSON(){return{...this.data.toJSON(),"/":this.cid.toString(),prf:this.proofs.map(Mn=>isDelegation(Mn)?Mn:{"/":Mn.toString()})}}}const archive$2=async Fn=>{try{const Mn=new Map;for(const mo of Fn.iterateIPLDBlocks())Mn.set(`${mo.cid}`,mo);const io=await write$5({[`ucan@${Fn.version}`]:Fn.root.cid});Mn.set(`${io.cid}`,io);const fo=encode$v({roots:[io],blocks:Mn});return ok(fo)}catch(Mn){return error$1(Mn)}},ArchiveSchema=variant({"ucan@0.9.1":match$2({version:1})}),extract$1=async Fn=>{try{const{roots:Mn,blocks:io}=decode$M(Fn),[fo]=Mn;if(fo==null)return error("CAR archive does not contain a root block");const{bytes:mo}=fo,$o=decode$1a(mo),[,Ao]=ArchiveSchema.match($o);return ok(view$3({root:Ao,blocks:io}))}catch(Mn){return error$1(Mn)}},it=function*(Fn){for(const Mn of Fn.proofs)isDelegation(Mn)&&(yield*it(Mn),yield Mn)},decodeCache=new WeakMap,decode$L=({bytes:Fn})=>{const Mn=decodeCache.get(Fn);if(!Mn){const io=decode$W(Fn);return decodeCache.set(Fn,io),io}return Mn},delegate$3=async({issuer:Fn,audience:Mn,proofs:io=[],attachedBlocks:fo=new Map,...mo},$o)=>{const Ao=[],Lo=new Map;for(const Go of io)if(!isDelegation(Go))Ao.push(Go);else{Ao.push(Go.cid);for(const Jo of Go.export())Lo.set(Jo.cid.toString(),Jo)}const Wo=await issue$2({...mo,issuer:Fn,audience:Mn,proofs:Ao}),{cid:jo,bytes:zo}=await write$6(Wo,$o);decodeCache.set(jo,Wo);const Vo=new Delegation({cid:jo,bytes:zo},Lo);Object.defineProperties(Vo,{proofs:{value:io}});for(const Go of fo.values())Vo.attach(Go);return Vo},exportDAG=function*(Fn,Mn,io){for(const fo of decode$L(Fn).proofs){const mo=Mn.get(`${fo}`);mo&&(yield*exportSubDAG(mo,Mn))}for(const fo of io.values()){const mo=Mn.get(fo);mo&&(yield mo)}yield Fn},exportSubDAG=function*(Fn,Mn){for(const io of decode$L(Fn).proofs){const fo=Mn.get(`${io}`);fo&&(yield*exportSubDAG(fo,Mn))}yield Fn},importDAG=Fn=>{let Mn=[];for(const fo of Fn)Mn.push([fo.cid.toString(),fo]);const io=Mn.pop();if(io){const[,fo]=io;return new Delegation(fo,new Map(Mn))}else throw new RangeError("Empty DAG can not be turned into a delegation")},create$m=({root:Fn,blocks:Mn})=>new Delegation(Fn,Mn),view$3=({root:Fn,blocks:Mn},io)=>{const fo=get$i(Fn,Mn,null);return fo==null?io!==void 0?io:notFound(Fn):create$m({root:fo,blocks:Mn})},proofs=Fn=>{const Mn=[],{root:io,blocks:fo}=Fn;for(const mo of decode$L(io).proofs){const $o=fo.get(mo.toString());Mn.push($o?create$m({root:$o,blocks:fo}):mo)}return Object.defineProperty(Fn,"proofs",{value:Mn}),Mn};function getLinksFromObject(Fn){const Mn=[];function io(fo){for(const mo in fo){const $o=fo[mo];isLink($o)?Mn.push($o):$o&&typeof $o=="object"&&io($o)}}return io(Fn),Mn}var Ov;class AgentDelegation extends Delegation{constructor(io,fo,mo={}){super(io,fo);a1(this,Ov);Zp(this,Ov,mo)}meta(){return cp(this,Ov)}}Ov=new WeakMap;const invoke=Fn=>new IssuedInvocation(Fn),create$l=({root:Fn,blocks:Mn})=>new Invocation(Fn,Mn),view$2=({root:Fn,blocks:Mn},io)=>{const fo=get$i(Fn,Mn,null);return fo==null?io!==void 0?io:notFound(Fn):create$l({root:fo,blocks:Mn})};class IssuedInvocation{constructor({issuer:Mn,audience:io,capability:fo,proofs:mo=[],expiration:$o,lifetimeInSeconds:Ao,notBefore:Lo,nonce:Wo,facts:jo=[]}){this.issuer=Mn,this.audience=io,this.proofs=mo,this.capabilities=[fo],this.expiration=$o,this.lifetimeInSeconds=Ao,this.notBefore=Lo,this.nonce=Wo,this.facts=jo,this.attachedBlocks=new Map}attach(Mn){this.attachedBlocks.set(`${Mn.cid}`,Mn)}delegate(){return delegate$3(this)}buildIPLDView(){return delegate$3(this)}async execute(Mn){const io=this,[fo]=await Mn.execute(io);return fo}}class Invocation extends Delegation{}const view$1=({root:Fn,blocks:Mn},io)=>{const fo=get$i(Fn,Mn,null);if(fo==null)return io!==void 0?io:notFound(Fn);const mo=decode$1a(fo.bytes);return new Receipt({root:{...fo,data:mo},store:Mn})};class Receipt{constructor({root:Mn,store:io,ran:fo,issuer:mo,signature:$o,proofs:Ao}){this.store=io,this.root=Mn,this._ran=fo,this._fx=void 0,this._signature=$o,this._proofs=Ao,this._issuer=mo}get ran(){const Mn=this._ran;if(Mn)return Mn;{const io=view$2({root:this.root.data.ocm.ran,blocks:this.store},this.root.data.ocm.ran);return this._ran=io,io}}get proofs(){const Mn=this._proofs;if(Mn)return Mn;{const{store:io,root:fo}=this,{prf:mo}=fo.data.ocm,$o=[];if(mo)for(const Ao of mo){const Lo=view$3({root:Ao,blocks:io},Ao);$o.push(Lo)}return this._proofs=$o,$o}}link(){return this.root.cid}get meta(){return this.root.data.ocm.meta}get issuer(){const Mn=this._issuer;if(Mn)return Mn;{const{iss:io}=this.root.data.ocm;if(io){const fo=parse$2(io);return this._issuer=fo,fo}}}get out(){return this.root.data.ocm.out}get fx(){let Mn=this._fx;if(!Mn){const{store:io}=this,{fork:fo,join:mo}=this.root.data.ocm.fx;Mn={fork:fo.map($o=>view$2({root:$o,blocks:io},$o))},mo&&(Mn.join=view$2({root:mo,blocks:io},mo)),this._fx=Mn}return Mn}get signature(){const Mn=this._signature;if(Mn)return Mn;{const io=view$4(this.root.data.sig);return this._signature=io,io}}verifySignature(Mn){return this.signature.verify(Mn,encode$A(this.root.data.ocm))}buildIPLDView(){return this}*iterateIPLDBlocks(){const{ran:Mn,fx:io,proofs:fo,root:mo}=this;yield*iterate$2(Mn);for(const $o of io.fork)yield*iterate$2($o);io.join&&(yield*iterate$2(io.join));for(const $o of fo)yield*iterate$2($o);yield mo}}class ReceptBuilder{constructor({issuer:Mn,result:io,ran:fo,fx:mo=NOFX,proofs:$o=[],meta:Ao={}}){this.issuer=Mn,this.result=io,this.ran=fo,this.fx=mo,this.proofs=$o,this.meta=Ao}async buildIPLDView({hasher:Mn=sha256$3,codec:io=CBOR}={}){const fo=createStore$1();addEveryInto(iterate$2(this.ran),fo);const mo=[];for(const zo of this.proofs)addEveryInto(iterate$2(zo),fo),mo.push(zo.link());const $o={fork:[]};for(const zo of this.fx.fork)addEveryInto(iterate$2(zo),fo),$o.fork.push(zo.link());this.fx.join&&(addEveryInto(iterate$2(this.fx.join),fo),$o.join=this.fx.join.link());const Ao={ran:this.ran.link(),out:this.result,fx:$o,meta:this.meta,iss:this.issuer.did(),prf:mo},Lo=await this.issuer.sign(encode$A(Ao)),jo=await writeInto({ocm:Ao,sig:Lo},fo,{hasher:Mn,codec:io});return new Receipt({root:jo,store:fo,signature:Lo,proofs:this.proofs,ran:this.ran})}}const NOFX=Object.freeze({fork:Object.freeze([])}),issue$1=Fn=>new ReceptBuilder(Fn).buildIPLDView(),MessageSchema=variant({"ucanto/message@7.0.0":struct({execute:match$2().array().optional(),delegate:dictionary({key:string(),value:match$2()}).array().optional()})}),build$1=({invocations:Fn,receipts:Mn})=>new MessageBuilder({invocations:Fn,receipts:Mn}).buildIPLDView(),view=({root:Fn,store:Mn},io)=>{const fo=get$i(Fn,Mn,null);if(fo===null)return io!==void 0?io:notFound(Fn);const mo=decode$1a(fo.bytes),[$o,Ao]=MessageSchema.match(mo,io);switch($o){case"ucanto/message@7.0.0":return new Message({root:{...fo,data:mo},store:Mn});default:return Ao}};class MessageBuilder{constructor({invocations:Mn,receipts:io}){this.invocations=Mn,this.receipts=io}async buildIPLDView(Mn){const io=new Map,{invocations:fo,...mo}=await writeInvocations(this.invocations||[],io),{receipts:$o,...Ao}=await writeReceipts(this.receipts||[],io),Lo=await writeInto({"ucanto/message@7.0.0":{...mo,...Ao}},io,Mn);return new Message({root:Lo,store:io},{receipts:$o,invocations:fo})}}const writeInvocations=async(Fn,Mn)=>{const io=[],fo=[];for(const mo of Fn){const $o=await mo.buildIPLDView();fo.push($o.link()),io.push($o);for(const Ao of $o.iterateIPLDBlocks())Mn.set(`${Ao.cid}`,Ao)}return{invocations:io,...fo.length>0?{execute:fo}:{}}},writeReceipts=async(Fn,Mn)=>{if(Fn.length===0)return{};const io=new Map,fo={};for(const[mo,$o]of Fn.entries()){const Ao=await $o.buildIPLDView();for(const Wo of Ao.iterateIPLDBlocks())Mn.set(`${Wo.cid}`,Wo);const Lo=`${Ao.ran.link()}`;Lo in fo?io.set(`${Lo}@${mo}`,Ao):(fo[Lo]=Ao.root.cid,io.set(Lo,Ao))}return{receipts:io,report:fo}};class Message{constructor({root:Mn,store:io},{invocations:fo,receipts:mo}={}){this.root=Mn,this.store=io,this._invocations=fo,this._receipts=mo}*iterateIPLDBlocks(){for(const Mn of this.invocations)yield*Mn.iterateIPLDBlocks();for(const Mn of this.receipts.values())yield*Mn.iterateIPLDBlocks();yield this.root}get(Mn,io){const mo=(this.root.data["ucanto/message@7.0.0"].report||{})[`${Mn}`];return mo?view$1({root:mo,blocks:this.store}):io!==void 0?io:panic$1(`Message does not include receipt for ${Mn}`)}get invocationLinks(){return this.root.data["ucanto/message@7.0.0"].execute||[]}get invocations(){let Mn=this._invocations;return Mn||(Mn=this.invocationLinks.map(io=>view$2({root:io,blocks:this.store}))),Mn}get receipts(){let Mn=this._receipts;if(!Mn){Mn=new Map;const io=this.root.data["ucanto/message@7.0.0"].report||{};for(const[fo,mo]of Object.entries(io)){const $o=view$1({root:mo,blocks:this.store});Mn.set(`${$o.ran.link()}`,$o)}}return Mn}}const connect=Fn=>new Connection(Fn);class Connection{constructor(Mn){this.id=Mn.id,this.options=Mn,this.codec=Mn.codec,this.channel=Mn.channel,this.hasher=Mn.hasher||sha256$3}async execute(...Mn){return execute(Mn,this)}}const execute=async(Fn,Mn)=>{const io=await build$1({invocations:Fn}),fo=await Mn.codec.encode(io,Mn),mo=await Mn.channel.request(fo);try{const $o=await Mn.codec.decode(mo);return io.invocationLinks.map(Lo=>$o.get(Lo))}catch($o){const{message:Ao,name:Lo="Error",...Wo}=$o,jo=[];for await(const zo of io.invocationLinks){const Vo=await issue$1({ran:zo,result:{error:{...Wo,name:Lo,message:Ao}},issuer:{did(){return Mn.id.did()},sign(){return createNonStandard("",new Uint8Array)}}});jo.push(Vo)}return jo}},contentType$5=contentType$6,HEADERS$2=Object.freeze({"content-type":contentType$5,accept:contentType$5}),encode$u=(Fn,Mn)=>{const io=new Map;for(const mo of Fn.iterateIPLDBlocks())io.set(`${mo.cid}`,mo);const fo=encode$v({roots:[Fn.root],blocks:io});return{headers:(Mn==null?void 0:Mn.headers)||{...HEADERS$2},body:fo}},decode$K=async({headers:Fn,body:Mn})=>{const{roots:io,blocks:fo}=decode$M(Mn);return view({root:io[0].cid,store:fo})},request$3=Object.freeze(Object.defineProperty({__proto__:null,codec:car,contentType:contentType$5,decode:decode$K,encode:encode$u},Symbol.toStringTag,{value:"Module"})),contentType$4=contentType$6,HEADERS$1=Object.freeze({"content-type":contentType$4}),encode$t=(Fn,Mn)=>{const io=new Map;for(const mo of Fn.iterateIPLDBlocks())io.set(`${mo.cid}`,mo);const fo=encode$v({roots:[Fn.root],blocks:io});return{headers:{...HEADERS$1},body:fo}},decode$J=async({headers:Fn,body:Mn})=>{const{roots:io,blocks:fo}=decode$M(Mn);return view({root:io[0].cid,store:fo})},response$1=Object.freeze(Object.defineProperty({__proto__:null,codec:car,contentType:contentType$4,decode:decode$J,encode:encode$t},Symbol.toStringTag,{value:"Module"})),inbound=Fn=>new Inbound(Fn);class Inbound{accept({headers:Mn}){const io=Mn["content-type"]||Mn["Content-Type"],fo=this.decoders[io];if(!fo)return{error:{status:415,message:"The server cannot process the request because the payload format is not supported. Please check the content-type header and try again with a supported media type.",headers:{accept:Object.keys(this.decoders).join(", ")}}};const mo=parseAcceptHeader(Mn.accept||Mn.Accept||"*/*");for(const{category:$o,type:Ao}of mo)for(const Lo of this.encoders)if(($o==="*"||$o===Lo.category)&&(Ao==="*"||Ao===Lo.type))return{ok:{...Lo,decoder:fo}};return{error:{status:406,message:"The requested resource cannot be served in the requested content type. Please specify a supported content type using the Accept header.",headers:{accept:formatAcceptHeader(Object.values(this.encoders))}}}}constructor({decoders:Mn={},encoders:io={}}){if(this.decoders=Mn,Object.keys(Mn).length===0)throw new Error("At least one decoder MUST be provided");if(this.encoders=Object.entries(io).map(([fo,mo])=>({...parseMediaType(fo),encoder:mo})).sort((fo,mo)=>mo.preference-fo.preference),this.encoders.length===0)throw new Error("At least one encoder MUST be provided")}}const outbound$1=Fn=>new Outbound(Fn);class Outbound{constructor({decoders:Mn={},encoders:io={}}){if(this.decoders=Mn,Object.keys(Mn).length===0)throw new Error("At least one decoder MUST be provided");if(this.encoders=Object.entries(io).map(([fo,mo])=>({...parseMediaType(fo),encoder:mo})).sort((fo,mo)=>mo.preference-fo.preference),this.acceptType=formatAcceptHeader(this.encoders),this.encoders.length===0)throw new Error("At least one encoder MUST be provided");this.encoder=this.encoders[0].encoder}encode(Mn){return this.encoder.encode(Mn,{accept:this.acceptType})}decode(Mn){const{headers:io}=Mn,fo=io["content-type"]||io["Content-Type"],mo=this.decoders[fo]||this.decoders["*/*"];switch(Mn.status){case 415:case 406:throw Object.assign(new RangeError(new TextDecoder().decode(Mn.body)),{status:Mn.status,headers:Mn.headers})}if(!mo)throw Object.assign(TypeError(`Can not decode response with content-type '${fo}' because no matching transport decoder is configured.`),{error:!0});return mo.decode(Mn)}}const parseMediaType=Fn=>{const[Mn="*/*",io=""]=Fn.trim().split(";"),[fo="*",mo="*"]=Mn.split("/"),$o=new URLSearchParams(io),Ao=parseFloat($o.get("q")||"0");return{category:fo,type:mo,preference:isNaN(Ao)?0:Ao}},formatMediaType=({category:Fn,type:Mn,preference:io})=>`${Fn}/${Mn}${io?`;q=${io}`:""}`,parseAcceptHeader=Fn=>Fn.split(",").map(parseMediaType).sort((Mn,io)=>io.preference-Mn.preference),formatAcceptHeader=Fn=>Fn.map(formatMediaType).join(", "),contentType$3=contentType$6;inbound({decoders:{[contentType$5]:request$3},encoders:{[contentType$4]:response$1}});const outbound=outbound$1({encoders:{[contentType$5]:request$3},decoders:{[contentType$4]:response$1}}),open$2=({url:Fn,method:Mn="POST",fetch:io})=>{if(!io)if(typeof globalThis.fetch<"u")io=globalThis.fetch.bind(globalThis);else throw new TypeError("ucanto HTTP transport got undefined `fetch`. Try passing in a `fetch` implementation explicitly.");return new Channel({url:Fn,method:Mn,fetch:io})};class Channel{constructor({url:Mn,fetch:io,method:fo}){this.fetch=io,this.method=fo,this.url=Mn}async request({headers:Mn,body:io}){const fo=await this.fetch(this.url.href,{headers:Mn,body:io,method:this.method}),mo=fo.ok?await fo.arrayBuffer():HTTPError.throw(`HTTP Request failed. ${this.method} ${this.url.href}  ${fo.status}`,fo);return{headers:fo.headers.entries?Object.fromEntries(fo.headers.entries()):{},body:new Uint8Array(mo)}}}class HTTPError extends Error{static throw(Mn,io){throw new this(Mn,io)}constructor(Mn,{url:io,status:fo=500,statusText:mo="Server error"}){super(Mn),this.name="HTTPError",this.url=io,this.status=fo,this.statusText=mo}}const the=Fn=>Fn,entries$1=Fn=>Object.entries(Fn),combine=([Fn,...Mn])=>{const io=Fn.map(fo=>[fo]);for(const fo of Mn){const mo=io.splice(0);for(const $o of fo)for(const Ao of mo)io.push([...Ao,$o])}return io},intersection=(Fn,Mn)=>{const[io,fo]=Fn.length<Mn.length?[new Set(Fn),new Set(Mn)]:[new Set(Mn),new Set(Fn)];for(const mo of io)fo.has(mo)||io.delete(mo);return[...io]};class EscalatedCapability extends Failure{constructor(Mn,io,fo){super(),this.claimed=Mn,this.delegated=io,this.cause=fo,this.name=the("EscalatedCapability")}describe(){return`Constraint violation: ${this.cause.message}`}}class DelegationError extends Failure{constructor(Mn,io){super(),this.name=the("InvalidClaim"),this.causes=Mn,this.context=io}describe(){return[`Can not derive ${this.context} from delegated capabilities:`,...this.causes.map(Mn=>li(Mn.message))].join(`
`)}get cause(){if(this.causes.length!==1)return this;{const[Mn]=this.causes,io=Mn.name==="InvalidClaim"?Mn.cause:Mn;return Object.defineProperties(this,{cause:{value:io}}),io}}}class MalformedCapability extends Failure{constructor(Mn,io){super(),this.name=the("MalformedCapability"),this.capability=Mn,this.cause=io}describe(){return[`Encountered malformed '${this.capability.can}' capability: ${format$6(this.capability)}`,li(this.cause.message)].join(`
`)}}class UnknownCapability extends Failure{constructor(Mn){super(),this.name=the("UnknownCapability"),this.capability=Mn}describe(){return`Encountered unknown capability: ${format$6(this.capability)}`}}const format$6=(Fn,Mn)=>JSON.stringify(Fn,(io,fo)=>isLink(fo)?fo.toString():fo,Mn),indent=(Fn,Mn="  ")=>`${Mn}${Fn.split(`
`).join(`
${Mn}`)}`,li=Fn=>indent(`- ${Fn}`),capability=({derives:Fn=defaultDerives,nb:Mn=defaultNBSchema,...io})=>new Capability({derives:Fn,nb:Mn,...io}),defaultNBSchema=struct({}),or$f=(Fn,Mn)=>new Or(Fn,Mn),and$3=(...Fn)=>new And(Fn),derive$1=({from:Fn,to:Mn,derives:io})=>new Derive(Fn,Mn,io);class View{match(Mn){return{error:new UnknownCapability(Mn.capability)}}select(Mn){return select(this,Mn)}derive({derives:Mn,to:io}){return derive$1({derives:Mn,to:io,from:this})}}class Unit extends View{or(Mn){return or$f(this,Mn)}and(Mn){return and$3(this,Mn)}}class Capability extends Unit{constructor(Mn){super(),this.descriptor=Mn,this.schema=struct({can:literal(Mn.can),with:Mn.with,nb:Mn.nb})}create(Mn){const{descriptor:io,can:fo}=this;io.nb;const mo=Mn.nb||{},$o=io.with.read(Mn.with);if($o.error)throw Object.assign(new Error(`Invalid 'with' - ${$o.error.message}`),{cause:$o});const Ao=io.nb.read(mo);if(Ao.error)throw Object.assign(new Error(`Invalid 'nb' - ${Ao.error.message}`),{cause:Ao});return createCapability({can:fo,with:$o.ok,nb:Ao.ok})}invoke({with:Mn,nb:io,...fo}){return invoke({...fo,capability:this.create({with:Mn,nb:io})})}async delegate({nb:Mn={},with:io,...fo}){const{descriptor:mo,can:$o}=this;mo.nb;const Ao=mo.with.read(io);if(Ao.error)throw Object.assign(new Error(`Invalid 'with' - ${Ao.error.message}`),{cause:Ao});const Lo=mo.nb.partial().read(Mn);if(Lo.error)throw Object.assign(new Error(`Invalid 'nb' - ${Lo.error.message}`),{cause:Lo});return delegate$3({capabilities:[createCapability({can:$o,with:Ao.ok,nb:Lo.ok})],...fo})}get can(){return this.descriptor.can}match(Mn){const io=parseCapability(this.descriptor,Mn);return io.error?io:{ok:new Match(Mn,io.ok,this.descriptor)}}toString(){return JSON.stringify({can:this.descriptor.can})}}const createCapability=({can:Fn,with:Mn,nb:io})=>({can:Fn,with:Mn,...isEmpty(io)?{}:{nb:io}}),isEmpty=Fn=>{for(const Mn in Fn)return!1;return!0};class Or extends Unit{constructor(Mn,io){super(),this.left=Mn,this.right=io}match(Mn){const io=this.left.match(Mn);if(io.error){const fo=this.right.match(Mn);return fo.error?fo.error.name==="MalformedCapability"?fo:io:fo}else return io}toString(){return`${this.left.toString()}|${this.right.toString()}`}}class And extends View{constructor(Mn){super(),this.selectors=Mn}match(Mn){const io=[];for(const fo of this.selectors){const mo=fo.match(Mn);if(mo.error)return mo;io.push(mo.ok)}return{ok:new AndMatch(io)}}select(Mn){return selectGroup(this,Mn)}and(Mn){return new And([...this.selectors,Mn])}toString(){return`[${this.selectors.map(String).join(", ")}]`}}class Derive extends Unit{constructor(Mn,io,fo){super(),this.from=Mn,this.to=io,this.derives=fo}create(Mn){return this.to.create(Mn)}invoke(Mn){return this.to.invoke(Mn)}delegate(Mn){return this.to.delegate(Mn)}get can(){return this.to.can}match(Mn){const io=this.to.match(Mn);return io.error?io:{ok:new DerivedMatch(io.ok,this.from,this.derives)}}toString(){return this.to.toString()}}class Match{constructor(Mn,io,fo){this.source=[Mn],this.value=io,this.descriptor=fo}get can(){return this.value.can}get proofs(){const Mn=[this.source[0].delegation];return Object.defineProperties(this,{proofs:{value:Mn}}),Mn}prune(Mn){return Mn.canIssue(this.value,this.source[0].delegation.issuer.did())?null:this}select(Mn){const io=[],fo=[],mo=[];for(const $o of Mn){const Ao=resolveCapability(this.descriptor,this.value,$o);if(Ao.ok){const Lo=this.descriptor.derives(this.value,Ao.ok);Lo.error?fo.push(new DelegationError([new EscalatedCapability(this.value,Ao.ok,Lo.error)],this)):mo.push(new Match($o,Ao.ok,this.descriptor))}else switch(Ao.error.name){case"UnknownCapability":io.push(Ao.error.capability);break;case"MalformedCapability":default:fo.push(new DelegationError([Ao.error],this))}}return{matches:mo,unknown:io,errors:fo}}toString(){const{nb:Mn}=this.value;return JSON.stringify({can:this.descriptor.can,with:this.value.with,nb:Mn&&Object.keys(Mn).length>0?Mn:void 0})}}class DerivedMatch{constructor(Mn,io,fo){this.selected=Mn,this.from=io,this.derives=fo}get can(){return this.value.can}get source(){return this.selected.source}get proofs(){const Mn=[];for(const{delegation:io}of this.selected.source)Mn.push(io);return Object.defineProperties(this,{proofs:{value:Mn}}),Mn}get value(){return this.selected.value}prune(Mn){const io=this.selected.prune(Mn);return io?new DerivedMatch(io,this.from,this.derives):null}select(Mn){const{derives:io,selected:fo,from:mo}=this,{value:$o}=fo,Ao=fo.select(Mn),Lo=mo.select(Mn),Wo=[],jo=[];for(const zo of Lo.matches){const Vo=io($o,zo.value);Vo.error?jo.push(new DelegationError([new EscalatedCapability($o,zo.value,Vo.error)],this)):Wo.push(zo)}return{unknown:intersection(Ao.unknown,Lo.unknown),errors:[...jo,...Ao.errors,...Lo.errors.map(zo=>new DelegationError([zo],this))],matches:[...Ao.matches.map(zo=>new DerivedMatch(zo,mo,io)),...Wo]}}toString(){return this.selected.toString()}}class AndMatch{constructor(Mn){this.matches=Mn}get selectors(){return this.matches}get source(){const Mn=[];for(const io of this.matches)Mn.push(...io.source);return Object.defineProperties(this,{source:{value:Mn}}),Mn}prune(Mn){const io=[];for(const fo of this.matches){const mo=fo.prune(Mn);mo&&io.push(mo)}return io.length===0?null:new AndMatch(io)}get proofs(){const Mn=[];for(const{delegation:io}of this.source)Mn.push(io);return Object.defineProperties(this,{proofs:{value:Mn}}),Mn}get value(){const Mn=[];for(const io of this.matches)Mn.push(io.value);return Object.defineProperties(this,{value:{value:Mn}}),Mn}select(Mn){return selectGroup(this,Mn)}toString(){return`[${this.matches.map(Mn=>Mn.toString()).join(", ")}]`}}const resolveAbility=(Fn,Mn,io)=>{switch(Fn){case Mn:case"*":return Mn;default:return Fn.endsWith("/*")&&Mn.startsWith(Fn.slice(0,-1))?Mn:io}},resolveResource=(Fn,Mn,io)=>{switch(Fn){case Mn:case"ucan:*":return Mn;default:return io}},parseCapability=(Fn,Mn)=>{const{delegation:io}=Mn,fo=Mn.capability;if(Fn.can!==fo.can)return{error:new UnknownCapability(fo)};const mo=Fn.with.read(fo.with);if(mo.error)return{error:new MalformedCapability(fo,mo.error)};const $o=Fn.nb.read(fo.nb||{});return $o.error?{error:new MalformedCapability(fo,$o.error)}:{ok:new CapabilityView(Fn.can,mo.ok,$o.ok,io)}},resolveCapability=(Fn,Mn,{capability:io,delegation:fo})=>{const mo=resolveAbility(io.can,Mn.can,null);if(mo==null)return{error:new UnknownCapability(io)};const $o=resolveResource(io.with,Mn.with,io.with),Ao=Fn.with.read($o);if(Ao.error)return{error:new MalformedCapability(io,Ao.error)};const Lo=Fn.nb.read({...Mn.nb,...io.nb});return Lo.error?{error:new MalformedCapability(io,Lo.error)}:{ok:new CapabilityView(mo,Ao.ok,Lo.ok,fo)}};class CapabilityView{constructor(Mn,io,fo,mo){this.can=Mn,this.with=io,this.delegation=mo,this.nb=fo}}const select=(Fn,Mn)=>{const io=[],fo=[],mo=[];for(const $o of Mn){const Ao=Fn.match($o);if(Ao.error)switch(Ao.error.name){case"UnknownCapability":io.push(Ao.error.capability);break;case"MalformedCapability":default:mo.push(new DelegationError([Ao.error],Ao.error.capability))}else fo.push(Ao.ok)}return{matches:fo,errors:mo,unknown:io}},selectGroup=(Fn,Mn)=>{let io;const fo=[],mo=[];for(const Ao of Fn.selectors){const Lo=Ao.select(Mn);io=io?intersection(io,Lo.unknown):Lo.unknown;for(const Wo of Lo.errors)mo.push(new DelegationError([Wo],Fn));fo.push(Lo.matches)}const $o=combine(fo).map(Ao=>new AndMatch(Ao));return{unknown:io||[],errors:mo,matches:$o}},defaultDerives=(Fn,Mn)=>{if(Mn.with.endsWith("*")){if(!Fn.with.startsWith(Mn.with.slice(0,-1)))return error(`Resource ${Fn.with} does not match delegated ${Mn.with} `)}else if(Mn.with!==Fn.with)return error(`Resource ${Fn.with} is not contained by ${Mn.with}`);const io=Mn.nb||{},fo=Fn.nb||{},mo=entries$1(io);for(const[$o,Ao]of mo)if(fo[$o]!=Ao)return error(`${String($o)}: ${fo[$o]} violates ${Ao}`);return{ok:!0}};function equals$d(Fn,Mn){if(Fn===Mn)return!0;if(Fn.byteLength!==Mn.byteLength)return!1;for(let io=0;io<Fn.byteLength;io++)if(Fn[io]!==Mn[io])return!1;return!0}const ProviderDID$4=match$1({method:"web"}),SpaceDID$1=match$1({method:"key"}),AccountDID$1=match$1({method:"mailto"}),Await=struct({"ucan/await":tuple([string(),match$2()])});function equalWith(Fn,Mn){return Fn.with===Mn.with?ok({}):fail(`Can not derive ${Fn.can} with ${Fn.with} from ${Mn.with}`)}function equal(Fn,Mn,io){return Mn===void 0||Mn==="*"?ok({}):String(Fn)===String(Mn)?ok({}):fail(`Constrain violation: ${Fn} violates imposed ${io} constraint ${Mn}`)}const equalLink=(Fn,Mn)=>Fn.with!==Mn.with?fail(`Expected 'with: "${Mn.with}"' instead got '${Fn.with}'`):Mn.nb.link&&`${Mn.nb.link}`!=`${Fn.nb.link}`?fail(`Link ${Fn.nb.link?`${Fn.nb.link}`:""} violates imposed ${Mn.nb.link} constraint.`):ok({}),equalBlob=(Fn,Mn)=>Fn.with!==Mn.with?fail(`Expected 'with: "${Mn.with}"' instead got '${Fn.with}'`):Mn.nb.blob.digest&&!equals$d(Mn.nb.blob.digest,Fn.nb.blob.digest)?fail(`Link ${Fn.nb.blob.digest?`${Fn.nb.blob.digest}`:""} violates imposed ${Mn.nb.blob.digest} constraint.`):Fn.nb.blob.size!==void 0&&Mn.nb.blob.size!==void 0?Fn.nb.blob.size>Mn.nb.blob.size?fail(`Size constraint violation: ${Fn.nb.blob.size} > ${Mn.nb.blob.size}`):ok({}):ok({}),equalBody=(Fn,Mn)=>Fn.with!==Mn.with?fail(`Expected 'with: "${Mn.with}"' instead got '${Fn.with}'`):Mn.nb.body.digest&&!equals$d(Mn.nb.body.digest,Fn.nb.body.digest)?fail(`Link ${Fn.nb.body.digest?`${Fn.nb.body.digest}`:""} violates imposed ${Mn.nb.body.digest} constraint.`):Fn.nb.body.size!==void 0&&Mn.nb.body.size!==void 0?Fn.nb.body.size>Mn.nb.body.size?fail(`Size constraint violation: ${Fn.nb.body.size} > ${Mn.nb.body.size}`):ok({}):ok({}),checkLink=(Fn,Mn,io)=>equal(String(Fn),Mn===void 0?void 0:String(Mn),io),and$2=Fn=>Fn.error?Fn:void 0;function parseAbility(Fn){const[Mn,...io]=Fn.split("/");return{namespace:Mn,segments:io}}function canDelegateAbility(Fn,Mn){const io=parseAbility(Fn),fo=parseAbility(Mn);return io.namespace==="*"&&io.segments.length===0?!0:fo.namespace==="*"&&fo.segments.length===0||io.namespace!==fo.namespace?!1:io.segments[0]==="*"?!0:io.segments.length!==fo.segments.length?!1:io.segments.reduce((mo,$o,Ao)=>mo&&fo.segments[Ao]===$o,!0)}const code$b=514,CARLink$1=match$2({code:code$b,version:1}),store$1=capability({can:"store/*",with:SpaceDID$1,derives:equalWith}),add$a=capability({can:"store/add",with:SpaceDID$1,nb:struct({link:CARLink$1,size:integer(),origin:optional()}),derives:(Fn,Mn)=>{const io=equalLink(Fn,Mn);return io.error?io:Fn.nb.size!==void 0&&Mn.nb.size!==void 0?Fn.nb.size>Mn.nb.size?fail(`Size constraint violation: ${Fn.nb.size} > ${Mn.nb.size}`):ok({}):ok({})}}),get$h=capability({can:"store/get",with:SpaceDID$1,nb:struct({link:CARLink$1.optional()}),derives:equalLink}),remove$8=capability({can:"store/remove",with:SpaceDID$1,nb:struct({link:CARLink$1}),derives:equalLink}),list$9=capability({can:"store/list",with:SpaceDID$1,nb:struct({cursor:string().optional(),size:integer().optional(),pre:boolean().optional()}),derives:(Fn,Mn)=>Fn.with!==Mn.with?fail(`Expected 'with: "${Mn.with}"' instead got '${Fn.with}'`):ok({})});add$a.or(remove$8).or(list$9);const upload$2=capability({can:"upload/*",with:SpaceDID$1,derives:equalWith}),CARLink=match$2({code:code$c,version:1}),add$9=capability({can:"upload/add",with:SpaceDID$1,nb:struct({root:Link,shards:CARLink.array().optional()}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equal(Fn.nb.root,Mn.nb.root,"root"))||and$2(equal(Fn.nb.shards,Mn.nb.shards,"shards"))||ok({})}),get$g=capability({can:"upload/get",with:SpaceDID$1,nb:struct({root:optional()}),derives:(Fn,Mn)=>{const io=equalWith(Fn,Mn);return io.error||!Mn.nb.root?io:equal(Fn.nb.root,Mn.nb.root,"root")}}),remove$7=capability({can:"upload/remove",with:SpaceDID$1,nb:struct({root:Link}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equal(Fn.nb.root,Mn.nb.root,"root"))||ok({})}),list$8=capability({can:"upload/list",with:SpaceDID$1,nb:struct({cursor:string().optional(),size:integer().optional(),pre:boolean().optional()})});add$9.or(remove$7).or(list$8);const top=capability({can:"*",with:or$g(match$1(),literal("ucan:*")),derives:equalWith}),space=capability({can:"space/*",with:SpaceDID$1,derives:equalWith}),info=add$a.or(list$9).or(remove$8).or(add$9).or(list$8).or(remove$7).derive({to:capability({can:"space/info",with:SpaceDID$1}),derives:equalWith});capability({can:"space/allocate",with:SpaceDID$1,nb:struct({size:integer()}),derives:(Fn,Mn)=>{const io=equalWith(Fn,Mn);return io.ok?Fn.nb.size<=Mn.nb.size?ok({}):fail(`Claimed size ${Fn.nb.size} escalates delegated size ${Mn.nb.size}`):io}});capability({can:"space/content/serve/*",with:SpaceDID$1,derives:equalWith});const egressRecord$1=capability({can:"space/content/serve/egress/record",with:SpaceDID$1,nb:struct({resource:match$2(),bytes:integer().greaterThan(0),servedAt:integer().greaterThan(-1)}),derives:equalWith}),UCANLink=match$2({version:1});capability({can:"ucan/*",with:match$1(),derives:equalWith});const revoke=capability({can:"ucan/revoke",with:match$1(),nb:struct({ucan:UCANLink,proof:UCANLink.array().optional()}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))??and$2(checkLink(Fn.nb.ucan,Mn.nb.ucan,"nb.ucan"))??equal((Fn.nb.proof??[]).join("/"),(Mn.nb.proof??[]).join("/"),"nb.proof")}),conclude$1=capability({can:"ucan/conclude",with:match$1(),nb:struct({receipt:match$2()}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(checkLink(Fn.nb.receipt,Mn.nb.receipt,"nb.receipt"))||ok({})}),attest=capability({can:"ucan/attest",with:match$1(),nb:struct({proof:match$2({version:1})}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))??checkLink(Fn.nb.proof,Mn.nb.proof,"nb.proof")}),Account$1=match$1({method:"mailto"}),CapabilityRequest=struct({can:string()}),AuthorizationRequest=struct({iss:Account$1,att:CapabilityRequest.array()}),access$1=capability({can:"access/*",with:match$3({protocol:"did:"})}),authorize=capability({can:"access/authorize",with:match$1({method:"key"}),nb:AuthorizationRequest,derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equal(Fn.nb.iss,Mn.nb.iss,"iss"))||and$2(subsetCapabilities(Fn.nb.att,Mn.nb.att))||ok({})});capability({can:"access/confirm",with:DID,nb:struct({cause:match$2({version:1}),iss:Account$1,aud:match$1(),att:CapabilityRequest.array()}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equal(Fn.nb.iss,Mn.nb.iss,"iss"))||and$2(equal(Fn.nb.aud,Mn.nb.aud,"aud"))||and$2(subsetCapabilities(Fn.nb.att,Mn.nb.att))||and$2(checkLink(Fn.nb.cause,Mn.nb.cause,"nb.cause"))||ok({})});const claim$2=capability({can:"access/claim",with:match$1({method:"key"}).or(match$1({method:"mailto"}))}),delegate$2=capability({can:"access/delegate",with:SpaceDID$1,nb:struct({delegations:dictionary({value:match$2()})}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(subsetsNbDelegations(Fn,Mn))||ok({})});function subsetsNbDelegations(Fn,Mn){const io=setDifference(delegatedCids(Fn),new Set(delegatedCids(Mn)));return io.size>0?fail(`unauthorized nb.delegations ${[...io].join(", ")}`):ok({})}const subsetCapabilities=(Fn,Mn)=>{const io=new Set(Mn.map(mo=>mo.can));if(io.has("*"))return ok({});const fo=setDifference(Fn.map(mo=>mo.can),io);return fo.size>0?fail(`unauthorized nb.att.can ${[...fo].join(", ")}`):ok({})};function*delegatedCids(Fn){for(const Mn of Object.values(Fn.nb.delegations||{}))yield Mn.toString()}function setDifference(Fn,Mn){const io=new Set;for(const fo of Fn)Mn.has(fo)||io.add(fo);return io}function fromEmail(Fn){const{domain:Mn,local:io}=parseEmail(Fn);return`did:mailto:${encodeURIComponent(Mn)}:${encodeURIComponent(io)}`}function toEmail(Fn){const Mn=Fn.split(":");if(Mn[1]!=="mailto")throw new Error(`DID ${Fn} is not a mailto did.`);return`${decodeURIComponent(Mn[3])}@${decodeURIComponent(Mn[2])}`}function email(Fn){const{domain:Mn,local:io}=parseEmail(Fn);return`${io}@${Mn}`}function parseEmail(Fn){const Mn=Fn.split("@");if(Mn.length<2)throw new TypeError(`expected at least 2 @-delimtied segments, but got ${Mn.length}`);const io=Mn.at(-1)??"",fo=Mn.slice(0,-1).join("@");return{domain:io,local:fo}}function base$8(Fn,Mn){if(Fn.length>=255)throw new TypeError("Alphabet too long");for(var io=new Uint8Array(256),fo=0;fo<io.length;fo++)io[fo]=255;for(var mo=0;mo<Fn.length;mo++){var $o=Fn.charAt(mo),Ao=$o.charCodeAt(0);if(io[Ao]!==255)throw new TypeError($o+" is ambiguous");io[Ao]=mo}var Lo=Fn.length,Wo=Fn.charAt(0),jo=Math.log(Lo)/Math.log(256),zo=Math.log(256)/Math.log(Lo);function Vo(Qo){if(Qo instanceof Uint8Array||(ArrayBuffer.isView(Qo)?Qo=new Uint8Array(Qo.buffer,Qo.byteOffset,Qo.byteLength):Array.isArray(Qo)&&(Qo=Uint8Array.from(Qo))),!(Qo instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Qo.length===0)return"";for(var os=0,Cl=0,xl=0,ds=Qo.length;xl!==ds&&Qo[xl]===0;)xl++,os++;for(var _c=(ds-xl)*zo+1>>>0,$l=new Uint8Array(_c);xl!==ds;){for(var Al=Qo[xl],Il=0,us=_c-1;(Al!==0||Il<Cl)&&us!==-1;us--,Il++)Al+=256*$l[us]>>>0,$l[us]=Al%Lo>>>0,Al=Al/Lo>>>0;if(Al!==0)throw new Error("Non-zero carry");Cl=Il,xl++}for(var ps=_c-Cl;ps!==_c&&$l[ps]===0;)ps++;for(var Rl=Wo.repeat(os);ps<_c;++ps)Rl+=Fn.charAt($l[ps]);return Rl}function Go(Qo){if(typeof Qo!="string")throw new TypeError("Expected String");if(Qo.length===0)return new Uint8Array;var os=0;if(Qo[os]!==" "){for(var Cl=0,xl=0;Qo[os]===Wo;)Cl++,os++;for(var ds=(Qo.length-os)*jo+1>>>0,_c=new Uint8Array(ds);Qo[os];){var $l=io[Qo.charCodeAt(os)];if($l===255)return;for(var Al=0,Il=ds-1;($l!==0||Al<xl)&&Il!==-1;Il--,Al++)$l+=Lo*_c[Il]>>>0,_c[Il]=$l%256>>>0,$l=$l/256>>>0;if($l!==0)throw new Error("Non-zero carry");xl=Al,os++}if(Qo[os]!==" "){for(var us=ds-xl;us!==ds&&_c[us]===0;)us++;for(var ps=new Uint8Array(Cl+(ds-us)),Rl=Cl;us!==ds;)ps[Rl++]=_c[us++];return ps}}}function Jo(Qo){var os=Go(Qo);if(os)return os;throw new Error(`Non-${Mn} character`)}return{encode:Vo,decodeUnsafe:Go,decode:Jo}}var src$8=base$8,_brrp__multiformats_scope_baseX$8=src$8;const equals$c=(Fn,Mn)=>{if(Fn===Mn)return!0;if(Fn.byteLength!==Mn.byteLength)return!1;for(let io=0;io<Fn.byteLength;io++)if(Fn[io]!==Mn[io])return!1;return!0},coerce$8=Fn=>{if(Fn instanceof Uint8Array&&Fn.constructor.name==="Uint8Array")return Fn;if(Fn instanceof ArrayBuffer)return new Uint8Array(Fn);if(ArrayBuffer.isView(Fn))return new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength);throw new Error("Unknown type, must be binary type")},fromString$1=Fn=>new TextEncoder().encode(Fn),toString$1=Fn=>new TextDecoder().decode(Fn);let Encoder$8=class{constructor(Mn,io,fo){this.name=Mn,this.prefix=io,this.baseEncode=fo}encode(Mn){if(Mn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Mn)}`;throw Error("Unknown type, must be binary type")}},Decoder$8=class{constructor(Mn,io,fo){if(this.name=Mn,this.prefix=io,io.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=io.codePointAt(0),this.baseDecode=fo}decode(Mn){if(typeof Mn=="string"){if(Mn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Mn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Mn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(Mn){return or$e(this,Mn)}},ComposedDecoder$8=class{constructor(Mn){this.decoders=Mn}or(Mn){return or$e(this,Mn)}decode(Mn){const io=Mn[0],fo=this.decoders[io];if(fo)return fo.decode(Mn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Mn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$e=(Fn,Mn)=>new ComposedDecoder$8({...Fn.decoders||{[Fn.prefix]:Fn},...Mn.decoders||{[Mn.prefix]:Mn}});let Codec$8=class{constructor(Mn,io,fo,mo){this.name=Mn,this.prefix=io,this.baseEncode=fo,this.baseDecode=mo,this.encoder=new Encoder$8(Mn,io,fo),this.decoder=new Decoder$8(Mn,io,mo)}encode(Mn){return this.encoder.encode(Mn)}decode(Mn){return this.decoder.decode(Mn)}};const from$j=({name:Fn,prefix:Mn,encode:io,decode:fo})=>new Codec$8(Fn,Mn,io,fo),baseX$8=({prefix:Fn,name:Mn,alphabet:io})=>{const{encode:fo,decode:mo}=_brrp__multiformats_scope_baseX$8(io,Mn);return from$j({prefix:Fn,name:Mn,encode:fo,decode:$o=>coerce$8(mo($o))})},decode$I=(Fn,Mn,io,fo)=>{const mo={};for(let zo=0;zo<Mn.length;++zo)mo[Mn[zo]]=zo;let $o=Fn.length;for(;Fn[$o-1]==="=";)--$o;const Ao=new Uint8Array($o*io/8|0);let Lo=0,Wo=0,jo=0;for(let zo=0;zo<$o;++zo){const Vo=mo[Fn[zo]];if(Vo===void 0)throw new SyntaxError(`Non-${fo} character`);Wo=Wo<<io|Vo,Lo+=io,Lo>=8&&(Lo-=8,Ao[jo++]=255&Wo>>Lo)}if(Lo>=io||255&Wo<<8-Lo)throw new SyntaxError("Unexpected end of data");return Ao},encode$s=(Fn,Mn,io)=>{const fo=Mn[Mn.length-1]==="=",mo=(1<<io)-1;let $o="",Ao=0,Lo=0;for(let Wo=0;Wo<Fn.length;++Wo)for(Lo=Lo<<8|Fn[Wo],Ao+=8;Ao>io;)Ao-=io,$o+=Mn[mo&Lo>>Ao];if(Ao&&($o+=Mn[mo&Lo<<io-Ao]),fo)for(;$o.length*io&7;)$o+="=";return $o},rfc4648$8=({name:Fn,prefix:Mn,bitsPerChar:io,alphabet:fo})=>from$j({prefix:Mn,name:Fn,encode(mo){return encode$s(mo,fo,io)},decode(mo){return decode$I(mo,fo,io,Fn)}});baseX$8({prefix:"9",name:"base10",alphabet:"0123456789"});rfc4648$8({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4});rfc4648$8({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});rfc4648$8({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});const alphabet$1=Array.from(""),alphabetBytesToChars$1=alphabet$1.reduce((Fn,Mn,io)=>(Fn[io]=Mn,Fn),[]),alphabetCharsToBytes$1=alphabet$1.reduce((Fn,Mn,io)=>(Fn[Mn.codePointAt(0)]=io,Fn),[]);function encode$r(Fn){return Fn.reduce((Mn,io)=>(Mn+=alphabetBytesToChars$1[io],Mn),"")}function decode$H(Fn){const Mn=[];for(const io of Fn){const fo=alphabetCharsToBytes$1[io.codePointAt(0)];if(fo===void 0)throw new Error(`Non-base256emoji character: ${io}`);Mn.push(fo)}return new Uint8Array(Mn)}from$j({prefix:"",name:"base256emoji",encode:encode$r,decode:decode$H});const base32$5=rfc4648$8({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$8({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$8({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$8({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$8({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$8({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$8({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$8({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$8({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});baseX$8({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});baseX$8({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});const base58btc$6=baseX$8({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$8({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});rfc4648$8({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648$8({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});rfc4648$8({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648$8({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});rfc4648$8({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});from$j({prefix:"\0",name:"identity",encode:Fn=>toString$1(Fn),decode:Fn=>fromString$1(Fn)});new TextEncoder;new TextDecoder;var encode_1$8=encode$q,MSB$9=128,REST$9=127,MSBALL$9=~REST$9,INT$9=Math.pow(2,31);function encode$q(Fn,Mn,io){Mn=Mn||[],io=io||0;for(var fo=io;Fn>=INT$9;)Mn[io++]=Fn&255|MSB$9,Fn/=128;for(;Fn&MSBALL$9;)Mn[io++]=Fn&255|MSB$9,Fn>>>=7;return Mn[io]=Fn|0,encode$q.bytes=io-fo+1,Mn}var decode$G=read$9,MSB$1$9=128,REST$1$9=127;function read$9(Fn,fo){var io=0,fo=fo||0,mo=0,$o=fo,Ao,Lo=Fn.length;do{if($o>=Lo)throw read$9.bytes=0,new RangeError("Could not decode varint");Ao=Fn[$o++],io+=mo<28?(Ao&REST$1$9)<<mo:(Ao&REST$1$9)*Math.pow(2,mo),mo+=7}while(Ao>=MSB$1$9);return read$9.bytes=$o-fo,io}var N1$8=Math.pow(2,7),N2$8=Math.pow(2,14),N3$8=Math.pow(2,21),N4$8=Math.pow(2,28),N5$8=Math.pow(2,35),N6$8=Math.pow(2,42),N7$8=Math.pow(2,49),N8$8=Math.pow(2,56),N9$8=Math.pow(2,63),length$8=function(Fn){return Fn<N1$8?1:Fn<N2$8?2:Fn<N3$8?3:Fn<N4$8?4:Fn<N5$8?5:Fn<N6$8?6:Fn<N7$8?7:Fn<N8$8?8:Fn<N9$8?9:10},varint$8={encode:encode_1$8,decode:decode$G,encodingLength:length$8},_brrp_varint$8=varint$8;const decode$F=(Fn,Mn=0)=>[_brrp_varint$8.decode(Fn,Mn),_brrp_varint$8.decode.bytes],encodeTo$8=(Fn,Mn,io=0)=>(_brrp_varint$8.encode(Fn,Mn,io),Mn),encodingLength$8=Fn=>_brrp_varint$8.encodingLength(Fn),create$k=(Fn,Mn)=>{const io=Mn.byteLength,fo=encodingLength$8(Fn),mo=fo+encodingLength$8(io),$o=new Uint8Array(mo+io);return encodeTo$8(Fn,$o,0),encodeTo$8(io,$o,fo),$o.set(Mn,mo),new Digest$8(Fn,io,Mn,$o)},decode$E=Fn=>{const Mn=coerce$8(Fn),[io,fo]=decode$F(Mn),[mo,$o]=decode$F(Mn.subarray(fo)),Ao=Mn.subarray(fo+$o);if(Ao.byteLength!==mo)throw new Error("Incorrect length");return new Digest$8(io,mo,Ao,Mn)},equals$b=(Fn,Mn)=>{if(Fn===Mn)return!0;{const io=Mn;return Fn.code===io.code&&Fn.size===io.size&&io.bytes instanceof Uint8Array&&equals$c(Fn.bytes,io.bytes)}};let Digest$8=class{constructor(Mn,io,fo,mo){this.code=Mn,this.size=io,this.digest=fo,this.bytes=mo}};const format$5=(Fn,Mn)=>{const{bytes:io,version:fo}=Fn;switch(fo){case 0:return toStringV0$5(io,baseCache$5(Fn),Mn||base58btc$6.encoder);default:return toStringV1$5(io,baseCache$5(Fn),Mn||base32$5.encoder)}},cache$6=new WeakMap,baseCache$5=Fn=>{const Mn=cache$6.get(Fn);if(Mn==null){const io=new Map;return cache$6.set(Fn,io),io}return Mn};let CID$5=class fm{constructor(Mn,io,fo,mo){this.code=io,this.version=Mn,this.multihash=fo,this.bytes=mo,this["/"]=mo}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:Mn,multihash:io}=this;if(Mn!==DAG_PB_CODE$6)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(io.code!==SHA_256_CODE$5)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return fm.createV0(io)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:Mn,digest:io}=this.multihash,fo=create$k(Mn,io);return fm.createV1(this.code,fo)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(Mn){return fm.equals(this,Mn)}static equals(Mn,io){const fo=io;return fo&&Mn.code===fo.code&&Mn.version===fo.version&&equals$b(Mn.multihash,fo.multihash)}toString(Mn){return format$5(this,Mn)}toJSON(){return{"/":format$5(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(Mn){if(Mn==null)return null;const io=Mn;if(io instanceof fm)return io;if(io["/"]!=null&&io["/"]===io.bytes||io.asCID===io){const{version:fo,code:mo,multihash:$o,bytes:Ao}=io;return new fm(fo,mo,$o,Ao||encodeCID$5(fo,mo,$o.bytes))}else if(io[cidSymbol$5]===!0){const{version:fo,multihash:mo,code:$o}=io,Ao=decode$E(mo);return fm.create(fo,$o,Ao)}else return null}static create(Mn,io,fo){if(typeof io!="number")throw new Error("String codecs are no longer supported");if(!(fo.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(Mn){case 0:{if(io!==DAG_PB_CODE$6)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$6}) block encoding`);return new fm(Mn,io,fo,fo.bytes)}case 1:{const mo=encodeCID$5(Mn,io,fo.bytes);return new fm(Mn,io,fo,mo)}default:throw new Error("Invalid version")}}static createV0(Mn){return fm.create(0,DAG_PB_CODE$6,Mn)}static createV1(Mn,io){return fm.create(1,Mn,io)}static decode(Mn){const[io,fo]=fm.decodeFirst(Mn);if(fo.length)throw new Error("Incorrect length");return io}static decodeFirst(Mn){const io=fm.inspectBytes(Mn),fo=io.size-io.multihashSize,mo=coerce$8(Mn.subarray(fo,fo+io.multihashSize));if(mo.byteLength!==io.multihashSize)throw new Error("Incorrect length");const $o=mo.subarray(io.multihashSize-io.digestSize),Ao=new Digest$8(io.multihashCode,io.digestSize,$o,mo);return[io.version===0?fm.createV0(Ao):fm.createV1(io.codec,Ao),Mn.subarray(io.size)]}static inspectBytes(Mn){let io=0;const fo=()=>{const[Vo,Go]=decode$F(Mn.subarray(io));return io+=Go,Vo};let mo=fo(),$o=DAG_PB_CODE$6;if(mo===18?(mo=0,io=0):$o=fo(),mo!==0&&mo!==1)throw new RangeError(`Invalid CID version ${mo}`);const Ao=io,Lo=fo(),Wo=fo(),jo=io+Wo,zo=jo-Ao;return{version:mo,codec:$o,multihashCode:Lo,digestSize:Wo,multihashSize:zo,size:jo}}static parse(Mn,io){const[fo,mo]=parseCIDtoBytes$5(Mn,io),$o=fm.decode(mo);if($o.version===0&&Mn[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$5($o).set(fo,Mn),$o}};const parseCIDtoBytes$5=(Fn,Mn)=>{switch(Fn[0]){case"Q":{const io=Mn||base58btc$6;return[base58btc$6.prefix,io.decode(`${base58btc$6.prefix}${Fn}`)]}case base58btc$6.prefix:{const io=Mn||base58btc$6;return[base58btc$6.prefix,io.decode(Fn)]}case base32$5.prefix:{const io=Mn||base32$5;return[base32$5.prefix,io.decode(Fn)]}default:{if(Mn==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[Fn[0],Mn.decode(Fn)]}}},toStringV0$5=(Fn,Mn,io)=>{const{prefix:fo}=io;if(fo!==base58btc$6.prefix)throw Error(`Cannot string encode V0 in ${io.name} encoding`);const mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn).slice(1);return Mn.set(fo,$o),$o}else return mo},toStringV1$5=(Fn,Mn,io)=>{const{prefix:fo}=io,mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn);return Mn.set(fo,$o),$o}else return mo},DAG_PB_CODE$6=112,SHA_256_CODE$5=18,encodeCID$5=(Fn,Mn,io)=>{const fo=encodingLength$8(Fn),mo=fo+encodingLength$8(Mn),$o=new Uint8Array(mo+io.byteLength);return encodeTo$8(Fn,$o,0),encodeTo$8(Mn,$o,fo),$o.set(io,mo),$o},cidSymbol$5=Symbol.for("@ipld/js-cid/CID");function bytesToDelegations(Fn){if(!(Fn instanceof Uint8Array)||Fn.length===0)throw new TypeError("Input should be a non-empty Uint8Array.");const Mn=CarBufferReader.fromBytes(Fn),io=Mn.getRoots(),fo=[];for(const mo of io){const $o=Mn.get(mo);if($o){const Ao=new Map;for(const Lo of Mn.blocks())Lo.cid.toString()!==mo.toString()&&Ao.set(Lo.cid.toString(),Lo);fo.push(new Delegation($o,Ao))}else throw new Error("Failed to find root from raw delegation.")}return fo}const delegate$1=async(Fn,{delegations:Mn,proofs:io=[],space:fo=Fn.currentSpace()})=>{if(!fo)return fail("Space must be specified");const mo=Object.values(Mn).map(Ao=>[Ao.cid.toString(),Ao.cid]),{out:$o}=await Fn.invokeAndExecute(delegate$2,{with:fo,nb:{delegations:Object.fromEntries(mo)},proofs:[...Mn,...io]});return $o},request$2=async(Fn,{account:Mn,provider:io=Fn.connection.id.did(),audience:fo=Fn.did(),access:mo=spaceAccess$1})=>{const{out:$o}=await Fn.invokeAndExecute(authorize,{audience:parse$2(io),with:fo,nb:{iss:Mn,att:[...toCapabilities$1(mo)]}});return $o.error?$o:{ok:new PendingAccessRequest({...$o.ok,agent:Fn,audience:fo,provider:io})}},claim$1=async(Fn,{provider:Mn=Fn.connection.id.did(),audience:io=Fn.did()}={})=>{const{out:fo}=await Fn.invokeAndExecute(claim$2,{audience:parse$2(Mn),with:io});if(fo.error)return fo;{const $o=Object.values(fo.ok.delegations).flatMap(Ao=>bytesToDelegations(Ao));return{ok:new GrantedAccess({agent:Fn,proofs:$o})}}};class PendingAccessRequest{constructor(Mn){this.model=Mn}get agent(){return this.model.agent}get audience(){return this.model.audience}get expiration(){return new Date(this.model.expiration*1e3)}get request(){return this.model.request}get provider(){return this.model.provider}async poll(){const{agent:Mn,audience:io,provider:fo,expiration:mo}=this.model;if(mo*1e3-Date.now()<=0)return{error:new RequestExpired(this.model)};{const Ao=await claim$1(Mn,{audience:io,provider:fo});return Ao.error?Ao:{ok:Ao.ok.proofs.filter(Lo=>isRequestedAccess(Lo,this.model))}}}async claim({signal:Mn,interval:io=250}={}){for(;(Mn==null?void 0:Mn.aborted)!==!0;){const fo=await this.poll();if(fo.error)return fo;if(fo.ok.length>0)return{ok:new GrantedAccess({agent:this.agent,proofs:fo.ok})};await new Promise(mo=>setTimeout(mo,io))}return{error:Object.assign(new Error("Aborted"),{reason:Mn.reason})}}}class RequestExpired extends Failure{constructor(Mn){super(),this.model=Mn}get name(){return"RequestExpired"}get request(){return this.model.request}get expiredAt(){return new Date(this.model.expiration*1e3)}describe(){return`Access request expired at ${this.expiredAt} for ${this.request} request.`}}class GrantedAccess{constructor(Mn){this.model=Mn}get proofs(){return this.model.proofs}save({agent:Mn=this.model.agent}={}){return importAuthorization(Mn,this)}}const isRequestedAccess=(Fn,{request:Mn})=>Fn.facts.some(io=>`${io["access/request"]}`==`${Mn}`),toCapabilities$1=Fn=>{const Mn=[],io=Object.entries(Fn);for(const[fo,mo]of io)mo&&Mn.push({can:fo});return Mn},spaceAccess$1={"space/*":{},"blob/*":{},"index/*":{},"store/*":{},"upload/*":{},"access/*":{},"filecoin/*":{},"usage/*":{}},accountAccess$1={"*":{}},access=Object.freeze(Object.defineProperty({__proto__:null,GrantedAccess,accountAccess:accountAccess$1,claim:claim$1,delegate:delegate$1,request:request$2,spaceAccess:spaceAccess$1,toCapabilities:toCapabilities$1},Symbol.toStringTag,{value:"Module"}));/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const _0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_8n=BigInt(8),CU_O=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),CURVE=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:CU_O,n:CU_O,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),POW_2_256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const SQRT_AD_MINUS_ONE=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),INVSQRT_A_MINUS_D=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),ONE_MINUS_D_SQ=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),D_MINUS_ONE_SQ=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class ExtendedPoint{constructor(Mn,io,fo,mo){this.x=Mn,this.y=io,this.z=fo,this.t=mo}static fromAffine(Mn){if(!(Mn instanceof Point))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return Mn.equals(Point.ZERO)?ExtendedPoint.ZERO:new ExtendedPoint(Mn.x,Mn.y,_1n,mod(Mn.x*Mn.y))}static toAffineBatch(Mn){const io=invertBatch(Mn.map(fo=>fo.z));return Mn.map((fo,mo)=>fo.toAffine(io[mo]))}static normalizeZ(Mn){return this.toAffineBatch(Mn).map(this.fromAffine)}equals(Mn){assertExtPoint(Mn);const{x:io,y:fo,z:mo}=this,{x:$o,y:Ao,z:Lo}=Mn,Wo=mod(io*Lo),jo=mod($o*mo),zo=mod(fo*Lo),Vo=mod(Ao*mo);return Wo===jo&&zo===Vo}negate(){return new ExtendedPoint(mod(-this.x),this.y,this.z,mod(-this.t))}double(){const{x:Mn,y:io,z:fo}=this,{a:mo}=CURVE,$o=mod(Mn*Mn),Ao=mod(io*io),Lo=mod(_2n*mod(fo*fo)),Wo=mod(mo*$o),jo=Mn+io,zo=mod(mod(jo*jo)-$o-Ao),Vo=Wo+Ao,Go=Vo-Lo,Jo=Wo-Ao,Qo=mod(zo*Go),os=mod(Vo*Jo),Cl=mod(zo*Jo),xl=mod(Go*Vo);return new ExtendedPoint(Qo,os,xl,Cl)}add(Mn){assertExtPoint(Mn);const{x:io,y:fo,z:mo,t:$o}=this,{x:Ao,y:Lo,z:Wo,t:jo}=Mn,zo=mod((fo-io)*(Lo+Ao)),Vo=mod((fo+io)*(Lo-Ao)),Go=mod(Vo-zo);if(Go===_0n)return this.double();const Jo=mod(mo*_2n*jo),Qo=mod($o*_2n*Wo),os=Qo+Jo,Cl=Vo+zo,xl=Qo-Jo,ds=mod(os*Go),_c=mod(Cl*xl),$l=mod(os*xl),Al=mod(Go*Cl);return new ExtendedPoint(ds,_c,Al,$l)}subtract(Mn){return this.add(Mn.negate())}precomputeWindow(Mn){const io=1+256/Mn,fo=[];let mo=this,$o=mo;for(let Ao=0;Ao<io;Ao++){$o=mo,fo.push($o);for(let Lo=1;Lo<2**(Mn-1);Lo++)$o=$o.add(mo),fo.push($o);mo=$o.double()}return fo}wNAF(Mn,io){!io&&this.equals(ExtendedPoint.BASE)&&(io=Point.BASE);const fo=io&&io._WINDOW_SIZE||1;if(256%fo)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let mo=io&&pointPrecomputes.get(io);mo||(mo=this.precomputeWindow(fo),io&&fo!==1&&(mo=ExtendedPoint.normalizeZ(mo),pointPrecomputes.set(io,mo)));let $o=ExtendedPoint.ZERO,Ao=ExtendedPoint.BASE;const Lo=1+256/fo,Wo=2**(fo-1),jo=BigInt(2**fo-1),zo=2**fo,Vo=BigInt(fo);for(let Go=0;Go<Lo;Go++){const Jo=Go*Wo;let Qo=Number(Mn&jo);Mn>>=Vo,Qo>Wo&&(Qo-=zo,Mn+=_1n);const os=Jo,Cl=Jo+Math.abs(Qo)-1,xl=Go%2!==0,ds=Qo<0;Qo===0?Ao=Ao.add(constTimeNegate(xl,mo[os])):$o=$o.add(constTimeNegate(ds,mo[Cl]))}return ExtendedPoint.normalizeZ([$o,Ao])[0]}multiply(Mn,io){return this.wNAF(normalizeScalar(Mn,CURVE.l),io)}multiplyUnsafe(Mn){let io=normalizeScalar(Mn,CURVE.l,!1);const fo=ExtendedPoint.BASE,mo=ExtendedPoint.ZERO;if(io===_0n)return mo;if(this.equals(mo)||io===_1n)return this;if(this.equals(fo))return this.wNAF(io);let $o=mo,Ao=this;for(;io>_0n;)io&_1n&&($o=$o.add(Ao)),Ao=Ao.double(),io>>=_1n;return $o}isSmallOrder(){return this.multiplyUnsafe(CURVE.h).equals(ExtendedPoint.ZERO)}isTorsionFree(){let Mn=this.multiplyUnsafe(CURVE.l/_2n).double();return CURVE.l%_2n&&(Mn=Mn.add(this)),Mn.equals(ExtendedPoint.ZERO)}toAffine(Mn){const{x:io,y:fo,z:mo}=this,$o=this.equals(ExtendedPoint.ZERO);Mn==null&&(Mn=$o?_8n:invert(mo));const Ao=mod(io*Mn),Lo=mod(fo*Mn),Wo=mod(mo*Mn);if($o)return Point.ZERO;if(Wo!==_1n)throw new Error("invZ was invalid");return new Point(Ao,Lo)}fromRistrettoBytes(){legacyRist()}toRistrettoBytes(){legacyRist()}fromRistrettoHash(){legacyRist()}}ExtendedPoint.BASE=new ExtendedPoint(CURVE.Gx,CURVE.Gy,_1n,mod(CURVE.Gx*CURVE.Gy));ExtendedPoint.ZERO=new ExtendedPoint(_0n,_1n,_1n,_0n);function constTimeNegate(Fn,Mn){const io=Mn.negate();return Fn?io:Mn}function assertExtPoint(Fn){if(!(Fn instanceof ExtendedPoint))throw new TypeError("ExtendedPoint expected")}function assertRstPoint(Fn){if(!(Fn instanceof RistrettoPoint))throw new TypeError("RistrettoPoint expected")}function legacyRist(){throw new Error("Legacy method: switch to RistrettoPoint")}class RistrettoPoint{constructor(Mn){this.ep=Mn}static calcElligatorRistrettoMap(Mn){const{d:io}=CURVE,fo=mod(SQRT_M1*Mn*Mn),mo=mod((fo+_1n)*ONE_MINUS_D_SQ);let $o=BigInt(-1);const Ao=mod(($o-io*fo)*mod(fo+io));let{isValid:Lo,value:Wo}=uvRatio(mo,Ao),jo=mod(Wo*Mn);edIsNegative(jo)||(jo=mod(-jo)),Lo||(Wo=jo),Lo||($o=fo);const zo=mod($o*(fo-_1n)*D_MINUS_ONE_SQ-Ao),Vo=Wo*Wo,Go=mod((Wo+Wo)*Ao),Jo=mod(zo*SQRT_AD_MINUS_ONE),Qo=mod(_1n-Vo),os=mod(_1n+Vo);return new ExtendedPoint(mod(Go*os),mod(Qo*Jo),mod(Jo*os),mod(Go*Qo))}static hashToCurve(Mn){Mn=ensureBytes(Mn,64);const io=bytes255ToNumberLE(Mn.slice(0,32)),fo=this.calcElligatorRistrettoMap(io),mo=bytes255ToNumberLE(Mn.slice(32,64)),$o=this.calcElligatorRistrettoMap(mo);return new RistrettoPoint(fo.add($o))}static fromHex(Mn){Mn=ensureBytes(Mn,32);const{a:io,d:fo}=CURVE,mo="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",$o=bytes255ToNumberLE(Mn);if(!equalBytes(numberTo32BytesLE($o),Mn)||edIsNegative($o))throw new Error(mo);const Ao=mod($o*$o),Lo=mod(_1n+io*Ao),Wo=mod(_1n-io*Ao),jo=mod(Lo*Lo),zo=mod(Wo*Wo),Vo=mod(io*fo*jo-zo),{isValid:Go,value:Jo}=invertSqrt(mod(Vo*zo)),Qo=mod(Jo*Wo),os=mod(Jo*Qo*Vo);let Cl=mod(($o+$o)*Qo);edIsNegative(Cl)&&(Cl=mod(-Cl));const xl=mod(Lo*os),ds=mod(Cl*xl);if(!Go||edIsNegative(ds)||xl===_0n)throw new Error(mo);return new RistrettoPoint(new ExtendedPoint(Cl,xl,_1n,ds))}toRawBytes(){let{x:Mn,y:io,z:fo,t:mo}=this.ep;const $o=mod(mod(fo+io)*mod(fo-io)),Ao=mod(Mn*io),Lo=mod(Ao*Ao),{value:Wo}=invertSqrt(mod($o*Lo)),jo=mod(Wo*$o),zo=mod(Wo*Ao),Vo=mod(jo*zo*mo);let Go;if(edIsNegative(mo*Vo)){let Qo=mod(io*SQRT_M1),os=mod(Mn*SQRT_M1);Mn=Qo,io=os,Go=mod(jo*INVSQRT_A_MINUS_D)}else Go=zo;edIsNegative(Mn*Vo)&&(io=mod(-io));let Jo=mod((fo-io)*Go);return edIsNegative(Jo)&&(Jo=mod(-Jo)),numberTo32BytesLE(Jo)}toHex(){return bytesToHex(this.toRawBytes())}toString(){return this.toHex()}equals(Mn){assertRstPoint(Mn);const io=this.ep,fo=Mn.ep,mo=mod(io.x*fo.y)===mod(io.y*fo.x),$o=mod(io.y*fo.y)===mod(io.x*fo.x);return mo||$o}add(Mn){return assertRstPoint(Mn),new RistrettoPoint(this.ep.add(Mn.ep))}subtract(Mn){return assertRstPoint(Mn),new RistrettoPoint(this.ep.subtract(Mn.ep))}multiply(Mn){return new RistrettoPoint(this.ep.multiply(Mn))}multiplyUnsafe(Mn){return new RistrettoPoint(this.ep.multiplyUnsafe(Mn))}}RistrettoPoint.BASE=new RistrettoPoint(ExtendedPoint.BASE);RistrettoPoint.ZERO=new RistrettoPoint(ExtendedPoint.ZERO);const pointPrecomputes=new WeakMap;class Point{constructor(Mn,io){this.x=Mn,this.y=io}_setWindowSize(Mn){this._WINDOW_SIZE=Mn,pointPrecomputes.delete(this)}static fromHex(Mn,io=!0){const{d:fo,P:mo}=CURVE;Mn=ensureBytes(Mn,32);const $o=Mn.slice();$o[31]=Mn[31]&-129;const Ao=bytesToNumberLE($o);if(io&&Ao>=mo)throw new Error("Expected 0 < hex < P");if(!io&&Ao>=POW_2_256)throw new Error("Expected 0 < hex < 2**256");const Lo=mod(Ao*Ao),Wo=mod(Lo-_1n),jo=mod(fo*Lo+_1n);let{isValid:zo,value:Vo}=uvRatio(Wo,jo);if(!zo)throw new Error("Point.fromHex: invalid y coordinate");const Go=(Vo&_1n)===_1n;return(Mn[31]&128)!==0!==Go&&(Vo=mod(-Vo)),new Point(Vo,Ao)}static async fromPrivateKey(Mn){return(await getExtendedPublicKey(Mn)).point}toRawBytes(){const Mn=numberTo32BytesLE(this.y);return Mn[31]|=this.x&_1n?128:0,Mn}toHex(){return bytesToHex(this.toRawBytes())}toX25519(){const{y:Mn}=this,io=mod((_1n+Mn)*invert(_1n-Mn));return numberTo32BytesLE(io)}isTorsionFree(){return ExtendedPoint.fromAffine(this).isTorsionFree()}equals(Mn){return this.x===Mn.x&&this.y===Mn.y}negate(){return new Point(mod(-this.x),this.y)}add(Mn){return ExtendedPoint.fromAffine(this).add(ExtendedPoint.fromAffine(Mn)).toAffine()}subtract(Mn){return this.add(Mn.negate())}multiply(Mn){return ExtendedPoint.fromAffine(this).multiply(Mn,this).toAffine()}}Point.BASE=new Point(CURVE.Gx,CURVE.Gy);Point.ZERO=new Point(_0n,_1n);class Signature{constructor(Mn,io){this.r=Mn,this.s=io,this.assertValidity()}static fromHex(Mn){const io=ensureBytes(Mn,64),fo=Point.fromHex(io.slice(0,32),!1),mo=bytesToNumberLE(io.slice(32,64));return new Signature(fo,mo)}assertValidity(){const{r:Mn,s:io}=this;if(!(Mn instanceof Point))throw new Error("Expected Point instance");return normalizeScalar(io,CURVE.l,!1),this}toRawBytes(){const Mn=new Uint8Array(64);return Mn.set(this.r.toRawBytes()),Mn.set(numberTo32BytesLE(this.s),32),Mn}toHex(){return bytesToHex(this.toRawBytes())}}function concatBytes(...Fn){if(!Fn.every(fo=>fo instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(Fn.length===1)return Fn[0];const Mn=Fn.reduce((fo,mo)=>fo+mo.length,0),io=new Uint8Array(Mn);for(let fo=0,mo=0;fo<Fn.length;fo++){const $o=Fn[fo];io.set($o,mo),mo+=$o.length}return io}const hexes=Array.from({length:256},(Fn,Mn)=>Mn.toString(16).padStart(2,"0"));function bytesToHex(Fn){if(!(Fn instanceof Uint8Array))throw new Error("Uint8Array expected");let Mn="";for(let io=0;io<Fn.length;io++)Mn+=hexes[Fn[io]];return Mn}function hexToBytes(Fn){if(typeof Fn!="string")throw new TypeError("hexToBytes: expected string, got "+typeof Fn);if(Fn.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const Mn=new Uint8Array(Fn.length/2);for(let io=0;io<Mn.length;io++){const fo=io*2,mo=Fn.slice(fo,fo+2),$o=Number.parseInt(mo,16);if(Number.isNaN($o)||$o<0)throw new Error("Invalid byte sequence");Mn[io]=$o}return Mn}function numberTo32BytesBE(Fn){const io=Fn.toString(16).padStart(64,"0");return hexToBytes(io)}function numberTo32BytesLE(Fn){return numberTo32BytesBE(Fn).reverse()}function edIsNegative(Fn){return(mod(Fn)&_1n)===_1n}function bytesToNumberLE(Fn){if(!(Fn instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+bytesToHex(Uint8Array.from(Fn).reverse()))}const MAX_255B=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function bytes255ToNumberLE(Fn){return mod(bytesToNumberLE(Fn)&MAX_255B)}function mod(Fn,Mn=CURVE.P){const io=Fn%Mn;return io>=_0n?io:Mn+io}function invert(Fn,Mn=CURVE.P){if(Fn===_0n||Mn<=_0n)throw new Error(`invert: expected positive integers, got n=${Fn} mod=${Mn}`);let io=mod(Fn,Mn),fo=Mn,mo=_0n,$o=_1n;for(;io!==_0n;){const Lo=fo/io,Wo=fo%io,jo=mo-$o*Lo;fo=io,io=Wo,mo=$o,$o=jo}if(fo!==_1n)throw new Error("invert: does not exist");return mod(mo,Mn)}function invertBatch(Fn,Mn=CURVE.P){const io=new Array(Fn.length),fo=Fn.reduce(($o,Ao,Lo)=>Ao===_0n?$o:(io[Lo]=$o,mod($o*Ao,Mn)),_1n),mo=invert(fo,Mn);return Fn.reduceRight(($o,Ao,Lo)=>Ao===_0n?$o:(io[Lo]=mod($o*io[Lo],Mn),mod($o*Ao,Mn)),mo),io}function pow2(Fn,Mn){const{P:io}=CURVE;let fo=Fn;for(;Mn-- >_0n;)fo*=fo,fo%=io;return fo}function pow_2_252_3(Fn){const{P:Mn}=CURVE,io=BigInt(5),fo=BigInt(10),mo=BigInt(20),$o=BigInt(40),Ao=BigInt(80),Wo=Fn*Fn%Mn*Fn%Mn,jo=pow2(Wo,_2n)*Wo%Mn,zo=pow2(jo,_1n)*Fn%Mn,Vo=pow2(zo,io)*zo%Mn,Go=pow2(Vo,fo)*Vo%Mn,Jo=pow2(Go,mo)*Go%Mn,Qo=pow2(Jo,$o)*Jo%Mn,os=pow2(Qo,Ao)*Qo%Mn,Cl=pow2(os,Ao)*Qo%Mn,xl=pow2(Cl,fo)*Vo%Mn;return{pow_p_5_8:pow2(xl,_2n)*Fn%Mn,b2:Wo}}function uvRatio(Fn,Mn){const io=mod(Mn*Mn*Mn),fo=mod(io*io*Mn),mo=pow_2_252_3(Fn*fo).pow_p_5_8;let $o=mod(Fn*io*mo);const Ao=mod(Mn*$o*$o),Lo=$o,Wo=mod($o*SQRT_M1),jo=Ao===Fn,zo=Ao===mod(-Fn),Vo=Ao===mod(-Fn*SQRT_M1);return jo&&($o=Lo),(zo||Vo)&&($o=Wo),edIsNegative($o)&&($o=mod(-$o)),{isValid:jo||zo,value:$o}}function invertSqrt(Fn){return uvRatio(_1n,Fn)}function modlLE(Fn){return mod(bytesToNumberLE(Fn),CURVE.l)}function equalBytes(Fn,Mn){if(Fn.length!==Mn.length)return!1;for(let io=0;io<Fn.length;io++)if(Fn[io]!==Mn[io])return!1;return!0}function ensureBytes(Fn,Mn){const io=Fn instanceof Uint8Array?Uint8Array.from(Fn):hexToBytes(Fn);if(typeof Mn=="number"&&io.length!==Mn)throw new Error(`Expected ${Mn} bytes`);return io}function normalizeScalar(Fn,Mn,io=!0){if(!Mn)throw new TypeError("Specify max value");if(typeof Fn=="number"&&Number.isSafeInteger(Fn)&&(Fn=BigInt(Fn)),typeof Fn=="bigint"&&Fn<Mn){if(io){if(_0n<Fn)return Fn}else if(_0n<=Fn)return Fn}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function adjustBytes25519(Fn){return Fn[0]&=248,Fn[31]&=127,Fn[31]|=64,Fn}function checkPrivateKey(Fn){if(Fn=typeof Fn=="bigint"||typeof Fn=="number"?numberTo32BytesBE(normalizeScalar(Fn,POW_2_256)):ensureBytes(Fn),Fn.length!==32)throw new Error("Expected 32 bytes");return Fn}function getKeyFromHash(Fn){const Mn=adjustBytes25519(Fn.slice(0,32)),io=Fn.slice(32,64),fo=modlLE(Mn),mo=Point.BASE.multiply(fo),$o=mo.toRawBytes();return{head:Mn,prefix:io,scalar:fo,point:mo,pointBytes:$o}}let _sha512Sync;async function getExtendedPublicKey(Fn){return getKeyFromHash(await utils.sha512(checkPrivateKey(Fn)))}async function getPublicKey(Fn){return(await getExtendedPublicKey(Fn)).pointBytes}async function sign(Fn,Mn){Fn=ensureBytes(Fn);const{prefix:io,scalar:fo,pointBytes:mo}=await getExtendedPublicKey(Mn),$o=modlLE(await utils.sha512(io,Fn)),Ao=Point.BASE.multiply($o),Lo=modlLE(await utils.sha512(Ao.toRawBytes(),mo,Fn)),Wo=mod($o+Lo*fo,CURVE.l);return new Signature(Ao,Wo).toRawBytes()}function prepareVerification(Fn,Mn,io){Mn=ensureBytes(Mn),io instanceof Point||(io=Point.fromHex(io,!1));const{r:fo,s:mo}=Fn instanceof Signature?Fn.assertValidity():Signature.fromHex(Fn),$o=ExtendedPoint.BASE.multiplyUnsafe(mo);return{r:fo,s:mo,SB:$o,pub:io,msg:Mn}}function finishVerification(Fn,Mn,io,fo){const mo=modlLE(fo),$o=ExtendedPoint.fromAffine(Fn).multiplyUnsafe(mo);return ExtendedPoint.fromAffine(Mn).add($o).subtract(io).multiplyUnsafe(CURVE.h).equals(ExtendedPoint.ZERO)}async function verify(Fn,Mn,io){const{r:fo,SB:mo,msg:$o,pub:Ao}=prepareVerification(Fn,Mn,io),Lo=await utils.sha512(fo.toRawBytes(),Ao.toRawBytes(),$o);return finishVerification(Ao,fo,mo,Lo)}Point.BASE._setWindowSize(8);const crypto$1={node:nodeCrypto,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},utils={bytesToHex,hexToBytes,concatBytes,getExtendedPublicKey,mod,invert,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:Fn=>{if(Fn=ensureBytes(Fn),Fn.length<40||Fn.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return mod(bytesToNumberLE(Fn),CURVE.l-_1n)+_1n},randomBytes:(Fn=32)=>{if(crypto$1.web)return crypto$1.web.getRandomValues(new Uint8Array(Fn));if(crypto$1.node){const{randomBytes:Mn}=crypto$1.node;return new Uint8Array(Mn(Fn).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>utils.randomBytes(32),sha512:async(...Fn)=>{const Mn=concatBytes(...Fn);if(crypto$1.web){const io=await crypto$1.web.subtle.digest("SHA-512",Mn.buffer);return new Uint8Array(io)}else{if(crypto$1.node)return Uint8Array.from(crypto$1.node.createHash("sha512").update(Mn).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(Fn=8,Mn=Point.BASE){const io=Mn.equals(Point.BASE)?Mn:new Point(Mn.x,Mn.y);return io._setWindowSize(Fn),io.multiply(_2n),io},sha512Sync:void 0};Object.defineProperties(utils,{sha512Sync:{configurable:!1,get(){return _sha512Sync},set(Fn){_sha512Sync||(_sha512Sync=Fn)}}});var encode_1$7=encode$p,MSB$8=128,REST$8=127,MSBALL$8=~REST$8,INT$8=Math.pow(2,31);function encode$p(Fn,Mn,io){Mn=Mn||[],io=io||0;for(var fo=io;Fn>=INT$8;)Mn[io++]=Fn&255|MSB$8,Fn/=128;for(;Fn&MSBALL$8;)Mn[io++]=Fn&255|MSB$8,Fn>>>=7;return Mn[io]=Fn|0,encode$p.bytes=io-fo+1,Mn}var decode$D=read$8,MSB$1$8=128,REST$1$8=127;function read$8(Fn,fo){var io=0,fo=fo||0,mo=0,$o=fo,Ao,Lo=Fn.length;do{if($o>=Lo)throw read$8.bytes=0,new RangeError("Could not decode varint");Ao=Fn[$o++],io+=mo<28?(Ao&REST$1$8)<<mo:(Ao&REST$1$8)*Math.pow(2,mo),mo+=7}while(Ao>=MSB$1$8);return read$8.bytes=$o-fo,io}var N1$7=Math.pow(2,7),N2$7=Math.pow(2,14),N3$7=Math.pow(2,21),N4$7=Math.pow(2,28),N5$7=Math.pow(2,35),N6$7=Math.pow(2,42),N7$7=Math.pow(2,49),N8$7=Math.pow(2,56),N9$7=Math.pow(2,63),length$7=function(Fn){return Fn<N1$7?1:Fn<N2$7?2:Fn<N3$7?3:Fn<N4$7?4:Fn<N5$7?5:Fn<N6$7?6:Fn<N7$7?7:Fn<N8$7?8:Fn<N9$7?9:10},varint$7={encode:encode_1$7,decode:decode$D,encodingLength:length$7},_brrp_varint$7=varint$7;const decode$C=(Fn,Mn=0)=>[_brrp_varint$7.decode(Fn,Mn),_brrp_varint$7.decode.bytes],encodeTo$7=(Fn,Mn,io=0)=>(_brrp_varint$7.encode(Fn,Mn,io),Mn),encodingLength$7=Fn=>_brrp_varint$7.encodingLength(Fn),coerce$7=Fn=>{if(Fn instanceof Uint8Array&&Fn.constructor.name==="Uint8Array")return Fn;if(Fn instanceof ArrayBuffer)return new Uint8Array(Fn);if(ArrayBuffer.isView(Fn))return new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength);throw new Error("Unknown type, must be binary type")};function base$7(Fn,Mn){if(Fn.length>=255)throw new TypeError("Alphabet too long");for(var io=new Uint8Array(256),fo=0;fo<io.length;fo++)io[fo]=255;for(var mo=0;mo<Fn.length;mo++){var $o=Fn.charAt(mo),Ao=$o.charCodeAt(0);if(io[Ao]!==255)throw new TypeError($o+" is ambiguous");io[Ao]=mo}var Lo=Fn.length,Wo=Fn.charAt(0),jo=Math.log(Lo)/Math.log(256),zo=Math.log(256)/Math.log(Lo);function Vo(Qo){if(Qo instanceof Uint8Array||(ArrayBuffer.isView(Qo)?Qo=new Uint8Array(Qo.buffer,Qo.byteOffset,Qo.byteLength):Array.isArray(Qo)&&(Qo=Uint8Array.from(Qo))),!(Qo instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Qo.length===0)return"";for(var os=0,Cl=0,xl=0,ds=Qo.length;xl!==ds&&Qo[xl]===0;)xl++,os++;for(var _c=(ds-xl)*zo+1>>>0,$l=new Uint8Array(_c);xl!==ds;){for(var Al=Qo[xl],Il=0,us=_c-1;(Al!==0||Il<Cl)&&us!==-1;us--,Il++)Al+=256*$l[us]>>>0,$l[us]=Al%Lo>>>0,Al=Al/Lo>>>0;if(Al!==0)throw new Error("Non-zero carry");Cl=Il,xl++}for(var ps=_c-Cl;ps!==_c&&$l[ps]===0;)ps++;for(var Rl=Wo.repeat(os);ps<_c;++ps)Rl+=Fn.charAt($l[ps]);return Rl}function Go(Qo){if(typeof Qo!="string")throw new TypeError("Expected String");if(Qo.length===0)return new Uint8Array;var os=0;if(Qo[os]!==" "){for(var Cl=0,xl=0;Qo[os]===Wo;)Cl++,os++;for(var ds=(Qo.length-os)*jo+1>>>0,_c=new Uint8Array(ds);Qo[os];){var $l=io[Qo.charCodeAt(os)];if($l===255)return;for(var Al=0,Il=ds-1;($l!==0||Al<xl)&&Il!==-1;Il--,Al++)$l+=Lo*_c[Il]>>>0,_c[Il]=$l%256>>>0,$l=$l/256>>>0;if($l!==0)throw new Error("Non-zero carry");xl=Al,os++}if(Qo[os]!==" "){for(var us=ds-xl;us!==ds&&_c[us]===0;)us++;for(var ps=new Uint8Array(Cl+(ds-us)),Rl=Cl;us!==ds;)ps[Rl++]=_c[us++];return ps}}}function Jo(Qo){var os=Go(Qo);if(os)return os;throw new Error(`Non-${Mn} character`)}return{encode:Vo,decodeUnsafe:Go,decode:Jo}}var src$7=base$7,_brrp__multiformats_scope_baseX$7=src$7;let Encoder$7=class{constructor(Mn,io,fo){this.name=Mn,this.prefix=io,this.baseEncode=fo}encode(Mn){if(Mn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Mn)}`;throw Error("Unknown type, must be binary type")}},Decoder$7=class{constructor(Mn,io,fo){if(this.name=Mn,this.prefix=io,io.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=io.codePointAt(0),this.baseDecode=fo}decode(Mn){if(typeof Mn=="string"){if(Mn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Mn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Mn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(Mn){return or$d(this,Mn)}},ComposedDecoder$7=class{constructor(Mn){this.decoders=Mn}or(Mn){return or$d(this,Mn)}decode(Mn){const io=Mn[0],fo=this.decoders[io];if(fo)return fo.decode(Mn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Mn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$d=(Fn,Mn)=>new ComposedDecoder$7({...Fn.decoders||{[Fn.prefix]:Fn},...Mn.decoders||{[Mn.prefix]:Mn}});let Codec$7=class{constructor(Mn,io,fo,mo){this.name=Mn,this.prefix=io,this.baseEncode=fo,this.baseDecode=mo,this.encoder=new Encoder$7(Mn,io,fo),this.decoder=new Decoder$7(Mn,io,mo)}encode(Mn){return this.encoder.encode(Mn)}decode(Mn){return this.decoder.decode(Mn)}};const from$i=({name:Fn,prefix:Mn,encode:io,decode:fo})=>new Codec$7(Fn,Mn,io,fo),baseX$7=({prefix:Fn,name:Mn,alphabet:io})=>{const{encode:fo,decode:mo}=_brrp__multiformats_scope_baseX$7(io,Mn);return from$i({prefix:Fn,name:Mn,encode:fo,decode:$o=>coerce$7(mo($o))})},decode$B=(Fn,Mn,io,fo)=>{const mo={};for(let zo=0;zo<Mn.length;++zo)mo[Mn[zo]]=zo;let $o=Fn.length;for(;Fn[$o-1]==="=";)--$o;const Ao=new Uint8Array($o*io/8|0);let Lo=0,Wo=0,jo=0;for(let zo=0;zo<$o;++zo){const Vo=mo[Fn[zo]];if(Vo===void 0)throw new SyntaxError(`Non-${fo} character`);Wo=Wo<<io|Vo,Lo+=io,Lo>=8&&(Lo-=8,Ao[jo++]=255&Wo>>Lo)}if(Lo>=io||255&Wo<<8-Lo)throw new SyntaxError("Unexpected end of data");return Ao},encode$o=(Fn,Mn,io)=>{const fo=Mn[Mn.length-1]==="=",mo=(1<<io)-1;let $o="",Ao=0,Lo=0;for(let Wo=0;Wo<Fn.length;++Wo)for(Lo=Lo<<8|Fn[Wo],Ao+=8;Ao>io;)Ao-=io,$o+=Mn[mo&Lo>>Ao];if(Ao&&($o+=Mn[mo&Lo<<io-Ao]),fo)for(;$o.length*io&7;)$o+="=";return $o},rfc4648$7=({name:Fn,prefix:Mn,bitsPerChar:io,alphabet:fo})=>from$i({prefix:Mn,name:Fn,encode(mo){return encode$o(mo,fo,io)},decode(mo){return decode$B(mo,fo,io,Fn)}}),base58btc$5=baseX$7({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$7({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});rfc4648$7({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$7({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$7({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$7({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$7({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$7({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$7({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$7({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$7({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const parseWith=(Fn,Mn)=>{if(Fn.startsWith("did:")){for(const io of Mn)try{return io.parse(Fn)}catch{}throw new Error(`Unsupported did ${Fn}`)}else throw new Error(`Expected did instead got ${Fn}`)},or$c=(Fn,Mn)=>new Parser([Fn,Mn]);class Parser{constructor(Mn){this.variants=Mn}parse(Mn){return parseWith(Mn,this.variants)}or(Mn){return new Parser([...this.variants,Mn])}}const withDID$1=(Fn,Mn)=>new VerifierWithDID(Mn,Fn);class VerifierWithDID{constructor(Mn,io){this.id=Mn,this.key=io}did(){return this.id}toDIDKey(){return this.key.toDIDKey()}verify(Mn,io){return this.key.verify(Mn,io)}withDID(Mn){return withDID$1(this.key,Mn)}}const code$a=237,signatureCode$1=EdDSA,signatureAlgorithm$2="EdDSA",PUBLIC_TAG_SIZE$1=encodingLength$7(code$a),SIZE$1=32+PUBLIC_TAG_SIZE$1,decode$A=Fn=>{const[Mn]=decode$C(Fn);if(Mn!==code$a)throw new RangeError(`Unsupported key algorithm with multicode 0x${code$a.toString(16)}`);if(Fn.byteLength!==SIZE$1)throw new RangeError(`Expected Uint8Array with byteLength ${SIZE$1}, instead got Uint8Array with byteLength ${Fn.byteLength}`);return new Ed25519Verifier(Fn.buffer,Fn.byteOffset,Fn.byteLength)};class Ed25519Verifier extends Uint8Array{get code(){return code$a}get signatureCode(){return signatureCode$1}get signatureAlgorithm(){return signatureAlgorithm$2}get publicKey(){const Mn=new Uint8Array(this.buffer,this.byteOffset+PUBLIC_TAG_SIZE$1);return Object.defineProperties(this,{publicKey:{value:Mn}}),Mn}did(){return`did:key:${base58btc$5.encode(this)}`}verify(Mn,io){return io.code===signatureCode$1&&verify(io.raw,Mn,this.publicKey)}withDID(Mn){return withDID$1(this,Mn)}toDIDKey(){return this.did()}}rfc4648$7({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648$7({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});rfc4648$7({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648$7({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});const or$b=(Fn,Mn)=>new Importer([Fn,Mn]);class Importer{constructor(Mn){this.variants=Mn,this.from=create$j(Mn)}or(Mn){return new Importer([Mn,...this.variants])}}const create$j=Fn=>io=>{if(io.id.startsWith("did:key:"))return importWith(io,Fn);for(const[fo,mo]of Object.entries(io.keys)){const $o=fo;return importWith({id:$o,keys:{[$o]:mo}},Fn).withDID(io.id)}throw new Error(`Archive ${io.id} contains no keys`)},importWith=(Fn,Mn)=>{for(const io of Mn)try{return io.from(Fn)}catch{}throw new Error("Unsupported signer")},withDID=({signer:Fn,verifier:Mn},io)=>new SignerWithDID(Fn,Mn.withDID(io));class SignerWithDID{constructor(Mn,io){this.key=Mn,this.verifier=io}get signer(){return this}get signatureAlgorithm(){return this.key.signatureAlgorithm}get signatureCode(){return this.key.signatureCode}did(){return this.verifier.did()}toDIDKey(){return this.verifier.toDIDKey()}withDID(Mn){return withDID(this.key,Mn)}sign(Mn){return this.key.sign(Mn)}verify(Mn,io){return this.verifier.verify(Mn,io)}toArchive(){const{keys:Mn}=this.key.toArchive();return{id:this.did(),keys:Mn}}}const code$9=4864,signatureAlgorithm$1=signatureAlgorithm$2,PRIVATE_TAG_SIZE=encodingLength$7(code$9),PUBLIC_TAG_SIZE=encodingLength$7(code$a),KEY_SIZE$1=32,SIZE=PRIVATE_TAG_SIZE+KEY_SIZE$1+PUBLIC_TAG_SIZE+KEY_SIZE$1,PUB_KEY_OFFSET=PRIVATE_TAG_SIZE+KEY_SIZE$1,generate$2=()=>derive(utils.randomPrivateKey()),derive=async Fn=>{if(Fn.byteLength!==KEY_SIZE$1)throw new Error(`Expected Uint8Array with byteLength of ${KEY_SIZE$1} instead not ${Fn.byteLength}`);const Mn=await getPublicKey(Fn),io=new Ed25519Signer(SIZE);return encodeTo$7(code$9,io,0),io.set(Fn,PRIVATE_TAG_SIZE),encodeTo$7(code$a,io,PRIVATE_TAG_SIZE+KEY_SIZE$1),io.set(Mn,PRIVATE_TAG_SIZE+KEY_SIZE$1+PUBLIC_TAG_SIZE),io},from$h=({id:Fn,keys:Mn})=>{if(Fn.startsWith("did:key:")){const io=Mn[Fn];if(io instanceof Uint8Array)return decode$z(io)}throw new TypeError("Unsupported archive format")},or$a=Fn=>or$b({from:from$h},Fn),decode$z=Fn=>{if(Fn.byteLength!==SIZE)throw new Error(`Expected Uint8Array with byteLength of ${SIZE} instead not ${Fn.byteLength}`);{const[Mn]=decode$C(Fn);if(Mn!==code$9)throw new Error(`Given bytes must be a multiformat with ${code$9} tag`)}{const[Mn]=decode$C(Fn.subarray(PUB_KEY_OFFSET));if(Mn!==code$a)throw new Error(`Given bytes must contain public key in multiformats with ${code$a} tag`)}return new Ed25519Signer(Fn)};class Ed25519Signer extends Uint8Array{get code(){return code$9}get signer(){return this}get verifier(){const Mn=new Uint8Array(this.buffer,PRIVATE_TAG_SIZE+KEY_SIZE$1),io=decode$A(Mn);return Object.defineProperties(this,{verifier:{value:io}}),io}get secret(){const Mn=new Uint8Array(this.buffer,PRIVATE_TAG_SIZE,KEY_SIZE$1);return Object.defineProperties(this,{secret:{value:Mn}}),Mn}did(){return this.verifier.did()}toDIDKey(){return this.verifier.toDIDKey()}withDID(Mn){return withDID(this,Mn)}async sign(Mn){const io=await sign(Mn,this.secret);return create$r(this.signatureCode,io)}verify(Mn,io){return this.verifier.verify(Mn,io)}get signatureAlgorithm(){return signatureAlgorithm$1}get signatureCode(){return EdDSA}encode(){return this}toArchive(){const Mn=this.did();return{id:Mn,keys:{[Mn]:this.encode()}}}}const Provider$2=match$1({method:"web"}),add$8=capability({can:"provider/add",with:AccountDID$1,nb:struct({provider:Provider$2,consumer:SpaceDID$1}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equal(Fn.nb.provider,Mn.nb.provider,"provider"))||and$2(equal(Fn.nb.consumer,Mn.nb.consumer,"consumer"))||ok({})}),Provider$3=Object.freeze(Object.defineProperty({__proto__:null,AccountDID:AccountDID$1,Provider:Provider$2,add:add$8},Symbol.toStringTag,{value:"Module"})),{Provider:ProviderDID$3,AccountDID}=Provider$3,add$7=async(Fn,{account:Mn,consumer:io,provider:fo=Fn.connection.id.did(),proofs:mo})=>{if(!ProviderDID$3.is(fo))throw new Error(`Unable to determine provider from agent.connection.id did ${fo}. expected a did:web:`);const{out:$o}=await Fn.invokeAndExecute(add$8,{with:Mn,nb:{provider:fo,consumer:io},proofs:mo});return $o},generate$1=async({name:Fn,agent:Mn})=>{const{signer:io}=await generate$2();return new OwnedSpace({signer:io,name:Fn,agent:Mn})},fromMnemonic=async(Fn,{name:Mn,agent:io})=>{const fo=mnemonicToEntropy(Fn,wordlist),mo=await derive(fo);return new OwnedSpace({signer:mo,name:Mn,agent:io})},toMnemonic=({signer:Fn})=>{const Mn=Fn.secret;return entropyToMnemonic(Mn,wordlist)},createRecovery=(Fn,Mn)=>createAuthorization(Fn,{audience:parse$2(Mn),access:accountAccess$1,expiration:1/0}),SESSION_LIFETIME=60*60*24*365,createAuthorization=async({signer:Fn,name:Mn},{audience:io,access:fo=spaceAccess$1,expiration:mo=now()+SESSION_LIFETIME})=>await delegate$3({issuer:Fn,audience:io,capabilities:toCapabilities({[Fn.did()]:fo}),...mo?{expiration:mo}:{},facts:[{space:{name:Mn}}]}),toCapabilities=Fn=>{const Mn=[];for(const[io,fo]of Object.entries(Fn)){const mo=Object.entries(fo);for(const[$o,Ao]of mo)Ao&&Mn.push({can:$o,with:io})}return Mn};class OwnedSpace{constructor(Mn){this.model=Mn}get signer(){return this.model.signer}get name(){return this.model.name}did(){return this.signer.did()}withName(Mn){return new OwnedSpace({signer:this.signer,name:Mn})}async save({agent:Mn=this.model.agent}={}){if(!Mn)return fail("Please provide an agent to save the space into");const io=await createAuthorization(this,{audience:Mn});return await Mn.importSpaceFromDelegation(io),await Mn.setCurrentSpace(this.did()),{ok:{}}}provision({proofs:Mn},{agent:io=this.model.agent}={}){return io?provision(this,{proofs:Mn,agent:io}):fail("Please provide an agent to save the space into")}async createRecovery(Mn){return createRecovery(this,Mn)}createAuthorization(Mn,io){return createAuthorization(this,{...io,audience:Mn})}toMnemonic(){return toMnemonic(this)}}const SpaceDID=match$1({method:"key"}),fromDelegation=Fn=>{var fo;const Mn=SpaceDID.read(Fn.capabilities[0].with);if(Mn.error)throw Object.assign(new Error(`Invalid delegation, expected capabilities[0].with to be DID, ${Mn.error}`),{cause:Mn.error});const io=((fo=Fn.facts[0])==null?void 0:fo.space)??{};return new SharedSpace({id:Mn.ok,delegation:Fn,meta:io})},provision=async(Fn,{proofs:Mn,agent:io})=>{const[fo]=Mn[0].capabilities,{ok:mo,error:$o}=AccountDID.read(fo.with);return $o?error$1($o):await add$7(io,{consumer:Fn.did(),account:mo,proofs:Mn})};class SharedSpace{constructor(Mn){this.model=Mn}get delegation(){return this.model.delegation}get meta(){return this.model.meta}get name(){return this.meta.name??""}did(){return this.model.id}withName(Mn){return new SharedSpace({...this.model,meta:{...this.meta,name:Mn}})}}function isExpired(Fn){return Fn.expiration===void 0||Fn.expiration<=Math.floor(Date.now()/1e3)}function isTooEarly(Fn){return Fn.notBefore?Fn.notBefore>Math.floor(Date.now()/1e3):!1}function canDelegateCapability(Fn,Mn){const io=allows(Fn);for(const[fo,mo]of Object.entries(io))if(matchResource(fo,Mn.with)){const $o=Object.keys(mo);for(const Ao of $o)if(canDelegateAbility(Ao,Mn.can))return!0}return!1}const matchResource=(Fn,Mn)=>Mn==="ucan:*"?!0:typeof Mn=="string"?Fn===Mn:Mn.test(Fn),_globalReference=globalThis||window||self,webcrypto=_globalReference.crypto,tagWith=(Fn,Mn)=>{const io=encodingLength$7(Fn),fo=new Uint8Array(Mn.byteLength+io);return encodeTo$7(Fn,fo,0),fo.set(Mn,io),fo},untagWith=(Fn,Mn,io=0)=>{const fo=io!==0?Mn.subarray(io):Mn,[mo,$o]=decode$C(fo);if(mo!==Fn)throw new Error(`Expected multiformat with 0x${Fn.toString(16)} tag instead got 0x${mo.toString(16)}`);return new Uint8Array(fo.buffer,fo.byteOffset+$o)},TAG_SIZE$1=1,INT_TAG=2,BITSTRING_TAG=3,OCTET_STRING_TAG=4,SEQUENCE_TAG=48,UNUSED_BIT_PAD=0,encodeDERLength=Fn=>{if(Fn<=127)return new Uint8Array([Fn]);const Mn=[];for(;Fn!==0;)Mn.push(Fn&255),Fn=Fn>>>8;return Mn.reverse(),new Uint8Array([128|Mn.length&255,...Mn])},readDERLength=(Fn,Mn=0)=>{if(!(Fn[Mn]&128))return{number:Fn[Mn],consumed:1};const io=Fn[Mn]&127;if(Fn.length<io+1)throw new Error(`ASN parsing error: Too few bytes. Expected encoded length's length to be at least ${io}`);let fo=0;for(let mo=0;mo<io;mo++)fo=fo<<8,fo=fo|Fn[Mn+mo+1];return{number:fo,consumed:io+1}},skip=(Fn,Mn,io)=>{const fo=into(Fn,Mn,io);return fo.position+fo.length},into=(Fn,Mn,io)=>{const fo=Fn[io];if(fo!==Mn)throw new Error(`ASN parsing error: Expected tag 0x${Mn.toString(16)} at position ${io}, but got 0x${fo.toString(16)}.`);const mo=readDERLength(Fn,io+TAG_SIZE$1);return{position:io+TAG_SIZE$1+mo.consumed,length:mo.number}},encodeBitString=Fn=>{const Mn=encodeDERLength(Fn.byteLength+1),io=new Uint8Array(TAG_SIZE$1+Mn.byteLength+1+Fn.byteLength);let fo=0;return io[fo]=BITSTRING_TAG,fo+=TAG_SIZE$1,io.set(Mn,fo),fo+=Mn.byteLength,io[fo]=UNUSED_BIT_PAD,fo+=1,io.set(Fn,fo),io},encodeOctetString=Fn=>{const Mn=encodeDERLength(Fn.byteLength),io=new Uint8Array(TAG_SIZE$1+Mn.byteLength+Fn.byteLength);let fo=0;return io[fo]=OCTET_STRING_TAG,fo+=TAG_SIZE$1,io.set(Mn,fo),fo+=Mn.byteLength,io.set(Fn,fo),io},encodeSequence=Fn=>{let Mn=0;for(const $o of Fn)Mn+=$o.byteLength;const io=encodeDERLength(Mn),fo=new Uint8Array(TAG_SIZE$1+io.byteLength+Mn);let mo=0;fo[mo]=SEQUENCE_TAG,mo+=TAG_SIZE$1,fo.set(io,mo),mo+=io.byteLength;for(const $o of Fn)fo.set($o,mo),mo+=$o.byteLength;return fo},readSequence=(Fn,Mn=0)=>{const{position:io,length:fo}=into(Fn,SEQUENCE_TAG,Mn);return new Uint8Array(Fn.buffer,Fn.byteOffset+io,fo)},encodeInt=Fn=>{const Mn=Fn.byteLength===0||Fn[0]&128?1:0,io=encodeDERLength(Fn.byteLength+Mn),fo=new Uint8Array(TAG_SIZE$1+io.byteLength+Fn.byteLength+Mn);let mo=0;return fo[mo]=INT_TAG,mo+=TAG_SIZE$1,fo.set(io,mo),mo+=io.byteLength,Mn>0&&(fo[mo]=UNUSED_BIT_PAD,mo+=Mn),fo.set(Fn,mo),fo},enterSequence=(Fn,Mn=0)=>into(Fn,SEQUENCE_TAG,Mn).position,skipSequence=(Fn,Mn=0)=>skip(Fn,SEQUENCE_TAG,Mn),skipInt=(Fn,Mn=0)=>skip(Fn,INT_TAG,Mn),readBitString=(Fn,Mn=0)=>{const{position:io,length:fo}=into(Fn,BITSTRING_TAG,Mn),mo=Fn[io];if(mo!==UNUSED_BIT_PAD)throw new Error(`Can not read bitstring, expected length to be multiple of 8, but got ${mo} unused bits in last byte.`);return new Uint8Array(Fn.buffer,Fn.byteOffset+io+1,fo-1)},readInt$1=(Fn,Mn=0)=>{const{position:io,length:fo}=into(Fn,INT_TAG,Mn);let mo=0;for(;Fn[io+mo]===0;)mo++;return new Uint8Array(Fn.buffer,Fn.byteOffset+io+mo,fo-mo)},readOctetString=(Fn,Mn=0)=>{const{position:io,length:fo}=into(Fn,OCTET_STRING_TAG,Mn);return new Uint8Array(Fn.buffer,Fn.byteOffset+io,fo)},readSequenceWith=(Fn,Mn,io=0)=>{const fo=[],mo=readSequence(Mn,io);let $o=0;for(const Ao of Fn){const Lo=Ao(mo,$o);fo.push(Lo),$o=Lo.byteOffset+Lo.byteLength-mo.byteOffset}return fo},SPKI_PARAMS_ENCODED=new Uint8Array([48,13,6,9,42,134,72,134,247,13,1,1,1,5,0]),encode$n=Fn=>encodeSequence([SPKI_PARAMS_ENCODED,encodeBitString(Fn)]),decode$y=Fn=>{const Mn=enterSequence(Fn,0),io=skipSequence(Fn,Mn);return readBitString(Fn,io)},PKSC8_HEADER=new Uint8Array([2,1,0,48,13,6,9,42,134,72,134,247,13,1,1,1,5,0]),decode$x=Fn=>{let Mn=0;return Mn=enterSequence(Fn,Mn),Mn=skipInt(Fn,Mn),Mn=skipSequence(Fn,Mn),readOctetString(Fn,Mn)},encode$m=Fn=>encodeSequence([PKSC8_HEADER,encodeOctetString(Fn)]),encode$l=({n:Fn,e:Mn})=>encodeSequence([encodeInt(Fn),encodeInt(Mn)]),decode$w=(Fn,Mn=0)=>{const[io,fo,mo,$o,Ao,Lo,Wo,jo,zo]=readSequenceWith([readInt$1,readInt$1,readInt$1,readInt$1,readInt$1,readInt$1,readInt$1,readInt$1,readInt$1],Fn,Mn);return{v:io,n:fo,e:mo,d:$o,p:Ao,q:Lo,dp:Wo,dq:jo,qi:zo}},name$6="RSA",code$8=4869,verifierCode=4613,signatureCode=RS256,signatureAlgorithm="RS256",ALG="RSASSA-PKCS1-v1_5",HASH_ALG="SHA-256",KEY_SIZE=2048,SALT_LENGTH=128,IMPORT_PARAMS={name:ALG,hash:{name:HASH_ALG}},generate=async({size:Fn=KEY_SIZE,extractable:Mn=!1}={})=>{const{publicKey:io,privateKey:fo}=await webcrypto.subtle.generateKey({name:ALG,modulusLength:Fn,publicExponent:new Uint8Array([1,0,1]),hash:{name:HASH_ALG}},Mn,["sign","verify"]),mo=await webcrypto.subtle.exportKey("spki",io),$o=tagWith(verifierCode,decode$y(new Uint8Array(mo))),Ao=new RSAVerifier({bytes:$o,publicKey:io});if(Mn){const Lo=await webcrypto.subtle.exportKey("pkcs8",fo),Wo=tagWith(code$8,decode$x(new Uint8Array(Lo)));return new ExtractableRSASigner({privateKey:fo,bytes:Wo,verifier:Ao})}else return new UnextractableRSASigner({privateKey:fo,verifier:Ao})},from$g=({id:Fn,keys:Mn})=>{if(Fn.startsWith("did:key:")){const io=Fn,fo=Mn[io];return fo instanceof Uint8Array?decode$v(fo):new UnextractableRSASigner({privateKey:fo,verifier:RSAVerifier.parse(io)})}else throw new TypeError(`RSA can not import from ${Fn} archive, try generic Signer instead`)},or$9=Fn=>or$b({from:from$g},Fn),decode$v=Fn=>{const Mn=decode$w(untagWith(code$8,Fn)),io=tagWith(verifierCode,encode$l(Mn));return new ExtractableRSASigner({bytes:Fn,privateKey:webcrypto.subtle.importKey("pkcs8",encode$m(untagWith(code$8,Fn)),IMPORT_PARAMS,!0,["sign"]),verifier:RSAVerifier.decode(io)})};class RSAVerifier{constructor({publicKey:Mn,bytes:io}){this.publicKey=Mn,this.bytes=io}withDID(Mn){return withDID$1(this,Mn)}toDIDKey(){return this.did()}static decode(Mn){return new this({bytes:Mn,publicKey:webcrypto.subtle.importKey("spki",encode$n(untagWith(verifierCode,Mn)),IMPORT_PARAMS,!0,["verify"])})}static parse(Mn){return RSAVerifier.decode(parse$2(Mn))}static or(Mn){return or$c(this,Mn)}get code(){return verifierCode}get signatureCode(){return signatureCode}get signatureAlgorithm(){return signatureAlgorithm}did(){return`did:key:${base58btc$5.encode(this.bytes)}`}async verify(Mn,io){return io.code!==signatureCode?!1:webcrypto.subtle.verify({name:ALG,hash:{name:HASH_ALG}},await this.publicKey,io.raw,Mn)}}class RSASigner{constructor({privateKey:Mn,verifier:io}){this.verifier=io,this.privateKey=Mn}get signer(){return this}get code(){return code$8}get signatureCode(){return signatureCode}get signatureAlgorithm(){return signatureAlgorithm}did(){return this.verifier.did()}toDIDKey(){return this.verifier.toDIDKey()}verify(Mn,io){return this.verifier.verify(Mn,io)}async sign(Mn){const io=await webcrypto.subtle.sign({name:ALG,saltLength:SALT_LENGTH},await this.privateKey,Mn);return create$r(signatureCode,new Uint8Array(io))}}class ExtractableRSASigner extends RSASigner{constructor(Mn){super(Mn),this.bytes=Mn.bytes}withDID(Mn){return withDID(this,Mn)}toArchive(){const Mn=this.did();return{id:Mn,keys:{[Mn]:this.bytes}}}}class UnextractableRSASigner extends RSASigner{constructor(Mn){super(Mn),this.privateKey=Mn.privateKey}withDID(Mn){return withDID(this,Mn)}toArchive(){const Mn=this.did();return{id:Mn,keys:{[Mn]:this.privateKey}}}}const RSA=Object.freeze(Object.defineProperty({__proto__:null,Verifier:RSAVerifier,code:code$8,decode:decode$v,from:from$g,generate,name:name$6,or:or$9,signatureAlgorithm,signatureCode},Symbol.toStringTag,{value:"Module"})),Signer=or$a(RSA),ProviderDID$2=match$1({method:"web"}),has$1=capability({can:"consumer/has",with:ProviderDID$2,nb:struct({consumer:SpaceDID$1}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equal(Fn.nb.consumer,Mn.nb.consumer,"consumer"))||ok({})}),get$f=capability({can:"consumer/get",with:ProviderDID$2,nb:struct({consumer:SpaceDID$1}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equal(Fn.nb.consumer,Mn.nb.consumer,"consumer"))||ok({})}),ProviderDID$1=match$1({method:"web"}),get$e=capability({can:"customer/get",with:ProviderDID$1,nb:struct({customer:AccountDID$1}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equal(Fn.nb.customer,Mn.nb.customer,"customer"))||ok({})});capability({can:"console/*",with:match$1(),derives:equalWith});capability({can:"console/log",with:match$1(),nb:struct({value:unknown()}),derives:equalWith});capability({can:"console/error",with:match$1(),nb:struct({error:unknown()}),derives:equalWith});const Provider$1=DID,add$6=capability({can:"rate-limit/add",with:Provider$1,nb:struct({subject:string(),rate:number()}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equal(Fn.nb.subject,Mn.nb.subject,"subject"))||and$2(equal(Fn.nb.rate,Mn.nb.rate,"rate"))||ok({})}),remove$6=capability({can:"rate-limit/remove",with:Provider$1,nb:struct({id:string()}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equal(Fn.nb.id,Mn.nb.id,"id"))||ok({})}),list$7=capability({can:"rate-limit/list",with:Provider$1,nb:struct({subject:string()}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equal(Fn.nb.subject,Mn.nb.subject,"subject"))||ok({})}),admin=capability({can:"admin/*",with:ProviderDID$4,derives:equalWith}),upload$1={inspect:capability({can:"admin/upload/inspect",with:ProviderDID$4,nb:struct({root:Link}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equal(Fn.nb.root,Mn.nb.root,"root"))||ok({})})},store={inspect:capability({can:"admin/store/inspect",with:ProviderDID$4,nb:struct({link:Link}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equal(Fn.nb.link,Mn.nb.link,"link"))||ok({})})},ProviderDID=match$1({method:"web"}),get$d=capability({can:"subscription/get",with:ProviderDID,nb:struct({subscription:string()}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equal(Fn.nb.subscription,Mn.nb.subscription,"consumer"))||ok({})}),list$6=capability({can:"subscription/list",with:AccountDID$1,derives:equalWith}),FR32_SHA2_256_TRUNC254_PADDED_BINARY_TREE=4113,RAW_CODE=85,PieceLink=match$2({code:RAW_CODE,version:1,multihash:{code:FR32_SHA2_256_TRUNC254_PADDED_BINARY_TREE}}),filecoinOffer$1=capability({can:"filecoin/offer",with:match$1(),nb:struct({content:match$2(),piece:PieceLink}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(checkLink(Fn.nb.content,Mn.nb.content,"nb.content"))||and$2(checkLink(Fn.nb.piece,Mn.nb.piece,"nb.piece"))||ok({})}),filecoinSubmit=capability({can:"filecoin/submit",with:match$1(),nb:struct({content:match$2(),piece:PieceLink}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(checkLink(Fn.nb.content,Mn.nb.content,"nb.content"))||and$2(checkLink(Fn.nb.piece,Mn.nb.piece,"nb.piece"))||ok({})}),filecoinAccept=capability({can:"filecoin/accept",with:match$1(),nb:struct({content:match$2(),piece:PieceLink}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(checkLink(Fn.nb.content,Mn.nb.content,"nb.content"))||and$2(checkLink(Fn.nb.piece,Mn.nb.piece,"nb.piece"))||ok({})}),filecoinInfo$1=capability({can:"filecoin/info",with:match$1(),nb:struct({piece:PieceLink}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(checkLink(Fn.nb.piece,Mn.nb.piece,"nb.piece"))||ok({})}),pieceOffer=capability({can:"piece/offer",with:match$1(),nb:struct({piece:PieceLink,group:match()}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(checkLink(Fn.nb.piece,Mn.nb.piece,"nb.piece"))||and$2(equal(Fn.nb.group,Mn.nb.group,"nb.group"))||ok({})}),pieceAccept=capability({can:"piece/accept",with:match$1(),nb:struct({piece:PieceLink,group:match()}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(checkLink(Fn.nb.piece,Mn.nb.piece,"nb.piece"))||and$2(equal(Fn.nb.group,Mn.nb.group,"nb.group"))||ok({})}),aggregateOffer=capability({can:"aggregate/offer",with:match$1(),nb:struct({aggregate:PieceLink,pieces:match$2({version:1})}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(checkLink(Fn.nb.aggregate,Mn.nb.aggregate,"nb.aggregate"))||and$2(checkLink(Fn.nb.pieces,Mn.nb.pieces,"nb.pieces"))||ok({})}),aggregateAccept=capability({can:"aggregate/accept",with:match$1(),nb:struct({aggregate:PieceLink,pieces:match$2()}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(checkLink(Fn.nb.aggregate,Mn.nb.aggregate,"nb.aggregate"))||and$2(checkLink(Fn.nb.pieces,Mn.nb.pieces,"nb.pieces"))||ok({})}),dealInfo=capability({can:"deal/info",with:match$1(),nb:struct({piece:PieceLink}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(checkLink(Fn.nb.piece,Mn.nb.piece,"nb.piece"))||ok({})}),index=capability({can:"space/index/*",with:SpaceDID$1,derives:equalWith}),add$5=capability({can:"space/index/add",with:SpaceDID$1,nb:struct({index:match$2({code:code$c,version:1})}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equal(Fn.nb.index,Mn.nb.index,"index"))||ok({})}),get$c=capability({can:"plan/get",with:AccountDID$1,derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||ok({})}),set$5=capability({can:"plan/set",with:AccountDID$1,nb:struct({product:DID}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equal(Fn.nb.product,Mn.nb.product,"product"))||ok({})}),createAdminSession$1=capability({can:"plan/create-admin-session",with:AccountDID$1,nb:struct({returnURL:string()}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equal(Fn.nb.returnURL,Mn.nb.returnURL,"returnURL"))||ok({})}),usage=capability({can:"usage/*",with:SpaceDID$1,derives:equalWith}),report$1=capability({can:"usage/report",with:SpaceDID$1,nb:struct({period:struct({from:integer().greaterThan(-1),to:integer().greaterThan(-1)})}),derives:(Fn,Mn)=>{var io,fo,mo,$o;return and$2(equalWith(Fn,Mn))||and$2(equal((io=Fn.nb.period)==null?void 0:io.from,(fo=Mn.nb.period)==null?void 0:fo.from,"period.from"))||and$2(equal((mo=Fn.nb.period)==null?void 0:mo.to,($o=Mn.nb.period)==null?void 0:$o.to,"period.to"))||ok({})}}),blob$1=capability({can:"space/blob/*",with:SpaceDID$1,derives:equalWith}),content=struct({digest:bytes(),size:integer()}),add$4=capability({can:"space/blob/add",with:SpaceDID$1,nb:struct({blob:content}),derives:equalBlob}),remove$5=capability({can:"space/blob/remove",with:SpaceDID$1,nb:struct({digest:bytes()}),derives:(Fn,Mn)=>Fn.with!==Mn.with?fail(`Expected 'with: "${Mn.with}"' instead got '${Fn.with}'`):Mn.nb.digest&&!equals$d(Mn.nb.digest,Fn.nb.digest)?fail(`Link ${Fn.nb.digest?`${Fn.nb.digest}`:""} violates imposed ${Mn.nb.digest} constraint.`):ok({})}),list$5=capability({can:"space/blob/list",with:SpaceDID$1,nb:struct({cursor:string().optional(),size:integer().optional()}),derives:(Fn,Mn)=>Fn.with!==Mn.with?fail(`Expected 'with: "${Mn.with}"' instead got '${Fn.with}'`):ok({})}),get$b=capability({can:"space/blob/get/0/1",with:SpaceDID$1,nb:struct({digest:bytes()}),derives:(Fn,Mn)=>Fn.with!==Mn.with?fail(`Expected 'with: "${Mn.with}"' instead got '${Fn.with}'`):Mn.nb.digest&&!equals$d(Mn.nb.digest,Fn.nb.digest)?fail(`Link ${Fn.nb.digest?`${Fn.nb.digest}`:""} violates imposed ${Mn.nb.digest} constraint.`):ok({})}),blob=capability({can:"web3.storage/blob/*",with:SpaceDID$1,derives:equalWith}),allocate=capability({can:"web3.storage/blob/allocate",with:match$1(),nb:struct({blob:content,cause:Link,space:SpaceDID$1}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equalBlob(Fn,Mn))||and$2(checkLink(Fn.nb.cause,Mn.nb.cause,"cause"))||and$2(equal(Fn.nb.space,Mn.nb.space,"space"))||ok({})}),accept=capability({can:"web3.storage/blob/accept",with:match$1(),nb:struct({blob:content,ttl:integer().optional(),space:SpaceDID$1,_put:Await}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equalBlob(Fn,Mn))||and$2(equal(Fn.nb.ttl,Mn.nb.ttl,"ttl"))||and$2(equal(Fn.nb.space,Mn.nb.space,"space"))||ok({})}),put=capability({can:"http/put",with:SpaceDID$1,nb:struct({body:content,url:string().or(Await),headers:dictionary({value:string()}).or(Await)}),derives:(Fn,Mn)=>and$2(equalWith(Fn,Mn))||and$2(equalBody(Fn,Mn))||and$2(equal(Fn.nb.url,Mn.nb,"url"))||and$2(equal(Fn.nb.headers,Mn.nb,"headers"))||ok({})}),abilitiesAsStrings=[top.can,add$8.can,space.can,info.can,upload$2.can,add$9.can,get$g.can,remove$7.can,list$8.can,store$1.can,add$a.can,get$h.can,remove$8.can,list$9.can,access$1.can,authorize.can,attest.can,conclude$1.can,get$e.can,has$1.can,get$f.can,get$d.can,list$6.can,add$6.can,remove$6.can,list$7.can,filecoinOffer$1.can,filecoinSubmit.can,filecoinAccept.can,filecoinInfo$1.can,pieceOffer.can,pieceAccept.can,aggregateOffer.can,aggregateAccept.can,dealInfo.can,admin.can,upload$1.inspect.can,store.inspect.can,get$c.can,set$5.can,createAdminSession$1.can,usage.can,report$1.can,blob$1.can,add$4.can,remove$5.can,list$5.can,blob.can,allocate.can,accept.can,put.can,index.can,add$5.can];function uint8ArrayToArrayBuffer(Fn){return Fn.byteOffset===0&&Fn.byteLength===Fn.buffer.byteLength?Fn.buffer:Fn.buffer.slice(Fn.byteOffset,Fn.byteLength+Fn.byteOffset)}var Gw;const K2=class K2{constructor(Mn,io={}){a1(this,Gw);this.meta=Mn.meta,this.principal=Mn.principal,this.spaces=Mn.spaces,this.delegations=Mn.delegations,this.currentSpace=Mn.currentSpace,Zp(this,Gw,fo=>io.store?io.store.save(fo):void 0)}static async create(Mn={},io={}){const fo=new K2({meta:{name:"agent",type:"device",...Mn.meta},principal:Mn.principal??await generate$2(),spaces:Mn.spaces??new Map,delegations:Mn.delegations??new Map,currentSpace:Mn.currentSpace},io);return io.store&&await io.store.save(fo.export()),fo}static fromExport(Mn,io){const fo=new Map;for(const[mo,$o]of Mn.delegations)fo.set(mo,{delegation:importDAG($o.delegation.map(Ao=>({cid:CID$5.parse(Ao.cid).toV1(),bytes:Ao.bytes instanceof Uint8Array?Ao.bytes:new Uint8Array(Ao.bytes)}))),meta:$o.meta});return new K2({meta:Mn.meta,principal:Signer.from(Mn.principal),currentSpace:Mn.currentSpace,spaces:Mn.spaces,delegations:fo},io)}export(){const Mn={meta:this.meta,principal:this.principal.toArchive(),currentSpace:this.currentSpace,spaces:this.spaces,delegations:new Map};for(const[io,fo]of this.delegations)Mn.delegations.set(io,{meta:fo.meta,delegation:[...fo.delegation.export()].map(mo=>({cid:mo.cid.toString(),bytes:uint8ArrayToArrayBuffer(mo.bytes)}))});return Mn}async addSpace(Mn,io,fo){this.spaces.set(Mn,io),await(fo?this.addDelegation(fo):cp(this,Gw).call(this,this.export()))}async setCurrentSpace(Mn){this.currentSpace=Mn,await cp(this,Gw).call(this,this.export())}async addDelegation(Mn,io){this.delegations.set(Mn.cid.toString(),{delegation:Mn,meta:io??{}}),await cp(this,Gw).call(this,this.export())}async removeDelegation(Mn){this.delegations.delete(Mn.toString()),await cp(this,Gw).call(this,this.export())}};Gw=new WeakMap;let AgentData=K2;const isSessionCapability=Fn=>Fn.can===attest.can,isSessionProof=Fn=>Fn.capabilities.some(Mn=>isSessionCapability(Mn));function getSessionProofs(Fn){const Mn={};for(const{delegation:io}of Fn.delegations.values())if(isSessionProof(io)){const fo=io.capabilities[0];if(fo&&!isExpired(io)){const mo=fo.nb.proof;if(mo){const $o=mo.toString(),Ao=io.issuer.did();Mn[$o]=Mn[$o]??{},Mn[$o][Ao]=Mn[$o][Ao]??[],Mn[$o][Ao].push(io)}}}return Mn}match$1({method:"web"});const HOST="https://up.web3.storage",PRINCIPAL=parse$2("did:web:web3.storage"),agentToData=new WeakMap;function connection$2(Fn={}){return connect({id:Fn.principal??PRINCIPAL,codec:outbound,channel:Fn.channel??open$2({url:Fn.url??new URL(HOST),method:"POST",fetch:Fn.fetch??globalThis.fetch.bind(globalThis)})})}var M1,Mv,u$;const Z2=class Z2{constructor(Mn,io={}){a1(this,Mv);a1(this,M1);var mo;const fo=(mo=io.connection)==null?void 0:mo.channel;this.url=io.url??(fo==null?void 0:fo.url)??new URL(HOST),this.connection=io.connection??connection$2({principal:io.servicePrincipal,url:this.url}),Zp(this,M1,Mn),agentToData.set(this,cp(this,M1))}static async create(Mn,io={}){const fo=await AgentData.create(Mn,io);return new Z2(fo,io)}static from(Mn,io={}){const fo=AgentData.fromExport(Mn,io);return new Z2(fo,io)}get issuer(){return cp(this,M1).principal}get meta(){return cp(this,M1).meta}get spaces(){return cp(this,M1).spaces}did(){return cp(this,M1).principal.did()}async addProof(Mn){return await this.addProofs([Mn])}async addProofs(Mn){for(const io of Mn)await cp(this,M1).addDelegation(io,{audience:this.meta});return await this.removeExpiredDelegations(),{}}async removeExpiredDelegations(){for(const[,Mn]of cp(this,M1).delegations)isExpired(Mn.delegation)&&await cp(this,M1).removeDelegation(Mn.delegation.cid)}async revoke(Mn,io={}){const fo=io.proofs??[],mo=[...this.delegations(),...fo].find(Ao=>Ao.cid.equals(Mn));return mo?(await this.invokeAndExecute(revoke,{with:this.issuer.did(),nb:{ucan:mo.cid},proofs:[mo,...fo]})).out:{error:new Error(`could not find delegation ${Mn.toString()} - please include the delegation in options.proofs`)}}proofs(Mn,io){const fo=[];for(const{delegation:$o}of q1(this,Mv,u$).call(this,Mn))$o.audience.did()===this.issuer.did()&&fo.push($o);const mo=getSessionProofs(cp(this,M1));for(const $o of fo){const Ao=mo[$o.asCID.toString()]??{},Lo=io!=null&&io.sessionProofIssuer?Ao[io.sessionProofIssuer]??[]:Object.values(Ao).flat();Lo.length&&fo.push(...Lo)}return fo}delegations(Mn){const io=[];for(const{delegation:fo}of this.delegationsWithMeta(Mn))io.push(fo);return io}delegationsWithMeta(Mn){const io=[];for(const fo of q1(this,Mv,u$).call(this,Mn)){const{delegation:mo}=fo;!mo.capabilities.some(Ao=>Ao.can===attest.can)&&mo.audience.did()!==this.issuer.did()&&io.push(fo)}return io}async createSpace(Mn){return await generate$1({name:Mn,agent:this})}async recoverSpace(Mn,{name:io}){return await fromMnemonic(Mn,{name:io,agent:this})}async importSpaceFromDelegation(Mn,{name:io=""}={}){const fo=io===""?fromDelegation(Mn):fromDelegation(Mn).withName(io);return cp(this,M1).spaces.set(fo.did(),{...fo.meta,name:fo.name}),await this.addProof(fo.delegation),this.currentSpace()||await this.setCurrentSpace(fo.did()),fo}async setCurrentSpace(Mn){if(!cp(this,M1).spaces.has(Mn))throw new Error(`Agent has no proofs for ${Mn}.`);return await cp(this,M1).setCurrentSpace(Mn),Mn}currentSpace(){return cp(this,M1).currentSpace}currentSpaceWithMeta(){if(!cp(this,M1).currentSpace)return;const Mn=this.proofs([{can:"space/info",with:cp(this,M1).currentSpace}]),io=new Set;for(const fo of Mn)for(const mo of fo.capabilities)io.add(mo.can);return{did:cp(this,M1).currentSpace,proofs:Mn,capabilities:[...io],meta:cp(this,M1).spaces.get(cp(this,M1).currentSpace)}}async delegate(Mn){const io=this.currentSpaceWithMeta();if(!io)throw new Error("no space selected.");const fo=Mn.abilities.map($o=>({with:io.did,can:$o}));for(const $o of fo)if(!this.proofs([$o]).length)throw new Error(`cannot delegate capability ${$o.can} with ${$o.with}`);const mo=await delegate$3({issuer:this.issuer,capabilities:fo,proofs:this.proofs(fo),facts:[{space:io.meta??{}}],...Mn});return await cp(this,M1).addDelegation(mo,{audience:Mn.audienceMeta}),await this.removeExpiredDelegations(),mo}async invokeAndExecute(Mn,io){return(await this.invoke(Mn,io)).execute(this.connection)}execute(...Mn){return this.connection.execute(...Mn)}async invoke(Mn,io){const fo=io.audience||this.connection.id,mo=io.with||this.currentSpace();if(!mo)throw new Error("No space or resource selected, you need pass a resource.");const $o=[...io.proofs||[],...this.proofs([{with:mo,can:Mn.can}],{sessionProofIssuer:fo.did()})];if($o.length===0&&io.with!==this.did())throw new Error(`no proofs available for resource ${mo} and ability ${Mn.can}`);return invoke({...io,audience:fo,capability:Mn.create({with:mo,nb:io.nb}),issuer:this.issuer,proofs:[...$o],nonce:io.nonce})}async getSpaceInfo(Mn,io){const fo=Mn||this.currentSpace();if(!fo)throw new Error("No space selected, you need pass a resource.");const mo=await this.invokeAndExecute(info,{...io,with:fo});if(mo.out.error)throw mo.out.error;return mo.out.ok}};M1=new WeakMap,Mv=new WeakSet,u$=function(Mn){const io=new Set(Mn),fo=[];for(const[,mo]of cp(this,M1).delegations)if(!isExpired(mo.delegation)&&!isTooEarly(mo.delegation))if(Array.isArray(Mn)&&Mn.length>0)for(const $o of io)canDelegateCapability(mo.delegation,$o)&&fo.push(mo);else fo.push(mo);return fo};let Agent=Z2;async function addSpacesFromDelegations(Fn,Mn){const io=agentToData.get(Fn);if(!io)throw Object.assign(new Error("cannot determine AgentData for Agent"),{agent:Fn});const fo=new Map,mo=Mn.filter(Ao=>Ao.audience.did()===Fn.did()),$o=mo.filter(Ao=>Ao.capabilities[0].can==="*"&&Ao.capabilities[0].with==="ucan:*");for(const Ao of $o)for(const Lo of Ao.proofs){if(!isDelegation(Lo)||!Lo.capabilities[0].with.startsWith("did:key"))continue;const Wo=fromDelegation(Lo);fo.set(Wo.did(),Wo.meta)}for(const Ao of mo){const Lo=allows(Ao);for(const[Wo,jo]of Object.entries(Lo))Wo.startsWith("did:key")&&Object.keys(jo).length>0&&(fo.has(Wo)||fo.set(Wo,{}))}for(const[Ao,Lo]of fo)await io.addSpace(Ao,Lo)}const importAuthorization=async(Fn,{proofs:Mn})=>{try{return await Fn.addProofs(Mn),await addSpacesFromDelegations(Fn,Mn),{ok:{}}}catch(io){return{error:io}}};function pDefer(){const Fn={};return Fn.promise=new Promise((Mn,io)=>{Fn.resolve=Mn,Fn.reject=io}),Fn}const STORE_NAME="AccessStore",DATA_ID=1;var Bv,Lv,Kw,kw,Uv,Fy,G2;class IndexedDBDriver{constructor(Mn,io={}){a1(this,Fy);a1(this,Bv);a1(this,Lv);a1(this,Kw);a1(this,kw);a1(this,Uv);Zp(this,Bv,Mn),Zp(this,Lv,io.dbVersion),Zp(this,Kw,io.dbStoreName??STORE_NAME),Zp(this,Uv,io.autoOpen??!0)}async open(){if(cp(this,kw))return;const{resolve:io,reject:fo,promise:mo}=pDefer(),$o=indexedDB.open(cp(this,Bv),cp(this,Lv));return $o.addEventListener("upgradeneeded",()=>{$o.result.createObjectStore(cp(this,Kw),{keyPath:"id"})}),$o.addEventListener("success",()=>{Zp(this,kw,$o.result),io()}),$o.addEventListener("error",()=>fo($o.error)),mo}async close(){const Mn=cp(this,kw);if(!Mn)throw new Error("Store is not open");Mn.close(),Zp(this,kw,void 0)}async save(Mn){const io=await q1(this,Fy,G2).call(this);return await withObjectStore(io,"readwrite",cp(this,Kw),async mo=>{const{resolve:$o,reject:Ao,promise:Lo}=pDefer(),Wo=mo.put({id:DATA_ID,...Mn});return Wo.addEventListener("success",()=>$o()),Wo.addEventListener("error",()=>Ao(new Error("failed to query DB",{cause:Wo.error}))),Lo})()}async load(){const Mn=await q1(this,Fy,G2).call(this);return await withObjectStore(Mn,"readonly",cp(this,Kw),async fo=>{const{resolve:mo,reject:$o,promise:Ao}=pDefer(),Lo=fo.get(DATA_ID);return Lo.addEventListener("success",()=>mo(Lo.result)),Lo.addEventListener("error",()=>$o(new Error("failed to query DB",{cause:Lo.error}))),Ao})()}async reset(){const Mn=await q1(this,Fy,G2).call(this);await withObjectStore(Mn,"readwrite",cp(this,Kw),fo=>{const{resolve:mo,reject:$o,promise:Ao}=pDefer(),Lo=fo.clear();return Lo.addEventListener("success",()=>{mo()}),Lo.addEventListener("error",()=>$o(new Error("failed to query DB",{cause:Lo.error}))),Ao})()}}Bv=new WeakMap,Lv=new WeakMap,Kw=new WeakMap,kw=new WeakMap,Uv=new WeakMap,Fy=new WeakSet,G2=async function(){if(!cp(this,kw)){if(!cp(this,Uv))throw new Error("Store is not open");await this.open()}return cp(this,kw)};function withObjectStore(Fn,Mn,io,fo){return async()=>{const mo=Fn.transaction(io,Mn),{resolve:$o,reject:Ao,promise:Lo}=pDefer();let Wo;mo.addEventListener("complete",()=>$o(Wo)),mo.addEventListener("abort",()=>Ao(mo.error||new Error("transaction aborted"))),mo.addEventListener("error",()=>Ao(new Error("transaction error",{cause:mo.error})));try{Wo=await fo(mo.objectStore(io)),mo.commit()}catch(jo){Ao(jo),mo.abort()}return Lo}}class StoreIndexedDB extends IndexedDBDriver{}const BITS_PER_BYTE=8,FRS_PER_QUAD=4;BigInt(FRS_PER_QUAD);const IN_BITS_FR=254,OUT_BITS_FR=256,IN_BYTES_PER_QUAD=FRS_PER_QUAD*IN_BITS_FR/BITS_PER_BYTE,OUT_BYTES_PER_QUAD=FRS_PER_QUAD*OUT_BITS_FR/BITS_PER_BYTE,PADDED_BYTES_PER_QUAD=BigInt(IN_BYTES_PER_QUAD);BigInt(OUT_BYTES_PER_QUAD);const FR_RATIO=IN_BITS_FR/OUT_BITS_FR,NODE_SIZE=OUT_BYTES_PER_QUAD/FRS_PER_QUAD,EXPANDED_BYTES_PER_NODE=BigInt(NODE_SIZE),MIN_PAYLOAD_SIZE=2*NODE_SIZE+1,from$f=Fn=>{if(Fn instanceof Uint8Array){if(Fn.length>NODE_SIZE)return Fn.subarray(0,NODE_SIZE);if(Fn.length==NODE_SIZE)return Fn}const Mn=new Uint8Array(NODE_SIZE);return Mn.set([...Fn]),Mn},empty$4=()=>EMPTY$4,EMPTY$4=from$f(new Uint8Array(NODE_SIZE).fill(0));Object.freeze(EMPTY$4.buffer);function coerce$6(Fn){if(Fn instanceof Uint8Array&&Fn.constructor.name==="Uint8Array")return Fn;if(Fn instanceof ArrayBuffer)return new Uint8Array(Fn);if(ArrayBuffer.isView(Fn))return new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength);throw new Error("Unknown type, must be binary type")}const name$5="sha2-256",code$7=18,size$2=32,prefix=new Uint8Array([18,32]);let Digest$7=class{constructor(Mn){this.code=code$7,this.name=name$5,this.bytes=Mn,this.size=size$2,this.digest=Mn.subarray(2)}};const digest$2=Fn=>{const Mn=new Uint8Array(prefix.length+size$2);return Mn.set(prefix,0),Mn.set(sha256$6(Fn),prefix.length),new Digest$7(Mn)},code$6=code$7,SHA256=Object.freeze(Object.defineProperty({__proto__:null,code:code$6,digest:digest$2,name:name$5,size:size$2},Symbol.toStringTag,{value:"Module"}));function base$6(Fn,Mn){if(Fn.length>=255)throw new TypeError("Alphabet too long");for(var io=new Uint8Array(256),fo=0;fo<io.length;fo++)io[fo]=255;for(var mo=0;mo<Fn.length;mo++){var $o=Fn.charAt(mo),Ao=$o.charCodeAt(0);if(io[Ao]!==255)throw new TypeError($o+" is ambiguous");io[Ao]=mo}var Lo=Fn.length,Wo=Fn.charAt(0),jo=Math.log(Lo)/Math.log(256),zo=Math.log(256)/Math.log(Lo);function Vo(Qo){if(Qo instanceof Uint8Array||(ArrayBuffer.isView(Qo)?Qo=new Uint8Array(Qo.buffer,Qo.byteOffset,Qo.byteLength):Array.isArray(Qo)&&(Qo=Uint8Array.from(Qo))),!(Qo instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Qo.length===0)return"";for(var os=0,Cl=0,xl=0,ds=Qo.length;xl!==ds&&Qo[xl]===0;)xl++,os++;for(var _c=(ds-xl)*zo+1>>>0,$l=new Uint8Array(_c);xl!==ds;){for(var Al=Qo[xl],Il=0,us=_c-1;(Al!==0||Il<Cl)&&us!==-1;us--,Il++)Al+=256*$l[us]>>>0,$l[us]=Al%Lo>>>0,Al=Al/Lo>>>0;if(Al!==0)throw new Error("Non-zero carry");Cl=Il,xl++}for(var ps=_c-Cl;ps!==_c&&$l[ps]===0;)ps++;for(var Rl=Wo.repeat(os);ps<_c;++ps)Rl+=Fn.charAt($l[ps]);return Rl}function Go(Qo){if(typeof Qo!="string")throw new TypeError("Expected String");if(Qo.length===0)return new Uint8Array;var os=0;if(Qo[os]!==" "){for(var Cl=0,xl=0;Qo[os]===Wo;)Cl++,os++;for(var ds=(Qo.length-os)*jo+1>>>0,_c=new Uint8Array(ds);Qo[os];){var $l=io[Qo.charCodeAt(os)];if($l===255)return;for(var Al=0,Il=ds-1;($l!==0||Al<xl)&&Il!==-1;Il--,Al++)$l+=Lo*_c[Il]>>>0,_c[Il]=$l%256>>>0,$l=$l/256>>>0;if($l!==0)throw new Error("Non-zero carry");xl=Al,os++}if(Qo[os]!==" "){for(var us=ds-xl;us!==ds&&_c[us]===0;)us++;for(var ps=new Uint8Array(Cl+(ds-us)),Rl=Cl;us!==ds;)ps[Rl++]=_c[us++];return ps}}}function Jo(Qo){var os=Go(Qo);if(os)return os;throw new Error(`Non-${Mn} character`)}return{encode:Vo,decodeUnsafe:Go,decode:Jo}}var src$6=base$6,_brrp__multiformats_scope_baseX$6=src$6;let Encoder$6=class{constructor(Mn,io,fo){tp(this,"name");tp(this,"prefix");tp(this,"baseEncode");this.name=Mn,this.prefix=io,this.baseEncode=fo}encode(Mn){if(Mn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Mn)}`;throw Error("Unknown type, must be binary type")}},Decoder$6=class{constructor(Mn,io,fo){tp(this,"name");tp(this,"prefix");tp(this,"baseDecode");tp(this,"prefixCodePoint");this.name=Mn,this.prefix=io;const mo=io.codePointAt(0);if(mo===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=mo,this.baseDecode=fo}decode(Mn){if(typeof Mn=="string"){if(Mn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Mn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Mn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(Mn){return or$8(this,Mn)}},ComposedDecoder$6=class{constructor(Mn){tp(this,"decoders");this.decoders=Mn}or(Mn){return or$8(this,Mn)}decode(Mn){const io=Mn[0],fo=this.decoders[io];if(fo!=null)return fo.decode(Mn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Mn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function or$8(Fn,Mn){return new ComposedDecoder$6({...Fn.decoders??{[Fn.prefix]:Fn},...Mn.decoders??{[Mn.prefix]:Mn}})}let Codec$6=class{constructor(Mn,io,fo,mo){tp(this,"name");tp(this,"prefix");tp(this,"baseEncode");tp(this,"baseDecode");tp(this,"encoder");tp(this,"decoder");this.name=Mn,this.prefix=io,this.baseEncode=fo,this.baseDecode=mo,this.encoder=new Encoder$6(Mn,io,fo),this.decoder=new Decoder$6(Mn,io,mo)}encode(Mn){return this.encoder.encode(Mn)}decode(Mn){return this.decoder.decode(Mn)}};function from$e({name:Fn,prefix:Mn,encode:io,decode:fo}){return new Codec$6(Fn,Mn,io,fo)}function baseX$6({name:Fn,prefix:Mn,alphabet:io}){const{encode:fo,decode:mo}=_brrp__multiformats_scope_baseX$6(io,Fn);return from$e({prefix:Mn,name:Fn,encode:fo,decode:$o=>coerce$6(mo($o))})}function decode$u(Fn,Mn,io,fo){const mo={};for(let zo=0;zo<Mn.length;++zo)mo[Mn[zo]]=zo;let $o=Fn.length;for(;Fn[$o-1]==="=";)--$o;const Ao=new Uint8Array($o*io/8|0);let Lo=0,Wo=0,jo=0;for(let zo=0;zo<$o;++zo){const Vo=mo[Fn[zo]];if(Vo===void 0)throw new SyntaxError(`Non-${fo} character`);Wo=Wo<<io|Vo,Lo+=io,Lo>=8&&(Lo-=8,Ao[jo++]=255&Wo>>Lo)}if(Lo>=io||255&Wo<<8-Lo)throw new SyntaxError("Unexpected end of data");return Ao}function encode$k(Fn,Mn,io){const fo=Mn[Mn.length-1]==="=",mo=(1<<io)-1;let $o="",Ao=0,Lo=0;for(let Wo=0;Wo<Fn.length;++Wo)for(Lo=Lo<<8|Fn[Wo],Ao+=8;Ao>io;)Ao-=io,$o+=Mn[mo&Lo>>Ao];if(Ao!==0&&($o+=Mn[mo&Lo<<io-Ao]),fo)for(;$o.length*io&7;)$o+="=";return $o}function rfc4648$6({name:Fn,prefix:Mn,bitsPerChar:io,alphabet:fo}){return from$e({prefix:Mn,name:Fn,encode(mo){return encode$k(mo,fo,io)},decode(mo){return decode$u(mo,fo,io,Fn)}})}rfc4648$6({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$6({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$6({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$6({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$6({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$6({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$6({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$6({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$6({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});baseX$6({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});baseX$6({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});baseX$6({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$6({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var encode_1$6=encode$j,MSB$7=128,REST$7=127,MSBALL$7=~REST$7,INT$7=Math.pow(2,31);function encode$j(Fn,Mn,io){Mn=Mn||[],io=io||0;for(var fo=io;Fn>=INT$7;)Mn[io++]=Fn&255|MSB$7,Fn/=128;for(;Fn&MSBALL$7;)Mn[io++]=Fn&255|MSB$7,Fn>>>=7;return Mn[io]=Fn|0,encode$j.bytes=io-fo+1,Mn}var decode$t=read$7,MSB$1$7=128,REST$1$7=127;function read$7(Fn,fo){var io=0,fo=fo||0,mo=0,$o=fo,Ao,Lo=Fn.length;do{if($o>=Lo)throw read$7.bytes=0,new RangeError("Could not decode varint");Ao=Fn[$o++],io+=mo<28?(Ao&REST$1$7)<<mo:(Ao&REST$1$7)*Math.pow(2,mo),mo+=7}while(Ao>=MSB$1$7);return read$7.bytes=$o-fo,io}var N1$6=Math.pow(2,7),N2$6=Math.pow(2,14),N3$6=Math.pow(2,21),N4$6=Math.pow(2,28),N5$6=Math.pow(2,35),N6$6=Math.pow(2,42),N7$6=Math.pow(2,49),N8$6=Math.pow(2,56),N9$6=Math.pow(2,63),length$6=function(Fn){return Fn<N1$6?1:Fn<N2$6?2:Fn<N3$6?3:Fn<N4$6?4:Fn<N5$6?5:Fn<N6$6?6:Fn<N7$6?7:Fn<N8$6?8:Fn<N9$6?9:10},varint$6={encode:encode_1$6,decode:decode$t,encodingLength:length$6},_brrp_varint$6=varint$6;function decode$s(Fn,Mn=0){return[_brrp_varint$6.decode(Fn,Mn),_brrp_varint$6.decode.bytes]}function encodeTo$6(Fn,Mn,io=0){return _brrp_varint$6.encode(Fn,Mn,io),Mn}function encodingLength$6(Fn){return _brrp_varint$6.encodingLength(Fn)}function truncatedHash(Fn,Mn={}){const io=Mn.hasher||SHA256,{digest:fo}=io.digest(Fn);return truncate(fo)}const computeNode=(Fn,Mn,io)=>{const fo=new Uint8Array(Fn.length+Mn.length);return fo.set(Fn,0),fo.set(Mn,Fn.length),truncatedHash(fo,io)};function truncate(Fn){return Fn[NODE_SIZE-1]&=63,Fn}const MAX_LEVEL=64;class ZeroComm{constructor(){this.bytes=new Uint8Array(MAX_LEVEL*NODE_SIZE),this.bytes.set(empty$4(),0),this.node=empty$4(),this.length=NODE_SIZE}slice(Mn,io){for(;this.length<io;)this.node=computeNode(this.node,this.node),this.bytes.set(this.node,this.length),this.length+=NODE_SIZE;return this.bytes.subarray(Mn,io)}}const ZERO_COMM=new ZeroComm,fromLevel=Fn=>{if(Fn<0||Fn>=MAX_LEVEL)throw new Error(`Only levels between 0 and ${MAX_LEVEL-1} inclusive are available`);return ZERO_COMM.slice(NODE_SIZE*Fn,NODE_SIZE*(Fn+1))},split$1=Fn=>{const Mn=Fn.length/NODE_SIZE,io=new Array(Mn);for(let fo=0;fo<Mn;fo++){const mo=fo*NODE_SIZE,$o=Fn.subarray(mo,mo+NODE_SIZE);io[fo]=$o}return io};function toZeroPaddedSize(Fn){const Mn=Math.max(Fn,MIN_PAYLOAD_SIZE),io=Math.floor(Math.log2(Mn)),fo=Math.ceil(FR_RATIO*2**(io+1));return Mn<=fo?fo:Math.ceil(FR_RATIO*2**(io+2))}const toPieceSize=Fn=>toZeroPaddedSize(Fn)/FR_RATIO,pad=(Fn,Mn=new Uint8Array(toPieceSize(Fn.length)))=>{const fo=toZeroPaddedSize(Fn.byteLength)/IN_BYTES_PER_QUAD;for(let mo=0;mo<fo;mo++){const $o=mo*IN_BYTES_PER_QUAD,Ao=mo*OUT_BYTES_PER_QUAD;Mn.set(Fn.subarray($o,$o+32),Ao),Mn[Ao+31]&=63;for(let Lo=32;Lo<64;Lo++)Mn[Ao+Lo]=Fn[$o+Lo]<<2|Fn[$o+Lo-1]>>6;Mn[Ao+63]&=63;for(let Lo=64;Lo<96;Lo++)Mn[Ao+Lo]=Fn[$o+Lo]<<4|Fn[$o+Lo-1]>>4;Mn[Ao+95]&=63;for(let Lo=96;Lo<127;Lo++)Mn[Ao+Lo]=Fn[$o+Lo]<<6|Fn[$o+Lo-1]>>2;Mn[Ao+127]=Fn[$o+126]>>2}return Mn},log2Floor=Fn=>{let Mn=0n;for(;Fn>>=1n;)Mn++;return Number(Mn)},log2Ceil=Fn=>Fn<=1n?0:log2Floor(BigInt(Fn)-1n)+1,toPadding=Fn=>toPadded(Fn)-Fn,toPadded=Fn=>toQauds(Fn)*PADDED_BYTES_PER_QUAD,toQauds=Fn=>{const Mn=(Fn+PADDED_BYTES_PER_QUAD-1n)/PADDED_BYTES_PER_QUAD;return 2n**BigInt(log2Ceil(Mn))},fromHeight=Fn=>fromWidth(2n**BigInt(Fn)),fromWidth=Fn=>Fn*EXPANDED_BYTES_PER_NODE,name$4="fr32-sha2-256-trunc254-padded-binary-tree",code$5=4113,MAX_PADDING_SIZE=9,HEIGHT_SIZE=1,ROOT_SIZE=size$2,MAX_DIGEST_SIZE=MAX_PADDING_SIZE+HEIGHT_SIZE+size$2,TAG_SIZE=encodingLength$6(code$5),MAX_SIZE=TAG_SIZE+encodingLength$6(MAX_DIGEST_SIZE)+MAX_DIGEST_SIZE,MAX_HEIGHT$1=255,MAX_PAYLOAD_SIZE$1=fromHeight(MAX_HEIGHT$1)*BigInt(IN_BITS_FR)/BigInt(OUT_BITS_FR),fromPiece=({padding:Fn,height:Mn,root:io})=>{const fo=encodingLength$6(Number(Fn)),mo=fo+HEIGHT_SIZE+ROOT_SIZE,$o=encodingLength$6(mo),Ao=TAG_SIZE+$o+mo;let Lo=0;const Wo=new Uint8Array(Ao);return encodeTo$6(code$5,Wo,Lo),Lo+=TAG_SIZE,encodeTo$6(mo,Wo,Lo),Lo+=$o,encodeTo$6(Number(Fn),Wo,Lo),Lo+=fo,Wo[Lo]=Mn,Lo+=HEIGHT_SIZE,Wo.set(io,Lo),new Digest$6(Wo)},fromBytes$3=Fn=>new Digest$6(Fn),toBytes$2=({digest:Fn})=>{const io=encodingLength$6(Fn.length)+TAG_SIZE;if(Fn.byteOffset>=io){const mo=new Uint8Array(Fn.buffer,Fn.byteOffset-io,Fn.byteOffset+Fn.length),[$o,Ao]=decode$s(mo);if($o===code$5&&decode$s(mo,Ao)[0]===Fn.length)return mo}const fo=new Uint8Array(Fn.length+io);return encodeTo$6(code$5,fo),encodeTo$6(Fn.length,fo,TAG_SIZE),fo.set(Fn,io),fo},height=({digest:Fn})=>{const[,Mn]=decode$s(Fn);return Fn[Mn]},padding=({digest:Fn})=>{const[Mn]=decode$s(Fn);return BigInt(Mn)},root$1=({digest:Fn})=>{const[,Mn]=decode$s(Fn);return Fn.subarray(Mn+HEIGHT_SIZE,Mn+HEIGHT_SIZE+size$2)};let Digest$6=class{constructor(Mn){this.bytes=Mn;const[io]=decode$s(Mn);if(io!==code$5)throw new RangeError(`Expected multihash with code ${code$5}`);let fo=TAG_SIZE;const[mo,$o]=decode$s(Mn,fo);fo+=$o;const Ao=Mn.subarray(fo);if(Ao.length!==mo)throw new RangeError(`Invalid multihash size expected ${fo+mo} bytes, got ${Mn.length} bytes`);this.digest=Ao}get name(){return name$4}get code(){return code$5}get size(){return this.digest.length}get padding(){return padding(this)}get height(){return height(this)}get root(){return root$1(this)}};const digest$1=Object.freeze(Object.defineProperty({__proto__:null,HEIGHT_SIZE,MAX_DIGEST_SIZE,MAX_HEIGHT:MAX_HEIGHT$1,MAX_PAYLOAD_SIZE:MAX_PAYLOAD_SIZE$1,MAX_SIZE,ROOT_SIZE,TAG_SIZE,code:code$5,fromBytes:fromBytes$3,fromPiece,height,name:name$4,padding,root:root$1,toBytes:toBytes$2},Symbol.toStringTag,{value:"Module"})),name$3="fr32-sha2-256-trunc254-padded-binary-tree",code$4=4113,MAX_HEIGHT=255,MAX_PAYLOAD_SIZE=fromHeight(MAX_HEIGHT)*BigInt(IN_BITS_FR)/BigInt(OUT_BITS_FR),digest=Fn=>{const Mn=new Hasher$4;return Mn.write(Fn),Mn.digest()},create$i=()=>new Hasher$4;let Hasher$4=class{constructor(){this.bytesWritten=0n,this.buffer=new Uint8Array(IN_BYTES_PER_QUAD),this.offset=0,this.layers=[[]]}count(){return this.bytesWritten}digest(){const Mn=new Uint8Array(MAX_SIZE),io=this.digestInto(Mn,0,!0);return fromBytes$3(Mn.subarray(0,io))}digestInto(Mn,io=0,fo=!0){const{buffer:mo,layers:$o,offset:Ao,bytesWritten:Lo}=this;let[Wo,...jo]=$o;(Ao>0||Lo===0n)&&(Wo=[...Wo,...split$1(pad(mo.fill(0,Ao)))]);const zo=build([Wo,...jo]),Vo=zo.length-1,[Go]=zo[Vo],Jo=Number(toPadding(this.bytesWritten)),Qo=encodingLength$6(Jo);let os=io;if(fo){encodeTo$6(code$4,Mn,os),os+=TAG_SIZE;const Cl=Qo+HEIGHT_SIZE+ROOT_SIZE,xl=encodingLength$6(Cl);encodeTo$6(Cl,Mn,os),os+=xl}return encodeTo$6(Jo,Mn,os),os+=Qo,Mn[os]=Vo,os+=1,Mn.set(Go,os),os+=Go.length,os-io}write(Mn){const{buffer:io,offset:fo,layers:mo}=this,$o=mo[0],{length:Ao}=Mn;if(Ao===0)return this;if(this.bytesWritten+BigInt(Ao)>MAX_PAYLOAD_SIZE)throw new RangeError(`Writing ${Ao} bytes exceeds max payload size of ${MAX_PAYLOAD_SIZE}`);if(fo+Ao<io.length)return io.set(Mn,fo),this.offset+=Ao,this.bytesWritten+=BigInt(Ao),this;{const Lo=io.length-fo;io.set(Mn.subarray(0,Lo),fo),$o.push(...split$1(pad(io)));let Wo=Lo;for(;Wo+IN_BYTES_PER_QUAD<Ao;){const jo=Mn.subarray(Wo,Wo+IN_BYTES_PER_QUAD);$o.push(...split$1(pad(jo))),Wo+=IN_BYTES_PER_QUAD}return this.buffer.set(Mn.subarray(Wo),0),this.offset=Ao-Wo,this.bytesWritten+=BigInt(Ao),prune(this.layers),this}}reset(){return this.offset=0,this.bytesWritten=0n,this.layers.length=1,this.layers[0].length=0,this}dispose(){this.reset()}get code(){return code$4}get name(){return name$3}};const prune=Fn=>flush$1(Fn,!1),build=Fn=>flush$1([...Fn],!0),flush$1=(Fn,Mn)=>{let io=0;for(;io<Fn.length;){let fo=Fn[io+1];const mo=Fn[io];Mn&&mo.length%2>0&&fo&&mo.push(fromLevel(io)),io+=1,fo=fo?Mn?[...fo]:fo:[];let $o=0;for(;$o+1<mo.length;){const Ao=computeNode(mo[$o],mo[$o+1]);delete mo[$o],delete mo[$o+1],fo.push(Ao),$o+=2}fo.length&&(Fn[io]=fo),mo.splice(0,$o)}return Fn},PieceHasher=Object.freeze(Object.defineProperty({__proto__:null,Digest:digest$1,MAX_HEIGHT,MAX_PAYLOAD_SIZE,code:code$4,create:create$i,digest,name:name$3},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const contentType$2="application/cbor",HEADERS=Object.freeze({"content-type":contentType$2}),encode$i=(Fn,Mn)=>{const io=[];for(const mo of Fn.receipts.values()){const $o=mo.out;$o.ok?io.push($o.ok):io.push({...$o.error,error:!0})}const fo=encode$A(io);return{headers:HEADERS,body:fo}},response=Object.freeze(Object.defineProperty({__proto__:null,contentType:contentType$2,encode:encode$i},Symbol.toStringTag,{value:"Module"})),contentType$1="application/car",decode$r=async({body:Fn})=>{const{roots:Mn,blocks:io}=decode$M(Fn),fo=[];for(const{cid:$o}of Mn){const Ao=view$2({root:$o,blocks:io});fo.push(Ao)}return await build$1({invocations:fo})},request$1=Object.freeze(Object.defineProperty({__proto__:null,contentType:contentType$1,decode:decode$r},Symbol.toStringTag,{value:"Module"})),{contentType}=request$1;inbound({decoders:{[contentType]:request$1,[contentType$3]:request$3},encoders:{"*/*;q=0.1":response,[contentType$3]:response$1}});const services={STOREFRONT:{url:new URL("https://up.web3.storage"),principal:parse$2("did:web:web3.storage")},AGGREGATOR:{url:new URL("https://aggregator.web3.storage"),principal:parse$2("did:web:web3.storage")},DEALER:{url:new URL("https://dealer.web3.storage"),principal:parse$2("did:web:web3.storage")},DEAL_TRACKER:{url:new URL("https://tracker.web3.storage"),principal:parse$2("did:web:web3.storage")}},connection$1=connect({id:services.STOREFRONT.principal,codec:outbound,channel:open$2({url:services.STOREFRONT.url,method:"POST"})});async function filecoinOffer({issuer:Fn,with:Mn,proofs:io,audience:fo},mo,$o,Ao={}){const Lo=Ao.connection??connection$1;return await filecoinOffer$1.invoke({issuer:Fn,audience:fo??services.STOREFRONT.principal,with:Mn,nb:{content:mo,piece:$o},proofs:io,expiration:1/0}).execute(Lo)}async function filecoinInfo({issuer:Fn,with:Mn,proofs:io,audience:fo},mo,$o={}){const Ao=$o.connection??connection$1;return await filecoinInfo$1.invoke({issuer:Fn,audience:fo??services.STOREFRONT.principal,with:Mn,nb:{piece:mo},proofs:io}).execute(Ao)}connect({id:services.AGGREGATOR.principal,codec:outbound,channel:open$2({url:services.AGGREGATOR.url,method:"POST"})});connect({id:services.DEALER.principal,codec:outbound,channel:open$2({url:services.DEALER.url,method:"POST"})});connect({id:services.DEAL_TRACKER.principal,codec:outbound,channel:open$2({url:services.DEAL_TRACKER.url,method:"POST"})});function base$5(Fn,Mn){if(Fn.length>=255)throw new TypeError("Alphabet too long");for(var io=new Uint8Array(256),fo=0;fo<io.length;fo++)io[fo]=255;for(var mo=0;mo<Fn.length;mo++){var $o=Fn.charAt(mo),Ao=$o.charCodeAt(0);if(io[Ao]!==255)throw new TypeError($o+" is ambiguous");io[Ao]=mo}var Lo=Fn.length,Wo=Fn.charAt(0),jo=Math.log(Lo)/Math.log(256),zo=Math.log(256)/Math.log(Lo);function Vo(Qo){if(Qo instanceof Uint8Array||(ArrayBuffer.isView(Qo)?Qo=new Uint8Array(Qo.buffer,Qo.byteOffset,Qo.byteLength):Array.isArray(Qo)&&(Qo=Uint8Array.from(Qo))),!(Qo instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Qo.length===0)return"";for(var os=0,Cl=0,xl=0,ds=Qo.length;xl!==ds&&Qo[xl]===0;)xl++,os++;for(var _c=(ds-xl)*zo+1>>>0,$l=new Uint8Array(_c);xl!==ds;){for(var Al=Qo[xl],Il=0,us=_c-1;(Al!==0||Il<Cl)&&us!==-1;us--,Il++)Al+=256*$l[us]>>>0,$l[us]=Al%Lo>>>0,Al=Al/Lo>>>0;if(Al!==0)throw new Error("Non-zero carry");Cl=Il,xl++}for(var ps=_c-Cl;ps!==_c&&$l[ps]===0;)ps++;for(var Rl=Wo.repeat(os);ps<_c;++ps)Rl+=Fn.charAt($l[ps]);return Rl}function Go(Qo){if(typeof Qo!="string")throw new TypeError("Expected String");if(Qo.length===0)return new Uint8Array;var os=0;if(Qo[os]!==" "){for(var Cl=0,xl=0;Qo[os]===Wo;)Cl++,os++;for(var ds=(Qo.length-os)*jo+1>>>0,_c=new Uint8Array(ds);Qo[os];){var $l=io[Qo.charCodeAt(os)];if($l===255)return;for(var Al=0,Il=ds-1;($l!==0||Al<xl)&&Il!==-1;Il--,Al++)$l+=Lo*_c[Il]>>>0,_c[Il]=$l%256>>>0,$l=$l/256>>>0;if($l!==0)throw new Error("Non-zero carry");xl=Al,os++}if(Qo[os]!==" "){for(var us=ds-xl;us!==ds&&_c[us]===0;)us++;for(var ps=new Uint8Array(Cl+(ds-us)),Rl=Cl;us!==ds;)ps[Rl++]=_c[us++];return ps}}}function Jo(Qo){var os=Go(Qo);if(os)return os;throw new Error(`Non-${Mn} character`)}return{encode:Vo,decodeUnsafe:Go,decode:Jo}}var src$5=base$5,_brrp__multiformats_scope_baseX$5=src$5;const equals$a=(Fn,Mn)=>{if(Fn===Mn)return!0;if(Fn.byteLength!==Mn.byteLength)return!1;for(let io=0;io<Fn.byteLength;io++)if(Fn[io]!==Mn[io])return!1;return!0},coerce$5=Fn=>{if(Fn instanceof Uint8Array&&Fn.constructor.name==="Uint8Array")return Fn;if(Fn instanceof ArrayBuffer)return new Uint8Array(Fn);if(ArrayBuffer.isView(Fn))return new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength);throw new Error("Unknown type, must be binary type")};let Encoder$5=class{constructor(Mn,io,fo){this.name=Mn,this.prefix=io,this.baseEncode=fo}encode(Mn){if(Mn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Mn)}`;throw Error("Unknown type, must be binary type")}},Decoder$5=class{constructor(Mn,io,fo){if(this.name=Mn,this.prefix=io,io.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=io.codePointAt(0),this.baseDecode=fo}decode(Mn){if(typeof Mn=="string"){if(Mn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Mn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Mn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(Mn){return or$7(this,Mn)}},ComposedDecoder$5=class{constructor(Mn){this.decoders=Mn}or(Mn){return or$7(this,Mn)}decode(Mn){const io=Mn[0],fo=this.decoders[io];if(fo)return fo.decode(Mn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Mn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$7=(Fn,Mn)=>new ComposedDecoder$5({...Fn.decoders||{[Fn.prefix]:Fn},...Mn.decoders||{[Mn.prefix]:Mn}});let Codec$5=class{constructor(Mn,io,fo,mo){this.name=Mn,this.prefix=io,this.baseEncode=fo,this.baseDecode=mo,this.encoder=new Encoder$5(Mn,io,fo),this.decoder=new Decoder$5(Mn,io,mo)}encode(Mn){return this.encoder.encode(Mn)}decode(Mn){return this.decoder.decode(Mn)}};const from$d=({name:Fn,prefix:Mn,encode:io,decode:fo})=>new Codec$5(Fn,Mn,io,fo),baseX$5=({prefix:Fn,name:Mn,alphabet:io})=>{const{encode:fo,decode:mo}=_brrp__multiformats_scope_baseX$5(io,Mn);return from$d({prefix:Fn,name:Mn,encode:fo,decode:$o=>coerce$5(mo($o))})},decode$q=(Fn,Mn,io,fo)=>{const mo={};for(let zo=0;zo<Mn.length;++zo)mo[Mn[zo]]=zo;let $o=Fn.length;for(;Fn[$o-1]==="=";)--$o;const Ao=new Uint8Array($o*io/8|0);let Lo=0,Wo=0,jo=0;for(let zo=0;zo<$o;++zo){const Vo=mo[Fn[zo]];if(Vo===void 0)throw new SyntaxError(`Non-${fo} character`);Wo=Wo<<io|Vo,Lo+=io,Lo>=8&&(Lo-=8,Ao[jo++]=255&Wo>>Lo)}if(Lo>=io||255&Wo<<8-Lo)throw new SyntaxError("Unexpected end of data");return Ao},encode$h=(Fn,Mn,io)=>{const fo=Mn[Mn.length-1]==="=",mo=(1<<io)-1;let $o="",Ao=0,Lo=0;for(let Wo=0;Wo<Fn.length;++Wo)for(Lo=Lo<<8|Fn[Wo],Ao+=8;Ao>io;)Ao-=io,$o+=Mn[mo&Lo>>Ao];if(Ao&&($o+=Mn[mo&Lo<<io-Ao]),fo)for(;$o.length*io&7;)$o+="=";return $o},rfc4648$5=({name:Fn,prefix:Mn,bitsPerChar:io,alphabet:fo})=>from$d({prefix:Mn,name:Fn,encode(mo){return encode$h(mo,fo,io)},decode(mo){return decode$q(mo,fo,io,Fn)}}),base32$4=rfc4648$5({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$5({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$5({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$5({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$5({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$5({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$5({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$5({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$5({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const base58btc$4=baseX$5({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$5({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var encode_1$5=encode$g,MSB$6=128,REST$6=127,MSBALL$6=~REST$6,INT$6=Math.pow(2,31);function encode$g(Fn,Mn,io){Mn=Mn||[],io=io||0;for(var fo=io;Fn>=INT$6;)Mn[io++]=Fn&255|MSB$6,Fn/=128;for(;Fn&MSBALL$6;)Mn[io++]=Fn&255|MSB$6,Fn>>>=7;return Mn[io]=Fn|0,encode$g.bytes=io-fo+1,Mn}var decode$p=read$6,MSB$1$6=128,REST$1$6=127;function read$6(Fn,fo){var io=0,fo=fo||0,mo=0,$o=fo,Ao,Lo=Fn.length;do{if($o>=Lo)throw read$6.bytes=0,new RangeError("Could not decode varint");Ao=Fn[$o++],io+=mo<28?(Ao&REST$1$6)<<mo:(Ao&REST$1$6)*Math.pow(2,mo),mo+=7}while(Ao>=MSB$1$6);return read$6.bytes=$o-fo,io}var N1$5=Math.pow(2,7),N2$5=Math.pow(2,14),N3$5=Math.pow(2,21),N4$5=Math.pow(2,28),N5$5=Math.pow(2,35),N6$5=Math.pow(2,42),N7$5=Math.pow(2,49),N8$5=Math.pow(2,56),N9$5=Math.pow(2,63),length$5=function(Fn){return Fn<N1$5?1:Fn<N2$5?2:Fn<N3$5?3:Fn<N4$5?4:Fn<N5$5?5:Fn<N6$5?6:Fn<N7$5?7:Fn<N8$5?8:Fn<N9$5?9:10},varint$5={encode:encode_1$5,decode:decode$p,encodingLength:length$5},_brrp_varint$5=varint$5;const decode$o=(Fn,Mn=0)=>[_brrp_varint$5.decode(Fn,Mn),_brrp_varint$5.decode.bytes],encodeTo$5=(Fn,Mn,io=0)=>(_brrp_varint$5.encode(Fn,Mn,io),Mn),encodingLength$5=Fn=>_brrp_varint$5.encodingLength(Fn),create$h=(Fn,Mn)=>{const io=Mn.byteLength,fo=encodingLength$5(Fn),mo=fo+encodingLength$5(io),$o=new Uint8Array(mo+io);return encodeTo$5(Fn,$o,0),encodeTo$5(io,$o,fo),$o.set(Mn,mo),new Digest$5(Fn,io,Mn,$o)},decode$n=Fn=>{const Mn=coerce$5(Fn),[io,fo]=decode$o(Mn),[mo,$o]=decode$o(Mn.subarray(fo)),Ao=Mn.subarray(fo+$o);if(Ao.byteLength!==mo)throw new Error("Incorrect length");return new Digest$5(io,mo,Ao,Mn)},equals$9=(Fn,Mn)=>{if(Fn===Mn)return!0;{const io=Mn;return Fn.code===io.code&&Fn.size===io.size&&io.bytes instanceof Uint8Array&&equals$a(Fn.bytes,io.bytes)}};let Digest$5=class{constructor(Mn,io,fo,mo){this.code=Mn,this.size=io,this.digest=fo,this.bytes=mo}};const format$4=(Fn,Mn)=>{const{bytes:io,version:fo}=Fn;switch(fo){case 0:return toStringV0$4(io,baseCache$4(Fn),Mn||base58btc$4.encoder);default:return toStringV1$4(io,baseCache$4(Fn),Mn||base32$4.encoder)}},cache$5=new WeakMap,baseCache$4=Fn=>{const Mn=cache$5.get(Fn);if(Mn==null){const io=new Map;return cache$5.set(Fn,io),io}return Mn};let CID$4=class pm{constructor(Mn,io,fo,mo){this.code=io,this.version=Mn,this.multihash=fo,this.bytes=mo,this["/"]=mo}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:Mn,multihash:io}=this;if(Mn!==DAG_PB_CODE$5)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(io.code!==SHA_256_CODE$4)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return pm.createV0(io)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:Mn,digest:io}=this.multihash,fo=create$h(Mn,io);return pm.createV1(this.code,fo)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(Mn){return pm.equals(this,Mn)}static equals(Mn,io){const fo=io;return fo&&Mn.code===fo.code&&Mn.version===fo.version&&equals$9(Mn.multihash,fo.multihash)}toString(Mn){return format$4(this,Mn)}toJSON(){return{"/":format$4(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(Mn){if(Mn==null)return null;const io=Mn;if(io instanceof pm)return io;if(io["/"]!=null&&io["/"]===io.bytes||io.asCID===io){const{version:fo,code:mo,multihash:$o,bytes:Ao}=io;return new pm(fo,mo,$o,Ao||encodeCID$4(fo,mo,$o.bytes))}else if(io[cidSymbol$4]===!0){const{version:fo,multihash:mo,code:$o}=io,Ao=decode$n(mo);return pm.create(fo,$o,Ao)}else return null}static create(Mn,io,fo){if(typeof io!="number")throw new Error("String codecs are no longer supported");if(!(fo.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(Mn){case 0:{if(io!==DAG_PB_CODE$5)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$5}) block encoding`);return new pm(Mn,io,fo,fo.bytes)}case 1:{const mo=encodeCID$4(Mn,io,fo.bytes);return new pm(Mn,io,fo,mo)}default:throw new Error("Invalid version")}}static createV0(Mn){return pm.create(0,DAG_PB_CODE$5,Mn)}static createV1(Mn,io){return pm.create(1,Mn,io)}static decode(Mn){const[io,fo]=pm.decodeFirst(Mn);if(fo.length)throw new Error("Incorrect length");return io}static decodeFirst(Mn){const io=pm.inspectBytes(Mn),fo=io.size-io.multihashSize,mo=coerce$5(Mn.subarray(fo,fo+io.multihashSize));if(mo.byteLength!==io.multihashSize)throw new Error("Incorrect length");const $o=mo.subarray(io.multihashSize-io.digestSize),Ao=new Digest$5(io.multihashCode,io.digestSize,$o,mo);return[io.version===0?pm.createV0(Ao):pm.createV1(io.codec,Ao),Mn.subarray(io.size)]}static inspectBytes(Mn){let io=0;const fo=()=>{const[Vo,Go]=decode$o(Mn.subarray(io));return io+=Go,Vo};let mo=fo(),$o=DAG_PB_CODE$5;if(mo===18?(mo=0,io=0):$o=fo(),mo!==0&&mo!==1)throw new RangeError(`Invalid CID version ${mo}`);const Ao=io,Lo=fo(),Wo=fo(),jo=io+Wo,zo=jo-Ao;return{version:mo,codec:$o,multihashCode:Lo,digestSize:Wo,multihashSize:zo,size:jo}}static parse(Mn,io){const[fo,mo]=parseCIDtoBytes$4(Mn,io),$o=pm.decode(mo);if($o.version===0&&Mn[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$4($o).set(fo,Mn),$o}};const parseCIDtoBytes$4=(Fn,Mn)=>{switch(Fn[0]){case"Q":{const io=Mn||base58btc$4;return[base58btc$4.prefix,io.decode(`${base58btc$4.prefix}${Fn}`)]}case base58btc$4.prefix:{const io=Mn||base58btc$4;return[base58btc$4.prefix,io.decode(Fn)]}case base32$4.prefix:{const io=Mn||base32$4;return[base32$4.prefix,io.decode(Fn)]}default:{if(Mn==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[Fn[0],Mn.decode(Fn)]}}},toStringV0$4=(Fn,Mn,io)=>{const{prefix:fo}=io;if(fo!==base58btc$4.prefix)throw Error(`Cannot string encode V0 in ${io.name} encoding`);const mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn).slice(1);return Mn.set(fo,$o),$o}else return mo},toStringV1$4=(Fn,Mn,io)=>{const{prefix:fo}=io,mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn);return Mn.set(fo,$o),$o}else return mo},DAG_PB_CODE$5=112,SHA_256_CODE$4=18,encodeCID$4=(Fn,Mn,io)=>{const fo=encodingLength$5(Fn),mo=fo+encodingLength$5(Mn),$o=new Uint8Array(mo+io.byteLength);return encodeTo$5(Fn,$o,0),encodeTo$5(Mn,$o,fo),$o.set(io,mo),$o},cidSymbol$4=Symbol.for("@ipld/js-cid/CID"),create$g=(Fn,Mn)=>CID$4.create(1,Fn,Mn),name$2="raw",code$3=85,encode$f=Fn=>coerce$5(Fn),decode$m=Fn=>coerce$5(Fn),raw=Object.freeze(Object.defineProperty({__proto__:null,code:code$3,decode:decode$m,encode:encode$f,name:name$2},Symbol.toStringTag,{value:"Module"})),from$c=({name:Fn,code:Mn,encode:io})=>new Hasher$3(Fn,Mn,io);let Hasher$3=class{constructor(Mn,io,fo){this.name=Mn,this.code=io,this.encode=fo}digest(Mn){if(Mn instanceof Uint8Array){const io=this.encode(Mn);return io instanceof Uint8Array?create$h(this.code,io):io.then(fo=>create$h(this.code,fo))}else throw Error("Unknown type, must be binary type")}};const sha$2=Fn=>async Mn=>new Uint8Array(await crypto.subtle.digest(Fn,Mn)),sha256$2=from$c({name:"sha2-256",code:18,encode:sha$2("SHA-256")});var retry$2={};function RetryOperation(Fn,Mn){typeof Mn=="boolean"&&(Mn={forever:Mn}),this._originalTimeouts=JSON.parse(JSON.stringify(Fn)),this._timeouts=Fn,this._options=Mn||{},this._maxRetryTime=Mn&&Mn.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function(Fn){if(this._timeout&&clearTimeout(this._timeout),!Fn)return!1;var Mn=new Date().getTime();if(Fn&&Mn-this._operationStart>=this._maxRetryTime)return this._errors.push(Fn),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(Fn);var io=this._timeouts.shift();if(io===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),io=this._cachedTimeouts.slice(-1);else return!1;var fo=this;return this._timer=setTimeout(function(){fo._attempts++,fo._operationTimeoutCb&&(fo._timeout=setTimeout(function(){fo._operationTimeoutCb(fo._attempts)},fo._operationTimeout),fo._options.unref&&fo._timeout.unref()),fo._fn(fo._attempts)},io),this._options.unref&&this._timer.unref(),!0};RetryOperation.prototype.attempt=function(Fn,Mn){this._fn=Fn,Mn&&(Mn.timeout&&(this._operationTimeout=Mn.timeout),Mn.cb&&(this._operationTimeoutCb=Mn.cb));var io=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){io._operationTimeoutCb()},io._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function(Fn){console.log("Using RetryOperation.try() is deprecated"),this.attempt(Fn)};RetryOperation.prototype.start=function(Fn){console.log("Using RetryOperation.start() is deprecated"),this.attempt(Fn)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var Fn={},Mn=null,io=0,fo=0;fo<this._errors.length;fo++){var mo=this._errors[fo],$o=mo.message,Ao=(Fn[$o]||0)+1;Fn[$o]=Ao,Ao>=io&&(Mn=mo,io=Ao)}return Mn};(function(Fn){var Mn=retry_operation;Fn.operation=function(io){var fo=Fn.timeouts(io);return new Mn(fo,{forever:io&&(io.forever||io.retries===1/0),unref:io&&io.unref,maxRetryTime:io&&io.maxRetryTime})},Fn.timeouts=function(io){if(io instanceof Array)return[].concat(io);var fo={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var mo in io)fo[mo]=io[mo];if(fo.minTimeout>fo.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var $o=[],Ao=0;Ao<fo.retries;Ao++)$o.push(this.createTimeout(Ao,fo));return io&&io.forever&&!$o.length&&$o.push(this.createTimeout(Ao,fo)),$o.sort(function(Lo,Wo){return Lo-Wo}),$o},Fn.createTimeout=function(io,fo){var mo=fo.randomize?Math.random()+1:1,$o=Math.round(mo*Math.max(fo.minTimeout,1)*Math.pow(fo.factor,io));return $o=Math.min($o,fo.maxTimeout),$o},Fn.wrap=function(io,fo,mo){if(fo instanceof Array&&(mo=fo,fo=null),!mo){mo=[];for(var $o in io)typeof io[$o]=="function"&&mo.push($o)}for(var Ao=0;Ao<mo.length;Ao++){var Lo=mo[Ao],Wo=io[Lo];io[Lo]=(function(zo){var Vo=Fn.operation(fo),Go=Array.prototype.slice.call(arguments,1),Jo=Go.pop();Go.push(function(Qo){Vo.retry(Qo)||(Qo&&(arguments[0]=Vo.mainError()),Jo.apply(this,arguments))}),Vo.attempt(function(){zo.apply(io,Go)})}).bind(io,Wo),io[Lo].options=fo}}})(retry$2);var retry=retry$2;const retry$1=getDefaultExportFromCjs(retry),networkErrorMsgs=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed"]);class AbortError extends Error{constructor(Mn){super(),Mn instanceof Error?(this.originalError=Mn,{message:Mn}=Mn):(this.originalError=new Error(Mn),this.originalError.stack=this.stack),this.name="AbortError",this.message=Mn}}const decorateErrorWithCounts=(Fn,Mn,io)=>{const fo=io.retries-(Mn-1);return Fn.attemptNumber=Mn,Fn.retriesLeft=fo,Fn},isNetworkError=Fn=>networkErrorMsgs.has(Fn),getDOMException=Fn=>globalThis.DOMException===void 0?new Error(Fn):new DOMException(Fn);async function pRetry(Fn,Mn){return new Promise((io,fo)=>{Mn={onFailedAttempt(){},retries:10,...Mn};const mo=retry$1.operation(Mn);mo.attempt(async $o=>{try{io(await Fn($o))}catch(Ao){if(!(Ao instanceof Error)){fo(new TypeError(`Non-error was thrown: "${Ao}". You should only throw errors.`));return}if(Ao instanceof AbortError)mo.stop(),fo(Ao.originalError);else if(Ao instanceof TypeError&&!isNetworkError(Ao.message))mo.stop(),fo(Ao);else{decorateErrorWithCounts(Ao,$o,Mn);try{await Mn.onFailedAttempt(Ao)}catch(Lo){fo(Lo);return}mo.retry(Ao)||fo(mo.mainError())}}}),Mn.signal&&!Mn.signal.aborted&&Mn.signal.addEventListener("abort",()=>{mo.stop();const $o=Mn.signal.reason===void 0?getDOMException("The operation was aborted."):Mn.signal.reason;fo($o instanceof Error?$o:getDOMException($o))},{once:!0})})}const serviceURL=new URL("https://up.web3.storage"),servicePrincipal=parse$2("did:web:web3.storage"),receiptsEndpoint="https://up.web3.storage/receipt/",connection=connect({id:servicePrincipal,codec:outbound,channel:open$2({url:serviceURL,method:"POST"})}),REQUEST_RETRIES=3;function createUploadProgressHandler$1(Fn,Mn){function io({total:fo,loaded:mo,lengthComputable:$o}){return Mn({total:fo,loaded:mo,lengthComputable:$o,url:Fn})}return io}async function add$3({issuer:Fn,with:Mn,proofs:io,audience:fo},mo,$o={}){const Ao=mo instanceof Uint8Array?mo:new Uint8Array(await mo.arrayBuffer()),Lo=await link$2(Ao),Wo=$o.connection??connection,jo=await pRetry(async()=>await add$a.invoke({issuer:Fn,audience:fo??servicePrincipal,with:SpaceDID$1.from(Mn),nb:{link:Lo,size:Ao.length},proofs:io,nonce:$o.nonce}).execute(Wo),{onFailedAttempt:console.warn,retries:$o.retries??REQUEST_RETRIES});if(!jo.out.ok)throw new Error(`failed ${add$a.can} invocation`,{cause:jo.out.error});if(jo.out.ok.status==="done")return Lo;const zo=jo.out.ok,Vo=$o.fetchWithUploadProgress||$o.fetch||globalThis.fetch.bind(globalThis);let Go=!1;const Jo=await pRetry(async()=>{var Qo;try{const os=await Vo(zo.url,{method:"PUT",body:mo,headers:zo.headers,signal:$o.signal,onUploadProgress:Cl=>{Go=!0,$o.onUploadProgress&&createUploadProgressHandler$1(zo.url,$o.onUploadProgress)(Cl)},duplex:"half"});if(os.status>=400&&os.status<500)throw new AbortError(`upload failed: ${os.status}`);return os}catch(os){throw((Qo=$o.signal)==null?void 0:Qo.aborted)===!0?new AbortError("upload aborted"):os}},{retries:$o.retries??REQUEST_RETRIES});if(!Go&&$o.onUploadProgress){const Qo=new Blob([mo]);$o.onUploadProgress({total:Qo.size,loaded:Qo.size,lengthComputable:!1})}if(!Jo.ok)throw new Error(`upload failed: ${Jo.status}`);return Lo}async function get$a({issuer:Fn,with:Mn,proofs:io,audience:fo},mo,$o={}){const Ao=$o.connection??connection,Lo=await pRetry(async()=>await get$h.invoke({issuer:Fn,audience:fo??servicePrincipal,with:SpaceDID$1.from(Mn),nb:{link:mo},proofs:io,nonce:$o.nonce}).execute(Ao),{onFailedAttempt:console.warn,retries:$o.retries??REQUEST_RETRIES});if(!Lo.out.ok)throw new Error(`failed ${get$h.can} invocation`,{cause:Lo.out.error});return Lo.out.ok}async function list$4({issuer:Fn,with:Mn,proofs:io,audience:fo},mo={}){const $o=mo.connection??connection,Ao=await list$9.invoke({issuer:Fn,audience:fo??servicePrincipal,with:SpaceDID$1.from(Mn),proofs:io,nb:{cursor:mo.cursor,size:mo.size,pre:mo.pre},nonce:mo.nonce}).execute($o);if(!Ao.out.ok)throw new Error(`failed ${list$9.can} invocation`,{cause:Ao.out.error});return Ao.out.ok}async function remove$4({issuer:Fn,with:Mn,proofs:io,audience:fo},mo,$o={}){const Ao=$o.connection??connection,Lo=await remove$8.invoke({issuer:Fn,audience:fo??servicePrincipal,with:SpaceDID$1.from(Mn),nb:{link:mo},proofs:io,nonce:$o.nonce}).execute(Ao);if(!Lo.out.ok)throw new Error(`failed ${remove$8.can} invocation`,{cause:Lo.out.error});return Lo.out}class ReceiptNotFound extends Error{constructor(Mn){super(),this.taskCid=Mn}get reason(){return`receipt not found for task ${this.taskCid} in the indexed workflow`}get name(){return"ReceiptNotFound"}}class ReceiptMissing extends Error{constructor(Mn){super(),this.taskCid=Mn}get reason(){return`receipt missing for task ${this.taskCid}`}get name(){return"ReceiptMissing"}}async function poll(Fn,Mn={}){return await pRetry(async()=>{const io=await get$9(Fn,Mn);if(io.error)throw io.error.name==="ReceiptNotFound"?io.error:new AbortError(new Error("failed to fetch blob/accept receipt",{cause:io.error}));return io.ok},{onFailedAttempt:console.warn,retries:Mn.retries??REQUEST_RETRIES})}async function get$9(Fn,Mn={}){const io=new URL(Fn.toString(),Mn.receiptsEndpoint??receiptsEndpoint),mo=await(Mn.fetch??globalThis.fetch.bind(globalThis))(io);if(mo.status===404)return{error:new ReceiptNotFound(Fn)};const $o=new Uint8Array(await mo.arrayBuffer()),Lo=(await decode$K({body:$o,headers:{}})).receipts.get(Fn.toString());return Lo?{ok:Lo}:{error:new ReceiptMissing(Fn)}}function createUploadProgressHandler(Fn,Mn){return({total:fo,loaded:mo,lengthComputable:$o})=>Mn({total:fo,loaded:mo,lengthComputable:$o,url:Fn})}function getConcludeReceipt(Fn){const Mn=new Map;for(const io of Fn.iterateIPLDBlocks())Mn.set(`${io.cid}`,io);return view$1({root:Fn.capabilities[0].nb.receipt,blocks:Mn})}function parseBlobAddReceiptNext(Fn){const Mn=Fn.fx.fork,io=Mn.find(zo=>zo.capabilities[0].can===allocate.can),fo=Mn.filter(zo=>zo.capabilities[0].can===conclude$1.can),mo=Mn.find(zo=>zo.capabilities[0].can===put.can),$o=Mn.find(zo=>zo.capabilities[0].can===accept.can);if(!io||!fo.length||!mo||!$o)throw new Error("mandatory effects not received");const Ao=fo.map(zo=>getConcludeReceipt(zo)),Lo=Ao.find(zo=>zo.ran.link().equals(io.cid)),Wo=Ao.find(zo=>zo.ran.link().equals(mo.cid)),jo=Ao.find(zo=>zo.ran.link().equals($o.cid));if(!Lo)throw new Error("mandatory effects not received");return{allocate:{task:io,receipt:Lo},put:{task:mo,receipt:Wo},accept:{task:$o,receipt:jo}}}function createConcludeInvocation(Fn,Mn,io){const fo=[],mo=[];for(const Ao of io.iterateIPLDBlocks())fo.push(Ao),mo.push(Ao.cid);const $o=conclude$1.invoke({issuer:Fn,audience:Mn,with:Fn.toDIDKey(),nb:{receipt:io.link()},expiration:1/0,facts:[{...mo}]});for(const Ao of fo)$o.attach(Ao);return $o}async function add$2({issuer:Fn,with:Mn,proofs:io,audience:fo},mo,$o,Ao={}){var ds;const Lo=$o instanceof Uint8Array?$o:new Uint8Array(await $o.arrayBuffer()),Wo=Lo.length,jo=Ao.connection??connection,zo=await pRetry(async()=>await add$4.invoke({issuer:Fn,audience:fo??servicePrincipal,with:SpaceDID$1.from(Mn),nb:input$8(mo,Wo),proofs:io,nonce:Ao.nonce}).execute(jo),{onFailedAttempt:console.warn,retries:Ao.retries??REQUEST_RETRIES});if(!zo.out.ok)throw new Error(`failed ${add$4.can} invocation`,{cause:zo.out.error});const Vo=parseBlobAddReceiptNext(zo),{receipt:Go}=Vo.allocate;if(!Go.out.ok)throw new Error(`failed ${add$4.can} invocation`,{cause:Go.out.error});const{address:Jo}=Go.out.ok;if(Jo){const _c=Ao.fetchWithUploadProgress||Ao.fetch||globalThis.fetch.bind(globalThis);let $l=!1;const{status:Al}=await pRetry(async()=>{var Il;try{const us=await _c(Jo.url,{method:"PUT",mode:"cors",body:Lo,headers:Jo.headers,signal:Ao.signal,onUploadProgress:ps=>{$l=!0,Ao.onUploadProgress&&createUploadProgressHandler(Jo.url,Ao.onUploadProgress)(ps)},duplex:"half"});if(us.status>=400&&us.status<500)throw new AbortError(`upload failed: ${us.status}`);return us}catch(us){throw((Il=Ao.signal)==null?void 0:Il.aborted)===!0?new AbortError("upload aborted"):us}},{retries:Ao.retries??REQUEST_RETRIES});if(Al!==200)throw new Error(`upload failed: ${Al}`);if(!$l&&Ao.onUploadProgress){const Il=new Blob([Lo]);Ao.onUploadProgress({total:Il.size,loaded:Il.size,lengthComputable:!1})}}let{receipt:Qo}=Vo.put;if(!(Qo!=null&&Qo.out.ok)){const _c=from$h(Vo.put.task.facts[0].keys);if(Qo=await issue$1({issuer:_c,ran:Vo.put.task.cid,result:{ok:{}}}),!(await createConcludeInvocation(Fn,fo??servicePrincipal,Qo).execute(jo)).out.ok)throw new Error(`failed ${add$4.can} invocation`,{cause:zo.out.error})}let{receipt:os}=Vo.accept;os!=null&&os.out.ok||(os=await poll(Vo.accept.task.link(),Ao));const Cl=new Map([...os.iterateIPLDBlocks()].map(_c=>[`${_c.cid}`,_c]));return{site:view$3({root:(ds=os.out.ok)==null?void 0:ds.site,blocks:Cl})}}const ability$2=add$4.can,input$8=(Fn,Mn)=>({blob:{digest:Fn.bytes,size:Mn}});async function get$8({issuer:Fn,with:Mn,proofs:io,audience:fo},mo,$o={}){const Ao=$o.connection??connection,Lo=await get$b.invoke({issuer:Fn,audience:fo??servicePrincipal,with:SpaceDID$1.from(Mn),nb:input$7(mo),proofs:io,nonce:$o.nonce}).execute(Ao);if(!Lo.out.ok)throw new Error(`failed ${get$b.can} invocation`,{cause:Lo.out.error});return Lo.out}get$b.can;const input$7=Fn=>({digest:Fn.bytes});async function list$3({issuer:Fn,with:Mn,proofs:io,audience:fo},mo={}){const $o=mo.connection??connection,Ao=await list$5.invoke({issuer:Fn,audience:fo??servicePrincipal,with:SpaceDID$1.from(Mn),proofs:io,nb:input$6(mo.cursor,mo.size),nonce:mo.nonce}).execute($o);if(!Ao.out.ok)throw new Error(`failed ${list$5.can} invocation`,{cause:Ao.out.error});return Ao.out.ok}list$5.can;const input$6=(Fn,Mn)=>({cursor:Fn,size:Mn});async function remove$3({issuer:Fn,with:Mn,proofs:io,audience:fo},mo,$o={}){const Ao=$o.connection??connection,Lo=await remove$5.invoke({issuer:Fn,audience:fo??servicePrincipal,with:SpaceDID$1.from(Mn),nb:input$5(mo),proofs:io,nonce:$o.nonce}).execute(Ao);if(!Lo.out.ok)throw new Error(`failed ${remove$5.can} invocation`,{cause:Lo.out.error});return Lo.out}remove$5.can;const input$5=Fn=>({digest:Fn.bytes});async function add$1({issuer:Fn,with:Mn,proofs:io,audience:fo},mo,$o={}){const Ao=$o.connection??connection,Lo=await pRetry(async()=>await add$5.invoke({issuer:Fn,audience:fo??servicePrincipal,with:SpaceDID$1.from(Mn),nb:input$4(mo),proofs:io}).execute(Ao),{onFailedAttempt:console.warn,retries:$o.retries??REQUEST_RETRIES});if(!Lo.out.ok)throw new Error(`failed ${add$5.can} invocation`,{cause:Lo.out.error});return Lo.out.ok}const ability$1=add$5.can,input$4=Fn=>({index:Fn});async function add({issuer:Fn,with:Mn,proofs:io,audience:fo},mo,$o,Ao={}){const Lo=Ao.connection??connection,Wo=await pRetry(async()=>await add$9.invoke({issuer:Fn,audience:fo??servicePrincipal,with:SpaceDID$1.from(Mn),nb:input$3(mo,$o),proofs:io,nonce:Ao.nonce}).execute(Lo),{onFailedAttempt:console.warn,retries:Ao.retries??REQUEST_RETRIES});if(!Wo.out.ok)throw new Error(`failed ${add$9.can} invocation`,{cause:Wo.out.error});return Wo.out.ok}const ability=add$9.can,input$3=(Fn,Mn)=>({root:Fn,shards:Mn});async function get$7({issuer:Fn,with:Mn,proofs:io,audience:fo},mo,$o={}){const Ao=$o.connection??connection,Lo=await pRetry(async()=>await get$g.invoke({issuer:Fn,audience:fo??servicePrincipal,with:SpaceDID$1.from(Mn),nb:input$2(mo),proofs:io,nonce:$o.nonce}).execute(Ao),{onFailedAttempt:console.warn,retries:$o.retries??REQUEST_RETRIES});if(!Lo.out.ok)throw new Error(`failed ${get$g.can} invocation`,{cause:Lo.out.error});return Lo.out.ok}get$g.can;const input$2=Fn=>({root:Fn});async function list$2({issuer:Fn,with:Mn,proofs:io,audience:fo},mo={}){const $o=mo.connection??connection,Ao=await list$8.invoke({issuer:Fn,audience:fo??servicePrincipal,with:SpaceDID$1.from(Mn),proofs:io,nb:input$1(mo.cursor,mo.size,mo.pre),nonce:mo.nonce}).execute($o);if(!Ao.out.ok)throw new Error(`failed ${list$8.can} invocation`,{cause:Ao.out.error});return Ao.out.ok}list$8.can;const input$1=(Fn,Mn,io)=>({cursor:Fn,size:Mn,pre:io});async function remove$2({issuer:Fn,with:Mn,proofs:io,audience:fo},mo,$o={}){const Ao=$o.connection??connection,Lo=await remove$7.invoke({issuer:Fn,audience:fo??servicePrincipal,with:SpaceDID$1.from(Mn),nb:input(mo),proofs:io,nonce:$o.nonce}).execute(Ao);if(!Lo.out.ok)throw new Error(`failed ${remove$7.can} invocation`,{cause:Lo.out.error});return Lo.out.ok}remove$7.can;const input=Fn=>({root:Fn});function equals$8(Fn,Mn){if(Fn===Mn)return!0;if(Fn.byteLength!==Mn.byteLength)return!1;for(let io=0;io<Fn.byteLength;io++)if(Fn[io]!==Mn[io])return!1;return!0}function coerce$4(Fn){if(Fn instanceof Uint8Array&&Fn.constructor.name==="Uint8Array")return Fn;if(Fn instanceof ArrayBuffer)return new Uint8Array(Fn);if(ArrayBuffer.isView(Fn))return new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength);throw new Error("Unknown type, must be binary type")}function base$4(Fn,Mn){if(Fn.length>=255)throw new TypeError("Alphabet too long");for(var io=new Uint8Array(256),fo=0;fo<io.length;fo++)io[fo]=255;for(var mo=0;mo<Fn.length;mo++){var $o=Fn.charAt(mo),Ao=$o.charCodeAt(0);if(io[Ao]!==255)throw new TypeError($o+" is ambiguous");io[Ao]=mo}var Lo=Fn.length,Wo=Fn.charAt(0),jo=Math.log(Lo)/Math.log(256),zo=Math.log(256)/Math.log(Lo);function Vo(Qo){if(Qo instanceof Uint8Array||(ArrayBuffer.isView(Qo)?Qo=new Uint8Array(Qo.buffer,Qo.byteOffset,Qo.byteLength):Array.isArray(Qo)&&(Qo=Uint8Array.from(Qo))),!(Qo instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Qo.length===0)return"";for(var os=0,Cl=0,xl=0,ds=Qo.length;xl!==ds&&Qo[xl]===0;)xl++,os++;for(var _c=(ds-xl)*zo+1>>>0,$l=new Uint8Array(_c);xl!==ds;){for(var Al=Qo[xl],Il=0,us=_c-1;(Al!==0||Il<Cl)&&us!==-1;us--,Il++)Al+=256*$l[us]>>>0,$l[us]=Al%Lo>>>0,Al=Al/Lo>>>0;if(Al!==0)throw new Error("Non-zero carry");Cl=Il,xl++}for(var ps=_c-Cl;ps!==_c&&$l[ps]===0;)ps++;for(var Rl=Wo.repeat(os);ps<_c;++ps)Rl+=Fn.charAt($l[ps]);return Rl}function Go(Qo){if(typeof Qo!="string")throw new TypeError("Expected String");if(Qo.length===0)return new Uint8Array;var os=0;if(Qo[os]!==" "){for(var Cl=0,xl=0;Qo[os]===Wo;)Cl++,os++;for(var ds=(Qo.length-os)*jo+1>>>0,_c=new Uint8Array(ds);Qo[os];){var $l=io[Qo.charCodeAt(os)];if($l===255)return;for(var Al=0,Il=ds-1;($l!==0||Al<xl)&&Il!==-1;Il--,Al++)$l+=Lo*_c[Il]>>>0,_c[Il]=$l%256>>>0,$l=$l/256>>>0;if($l!==0)throw new Error("Non-zero carry");xl=Al,os++}if(Qo[os]!==" "){for(var us=ds-xl;us!==ds&&_c[us]===0;)us++;for(var ps=new Uint8Array(Cl+(ds-us)),Rl=Cl;us!==ds;)ps[Rl++]=_c[us++];return ps}}}function Jo(Qo){var os=Go(Qo);if(os)return os;throw new Error(`Non-${Mn} character`)}return{encode:Vo,decodeUnsafe:Go,decode:Jo}}var src$4=base$4,_brrp__multiformats_scope_baseX$4=src$4;let Encoder$4=class{constructor(Mn,io,fo){tp(this,"name");tp(this,"prefix");tp(this,"baseEncode");this.name=Mn,this.prefix=io,this.baseEncode=fo}encode(Mn){if(Mn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Mn)}`;throw Error("Unknown type, must be binary type")}},Decoder$4=class{constructor(Mn,io,fo){tp(this,"name");tp(this,"prefix");tp(this,"baseDecode");tp(this,"prefixCodePoint");this.name=Mn,this.prefix=io;const mo=io.codePointAt(0);if(mo===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=mo,this.baseDecode=fo}decode(Mn){if(typeof Mn=="string"){if(Mn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Mn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Mn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(Mn){return or$6(this,Mn)}},ComposedDecoder$4=class{constructor(Mn){tp(this,"decoders");this.decoders=Mn}or(Mn){return or$6(this,Mn)}decode(Mn){const io=Mn[0],fo=this.decoders[io];if(fo!=null)return fo.decode(Mn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Mn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function or$6(Fn,Mn){return new ComposedDecoder$4({...Fn.decoders??{[Fn.prefix]:Fn},...Mn.decoders??{[Mn.prefix]:Mn}})}let Codec$4=class{constructor(Mn,io,fo,mo){tp(this,"name");tp(this,"prefix");tp(this,"baseEncode");tp(this,"baseDecode");tp(this,"encoder");tp(this,"decoder");this.name=Mn,this.prefix=io,this.baseEncode=fo,this.baseDecode=mo,this.encoder=new Encoder$4(Mn,io,fo),this.decoder=new Decoder$4(Mn,io,mo)}encode(Mn){return this.encoder.encode(Mn)}decode(Mn){return this.decoder.decode(Mn)}};function from$b({name:Fn,prefix:Mn,encode:io,decode:fo}){return new Codec$4(Fn,Mn,io,fo)}function baseX$4({name:Fn,prefix:Mn,alphabet:io}){const{encode:fo,decode:mo}=_brrp__multiformats_scope_baseX$4(io,Fn);return from$b({prefix:Mn,name:Fn,encode:fo,decode:$o=>coerce$4(mo($o))})}function decode$l(Fn,Mn,io,fo){const mo={};for(let zo=0;zo<Mn.length;++zo)mo[Mn[zo]]=zo;let $o=Fn.length;for(;Fn[$o-1]==="=";)--$o;const Ao=new Uint8Array($o*io/8|0);let Lo=0,Wo=0,jo=0;for(let zo=0;zo<$o;++zo){const Vo=mo[Fn[zo]];if(Vo===void 0)throw new SyntaxError(`Non-${fo} character`);Wo=Wo<<io|Vo,Lo+=io,Lo>=8&&(Lo-=8,Ao[jo++]=255&Wo>>Lo)}if(Lo>=io||255&Wo<<8-Lo)throw new SyntaxError("Unexpected end of data");return Ao}function encode$e(Fn,Mn,io){const fo=Mn[Mn.length-1]==="=",mo=(1<<io)-1;let $o="",Ao=0,Lo=0;for(let Wo=0;Wo<Fn.length;++Wo)for(Lo=Lo<<8|Fn[Wo],Ao+=8;Ao>io;)Ao-=io,$o+=Mn[mo&Lo>>Ao];if(Ao!==0&&($o+=Mn[mo&Lo<<io-Ao]),fo)for(;$o.length*io&7;)$o+="=";return $o}function rfc4648$4({name:Fn,prefix:Mn,bitsPerChar:io,alphabet:fo}){return from$b({prefix:Mn,name:Fn,encode(mo){return encode$e(mo,fo,io)},decode(mo){return decode$l(mo,fo,io,Fn)}})}const base32$3=rfc4648$4({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$4({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$4({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$4({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$4({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$4({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$4({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$4({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$4({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const base36$2=baseX$4({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});baseX$4({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});const base58btc$3=baseX$4({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$4({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var encode_1$4=encode$d,MSB$5=128,REST$5=127,MSBALL$5=~REST$5,INT$5=Math.pow(2,31);function encode$d(Fn,Mn,io){Mn=Mn||[],io=io||0;for(var fo=io;Fn>=INT$5;)Mn[io++]=Fn&255|MSB$5,Fn/=128;for(;Fn&MSBALL$5;)Mn[io++]=Fn&255|MSB$5,Fn>>>=7;return Mn[io]=Fn|0,encode$d.bytes=io-fo+1,Mn}var decode$k=read$5,MSB$1$5=128,REST$1$5=127;function read$5(Fn,fo){var io=0,fo=fo||0,mo=0,$o=fo,Ao,Lo=Fn.length;do{if($o>=Lo)throw read$5.bytes=0,new RangeError("Could not decode varint");Ao=Fn[$o++],io+=mo<28?(Ao&REST$1$5)<<mo:(Ao&REST$1$5)*Math.pow(2,mo),mo+=7}while(Ao>=MSB$1$5);return read$5.bytes=$o-fo,io}var N1$4=Math.pow(2,7),N2$4=Math.pow(2,14),N3$4=Math.pow(2,21),N4$4=Math.pow(2,28),N5$4=Math.pow(2,35),N6$4=Math.pow(2,42),N7$4=Math.pow(2,49),N8$4=Math.pow(2,56),N9$4=Math.pow(2,63),length$4=function(Fn){return Fn<N1$4?1:Fn<N2$4?2:Fn<N3$4?3:Fn<N4$4?4:Fn<N5$4?5:Fn<N6$4?6:Fn<N7$4?7:Fn<N8$4?8:Fn<N9$4?9:10},varint$4={encode:encode_1$4,decode:decode$k,encodingLength:length$4},_brrp_varint$4=varint$4;function decode$j(Fn,Mn=0){return[_brrp_varint$4.decode(Fn,Mn),_brrp_varint$4.decode.bytes]}function encodeTo$4(Fn,Mn,io=0){return _brrp_varint$4.encode(Fn,Mn,io),Mn}function encodingLength$4(Fn){return _brrp_varint$4.encodingLength(Fn)}function create$f(Fn,Mn){const io=Mn.byteLength,fo=encodingLength$4(Fn),mo=fo+encodingLength$4(io),$o=new Uint8Array(mo+io);return encodeTo$4(Fn,$o,0),encodeTo$4(io,$o,fo),$o.set(Mn,mo),new Digest$4(Fn,io,Mn,$o)}function decode$i(Fn){const Mn=coerce$4(Fn),[io,fo]=decode$j(Mn),[mo,$o]=decode$j(Mn.subarray(fo)),Ao=Mn.subarray(fo+$o);if(Ao.byteLength!==mo)throw new Error("Incorrect length");return new Digest$4(io,mo,Ao,Mn)}function equals$7(Fn,Mn){if(Fn===Mn)return!0;{const io=Mn;return Fn.code===io.code&&Fn.size===io.size&&io.bytes instanceof Uint8Array&&equals$8(Fn.bytes,io.bytes)}}let Digest$4=class{constructor(Mn,io,fo,mo){tp(this,"code");tp(this,"size");tp(this,"digest");tp(this,"bytes");this.code=Mn,this.size=io,this.digest=fo,this.bytes=mo}};function format$3(Fn,Mn){const{bytes:io,version:fo}=Fn;switch(fo){case 0:return toStringV0$3(io,baseCache$3(Fn),Mn??base58btc$3.encoder);default:return toStringV1$3(io,baseCache$3(Fn),Mn??base32$3.encoder)}}const cache$4=new WeakMap;function baseCache$3(Fn){const Mn=cache$4.get(Fn);if(Mn==null){const io=new Map;return cache$4.set(Fn,io),io}return Mn}var A6;let CID$3=class gm{constructor(Mn,io,fo,mo){tp(this,"code");tp(this,"version");tp(this,"multihash");tp(this,"bytes");tp(this,"/");tp(this,A6,"CID");this.code=io,this.version=Mn,this.multihash=fo,this.bytes=mo,this["/"]=mo}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:Mn,multihash:io}=this;if(Mn!==DAG_PB_CODE$4)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(io.code!==SHA_256_CODE$3)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return gm.createV0(io)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:Mn,digest:io}=this.multihash,fo=create$f(Mn,io);return gm.createV1(this.code,fo)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(Mn){return gm.equals(this,Mn)}static equals(Mn,io){const fo=io;return fo!=null&&Mn.code===fo.code&&Mn.version===fo.version&&equals$7(Mn.multihash,fo.multihash)}toString(Mn){return format$3(this,Mn)}toJSON(){return{"/":format$3(this)}}link(){return this}[(A6=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(Mn){if(Mn==null)return null;const io=Mn;if(io instanceof gm)return io;if(io["/"]!=null&&io["/"]===io.bytes||io.asCID===io){const{version:fo,code:mo,multihash:$o,bytes:Ao}=io;return new gm(fo,mo,$o,Ao??encodeCID$3(fo,mo,$o.bytes))}else if(io[cidSymbol$3]===!0){const{version:fo,multihash:mo,code:$o}=io,Ao=decode$i(mo);return gm.create(fo,$o,Ao)}else return null}static create(Mn,io,fo){if(typeof io!="number")throw new Error("String codecs are no longer supported");if(!(fo.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(Mn){case 0:{if(io!==DAG_PB_CODE$4)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$4}) block encoding`);return new gm(Mn,io,fo,fo.bytes)}case 1:{const mo=encodeCID$3(Mn,io,fo.bytes);return new gm(Mn,io,fo,mo)}default:throw new Error("Invalid version")}}static createV0(Mn){return gm.create(0,DAG_PB_CODE$4,Mn)}static createV1(Mn,io){return gm.create(1,Mn,io)}static decode(Mn){const[io,fo]=gm.decodeFirst(Mn);if(fo.length!==0)throw new Error("Incorrect length");return io}static decodeFirst(Mn){const io=gm.inspectBytes(Mn),fo=io.size-io.multihashSize,mo=coerce$4(Mn.subarray(fo,fo+io.multihashSize));if(mo.byteLength!==io.multihashSize)throw new Error("Incorrect length");const $o=mo.subarray(io.multihashSize-io.digestSize),Ao=new Digest$4(io.multihashCode,io.digestSize,$o,mo);return[io.version===0?gm.createV0(Ao):gm.createV1(io.codec,Ao),Mn.subarray(io.size)]}static inspectBytes(Mn){let io=0;const fo=()=>{const[Vo,Go]=decode$j(Mn.subarray(io));return io+=Go,Vo};let mo=fo(),$o=DAG_PB_CODE$4;if(mo===18?(mo=0,io=0):$o=fo(),mo!==0&&mo!==1)throw new RangeError(`Invalid CID version ${mo}`);const Ao=io,Lo=fo(),Wo=fo(),jo=io+Wo,zo=jo-Ao;return{version:mo,codec:$o,multihashCode:Lo,digestSize:Wo,multihashSize:zo,size:jo}}static parse(Mn,io){const[fo,mo]=parseCIDtoBytes$3(Mn,io),$o=gm.decode(mo);if($o.version===0&&Mn[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$3($o).set(fo,Mn),$o}};function parseCIDtoBytes$3(Fn,Mn){switch(Fn[0]){case"Q":{const io=Mn??base58btc$3;return[base58btc$3.prefix,io.decode(`${base58btc$3.prefix}${Fn}`)]}case base58btc$3.prefix:{const io=Mn??base58btc$3;return[base58btc$3.prefix,io.decode(Fn)]}case base32$3.prefix:{const io=Mn??base32$3;return[base32$3.prefix,io.decode(Fn)]}case base36$2.prefix:{const io=Mn??base36$2;return[base36$2.prefix,io.decode(Fn)]}default:{if(Mn==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[Fn[0],Mn.decode(Fn)]}}}function toStringV0$3(Fn,Mn,io){const{prefix:fo}=io;if(fo!==base58btc$3.prefix)throw Error(`Cannot string encode V0 in ${io.name} encoding`);const mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn).slice(1);return Mn.set(fo,$o),$o}else return mo}function toStringV1$3(Fn,Mn,io){const{prefix:fo}=io,mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn);return Mn.set(fo,$o),$o}else return mo}const DAG_PB_CODE$4=112,SHA_256_CODE$3=18;function encodeCID$3(Fn,Mn,io){const fo=encodingLength$4(Fn),mo=fo+encodingLength$4(Mn),$o=new Uint8Array(mo+io.byteLength);return encodeTo$4(Fn,$o,0),encodeTo$4(Mn,$o,fo),$o.set(io,mo),$o}const cidSymbol$3=Symbol.for("@ipld/js-cid/CID"),textDecoder=new TextDecoder;function decodeVarint(Fn,Mn){let io=0;for(let fo=0;;fo+=7){if(fo>=64)throw new Error("protobuf: varint overflow");if(Mn>=Fn.length)throw new Error("protobuf: unexpected end of data");const mo=Fn[Mn++];if(io+=fo<28?(mo&127)<<fo:(mo&127)*2**fo,mo<128)break}return[io,Mn]}function decodeBytes(Fn,Mn){let io;[io,Mn]=decodeVarint(Fn,Mn);const fo=Mn+io;if(io<0||fo<0)throw new Error("protobuf: invalid length");if(fo>Fn.length)throw new Error("protobuf: unexpected end of data");return[Fn.subarray(Mn,fo),fo]}function decodeKey(Fn,Mn){let io;return[io,Mn]=decodeVarint(Fn,Mn),[io&7,io>>3,Mn]}function decodeLink(Fn){const Mn={},io=Fn.length;let fo=0;for(;fo<io;){let mo,$o;if([mo,$o,fo]=decodeKey(Fn,fo),$o===1){if(Mn.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(mo!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${mo}) for Hash`);if(Mn.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(Mn.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[Mn.Hash,fo]=decodeBytes(Fn,fo)}else if($o===2){if(Mn.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(mo!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${mo}) for Name`);if(Mn.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let Ao;[Ao,fo]=decodeBytes(Fn,fo),Mn.Name=textDecoder.decode(Ao)}else if($o===3){if(Mn.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(mo!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${mo}) for Tsize`);[Mn.Tsize,fo]=decodeVarint(Fn,fo)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${$o}`)}if(fo>io)throw new Error("protobuf: (PBLink) unexpected end of data");return Mn}function decodeNode(Fn){const Mn=Fn.length;let io=0,fo,mo=!1,$o;for(;io<Mn;){let Lo,Wo;if([Lo,Wo,io]=decodeKey(Fn,io),Lo!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${Lo}`);if(Wo===1){if($o)throw new Error("protobuf: (PBNode) duplicate Data section");[$o,io]=decodeBytes(Fn,io),fo&&(mo=!0)}else if(Wo===2){if(mo)throw new Error("protobuf: (PBNode) duplicate Links section");fo||(fo=[]);let jo;[jo,io]=decodeBytes(Fn,io),fo.push(decodeLink(jo))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${Wo}`)}if(io>Mn)throw new Error("protobuf: (PBNode) unexpected end of data");const Ao={};return $o&&(Ao.Data=$o),Ao.Links=fo||[],Ao}const textEncoder$1=new TextEncoder,maxInt32=2**32,maxUInt32=2**31;function encodeLink$1(Fn,Mn){let io=Mn.length;if(typeof Fn.Tsize=="number"){if(Fn.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(Fn.Tsize))throw new Error("Tsize too large for encoding");io=encodeVarint(Mn,io,Fn.Tsize)-1,Mn[io]=24}if(typeof Fn.Name=="string"){const fo=textEncoder$1.encode(Fn.Name);io-=fo.length,Mn.set(fo,io),io=encodeVarint(Mn,io,fo.length)-1,Mn[io]=18}return Fn.Hash&&(io-=Fn.Hash.length,Mn.set(Fn.Hash,io),io=encodeVarint(Mn,io,Fn.Hash.length)-1,Mn[io]=10),Mn.length-io}function encodeNode(Fn){const Mn=sizeNode(Fn),io=new Uint8Array(Mn);let fo=Mn;if(Fn.Data&&(fo-=Fn.Data.length,io.set(Fn.Data,fo),fo=encodeVarint(io,fo,Fn.Data.length)-1,io[fo]=10),Fn.Links)for(let mo=Fn.Links.length-1;mo>=0;mo--){const $o=encodeLink$1(Fn.Links[mo],io.subarray(0,fo));fo-=$o,fo=encodeVarint(io,fo,$o)-1,io[fo]=18}return io}function sizeLink(Fn){let Mn=0;if(Fn.Hash){const io=Fn.Hash.length;Mn+=1+io+sov(io)}if(typeof Fn.Name=="string"){const io=textEncoder$1.encode(Fn.Name).length;Mn+=1+io+sov(io)}return typeof Fn.Tsize=="number"&&(Mn+=1+sov(Fn.Tsize)),Mn}function sizeNode(Fn){let Mn=0;if(Fn.Data){const io=Fn.Data.length;Mn+=1+io+sov(io)}if(Fn.Links)for(const io of Fn.Links){const fo=sizeLink(io);Mn+=1+fo+sov(fo)}return Mn}function encodeVarint(Fn,Mn,io){Mn-=sov(io);const fo=Mn;for(;io>=maxUInt32;)Fn[Mn++]=io&127|128,io/=128;for(;io>=128;)Fn[Mn++]=io&127|128,io>>>=7;return Fn[Mn]=io,fo}function sov(Fn){return Fn%2===0&&Fn++,Math.floor((len64(Fn)+6)/7)}function len64(Fn){let Mn=0;return Fn>=maxInt32&&(Fn=Math.floor(Fn/maxInt32),Mn=32),Fn>=65536&&(Fn>>>=16,Mn+=16),Fn>=256&&(Fn>>>=8,Mn+=8),Mn+len8tab[Fn]}const len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder=new TextEncoder;function linkComparator(Fn,Mn){if(Fn===Mn)return 0;const io=Fn.Name?textEncoder.encode(Fn.Name):[],fo=Mn.Name?textEncoder.encode(Mn.Name):[];let mo=io.length,$o=fo.length;for(let Ao=0,Lo=Math.min(mo,$o);Ao<Lo;++Ao)if(io[Ao]!==fo[Ao]){mo=io[Ao],$o=fo[Ao];break}return mo<$o?-1:$o<mo?1:0}function hasOnlyProperties(Fn,Mn){return!Object.keys(Fn).some(io=>!Mn.includes(io))}function asLink(Fn){if(typeof Fn.asCID=="object"){const io=CID$3.asCID(Fn);if(!io)throw new TypeError("Invalid DAG-PB form");return{Hash:io}}if(typeof Fn!="object"||Array.isArray(Fn))throw new TypeError("Invalid DAG-PB form");const Mn={};if(Fn.Hash){let io=CID$3.asCID(Fn.Hash);try{io||(typeof Fn.Hash=="string"?io=CID$3.parse(Fn.Hash):Fn.Hash instanceof Uint8Array&&(io=CID$3.decode(Fn.Hash)))}catch(fo){throw new TypeError(`Invalid DAG-PB form: ${fo.message}`)}io&&(Mn.Hash=io)}if(!Mn.Hash)throw new TypeError("Invalid DAG-PB form");return typeof Fn.Name=="string"&&(Mn.Name=Fn.Name),typeof Fn.Tsize=="number"&&(Mn.Tsize=Fn.Tsize),Mn}function prepare(Fn){if((Fn instanceof Uint8Array||typeof Fn=="string")&&(Fn={Data:Fn}),typeof Fn!="object"||Array.isArray(Fn))throw new TypeError("Invalid DAG-PB form");const Mn={};if(Fn.Data!==void 0)if(typeof Fn.Data=="string")Mn.Data=textEncoder.encode(Fn.Data);else if(Fn.Data instanceof Uint8Array)Mn.Data=Fn.Data;else throw new TypeError("Invalid DAG-PB form");if(Fn.Links!==void 0)if(Array.isArray(Fn.Links))Mn.Links=Fn.Links.map(asLink),Mn.Links.sort(linkComparator);else throw new TypeError("Invalid DAG-PB form");else Mn.Links=[];return Mn}function validate(Fn){if(!Fn||typeof Fn!="object"||Array.isArray(Fn)||Fn instanceof Uint8Array||Fn["/"]&&Fn["/"]===Fn.bytes)throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties(Fn,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(Fn.Data!==void 0&&!(Fn.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(Fn.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let Mn=0;Mn<Fn.Links.length;Mn++){const io=Fn.Links[Mn];if(!io||typeof io!="object"||Array.isArray(io)||io instanceof Uint8Array||io["/"]&&io["/"]===io.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!hasOnlyProperties(io,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(io.Hash===void 0)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(io.Hash==null||!io.Hash["/"]||io.Hash["/"]!==io.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(io.Name!==void 0&&typeof io.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(io.Tsize!==void 0){if(typeof io.Tsize!="number"||io.Tsize%1!==0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(io.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(Mn>0&&linkComparator(io,Fn.Links[Mn-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function toByteView(Fn){return Fn instanceof ArrayBuffer?new Uint8Array(Fn,0,Fn.byteLength):Fn}const code$2=112;function encode$c(Fn){validate(Fn);const Mn={};return Fn.Links&&(Mn.Links=Fn.Links.map(io=>{const fo={};return io.Hash&&(fo.Hash=io.Hash.bytes),io.Name!==void 0&&(fo.Name=io.Name),io.Tsize!==void 0&&(fo.Tsize=io.Tsize),fo})),Fn.Data&&(Mn.Data=Fn.Data),encodeNode(Mn)}function decode$h(Fn){const Mn=toByteView(Fn),io=decodeNode(Mn),fo={};return io.Data&&(fo.Data=io.Data),io.Links&&(fo.Links=io.Links.map(mo=>{const $o={};try{$o.Hash=CID$3.decode(mo.Hash)}catch{}if(!$o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return mo.Name!==void 0&&($o.Name=mo.Name),mo.Tsize!==void 0&&($o.Tsize=mo.Tsize),$o})),fo}var indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(Fn,Mn){for(var io=new Array(arguments.length-1),fo=0,mo=2,$o=!0;mo<arguments.length;)io[fo++]=arguments[mo++];return new Promise(function(Lo,Wo){io[fo]=function(zo){if($o)if($o=!1,zo)Wo(zo);else{for(var Vo=new Array(arguments.length-1),Go=0;Go<Vo.length;)Vo[Go++]=arguments[Go];Lo.apply(null,Vo)}};try{Fn.apply(Mn||null,io)}catch(jo){$o&&($o=!1,Wo(jo))}})}var base64$1={};(function(Fn){var Mn=Fn;Mn.length=function(Lo){var Wo=Lo.length;if(!Wo)return 0;for(var jo=0;--Wo%4>1&&Lo.charAt(Wo)==="=";)++jo;return Math.ceil(Lo.length*3)/4-jo};for(var io=new Array(64),fo=new Array(123),mo=0;mo<64;)fo[io[mo]=mo<26?mo+65:mo<52?mo+71:mo<62?mo-4:mo-59|43]=mo++;Mn.encode=function(Lo,Wo,jo){for(var zo=null,Vo=[],Go=0,Jo=0,Qo;Wo<jo;){var os=Lo[Wo++];switch(Jo){case 0:Vo[Go++]=io[os>>2],Qo=(os&3)<<4,Jo=1;break;case 1:Vo[Go++]=io[Qo|os>>4],Qo=(os&15)<<2,Jo=2;break;case 2:Vo[Go++]=io[Qo|os>>6],Vo[Go++]=io[os&63],Jo=0;break}Go>8191&&((zo||(zo=[])).push(String.fromCharCode.apply(String,Vo)),Go=0)}return Jo&&(Vo[Go++]=io[Qo],Vo[Go++]=61,Jo===1&&(Vo[Go++]=61)),zo?(Go&&zo.push(String.fromCharCode.apply(String,Vo.slice(0,Go))),zo.join("")):String.fromCharCode.apply(String,Vo.slice(0,Go))};var $o="invalid encoding";Mn.decode=function(Lo,Wo,jo){for(var zo=jo,Vo=0,Go,Jo=0;Jo<Lo.length;){var Qo=Lo.charCodeAt(Jo++);if(Qo===61&&Vo>1)break;if((Qo=fo[Qo])===void 0)throw Error($o);switch(Vo){case 0:Go=Qo,Vo=1;break;case 1:Wo[jo++]=Go<<2|(Qo&48)>>4,Go=Qo,Vo=2;break;case 2:Wo[jo++]=(Go&15)<<4|(Qo&60)>>2,Go=Qo,Vo=3;break;case 3:Wo[jo++]=(Go&3)<<6|Qo,Vo=0;break}}if(Vo===1)throw Error($o);return jo-zo},Mn.test=function(Lo){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(Lo)}})(base64$1);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(Mn,io,fo){return(this._listeners[Mn]||(this._listeners[Mn]=[])).push({fn:io,ctx:fo||this}),this};EventEmitter.prototype.off=function(Mn,io){if(Mn===void 0)this._listeners={};else if(io===void 0)this._listeners[Mn]=[];else for(var fo=this._listeners[Mn],mo=0;mo<fo.length;)fo[mo].fn===io?fo.splice(mo,1):++mo;return this};EventEmitter.prototype.emit=function(Mn){var io=this._listeners[Mn];if(io){for(var fo=[],mo=1;mo<arguments.length;)fo.push(arguments[mo++]);for(mo=0;mo<io.length;)io[mo].fn.apply(io[mo++].ctx,fo)}return this};var float=factory(factory);function factory(Fn){return typeof Float32Array<"u"?function(){var Mn=new Float32Array([-0]),io=new Uint8Array(Mn.buffer),fo=io[3]===128;function mo(Wo,jo,zo){Mn[0]=Wo,jo[zo]=io[0],jo[zo+1]=io[1],jo[zo+2]=io[2],jo[zo+3]=io[3]}function $o(Wo,jo,zo){Mn[0]=Wo,jo[zo]=io[3],jo[zo+1]=io[2],jo[zo+2]=io[1],jo[zo+3]=io[0]}Fn.writeFloatLE=fo?mo:$o,Fn.writeFloatBE=fo?$o:mo;function Ao(Wo,jo){return io[0]=Wo[jo],io[1]=Wo[jo+1],io[2]=Wo[jo+2],io[3]=Wo[jo+3],Mn[0]}function Lo(Wo,jo){return io[3]=Wo[jo],io[2]=Wo[jo+1],io[1]=Wo[jo+2],io[0]=Wo[jo+3],Mn[0]}Fn.readFloatLE=fo?Ao:Lo,Fn.readFloatBE=fo?Lo:Ao}():function(){function Mn(fo,mo,$o,Ao){var Lo=mo<0?1:0;if(Lo&&(mo=-mo),mo===0)fo(1/mo>0?0:2147483648,$o,Ao);else if(isNaN(mo))fo(2143289344,$o,Ao);else if(mo>34028234663852886e22)fo((Lo<<31|2139095040)>>>0,$o,Ao);else if(mo<11754943508222875e-54)fo((Lo<<31|Math.round(mo/1401298464324817e-60))>>>0,$o,Ao);else{var Wo=Math.floor(Math.log(mo)/Math.LN2),jo=Math.round(mo*Math.pow(2,-Wo)*8388608)&8388607;fo((Lo<<31|Wo+127<<23|jo)>>>0,$o,Ao)}}Fn.writeFloatLE=Mn.bind(null,writeUintLE),Fn.writeFloatBE=Mn.bind(null,writeUintBE);function io(fo,mo,$o){var Ao=fo(mo,$o),Lo=(Ao>>31)*2+1,Wo=Ao>>>23&255,jo=Ao&8388607;return Wo===255?jo?NaN:Lo*(1/0):Wo===0?Lo*1401298464324817e-60*jo:Lo*Math.pow(2,Wo-150)*(jo+8388608)}Fn.readFloatLE=io.bind(null,readUintLE),Fn.readFloatBE=io.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var Mn=new Float64Array([-0]),io=new Uint8Array(Mn.buffer),fo=io[7]===128;function mo(Wo,jo,zo){Mn[0]=Wo,jo[zo]=io[0],jo[zo+1]=io[1],jo[zo+2]=io[2],jo[zo+3]=io[3],jo[zo+4]=io[4],jo[zo+5]=io[5],jo[zo+6]=io[6],jo[zo+7]=io[7]}function $o(Wo,jo,zo){Mn[0]=Wo,jo[zo]=io[7],jo[zo+1]=io[6],jo[zo+2]=io[5],jo[zo+3]=io[4],jo[zo+4]=io[3],jo[zo+5]=io[2],jo[zo+6]=io[1],jo[zo+7]=io[0]}Fn.writeDoubleLE=fo?mo:$o,Fn.writeDoubleBE=fo?$o:mo;function Ao(Wo,jo){return io[0]=Wo[jo],io[1]=Wo[jo+1],io[2]=Wo[jo+2],io[3]=Wo[jo+3],io[4]=Wo[jo+4],io[5]=Wo[jo+5],io[6]=Wo[jo+6],io[7]=Wo[jo+7],Mn[0]}function Lo(Wo,jo){return io[7]=Wo[jo],io[6]=Wo[jo+1],io[5]=Wo[jo+2],io[4]=Wo[jo+3],io[3]=Wo[jo+4],io[2]=Wo[jo+5],io[1]=Wo[jo+6],io[0]=Wo[jo+7],Mn[0]}Fn.readDoubleLE=fo?Ao:Lo,Fn.readDoubleBE=fo?Lo:Ao}():function(){function Mn(fo,mo,$o,Ao,Lo,Wo){var jo=Ao<0?1:0;if(jo&&(Ao=-Ao),Ao===0)fo(0,Lo,Wo+mo),fo(1/Ao>0?0:2147483648,Lo,Wo+$o);else if(isNaN(Ao))fo(0,Lo,Wo+mo),fo(2146959360,Lo,Wo+$o);else if(Ao>17976931348623157e292)fo(0,Lo,Wo+mo),fo((jo<<31|2146435072)>>>0,Lo,Wo+$o);else{var zo;if(Ao<22250738585072014e-324)zo=Ao/5e-324,fo(zo>>>0,Lo,Wo+mo),fo((jo<<31|zo/4294967296)>>>0,Lo,Wo+$o);else{var Vo=Math.floor(Math.log(Ao)/Math.LN2);Vo===1024&&(Vo=1023),zo=Ao*Math.pow(2,-Vo),fo(zo*4503599627370496>>>0,Lo,Wo+mo),fo((jo<<31|Vo+1023<<20|zo*1048576&1048575)>>>0,Lo,Wo+$o)}}}Fn.writeDoubleLE=Mn.bind(null,writeUintLE,0,4),Fn.writeDoubleBE=Mn.bind(null,writeUintBE,4,0);function io(fo,mo,$o,Ao,Lo){var Wo=fo(Ao,Lo+mo),jo=fo(Ao,Lo+$o),zo=(jo>>31)*2+1,Vo=jo>>>20&2047,Go=4294967296*(jo&1048575)+Wo;return Vo===2047?Go?NaN:zo*(1/0):Vo===0?zo*5e-324*Go:zo*Math.pow(2,Vo-1075)*(Go+4503599627370496)}Fn.readDoubleLE=io.bind(null,readUintLE,0,4),Fn.readDoubleBE=io.bind(null,readUintBE,4,0)}(),Fn}function writeUintLE(Fn,Mn,io){Mn[io]=Fn&255,Mn[io+1]=Fn>>>8&255,Mn[io+2]=Fn>>>16&255,Mn[io+3]=Fn>>>24}function writeUintBE(Fn,Mn,io){Mn[io]=Fn>>>24,Mn[io+1]=Fn>>>16&255,Mn[io+2]=Fn>>>8&255,Mn[io+3]=Fn&255}function readUintLE(Fn,Mn){return(Fn[Mn]|Fn[Mn+1]<<8|Fn[Mn+2]<<16|Fn[Mn+3]<<24)>>>0}function readUintBE(Fn,Mn){return(Fn[Mn]<<24|Fn[Mn+1]<<16|Fn[Mn+2]<<8|Fn[Mn+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(Fn){}return null}var utf8$5={};(function(Fn){var Mn=Fn;Mn.length=function(fo){for(var mo=0,$o=0,Ao=0;Ao<fo.length;++Ao)$o=fo.charCodeAt(Ao),$o<128?mo+=1:$o<2048?mo+=2:($o&64512)===55296&&(fo.charCodeAt(Ao+1)&64512)===56320?(++Ao,mo+=4):mo+=3;return mo},Mn.read=function(fo,mo,$o){var Ao=$o-mo;if(Ao<1)return"";for(var Lo=null,Wo=[],jo=0,zo;mo<$o;)zo=fo[mo++],zo<128?Wo[jo++]=zo:zo>191&&zo<224?Wo[jo++]=(zo&31)<<6|fo[mo++]&63:zo>239&&zo<365?(zo=((zo&7)<<18|(fo[mo++]&63)<<12|(fo[mo++]&63)<<6|fo[mo++]&63)-65536,Wo[jo++]=55296+(zo>>10),Wo[jo++]=56320+(zo&1023)):Wo[jo++]=(zo&15)<<12|(fo[mo++]&63)<<6|fo[mo++]&63,jo>8191&&((Lo||(Lo=[])).push(String.fromCharCode.apply(String,Wo)),jo=0);return Lo?(jo&&Lo.push(String.fromCharCode.apply(String,Wo.slice(0,jo))),Lo.join("")):String.fromCharCode.apply(String,Wo.slice(0,jo))},Mn.write=function(fo,mo,$o){for(var Ao=$o,Lo,Wo,jo=0;jo<fo.length;++jo)Lo=fo.charCodeAt(jo),Lo<128?mo[$o++]=Lo:Lo<2048?(mo[$o++]=Lo>>6|192,mo[$o++]=Lo&63|128):(Lo&64512)===55296&&((Wo=fo.charCodeAt(jo+1))&64512)===56320?(Lo=65536+((Lo&1023)<<10)+(Wo&1023),++jo,mo[$o++]=Lo>>18|240,mo[$o++]=Lo>>12&63|128,mo[$o++]=Lo>>6&63|128,mo[$o++]=Lo&63|128):(mo[$o++]=Lo>>12|224,mo[$o++]=Lo>>6&63|128,mo[$o++]=Lo&63|128);return $o-Ao}})(utf8$5);var pool_1=pool;function pool(Fn,Mn,io){var fo=io||8192,mo=fo>>>1,$o=null,Ao=fo;return function(Wo){if(Wo<1||Wo>mo)return Fn(Wo);Ao+Wo>fo&&($o=Fn(fo),Ao=0);var jo=Mn.call($o,Ao,Ao+=Wo);return Ao&7&&(Ao=(Ao|7)+1),jo}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=Mn;var Fn=requireMinimal();function Mn($o,Ao){this.lo=$o>>>0,this.hi=Ao>>>0}var io=Mn.zero=new Mn(0,0);io.toNumber=function(){return 0},io.zzEncode=io.zzDecode=function(){return this},io.length=function(){return 1};var fo=Mn.zeroHash="\0\0\0\0\0\0\0\0";Mn.fromNumber=function(Ao){if(Ao===0)return io;var Lo=Ao<0;Lo&&(Ao=-Ao);var Wo=Ao>>>0,jo=(Ao-Wo)/4294967296>>>0;return Lo&&(jo=~jo>>>0,Wo=~Wo>>>0,++Wo>4294967295&&(Wo=0,++jo>4294967295&&(jo=0))),new Mn(Wo,jo)},Mn.from=function(Ao){if(typeof Ao=="number")return Mn.fromNumber(Ao);if(Fn.isString(Ao))if(Fn.Long)Ao=Fn.Long.fromString(Ao);else return Mn.fromNumber(parseInt(Ao,10));return Ao.low||Ao.high?new Mn(Ao.low>>>0,Ao.high>>>0):io},Mn.prototype.toNumber=function(Ao){if(!Ao&&this.hi>>>31){var Lo=~this.lo+1>>>0,Wo=~this.hi>>>0;return Lo||(Wo=Wo+1>>>0),-(Lo+Wo*4294967296)}return this.lo+this.hi*4294967296},Mn.prototype.toLong=function(Ao){return Fn.Long?new Fn.Long(this.lo|0,this.hi|0,!!Ao):{low:this.lo|0,high:this.hi|0,unsigned:!!Ao}};var mo=String.prototype.charCodeAt;return Mn.fromHash=function(Ao){return Ao===fo?io:new Mn((mo.call(Ao,0)|mo.call(Ao,1)<<8|mo.call(Ao,2)<<16|mo.call(Ao,3)<<24)>>>0,(mo.call(Ao,4)|mo.call(Ao,5)<<8|mo.call(Ao,6)<<16|mo.call(Ao,7)<<24)>>>0)},Mn.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},Mn.prototype.zzEncode=function(){var Ao=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^Ao)>>>0,this.lo=(this.lo<<1^Ao)>>>0,this},Mn.prototype.zzDecode=function(){var Ao=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^Ao)>>>0,this.hi=(this.hi>>>1^Ao)>>>0,this},Mn.prototype.length=function(){var Ao=this.lo,Lo=(this.lo>>>28|this.hi<<4)>>>0,Wo=this.hi>>>24;return Wo===0?Lo===0?Ao<16384?Ao<128?1:2:Ao<2097152?3:4:Lo<16384?Lo<128?5:6:Lo<2097152?7:8:Wo<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(Fn){var Mn=Fn;Mn.asPromise=aspromise,Mn.base64=base64$1,Mn.EventEmitter=eventemitter,Mn.float=float,Mn.inquire=inquire_1,Mn.utf8=utf8$5,Mn.pool=pool_1,Mn.LongBits=requireLongbits(),Mn.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),Mn.global=Mn.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,Mn.emptyArray=Object.freeze?Object.freeze([]):[],Mn.emptyObject=Object.freeze?Object.freeze({}):{},Mn.isInteger=Number.isInteger||function($o){return typeof $o=="number"&&isFinite($o)&&Math.floor($o)===$o},Mn.isString=function($o){return typeof $o=="string"||$o instanceof String},Mn.isObject=function($o){return $o&&typeof $o=="object"},Mn.isset=Mn.isSet=function($o,Ao){var Lo=$o[Ao];return Lo!=null&&$o.hasOwnProperty(Ao)?typeof Lo!="object"||(Array.isArray(Lo)?Lo.length:Object.keys(Lo).length)>0:!1},Mn.Buffer=function(){try{var mo=Mn.inquire("buffer").Buffer;return mo.prototype.utf8Write?mo:null}catch{return null}}(),Mn._Buffer_from=null,Mn._Buffer_allocUnsafe=null,Mn.newBuffer=function($o){return typeof $o=="number"?Mn.Buffer?Mn._Buffer_allocUnsafe($o):new Mn.Array($o):Mn.Buffer?Mn._Buffer_from($o):typeof Uint8Array>"u"?$o:new Uint8Array($o)},Mn.Array=typeof Uint8Array<"u"?Uint8Array:Array,Mn.Long=Mn.global.dcodeIO&&Mn.global.dcodeIO.Long||Mn.global.Long||Mn.inquire("long"),Mn.key2Re=/^true|false|0|1$/,Mn.key32Re=/^-?(?:0|[1-9][0-9]*)$/,Mn.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,Mn.longToHash=function($o){return $o?Mn.LongBits.from($o).toHash():Mn.LongBits.zeroHash},Mn.longFromHash=function($o,Ao){var Lo=Mn.LongBits.fromHash($o);return Mn.Long?Mn.Long.fromBits(Lo.lo,Lo.hi,Ao):Lo.toNumber(!!Ao)};function io(mo,$o,Ao){for(var Lo=Object.keys($o),Wo=0;Wo<Lo.length;++Wo)(mo[Lo[Wo]]===void 0||!Ao)&&(mo[Lo[Wo]]=$o[Lo[Wo]]);return mo}Mn.merge=io,Mn.lcFirst=function($o){return $o.charAt(0).toLowerCase()+$o.substring(1)};function fo(mo){function $o(Ao,Lo){if(!(this instanceof $o))return new $o(Ao,Lo);Object.defineProperty(this,"message",{get:function(){return Ao}}),Error.captureStackTrace?Error.captureStackTrace(this,$o):Object.defineProperty(this,"stack",{value:new Error().stack||""}),Lo&&io(this,Lo)}return $o.prototype=Object.create(Error.prototype,{constructor:{value:$o,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return mo},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),$o}Mn.newError=fo,Mn.ProtocolError=fo("ProtocolError"),Mn.oneOfGetter=function($o){for(var Ao={},Lo=0;Lo<$o.length;++Lo)Ao[$o[Lo]]=1;return function(){for(var Wo=Object.keys(this),jo=Wo.length-1;jo>-1;--jo)if(Ao[Wo[jo]]===1&&this[Wo[jo]]!==void 0&&this[Wo[jo]]!==null)return Wo[jo]}},Mn.oneOfSetter=function($o){return function(Ao){for(var Lo=0;Lo<$o.length;++Lo)$o[Lo]!==Ao&&delete this[$o[Lo]]}},Mn.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},Mn._configure=function(){var mo=Mn.Buffer;if(!mo){Mn._Buffer_from=Mn._Buffer_allocUnsafe=null;return}Mn._Buffer_from=mo.from!==Uint8Array.from&&mo.from||function(Ao,Lo){return new mo(Ao,Lo)},Mn._Buffer_allocUnsafe=mo.allocUnsafe||function(Ao){return new mo(Ao)}}}(minimal$1)),minimal$1}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$4=util$4.utf8;function Op(Fn,Mn,io){this.fn=Fn,this.len=Mn,this.next=void 0,this.val=io}function noop$1(){}function State$1(Fn){this.head=Fn.head,this.tail=Fn.tail,this.len=Fn.len,this.next=Fn.states}function Writer$1(){this.len=0,this.head=new Op(noop$1,0,0),this.tail=this.head,this.states=null}var create$e=function Fn(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$e();Writer$1.alloc=function Fn(Mn){return new util$4.Array(Mn)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function Fn(Mn,io,fo){return this.tail=this.tail.next=new Op(Mn,io,fo),this.len+=io,this};function writeByte(Fn,Mn,io){Mn[io]=Fn&255}function writeVarint32(Fn,Mn,io){for(;Fn>127;)Mn[io++]=Fn&127|128,Fn>>>=7;Mn[io]=Fn}function VarintOp(Fn,Mn){this.len=Fn,this.next=void 0,this.val=Mn}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function Fn(Mn){return this.len+=(this.tail=this.tail.next=new VarintOp((Mn=Mn>>>0)<128?1:Mn<16384?2:Mn<2097152?3:Mn<268435456?4:5,Mn)).len,this};Writer$1.prototype.int32=function Fn(Mn){return Mn<0?this._push(writeVarint64,10,LongBits$1.fromNumber(Mn)):this.uint32(Mn)};Writer$1.prototype.sint32=function Fn(Mn){return this.uint32((Mn<<1^Mn>>31)>>>0)};function writeVarint64(Fn,Mn,io){for(;Fn.hi;)Mn[io++]=Fn.lo&127|128,Fn.lo=(Fn.lo>>>7|Fn.hi<<25)>>>0,Fn.hi>>>=7;for(;Fn.lo>127;)Mn[io++]=Fn.lo&127|128,Fn.lo=Fn.lo>>>7;Mn[io++]=Fn.lo}Writer$1.prototype.uint64=function Fn(Mn){var io=LongBits$1.from(Mn);return this._push(writeVarint64,io.length(),io)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function Fn(Mn){var io=LongBits$1.from(Mn).zzEncode();return this._push(writeVarint64,io.length(),io)};Writer$1.prototype.bool=function Fn(Mn){return this._push(writeByte,1,Mn?1:0)};function writeFixed32(Fn,Mn,io){Mn[io]=Fn&255,Mn[io+1]=Fn>>>8&255,Mn[io+2]=Fn>>>16&255,Mn[io+3]=Fn>>>24}Writer$1.prototype.fixed32=function Fn(Mn){return this._push(writeFixed32,4,Mn>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function Fn(Mn){var io=LongBits$1.from(Mn);return this._push(writeFixed32,4,io.lo)._push(writeFixed32,4,io.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function Fn(Mn){return this._push(util$4.float.writeFloatLE,4,Mn)};Writer$1.prototype.double=function Fn(Mn){return this._push(util$4.float.writeDoubleLE,8,Mn)};var writeBytes=util$4.Array.prototype.set?function Fn(Mn,io,fo){io.set(Mn,fo)}:function Fn(Mn,io,fo){for(var mo=0;mo<Mn.length;++mo)io[fo+mo]=Mn[mo]};Writer$1.prototype.bytes=function Fn(Mn){var io=Mn.length>>>0;if(!io)return this._push(writeByte,1,0);if(util$4.isString(Mn)){var fo=Writer$1.alloc(io=base64.length(Mn));base64.decode(Mn,fo,0),Mn=fo}return this.uint32(io)._push(writeBytes,io,Mn)};Writer$1.prototype.string=function Fn(Mn){var io=utf8$4.length(Mn);return io?this.uint32(io)._push(utf8$4.write,io,Mn):this._push(writeByte,1,0)};Writer$1.prototype.fork=function Fn(){return this.states=new State$1(this),this.head=this.tail=new Op(noop$1,0,0),this.len=0,this};Writer$1.prototype.reset=function Fn(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop$1,0,0),this.len=0),this};Writer$1.prototype.ldelim=function Fn(){var Mn=this.head,io=this.tail,fo=this.len;return this.reset().uint32(fo),fo&&(this.tail.next=Mn.next,this.tail=io,this.len+=fo),this};Writer$1.prototype.finish=function Fn(){for(var Mn=this.head.next,io=this.constructor.alloc(this.len),fo=0;Mn;)Mn.fn(Mn.val,io,fo),fo+=Mn.len,Mn=Mn.next;return io};Writer$1._configure=function(Fn){BufferWriter$1=Fn,Writer$1.create=create$e(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(Mn,io,fo){io.set(Mn,fo)}:function(Mn,io,fo){if(Mn.copy)Mn.copy(io,fo,0,Mn.length);else for(var mo=0;mo<Mn.length;)io[fo++]=Mn[mo++]}};BufferWriter.prototype.bytes=function Fn(Mn){util$3.isString(Mn)&&(Mn=util$3._Buffer_from(Mn,"base64"));var io=Mn.length>>>0;return this.uint32(io),io&&this._push(BufferWriter.writeBytesBuffer,io,Mn),this};function writeStringBuffer(Fn,Mn,io){Fn.length<40?util$3.utf8.write(Fn,Mn,io):Mn.utf8Write?Mn.utf8Write(Fn,io):Mn.write(Fn,io)}BufferWriter.prototype.string=function Fn(Mn){var io=util$3.Buffer.byteLength(Mn);return this.uint32(io),io&&this._push(writeStringBuffer,io,Mn),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8$3=util$2.utf8;function indexOutOfRange(Fn,Mn){return RangeError("index out of range: "+Fn.pos+" + "+(Mn||1)+" > "+Fn.len)}function Reader$1(Fn){this.buf=Fn,this.pos=0,this.len=Fn.length}var create_array=typeof Uint8Array<"u"?function Fn(Mn){if(Mn instanceof Uint8Array||Array.isArray(Mn))return new Reader$1(Mn);throw Error("illegal buffer")}:function Fn(Mn){if(Array.isArray(Mn))return new Reader$1(Mn);throw Error("illegal buffer")},create$d=function Fn(){return util$2.Buffer?function(io){return(Reader$1.create=function(mo){return util$2.Buffer.isBuffer(mo)?new BufferReader$1(mo):create_array(mo)})(io)}:create_array};Reader$1.create=create$d();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function Fn(){var Mn=4294967295;return function(){if(Mn=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(Mn=(Mn|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(Mn=(Mn|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(Mn=(Mn|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(Mn=(Mn|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return Mn;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return Mn}}();Reader$1.prototype.int32=function Fn(){return this.uint32()|0};Reader$1.prototype.sint32=function Fn(){var Mn=this.uint32();return Mn>>>1^-(Mn&1)|0};function readLongVarint(){var Fn=new LongBits(0,0),Mn=0;if(this.len-this.pos>4){for(;Mn<4;++Mn)if(Fn.lo=(Fn.lo|(this.buf[this.pos]&127)<<Mn*7)>>>0,this.buf[this.pos++]<128)return Fn;if(Fn.lo=(Fn.lo|(this.buf[this.pos]&127)<<28)>>>0,Fn.hi=(Fn.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return Fn;Mn=0}else{for(;Mn<3;++Mn){if(this.pos>=this.len)throw indexOutOfRange(this);if(Fn.lo=(Fn.lo|(this.buf[this.pos]&127)<<Mn*7)>>>0,this.buf[this.pos++]<128)return Fn}return Fn.lo=(Fn.lo|(this.buf[this.pos++]&127)<<Mn*7)>>>0,Fn}if(this.len-this.pos>4){for(;Mn<5;++Mn)if(Fn.hi=(Fn.hi|(this.buf[this.pos]&127)<<Mn*7+3)>>>0,this.buf[this.pos++]<128)return Fn}else for(;Mn<5;++Mn){if(this.pos>=this.len)throw indexOutOfRange(this);if(Fn.hi=(Fn.hi|(this.buf[this.pos]&127)<<Mn*7+3)>>>0,this.buf[this.pos++]<128)return Fn}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function Fn(){return this.uint32()!==0};function readFixed32_end(Fn,Mn){return(Fn[Mn-4]|Fn[Mn-3]<<8|Fn[Mn-2]<<16|Fn[Mn-1]<<24)>>>0}Reader$1.prototype.fixed32=function Fn(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function Fn(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function Fn(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var Mn=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,Mn};Reader$1.prototype.double=function Fn(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var Mn=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,Mn};Reader$1.prototype.bytes=function Fn(){var Mn=this.uint32(),io=this.pos,fo=this.pos+Mn;if(fo>this.len)throw indexOutOfRange(this,Mn);if(this.pos+=Mn,Array.isArray(this.buf))return this.buf.slice(io,fo);if(io===fo){var mo=util$2.Buffer;return mo?mo.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,io,fo)};Reader$1.prototype.string=function Fn(){var Mn=this.bytes();return utf8$3.read(Mn,0,Mn.length)};Reader$1.prototype.skip=function Fn(Mn){if(typeof Mn=="number"){if(this.pos+Mn>this.len)throw indexOutOfRange(this,Mn);this.pos+=Mn}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(Fn){switch(Fn){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(Fn=this.uint32()&7)!==4;)this.skipType(Fn);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+Fn+" at offset "+this.pos)}return this};Reader$1._configure=function(Fn){BufferReader$1=Fn,Reader$1.create=create$d(),BufferReader$1._configure();var Mn=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[Mn](!1)},uint64:function(){return readLongVarint.call(this)[Mn](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[Mn](!1)},fixed64:function(){return readFixed64.call(this)[Mn](!0)},sfixed64:function(){return readFixed64.call(this)[Mn](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(Fn){Reader.call(this,Fn)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function Fn(){var Mn=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+Mn,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+Mn,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(Fn,Mn,io){if(typeof Fn!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=Fn,this.requestDelimited=!!Mn,this.responseDelimited=!!io}Service.prototype.rpcCall=function Fn(Mn,io,fo,mo,$o){if(!mo)throw TypeError("request must be specified");var Ao=this;if(!$o)return util.asPromise(Fn,Ao,Mn,io,fo,mo);if(!Ao.rpcImpl){setTimeout(function(){$o(Error("already ended"))},0);return}try{return Ao.rpcImpl(Mn,io[Ao.requestDelimited?"encodeDelimited":"encode"](mo).finish(),function(Wo,jo){if(Wo)return Ao.emit("error",Wo,Mn),$o(Wo);if(jo===null){Ao.end(!0);return}if(!(jo instanceof fo))try{jo=fo[Ao.responseDelimited?"decodeDelimited":"decode"](jo)}catch(zo){return Ao.emit("error",zo,Mn),$o(zo)}return Ao.emit("data",jo,Mn),$o(null,jo)})}catch(Lo){Ao.emit("error",Lo,Mn),setTimeout(function(){$o(Lo)},0);return}};Service.prototype.end=function Fn(Mn){return this.rpcImpl&&(Mn||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(Fn){var Mn=Fn;Mn.Service=service})(rpc);var roots={};(function(Fn){var Mn=Fn;Mn.build="minimal",Mn.Writer=writer,Mn.BufferWriter=writer_buffer,Mn.Reader=reader,Mn.BufferReader=reader_buffer,Mn.util=requireMinimal(),Mn.rpc=rpc,Mn.roots=roots,Mn.configure=io;function io(){Mn.util._configure(),Mn.Writer._configure(Mn.BufferWriter),Mn.Reader._configure(Mn.BufferReader)}io()})(indexMinimal);var minimal=indexMinimal;const $protobuf=getDefaultExportFromCjs(minimal),$Reader=$protobuf.Reader,$Writer=$protobuf.Writer,$util=$protobuf.util,$root=$protobuf.roots.unixfs||($protobuf.roots.unixfs={}),Data=$root.Data=(()=>{function Fn(Mn){if(this.blocksizes=[],Mn)for(var io=Object.keys(Mn),fo=0;fo<io.length;++fo)Mn[io[fo]]!=null&&(this[io[fo]]=Mn[io[fo]])}return Fn.prototype.Type=0,Fn.prototype.Data=$util.newBuffer([]),Fn.prototype.filesize=$util.Long?$util.Long.fromBits(0,0,!0):0,Fn.prototype.blocksizes=$util.emptyArray,Fn.prototype.hashType=$util.Long?$util.Long.fromBits(0,0,!0):0,Fn.prototype.fanout=$util.Long?$util.Long.fromBits(0,0,!0):0,Fn.prototype.mode=0,Fn.prototype.mtime=null,Fn.encode=function(io,fo){if(fo||(fo=$Writer.create()),fo.uint32(8).int32(io.Type),io.Data!=null&&Object.hasOwnProperty.call(io,"Data")&&fo.uint32(18).bytes(io.Data),io.filesize!=null&&Object.hasOwnProperty.call(io,"filesize")&&fo.uint32(24).uint64(io.filesize),io.blocksizes!=null&&io.blocksizes.length)for(var mo=0;mo<io.blocksizes.length;++mo)fo.uint32(32).uint64(io.blocksizes[mo]);return io.hashType!=null&&Object.hasOwnProperty.call(io,"hashType")&&fo.uint32(40).uint64(io.hashType),io.fanout!=null&&Object.hasOwnProperty.call(io,"fanout")&&fo.uint32(48).uint64(io.fanout),io.mode!=null&&Object.hasOwnProperty.call(io,"mode")&&fo.uint32(56).uint32(io.mode),io.mtime!=null&&Object.hasOwnProperty.call(io,"mtime")&&$root.UnixTime.encode(io.mtime,fo.uint32(66).fork()).ldelim(),fo},Fn.decode=function(io,fo){io instanceof $Reader||(io=$Reader.create(io));for(var mo=fo===void 0?io.len:io.pos+fo,$o=new $root.Data;io.pos<mo;){var Ao=io.uint32();switch(Ao>>>3){case 1:$o.Type=io.int32();break;case 2:$o.Data=io.bytes();break;case 3:$o.filesize=io.uint64();break;case 4:if($o.blocksizes&&$o.blocksizes.length||($o.blocksizes=[]),(Ao&7)===2)for(var Lo=io.uint32()+io.pos;io.pos<Lo;)$o.blocksizes.push(io.uint64());else $o.blocksizes.push(io.uint64());break;case 5:$o.hashType=io.uint64();break;case 6:$o.fanout=io.uint64();break;case 7:$o.mode=io.uint32();break;case 8:$o.mtime=$root.UnixTime.decode(io,io.uint32());break;default:io.skipType(Ao&7);break}}if(!$o.hasOwnProperty("Type"))throw $util.ProtocolError("missing required 'Type'",{instance:$o});return $o},Fn.fromObject=function(io){if(io instanceof $root.Data)return io;var fo=new $root.Data;switch(io.Type){case"Raw":case 0:fo.Type=0;break;case"Directory":case 1:fo.Type=1;break;case"File":case 2:fo.Type=2;break;case"Metadata":case 3:fo.Type=3;break;case"Symlink":case 4:fo.Type=4;break;case"HAMTShard":case 5:fo.Type=5;break}if(io.Data!=null&&(typeof io.Data=="string"?$util.base64.decode(io.Data,fo.Data=$util.newBuffer($util.base64.length(io.Data)),0):io.Data.length&&(fo.Data=io.Data)),io.filesize!=null&&($util.Long?(fo.filesize=$util.Long.fromValue(io.filesize)).unsigned=!0:typeof io.filesize=="string"?fo.filesize=parseInt(io.filesize,10):typeof io.filesize=="number"?fo.filesize=io.filesize:typeof io.filesize=="object"&&(fo.filesize=new $util.LongBits(io.filesize.low>>>0,io.filesize.high>>>0).toNumber(!0))),io.blocksizes){if(!Array.isArray(io.blocksizes))throw TypeError(".Data.blocksizes: array expected");fo.blocksizes=[];for(var mo=0;mo<io.blocksizes.length;++mo)$util.Long?(fo.blocksizes[mo]=$util.Long.fromValue(io.blocksizes[mo])).unsigned=!0:typeof io.blocksizes[mo]=="string"?fo.blocksizes[mo]=parseInt(io.blocksizes[mo],10):typeof io.blocksizes[mo]=="number"?fo.blocksizes[mo]=io.blocksizes[mo]:typeof io.blocksizes[mo]=="object"&&(fo.blocksizes[mo]=new $util.LongBits(io.blocksizes[mo].low>>>0,io.blocksizes[mo].high>>>0).toNumber(!0))}if(io.hashType!=null&&($util.Long?(fo.hashType=$util.Long.fromValue(io.hashType)).unsigned=!0:typeof io.hashType=="string"?fo.hashType=parseInt(io.hashType,10):typeof io.hashType=="number"?fo.hashType=io.hashType:typeof io.hashType=="object"&&(fo.hashType=new $util.LongBits(io.hashType.low>>>0,io.hashType.high>>>0).toNumber(!0))),io.fanout!=null&&($util.Long?(fo.fanout=$util.Long.fromValue(io.fanout)).unsigned=!0:typeof io.fanout=="string"?fo.fanout=parseInt(io.fanout,10):typeof io.fanout=="number"?fo.fanout=io.fanout:typeof io.fanout=="object"&&(fo.fanout=new $util.LongBits(io.fanout.low>>>0,io.fanout.high>>>0).toNumber(!0))),io.mode!=null&&(fo.mode=io.mode>>>0),io.mtime!=null){if(typeof io.mtime!="object")throw TypeError(".Data.mtime: object expected");fo.mtime=$root.UnixTime.fromObject(io.mtime)}return fo},Fn.toObject=function(io,fo){fo||(fo={});var mo={};if((fo.arrays||fo.defaults)&&(mo.blocksizes=[]),fo.defaults){if(mo.Type=fo.enums===String?"Raw":0,fo.bytes===String?mo.Data="":(mo.Data=[],fo.bytes!==Array&&(mo.Data=$util.newBuffer(mo.Data))),$util.Long){var $o=new $util.Long(0,0,!0);mo.filesize=fo.longs===String?$o.toString():fo.longs===Number?$o.toNumber():$o}else mo.filesize=fo.longs===String?"0":0;if($util.Long){var $o=new $util.Long(0,0,!0);mo.hashType=fo.longs===String?$o.toString():fo.longs===Number?$o.toNumber():$o}else mo.hashType=fo.longs===String?"0":0;if($util.Long){var $o=new $util.Long(0,0,!0);mo.fanout=fo.longs===String?$o.toString():fo.longs===Number?$o.toNumber():$o}else mo.fanout=fo.longs===String?"0":0;mo.mode=0,mo.mtime=null}if(io.Type!=null&&io.hasOwnProperty("Type")&&(mo.Type=fo.enums===String?$root.Data.DataType[io.Type]:io.Type),io.Data!=null&&io.hasOwnProperty("Data")&&(mo.Data=fo.bytes===String?$util.base64.encode(io.Data,0,io.Data.length):fo.bytes===Array?Array.prototype.slice.call(io.Data):io.Data),io.filesize!=null&&io.hasOwnProperty("filesize")&&(typeof io.filesize=="number"?mo.filesize=fo.longs===String?String(io.filesize):io.filesize:mo.filesize=fo.longs===String?$util.Long.prototype.toString.call(io.filesize):fo.longs===Number?new $util.LongBits(io.filesize.low>>>0,io.filesize.high>>>0).toNumber(!0):io.filesize),io.blocksizes&&io.blocksizes.length){mo.blocksizes=[];for(var Ao=0;Ao<io.blocksizes.length;++Ao)typeof io.blocksizes[Ao]=="number"?mo.blocksizes[Ao]=fo.longs===String?String(io.blocksizes[Ao]):io.blocksizes[Ao]:mo.blocksizes[Ao]=fo.longs===String?$util.Long.prototype.toString.call(io.blocksizes[Ao]):fo.longs===Number?new $util.LongBits(io.blocksizes[Ao].low>>>0,io.blocksizes[Ao].high>>>0).toNumber(!0):io.blocksizes[Ao]}return io.hashType!=null&&io.hasOwnProperty("hashType")&&(typeof io.hashType=="number"?mo.hashType=fo.longs===String?String(io.hashType):io.hashType:mo.hashType=fo.longs===String?$util.Long.prototype.toString.call(io.hashType):fo.longs===Number?new $util.LongBits(io.hashType.low>>>0,io.hashType.high>>>0).toNumber(!0):io.hashType),io.fanout!=null&&io.hasOwnProperty("fanout")&&(typeof io.fanout=="number"?mo.fanout=fo.longs===String?String(io.fanout):io.fanout:mo.fanout=fo.longs===String?$util.Long.prototype.toString.call(io.fanout):fo.longs===Number?new $util.LongBits(io.fanout.low>>>0,io.fanout.high>>>0).toNumber(!0):io.fanout),io.mode!=null&&io.hasOwnProperty("mode")&&(mo.mode=io.mode),io.mtime!=null&&io.hasOwnProperty("mtime")&&(mo.mtime=$root.UnixTime.toObject(io.mtime,fo)),mo},Fn.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},Fn.DataType=function(){const Mn={},io=Object.create(Mn);return io[Mn[0]="Raw"]=0,io[Mn[1]="Directory"]=1,io[Mn[2]="File"]=2,io[Mn[3]="Metadata"]=3,io[Mn[4]="Symlink"]=4,io[Mn[5]="HAMTShard"]=5,io}(),Fn})();$root.UnixTime=(()=>{function Fn(Mn){if(Mn)for(var io=Object.keys(Mn),fo=0;fo<io.length;++fo)Mn[io[fo]]!=null&&(this[io[fo]]=Mn[io[fo]])}return Fn.prototype.Seconds=$util.Long?$util.Long.fromBits(0,0,!1):0,Fn.prototype.FractionalNanoseconds=0,Fn.encode=function(io,fo){return fo||(fo=$Writer.create()),fo.uint32(8).int64(io.Seconds),io.FractionalNanoseconds!=null&&Object.hasOwnProperty.call(io,"FractionalNanoseconds")&&fo.uint32(21).fixed32(io.FractionalNanoseconds),fo},Fn.decode=function(io,fo){io instanceof $Reader||(io=$Reader.create(io));for(var mo=fo===void 0?io.len:io.pos+fo,$o=new $root.UnixTime;io.pos<mo;){var Ao=io.uint32();switch(Ao>>>3){case 1:$o.Seconds=io.int64();break;case 2:$o.FractionalNanoseconds=io.fixed32();break;default:io.skipType(Ao&7);break}}if(!$o.hasOwnProperty("Seconds"))throw $util.ProtocolError("missing required 'Seconds'",{instance:$o});return $o},Fn.fromObject=function(io){if(io instanceof $root.UnixTime)return io;var fo=new $root.UnixTime;return io.Seconds!=null&&($util.Long?(fo.Seconds=$util.Long.fromValue(io.Seconds)).unsigned=!1:typeof io.Seconds=="string"?fo.Seconds=parseInt(io.Seconds,10):typeof io.Seconds=="number"?fo.Seconds=io.Seconds:typeof io.Seconds=="object"&&(fo.Seconds=new $util.LongBits(io.Seconds.low>>>0,io.Seconds.high>>>0).toNumber())),io.FractionalNanoseconds!=null&&(fo.FractionalNanoseconds=io.FractionalNanoseconds>>>0),fo},Fn.toObject=function(io,fo){fo||(fo={});var mo={};if(fo.defaults){if($util.Long){var $o=new $util.Long(0,0,!1);mo.Seconds=fo.longs===String?$o.toString():fo.longs===Number?$o.toNumber():$o}else mo.Seconds=fo.longs===String?"0":0;mo.FractionalNanoseconds=0}return io.Seconds!=null&&io.hasOwnProperty("Seconds")&&(typeof io.Seconds=="number"?mo.Seconds=fo.longs===String?String(io.Seconds):io.Seconds:mo.Seconds=fo.longs===String?$util.Long.prototype.toString.call(io.Seconds):fo.longs===Number?new $util.LongBits(io.Seconds.low>>>0,io.Seconds.high>>>0).toNumber():io.Seconds),io.FractionalNanoseconds!=null&&io.hasOwnProperty("FractionalNanoseconds")&&(mo.FractionalNanoseconds=io.FractionalNanoseconds),mo},Fn.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},Fn})();$root.Metadata=(()=>{function Fn(Mn){if(Mn)for(var io=Object.keys(Mn),fo=0;fo<io.length;++fo)Mn[io[fo]]!=null&&(this[io[fo]]=Mn[io[fo]])}return Fn.prototype.MimeType="",Fn.encode=function(io,fo){return fo||(fo=$Writer.create()),io.MimeType!=null&&Object.hasOwnProperty.call(io,"MimeType")&&fo.uint32(10).string(io.MimeType),fo},Fn.decode=function(io,fo){io instanceof $Reader||(io=$Reader.create(io));for(var mo=fo===void 0?io.len:io.pos+fo,$o=new $root.Metadata;io.pos<mo;){var Ao=io.uint32();switch(Ao>>>3){case 1:$o.MimeType=io.string();break;default:io.skipType(Ao&7);break}}return $o},Fn.fromObject=function(io){if(io instanceof $root.Metadata)return io;var fo=new $root.Metadata;return io.MimeType!=null&&(fo.MimeType=String(io.MimeType)),fo},Fn.toObject=function(io,fo){fo||(fo={});var mo={};return fo.defaults&&(mo.MimeType=""),io.MimeType!=null&&io.hasOwnProperty("MimeType")&&(mo.MimeType=io.MimeType),mo},Fn.prototype.toJSON=function(){return this.constructor.toObject(this,$protobuf.util.toJSONOptions)},Fn})();const NodeType=Data.DataType,EMPTY$3=Object.freeze([]),EMPTY_BUFFER$1=new Uint8Array(0),BLANK$2=Object.freeze({}),DEFAULT_FILE_MODE=parseInt("0644",8),DEFAULT_DIRECTORY_MODE=parseInt("0755",8),code$1=code$2,name$1="UnixFS",encodePB=(Fn,Mn)=>(Object(globalThis).debug&&console.log({data:Fn,links:Mn}),encode$c(prepare({Data:Data.encode(Fn).finish(),Links:Mn}))),createRaw=Fn=>({type:NodeType.Raw,content:Fn}),createEmptyFile=Fn=>createSimpleFile(EMPTY_BUFFER$1,Fn),createSimpleFile=(Fn,Mn)=>({type:NodeType.File,layout:"simple",content:Fn,metadata:decodeMetadata(Mn)}),createFileChunk=Fn=>({type:NodeType.File,layout:"simple",content:Fn}),createAdvancedFile=(Fn,Mn)=>({type:NodeType.File,layout:"advanced",parts:Fn,metadata:decodeMetadata(Mn)}),createFileShard=Fn=>({type:NodeType.File,layout:"advanced",parts:Fn}),createComplexFile=(Fn,Mn,io)=>({type:NodeType.File,layout:"complex",content:Fn,parts:Mn,metadata:decodeMetadata(io)}),createFlatDirectory=(Fn,Mn)=>({type:NodeType.Directory,metadata:decodeMetadata(Mn),entries:Fn}),createShardedDirectory=(Fn,Mn,io,fo,mo=BLANK$2)=>({type:NodeType.HAMTShard,bitfield:Mn,fanout:readFanout(io),hashType:readInt(fo),entries:Fn,metadata:decodeMetadata(mo)}),createDirectoryShard=(Fn,Mn,io,fo)=>({type:NodeType.HAMTShard,bitfield:Mn,fanout:readFanout(io),hashType:readInt(fo),entries:Fn}),encodeRaw=Fn=>encodePB({Type:NodeType.Raw,Data:Fn.byteLength>0?Fn:void 0,filesize:Fn.byteLength,blocksizes:EMPTY$3},[]),encodeFile=(Fn,Mn=!1)=>{const io=Mn?BLANK$2:Object(Fn).metadata;switch(Fn.layout){case"simple":return encodeSimpleFile(Fn.content,io);case"advanced":return encodeAdvancedFile(Fn.parts,io);case"complex":return encodeComplexFile(Fn.content,Fn.parts,io);default:throw new TypeError(`File with unknown layout "${Object(Fn).layout}" was passed`)}},encodeFileChunk=Fn=>encodeSimpleFile(Fn,BLANK$2),encodeFileShard=Fn=>encodePB({Type:NodeType.File,blocksizes:Fn.map(contentByteLength),filesize:cumulativeContentByteLength(Fn)},Fn.map(encodeLink)),encodeAdvancedFile=(Fn,Mn=BLANK$2)=>encodePB({Type:NodeType.File,blocksizes:Fn.map(contentByteLength),filesize:cumulativeContentByteLength(Fn),...encodeMetadata(Mn)},Fn.map(encodeLink)),encodeLink=Fn=>({Name:"",Tsize:Fn.dagByteLength,Hash:Fn.cid}),encodeSimpleFile=(Fn,Mn=BLANK$2)=>encodePB({Type:NodeType.File,Data:Fn.byteLength>0?Fn:void 0,filesize:Fn.byteLength,blocksizes:[],...encodeMetadata(Mn)},[]),encodeComplexFile=(Fn,Mn,io=BLANK$2)=>encodePB({Type:NodeType.File,Data:Fn,filesize:Fn.byteLength+cumulativeContentByteLength(Mn),blocksizes:Mn.map(contentByteLength)},Mn.map(encodeLink)),encodeDirectory=Fn=>encodePB({Type:Fn.type,...encodeDirectoryMetadata(Fn.metadata||BLANK$2)},Fn.entries.map(encodeNamedLink)),encodeHAMTShard=({bitfield:Fn,fanout:Mn,hashType:io,entries:fo,metadata:mo=BLANK$2})=>encodePB({Type:NodeType.HAMTShard,Data:Fn.byteLength>0?Fn:void 0,fanout:readFanout(Mn),hashType:readInt(io),...encodeDirectoryMetadata(mo)},fo.map(encodeNamedLink)),readFanout=Fn=>{if(Math.log2(Fn)%1===0)return Fn;throw new TypeError(`Expected hamt size to be a power of two instead got ${Fn}`)},readInt=Fn=>{if(Number.isInteger(Fn))return Fn;throw new TypeError(`Expected an integer value instead got ${Fn}`)},createSymlink=(Fn,Mn=BLANK$2)=>({type:NodeType.Symlink,content:Fn,metadata:decodeMetadata(Mn)}),encodeSymlink=(Fn,Mn=!1)=>{const io=Mn?BLANK$2:Object(Fn).metadata;return encodePB({Type:NodeType.Symlink,Data:Fn.content,...encodeMetadata(io||BLANK$2)},[])},encode$b=(Fn,Mn=!0)=>{switch(Fn.type){case NodeType.Raw:return encodeRaw(Fn.content);case NodeType.File:return encodeFile(Fn);case NodeType.Directory:return encodeDirectory(Fn);case NodeType.HAMTShard:return encodeHAMTShard(Fn);case NodeType.Symlink:return encodeSymlink(Fn);default:throw new Error(`Unknown node type ${Object(Fn).type}`)}},decode$g=Fn=>{const Mn=decode$h(Fn),io=Data.decode(Mn.Data),{Type:fo,Data:mo,mtime:$o,mode:Ao,blocksizes:Lo,...Wo}=Data.toObject(io,{defaults:!1,arrays:!0,longs:Number,objects:!1}),jo={...Ao&&{mode:Ao},...decodeMtime($o)},zo=Mn.Links;switch(io.Type){case NodeType.Raw:return createRaw(mo);case NodeType.File:return zo.length===0?new SimpleFileView(mo,jo):mo.byteLength===0?new AdvancedFileView(decodeFileLinks(Wo.blocksizes,zo),jo):new ComplexFileView(mo,decodeFileLinks(Wo.blocksizes,zo),jo);case NodeType.Directory:return createFlatDirectory(decodeDirectoryLinks(zo),jo);case NodeType.HAMTShard:return createShardedDirectory(decodeDirectoryLinks(zo),mo||EMPTY_BUFFER$1,Wo.fanout,Wo.hashType,jo);case NodeType.Symlink:return createSymlink(mo,jo);default:throw new TypeError(`Unsupported node type ${io.Type}`)}},decodeMtime=Fn=>Fn==null?void 0:{mtime:{secs:Fn.Seconds,nsecs:Fn.FractionalNanoseconds||0}},decodeFileLinks=(Fn,Mn)=>{const io=[],fo=Fn.length;let mo=0;for(;mo<fo;)io.push({cid:Mn[mo].Hash,dagByteLength:Mn[mo].Tsize||0,contentByteLength:Fn[mo]});return io},decodeDirectoryLinks=Fn=>Fn.map(Mn=>({cid:Mn.Hash,name:Mn.Name||"",dagByteLength:Mn.Tsize||0})),cumulativeContentByteLength=Fn=>Fn.reduce((Mn,io)=>Mn+io.contentByteLength,0),cumulativeDagByteLength=(Fn,Mn)=>Mn.reduce((io,fo)=>io+fo.dagByteLength,Fn.byteLength),contentByteLength=Fn=>Fn.contentByteLength,encodeNamedLink=({name:Fn,dagByteLength:Mn,cid:io})=>({Name:Fn,Tsize:Mn,Hash:io}),encodeDirectoryMetadata=Fn=>encodeMetadata(Fn,DEFAULT_DIRECTORY_MODE),encodeMetadata=({mode:Fn,mtime:Mn},io=DEFAULT_FILE_MODE)=>({mode:Fn!=null?encodeMode(Fn,io):void 0,mtime:Mn!=null?encodeMTime(Mn):void 0}),decodeMetadata=Fn=>Fn==null?BLANK$2:{...Fn.mode==null?void 0:{mode:decodeMode(Fn.mode)},...Fn.mtime==null?void 0:{mtime:Fn.mtime}},encodeMTime=Fn=>Fn==null?void 0:Fn.nsecs!==0?{Seconds:Fn.secs,FractionalNanoseconds:Fn.nsecs}:{Seconds:Fn.secs},encodeMode=(Fn,Mn)=>{const io=Fn==null?void 0:decodeMode(Fn);return io===Mn||io==null?void 0:io},decodeMode=Fn=>Fn&4095|Fn&4294963200,matchFile=({content:Fn=EMPTY_BUFFER$1,parts:Mn=EMPTY$3,metadata:io=BLANK$2,...fo})=>Mn.length===0?new SimpleFileView(Fn,io):Fn.byteLength===0?new AdvancedFileView(Mn,io):new ComplexFileView(Fn,Mn,io);class SimpleFileView{constructor(Mn,io){this.content=Mn,this.metadata=io,this.layout="simple",this.type=NodeType.File}get filesize(){return this.content.byteLength}encode(){return encodeSimpleFile(this.content,this.metadata)}}class AdvancedFileView{constructor(Mn,io){this.parts=Mn,this.metadata=io}get layout(){return"advanced"}get type(){return NodeType.File}get fileSize(){return cumulativeContentByteLength(this.parts)}get blockSizes(){return this.parts.map(contentByteLength)}encode(){return encodeAdvancedFile(this.parts,this.metadata)}}class ComplexFileView{constructor(Mn,io,fo){this.content=Mn,this.parts=io,this.metadata=fo}get layout(){return"complex"}get type(){return NodeType.File}get fileSize(){return this.content.byteLength+cumulativeContentByteLength(this.parts)}get blockSizes(){return this.parts.map(contentByteLength)}encode(){return encodeComplexFile(this.content,this.parts,this.metadata)}}const filesize=Fn=>{switch(Fn.type){case NodeType.Raw:case NodeType.Symlink:return Fn.content.byteLength;case NodeType.File:switch(Fn.layout){case"simple":return Fn.content.byteLength;case"advanced":return cumulativeContentByteLength(Fn.parts);case"complex":return Fn.content.byteLength+cumulativeContentByteLength(Fn.parts)}default:return 0}},UnixFS=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_DIRECTORY_MODE,DEFAULT_FILE_MODE,NodeType,code:code$1,createAdvancedFile,createComplexFile,createDirectoryShard,createEmptyFile,createFileChunk,createFileShard,createFlatDirectory,createRaw,createShardedDirectory,createSimpleFile,createSymlink,cumulativeContentByteLength,cumulativeDagByteLength,decode:decode$g,decodeMetadata,encode:encode$b,encodeAdvancedFile,encodeComplexFile,encodeDirectory,encodeDirectoryMetadata,encodeFile,encodeFileChunk,encodeFileShard,encodeHAMTShard,encodeLink,encodeMetadata,encodeMode,encodeRaw,encodeSimpleFile,encodeSymlink,filesize,matchFile,name:name$1},Symbol.toStringTag,{value:"Module"})),effect=function*(Fn){const Mn=yield*Fn;yield*send(Mn)};function*current(){return yield CURRENT}const suspend=function*(){yield SUSPEND},wait=function*(Fn){const Mn=yield*current();if(isAsync(Fn)){let io=!1,fo;if(Fn.then(mo=>{io=!1,fo=mo,enqueue(Mn)},mo=>{io=!0,fo=mo,enqueue(Mn)}),yield*suspend(),io)throw fo;return fo}else return main(wake(Mn)),yield*suspend(),Fn};function*wake(Fn){enqueue(Fn)}const isAsync=Fn=>Fn!=null&&typeof Fn.then=="function",send=function*(Fn){yield Fn},listen=function*(Fn){const Mn=[];for(const io of Object.entries(Fn)){const[fo,mo]=io;mo!==NONE&&Mn.push(yield*fork$3(tag(mo,fo)))}yield*group(Mn)},effects=Fn=>Fn.length>0?batch(Fn.map(effect)):NONE;function*batch(Fn){const Mn=[];for(const io of Fn)Mn.push(yield*fork$3(io));yield*group(Mn)}const tag=(Fn,Mn)=>Fn===NONE?NONE:Fn instanceof Tagger?new Tagger([...Fn.tags,Mn],Fn.source):new Tagger([Mn],Fn);class Tagger{constructor(Mn,io){this.tags=Mn,this.source=io,this.controller}[Symbol.iterator](){return this.controller||(this.controller=this.source[Symbol.iterator]()),this}box(Mn){if(Mn.done)return Mn;switch(Mn.value){case SUSPEND:case CURRENT:return Mn;default:{const io=Mn;let{value:fo}=io;for(const mo of this.tags)fo=withTag(mo,fo);return io.value=fo,io}}}next(Mn){return this.box(this.controller.next(Mn))}throw(Mn){return this.box(this.controller.throw(Mn))}return(Mn){return this.box(this.controller.return(Mn))}get[Symbol.toStringTag](){return"TaggedEffect"}}const none=()=>NONE,withTag=(Fn,Mn)=>({type:Fn,[Fn]:Mn}),CURRENT=Symbol("current"),SUSPEND=Symbol("suspend");class Group{static of(Mn){return Mn.group||MAIN}static enqueue(Mn,io){Mn.group=io,io.stack.active.push(Mn)}constructor(Mn,io=[],fo=new Set,mo=new Stack(io,fo)){this.driver=Mn,this.parent=Group.of(Mn),this.stack=mo,this.id=++ID}}class Main{constructor(){this.status=IDLE,this.stack=new Stack,this.id=0}}class Stack{constructor(Mn=[],io=new Set){this.active=Mn,this.idle=io}static size({active:Mn,idle:io}){return Mn.length+io.size}}const main=Fn=>enqueue(Fn[Symbol.iterator]()),enqueue=Fn=>{let Mn=Group.of(Fn);for(Mn.stack.active.push(Fn),Mn.stack.idle.delete(Fn);Mn.parent;){const{idle:io,active:fo}=Mn.parent.stack;if(io.has(Mn.driver))io.delete(Mn.driver),fo.push(Mn.driver);else break;Mn=Mn.parent}if(MAIN.status===IDLE)for(MAIN.status=ACTIVE;;)try{for(const io of step(MAIN));MAIN.status=IDLE;break}catch{MAIN.stack.active.shift()}},resume=Fn=>enqueue(Fn),step=function*(Fn){const{active:Mn}=Fn.stack;let io=Mn[0];for(Fn.stack.idle.delete(io);io;){let fo=INIT;e:for(;!fo.done&&io===Mn[0];){const mo=fo.value;switch(mo){case SUSPEND:Fn.stack.idle.add(io);break e;case CURRENT:fo=io.next(io);break;default:fo=io.next(yield mo);break}}Mn.shift(),io=Mn[0],Fn.stack.idle.delete(io)}},fork$3=(Fn,Mn)=>new Fork(Fn,Mn),exit=(Fn,Mn)=>conclude(Fn,{ok:!0,value:Mn}),abort=(Fn,Mn)=>conclude(Fn,{ok:!1,error:Mn});function*conclude(Fn,Mn){try{const io=Fn,fo=Mn.ok?io.return(Mn.value):io.throw(Mn.error);if(!fo.done)if(fo.value===SUSPEND){const{idle:mo}=Group.of(io).stack;mo.add(io)}else enqueue(io)}catch{}}function*group(Fn){if(Fn.length===0)return;const Mn=yield*current(),io=new Group(Mn);let fo=null;for(const mo of Fn){const{result:$o}=mo;if($o){!$o.ok&&!fo&&(fo=$o);continue}move(mo,io)}try{if(fo)throw fo.error;for(;yield*step(io),Stack.size(io.stack)>0;)yield*suspend()}catch(mo){for(const $o of io.stack.active)yield*abort($o,mo);for(const $o of io.stack.idle)yield*abort($o,mo),enqueue($o);throw mo}}const move=(Fn,Mn)=>{const io=Group.of(Fn);if(io!==Mn){const{active:fo,idle:mo}=io.stack,$o=Mn.stack;if(Fn.group=Mn,mo.has(Fn))mo.delete(Fn),$o.idle.add(Fn);else{const Ao=fo.indexOf(Fn);Ao>=0&&(fo.splice(Ao,1),$o.active.push(Fn))}}};function*join(Fn){Fn.status===IDLE&&(yield*Fn),Fn.result||(yield*group([Fn]));const Mn=Fn.result;if(Mn.ok)return Mn.value;throw Mn.error}class Future{constructor(Mn){this.handler=Mn,this.result}get promise(){const{result:Mn}=this,io=Mn==null?new Promise((fo,mo)=>{this.handler.onsuccess=fo,this.handler.onfailure=mo}):Mn.ok?Promise.resolve(Mn.value):Promise.reject(Mn.error);return Object.defineProperty(this,"promise",{value:io}),io}then(Mn,io){return this.activate().promise.then(Mn,io)}catch(Mn){return this.activate().promise.catch(Mn)}finally(Mn){return this.activate().promise.finally(Mn)}activate(){return this}}class Fork extends Future{constructor(Mn,io=BLANK$1,fo={},mo=INIT){super(fo),this.id=++ID,this.name=io.name||"",this.task=Mn,this.state=mo,this.status=IDLE,this.result,this.handler=fo,this.controller}*resume(){resume(this)}join(){return join(this)}abort(Mn){return abort(this,Mn)}exit(Mn){return exit(this,Mn)}get[Symbol.toStringTag](){return"Fork"}*[Symbol.iterator](){return this.activate()}activate(){return this.controller=this.task[Symbol.iterator](),this.status=ACTIVE,enqueue(this),this}panic(Mn){this.result={ok:!1,error:Mn},this.status=FINISHED;const{handler:io}=this;throw io.onfailure&&io.onfailure(Mn),Mn}step(Mn){if(this.state=Mn,Mn.done){this.result={ok:!0,value:Mn.value},this.status=FINISHED;const{handler:io}=this;io.onsuccess&&io.onsuccess(Mn.value)}return Mn}next(Mn){try{return this.step(this.controller.next(Mn))}catch(io){return this.panic(io)}}return(Mn){try{return this.step(this.controller.return(Mn))}catch(io){return this.panic(io)}}throw(Mn){try{return this.step(this.controller.throw(Mn))}catch(io){return this.panic(io)}}}const loop=function*(Fn,Mn){const io=yield*current(),fo=new Group(io);for(Group.enqueue(Fn[Symbol.iterator](),fo);;){for(const mo of step(fo))Group.enqueue(Mn(mo)[Symbol.iterator](),fo);if(Stack.size(fo.stack)>0)yield*suspend();else break}};let ID=0;const IDLE="idle",ACTIVE="active",FINISHED="finished",INIT={done:!1,value:CURRENT},BLANK$1={},NONE=function*Fn(){}(),MAIN=new Main;function Indexed(){}Object.defineProperties(Indexed,{prototype:{value:new Proxy(Object.prototype,{get(Fn,Mn,io){return typeof Mn=="symbol"?Reflect.get(Fn,Mn,io):io.get(Mn)}})}});const empty$3=()=>new BufferView,slice=(Fn,Mn=0,io=Fn.byteLength)=>{const fo=[],mo=Mn<0?Fn.byteLength-Mn:Mn,$o=io<0?Fn.byteLength-io:io;if(mo===0&&$o>=Fn.byteLength)return Fn;if(mo>$o||mo>Fn.byteLength||$o<=0)return empty$3();let Ao=0,Lo=0;for(const Wo of Fn.segments){const jo=Lo+Wo.byteLength;if(Ao===0){if($o<=jo){const zo=Wo.subarray(mo-Lo,$o-Lo);fo.push(zo),Ao=zo.byteLength;break}else if(mo<jo){const zo=mo===Lo?Wo:Wo.subarray(mo-Lo);fo.push(zo),Ao=zo.byteLength}}else if($o<=jo){const zo=$o===jo?Wo:Wo.subarray(0,$o-Lo);fo.push(zo),Ao+=zo.byteLength;break}else fo.push(Wo),Ao+=Wo.byteLength;Lo=jo}return new BufferView(fo,Fn.byteOffset+mo,Ao)},push=(Fn,Mn)=>Mn.byteLength>0?(Fn.segments.push(Mn),new BufferView(Fn.segments,Fn.byteOffset,Fn.byteLength+Mn.byteLength)):Fn,get$6=(Fn,Mn)=>{if(Mn<Fn.byteLength){let io=0;for(const fo of Fn.segments){if(Mn<io+fo.byteLength)return fo[Mn-io];io+=fo.byteLength}}},copyTo=(Fn,Mn,io)=>{let fo=io;for(const mo of Fn.segments)Mn.set(mo,fo),fo+=mo.byteLength;return Mn};function*iterate$1(Fn){for(const Mn of Fn.segments)yield*Mn}class BufferView extends Indexed{constructor(Mn=[],io=0,fo=0){super(),this.segments=Mn,this.byteLength=fo,this.length=fo,this.byteOffset=io}[Symbol.iterator](){return iterate$1(this)}slice(Mn,io){return slice(this,Mn,io)}subarray(Mn,io){return slice(this,Mn,io)}push(Mn){return push(this,Mn)}get(Mn){return get$6(this,Mn)}copyTo(Mn,io){return copyTo(this,Mn,io)}}const panic=Fn=>{throw new Error(Fn)},unreachable=(Fn,Mn,...io)=>panic(String.raw(Fn,JSON.stringify(Mn),...io)),EMPTY_BUFFER=new Uint8Array(0),EMPTY$2=[],open$1=Fn=>({config:Fn,buffer:empty$3()}),write$3=(Fn,Mn)=>Mn.byteLength>0?split(Fn.config,Fn.buffer.push(Mn),!1):{...Fn,chunks:EMPTY$2},close$6=Fn=>split(Fn.config,Fn.buffer,!0),split=(Fn,Mn,io)=>{const fo=Fn.chunker,mo=[];let $o=0;for(const Ao of fo.cut(fo.context,Mn,io))if(Ao>0){const Lo=Mn.subarray($o,$o+Ao);mo.push(Lo),$o+=Ao}return{config:Fn,chunks:mo,buffer:Mn.subarray($o)}},mutable=()=>({mutable:!0,needs:{},nodes:{},links:{},linked:EMPTY$1}),addNodes=(Fn,Mn)=>{let io=patch(Mn,{});for(const fo of Fn){const{ready:mo,has:$o,wants:Ao}=collect(fo.children,io.links);Ao.length===0?io=patch(io,{links:assign(void 0,$o),linked:[{id:fo.id,links:mo}]}):io=patch(io,{needs:assign(fo.id,Ao),nodes:{[fo.id]:{children:fo.children,count:Ao.length}}})}return io},addLink=(Fn,Mn,io)=>{const fo=io.needs[Fn],mo=io.nodes[fo];if(mo!=null)if(mo.count===1){const{ready:$o,has:Ao}=collect(mo.children,{...io.links,[Fn]:Mn});return patch(io,{needs:{[Fn]:void 0},links:assign(void 0,Ao),nodes:{[fo]:void 0},linked:[{id:fo,links:$o}]})}else return patch(io,{needs:{[Fn]:void 0},links:{[Fn]:Mn},nodes:{[fo]:{...mo,count:mo.count-1}}});else return patch(io,{links:{[Fn]:Mn}})},patch=(Fn,{needs:Mn,nodes:io,links:fo,linked:mo})=>{const $o=Fn.mutable?Fn:{...Fn},Ao=Fn.mutable?BLANK:void 0;return Mn&&($o.needs=patchDict(Fn.needs,Mn,Ao)),io&&($o.nodes=patchDict(Fn.nodes,io,Ao)),fo&&($o.links=patchDict(Fn.links,fo,Ao)),$o.linked=mo?append(Fn.linked||EMPTY$1,mo,EMPTY$1):Fn.linked||[],$o},assign=(Fn,Mn)=>{const io={};for(const fo of Mn)io[fo]=Fn;return io},patchDict=(Fn,Mn,io=Fn)=>{const fo=Fn===io?{...Fn}:Fn;for(const mo of Object.entries(Mn)){const[$o,Ao]=mo;Ao==null?delete fo[$o]:fo[$o]=Ao}return fo},append=(Fn,Mn,io=Fn)=>{if(Fn===io)return[...Fn,...Mn];for(const fo of Mn)Fn.push(fo);return Fn},collect=(Fn,Mn)=>{const io=[],fo=[],mo=[];for(const $o of Fn){const Ao=Mn[$o];Ao?(io.push($o),mo.push(Ao)):fo.push($o)}return{has:io,wants:fo,ready:mo}},EMPTY$1=Object.freeze([]),BLANK=Object.freeze({}),update=(Fn,Mn)=>{switch(Fn.type){case"write":return write$2(Mn,Fn.bytes);case"link":return link(Mn,Fn.link);case"block":return{state:Mn,effect:none()};case"close":return close$5(Mn);case"end":return{state:Mn,effect:none()};default:return unreachable`File Writer got unknown message ${Fn}`}},init=(Fn,Mn,io)=>({status:"open",metadata:Mn,config:io,writer:Fn,chunker:open$1({chunker:io.chunker}),layout:io.fileLayout.open(),nodeQueue:mutable()}),write$2=(Fn,Mn)=>{if(Fn.status==="open"){const{chunks:io,...fo}=write$3(Fn.chunker,Mn),{nodes:mo,leaves:$o,layout:Ao}=Fn.config.fileLayout.write(Fn.layout,io),{linked:Lo,...Wo}=addNodes(mo,Fn.nodeQueue),jo=[...encodeLeaves($o,Fn.config),...encodeBranches(Lo,Fn.config)];return{state:{...Fn,chunker:fo,layout:Ao,nodeQueue:Wo},effect:listen({link:effects(jo)})}}else return panic("Unable to perform write on closed file")},link=(Fn,{id:Mn,link:io,block:fo})=>{let{linked:mo,...$o}=addLink(Mn,io,Fn.nodeQueue);const Ao=encodeBranches(mo,Fn.config),Lo=Fn.status==="closed"&&Mn===Fn.rootID?{...Fn,status:"linked",link:io,nodeQueue:$o}:{...Fn,nodeQueue:$o},Wo=Fn.status==="closed"&&Mn===Fn.rootID&&Fn.end?Fn.end.resume():none();return{state:Lo,effect:listen({link:effects(Ao),block:writeBlock(Fn.writer,fo),end:Wo})}},close$5=Fn=>{if(Fn.status==="open"){const{chunks:Mn}=close$6(Fn.chunker),{layout:io,...fo}=Fn.config.fileLayout.write(Fn.layout,Mn),{root:mo,...$o}=Fn.config.fileLayout.close(io,Fn.metadata),[Ao,Lo]=isLeafNode(mo)?[[...fo.nodes,...$o.nodes],[...fo.leaves,...$o.leaves,mo]]:[[...fo.nodes,...$o.nodes,mo],[...fo.leaves,...$o.leaves]],{linked:Wo,...jo}=addNodes(Ao,Fn.nodeQueue),zo=[...encodeLeaves(Lo,Fn.config),...encodeBranches(Wo,Fn.config)],Vo=fork$3(suspend());return{state:{...Fn,chunker:null,layout:null,rootID:mo.id,status:"closed",end:Vo,nodeQueue:jo},effect:listen({link:effects(zo),end:join(Vo)})}}else return{state:Fn,effect:none()}},encodeLeaves=(Fn,Mn)=>Fn.map(io=>encodeLeaf(Mn,io,Mn.fileChunkEncoder)),encodeLeaf=function*({hasher:Fn,linker:Mn},{id:io,content:fo},mo){const $o=mo.encode(fo?asUint8Array$1(fo):EMPTY_BUFFER),Ao=yield*wait(Fn.digest($o)),Lo=Mn.createLink(mo.code,Ao),Wo={cid:Lo,bytes:$o},jo={cid:Lo,contentByteLength:fo?fo.byteLength:0,dagByteLength:$o.byteLength};return{id:io,block:Wo,link:jo}},encodeBranches=(Fn,Mn)=>Fn.map(io=>encodeBranch(Mn,io)),encodeBranch=function*(Fn,{id:Mn,links:io},fo){const mo=Fn.fileEncoder.encode({type:NodeType.File,layout:"advanced",parts:io,metadata:fo}),$o=yield*wait(Promise.resolve(Fn.hasher.digest(mo))),Ao=Fn.linker.createLink(Fn.fileEncoder.code,$o),Lo={bytes:mo,cid:Ao},Wo={cid:Ao,contentByteLength:cumulativeContentByteLength(io),dagByteLength:cumulativeDagByteLength(mo,io)};return{id:Mn,block:Lo,link:Wo}},writeBlock=function*(Fn,Mn){(Fn.desiredSize||0)<=0&&(yield*wait(Fn.ready)),Fn.write(Mn)},asUint8Array$1=Fn=>Fn instanceof Uint8Array?Fn:Fn.copyTo(new Uint8Array(Fn.byteLength),0),isLeafNode=Fn=>Fn.children==null,name="fixed",context={maxChunkSize:262144},type="Stateless",withMaxChunkSize=Fn=>({type:"Stateless",context:{maxChunkSize:Fn},name,cut}),cut=({maxChunkSize:Fn},{byteLength:Mn},io)=>{const fo=Mn/Fn|0,mo=new Array(fo).fill(Fn),$o=io?Mn-fo*Fn:0;return $o>0&&mo.push($o),mo},FixedSize=Object.freeze(Object.defineProperty({__proto__:null,context,cut,name,type,withMaxChunkSize},Symbol.toStringTag,{value:"Module"})),equals$6=(Fn,Mn)=>{if(Fn===Mn)return!0;if(Fn.byteLength!==Mn.byteLength)return!1;for(let io=0;io<Fn.byteLength;io++)if(Fn[io]!==Mn[io])return!1;return!0},coerce$3=Fn=>{if(Fn instanceof Uint8Array&&Fn.constructor.name==="Uint8Array")return Fn;if(Fn instanceof ArrayBuffer)return new Uint8Array(Fn);if(ArrayBuffer.isView(Fn))return new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength);throw new Error("Unknown type, must be binary type")};var encode_1$3=encode$a,MSB$4=128,REST$4=127,MSBALL$4=~REST$4,INT$4=Math.pow(2,31);function encode$a(Fn,Mn,io){Mn=Mn||[],io=io||0;for(var fo=io;Fn>=INT$4;)Mn[io++]=Fn&255|MSB$4,Fn/=128;for(;Fn&MSBALL$4;)Mn[io++]=Fn&255|MSB$4,Fn>>>=7;return Mn[io]=Fn|0,encode$a.bytes=io-fo+1,Mn}var decode$f=read$4,MSB$1$4=128,REST$1$4=127;function read$4(Fn,fo){var io=0,fo=fo||0,mo=0,$o=fo,Ao,Lo=Fn.length;do{if($o>=Lo)throw read$4.bytes=0,new RangeError("Could not decode varint");Ao=Fn[$o++],io+=mo<28?(Ao&REST$1$4)<<mo:(Ao&REST$1$4)*Math.pow(2,mo),mo+=7}while(Ao>=MSB$1$4);return read$4.bytes=$o-fo,io}var N1$3=Math.pow(2,7),N2$3=Math.pow(2,14),N3$3=Math.pow(2,21),N4$3=Math.pow(2,28),N5$3=Math.pow(2,35),N6$3=Math.pow(2,42),N7$3=Math.pow(2,49),N8$3=Math.pow(2,56),N9$3=Math.pow(2,63),length$3=function(Fn){return Fn<N1$3?1:Fn<N2$3?2:Fn<N3$3?3:Fn<N4$3?4:Fn<N5$3?5:Fn<N6$3?6:Fn<N7$3?7:Fn<N8$3?8:Fn<N9$3?9:10},varint$3={encode:encode_1$3,decode:decode$f,encodingLength:length$3},_brrp_varint$3=varint$3;const decode$e=(Fn,Mn=0)=>[_brrp_varint$3.decode(Fn,Mn),_brrp_varint$3.decode.bytes],encodeTo$3=(Fn,Mn,io=0)=>(_brrp_varint$3.encode(Fn,Mn,io),Mn),encodingLength$3=Fn=>_brrp_varint$3.encodingLength(Fn),create$c=(Fn,Mn)=>{const io=Mn.byteLength,fo=encodingLength$3(Fn),mo=fo+encodingLength$3(io),$o=new Uint8Array(mo+io);return encodeTo$3(Fn,$o,0),encodeTo$3(io,$o,fo),$o.set(Mn,mo),new Digest$3(Fn,io,Mn,$o)},decode$d=Fn=>{const Mn=coerce$3(Fn),[io,fo]=decode$e(Mn),[mo,$o]=decode$e(Mn.subarray(fo)),Ao=Mn.subarray(fo+$o);if(Ao.byteLength!==mo)throw new Error("Incorrect length");return new Digest$3(io,mo,Ao,Mn)},equals$5=(Fn,Mn)=>{if(Fn===Mn)return!0;{const io=Mn;return Fn.code===io.code&&Fn.size===io.size&&io.bytes instanceof Uint8Array&&equals$6(Fn.bytes,io.bytes)}};let Digest$3=class{constructor(Mn,io,fo,mo){this.code=Mn,this.size=io,this.digest=fo,this.bytes=mo}};const from$a=({name:Fn,code:Mn,encode:io})=>new Hasher$2(Fn,Mn,io);let Hasher$2=class{constructor(Mn,io,fo){this.name=Mn,this.code=io,this.encode=fo}digest(Mn){if(Mn instanceof Uint8Array){const io=this.encode(Mn);return io instanceof Uint8Array?create$c(this.code,io):io.then(fo=>create$c(this.code,fo))}else throw Error("Unknown type, must be binary type")}};const sha$1=Fn=>async Mn=>new Uint8Array(await crypto.subtle.digest(Fn,Mn)),sha256$1=from$a({name:"sha2-256",code:18,encode:sha$1("SHA-256")});function base$3(Fn,Mn){if(Fn.length>=255)throw new TypeError("Alphabet too long");for(var io=new Uint8Array(256),fo=0;fo<io.length;fo++)io[fo]=255;for(var mo=0;mo<Fn.length;mo++){var $o=Fn.charAt(mo),Ao=$o.charCodeAt(0);if(io[Ao]!==255)throw new TypeError($o+" is ambiguous");io[Ao]=mo}var Lo=Fn.length,Wo=Fn.charAt(0),jo=Math.log(Lo)/Math.log(256),zo=Math.log(256)/Math.log(Lo);function Vo(Qo){if(Qo instanceof Uint8Array||(ArrayBuffer.isView(Qo)?Qo=new Uint8Array(Qo.buffer,Qo.byteOffset,Qo.byteLength):Array.isArray(Qo)&&(Qo=Uint8Array.from(Qo))),!(Qo instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Qo.length===0)return"";for(var os=0,Cl=0,xl=0,ds=Qo.length;xl!==ds&&Qo[xl]===0;)xl++,os++;for(var _c=(ds-xl)*zo+1>>>0,$l=new Uint8Array(_c);xl!==ds;){for(var Al=Qo[xl],Il=0,us=_c-1;(Al!==0||Il<Cl)&&us!==-1;us--,Il++)Al+=256*$l[us]>>>0,$l[us]=Al%Lo>>>0,Al=Al/Lo>>>0;if(Al!==0)throw new Error("Non-zero carry");Cl=Il,xl++}for(var ps=_c-Cl;ps!==_c&&$l[ps]===0;)ps++;for(var Rl=Wo.repeat(os);ps<_c;++ps)Rl+=Fn.charAt($l[ps]);return Rl}function Go(Qo){if(typeof Qo!="string")throw new TypeError("Expected String");if(Qo.length===0)return new Uint8Array;var os=0;if(Qo[os]!==" "){for(var Cl=0,xl=0;Qo[os]===Wo;)Cl++,os++;for(var ds=(Qo.length-os)*jo+1>>>0,_c=new Uint8Array(ds);Qo[os];){var $l=io[Qo.charCodeAt(os)];if($l===255)return;for(var Al=0,Il=ds-1;($l!==0||Al<xl)&&Il!==-1;Il--,Al++)$l+=Lo*_c[Il]>>>0,_c[Il]=$l%256>>>0,$l=$l/256>>>0;if($l!==0)throw new Error("Non-zero carry");xl=Al,os++}if(Qo[os]!==" "){for(var us=ds-xl;us!==ds&&_c[us]===0;)us++;for(var ps=new Uint8Array(Cl+(ds-us)),Rl=Cl;us!==ds;)ps[Rl++]=_c[us++];return ps}}}function Jo(Qo){var os=Go(Qo);if(os)return os;throw new Error(`Non-${Mn} character`)}return{encode:Vo,decodeUnsafe:Go,decode:Jo}}var src$3=base$3,_brrp__multiformats_scope_baseX$3=src$3;let Encoder$3=class{constructor(Mn,io,fo){this.name=Mn,this.prefix=io,this.baseEncode=fo}encode(Mn){if(Mn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Mn)}`;throw Error("Unknown type, must be binary type")}},Decoder$3=class{constructor(Mn,io,fo){if(this.name=Mn,this.prefix=io,io.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=io.codePointAt(0),this.baseDecode=fo}decode(Mn){if(typeof Mn=="string"){if(Mn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Mn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Mn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(Mn){return or$5(this,Mn)}},ComposedDecoder$3=class{constructor(Mn){this.decoders=Mn}or(Mn){return or$5(this,Mn)}decode(Mn){const io=Mn[0],fo=this.decoders[io];if(fo)return fo.decode(Mn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Mn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const or$5=(Fn,Mn)=>new ComposedDecoder$3({...Fn.decoders||{[Fn.prefix]:Fn},...Mn.decoders||{[Mn.prefix]:Mn}});let Codec$3=class{constructor(Mn,io,fo,mo){this.name=Mn,this.prefix=io,this.baseEncode=fo,this.baseDecode=mo,this.encoder=new Encoder$3(Mn,io,fo),this.decoder=new Decoder$3(Mn,io,mo)}encode(Mn){return this.encoder.encode(Mn)}decode(Mn){return this.decoder.decode(Mn)}};const from$9=({name:Fn,prefix:Mn,encode:io,decode:fo})=>new Codec$3(Fn,Mn,io,fo),baseX$3=({prefix:Fn,name:Mn,alphabet:io})=>{const{encode:fo,decode:mo}=_brrp__multiformats_scope_baseX$3(io,Mn);return from$9({prefix:Fn,name:Mn,encode:fo,decode:$o=>coerce$3(mo($o))})},decode$c=(Fn,Mn,io,fo)=>{const mo={};for(let zo=0;zo<Mn.length;++zo)mo[Mn[zo]]=zo;let $o=Fn.length;for(;Fn[$o-1]==="=";)--$o;const Ao=new Uint8Array($o*io/8|0);let Lo=0,Wo=0,jo=0;for(let zo=0;zo<$o;++zo){const Vo=mo[Fn[zo]];if(Vo===void 0)throw new SyntaxError(`Non-${fo} character`);Wo=Wo<<io|Vo,Lo+=io,Lo>=8&&(Lo-=8,Ao[jo++]=255&Wo>>Lo)}if(Lo>=io||255&Wo<<8-Lo)throw new SyntaxError("Unexpected end of data");return Ao},encode$9=(Fn,Mn,io)=>{const fo=Mn[Mn.length-1]==="=",mo=(1<<io)-1;let $o="",Ao=0,Lo=0;for(let Wo=0;Wo<Fn.length;++Wo)for(Lo=Lo<<8|Fn[Wo],Ao+=8;Ao>io;)Ao-=io,$o+=Mn[mo&Lo>>Ao];if(Ao&&($o+=Mn[mo&Lo<<io-Ao]),fo)for(;$o.length*io&7;)$o+="=";return $o},rfc4648$3=({name:Fn,prefix:Mn,bitsPerChar:io,alphabet:fo})=>from$9({prefix:Mn,name:Fn,encode(mo){return encode$9(mo,fo,io)},decode(mo){return decode$c(mo,fo,io,Fn)}}),base58btc$2=baseX$3({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$3({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});const base32$2=rfc4648$3({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$3({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$3({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$3({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$3({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$3({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$3({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$3({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$3({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const format$2=(Fn,Mn)=>{const{bytes:io,version:fo}=Fn;switch(fo){case 0:return toStringV0$2(io,baseCache$2(Fn),Mn||base58btc$2.encoder);default:return toStringV1$2(io,baseCache$2(Fn),Mn||base32$2.encoder)}},cache$3=new WeakMap,baseCache$2=Fn=>{const Mn=cache$3.get(Fn);if(Mn==null){const io=new Map;return cache$3.set(Fn,io),io}return Mn};let CID$2=class mm{constructor(Mn,io,fo,mo){this.code=io,this.version=Mn,this.multihash=fo,this.bytes=mo,this["/"]=mo}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:Mn,multihash:io}=this;if(Mn!==DAG_PB_CODE$3)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(io.code!==SHA_256_CODE$2)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return mm.createV0(io)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:Mn,digest:io}=this.multihash,fo=create$c(Mn,io);return mm.createV1(this.code,fo)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(Mn){return mm.equals(this,Mn)}static equals(Mn,io){const fo=io;return fo&&Mn.code===fo.code&&Mn.version===fo.version&&equals$5(Mn.multihash,fo.multihash)}toString(Mn){return format$2(this,Mn)}toJSON(){return{"/":format$2(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(Mn){if(Mn==null)return null;const io=Mn;if(io instanceof mm)return io;if(io["/"]!=null&&io["/"]===io.bytes||io.asCID===io){const{version:fo,code:mo,multihash:$o,bytes:Ao}=io;return new mm(fo,mo,$o,Ao||encodeCID$2(fo,mo,$o.bytes))}else if(io[cidSymbol$2]===!0){const{version:fo,multihash:mo,code:$o}=io,Ao=decode$d(mo);return mm.create(fo,$o,Ao)}else return null}static create(Mn,io,fo){if(typeof io!="number")throw new Error("String codecs are no longer supported");if(!(fo.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(Mn){case 0:{if(io!==DAG_PB_CODE$3)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$3}) block encoding`);return new mm(Mn,io,fo,fo.bytes)}case 1:{const mo=encodeCID$2(Mn,io,fo.bytes);return new mm(Mn,io,fo,mo)}default:throw new Error("Invalid version")}}static createV0(Mn){return mm.create(0,DAG_PB_CODE$3,Mn)}static createV1(Mn,io){return mm.create(1,Mn,io)}static decode(Mn){const[io,fo]=mm.decodeFirst(Mn);if(fo.length)throw new Error("Incorrect length");return io}static decodeFirst(Mn){const io=mm.inspectBytes(Mn),fo=io.size-io.multihashSize,mo=coerce$3(Mn.subarray(fo,fo+io.multihashSize));if(mo.byteLength!==io.multihashSize)throw new Error("Incorrect length");const $o=mo.subarray(io.multihashSize-io.digestSize),Ao=new Digest$3(io.multihashCode,io.digestSize,$o,mo);return[io.version===0?mm.createV0(Ao):mm.createV1(io.codec,Ao),Mn.subarray(io.size)]}static inspectBytes(Mn){let io=0;const fo=()=>{const[Vo,Go]=decode$e(Mn.subarray(io));return io+=Go,Vo};let mo=fo(),$o=DAG_PB_CODE$3;if(mo===18?(mo=0,io=0):$o=fo(),mo!==0&&mo!==1)throw new RangeError(`Invalid CID version ${mo}`);const Ao=io,Lo=fo(),Wo=fo(),jo=io+Wo,zo=jo-Ao;return{version:mo,codec:$o,multihashCode:Lo,digestSize:Wo,multihashSize:zo,size:jo}}static parse(Mn,io){const[fo,mo]=parseCIDtoBytes$2(Mn,io),$o=mm.decode(mo);if($o.version===0&&Mn[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$2($o).set(fo,Mn),$o}};const parseCIDtoBytes$2=(Fn,Mn)=>{switch(Fn[0]){case"Q":{const io=Mn||base58btc$2;return[base58btc$2.prefix,io.decode(`${base58btc$2.prefix}${Fn}`)]}case base58btc$2.prefix:{const io=Mn||base58btc$2;return[base58btc$2.prefix,io.decode(Fn)]}case base32$2.prefix:{const io=Mn||base32$2;return[base32$2.prefix,io.decode(Fn)]}default:{if(Mn==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[Fn[0],Mn.decode(Fn)]}}},toStringV0$2=(Fn,Mn,io)=>{const{prefix:fo}=io;if(fo!==base58btc$2.prefix)throw Error(`Cannot string encode V0 in ${io.name} encoding`);const mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn).slice(1);return Mn.set(fo,$o),$o}else return mo},toStringV1$2=(Fn,Mn,io)=>{const{prefix:fo}=io,mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn);return Mn.set(fo,$o),$o}else return mo},DAG_PB_CODE$3=112,SHA_256_CODE$2=18,encodeCID$2=(Fn,Mn,io)=>{const fo=encodingLength$3(Fn),mo=fo+encodingLength$3(Mn),$o=new Uint8Array(mo+io.byteLength);return encodeTo$3(Fn,$o,0),encodeTo$3(Mn,$o,fo),$o.set(io,mo),$o},cidSymbol$2=Symbol.for("@ipld/js-cid/CID");class Node{constructor(Mn,io,fo){this.id=Mn,this.children=io,this.metadata=fo}}const withWidth=Fn=>({open:()=>open({width:Fn}),write:write$1,close:close$4}),defaults$3={width:174},open=({width:Fn}=defaults$3)=>({width:Fn,head:null,leafIndex:[],nodeIndex:[],lastID:0}),write$1=(Fn,Mn)=>{if(Mn.length===0)return{layout:Fn,nodes:EMPTY,leaves:EMPTY};{let{lastID:io}=Fn;const[fo,mo]=Fn.head?[null,(Mn.unshift(Fn.head),Mn)]:Mn.length===1&&Fn.leafIndex.length===0?[Mn[0],EMPTY]:[null,Mn];if(mo.length===0)return{layout:{...Fn,head:fo},nodes:EMPTY,leaves:EMPTY};{const $o=[...Fn.leafIndex],Ao=[];for(const Lo of mo){const Wo={id:++io,content:Lo};Ao.push(Wo),$o.push(Wo.id)}return $o.length>Fn.width?flush({...Fn,leafIndex:$o,head:fo,lastID:io},Ao):{layout:{...Fn,head:fo,leafIndex:$o,lastID:io},leaves:Ao,nodes:EMPTY}}}},flush=(Fn,Mn=EMPTY,io=[],fo=!1)=>{let{lastID:mo}=Fn;const $o=Fn.nodeIndex.map(jo=>[...jo]),Ao=[...Fn.leafIndex],{width:Lo}=Fn;for(;Ao.length>Lo||Ao.length>0&&fo;){grow($o,1);const jo=new Node(++mo,Ao.splice(0,Lo));$o[0].push(jo.id),io.push(jo)}let Wo=0;for(;Wo<$o.length;){const jo=$o[Wo];for(Wo++;jo.length>Lo||jo.length>0&&fo&&Wo<$o.length;){const zo=new Node(++mo,jo.splice(0,Lo));grow($o,Wo+1),$o[Wo].push(zo.id),io.push(zo)}}return{layout:{...Fn,lastID:mo,leafIndex:Ao,nodeIndex:$o},leaves:Mn,nodes:io}},close$4=(Fn,Mn)=>{const io=Fn;if(Fn.head)return{root:{id:1,content:Fn.head,metadata:Mn},leaves:EMPTY,nodes:EMPTY};if(Fn.leafIndex.length===0)return{root:{id:1,metadata:Mn},leaves:EMPTY,nodes:EMPTY};{const{nodes:fo,layout:mo}=flush(io,EMPTY,[],!0),{nodeIndex:$o}=mo,Ao=$o.length-1,Lo=$o[Ao];if(Lo.length===1){const Wo=fo[fo.length-1];return fo.length=fo.length-1,{root:Wo,nodes:fo,leaves:EMPTY}}else return{root:new Node(mo.lastID+1,Lo,Mn),nodes:fo,leaves:EMPTY}}},grow=(Fn,Mn)=>{for(;Fn.length<Mn;)Fn.push([]);return Fn},EMPTY=[],defaults$2=()=>({chunker:FixedSize,fileChunkEncoder:UnixFSLeaf,smallFileEncoder:UnixFSLeaf,fileEncoder:UnixFS,fileLayout:withWidth(174),hasher:sha256$1,linker:{createLink:CID$2.createV1}}),configure$4=Fn=>({...defaults$2(),...Fn}),UnixFSLeaf={code:code$1,name:name$1,encode:encodeFileChunk},create$b=({writer:Fn,metadata:Mn={},settings:io=defaults$2()})=>new FileWriterView(init(Fn,Mn,configure$4(io))),write=async(Fn,Mn)=>(await perform(Fn,send({type:"write",bytes:Mn})),Fn),close$3=async(Fn,{releaseLock:Mn=!1,closeWriter:io=!1}={})=>{await perform(Fn,send({type:"close"}));const{state:fo}=Fn;if(fo.status==="linked")return io?await Fn.state.writer.close():Mn&&Fn.state.writer.releaseLock(),fo.link;panic(`Expected writer to be in 'linked' state after close, but it is in "${fo.status}" instead`)},perform=(Fn,Mn)=>fork$3(loop(Mn,io=>{const{state:fo,effect:mo}=update(io,Fn.state);return Fn.state=fo,mo}));class FileWriterView{constructor(Mn){this.state=Mn}get writer(){return this.state.writer}get settings(){return this.state.config}write(Mn){return write(this,Mn)}close(Mn){return close$3(this,Mn)}}const defaults$1=defaults$2,create$a=({writer:Fn,settings:Mn=defaults$1(),metadata:io={}})=>new DirectoryWriter({writer:Fn,metadata:io,settings:Mn,entries:new Map,closed:!1}),set$4=(Fn,Mn,io,{overwrite:fo=!1}={})=>{const mo=asWritable$1(Fn.state);if(Mn.includes("/"))throw new Error(`Directory entry name "${Mn}" contains forbidden "/" character`);if(!fo&&mo.entries.has(Mn))throw new Error(`Directory already contains entry with name "${Mn}"`);return mo.entries.set(Mn,io),Fn},remove$1=(Fn,Mn)=>(asWritable$1(Fn.state).entries.delete(Mn),Fn),asWritable$1=Fn=>{if(Fn.closed)throw new Error("Can not change written directory, but you can .fork() and make changes to it");return Fn},close$2=async(Fn,{closeWriter:Mn=!1,releaseLock:io=!1}={})=>{const{writer:fo,settings:mo,metadata:$o}=asWritable$1(Fn.state);Fn.state.closed=!0;const Ao=[...links$1(Fn)],Lo=createFlatDirectory(Ao,$o),Wo=encodeDirectory(Lo),jo=await mo.hasher.digest(Wo),zo=mo.linker.createLink(code$1,jo);return(fo.desiredSize||0)<=0&&await fo.ready,fo.write({cid:zo,bytes:Wo}),Mn?await fo.close():io&&fo.releaseLock(),{cid:zo,dagByteLength:cumulativeDagByteLength(Wo,Ao)}},links$1=function*({state:Fn}){for(const[Mn,{dagByteLength:io,cid:fo}]of Fn.entries)yield{name:Mn,dagByteLength:io,cid:fo}},fork$2=({state:Fn},{writer:Mn=Fn.writer,metadata:io=Fn.metadata,settings:fo=Fn.settings}={})=>new DirectoryWriter({writer:Mn,metadata:io,settings:fo,entries:new Map(Fn.entries.entries()),closed:!1});class DirectoryWriter{constructor(Mn){this.state=Mn}get writer(){return this.state.writer}get settings(){return this.state.settings}links(){return links$1(this)}set(Mn,io,fo){return set$4(this,Mn,io,fo)}remove(Mn){return remove$1(this,Mn)}fork(Mn){return fork$2(this,Mn)}close(Mn){return close$2(this,Mn)}entries(){return this.state.entries.entries()}has(Mn){return this.state.entries.has(Mn)}get size(){return this.state.entries.size}}const api=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),empty$2=(Fn=32)=>{if(Fn!==32)throw new Error(`Uint32 BitField does not support size: ${Fn}`);return 0},from$8=(Fn,Mn)=>{let io=empty$2(Mn);for(const fo of Fn)io=set$3(io,fo);return io},size$1=Fn=>32,mask=(Fn,Mn)=>Fn>>>Mn&31,offset=(Fn,Mn)=>1<<mask(Fn,Mn),popcount$1=(Fn,Mn=31)=>bitCount(Fn&offset(Mn,0)-1),set$3=(Fn,Mn)=>Fn|1<<Mn,unset$1=(Fn,Mn)=>Fn&(255^1<<Mn),get$5=(Fn,Mn)=>(Fn>>Mn&1)!==0,bitCount=Fn=>{const Mn=Fn-(Fn>>1&1431655765),io=(Mn&858993459)+(Mn>>2&858993459);return(io+(io>>4)&252645135)*16843009>>24},and$1=(Fn,Mn)=>Fn&Mn,or$4=(Fn,Mn)=>Fn|Mn,toBytes$1=Fn=>Uint8Array.of(Fn>>24&255,Fn>>16&255,Fn>>8&255,Fn&255),fromBytes$2=Fn=>{if(Fn.length!==4)throw new Error(`Expected 4 bytes instead got ${Fn.length}`);return(Fn[0]<<24)+(Fn[1]<<16)+(Fn[2]<<8)+Fn[3]},Uint32BitField=Object.freeze(Object.defineProperty({__proto__:null,API:api,and:and$1,bitCount,empty:empty$2,from:from$8,fromBytes:fromBytes$2,get:get$5,or:or$4,popcount:popcount$1,set:set$3,size:size$1,toBytes:toBytes$1,unset:unset$1},Symbol.toStringTag,{value:"Module"}));var murmurHash3js={exports:{}};(function(Fn,Mn){(function(io,fo){var mo={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function $o(os){if(!Array.isArray(os)&&!ArrayBuffer.isView(os))return!1;for(var Cl=0;Cl<os.length;Cl++)if(!Number.isInteger(os[Cl])||os[Cl]<0||os[Cl]>255)return!1;return!0}function Ao(os,Cl){return(os&65535)*Cl+(((os>>>16)*Cl&65535)<<16)}function Lo(os,Cl){return os<<Cl|os>>>32-Cl}function Wo(os){return os^=os>>>16,os=Ao(os,2246822507),os^=os>>>13,os=Ao(os,3266489909),os^=os>>>16,os}function jo(os,Cl){os=[os[0]>>>16,os[0]&65535,os[1]>>>16,os[1]&65535],Cl=[Cl[0]>>>16,Cl[0]&65535,Cl[1]>>>16,Cl[1]&65535];var xl=[0,0,0,0];return xl[3]+=os[3]+Cl[3],xl[2]+=xl[3]>>>16,xl[3]&=65535,xl[2]+=os[2]+Cl[2],xl[1]+=xl[2]>>>16,xl[2]&=65535,xl[1]+=os[1]+Cl[1],xl[0]+=xl[1]>>>16,xl[1]&=65535,xl[0]+=os[0]+Cl[0],xl[0]&=65535,[xl[0]<<16|xl[1],xl[2]<<16|xl[3]]}function zo(os,Cl){os=[os[0]>>>16,os[0]&65535,os[1]>>>16,os[1]&65535],Cl=[Cl[0]>>>16,Cl[0]&65535,Cl[1]>>>16,Cl[1]&65535];var xl=[0,0,0,0];return xl[3]+=os[3]*Cl[3],xl[2]+=xl[3]>>>16,xl[3]&=65535,xl[2]+=os[2]*Cl[3],xl[1]+=xl[2]>>>16,xl[2]&=65535,xl[2]+=os[3]*Cl[2],xl[1]+=xl[2]>>>16,xl[2]&=65535,xl[1]+=os[1]*Cl[3],xl[0]+=xl[1]>>>16,xl[1]&=65535,xl[1]+=os[2]*Cl[2],xl[0]+=xl[1]>>>16,xl[1]&=65535,xl[1]+=os[3]*Cl[1],xl[0]+=xl[1]>>>16,xl[1]&=65535,xl[0]+=os[0]*Cl[3]+os[1]*Cl[2]+os[2]*Cl[1]+os[3]*Cl[0],xl[0]&=65535,[xl[0]<<16|xl[1],xl[2]<<16|xl[3]]}function Vo(os,Cl){return Cl%=64,Cl===32?[os[1],os[0]]:Cl<32?[os[0]<<Cl|os[1]>>>32-Cl,os[1]<<Cl|os[0]>>>32-Cl]:(Cl-=32,[os[1]<<Cl|os[0]>>>32-Cl,os[0]<<Cl|os[1]>>>32-Cl])}function Go(os,Cl){return Cl%=64,Cl===0?os:Cl<32?[os[0]<<Cl|os[1]>>>32-Cl,os[1]<<Cl]:[os[1]<<Cl-32,0]}function Jo(os,Cl){return[os[0]^Cl[0],os[1]^Cl[1]]}function Qo(os){return os=Jo(os,[0,os[0]>>>1]),os=zo(os,[4283543511,3981806797]),os=Jo(os,[0,os[0]>>>1]),os=zo(os,[3301882366,444984403]),os=Jo(os,[0,os[0]>>>1]),os}mo.x86.hash32=function(os,Cl){if(mo.inputValidation&&!$o(os))return fo;Cl=Cl||0;for(var xl=os.length%4,ds=os.length-xl,_c=Cl,$l=0,Al=3432918353,Il=461845907,us=0;us<ds;us=us+4)$l=os[us]|os[us+1]<<8|os[us+2]<<16|os[us+3]<<24,$l=Ao($l,Al),$l=Lo($l,15),$l=Ao($l,Il),_c^=$l,_c=Lo(_c,13),_c=Ao(_c,5)+3864292196;switch($l=0,xl){case 3:$l^=os[us+2]<<16;case 2:$l^=os[us+1]<<8;case 1:$l^=os[us],$l=Ao($l,Al),$l=Lo($l,15),$l=Ao($l,Il),_c^=$l}return _c^=os.length,_c=Wo(_c),_c>>>0},mo.x86.hash128=function(os,Cl){if(mo.inputValidation&&!$o(os))return fo;Cl=Cl||0;for(var xl=os.length%16,ds=os.length-xl,_c=Cl,$l=Cl,Al=Cl,Il=Cl,us=0,ps=0,Rl=0,Wl=0,Nl=597399067,wl=2869860233,Xo=951274213,rs=2716044179,as=0;as<ds;as=as+16)us=os[as]|os[as+1]<<8|os[as+2]<<16|os[as+3]<<24,ps=os[as+4]|os[as+5]<<8|os[as+6]<<16|os[as+7]<<24,Rl=os[as+8]|os[as+9]<<8|os[as+10]<<16|os[as+11]<<24,Wl=os[as+12]|os[as+13]<<8|os[as+14]<<16|os[as+15]<<24,us=Ao(us,Nl),us=Lo(us,15),us=Ao(us,wl),_c^=us,_c=Lo(_c,19),_c+=$l,_c=Ao(_c,5)+1444728091,ps=Ao(ps,wl),ps=Lo(ps,16),ps=Ao(ps,Xo),$l^=ps,$l=Lo($l,17),$l+=Al,$l=Ao($l,5)+197830471,Rl=Ao(Rl,Xo),Rl=Lo(Rl,17),Rl=Ao(Rl,rs),Al^=Rl,Al=Lo(Al,15),Al+=Il,Al=Ao(Al,5)+2530024501,Wl=Ao(Wl,rs),Wl=Lo(Wl,18),Wl=Ao(Wl,Nl),Il^=Wl,Il=Lo(Il,13),Il+=_c,Il=Ao(Il,5)+850148119;switch(us=0,ps=0,Rl=0,Wl=0,xl){case 15:Wl^=os[as+14]<<16;case 14:Wl^=os[as+13]<<8;case 13:Wl^=os[as+12],Wl=Ao(Wl,rs),Wl=Lo(Wl,18),Wl=Ao(Wl,Nl),Il^=Wl;case 12:Rl^=os[as+11]<<24;case 11:Rl^=os[as+10]<<16;case 10:Rl^=os[as+9]<<8;case 9:Rl^=os[as+8],Rl=Ao(Rl,Xo),Rl=Lo(Rl,17),Rl=Ao(Rl,rs),Al^=Rl;case 8:ps^=os[as+7]<<24;case 7:ps^=os[as+6]<<16;case 6:ps^=os[as+5]<<8;case 5:ps^=os[as+4],ps=Ao(ps,wl),ps=Lo(ps,16),ps=Ao(ps,Xo),$l^=ps;case 4:us^=os[as+3]<<24;case 3:us^=os[as+2]<<16;case 2:us^=os[as+1]<<8;case 1:us^=os[as],us=Ao(us,Nl),us=Lo(us,15),us=Ao(us,wl),_c^=us}return _c^=os.length,$l^=os.length,Al^=os.length,Il^=os.length,_c+=$l,_c+=Al,_c+=Il,$l+=_c,Al+=_c,Il+=_c,_c=Wo(_c),$l=Wo($l),Al=Wo(Al),Il=Wo(Il),_c+=$l,_c+=Al,_c+=Il,$l+=_c,Al+=_c,Il+=_c,("00000000"+(_c>>>0).toString(16)).slice(-8)+("00000000"+($l>>>0).toString(16)).slice(-8)+("00000000"+(Al>>>0).toString(16)).slice(-8)+("00000000"+(Il>>>0).toString(16)).slice(-8)},mo.x64.hash128=function(os,Cl){if(mo.inputValidation&&!$o(os))return fo;Cl=Cl||0;for(var xl=os.length%16,ds=os.length-xl,_c=[0,Cl],$l=[0,Cl],Al=[0,0],Il=[0,0],us=[2277735313,289559509],ps=[1291169091,658871167],Rl=0;Rl<ds;Rl=Rl+16)Al=[os[Rl+4]|os[Rl+5]<<8|os[Rl+6]<<16|os[Rl+7]<<24,os[Rl]|os[Rl+1]<<8|os[Rl+2]<<16|os[Rl+3]<<24],Il=[os[Rl+12]|os[Rl+13]<<8|os[Rl+14]<<16|os[Rl+15]<<24,os[Rl+8]|os[Rl+9]<<8|os[Rl+10]<<16|os[Rl+11]<<24],Al=zo(Al,us),Al=Vo(Al,31),Al=zo(Al,ps),_c=Jo(_c,Al),_c=Vo(_c,27),_c=jo(_c,$l),_c=jo(zo(_c,[0,5]),[0,1390208809]),Il=zo(Il,ps),Il=Vo(Il,33),Il=zo(Il,us),$l=Jo($l,Il),$l=Vo($l,31),$l=jo($l,_c),$l=jo(zo($l,[0,5]),[0,944331445]);switch(Al=[0,0],Il=[0,0],xl){case 15:Il=Jo(Il,Go([0,os[Rl+14]],48));case 14:Il=Jo(Il,Go([0,os[Rl+13]],40));case 13:Il=Jo(Il,Go([0,os[Rl+12]],32));case 12:Il=Jo(Il,Go([0,os[Rl+11]],24));case 11:Il=Jo(Il,Go([0,os[Rl+10]],16));case 10:Il=Jo(Il,Go([0,os[Rl+9]],8));case 9:Il=Jo(Il,[0,os[Rl+8]]),Il=zo(Il,ps),Il=Vo(Il,33),Il=zo(Il,us),$l=Jo($l,Il);case 8:Al=Jo(Al,Go([0,os[Rl+7]],56));case 7:Al=Jo(Al,Go([0,os[Rl+6]],48));case 6:Al=Jo(Al,Go([0,os[Rl+5]],40));case 5:Al=Jo(Al,Go([0,os[Rl+4]],32));case 4:Al=Jo(Al,Go([0,os[Rl+3]],24));case 3:Al=Jo(Al,Go([0,os[Rl+2]],16));case 2:Al=Jo(Al,Go([0,os[Rl+1]],8));case 1:Al=Jo(Al,[0,os[Rl]]),Al=zo(Al,us),Al=Vo(Al,31),Al=zo(Al,ps),_c=Jo(_c,Al)}return _c=Jo(_c,[0,os.length]),$l=Jo($l,[0,os.length]),_c=jo(_c,$l),$l=jo($l,_c),_c=Qo(_c),$l=Qo($l),_c=jo(_c,$l),$l=jo($l,_c),("00000000"+(_c[0]>>>0).toString(16)).slice(-8)+("00000000"+(_c[1]>>>0).toString(16)).slice(-8)+("00000000"+($l[0]>>>0).toString(16)).slice(-8)+("00000000"+($l[1]>>>0).toString(16)).slice(-8)},Fn.exports&&(Mn=Fn.exports=mo),Mn.murmurHash3=mo})()})(murmurHash3js,murmurHash3js.exports);var murmurHash3jsExports=murmurHash3js.exports,murmurhash3jsRevisited=murmurHash3jsExports;const mur=getDefaultExportFromCjs(murmurhash3jsRevisited),utf8$2=new TextEncoder,hash32=mur.x64.hash126,configure$3=({bitWidth:Fn=5,hash:Mn=hash32})=>{if(Fn>4*8)throw new RangeError(`Can not use bitWidth ${Fn} which exceeds the hashSize 4`);const fo=4294967295>>>32-Fn;return{at:(Ao,Lo)=>Ao>>>Lo*Fn&fo,from:Ao=>Mn(utf8$2.encode(Ao)),size:Math.ceil(4*8/Fn)}};class BitmapIndexedNode{constructor(Mn,io,fo,mo,$o){this.edit=Mn,this.config=$o,this.datamap=io,this.nodemap=fo,this.children=mo}get nodeArity(){return this.config.BitField.popcount(this.nodemap)}get dataArity(){return this.config.BitField.popcount(this.datamap)}empty(){return create$9(this.config)}lookup(Mn,io,fo,mo){return lookup(this,Mn,io,fo,mo)}associate(Mn,io,fo,mo,$o,Ao){return associate(this,Mn,io,fo,mo,$o,Ao)}dissociate(Mn,io,fo,mo,$o){return dissociate(this,Mn,io,fo,mo,$o)}fork(Mn=null){return fork$1(this,Mn)}entries(){return entries(this)}keys(){return keys(this)}values(){return values(this)}}class HashCollisionNode{constructor(Mn,io,fo,mo){this.edit=Mn,this.count=io,this.children=fo,this.config=mo}get nodeArity(){return 0}get dataArity(){return this.count}lookup(Mn,io,fo,mo){return lookupCollision(this,fo,mo)}associate(Mn,io,fo,mo,$o,Ao){return associateCollision(this,Mn,fo,mo,$o,Ao)}dissociate(Mn,io,fo,mo,$o){return dissociateCollision(this,Mn,fo,mo,$o)}fork(Mn=null){return forkCollision(this,Mn)}entries(){return entries(this)}keys(){return keys(this)}values(){return values(this)}}const lookupCollision=(Fn,Mn,io)=>{const{children:fo,count:mo}=Fn,$o=findHashCollisionNodeIndex(fo,mo,Mn);return fo[$o]===Mn?fo[$o+1]:io},associateCollision=(Fn,Mn,io,fo,mo,$o)=>{const{children:Ao,count:Lo}=Fn,Wo=findHashCollisionNodeIndex(Ao,Lo,fo);if(Ao[Wo]!==fo){const jo=Fn.fork(Mn);return $o.value=!0,jo.count+=1,jo.children.splice(Wo,io,mo),jo}else if(Ao[Wo+1]!==mo){const jo=Fn.fork(Mn);return jo.children[Wo+1]=mo,jo}else return Fn},dissociateCollision=(Fn,Mn,io,fo,mo)=>{const{children:$o,count:Ao,config:Lo}=Fn,Wo=findHashCollisionNodeIndex($o,Ao,fo);if($o[Wo]!==fo)return Fn;if(mo.value=!0,Ao===2){const jo=Wo===0?2:0;return associate(create$9(Lo),Mn,0,io,$o[jo],$o[jo+1],mo)}else{const jo=Fn.fork(Mn);return jo.children.splice(Wo,2),jo.count-=1,jo}},forkCollision=(Fn,Mn=null)=>canEdit(Fn.edit,Mn)?Fn:new HashCollisionNode(Mn,Fn.count,Fn.children.slice(),Fn.config),findHashCollisionNodeIndex=(Fn,Mn,io)=>{let fo=0;for(;fo<Mn&&Fn[fo]>io;)fo+=2;return fo},create$9=(Fn,Mn=null)=>new BitmapIndexedNode(Mn,Fn.BitField.empty(Math.pow(2,Fn.bitWidth)),Fn.BitField.empty(Math.pow(2,Fn.bitWidth)),[],Fn),get$4=(Fn,Mn,io)=>lookup(Fn,0,Fn.config.Path.from(Mn),Mn,io),lookup=(Fn,Mn,io,fo,mo)=>{const{datamap:$o,nodemap:Ao,config:Lo}=Fn,{Path:Wo,BitField:jo}=Lo,zo=Wo.at(io,Mn);if(jo.get($o,zo)){const Vo=jo.popcount($o,zo);return keyAt(Fn,Vo)===fo?valueAt(Fn,Vo):mo}else return jo.get(Ao,zo)?resolveNode(Fn,zo).lookup(Mn+1,io,fo,mo):mo},set$2=(Fn,Mn,io,fo,mo)=>associate(Fn,Mn,0,Fn.config.Path.from(io),io,fo,mo),associate=(Fn,Mn,io,fo,mo,$o,Ao)=>{const{datamap:Lo,nodemap:Wo,config:jo}=Fn,{Path:zo,BitField:Vo}=jo,Go=zo.at(fo,io);if(Vo.get(Lo,Go)){const Jo=Vo.popcount(Lo,Go),Qo=keyAt(Fn,Jo);if(mo===Qo)return valueAt(Fn,Jo)===$o?Fn:forkAndSet(Fn,Mn,Jo,$o);{const os=mergeTwoLeaves(jo,Mn,io+1,zo.from(Qo),Qo,valueAt(Fn,Jo),fo,mo,$o);return Ao.value=!0,migrateLeafToBranch(Fn,Mn,Go,os)}}else if(Vo.get(Wo,Go)){const Jo=resolveNode(Fn,Go),Qo=Jo.associate(Mn,io+1,fo,mo,$o,Ao);return Jo===Qo?Fn:copyAndSetChild(Fn,Mn,Go,Qo)}else{const Jo=Vo.popcount(Lo,Go);Ao.value=!0;const Qo=Fn.fork(Mn);return Qo.datamap=Vo.set(Lo,Go),Qo.children.splice(keyPosition(Jo),0,mo,$o),Qo}},remove=(Fn,Mn,io,fo)=>dissociate(Fn,Mn,0,Fn.config.Path.from(io),io,fo),dissociate=(Fn,Mn,io,fo,mo,$o)=>{const{datamap:Ao,nodemap:Lo,config:Wo}=Fn,{BitField:jo,Path:zo}=Wo,Vo=zo.at(fo,io);if(jo.get(Ao,Vo)){const Go=jo.popcount(Ao,Vo);if(mo===keyAt(Fn,Go)){$o.value=!0;const Jo=fork$1(Fn,Mn);return Jo.datamap=jo.unset(Fn.datamap,Vo),Jo.children.splice(keyPosition(Go),2),Jo}else return Fn}else if(jo.get(Lo,Vo)){const Go=resolveNode(Fn,Vo),Jo=Go.dissociate(Mn,io+1,fo,mo,$o);return hasSingleLeaf(Jo)?hasSingleNode(Fn)?Jo:inlineChild(Fn,Mn,Vo,Jo):Go===Jo?Fn:copyAndSetChild(Fn,Mn,Vo,Jo)}else return Fn},entries=function*({children:Fn}){let Mn=0;const io=Fn.length;for(;Mn<io;){const fo=Fn[Mn];if(typeof fo=="string"){Mn+=1;const mo=Fn[Mn];yield[fo,mo],Mn+=1}else break}for(;Mn<io;)yield*Fn[Mn].entries(),Mn+=1},fork$1=(Fn,Mn)=>canEdit(Fn.edit,Mn)?Fn:new BitmapIndexedNode(Mn,Fn.datamap,Fn.nodemap,Fn.children.slice(),Fn.config),keys=function*({children:Fn}){let Mn=0;const io=Fn.length;for(;Mn<io;){const fo=Fn[Mn];if(typeof fo=="string")yield fo,Mn+=2;else break}for(;Mn<io;)yield*Fn[Mn].keys(),Mn+=1},values=function*({children:Fn}){let Mn=0;const io=Fn.length;for(;Mn<io&&typeof Fn[Mn]=="string";)Mn+=1,yield Fn[Mn],Mn+=1;for(;Mn<io;)yield*Fn[Mn].values(),Mn+=1},forkAndSet=(Fn,Mn,io,fo)=>{const mo=Fn.fork(Mn);return mo.children[valuePosition(io)]=fo,mo},inlineChild=(Fn,Mn,io,fo)=>{const{datamap:mo,nodemap:$o,config:Ao}=Fn,{BitField:Lo}=Ao,Wo=fork$1(Fn,Mn);return Wo.children.splice(nodePosition(Fn,io),1),Wo.children.splice(keyPosition(Lo.popcount(mo,io)),0,fo.children[0],fo.children[1]),Wo.datamap=Lo.set(mo,io),Wo.nodemap=Lo.unset($o,io),Wo},copyAndSetChild=(Fn,Mn,io,fo)=>{const mo=fork$1(Fn,Mn);return mo.children[nodePosition(Fn,io)]=fo,mo},migrateLeafToBranch=(Fn,Mn,io,fo)=>{const{nodemap:mo,datamap:$o,config:Ao}=Fn,{BitField:Lo}=Ao,Wo=Lo.popcount($o,io),jo=keyPosition(Wo),zo=nodePosition(Fn,io),Vo=fork$1(Fn,Mn);return Vo.datamap=Lo.unset($o,io),Vo.children.splice(jo,2),Vo.nodemap=Lo.set(mo,io),Vo.children.splice(zo-1,0,fo),Vo},mergeTwoLeaves=(Fn,Mn,io,fo,mo,$o,Ao,Lo,Wo)=>{const{BitField:jo,Path:zo}=Fn;if(zo.size<io)return new HashCollisionNode(Mn,2,[mo,$o,Lo,Wo],Fn);{const Vo=zo.at(fo,io),Go=zo.at(Ao,io);return Vo===Go?new BitmapIndexedNode(Mn,jo.empty(Math.pow(2,Fn.bitWidth)),jo.from([Vo],Math.pow(2,Fn.bitWidth)),[mergeTwoLeaves(Fn,Mn,io+1,fo,mo,$o,Ao,Lo,Wo)],Fn):new BitmapIndexedNode(Mn,jo.from([Vo,Go],Math.pow(2,Fn.bitWidth)),jo.empty(Math.pow(2,Fn.bitWidth)),Vo<Go?[mo,$o,Lo,Wo]:[Lo,Wo,mo,$o],Fn)}},keyAt=({children:Fn},Mn)=>Fn[keyPosition(Mn)],keyPosition=Fn=>Fn*2,valueAt=({children:Fn},Mn)=>Fn[valuePosition(Mn)],valuePosition=Fn=>Fn*2+1,resolveNode=(Fn,Mn)=>Fn.children[nodePosition(Fn,Mn)],nodePosition=({children:Fn,nodemap:Mn,config:io},fo)=>Fn.length-1-io.BitField.popcount(Mn,fo),canEdit=(Fn,Mn)=>Fn!=null&&Fn===Mn,hasSingleLeaf=Fn=>Fn.nodeArity===0&&Fn.dataArity===1,hasSingleNode=({config:{BitField:Fn},datamap:Mn,nodemap:io})=>Fn.popcount(Mn)===0&&Fn.popcount(io)===1,empty$1=new Uint8Array(0);function fromHex(Fn){const Mn=Fn.match(/../g);return Mn!=null?new Uint8Array(Mn.map(io=>parseInt(io,16))):empty$1}function coerce$2(Fn){if(Fn instanceof Uint8Array&&Fn.constructor.name==="Uint8Array")return Fn;if(Fn instanceof ArrayBuffer)return new Uint8Array(Fn);if(ArrayBuffer.isView(Fn))return new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength);throw new Error("Unknown type, must be binary type")}function base$2(Fn,Mn){if(Fn.length>=255)throw new TypeError("Alphabet too long");for(var io=new Uint8Array(256),fo=0;fo<io.length;fo++)io[fo]=255;for(var mo=0;mo<Fn.length;mo++){var $o=Fn.charAt(mo),Ao=$o.charCodeAt(0);if(io[Ao]!==255)throw new TypeError($o+" is ambiguous");io[Ao]=mo}var Lo=Fn.length,Wo=Fn.charAt(0),jo=Math.log(Lo)/Math.log(256),zo=Math.log(256)/Math.log(Lo);function Vo(Qo){if(Qo instanceof Uint8Array||(ArrayBuffer.isView(Qo)?Qo=new Uint8Array(Qo.buffer,Qo.byteOffset,Qo.byteLength):Array.isArray(Qo)&&(Qo=Uint8Array.from(Qo))),!(Qo instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Qo.length===0)return"";for(var os=0,Cl=0,xl=0,ds=Qo.length;xl!==ds&&Qo[xl]===0;)xl++,os++;for(var _c=(ds-xl)*zo+1>>>0,$l=new Uint8Array(_c);xl!==ds;){for(var Al=Qo[xl],Il=0,us=_c-1;(Al!==0||Il<Cl)&&us!==-1;us--,Il++)Al+=256*$l[us]>>>0,$l[us]=Al%Lo>>>0,Al=Al/Lo>>>0;if(Al!==0)throw new Error("Non-zero carry");Cl=Il,xl++}for(var ps=_c-Cl;ps!==_c&&$l[ps]===0;)ps++;for(var Rl=Wo.repeat(os);ps<_c;++ps)Rl+=Fn.charAt($l[ps]);return Rl}function Go(Qo){if(typeof Qo!="string")throw new TypeError("Expected String");if(Qo.length===0)return new Uint8Array;var os=0;if(Qo[os]!==" "){for(var Cl=0,xl=0;Qo[os]===Wo;)Cl++,os++;for(var ds=(Qo.length-os)*jo+1>>>0,_c=new Uint8Array(ds);Qo[os];){var $l=io[Qo.charCodeAt(os)];if($l===255)return;for(var Al=0,Il=ds-1;($l!==0||Al<xl)&&Il!==-1;Il--,Al++)$l+=Lo*_c[Il]>>>0,_c[Il]=$l%256>>>0,$l=$l/256>>>0;if($l!==0)throw new Error("Non-zero carry");xl=Al,os++}if(Qo[os]!==" "){for(var us=ds-xl;us!==ds&&_c[us]===0;)us++;for(var ps=new Uint8Array(Cl+(ds-us)),Rl=Cl;us!==ds;)ps[Rl++]=_c[us++];return ps}}}function Jo(Qo){var os=Go(Qo);if(os)return os;throw new Error(`Non-${Mn} character`)}return{encode:Vo,decodeUnsafe:Go,decode:Jo}}var src$2=base$2,_brrp__multiformats_scope_baseX$2=src$2;let Encoder$2=class{constructor(Mn,io,fo){tp(this,"name");tp(this,"prefix");tp(this,"baseEncode");this.name=Mn,this.prefix=io,this.baseEncode=fo}encode(Mn){if(Mn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Mn)}`;throw Error("Unknown type, must be binary type")}},Decoder$2=class{constructor(Mn,io,fo){tp(this,"name");tp(this,"prefix");tp(this,"baseDecode");tp(this,"prefixCodePoint");this.name=Mn,this.prefix=io;const mo=io.codePointAt(0);if(mo===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=mo,this.baseDecode=fo}decode(Mn){if(typeof Mn=="string"){if(Mn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Mn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Mn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(Mn){return or$3(this,Mn)}},ComposedDecoder$2=class{constructor(Mn){tp(this,"decoders");this.decoders=Mn}or(Mn){return or$3(this,Mn)}decode(Mn){const io=Mn[0],fo=this.decoders[io];if(fo!=null)return fo.decode(Mn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Mn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function or$3(Fn,Mn){return new ComposedDecoder$2({...Fn.decoders??{[Fn.prefix]:Fn},...Mn.decoders??{[Mn.prefix]:Mn}})}let Codec$2=class{constructor(Mn,io,fo,mo){tp(this,"name");tp(this,"prefix");tp(this,"baseEncode");tp(this,"baseDecode");tp(this,"encoder");tp(this,"decoder");this.name=Mn,this.prefix=io,this.baseEncode=fo,this.baseDecode=mo,this.encoder=new Encoder$2(Mn,io,fo),this.decoder=new Decoder$2(Mn,io,mo)}encode(Mn){return this.encoder.encode(Mn)}decode(Mn){return this.decoder.decode(Mn)}};function from$7({name:Fn,prefix:Mn,encode:io,decode:fo}){return new Codec$2(Fn,Mn,io,fo)}function baseX$2({name:Fn,prefix:Mn,alphabet:io}){const{encode:fo,decode:mo}=_brrp__multiformats_scope_baseX$2(io,Fn);return from$7({prefix:Mn,name:Fn,encode:fo,decode:$o=>coerce$2(mo($o))})}function decode$b(Fn,Mn,io,fo){const mo={};for(let zo=0;zo<Mn.length;++zo)mo[Mn[zo]]=zo;let $o=Fn.length;for(;Fn[$o-1]==="=";)--$o;const Ao=new Uint8Array($o*io/8|0);let Lo=0,Wo=0,jo=0;for(let zo=0;zo<$o;++zo){const Vo=mo[Fn[zo]];if(Vo===void 0)throw new SyntaxError(`Non-${fo} character`);Wo=Wo<<io|Vo,Lo+=io,Lo>=8&&(Lo-=8,Ao[jo++]=255&Wo>>Lo)}if(Lo>=io||255&Wo<<8-Lo)throw new SyntaxError("Unexpected end of data");return Ao}function encode$8(Fn,Mn,io){const fo=Mn[Mn.length-1]==="=",mo=(1<<io)-1;let $o="",Ao=0,Lo=0;for(let Wo=0;Wo<Fn.length;++Wo)for(Lo=Lo<<8|Fn[Wo],Ao+=8;Ao>io;)Ao-=io,$o+=Mn[mo&Lo>>Ao];if(Ao!==0&&($o+=Mn[mo&Lo<<io-Ao]),fo)for(;$o.length*io&7;)$o+="=";return $o}function rfc4648$2({name:Fn,prefix:Mn,bitsPerChar:io,alphabet:fo}){return from$7({prefix:Mn,name:Fn,encode(mo){return encode$8(mo,fo,io)},decode(mo){return decode$b(mo,fo,io,Fn)}})}rfc4648$2({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$2({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$2({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$2({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$2({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$2({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$2({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$2({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$2({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});baseX$2({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});baseX$2({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});baseX$2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var encode_1$2=encode$7,MSB$3=128,REST$3=127,MSBALL$3=~REST$3,INT$3=Math.pow(2,31);function encode$7(Fn,Mn,io){Mn=Mn||[],io=io||0;for(var fo=io;Fn>=INT$3;)Mn[io++]=Fn&255|MSB$3,Fn/=128;for(;Fn&MSBALL$3;)Mn[io++]=Fn&255|MSB$3,Fn>>>=7;return Mn[io]=Fn|0,encode$7.bytes=io-fo+1,Mn}var decode$a=read$3,MSB$1$3=128,REST$1$3=127;function read$3(Fn,fo){var io=0,fo=fo||0,mo=0,$o=fo,Ao,Lo=Fn.length;do{if($o>=Lo)throw read$3.bytes=0,new RangeError("Could not decode varint");Ao=Fn[$o++],io+=mo<28?(Ao&REST$1$3)<<mo:(Ao&REST$1$3)*Math.pow(2,mo),mo+=7}while(Ao>=MSB$1$3);return read$3.bytes=$o-fo,io}var N1$2=Math.pow(2,7),N2$2=Math.pow(2,14),N3$2=Math.pow(2,21),N4$2=Math.pow(2,28),N5$2=Math.pow(2,35),N6$2=Math.pow(2,42),N7$2=Math.pow(2,49),N8$2=Math.pow(2,56),N9$2=Math.pow(2,63),length$2=function(Fn){return Fn<N1$2?1:Fn<N2$2?2:Fn<N3$2?3:Fn<N4$2?4:Fn<N5$2?5:Fn<N6$2?6:Fn<N7$2?7:Fn<N8$2?8:Fn<N9$2?9:10},varint$2={encode:encode_1$2,decode:decode$a,encodingLength:length$2},_brrp_varint$2=varint$2;function encodeTo$2(Fn,Mn,io=0){return _brrp_varint$2.encode(Fn,Mn,io),Mn}function encodingLength$2(Fn){return _brrp_varint$2.encodingLength(Fn)}function create$8(Fn,Mn){const io=Mn.byteLength,fo=encodingLength$2(Fn),mo=fo+encodingLength$2(io),$o=new Uint8Array(mo+io);return encodeTo$2(Fn,$o,0),encodeTo$2(io,$o,fo),$o.set(Mn,mo),new Digest$2(Fn,io,Mn,$o)}let Digest$2=class{constructor(Mn,io,fo,mo){tp(this,"code");tp(this,"size");tp(this,"digest");tp(this,"bytes");this.code=Mn,this.size=io,this.digest=fo,this.bytes=mo}};function from$6({name:Fn,code:Mn,encode:io}){return new Hasher$1(Fn,Mn,io)}let Hasher$1=class{constructor(Mn,io,fo){tp(this,"name");tp(this,"code");tp(this,"encode");this.name=Mn,this.code=io,this.encode=fo}digest(Mn){if(Mn instanceof Uint8Array){const io=this.encode(Mn);return io instanceof Uint8Array?create$8(this.code,io):io.then(fo=>create$8(this.code,fo))}else throw Error("Unknown type, must be binary type")}};const murmur364=from$6({name:"murmur3-x64-64",code:34,encode:Fn=>fromHex(mur.x64.hash128(Fn)).subarray(0,8)}),utf8$1=new TextEncoder,hash64$1=Fn=>murmur364.encode(Fn),configure$2=({bitWidth:Fn=8,hash:Mn=hash64$1}={})=>{const io=Mn(new Uint8Array).byteLength;return{from:$o=>Mn(utf8$1.encode($o)),at:($o,Ao)=>{const Lo=Ao*Fn;if(Lo>io)throw new RangeError("Out of bounds");return toInt($o,Lo,Fn)},size:Math.ceil(io*8/Fn)}},toInt=(Fn,Mn,io)=>{let fo=Mn/8|0,mo=Mn%8,$o=io,Ao=0;for(;$o>0&&fo<Fn.byteLength;){const Lo=Fn[fo],Wo=8-mo,jo=Wo<$o?Wo:$o,zo=8-mo-jo,Go=(255>>mo&Lo)>>zo;Ao=(Ao<<jo)+Go,$o-=jo,fo++,mo=0}return Ao},empty=(Fn=256)=>{if(Fn%8!==0)throw new Error("Must be multiple of 8");return new Uint8Array(Fn/8)},from$5=(Fn,Mn)=>{let io=empty(Mn);for(const fo of Fn){const{byte:mo,byteOffset:$o,bitOffset:Ao}=at(io,fo);io[$o]=mo|1<<Ao}return io},size=Fn=>Fn.byteLength*8,at=(Fn,Mn)=>{const io=Fn.byteLength-1-(Mn/8|0),fo=Mn%8;return{byte:Fn[io],byteOffset:io,bitOffset:fo}},setByte=(Fn,Mn,io)=>{if(Fn[Mn]!==io){const fo=Fn.slice(0);return fo[Mn]=io,fo}return Fn},set$1=(Fn,Mn)=>{const{byte:io,byteOffset:fo,bitOffset:mo}=at(Fn,Mn);return setByte(Fn,fo,io|1<<mo)},unset=(Fn,Mn)=>{const{byte:io,byteOffset:fo,bitOffset:mo}=at(Fn,Mn);return setByte(Fn,fo,io&(255^1<<mo))},get$3=(Fn,Mn)=>{var{byte:io,bitOffset:fo}=at(Fn,Mn);return(io>>fo&1)!==0},toBytes=Fn=>Fn,fromBytes$1=Fn=>Fn,popcount=(Fn,Mn=Fn.byteLength*8)=>{const{byteOffset:io,bitOffset:fo,byte:mo}=at(Fn,Mn);let $o=popcount$1(mo,fo),Ao=Fn.byteLength-1;for(;Ao>io;){const Lo=Fn[Ao];$o+=bitCount(Lo),Ao--}return $o},or$2=(Fn,Mn)=>{const io=Fn.slice();let fo=0;for(;fo<Fn.length;)io[fo]|=Mn[fo],fo++;return io},and=(Fn,Mn)=>{const io=Fn.slice();let fo=0;for(;fo<Fn.length;)io[fo]&=Mn[fo],fo++;return io},Uint8ArrayBitField=Object.freeze(Object.defineProperty({__proto__:null,API:api,and,empty,from:from$5,fromBytes:fromBytes$1,get:get$3,or:or$2,popcount,set:set$1,size,toBytes,unset},Symbol.toStringTag,{value:"Module"})),NOT_FOUND=new RangeError("Not Found"),configure$1=({bitWidth:Fn=5,BitField:Mn=Fn===5?Uint32BitField:Uint8ArrayBitField,Path:io=Fn===5?configure$3({bitWidth:Fn}):configure$2({bitWidth:Fn})}={})=>({bitWidth:Fn,BitField:Mn,Path:io}),from$4=(Fn,Mn)=>{const io=builder$1(Mn);for(const[fo,mo]of Fn)io.set(fo,mo);return io.build()},has=(Fn,Mn)=>get$4(Fn.root,Mn,NOT_FOUND)!==NOT_FOUND,get$2=(Fn,Mn,io=void 0)=>get$4(Fn.root,Mn,io),builder$1=Fn=>{const Mn={},io=configure$1(Fn);return new HashMapBuilder(Mn,0,create$9(io,Mn),io)};class PersistentHashMap{constructor(Mn=0,io,fo){this.count=Mn,this.root=io,this.config=fo}get size(){return this.count}clone(){return new PersistentHashMap(this.count,this.root,this.config)}empty(){return new PersistentHashMap(0,create$9(this.config,null),this.config)}has(Mn){return has(this,Mn)}get(Mn){return get$4(this.root,Mn,void 0)}set(Mn,io){const fo={value:!1},mo=set$2(this.root,null,Mn,io,fo);return mo===this.root?this:new PersistentHashMap(fo.value?this.count+1:this.count,mo,this.config)}delete(Mn){const io=remove(this.root,null,Mn,{value:!1});return io===this.root?this:new PersistentHashMap(this.count-1,io,this.config)}get bitField(){return this.config.BitField.or(this.root.datamap,this.root.nodemap)}[Symbol.iterator](){return this.entries()}entries(){return this.root.entries()}keys(){return this.root.keys()}values(){return this.root.values()}createBuilder(){return new HashMapBuilder({},this.count,this.root,this.config)}}class HashMapBuilder{constructor(Mn,io,fo,mo){this.edit=Mn,this.count=io,this.root=fo,this.config=mo}get size(){if(this.edit)return this.count;throw new Error(".size was accessed on the finalized builder")}set(Mn,io){if(this.edit){const fo={value:!1},mo=set$2(this.root,this.edit,Mn,io,fo);return this.root!==mo&&(this.root=mo),fo.value&&(this.count+=1),this}else throw new Error(".set was called on the finalized builder")}delete(Mn){if(this.edit){if(this.count===0)return this;const io={value:!1},fo=remove(this.root,this.edit,Mn,io);return fo!==this.root&&(this.root=fo),io.value&&(this.count-=1),this}else throw new Error(".delete was called on the finalized builder")}build(){if(this.edit)return this.edit=null,new PersistentHashMap(this.count,this.root,this.config);throw new Error(".build was called on the finalized builder")}}const utf8=new TextEncoder,hash64=Fn=>murmur364.encode(Fn),configure=({bitWidth:Fn=8,hash:Mn=hash64})=>{const io=Mn(new Uint8Array).byteLength,fo={bitWidth:Fn,hash:Mn,hashSize:io};return{at:(Ao,Lo)=>read$2(Ao,Lo,fo),from:Ao=>utf8.encode(Ao),size:1/0}},read$2=(Fn,Mn=0,{bitWidth:io=8,hash:fo,hashSize:mo})=>{const $o=mo*8;let Ao=0,Lo=io,Wo=io*Mn;for(;Lo>0;){const jo=Wo/$o>>0,zo=fo(jo===0?Fn:appendByte(Fn,jo)),Vo=$o<=Wo?Wo%$o:Wo,Go=$o-Vo,Jo=Go<Lo?Go:Lo;Ao=(Ao<<Jo)+toInt(zo,Vo,Jo),Lo-=Jo,Wo+=Jo}return Ao},appendByte=(Fn,Mn)=>{const io=new Uint8Array(Fn.byteLength+1).fill(Mn,Fn.byteLength);return io.set(Fn),io},bitWidth=8,config={bitWidth,Path:configure({bitWidth})},tableSize=Fn=>Math.pow(2,Fn.config.bitWidth),builder=(Fn=config)=>builder$1(Fn),from$3=(Fn,Mn=config)=>from$4(Fn,Mn),bitField=({datamap:Fn,nodemap:Mn,config:{BitField:io}})=>withoutLeadingZeros(io.toBytes(io.or(Fn,Mn))),withoutLeadingZeros=Fn=>{let Mn=0;for(;Mn<Fn.byteLength;){if(Fn[Mn]!==0)return Fn.subarray(Mn);Mn+=1}return Fn.subarray(Mn)},iterate=function*(Fn){const{config:Mn,datamap:io,nodemap:fo}=Fn,{BitField:mo}=Mn,$o=mo.size(io);let Ao=0,Lo=0;for(;Ao<$o;){const Wo=Ao.toString(16).toUpperCase().padStart(2,"0");if(mo.get(io,Ao)){const jo=keyAt(Fn,Lo);yield{prefix:Wo,key:jo,value:valueAt(Fn,Lo)},Lo++}else mo.get(fo,Ao)&&(yield{prefix:Wo,node:resolveNode(Fn,Ao)});Ao++}};function readonly({enumerable:Fn=!0,configurable:Mn=!1}={}){return{enumerable:Fn,configurable:Mn,writable:!1}}function*linksWithin(Fn,Mn){if(Mn!=null&&typeof Mn=="object")if(Array.isArray(Mn))for(const[io,fo]of Mn.entries()){const mo=[...Fn,io],$o=CID$2.asCID(fo);$o?yield[mo.join("/"),$o]:typeof fo=="object"&&(yield*links(fo,mo))}else{const io=CID$2.asCID(Mn);io?yield[Fn.join("/"),io]:yield*links(Mn,Fn)}}function*links(Fn,Mn){if(Fn==null||Fn instanceof Uint8Array)return;const io=CID$2.asCID(Fn);io&&(yield[Mn.join("/"),io]);for(const[fo,mo]of Object.entries(Fn)){const $o=[...Mn,fo];yield*linksWithin($o,mo)}}function*treeWithin(Fn,Mn){if(Array.isArray(Mn))for(const[io,fo]of Mn.entries()){const mo=[...Fn,io];yield mo.join("/"),typeof fo=="object"&&!CID$2.asCID(fo)&&(yield*tree(fo,mo))}else yield*tree(Mn,Fn)}function*tree(Fn,Mn){if(!(Fn==null||typeof Fn!="object"))for(const[io,fo]of Object.entries(Fn)){const mo=[...Mn,io];yield mo.join("/"),fo!=null&&!(fo instanceof Uint8Array)&&typeof fo=="object"&&!CID$2.asCID(fo)&&(yield*treeWithin(mo,fo))}}function get$1(Fn,Mn){let io=Fn;for(const[fo,mo]of Mn.entries()){if(io=io[mo],io==null)throw new Error(`Object has no property at ${Mn.slice(0,fo+1).map(Ao=>`[${JSON.stringify(Ao)}]`).join("")}`);const $o=CID$2.asCID(io);if($o)return{value:$o,remaining:Mn.slice(fo+1).join("/")}}return{value:io}}class Block{constructor({cid:Mn,bytes:io,value:fo}){if(!Mn||!io||typeof fo>"u")throw new Error("Missing required argument");this.cid=Mn,this.bytes=io,this.value=fo,this.asBlock=this,Object.defineProperties(this,{cid:readonly(),bytes:readonly(),value:readonly(),asBlock:readonly()})}links(){return links(this.value,[])}tree(){return tree(this.value,[])}get(Mn="/"){return get$1(this.value,Mn.split("/").filter(Boolean))}}const defaults=defaults$2,create$7=({writer:Fn,settings:Mn=defaults(),metadata:io={}})=>new HAMTDirectoryWriter({writer:Fn,metadata:io,settings:Mn,entries:new HashMap,closed:!1}),asWritable=Fn=>{if(Fn.closed)throw new Error("Can not change written HAMT directory, but you can .fork() and make changes to it");return Fn},close$1=async(Fn,{closeWriter:Mn=!1,releaseLock:io=!1}={})=>{const{writer:fo,settings:mo,metadata:$o}=asWritable(Fn.state);Fn.state.closed=!0;const{entries:Ao}=Fn.state;if(!(Ao instanceof HashMap))throw new Error(`not a HAMT: ${Ao}`);const Lo=Ao.builder.build(),Wo=iterateBlocks(Lo,Lo.root,mo);let jo=null;for await(const zo of Wo)jo=zo,(fo.desiredSize||0)<=0&&await fo.ready,fo.write(zo);if(jo==null)throw new Error("no root block yielded");return Mn?await fo.close():io&&fo.releaseLock(),{cid:jo.cid,dagByteLength:cumulativeDagByteLength(jo.bytes,jo.value.entries)}},iterateBlocks=async function*(Fn,Mn,io){const fo=[];for(const $o of iterate(Mn))if("key"in $o)fo.push({name:`${$o.prefix??""}${$o.key??""}`,dagByteLength:$o.value.dagByteLength,cid:$o.value.cid});else{let Ao=null;for await(const Lo of iterateBlocks(Fn,$o.node,io))yield Lo,Ao=Lo;if(Ao==null)throw new Error("no root block yielded");fo.push({name:$o.prefix,dagByteLength:cumulativeDagByteLength(Ao.bytes,Ao.value.entries),cid:Ao.cid})}const mo=createDirectoryShard(fo,bitField(Mn),tableSize(Fn),murmur364.code);yield await encodeHAMTShardBlock(mo,io)};async function encodeHAMTShardBlock(Fn,Mn){const io=encodeHAMTShard(Fn),fo=await Mn.hasher.digest(io),mo=Mn.linker.createLink(code$2,fo);return new Block({cid:mo,bytes:io,value:Fn})}const fork=({state:Fn},{writer:Mn=Fn.writer,metadata:io=Fn.metadata,settings:fo=Fn.settings}={})=>new HAMTDirectoryWriter({writer:Mn,metadata:io,settings:fo,entries:new HashMap(from$3(Fn.entries.entries()).createBuilder()),closed:!1});class HAMTDirectoryWriter{constructor(Mn){this.state=Mn}get writer(){return this.state.writer}get settings(){return this.state.settings}set(Mn,io,fo){return set$4(this,Mn,io,fo)}remove(Mn){return remove$1(this,Mn)}fork(Mn){return fork(this,Mn)}close(Mn){return close$1(this,Mn)}entries(){return this.state.entries.entries()}has(Mn){return this.state.entries.has(Mn)}get size(){return this.state.entries.size}}class HashMap extends Map{constructor(Mn=builder()){super(),this.builder=Mn}clear(){this.builder=builder()}delete(Mn){const{root:io}=this.builder;return this.builder.delete(Mn),this.builder.root!==io}forEach(Mn,io=this){for(const[fo,mo]of this.builder.root.entries())Mn.call(io,mo,fo,this)}get(Mn){return get$2(this.builder,Mn)}has(Mn){return has(this.builder,Mn)}set(Mn,io){return this.builder.set(Mn,io),this}get size(){return this.builder.size}[Symbol.iterator](){return this.builder.root.entries()}entries(){return this.builder.root.entries()}keys(){return this.builder.root.keys()}values(){return this.builder.root.values()}}const createWriter=({writable:Fn,settings:Mn=defaults$2()})=>new FileSystemWriter({writer:Fn.getWriter(),settings:Mn}),close=async(Fn,{releaseLock:Mn=!0,closeWriter:io=!0}={})=>(io?await Fn.writer.close():Mn&&Fn.writer.releaseLock(),Fn);class FileSystemWriter{constructor({writer:Mn,settings:io}){this.writer=Mn,this.settings=configure$4(io)}createFileWriter({settings:Mn=this.settings,metadata:io}={}){return create$b({writer:this.writer,settings:Mn,metadata:io})}createDirectoryWriter({settings:Mn=this.settings,metadata:io}={}){return create$a({writer:this.writer,settings:Mn,metadata:io})}close(Mn){return close(this,Mn)}}const BLOCK_SIZE_LIMIT=1048576,defaultCapacity=BLOCK_SIZE_LIMIT*100,withCapacity=(Fn=defaultCapacity)=>({highWaterMark:Fn,size:Mn=>Mn.bytes.length}),SHARD_THRESHOLD=1e3,queuingStrategy=withCapacity(),defaultSettings=configure$4({fileChunkEncoder:raw,smallFileEncoder:raw,chunker:withMaxChunkSize(1024*1024),fileLayout:withWidth(1024)});function createFileEncoderStream(Fn,Mn){const{readable:io,writable:fo}=new TransformStream({},queuingStrategy),mo=(Mn==null?void 0:Mn.settings)??defaultSettings,$o=createWriter({writable:fo,settings:mo}),Ao=new UnixFSFileBuilder("",Fn);return(async()=>(await Ao.finalize($o),await $o.close()))(),io}var Wv;class UnixFSFileBuilder{constructor(Mn,io){a1(this,Wv);this.name=Mn,Zp(this,Wv,io)}async finalize(Mn){const io=create$b(Mn);return await cp(this,Wv).stream().pipeTo(new WritableStream({async write(fo){await io.write(fo)}})),await io.close()}}Wv=new WeakMap;var jy;class UnixFSDirectoryBuilder{constructor(Mn,io){a1(this,jy);tp(this,"entries",new Map);this.name=Mn,Zp(this,jy,io)}async finalize(Mn){var fo;const io=this.entries.size<=SHARD_THRESHOLD?create$a(Mn):create$7(Mn);for(const[mo,$o]of this.entries){const Ao=await $o.finalize(Mn);(fo=cp(this,jy))!=null&&fo.onDirectoryEntryLink&&cp(this,jy).onDirectoryEntryLink({name:$o.name,...Ao}),io.set(mo,Ao)}return await io.close()}}jy=new WeakMap;function createDirectoryEncoderStream(Fn,Mn){const io=new UnixFSDirectoryBuilder("",Mn);for(const Lo of Fn){const Wo=Lo.name.split("/");(Wo[0]===""||Wo[0]===".")&&Wo.shift();let jo=io;for(const[zo,Vo]of Wo.entries()){if(zo===Wo.length-1){jo.entries.set(Vo,new UnixFSFileBuilder(Wo.join("/"),Lo));break}let Go=jo.entries.get(Vo);if(Go==null){const Jo=jo===io?Vo:`${jo.name}/${Vo}`;Go=new UnixFSDirectoryBuilder(Jo,Mn),jo.entries.set(Vo,Go)}if(!(Go instanceof UnixFSDirectoryBuilder))throw new Error(`"${Lo.name}" cannot be a file and a directory`);jo=Go}}const{readable:fo,writable:mo}=new TransformStream({},queuingStrategy),$o=(Mn==null?void 0:Mn.settings)??defaultSettings,Ao=createWriter({writable:mo,settings:$o});return(async()=>{const Lo=await io.finalize(Ao);Mn!=null&&Mn.onDirectoryEntryLink&&Mn.onDirectoryEntryLink({name:"",...Lo}),await Ao.close()})(),fo}async function readHeader(Fn,Mn){const io=decodeVarint$1(await Fn.upTo(8),Fn);if(io===0)throw new Error("Invalid CAR header (zero length)");const fo=await Fn.exactly(io,!0),mo=decode$1a(fo);if(CarV1HeaderOrV2Pragma.toTyped(mo)===void 0)throw new Error("Invalid CAR header format");if(mo.version!==1&&mo.version!==2||Mn!==void 0&&mo.version!==Mn)throw new Error(`Invalid CAR version: ${mo.version}${Mn!==void 0?` (expected ${Mn})`:""}`);if(mo.version===1){if(!Array.isArray(mo.roots))throw new Error("Invalid CAR header format");return mo}if(mo.roots!==void 0)throw new Error("Invalid CAR header format");const $o=decodeV2Header(await Fn.exactly(V2_HEADER_LENGTH,!0));Fn.seek($o.dataOffset-Fn.pos);const Ao=await readHeader(Fn,1);return Object.assign(Ao,$o)}async function readCid(Fn){const Mn=await Fn.exactly(2,!1);if(Mn[0]===CIDV0_BYTES$1.SHA2_256&&Mn[1]===CIDV0_BYTES$1.LENGTH){const Ao=await Fn.exactly(34,!0),Lo=decode$O(Ao);return CID$6.create(0,CIDV0_BYTES$1.DAG_PB,Lo)}const io=decodeVarint$1(await Fn.upTo(8),Fn);if(io!==1)throw new Error(`Unexpected CID version (${io})`);const fo=decodeVarint$1(await Fn.upTo(8),Fn),mo=await Fn.exactly(getMultihashLength$1(await Fn.upTo(8)),!0),$o=decode$O(mo);return CID$6.create(io,fo,$o)}async function readBlockHead(Fn){const Mn=Fn.pos;let io=decodeVarint$1(await Fn.upTo(8),Fn);if(io===0)throw new Error("Invalid CAR section (zero length)");io+=Fn.pos-Mn;const fo=await readCid(Fn),mo=io-Number(Fn.pos-Mn);return{cid:fo,length:io,blockLength:mo}}async function readBlock(Fn){const{cid:Mn,blockLength:io}=await readBlockHead(Fn);return{bytes:await Fn.exactly(io,!0),cid:Mn}}async function readBlockIndex(Fn){const Mn=Fn.pos,{cid:io,length:fo,blockLength:mo}=await readBlockHead(Fn),$o={cid:io,length:fo,blockLength:mo,offset:Mn,blockOffset:Fn.pos};return Fn.seek($o.blockLength),$o}function createDecoder(Fn){const Mn=(async()=>{const io=await readHeader(Fn);if(io.version===2){const fo=Fn.pos-io.dataOffset;Fn=limitReader(Fn,io.dataSize-fo)}return io})();return{header:()=>Mn,async*blocks(){for(await Mn;(await Fn.upTo(8)).length>0;)yield await readBlock(Fn)},async*blocksIndex(){for(await Mn;(await Fn.upTo(8)).length>0;)yield await readBlockIndex(Fn)}}}function bytesReader(Fn){let Mn=0;return{async upTo(io){return Fn.subarray(Mn,Mn+Math.min(io,Fn.length-Mn))},async exactly(io,fo=!1){if(io>Fn.length-Mn)throw new Error("Unexpected end of data");const mo=Fn.subarray(Mn,Mn+io);return fo&&(Mn+=io),mo},seek(io){Mn+=io},get pos(){return Mn}}}function chunkReader(Fn){let Mn=0,io=0,fo=0,mo=new Uint8Array(0);const $o=async Ao=>{io=mo.length-fo;const Lo=[mo.subarray(fo)];for(;io<Ao;){const jo=await Fn();if(jo==null)break;io<0?jo.length>io&&Lo.push(jo.subarray(-io)):Lo.push(jo),io+=jo.length}mo=new Uint8Array(Lo.reduce((jo,zo)=>jo+zo.length,0));let Wo=0;for(const jo of Lo)mo.set(jo,Wo),Wo+=jo.length;fo=0};return{async upTo(Ao){return mo.length-fo<Ao&&await $o(Ao),mo.subarray(fo,fo+Math.min(mo.length-fo,Ao))},async exactly(Ao,Lo=!1){if(mo.length-fo<Ao&&await $o(Ao),mo.length-fo<Ao)throw new Error("Unexpected end of data");const Wo=mo.subarray(fo,fo+Ao);return Lo&&(Mn+=Ao,fo+=Ao),Wo},seek(Ao){Mn+=Ao,fo+=Ao},get pos(){return Mn}}}function asyncIterableReader(Fn){const Mn=Fn[Symbol.asyncIterator]();async function io(){const fo=await Mn.next();return fo.done?null:fo.value}return chunkReader(io)}function limitReader(Fn,Mn){let io=0;return{async upTo(fo){let mo=await Fn.upTo(fo);return mo.length+io>Mn&&(mo=mo.subarray(0,Mn-io)),mo},async exactly(fo,mo=!1){const $o=await Fn.exactly(fo,mo);if($o.length+io>Mn)throw new Error("Unexpected end of data");return mo&&(io+=fo),$o},seek(fo){io+=fo,Fn.seek(fo)},get pos(){return Fn.pos}}}class CarIteratorBase{constructor(Mn,io,fo){this._version=Mn,this._roots=io,this._iterable=fo,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}}class CarBlockIterator extends CarIteratorBase{[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(Mn){const{version:io,roots:fo,iterator:mo}=await fromBytes(Mn);return new CarBlockIterator(io,fo,mo)}static async fromIterable(Mn){const{version:io,roots:fo,iterator:mo}=await fromIterable(Mn);return new CarBlockIterator(io,fo,mo)}}async function fromBytes(Fn){if(!(Fn instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeIterator(bytesReader(Fn))}async function fromIterable(Fn){if(!Fn||typeof Fn[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return decodeIterator(asyncIterableReader(Fn))}async function decodeIterator(Fn){const Mn=createDecoder(Fn),{version:io,roots:fo}=await Mn.header();return{version:io,roots:fo,iterator:Mn.blocks()}}const CAR_V1_VERSION=1;function createHeader(Fn){const Mn=encode$O({version:CAR_V1_VERSION,roots:Fn}),io=varint$a.encode(Mn.length),fo=new Uint8Array(io.length+Mn.length);return fo.set(io,0),fo.set(Mn,io.length),fo}function createEncoder(Fn){return{async setRoots(Mn){const io=createHeader(Mn);await Fn.write(io)},async writeBlock(Mn){const{cid:io,bytes:fo}=Mn;await Fn.write(new Uint8Array(varint$a.encode(io.bytes.length+fo.length))),await Fn.write(io.bytes),fo.length&&await Fn.write(fo)},async close(){await Fn.end()},version(){return CAR_V1_VERSION}}}function noop(){}function create$6(){const Fn=[];let Mn=null,io=noop,fo=!1,mo=null,$o=noop;const Ao=()=>(Mn||(Mn=new Promise(jo=>{io=()=>{Mn=null,io=noop,jo()}})),Mn),Lo={write(jo){Fn.push(jo);const zo=Ao();return $o(),zo},async end(){fo=!0;const jo=Ao();$o(),await jo}},Wo={async next(){const jo=Fn.shift();return jo?(Fn.length===0&&io(),{done:!1,value:jo}):fo?(io(),{done:!0,value:void 0}):(mo||(mo=new Promise(zo=>{$o=()=>(mo=null,$o=noop,zo(Wo.next()))})),mo)}};return{writer:Lo,iterator:Wo}}class CarWriter{constructor(Mn,io){this._encoder=io,this._mutex=io.setRoots(Mn),this._ended=!1}async put(Mn){if(!(Mn.bytes instanceof Uint8Array)||!Mn.cid)throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");const io=CID$6.asCID(Mn.cid);if(!io)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then(()=>this._encoder.writeBlock({cid:io,bytes:Mn.bytes})),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}version(){return this._encoder.version()}static create(Mn){Mn=toRoots(Mn);const{encoder:io,iterator:fo}=encodeWriter(),mo=new CarWriter(Mn,io),$o=new CarWriterOut(fo);return{writer:mo,out:$o}}static createAppender(){const{encoder:Mn,iterator:io}=encodeWriter();Mn.setRoots=()=>Promise.resolve();const fo=new CarWriter([],Mn),mo=new CarWriterOut(io);return{writer:fo,out:mo}}static async updateRootsInBytes(Mn,io){const fo=bytesReader(Mn);await readHeader(fo);const mo=createHeader(io);if(Number(fo.pos)!==mo.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${fo.pos} bytes, new header is ${mo.length} bytes)`);return Mn.set(mo,0),Mn}}class CarWriterOut{constructor(Mn){this._iterator=Mn}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function encodeWriter(){const Fn=create$6(),{writer:Mn,iterator:io}=Fn;return{encoder:createEncoder(Mn),iterator:io}}function toRoots(Fn){if(Fn===void 0)return[];if(!Array.isArray(Fn)){const io=CID$6.asCID(Fn);if(!io)throw new TypeError("roots must be a single CID or an array of CIDs");return[io]}const Mn=[];for(const io of Fn){const fo=CID$6.asCID(io);if(!fo)throw new TypeError("roots must be a single CID or an array of CIDs");Mn.push(fo)}return Mn}const code=514,NO_ROOTS_HEADER_LENGTH=18;function headerEncodingLength(Fn){if(!Fn)return NO_ROOTS_HEADER_LENGTH;const Mn=encode$O({version:1,roots:[Fn]}).length;return varint$a.encodingLength(Mn)+Mn}function blockHeaderEncodingLength(Fn){const Mn=Fn.cid.bytes.length+Fn.bytes.length;return varint$a.encodingLength(Mn)+Fn.cid.bytes.length}function blockEncodingLength(Fn){return blockHeaderEncodingLength(Fn)+Fn.bytes.length}async function encode$6(Fn,Mn){const{writer:io,out:fo}=CarWriter.create(Mn);let mo;(async()=>{try{for await(const Lo of Fn)await io.put(Lo)}catch(Lo){mo=Lo}finally{await io.close()}})();const $o=[];for await(const Lo of fo)$o.push(Lo);if(mo!=null)throw mo;const Ao=Mn!=null?[Mn]:[];return Object.assign(new Blob($o),{version:1,roots:Ao})}class BlockStream extends ReadableStream{constructor(Mn){let io=null;const fo=()=>io||(io=CarBlockIterator.fromIterable(toIterable(Mn.stream())),io);let mo=null;super({async start(){mo=(await fo())[Symbol.asyncIterator]()},async pull($o){if(!mo)throw new Error("missing blocks iterator");const{value:Ao,done:Lo}=await mo.next();if(Lo)return $o.close();$o.enqueue(Ao)}}),this.getRoots=async()=>await(await fo()).getRoots()}}function toIterable(Fn){return Symbol.asyncIterator in Fn?Fn:async function*(){const Mn=Fn.getReader();try{for(;;){const{done:io,value:fo}=await Mn.read();if(io)return;yield fo}}finally{Mn.releaseLock()}}()}function compare(Fn,Mn){for(let io=0;io<Fn.byteLength;io++){if(Fn[io]<Mn[io])return-1;if(Fn[io]>Mn[io])return 1}return Fn.byteLength>Mn.byteLength?1:Fn.byteLength<Mn.byteLength?-1:0}function equals$4(Fn,Mn){if(Fn===Mn)return!0;if(Fn.byteLength!==Mn.byteLength)return!1;for(let io=0;io<Fn.byteLength;io++)if(Fn[io]!==Mn[io])return!1;return!0}function coerce$1(Fn){if(Fn instanceof Uint8Array&&Fn.constructor.name==="Uint8Array")return Fn;if(Fn instanceof ArrayBuffer)return new Uint8Array(Fn);if(ArrayBuffer.isView(Fn))return new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength);throw new Error("Unknown type, must be binary type")}function fromString(Fn){return new TextEncoder().encode(Fn)}function toString(Fn){return new TextDecoder().decode(Fn)}function base$1(Fn,Mn){if(Fn.length>=255)throw new TypeError("Alphabet too long");for(var io=new Uint8Array(256),fo=0;fo<io.length;fo++)io[fo]=255;for(var mo=0;mo<Fn.length;mo++){var $o=Fn.charAt(mo),Ao=$o.charCodeAt(0);if(io[Ao]!==255)throw new TypeError($o+" is ambiguous");io[Ao]=mo}var Lo=Fn.length,Wo=Fn.charAt(0),jo=Math.log(Lo)/Math.log(256),zo=Math.log(256)/Math.log(Lo);function Vo(Qo){if(Qo instanceof Uint8Array||(ArrayBuffer.isView(Qo)?Qo=new Uint8Array(Qo.buffer,Qo.byteOffset,Qo.byteLength):Array.isArray(Qo)&&(Qo=Uint8Array.from(Qo))),!(Qo instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Qo.length===0)return"";for(var os=0,Cl=0,xl=0,ds=Qo.length;xl!==ds&&Qo[xl]===0;)xl++,os++;for(var _c=(ds-xl)*zo+1>>>0,$l=new Uint8Array(_c);xl!==ds;){for(var Al=Qo[xl],Il=0,us=_c-1;(Al!==0||Il<Cl)&&us!==-1;us--,Il++)Al+=256*$l[us]>>>0,$l[us]=Al%Lo>>>0,Al=Al/Lo>>>0;if(Al!==0)throw new Error("Non-zero carry");Cl=Il,xl++}for(var ps=_c-Cl;ps!==_c&&$l[ps]===0;)ps++;for(var Rl=Wo.repeat(os);ps<_c;++ps)Rl+=Fn.charAt($l[ps]);return Rl}function Go(Qo){if(typeof Qo!="string")throw new TypeError("Expected String");if(Qo.length===0)return new Uint8Array;var os=0;if(Qo[os]!==" "){for(var Cl=0,xl=0;Qo[os]===Wo;)Cl++,os++;for(var ds=(Qo.length-os)*jo+1>>>0,_c=new Uint8Array(ds);Qo[os];){var $l=io[Qo.charCodeAt(os)];if($l===255)return;for(var Al=0,Il=ds-1;($l!==0||Al<xl)&&Il!==-1;Il--,Al++)$l+=Lo*_c[Il]>>>0,_c[Il]=$l%256>>>0,$l=$l/256>>>0;if($l!==0)throw new Error("Non-zero carry");xl=Al,os++}if(Qo[os]!==" "){for(var us=ds-xl;us!==ds&&_c[us]===0;)us++;for(var ps=new Uint8Array(Cl+(ds-us)),Rl=Cl;us!==ds;)ps[Rl++]=_c[us++];return ps}}}function Jo(Qo){var os=Go(Qo);if(os)return os;throw new Error(`Non-${Mn} character`)}return{encode:Vo,decodeUnsafe:Go,decode:Jo}}var src$1=base$1,_brrp__multiformats_scope_baseX$1=src$1;let Encoder$1=class{constructor(Mn,io,fo){tp(this,"name");tp(this,"prefix");tp(this,"baseEncode");this.name=Mn,this.prefix=io,this.baseEncode=fo}encode(Mn){if(Mn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Mn)}`;throw Error("Unknown type, must be binary type")}},Decoder$1=class{constructor(Mn,io,fo){tp(this,"name");tp(this,"prefix");tp(this,"baseDecode");tp(this,"prefixCodePoint");this.name=Mn,this.prefix=io;const mo=io.codePointAt(0);if(mo===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=mo,this.baseDecode=fo}decode(Mn){if(typeof Mn=="string"){if(Mn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Mn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Mn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(Mn){return or$1(this,Mn)}},ComposedDecoder$1=class{constructor(Mn){tp(this,"decoders");this.decoders=Mn}or(Mn){return or$1(this,Mn)}decode(Mn){const io=Mn[0],fo=this.decoders[io];if(fo!=null)return fo.decode(Mn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Mn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function or$1(Fn,Mn){return new ComposedDecoder$1({...Fn.decoders??{[Fn.prefix]:Fn},...Mn.decoders??{[Mn.prefix]:Mn}})}let Codec$1=class{constructor(Mn,io,fo,mo){tp(this,"name");tp(this,"prefix");tp(this,"baseEncode");tp(this,"baseDecode");tp(this,"encoder");tp(this,"decoder");this.name=Mn,this.prefix=io,this.baseEncode=fo,this.baseDecode=mo,this.encoder=new Encoder$1(Mn,io,fo),this.decoder=new Decoder$1(Mn,io,mo)}encode(Mn){return this.encoder.encode(Mn)}decode(Mn){return this.decoder.decode(Mn)}};function from$2({name:Fn,prefix:Mn,encode:io,decode:fo}){return new Codec$1(Fn,Mn,io,fo)}function baseX$1({name:Fn,prefix:Mn,alphabet:io}){const{encode:fo,decode:mo}=_brrp__multiformats_scope_baseX$1(io,Fn);return from$2({prefix:Mn,name:Fn,encode:fo,decode:$o=>coerce$1(mo($o))})}function decode$9(Fn,Mn,io,fo){const mo={};for(let zo=0;zo<Mn.length;++zo)mo[Mn[zo]]=zo;let $o=Fn.length;for(;Fn[$o-1]==="=";)--$o;const Ao=new Uint8Array($o*io/8|0);let Lo=0,Wo=0,jo=0;for(let zo=0;zo<$o;++zo){const Vo=mo[Fn[zo]];if(Vo===void 0)throw new SyntaxError(`Non-${fo} character`);Wo=Wo<<io|Vo,Lo+=io,Lo>=8&&(Lo-=8,Ao[jo++]=255&Wo>>Lo)}if(Lo>=io||255&Wo<<8-Lo)throw new SyntaxError("Unexpected end of data");return Ao}function encode$5(Fn,Mn,io){const fo=Mn[Mn.length-1]==="=",mo=(1<<io)-1;let $o="",Ao=0,Lo=0;for(let Wo=0;Wo<Fn.length;++Wo)for(Lo=Lo<<8|Fn[Wo],Ao+=8;Ao>io;)Ao-=io,$o+=Mn[mo&Lo>>Ao];if(Ao!==0&&($o+=Mn[mo&Lo<<io-Ao]),fo)for(;$o.length*io&7;)$o+="=";return $o}function rfc4648$1({name:Fn,prefix:Mn,bitsPerChar:io,alphabet:fo}){return from$2({prefix:Mn,name:Fn,encode(mo){return encode$5(mo,fo,io)},decode(mo){return decode$9(mo,fo,io,Fn)}})}baseX$1({prefix:"9",name:"base10",alphabet:"0123456789"});rfc4648$1({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4});rfc4648$1({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});rfc4648$1({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});const alphabet=Array.from(""),alphabetBytesToChars=alphabet.reduce((Fn,Mn,io)=>(Fn[io]=Mn,Fn),[]),alphabetCharsToBytes=alphabet.reduce((Fn,Mn,io)=>{const fo=Mn.codePointAt(0);if(fo==null)throw new Error(`Invalid character: ${Mn}`);return Fn[fo]=io,Fn},[]);function encode$4(Fn){return Fn.reduce((Mn,io)=>(Mn+=alphabetBytesToChars[io],Mn),"")}function decode$8(Fn){const Mn=[];for(const io of Fn){const fo=io.codePointAt(0);if(fo==null)throw new Error(`Invalid character: ${io}`);const mo=alphabetCharsToBytes[fo];if(mo==null)throw new Error(`Non-base256emoji character: ${io}`);Mn.push(mo)}return new Uint8Array(Mn)}from$2({prefix:"",name:"base256emoji",encode:encode$4,decode:decode$8});const base32$1=rfc4648$1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648$1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648$1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648$1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648$1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648$1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648$1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648$1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648$1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const base36$1=baseX$1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});baseX$1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});const base58btc$1=baseX$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});rfc4648$1({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});rfc4648$1({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});rfc4648$1({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});rfc4648$1({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});rfc4648$1({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});from$2({prefix:"\0",name:"identity",encode:Fn=>toString(Fn),decode:Fn=>fromString(Fn)});new TextEncoder;new TextDecoder;var encode_1$1=encode$3,MSB$2=128,REST$2=127,MSBALL$2=~REST$2,INT$2=Math.pow(2,31);function encode$3(Fn,Mn,io){Mn=Mn||[],io=io||0;for(var fo=io;Fn>=INT$2;)Mn[io++]=Fn&255|MSB$2,Fn/=128;for(;Fn&MSBALL$2;)Mn[io++]=Fn&255|MSB$2,Fn>>>=7;return Mn[io]=Fn|0,encode$3.bytes=io-fo+1,Mn}var decode$7=read$1,MSB$1$2=128,REST$1$2=127;function read$1(Fn,fo){var io=0,fo=fo||0,mo=0,$o=fo,Ao,Lo=Fn.length;do{if($o>=Lo)throw read$1.bytes=0,new RangeError("Could not decode varint");Ao=Fn[$o++],io+=mo<28?(Ao&REST$1$2)<<mo:(Ao&REST$1$2)*Math.pow(2,mo),mo+=7}while(Ao>=MSB$1$2);return read$1.bytes=$o-fo,io}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function(Fn){return Fn<N1$1?1:Fn<N2$1?2:Fn<N3$1?3:Fn<N4$1?4:Fn<N5$1?5:Fn<N6$1?6:Fn<N7$1?7:Fn<N8$1?8:Fn<N9$1?9:10},varint$1={encode:encode_1$1,decode:decode$7,encodingLength:length$1},_brrp_varint$1=varint$1;function decode$6(Fn,Mn=0){return[_brrp_varint$1.decode(Fn,Mn),_brrp_varint$1.decode.bytes]}function encodeTo$1(Fn,Mn,io=0){return _brrp_varint$1.encode(Fn,Mn,io),Mn}function encodingLength$1(Fn){return _brrp_varint$1.encodingLength(Fn)}function create$5(Fn,Mn){const io=Mn.byteLength,fo=encodingLength$1(Fn),mo=fo+encodingLength$1(io),$o=new Uint8Array(mo+io);return encodeTo$1(Fn,$o,0),encodeTo$1(io,$o,fo),$o.set(Mn,mo),new Digest$1(Fn,io,Mn,$o)}function decode$5(Fn){const Mn=coerce$1(Fn),[io,fo]=decode$6(Mn),[mo,$o]=decode$6(Mn.subarray(fo)),Ao=Mn.subarray(fo+$o);if(Ao.byteLength!==mo)throw new Error("Incorrect length");return new Digest$1(io,mo,Ao,Mn)}function equals$3(Fn,Mn){if(Fn===Mn)return!0;{const io=Mn;return Fn.code===io.code&&Fn.size===io.size&&io.bytes instanceof Uint8Array&&equals$4(Fn.bytes,io.bytes)}}let Digest$1=class{constructor(Mn,io,fo,mo){tp(this,"code");tp(this,"size");tp(this,"digest");tp(this,"bytes");this.code=Mn,this.size=io,this.digest=fo,this.bytes=mo}};function from$1({name:Fn,code:Mn,encode:io}){return new Hasher(Fn,Mn,io)}class Hasher{constructor(Mn,io,fo){tp(this,"name");tp(this,"code");tp(this,"encode");this.name=Mn,this.code=io,this.encode=fo}digest(Mn){if(Mn instanceof Uint8Array){const io=this.encode(Mn);return io instanceof Uint8Array?create$5(this.code,io):io.then(fo=>create$5(this.code,fo))}else throw Error("Unknown type, must be binary type")}}function sha(Fn){return async Mn=>new Uint8Array(await crypto.subtle.digest(Fn,Mn))}const sha256=from$1({name:"sha2-256",code:18,encode:sha("SHA-256")});function format$1(Fn,Mn){const{bytes:io,version:fo}=Fn;switch(fo){case 0:return toStringV0$1(io,baseCache$1(Fn),Mn??base58btc$1.encoder);default:return toStringV1$1(io,baseCache$1(Fn),Mn??base32$1.encoder)}}const cache$2=new WeakMap;function baseCache$1(Fn){const Mn=cache$2.get(Fn);if(Mn==null){const io=new Map;return cache$2.set(Fn,io),io}return Mn}var S6;let CID$1=class wm{constructor(Mn,io,fo,mo){tp(this,"code");tp(this,"version");tp(this,"multihash");tp(this,"bytes");tp(this,"/");tp(this,S6,"CID");this.code=io,this.version=Mn,this.multihash=fo,this.bytes=mo,this["/"]=mo}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:Mn,multihash:io}=this;if(Mn!==DAG_PB_CODE$2)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(io.code!==SHA_256_CODE$1)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return wm.createV0(io)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:Mn,digest:io}=this.multihash,fo=create$5(Mn,io);return wm.createV1(this.code,fo)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(Mn){return wm.equals(this,Mn)}static equals(Mn,io){const fo=io;return fo!=null&&Mn.code===fo.code&&Mn.version===fo.version&&equals$3(Mn.multihash,fo.multihash)}toString(Mn){return format$1(this,Mn)}toJSON(){return{"/":format$1(this)}}link(){return this}[(S6=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(Mn){if(Mn==null)return null;const io=Mn;if(io instanceof wm)return io;if(io["/"]!=null&&io["/"]===io.bytes||io.asCID===io){const{version:fo,code:mo,multihash:$o,bytes:Ao}=io;return new wm(fo,mo,$o,Ao??encodeCID$1(fo,mo,$o.bytes))}else if(io[cidSymbol$1]===!0){const{version:fo,multihash:mo,code:$o}=io,Ao=decode$5(mo);return wm.create(fo,$o,Ao)}else return null}static create(Mn,io,fo){if(typeof io!="number")throw new Error("String codecs are no longer supported");if(!(fo.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(Mn){case 0:{if(io!==DAG_PB_CODE$2)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$2}) block encoding`);return new wm(Mn,io,fo,fo.bytes)}case 1:{const mo=encodeCID$1(Mn,io,fo.bytes);return new wm(Mn,io,fo,mo)}default:throw new Error("Invalid version")}}static createV0(Mn){return wm.create(0,DAG_PB_CODE$2,Mn)}static createV1(Mn,io){return wm.create(1,Mn,io)}static decode(Mn){const[io,fo]=wm.decodeFirst(Mn);if(fo.length!==0)throw new Error("Incorrect length");return io}static decodeFirst(Mn){const io=wm.inspectBytes(Mn),fo=io.size-io.multihashSize,mo=coerce$1(Mn.subarray(fo,fo+io.multihashSize));if(mo.byteLength!==io.multihashSize)throw new Error("Incorrect length");const $o=mo.subarray(io.multihashSize-io.digestSize),Ao=new Digest$1(io.multihashCode,io.digestSize,$o,mo);return[io.version===0?wm.createV0(Ao):wm.createV1(io.codec,Ao),Mn.subarray(io.size)]}static inspectBytes(Mn){let io=0;const fo=()=>{const[Vo,Go]=decode$6(Mn.subarray(io));return io+=Go,Vo};let mo=fo(),$o=DAG_PB_CODE$2;if(mo===18?(mo=0,io=0):$o=fo(),mo!==0&&mo!==1)throw new RangeError(`Invalid CID version ${mo}`);const Ao=io,Lo=fo(),Wo=fo(),jo=io+Wo,zo=jo-Ao;return{version:mo,codec:$o,multihashCode:Lo,digestSize:Wo,multihashSize:zo,size:jo}}static parse(Mn,io){const[fo,mo]=parseCIDtoBytes$1(Mn,io),$o=wm.decode(mo);if($o.version===0&&Mn[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache$1($o).set(fo,Mn),$o}};function parseCIDtoBytes$1(Fn,Mn){switch(Fn[0]){case"Q":{const io=Mn??base58btc$1;return[base58btc$1.prefix,io.decode(`${base58btc$1.prefix}${Fn}`)]}case base58btc$1.prefix:{const io=Mn??base58btc$1;return[base58btc$1.prefix,io.decode(Fn)]}case base32$1.prefix:{const io=Mn??base32$1;return[base32$1.prefix,io.decode(Fn)]}case base36$1.prefix:{const io=Mn??base36$1;return[base36$1.prefix,io.decode(Fn)]}default:{if(Mn==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[Fn[0],Mn.decode(Fn)]}}}function toStringV0$1(Fn,Mn,io){const{prefix:fo}=io;if(fo!==base58btc$1.prefix)throw Error(`Cannot string encode V0 in ${io.name} encoding`);const mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn).slice(1);return Mn.set(fo,$o),$o}else return mo}function toStringV1$1(Fn,Mn,io){const{prefix:fo}=io,mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn);return Mn.set(fo,$o),$o}else return mo}const DAG_PB_CODE$2=112,SHA_256_CODE$1=18;function encodeCID$1(Fn,Mn,io){const fo=encodingLength$1(Fn),mo=fo+encodingLength$1(Mn),$o=new Uint8Array(mo+io.byteLength);return encodeTo$1(Fn,$o,0),encodeTo$1(Mn,$o,fo),$o.set(io,mo),$o}const cidSymbol$1=Symbol.for("@ipld/js-cid/CID");function create$4(Fn,Mn){return CID$1.create(1,Fn,Mn)}const cache$1=new WeakMap,toBase58String=Fn=>{let Mn=cache$1.get(Fn.bytes);return Mn||(Mn=base58btc$1.encode(Fn.bytes),cache$1.set(Fn.bytes,Mn)),Mn};var Nm;class DigestMap{constructor(Mn){a1(this,Nm);Zp(this,Nm,new Map);for(const[io,fo]of Mn??[])this.set(io,fo)}get[Symbol.toStringTag](){return"DigestMap"}clear(){cp(this,Nm).clear()}delete(Mn){const io=toBase58String(Mn);return cp(this,Nm).delete(io)}forEach(Mn,io){for(const[fo,mo]of cp(this,Nm).values())Mn.call(io,mo,fo,this)}get(Mn){const io=cp(this,Nm).get(toBase58String(Mn));if(io)return io[1]}has(Mn){return cp(this,Nm).has(toBase58String(Mn))}set(Mn,io){return cp(this,Nm).set(toBase58String(Mn),[Mn,io]),this}get size(){return cp(this,Nm).size}[Symbol.iterator](){return this.entries()}*entries(){yield*cp(this,Nm).values()}*keys(){for(const[Mn]of cp(this,Nm).values())yield Mn}*values(){for(const[,Mn]of cp(this,Nm).values())yield Mn}}Nm=new WeakMap;const version="index/sharded/dag@0.1";variant({[version]:struct({content:match$2(),shards:array(match$2())})});var Fv,fy;class ShardedDAGIndex{constructor(Mn){a1(this,Fv);a1(this,fy);Zp(this,Fv,Mn),Zp(this,fy,new DigestMap)}get content(){return cp(this,Fv)}get shards(){return cp(this,fy)}setSlice(Mn,io,fo){let mo=cp(this,fy).get(Mn);mo||(mo=new DigestMap,cp(this,fy).set(Mn,mo)),mo.set(io,fo)}archive(){return archive$1(this)}}Fv=new WeakMap,fy=new WeakMap;const create$3=Fn=>new ShardedDAGIndex(Fn),archive$1=async Fn=>{const Mn=new Map,io=[...Fn.shards.entries()].sort((Lo,Wo)=>compare(Lo[0].digest,Wo[0].digest)),fo={content:Fn.content,shards:[]};for(const Lo of io){const Wo=[...Lo[1].entries()].sort((Go,Jo)=>compare(Go[0].digest,Jo[0].digest)).map(Go=>[Go[0].bytes,Go[1]]),jo=encode$O([Lo[0].bytes,Wo]),zo=await sha256.digest(jo),Vo=create$4(code$h,zo);Mn.set(Vo.toString(),{cid:Vo,bytes:jo}),fo.shards.push(Vo)}const mo=encode$O({[version]:fo}),$o=await sha256.digest(mo),Ao=create$4(code$h,$o);return ok(encode$v({roots:[{cid:Ao,bytes:mo}],blocks:Mn}))};function alloc(Fn=0){return new Uint8Array(Fn)}function allocUnsafe(Fn=0){return new Uint8Array(Fn)}function asUint8Array(Fn){return Fn}function concat(Fn,Mn){Mn==null&&(Mn=Fn.reduce((mo,$o)=>mo+$o.length,0));const io=allocUnsafe(Mn);let fo=0;for(const mo of Fn)io.set(mo,fo),fo+=mo.length;return io}function equals$2(Fn,Mn){if(Fn===Mn)return!0;if(Fn.byteLength!==Mn.byteLength)return!1;for(let io=0;io<Fn.byteLength;io++)if(Fn[io]!==Mn[io])return!1;return!0}const symbol=Symbol.for("@achingbrain/uint8arraylist");function findBufAndOffset(Fn,Mn){if(Mn==null||Mn<0)throw new RangeError("index is out of bounds");let io=0;for(const fo of Fn){const mo=io+fo.byteLength;if(Mn<mo)return{buf:fo,index:Mn-io};io=mo}throw new RangeError("index is out of bounds")}function isUint8ArrayList(Fn){return!!(Fn!=null&&Fn[symbol])}var T6;class Uint8ArrayList{constructor(...Mn){tp(this,"bufs");tp(this,"length");tp(this,T6,!0);this.bufs=[],this.length=0,Mn.length>0&&this.appendAll(Mn)}*[(T6=symbol,Symbol.iterator)](){yield*this.bufs}get byteLength(){return this.length}append(...Mn){this.appendAll(Mn)}appendAll(Mn){let io=0;for(const fo of Mn)if(fo instanceof Uint8Array)io+=fo.byteLength,this.bufs.push(fo);else if(isUint8ArrayList(fo))io+=fo.byteLength,this.bufs.push(...fo.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=io}prepend(...Mn){this.prependAll(Mn)}prependAll(Mn){let io=0;for(const fo of Mn.reverse())if(fo instanceof Uint8Array)io+=fo.byteLength,this.bufs.unshift(fo);else if(isUint8ArrayList(fo))io+=fo.byteLength,this.bufs.unshift(...fo.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=io}get(Mn){const io=findBufAndOffset(this.bufs,Mn);return io.buf[io.index]}set(Mn,io){const fo=findBufAndOffset(this.bufs,Mn);fo.buf[fo.index]=io}write(Mn,io=0){if(Mn instanceof Uint8Array)for(let fo=0;fo<Mn.length;fo++)this.set(io+fo,Mn[fo]);else if(isUint8ArrayList(Mn))for(let fo=0;fo<Mn.length;fo++)this.set(io+fo,Mn.get(fo));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(Mn){if(Mn=Math.trunc(Mn),!(Number.isNaN(Mn)||Mn<=0)){if(Mn===this.byteLength){this.bufs=[],this.length=0;return}for(;this.bufs.length>0;)if(Mn>=this.bufs[0].byteLength)Mn-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(Mn),this.length-=Mn;break}}}slice(Mn,io){const{bufs:fo,length:mo}=this._subList(Mn,io);return concat(fo,mo)}subarray(Mn,io){const{bufs:fo,length:mo}=this._subList(Mn,io);return fo.length===1?fo[0]:concat(fo,mo)}sublist(Mn,io){const{bufs:fo,length:mo}=this._subList(Mn,io),$o=new Uint8ArrayList;return $o.length=mo,$o.bufs=[...fo],$o}_subList(Mn,io){if(Mn=Mn??0,io=io??this.length,Mn<0&&(Mn=this.length+Mn),io<0&&(io=this.length+io),Mn<0||io>this.length)throw new RangeError("index is out of bounds");if(Mn===io)return{bufs:[],length:0};if(Mn===0&&io===this.length)return{bufs:this.bufs,length:this.length};const fo=[];let mo=0;for(let $o=0;$o<this.bufs.length;$o++){const Ao=this.bufs[$o],Lo=mo,Wo=Lo+Ao.byteLength;if(mo=Wo,Mn>=Wo)continue;const jo=Mn>=Lo&&Mn<Wo,zo=io>Lo&&io<=Wo;if(jo&&zo){if(Mn===Lo&&io===Wo){fo.push(Ao);break}const Vo=Mn-Lo;fo.push(Ao.subarray(Vo,Vo+(io-Mn)));break}if(jo){if(Mn===0){fo.push(Ao);continue}fo.push(Ao.subarray(Mn-Lo));continue}if(zo){if(io===Wo){fo.push(Ao);break}fo.push(Ao.subarray(0,io-Lo));break}fo.push(Ao)}return{bufs:fo,length:io-Mn}}indexOf(Mn,io=0){if(!isUint8ArrayList(Mn)&&!(Mn instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const fo=Mn instanceof Uint8Array?Mn:Mn.subarray();if(io=Number(io??0),isNaN(io)&&(io=0),io<0&&(io=this.length+io),io<0&&(io=0),Mn.length===0)return io>this.length?this.length:io;const mo=fo.byteLength;if(mo===0)throw new TypeError("search must be at least 1 byte long");const $o=256,Ao=new Int32Array($o);for(let Vo=0;Vo<$o;Vo++)Ao[Vo]=-1;for(let Vo=0;Vo<mo;Vo++)Ao[fo[Vo]]=Vo;const Lo=Ao,Wo=this.byteLength-fo.byteLength,jo=fo.byteLength-1;let zo;for(let Vo=io;Vo<=Wo;Vo+=zo){zo=0;for(let Go=jo;Go>=0;Go--){const Jo=this.get(Vo+Go);if(fo[Go]!==Jo){zo=Math.max(1,Go-Lo[Jo]);break}}if(zo===0)return Vo}return-1}getInt8(Mn){const io=this.subarray(Mn,Mn+1);return new DataView(io.buffer,io.byteOffset,io.byteLength).getInt8(0)}setInt8(Mn,io){const fo=allocUnsafe(1);new DataView(fo.buffer,fo.byteOffset,fo.byteLength).setInt8(0,io),this.write(fo,Mn)}getInt16(Mn,io){const fo=this.subarray(Mn,Mn+2);return new DataView(fo.buffer,fo.byteOffset,fo.byteLength).getInt16(0,io)}setInt16(Mn,io,fo){const mo=alloc(2);new DataView(mo.buffer,mo.byteOffset,mo.byteLength).setInt16(0,io,fo),this.write(mo,Mn)}getInt32(Mn,io){const fo=this.subarray(Mn,Mn+4);return new DataView(fo.buffer,fo.byteOffset,fo.byteLength).getInt32(0,io)}setInt32(Mn,io,fo){const mo=alloc(4);new DataView(mo.buffer,mo.byteOffset,mo.byteLength).setInt32(0,io,fo),this.write(mo,Mn)}getBigInt64(Mn,io){const fo=this.subarray(Mn,Mn+8);return new DataView(fo.buffer,fo.byteOffset,fo.byteLength).getBigInt64(0,io)}setBigInt64(Mn,io,fo){const mo=alloc(8);new DataView(mo.buffer,mo.byteOffset,mo.byteLength).setBigInt64(0,io,fo),this.write(mo,Mn)}getUint8(Mn){const io=this.subarray(Mn,Mn+1);return new DataView(io.buffer,io.byteOffset,io.byteLength).getUint8(0)}setUint8(Mn,io){const fo=allocUnsafe(1);new DataView(fo.buffer,fo.byteOffset,fo.byteLength).setUint8(0,io),this.write(fo,Mn)}getUint16(Mn,io){const fo=this.subarray(Mn,Mn+2);return new DataView(fo.buffer,fo.byteOffset,fo.byteLength).getUint16(0,io)}setUint16(Mn,io,fo){const mo=alloc(2);new DataView(mo.buffer,mo.byteOffset,mo.byteLength).setUint16(0,io,fo),this.write(mo,Mn)}getUint32(Mn,io){const fo=this.subarray(Mn,Mn+4);return new DataView(fo.buffer,fo.byteOffset,fo.byteLength).getUint32(0,io)}setUint32(Mn,io,fo){const mo=alloc(4);new DataView(mo.buffer,mo.byteOffset,mo.byteLength).setUint32(0,io,fo),this.write(mo,Mn)}getBigUint64(Mn,io){const fo=this.subarray(Mn,Mn+8);return new DataView(fo.buffer,fo.byteOffset,fo.byteLength).getBigUint64(0,io)}setBigUint64(Mn,io,fo){const mo=alloc(8);new DataView(mo.buffer,mo.byteOffset,mo.byteLength).setBigUint64(0,io,fo),this.write(mo,Mn)}getFloat32(Mn,io){const fo=this.subarray(Mn,Mn+4);return new DataView(fo.buffer,fo.byteOffset,fo.byteLength).getFloat32(0,io)}setFloat32(Mn,io,fo){const mo=alloc(4);new DataView(mo.buffer,mo.byteOffset,mo.byteLength).setFloat32(0,io,fo),this.write(mo,Mn)}getFloat64(Mn,io){const fo=this.subarray(Mn,Mn+8);return new DataView(fo.buffer,fo.byteOffset,fo.byteLength).getFloat64(0,io)}setFloat64(Mn,io,fo){const mo=alloc(8);new DataView(mo.buffer,mo.byteOffset,mo.byteLength).setFloat64(0,io,fo),this.write(mo,Mn)}equals(Mn){if(Mn==null||!(Mn instanceof Uint8ArrayList)||Mn.bufs.length!==this.bufs.length)return!1;for(let io=0;io<this.bufs.length;io++)if(!equals$2(this.bufs[io],Mn.bufs[io]))return!1;return!0}static fromUint8Arrays(Mn,io){const fo=new Uint8ArrayList;return fo.bufs=Mn,io==null&&(io=Mn.reduce((mo,$o)=>mo+$o.byteLength,0)),fo.length=io,fo}}function equals$1(Fn,Mn){if(Fn===Mn)return!0;if(Fn.byteLength!==Mn.byteLength)return!1;for(let io=0;io<Fn.byteLength;io++)if(Fn[io]!==Mn[io])return!1;return!0}function coerce(Fn){if(Fn instanceof Uint8Array&&Fn.constructor.name==="Uint8Array")return Fn;if(Fn instanceof ArrayBuffer)return new Uint8Array(Fn);if(ArrayBuffer.isView(Fn))return new Uint8Array(Fn.buffer,Fn.byteOffset,Fn.byteLength);throw new Error("Unknown type, must be binary type")}var encode_1=encode$2,MSB$1=128,REST$1=127,MSBALL$1=~REST$1,INT$1=Math.pow(2,31);function encode$2(Fn,Mn,io){Mn=Mn||[],io=io||0;for(var fo=io;Fn>=INT$1;)Mn[io++]=Fn&255|MSB$1,Fn/=128;for(;Fn&MSBALL$1;)Mn[io++]=Fn&255|MSB$1,Fn>>>=7;return Mn[io]=Fn|0,encode$2.bytes=io-fo+1,Mn}var decode$4=read,MSB$1$1=128,REST$1$1=127;function read(Fn,fo){var io=0,fo=fo||0,mo=0,$o=fo,Ao,Lo=Fn.length;do{if($o>=Lo)throw read.bytes=0,new RangeError("Could not decode varint");Ao=Fn[$o++],io+=mo<28?(Ao&REST$1$1)<<mo:(Ao&REST$1$1)*Math.pow(2,mo),mo+=7}while(Ao>=MSB$1$1);return read.bytes=$o-fo,io}var N1=Math.pow(2,7),N2=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(Fn){return Fn<N1?1:Fn<N2?2:Fn<N3?3:Fn<N4?4:Fn<N5?5:Fn<N6?6:Fn<N7?7:Fn<N8?8:Fn<N9?9:10},varint={encode:encode_1,decode:decode$4,encodingLength:length},_brrp_varint=varint;function decode$3(Fn,Mn=0){return[_brrp_varint.decode(Fn,Mn),_brrp_varint.decode.bytes]}function encodeTo(Fn,Mn,io=0){return _brrp_varint.encode(Fn,Mn,io),Mn}function encodingLength(Fn){return _brrp_varint.encodingLength(Fn)}function create$2(Fn,Mn){const io=Mn.byteLength,fo=encodingLength(Fn),mo=fo+encodingLength(io),$o=new Uint8Array(mo+io);return encodeTo(Fn,$o,0),encodeTo(io,$o,fo),$o.set(Mn,mo),new Digest(Fn,io,Mn,$o)}function decode$2(Fn){const Mn=coerce(Fn),[io,fo]=decode$3(Mn),[mo,$o]=decode$3(Mn.subarray(fo)),Ao=Mn.subarray(fo+$o);if(Ao.byteLength!==mo)throw new Error("Incorrect length");return new Digest(io,mo,Ao,Mn)}function equals(Fn,Mn){if(Fn===Mn)return!0;{const io=Mn;return Fn.code===io.code&&Fn.size===io.size&&io.bytes instanceof Uint8Array&&equals$1(Fn.bytes,io.bytes)}}class Digest{constructor(Mn,io,fo,mo){tp(this,"code");tp(this,"size");tp(this,"digest");tp(this,"bytes");this.code=Mn,this.size=io,this.digest=fo,this.bytes=mo}}function base(Fn,Mn){if(Fn.length>=255)throw new TypeError("Alphabet too long");for(var io=new Uint8Array(256),fo=0;fo<io.length;fo++)io[fo]=255;for(var mo=0;mo<Fn.length;mo++){var $o=Fn.charAt(mo),Ao=$o.charCodeAt(0);if(io[Ao]!==255)throw new TypeError($o+" is ambiguous");io[Ao]=mo}var Lo=Fn.length,Wo=Fn.charAt(0),jo=Math.log(Lo)/Math.log(256),zo=Math.log(256)/Math.log(Lo);function Vo(Qo){if(Qo instanceof Uint8Array||(ArrayBuffer.isView(Qo)?Qo=new Uint8Array(Qo.buffer,Qo.byteOffset,Qo.byteLength):Array.isArray(Qo)&&(Qo=Uint8Array.from(Qo))),!(Qo instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Qo.length===0)return"";for(var os=0,Cl=0,xl=0,ds=Qo.length;xl!==ds&&Qo[xl]===0;)xl++,os++;for(var _c=(ds-xl)*zo+1>>>0,$l=new Uint8Array(_c);xl!==ds;){for(var Al=Qo[xl],Il=0,us=_c-1;(Al!==0||Il<Cl)&&us!==-1;us--,Il++)Al+=256*$l[us]>>>0,$l[us]=Al%Lo>>>0,Al=Al/Lo>>>0;if(Al!==0)throw new Error("Non-zero carry");Cl=Il,xl++}for(var ps=_c-Cl;ps!==_c&&$l[ps]===0;)ps++;for(var Rl=Wo.repeat(os);ps<_c;++ps)Rl+=Fn.charAt($l[ps]);return Rl}function Go(Qo){if(typeof Qo!="string")throw new TypeError("Expected String");if(Qo.length===0)return new Uint8Array;var os=0;if(Qo[os]!==" "){for(var Cl=0,xl=0;Qo[os]===Wo;)Cl++,os++;for(var ds=(Qo.length-os)*jo+1>>>0,_c=new Uint8Array(ds);Qo[os];){var $l=io[Qo.charCodeAt(os)];if($l===255)return;for(var Al=0,Il=ds-1;($l!==0||Al<xl)&&Il!==-1;Il--,Al++)$l+=Lo*_c[Il]>>>0,_c[Il]=$l%256>>>0,$l=$l/256>>>0;if($l!==0)throw new Error("Non-zero carry");xl=Al,os++}if(Qo[os]!==" "){for(var us=ds-xl;us!==ds&&_c[us]===0;)us++;for(var ps=new Uint8Array(Cl+(ds-us)),Rl=Cl;us!==ds;)ps[Rl++]=_c[us++];return ps}}}function Jo(Qo){var os=Go(Qo);if(os)return os;throw new Error(`Non-${Mn} character`)}return{encode:Vo,decodeUnsafe:Go,decode:Jo}}var src=base,_brrp__multiformats_scope_baseX=src;class Encoder{constructor(Mn,io,fo){tp(this,"name");tp(this,"prefix");tp(this,"baseEncode");this.name=Mn,this.prefix=io,this.baseEncode=fo}encode(Mn){if(Mn instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Mn)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(Mn,io,fo){tp(this,"name");tp(this,"prefix");tp(this,"baseDecode");tp(this,"prefixCodePoint");this.name=Mn,this.prefix=io;const mo=io.codePointAt(0);if(mo===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=mo,this.baseDecode=fo}decode(Mn){if(typeof Mn=="string"){if(Mn.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Mn)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Mn.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(Mn){return or(this,Mn)}}class ComposedDecoder{constructor(Mn){tp(this,"decoders");this.decoders=Mn}or(Mn){return or(this,Mn)}decode(Mn){const io=Mn[0],fo=this.decoders[io];if(fo!=null)return fo.decode(Mn);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Mn)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function or(Fn,Mn){return new ComposedDecoder({...Fn.decoders??{[Fn.prefix]:Fn},...Mn.decoders??{[Mn.prefix]:Mn}})}class Codec{constructor(Mn,io,fo,mo){tp(this,"name");tp(this,"prefix");tp(this,"baseEncode");tp(this,"baseDecode");tp(this,"encoder");tp(this,"decoder");this.name=Mn,this.prefix=io,this.baseEncode=fo,this.baseDecode=mo,this.encoder=new Encoder(Mn,io,fo),this.decoder=new Decoder(Mn,io,mo)}encode(Mn){return this.encoder.encode(Mn)}decode(Mn){return this.decoder.decode(Mn)}}function from({name:Fn,prefix:Mn,encode:io,decode:fo}){return new Codec(Fn,Mn,io,fo)}function baseX({name:Fn,prefix:Mn,alphabet:io}){const{encode:fo,decode:mo}=_brrp__multiformats_scope_baseX(io,Fn);return from({prefix:Mn,name:Fn,encode:fo,decode:$o=>coerce(mo($o))})}function decode$1(Fn,Mn,io,fo){const mo={};for(let zo=0;zo<Mn.length;++zo)mo[Mn[zo]]=zo;let $o=Fn.length;for(;Fn[$o-1]==="=";)--$o;const Ao=new Uint8Array($o*io/8|0);let Lo=0,Wo=0,jo=0;for(let zo=0;zo<$o;++zo){const Vo=mo[Fn[zo]];if(Vo===void 0)throw new SyntaxError(`Non-${fo} character`);Wo=Wo<<io|Vo,Lo+=io,Lo>=8&&(Lo-=8,Ao[jo++]=255&Wo>>Lo)}if(Lo>=io||255&Wo<<8-Lo)throw new SyntaxError("Unexpected end of data");return Ao}function encode$1(Fn,Mn,io){const fo=Mn[Mn.length-1]==="=",mo=(1<<io)-1;let $o="",Ao=0,Lo=0;for(let Wo=0;Wo<Fn.length;++Wo)for(Lo=Lo<<8|Fn[Wo],Ao+=8;Ao>io;)Ao-=io,$o+=Mn[mo&Lo>>Ao];if(Ao!==0&&($o+=Mn[mo&Lo<<io-Ao]),fo)for(;$o.length*io&7;)$o+="=";return $o}function rfc4648({name:Fn,prefix:Mn,bitsPerChar:io,alphabet:fo}){return from({prefix:Mn,name:Fn,encode(mo){return encode$1(mo,fo,io)},decode(mo){return decode$1(mo,fo,io,Fn)}})}const base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"});baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});const base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});function format(Fn,Mn){const{bytes:io,version:fo}=Fn;switch(fo){case 0:return toStringV0(io,baseCache(Fn),Mn??base58btc.encoder);default:return toStringV1(io,baseCache(Fn),Mn??base32.encoder)}}const cache=new WeakMap;function baseCache(Fn){const Mn=cache.get(Fn);if(Mn==null){const io=new Map;return cache.set(Fn,io),io}return Mn}var I6;class CID{constructor(Mn,io,fo,mo){tp(this,"code");tp(this,"version");tp(this,"multihash");tp(this,"bytes");tp(this,"/");tp(this,I6,"CID");this.code=io,this.version=Mn,this.multihash=fo,this.bytes=mo,this["/"]=mo}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:Mn,multihash:io}=this;if(Mn!==DAG_PB_CODE$1)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(io.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(io)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:Mn,digest:io}=this.multihash,fo=create$2(Mn,io);return CID.createV1(this.code,fo)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(Mn){return CID.equals(this,Mn)}static equals(Mn,io){const fo=io;return fo!=null&&Mn.code===fo.code&&Mn.version===fo.version&&equals(Mn.multihash,fo.multihash)}toString(Mn){return format(this,Mn)}toJSON(){return{"/":format(this)}}link(){return this}[(I6=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(Mn){if(Mn==null)return null;const io=Mn;if(io instanceof CID)return io;if(io["/"]!=null&&io["/"]===io.bytes||io.asCID===io){const{version:fo,code:mo,multihash:$o,bytes:Ao}=io;return new CID(fo,mo,$o,Ao??encodeCID(fo,mo,$o.bytes))}else if(io[cidSymbol]===!0){const{version:fo,multihash:mo,code:$o}=io,Ao=decode$2(mo);return CID.create(fo,$o,Ao)}else return null}static create(Mn,io,fo){if(typeof io!="number")throw new Error("String codecs are no longer supported");if(!(fo.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(Mn){case 0:{if(io!==DAG_PB_CODE$1)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE$1}) block encoding`);return new CID(Mn,io,fo,fo.bytes)}case 1:{const mo=encodeCID(Mn,io,fo.bytes);return new CID(Mn,io,fo,mo)}default:throw new Error("Invalid version")}}static createV0(Mn){return CID.create(0,DAG_PB_CODE$1,Mn)}static createV1(Mn,io){return CID.create(1,Mn,io)}static decode(Mn){const[io,fo]=CID.decodeFirst(Mn);if(fo.length!==0)throw new Error("Incorrect length");return io}static decodeFirst(Mn){const io=CID.inspectBytes(Mn),fo=io.size-io.multihashSize,mo=coerce(Mn.subarray(fo,fo+io.multihashSize));if(mo.byteLength!==io.multihashSize)throw new Error("Incorrect length");const $o=mo.subarray(io.multihashSize-io.digestSize),Ao=new Digest(io.multihashCode,io.digestSize,$o,mo);return[io.version===0?CID.createV0(Ao):CID.createV1(io.codec,Ao),Mn.subarray(io.size)]}static inspectBytes(Mn){let io=0;const fo=()=>{const[Vo,Go]=decode$3(Mn.subarray(io));return io+=Go,Vo};let mo=fo(),$o=DAG_PB_CODE$1;if(mo===18?(mo=0,io=0):$o=fo(),mo!==0&&mo!==1)throw new RangeError(`Invalid CID version ${mo}`);const Ao=io,Lo=fo(),Wo=fo(),jo=io+Wo,zo=jo-Ao;return{version:mo,codec:$o,multihashCode:Lo,digestSize:Wo,multihashSize:zo,size:jo}}static parse(Mn,io){const[fo,mo]=parseCIDtoBytes(Mn,io),$o=CID.decode(mo);if($o.version===0&&Mn[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return baseCache($o).set(fo,Mn),$o}}function parseCIDtoBytes(Fn,Mn){switch(Fn[0]){case"Q":{const io=Mn??base58btc;return[base58btc.prefix,io.decode(`${base58btc.prefix}${Fn}`)]}case base58btc.prefix:{const io=Mn??base58btc;return[base58btc.prefix,io.decode(Fn)]}case base32.prefix:{const io=Mn??base32;return[base32.prefix,io.decode(Fn)]}case base36.prefix:{const io=Mn??base36;return[base36.prefix,io.decode(Fn)]}default:{if(Mn==null)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[Fn[0],Mn.decode(Fn)]}}}function toStringV0(Fn,Mn,io){const{prefix:fo}=io;if(fo!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${io.name} encoding`);const mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn).slice(1);return Mn.set(fo,$o),$o}else return mo}function toStringV1(Fn,Mn,io){const{prefix:fo}=io,mo=Mn.get(fo);if(mo==null){const $o=io.encode(Fn);return Mn.set(fo,$o),$o}else return mo}const DAG_PB_CODE$1=112,SHA_256_CODE=18;function encodeCID(Fn,Mn,io){const fo=encodingLength(Fn),mo=fo+encodingLength(Mn),$o=new Uint8Array(mo+io.byteLength);return encodeTo(Fn,$o,0),encodeTo(Mn,$o,fo),$o.set(io,mo),$o}const cidSymbol=Symbol.for("@ipld/js-cid/CID"),DAG_PB_CODE=112;function createLegacy(Fn){return CID.create(0,DAG_PB_CODE,Fn)}function create$1(Fn,Mn){return CID.create(1,Fn,Mn)}const MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31),encode=Fn=>{const Mn=[];let io=0;for(;Fn>=INT;)Mn[io++]=Fn&255|MSB,Fn/=128;for(;Fn&MSBALL;)Mn[io++]=Fn&255|MSB,Fn>>>=7;return Mn[io]=Fn|0,Mn},decode=(Fn,Mn)=>{let io=0;Mn=Mn||0;let fo=0,mo=Mn,$o;const Ao=Fn.length;do{if(mo>=Ao||fo>49)throw new RangeError("Could not decode varint");$o=Fn.get(mo++),io+=fo<28?($o&REST)<<fo:($o&REST)*Math.pow(2,fo),fo+=7}while($o>=MSB);return[io,mo-Mn]},State={ReadHeaderLength:0,ReadHeader:1,ReadBlockLength:2,ReadBlock:3},CIDV0_BYTES={SHA2_256:18,LENGTH:32,DAG_PB:112};var jv;class CARReaderStream extends TransformStream{constructor(io,fo){const mo=new Uint8ArrayList;let $o=0,Ao=$o,Lo=8,Wo=State.ReadHeaderLength,jo;const zo=new Promise(Vo=>{jo=Vo});super({transform(Vo,Go){for(mo.append(Vo);!(mo.length<Lo);)if(Wo===State.ReadHeaderLength){const[Jo,Qo]=decode(mo);mo.consume(Qo),Ao=$o,$o+=Qo,Wo=State.ReadHeader,Lo=Jo}else if(Wo===State.ReadHeader){const Jo=decode$1a(mo.slice(0,Lo));jo&&jo(Jo),mo.consume(Lo),Ao=$o,$o+=Lo,Wo=State.ReadBlockLength,Lo=8}else if(Wo===State.ReadBlockLength){const[Jo,Qo]=decode(mo);mo.consume(Qo),Ao=$o,$o+=Qo,Wo=State.ReadBlock,Lo=Jo}else if(Wo===State.ReadBlock){const Jo=Ao,Qo=$o-Ao+Lo;Ao=$o;let os;if(mo.get(0)===CIDV0_BYTES.SHA2_256&&mo.get(1)===CIDV0_BYTES.LENGTH){const ds=mo.subarray(0,34),_c=decode$2(ds);os=createLegacy(_c),mo.consume(34),$o+=34}else{const[ds,_c]=decode(mo);if(ds!==1)throw new Error(`unexpected CID version (${ds})`);mo.consume(_c),$o+=_c;const[$l,Al]=decode(mo);mo.consume(Al),$o+=Al;const Il=getMultihashLength(mo),us=decode$2(mo.subarray(0,Il));os=create$1($l,us),mo.consume(Il),$o+=Il}const Cl=Lo-($o-Ao),xl=mo.subarray(0,Cl);Go.enqueue({cid:os,bytes:xl,offset:Jo,length:Qo,blockOffset:$o,blockLength:Cl}),mo.consume(Cl),Ao=$o,$o+=Cl,Wo=State.ReadBlockLength,Lo=8}},flush(Vo){Wo!==State.ReadBlockLength&&Vo.error(new Error("unexpected end of data"))}},io,fo??new CountQueuingStrategy({highWaterMark:1}));a1(this,jv);Zp(this,jv,zo)}getHeader(){return cp(this,jv)}}jv=new WeakMap;const getMultihashLength=Fn=>{const[,Mn]=decode(Fn),[io,fo]=decode(Fn,Mn);return Mn+fo+io},encodeHeader=Fn=>{const Mn=encode$O({version:1,roots:Fn}),io=encode(Mn.length),fo=new Uint8Array(io.length+Mn.length);return fo.set(io,0),fo.set(Mn,io.length),fo},encodeBlock=Fn=>{const Mn=encode(Fn.cid.bytes.length+Fn.bytes.length),io=new Uint8Array(Mn.length+Fn.cid.bytes.length+Fn.bytes.length);return io.set(Mn),io.set(Fn.cid.bytes,Mn.length),io.set(Fn.bytes,Mn.length+Fn.cid.bytes.length),io};class CARWriterStream extends TransformStream{constructor(Mn=[],io,fo){super({start:mo=>mo.enqueue(encodeHeader(Mn)),transform:(mo,$o)=>$o.enqueue(encodeBlock(mo))},io,fo)}}async function indexShardedDAG(Fn,Mn,io){const fo=create$3(Fn);for(const[mo,$o]of Mn.entries()){const Ao=io[mo];fo.shards.set($o.multihash,Ao)}return await fo.archive()}const SHARD_SIZE=133169152;class ShardingStream extends TransformStream{constructor(Mn={}){const io=Mn.shardSize??SHARD_SIZE,fo=io-headerEncodingLength();let mo=[],$o=null,Ao=new DigestMap,Lo=null,Wo=0;super({async transform(jo,zo){$o!=null&&Lo!=null&&(zo.enqueue(await encodeCAR($o,Lo)),$o=null,Lo=null);const Vo=blockHeaderEncodingLength(jo),Go=Vo+jo.bytes.length;if(Go>fo)throw new Error(`block will cause CAR to exceed shard size: ${jo.cid}`);mo.length&&Wo+Go>fo&&($o=mo,Lo=Ao,mo=[],Ao=new DigestMap,Wo=0),mo.push(jo),Ao.set(jo.cid.multihash,[headerEncodingLength()+Wo+Vo,jo.bytes.length]),Wo+=Go},async flush(jo){$o!=null&&Lo!=null&&jo.enqueue(await encodeCAR($o,Lo));const zo=mo.at(-1);if(zo==null)return;const Vo=Mn.rootCID??zo.cid,Go=headerEncodingLength(Vo);if(Go+Wo>io){const Jo=Go+Wo-io,Qo=[];let os=0;for(;os<Jo;){const xl=mo[mo.length-1];if(mo.pop(),Ao.delete(xl.cid.multihash),Qo.unshift(xl),os+=blockEncodingLength(xl),mo.length<1)throw new Error(`block will cause CAR to exceed shard size: ${xl.cid}`)}jo.enqueue(await encodeCAR(mo,Ao)),os=0;const Cl=new DigestMap;for(const xl of mo){const ds=blockHeaderEncodingLength(xl);Cl.set(xl.cid.multihash,[Go+os+ds,xl.bytes.length]),os+=ds+xl.bytes.length}jo.enqueue(await encodeCAR(Qo,Cl,Vo))}else{const Jo=Go-headerEncodingLength();for(const Qo of Ao.values())Qo[0]+=Jo;jo.enqueue(await encodeCAR(mo,Ao,Vo))}}})}}const defaultFileComparator=(Fn,Mn,io=fo=>fo.name)=>ascending(Fn,Mn,io);function ascending(Fn,Mn,io){const fo=io(Fn),mo=io(Mn);return fo===mo?0:fo<mo?-1:1}const encodeCAR=async(Fn,Mn,io)=>Object.assign(await encode$6(Fn,io),{slices:Mn});async function uploadFile(Fn,Mn,io={}){return await uploadBlockStream(Fn,createFileEncoderStream(Mn,io),io)}async function uploadDirectory(Fn,Mn,io={}){const{customOrder:fo=!1}=io,mo=fo?Mn:[...Mn].sort(defaultFileComparator);return await uploadBlockStream(Fn,createDirectoryEncoderStream(mo,io),io)}async function uploadCAR(Fn,Mn,io={}){const fo=new BlockStream(Mn);return io.rootCID=io.rootCID??(await fo.getRoots())[0],await uploadBlockStream(Fn,fo,io)}async function uploadBlockStream(Fn,Mn,{pieceHasher:io=PieceHasher,...fo}={}){const mo=typeof Fn=="function"?Fn:()=>Fn,$o=[],Ao=[];let Lo=null;if(await Mn.pipeThrough(new ShardingStream(fo)).pipeThrough(new TransformStream({async transform(Qo,os){const Cl=new Uint8Array(await Qo.arrayBuffer()),xl=await sha256$2.digest(Cl),ds=await mo([{can:ability$2,nb:input$8(xl,Cl.length)}]);await add$2(ds,xl,Cl,fo);const _c=create$g(code,xl);let $l;if(io){const Rl=await io.digest(Cl);$l=create$g(code$3,Rl);const Wl=create$g(code$3,xl),Nl=await filecoinOffer({issuer:ds.issuer,audience:ds.audience,with:ds.issuer.did(),proofs:ds.proofs},Wl,$l,fo);if(Nl.out.error)throw new Error("failed to offer piece for aggregation into filecoin deal",{cause:Nl.out.error})}const{version:Al,roots:Il,size:us,slices:ps}=Qo;os.enqueue({version:Al,roots:Il,size:us,cid:_c,piece:$l,slices:ps})}})).pipeTo(new WritableStream({write(Qo){Lo=Lo||Qo.roots[0],Ao.push(Qo.cid),Qo.slices.set(Qo.cid.multihash,[0,Qo.size]),$o.push(Qo.slices),fo.onShardStored&&fo.onShardStored(Qo)}})),!Lo)throw new Error("missing root CID");const Wo=await indexShardedDAG(Lo,Ao,$o);if(!Wo.ok)throw new Error("failed to archive DAG index",{cause:Wo.error});const jo=await sha256$2.digest(Wo.ok),zo=create$g(code,jo),[Vo,Go,Jo]=await Promise.all([mo([{can:ability$2,nb:input$8(jo,Wo.ok.length)}]),mo([{can:ability$1,nb:input$4(zo)}]),mo([{can:ability,nb:input$3(Lo,Ao)}])]);return await add$2(Vo,jo,Wo.ok,fo),await add$1(Go,zo,fo),await add(Jo,Lo,Ao,fo),Lo}const accessServiceURL=new URL("https://up.web3.storage"),accessServicePrincipal=parse$2("did:web:web3.storage"),accessServiceConnection=connect({id:accessServicePrincipal,codec:outbound,channel:open$2({url:accessServiceURL,method:"POST"})}),uploadServiceURL=new URL("https://up.web3.storage"),uploadServicePrincipal=parse$2("did:web:web3.storage"),uploadServiceConnection=connect({id:uploadServicePrincipal,codec:outbound,channel:open$2({url:uploadServiceURL,method:"POST"})}),filecoinServiceURL=new URL("https://up.web3.storage"),filecoinServicePrincipal=parse$2("did:web:web3.storage"),filecoinServiceConnection=connect({id:filecoinServicePrincipal,codec:outbound,channel:open$2({url:filecoinServiceURL,method:"POST"})}),serviceConf={access:accessServiceConnection,upload:uploadServiceConnection,filecoin:filecoinServiceConnection};class Base{constructor(Mn,io={}){tp(this,"_agent");tp(this,"_serviceConf");this._serviceConf=io.serviceConf??serviceConf,this._agent=new Agent(Mn,{servicePrincipal:this._serviceConf.access.id,url:this._serviceConf.access.channel.url,connection:this._serviceConf.access}),this._receiptsEndpoint=io.receiptsEndpoint??receiptsEndpoint}get agent(){return this._agent}async _invocationConfig(Mn){const io=this._agent.currentSpace();if(!io)throw new Error("missing current space: use createSpace() or setCurrentSpace()");const fo=this._agent.issuer,mo=await this._agent.proofs(Mn.map(Ao=>({can:Ao,with:io}))),$o=this._serviceConf.upload.id;return{issuer:fo,with:io,proofs:mo,audience:$o}}}const unwrap=({ok:Fn,error:Mn})=>{if(Mn)throw Mn;return Fn};class AccessClient extends Base{async authorize(Mn,io){const fo=fromEmail(Mn),mo=unwrap(await request(this,{account:fo})),$o=unwrap(await mo.claim(io));return await unwrap(await $o.save()),$o.proofs}async claim(Mn){const io=unwrap(await claim(this,Mn));return await unwrap(await io.save()),io.proofs}async request(Mn){return await request(this,Mn)}async delegate(Mn){return await delegate(this,Mn)}}const claim=async({agent:Fn},Mn)=>claim$1(Fn,Mn),request=async({agent:Fn},Mn)=>request$2(Fn,Mn),delegate=async({agent:Fn},Mn)=>delegate$1(Fn,Mn),{spaceAccess,accountAccess}=access;class PlanClient extends Base{async get(Mn,io){const fo=await get({agent:this.agent},{...io,account:Mn});if(!fo.ok)throw new Error(`failed ${get$c.can} invocation`,{cause:fo.error});return fo.ok}async set(Mn,io,fo){const mo=await set({agent:this.agent},{...fo,account:Mn,product:io});if(!mo.ok)throw new Error(`failed ${set$5.can} invocation`,{cause:mo.error});return mo.ok}async createAdminSession(Mn,io,fo){const mo=await createAdminSession({agent:this.agent},{...fo,account:Mn,returnURL:io});if(!mo.ok)throw new Error(`failed ${createAdminSession$1.can} invocation`,{cause:mo.error});return mo.ok}}const get=async({agent:Fn},{account:Mn,nonce:io,proofs:fo=[]})=>(await Fn.invokeAndExecute(get$c,{with:Mn,proofs:fo,nonce:io})).out,set=async({agent:Fn},{account:Mn,product:io,nonce:fo,proofs:mo=[]})=>(await Fn.invokeAndExecute(set$5,{with:Mn,nb:{product:io},nonce:fo,proofs:mo})).out,createAdminSession=async({agent:Fn},{account:Mn,returnURL:io,nonce:fo,proofs:mo=[]})=>(await Fn.invokeAndExecute(createAdminSession$1,{with:Mn,proofs:mo,nonce:fo,nb:{returnURL:io}})).out;class SubscriptionClient extends Base{async list(Mn,io){const fo=await list$1({agent:this.agent},{...io,account:Mn});if(!fo.ok)throw new Error(`failed ${list$6.can} invocation`,{cause:fo.error});return fo.ok}}const list$1=async({agent:Fn},{account:Mn,nonce:io,proofs:fo=[]})=>(await Fn.invokeAndExecute(list$6,{with:Mn,proofs:fo,nb:{},nonce:io})).out,list=({agent:Fn},{account:Mn}={})=>{const io={with:Mn??/did:mailto:.*/,can:"*"},fo=Fn.proofs([io]),mo={},$o={};for(const Ao of fo){const Lo=allows(Ao);for(const[Wo,jo]of Object.entries(Lo)){if(AccountDID.is(Wo)&&jo["*"]){const zo=Wo;(mo[zo]||(mo[zo]=new Account({id:zo,agent:Fn,proofs:[]}))).addProof(Ao)}for(const zo of jo["ucan/attest"]||[]){const Vo=zo.proof;Vo&&($o[`${Vo}`]=Ao)}}}for(const Ao of Object.values(mo))for(const Lo of Ao.proofs){const Wo=$o[`${Lo.cid}`];Wo&&Ao.addProof(Wo)}return mo},login=async({agent:Fn},Mn,io={})=>{const fo=fromEmail(Mn),mo=list({agent:Fn},{account:fo})[fo];if(mo)return{ok:mo};const $o=await request({agent:Fn},{account:fo,access:accountAccess}),{ok:Ao,error:Lo}=$o;if(Lo)return{error:Lo};{const{ok:Wo,error:jo}=await Ao.claim({signal:io.signal});return jo?{error:jo}:{ok:new Account({id:fo,proofs:Wo.proofs,agent:Fn})}}};class Account{constructor(Mn){this.model=Mn,this.plan=new AccountPlan(Mn)}get agent(){return this.model.agent}get proofs(){return this.model.proofs}did(){return this.model.id}toEmail(){return toEmail(this.did())}addProof(Mn){this.proofs.push(Mn)}toJSON(){return{id:this.did(),proofs:this.proofs.sort((Mn,io)=>Mn.cid.toString().localeCompare(io.cid.toString())).map(Mn=>Mn.toJSON())}}provision(Mn,io={}){return add$7(this.agent,{...io,account:this.did(),consumer:Mn,proofs:this.proofs})}async save({agent:Mn=this.agent}={}){return await importAuthorization(Mn,this)}}class AccountPlan{constructor(Mn){this.model=Mn}async get(Mn){return await get(this.model,{...Mn,account:this.model.id,proofs:this.model.proofs})}async set(Mn,io){return await set(this.model,{...io,account:this.model.id,product:Mn,proofs:this.model.proofs})}async wait(Mn){var $o;const io=Date.now(),fo=(Mn==null?void 0:Mn.interval)||1e3,mo=(Mn==null?void 0:Mn.timeout)||60*15*1e3;for(;;){const Ao=await this.get();if(Ao.ok)return Ao.ok;if(Ao.error)throw new Error(`Error retrieving payment plan: ${Ao.error}`);if(Date.now()-io>mo)throw new Error("Timeout: Payment plan selection took too long.");if(($o=Mn==null?void 0:Mn.signal)!=null&&$o.aborted)throw new Error("Aborted: Payment plan selection was aborted.");console.log("Waiting for payment plan to be selected..."),await new Promise(Lo=>setTimeout(Lo,fo))}}async createAdminSession(Mn,io,fo){return await createAdminSession(this.model,{...fo,account:Mn,returnURL:io})}async subscriptions(Mn){return await list$1(this.model,{...Mn,account:this.model.id,proofs:this.model.proofs})}}class UsageClient extends Base{async report(Mn,io,fo){const mo=await report({agent:this.agent},{...fo,space:Mn,period:io});if(!mo.ok)throw new Error(`failed ${report$1.can} invocation`,{cause:mo.error});return mo.ok}}const report=async({agent:Fn},{space:Mn,period:io,nonce:fo,proofs:mo=[]})=>(await Fn.invokeAndExecute(report$1,{with:Mn,proofs:mo,nonce:fo,nb:{period:{from:Math.floor(io.from.getTime()/1e3),to:Math.ceil(io.to.getTime()/1e3)}}})).out;var py;class Space{constructor(Mn){a1(this,py);Zp(this,py,Mn),this.usage=new StorageUsage(Mn)}get name(){var Mn;return String(((Mn=cp(this,py).meta)==null?void 0:Mn.name)??"")}did(){return cp(this,py).id}meta(){return cp(this,py).meta}}py=new WeakMap;var zy;class StorageUsage{constructor(Mn){a1(this,zy);Zp(this,zy,Mn)}async get(){const{agent:Mn}=cp(this,zy),io=cp(this,zy).id,fo=new Date,mo={from:startOfLastMonth(fo),to:fo},$o=await report({agent:Mn},{space:io,period:mo});if($o.error)return $o;const Ao=Mn.connection.id.did(),Lo=$o.ok[Ao];return{ok:(Lo==null?void 0:Lo.size.final)==null?void 0:BigInt(Lo.size.final)}}}zy=new WeakMap;const startOfMonth=Fn=>{const Mn=new Date(Fn);return Mn.setUTCDate(1),Mn.setUTCHours(0),Mn.setUTCMinutes(0),Mn.setUTCSeconds(0),Mn.setUTCMilliseconds(0),Mn},startOfLastMonth=Fn=>{const Mn=startOfMonth(Fn);return Mn.setUTCMonth(Mn.getUTCMonth()-1),Mn};class BlobClient extends Base{async add(Mn,io={}){io={receiptsEndpoint:this._receiptsEndpoint.toString(),connection:this._serviceConf.upload,...io};const fo=await this._invocationConfig([add$4.can]),mo=new Uint8Array(await Mn.arrayBuffer()),$o=await sha256$8.digest(mo);return{digest:$o,...await add$2(fo,$o,mo,io)}}async list(Mn={}){const io=await this._invocationConfig([list$5.can]);return Mn.connection=this._serviceConf.upload,list$3(io,Mn)}async remove(Mn,io={}){const fo=await this._invocationConfig([remove$5.can]);return io.connection=this._serviceConf.upload,remove$3(fo,Mn,io)}async get(Mn,io={}){const fo=await this._invocationConfig([get$b.can]);return io.connection=this._serviceConf.upload,get$8(fo,Mn,io)}}class IndexClient extends Base{async add(Mn,io={}){const fo=await this._invocationConfig([add$5.can]);return io.connection=this._serviceConf.upload,add$1(fo,Mn,io)}}class StoreClient extends Base{async add(Mn,io={}){const fo=await this._invocationConfig([add$a.can]);return io.connection=this._serviceConf.upload,add$3(fo,Mn,io)}async get(Mn,io={}){const fo=await this._invocationConfig([get$h.can]);return io.connection=this._serviceConf.upload,get$a(fo,Mn,io)}async list(Mn={}){const io=await this._invocationConfig([list$9.can]);return Mn.connection=this._serviceConf.upload,list$4(io,Mn)}async remove(Mn,io={}){const fo=await this._invocationConfig([remove$8.can]);return io.connection=this._serviceConf.upload,remove$4(fo,Mn,io)}}class UploadClient extends Base{async add(Mn,io,fo={}){const mo=await this._invocationConfig([add$9.can]);return fo.connection=this._serviceConf.upload,add(mo,Mn,io,fo)}async get(Mn,io={}){const fo=await this._invocationConfig([get$g.can]);return io.connection=this._serviceConf.upload,get$7(fo,Mn,io)}async list(Mn={}){const io=await this._invocationConfig([list$8.can]);return Mn.connection=this._serviceConf.upload,list$2(io,Mn)}async remove(Mn,io={}){const fo=await this._invocationConfig([remove$7.can]);return io.connection=this._serviceConf.upload,remove$2(fo,Mn,io)}}class SpaceClient extends Base{async info(Mn,io){return await this._agent.getSpaceInfo(Mn,io)}async egressRecord(Mn,io){const fo=await egressRecord({agent:this.agent},{...Mn},{...io});if(!fo.ok)throw new Error(`failed ${egressRecord$1.can} invocation`,{cause:fo.error});return fo.ok}}const egressRecord=async({agent:Fn},{space:Mn,resource:io,bytes:fo,servedAt:mo},{nonce:$o,proofs:Ao=[]})=>(await Fn.invokeAndExecute(egressRecord$1,{with:Mn,proofs:Ao,nonce:$o,nb:{resource:io,bytes:fo,servedAt:Math.floor(new Date(mo).getTime()/1e3)}})).out;class FilecoinClient extends Base{async offer(Mn,io,fo){const mo=await this._invocationConfig([filecoinOffer$1.can]);return filecoinOffer(mo,Mn,io,{...fo,connection:this._serviceConf.filecoin})}async info(Mn,io){const fo=await this._invocationConfig([filecoinInfo$1.can]);return filecoinInfo(fo,Mn,{...io,connection:this._serviceConf.filecoin})}}class CouponAPI extends Base{async redeem(Mn,io={}){const{agent:fo}=this,mo=unwrap(await extract(Mn));return unwrap(await redeem(mo,{...io,agent:fo}))}async issue({proofs:Mn=[],...io}){const{agent:fo}=this;return await issue({...io,issuer:fo.issuer,proofs:[...Mn,...fo.proofs(io.capabilities)]})}}const extract=async Fn=>{const{ok:Mn,error:io}=await extract$1(Fn);return Mn?ok(new Coupon({proofs:[Mn]})):error$1(io)},archive=async Fn=>{const[Mn]=Fn.proofs;return await archive$2(Mn)},issue=async({password:Fn="",...Mn})=>{const io=await deriveSigner(Fn),fo=await delegate$3({...Mn,audience:io});return new Coupon({proofs:[fo]})},redeem=async(Fn,{agent:Mn,password:io=""})=>{const fo=await deriveSigner(io),[mo]=Fn.proofs;if(mo.audience.did()!==fo.did())return error$1(new RangeError(io===""?"Extracting account requires a password":"Provided password is invalid"));{const $o=await delegate$3({issuer:fo,audience:Mn,capabilities:mo.capabilities,expiration:mo.expiration,notBefore:mo.notBefore,proofs:[mo]});return ok(new GrantedAccess({agent:Mn,proofs:[$o]}))}},deriveSigner=async Fn=>{const{digest:Mn}=await sha256$3.digest(new TextEncoder().encode(Fn));return await derive(Mn)};class Coupon{constructor(Mn){this.model=Mn}get proofs(){return this.model.proofs}redeem(Mn,io={}){return redeem(this,{...io,agent:Mn})}archive(){return archive(this)}}class Client extends Base{constructor(Mn,io){super(Mn,io),this.capability={access:new AccessClient(Mn,io),filecoin:new FilecoinClient(Mn,io),index:new IndexClient(Mn,io),plan:new PlanClient(Mn,io),space:new SpaceClient(Mn,io),blob:new BlobClient(Mn,io),store:new StoreClient(Mn,io),subscription:new SubscriptionClient(Mn,io),upload:new UploadClient(Mn,io),usage:new UsageClient(Mn,io)},this.coupon=new CouponAPI(Mn,io)}did(){return this._agent.did()}async authorize(Mn,io){await this.capability.access.authorize(Mn,io)}async login(Mn,io={}){const fo=unwrap(await login(this,Mn,io));return unwrap(await fo.save()),fo}accounts(){return list(this)}async uploadFile(Mn,io={}){const fo=await this._invocationConfig([add$4.can,add$5.can,filecoinOffer$1.can,add$9.can]);return io={receiptsEndpoint:this._receiptsEndpoint.toString(),connection:this._serviceConf.upload,...io},uploadFile(fo,Mn,io)}async uploadDirectory(Mn,io={}){const fo=await this._invocationConfig([add$4.can,add$5.can,filecoinOffer$1.can,add$9.can]);return io={receiptsEndpoint:this._receiptsEndpoint.toString(),connection:this._serviceConf.upload,...io},uploadDirectory(fo,Mn,io)}async uploadCAR(Mn,io={}){const fo=await this._invocationConfig([add$4.can,add$5.can,filecoinOffer$1.can,add$9.can]);return io={receiptsEndpoint:this._receiptsEndpoint.toString(),connection:this._serviceConf.upload,...io},uploadCAR(fo,Mn,io)}async getReceipt(Mn){const io=new URL(this._receiptsEndpoint).toString();return poll(Mn,{receiptsEndpoint:io})}defaultProvider(){return this._agent.connection.id.did()}currentSpace(){const Mn=this._agent,io=Mn.currentSpace();if(!io)return;const fo=Mn.spaces.get(io);return new Space({id:io,meta:fo,agent:Mn})}async setCurrentSpace(Mn){await this._agent.setCurrentSpace(Mn)}spaces(){return[...this._agent.spaces].map(([Mn,io])=>new Space({id:Mn,meta:io,agent:this._agent}))}async createSpace(Mn,io={}){const fo=await this._agent.createSpace(Mn),mo=io.account;if(mo){const $o=await mo.provision(fo.did());if($o.error)throw new Error(`failed to provision account: ${$o.error.message}`,{cause:$o.error});await fo.save();const Ao=await fo.createRecovery(mo.did()),Lo=await this.capability.access.delegate({space:fo.did(),delegations:[Ao]});if(Lo.error)throw new Error(`failed to authorize recovery account: ${Lo.error.message}`,{cause:Lo.error})}return fo}async shareSpace(Mn,io,fo={abilities:["space/*","store/*","upload/*","access/*","usage/*","filecoin/offer","filecoin/info","filecoin/accept","filecoin/submit"],expiration:1/0}){const{abilities:mo,...$o}=fo,Ao=this.agent.currentSpace();try{await this.agent.setCurrentSpace(io);const{root:Lo,blocks:Wo}=await this.agent.delegate({...$o,abilities:mo,audience:{did:()=>fromEmail(email(Mn))},audienceMeta:fo.audienceMeta??{}}),jo=new AgentDelegation(Lo,Wo,{audience:Mn}),zo=await this.capability.access.delegate({space:io,delegations:[jo]});if(zo.error)throw new Error(`failed to share space with ${Mn}: ${zo.error.message}`,{cause:zo.error});return jo}finally{Ao&&Ao!==io&&await this.agent.setCurrentSpace(Ao)}}async addSpace(Mn){return await this._agent.importSpaceFromDelegation(Mn)}proofs(Mn){return this._agent.proofs(Mn)}async addProof(Mn){await this._agent.addProof(Mn)}delegations(Mn){const io=[];for(const{delegation:fo,meta:mo}of this._agent.delegationsWithMeta(Mn))io.push(new AgentDelegation(fo.root,fo.blocks,mo));return io}async createDelegation(Mn,io,fo={}){const mo=fo.audienceMeta??{name:"agent",type:"device"},{root:$o,blocks:Ao}=await this._agent.delegate({...fo,abilities:io,audience:Mn,audienceMeta:mo});return new AgentDelegation($o,Ao,{audience:mo})}async revokeDelegation(Mn,io={}){return this._agent.revoke(Mn,{proofs:io.proofs})}async remove(Mn,io={}){var mo;if(!io.shards){await this.capability.upload.remove(Mn);return}const fo=await this.capability.upload.get(Mn);(mo=fo.shards)!=null&&mo.length&&await Promise.allSettled(fo.shards.map(async $o=>{var Ao;try{const Lo=await this.capability.blob.remove($o.multihash);Lo.ok&&Lo.ok.size===0&&await this.capability.store.remove($o)}catch(Lo){if(((Ao=Lo==null?void 0:Lo.cause)==null?void 0:Ao.name)!=="StoreItemNotFound")throw new Error(`failed to remove shard: ${$o}`,{cause:Lo})}})),await this.capability.upload.remove(Mn)}}new Set(abilitiesAsStrings);async function create(Fn={}){const Mn=Fn.store??new StoreIndexedDB("w3up-client"),io=await Mn.load();if(io){const $o=AgentData.fromExport(io,{store:Mn});if(Fn.principal&&$o.principal.did()!==Fn.principal.did())throw new Error(`store cannot be used with ${Fn.principal.did()}, stored principal and passed principal must match`);return new Client($o,Fn)}const fo=Fn.principal??await generate(),mo=await AgentData.create({principal:fo},{store:Mn});return new Client(mo,Fn)}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(Fn,Mn){return this.cache.has(Fn)?this.cache.get(Fn):(this.cache.set(Fn,Mn),Mn)}};function cn(...Fn){return twMerge(clsx(Fn))}const toHTTP=Fn=>Fn==null?void 0:Fn.replace(/^ipfs:\/\//,"https://w3s.link/ipfs/"),maybeENS=Fn=>Fn?/^\S+(\.\S+)+$/g.test(Fn)?!0:(Fn.startsWith("0x")||console.warn(`Specious ENS Name: ${Fn}`),!1):!1,upload=async Fn=>{const Mn=await create();console.debug({"W3Up Client":Mn,accounts:Mn.accounts(),did:Mn.did()});const io=await fetch("https://ucan.dacade.my/ucan",{method:"POST",body:JSON.stringify({did:Mn.did()})}),{delegation:fo}=await io.json(),{ok:mo,error:$o}=await extract$1(new Uint8Array(fo));if(!mo)throw new Error("Failed to extract delegation.",{cause:$o});const Ao=await Mn.addSpace(mo);return Mn.setCurrentSpace(Ao.did()),(await Mn.uploadDirectory(Fn)).toString()},truncateHash=(Fn,Mn=6)=>Fn?`${Fn.slice(0,Mn)}...${Fn.slice(-Mn)}`:"",toSlug=Fn=>Fn.toLowerCase().replace(/\s+/g,"-").replace(/[\?,:]/g,""),toDataURL=(Fn,Mn)=>{if(!Fn)Mn(null);else{const io=new FileReader;io.onload=()=>{let{result:fo}=io;fo instanceof ArrayBuffer&&(fo=new String(fo)),Mn(fo)},io.readAsDataURL(Fn)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(Fn,Mn){return this.cache.has(Fn)?this.cache.get(Fn):(this.cache.set(Fn,Mn),Mn)}};const NavigationMenu=reactExports.forwardRef(({className:Fn,children:Mn,...io},fo)=>jsxRuntimeExports.jsxs(Root2,{ref:fo,className:cn("relative z-10 flex max-w-max flex-1 items-center justify-center",Fn),...io,children:[Mn,jsxRuntimeExports.jsx(NavigationMenuViewport,{})]}));NavigationMenu.displayName=Root2.displayName;const NavigationMenuSub=reactExports.forwardRef(({className:Fn,...Mn},io)=>jsxRuntimeExports.jsx(Sub,{ref:io,className:cn("z-0 group data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:origin-left",Fn),...Mn}));NavigationMenuSub.displayName=Sub.displayName;const NavigationMenuList=reactExports.forwardRef(({className:Fn,...Mn},io)=>jsxRuntimeExports.jsx(List,{ref:io,className:cn("group flex flex-1 list-none items-center justify-center space-x-1",Fn),...Mn}));NavigationMenuList.displayName=List.displayName;const NavigationMenuItem=Item,navigationMenuTriggerStyle=cva("group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),NavigationMenuTrigger=reactExports.forwardRef(({className:Fn,children:Mn,...io},fo)=>jsxRuntimeExports.jsxs(Trigger,{ref:fo,className:cn(navigationMenuTriggerStyle(),"group",Fn),...io,children:[Mn," ",jsxRuntimeExports.jsx(ChevronDown,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-300 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));NavigationMenuTrigger.displayName=Trigger.displayName;const NavigationMenuContent=reactExports.forwardRef(({className:Fn,...Mn},io)=>jsxRuntimeExports.jsx(Content,{ref:io,className:cn("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",Fn),...Mn}));NavigationMenuContent.displayName=Content.displayName;const NavigationMenuLink=Link$1,NavigationMenuViewport=reactExports.forwardRef(({className:Fn,...Mn},io)=>jsxRuntimeExports.jsx("div",{className:cn("absolute left-0 top-full flex justify-center"),children:jsxRuntimeExports.jsx(Viewport,{className:cn("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",Fn),ref:io,...Mn})}));NavigationMenuViewport.displayName=Viewport.displayName;const NavigationMenuIndicator=reactExports.forwardRef(({className:Fn,...Mn},io)=>jsxRuntimeExports.jsx(Indicator,{ref:io,className:cn("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",Fn),...Mn,children:jsxRuntimeExports.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));NavigationMenuIndicator.displayName=Indicator.displayName;const Logo=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg id="logo" xmlns:html="http://www.w3.org/1999/xhtml" version="1.1" viewBox="0 0 9950 3675" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
  <defs id="defs16">
    <filter id="d" x="-0.01015503" y="-0.05116037" width="1.0203101" height="1.1023207"
      color-interpolation-filters="sRGB">
      <feGaussianBlur in="SourceGraphic" result="result0" stdDeviation="2" id="feGaussianBlur1" />
      <feTurbulence baseFrequency="0.052" numOctaves="8" result="result1" seed="488" type="fractalNoise"
        id="feTurbulence1" />
      <feDisplacementMap in2="result1" result="result5" xChannelSelector="R" id="feDisplacementMap1" />
      <feComposite in="result0" in2="result5" operator="in" result="result2" id="feComposite1" />
      <feSpecularLighting lighting-color="#e2fcb4" in="result2" result="result4" specularConstant="3.94000006"
        specularExponent="40" surfaceScale="3" id="feSpecularLighting1">
        <feDistantLight azimuth="265" elevation="80" id="feDistantLight1" />
      </feSpecularLighting>
      <feComposite in="result4" in2="result2" k1="5" k3="0.5" operator="arithmetic" result="result91"
        id="feComposite2" />
      <feBlend in2="result91" mode="darken" result="fbSourceGraphic" id="feBlend2" />
      <feGaussianBlur in="fbSourceGraphic" result="result0" stdDeviation="5" id="feGaussianBlur2" />
      <feSpecularLighting lighting-color="#fae06c" in="result0" result="result1" specularExponent="20" surfaceScale="4"
        id="feSpecularLighting2">
        <feDistantLight azimuth="225" elevation="50" id="feDistantLight2" />
      </feSpecularLighting>
      <feComposite in="result1" in2="fbSourceGraphic" operator="in" result="result2" id="feComposite3" />
      <feComposite in="fbSourceGraphic" in2="result2" k2="0.5" k3="2" operator="arithmetic" result="result4"
        id="feComposite4" />
      <feBlend in2="result4" mode="multiply" id="feBlend4" />
    </filter>
    <filter id="a" x="-0.0014356087" y="-0.00086043678" width="1.0028712" height="1.0017209"
      color-interpolation-filters="sRGB">
      <feGaussianBlur in="SourceAlpha" result="result91" stdDeviation="0.01" id="feGaussianBlur12" />
      <feComposite in="SourceGraphic" in2="result91" operator="in" result="fbSourceGraphic" id="feComposite13" />
      <feGaussianBlur in="fbSourceGraphic" result="result1" stdDeviation="0.01" id="feGaussianBlur13" />
      <feTurbulence baseFrequency="0.04" numOctaves="4" result="result0" seed="20" type="fractalNoise"
        id="feTurbulence13" />
      <feDisplacementMap in="result1" in2="result0" result="result2" scale="30" xChannelSelector="R"
        yChannelSelector="G" id="feDisplacementMap13" />
      <feColorMatrix result="result3" type="saturate" values="1" id="feColorMatrix13" />
      <feGaussianBlur in="fbSourceGraphic" result="result4" stdDeviation="0.01" id="feGaussianBlur14" />
      <feComposite in="result4" in2="result3" operator="atop" result="fbSourceGraphic" id="feComposite14" />
      <feGaussianBlur in="fbSourceGraphic" result="result0" stdDeviation="1.5" id="feGaussianBlur15" />
      <feTurbulence baseFrequency="0.02" numOctaves="8" result="result1" seed="20" type="fractalNoise"
        id="feTurbulence15" />
      <feComposite in="result0" in2="result1" operator="out" result="result2" id="feComposite15" />
      <feSpecularLighting lighting-color="#dfbc10" in="result2" result="result4" specularConstant="2"
        specularExponent="30" surfaceScale="2.5" id="feSpecularLighting15">
        <feDistantLight azimuth="225" elevation="62" id="feDistantLight15" />
      </feSpecularLighting>
      <feComposite in="result4" in2="result2" operator="atop" result="result92" id="feComposite16" />
      <feBlend in2="result92" mode="multiply" id="feBlend16" />
    </filter>
    <style>@import url('logo.css')</style>
    <html:link type="text/css" rel="stylesheet" href="logo.css"/>
  </defs>
  <title>dAcademy</title>
  <g transform="translate(1741.45 -1675.6)" id="g47">
    <g transform="translate(-.85184)" id="g46">
      <g id="shelf">
        <path
          d="M 958.33604,3898.0984 H 5376.4923 c 37.519,0 69.9182,30.6659 69.9182,69.8516 v 109.0106 H 888.39112 V 3967.95 c 0,-39.1857 30.69524,-69.8516 69.91559,-69.8516"
          fill="#f3f0d5" fill-rule="evenodd" id="path16"
          style="fill:#000000;fill-opacity:0.15889047;stroke-width:0.13333" />
        <g fill="#d4b075" id="table">
          <path transform="matrix(0.13333,0,0,-0.13333,0,6327.1)"
            d="m 7187.7,19523 h 33137 c 281.4,0 524.4,-230 524.4,-523.9 v -1635.4 c 0,-293.9 -243,-523.8 -524.4,-523.8 h -33137 c -294.16,0 -524.38,229.9 -524.38,523.8 v 1635.4 c 0,293.9 230.22,523.9 524.38,523.9"
            fill-rule="evenodd" id="path17" />
          <path transform="matrix(0.13333,0,0,-0.13333,0,6327.1)"
            d="m 10232,13122 c 0,-306.7 242.9,-549.5 549.9,-549.5 h 1445.2 c 306.9,0 562.7,242.8 562.7,549.5 v 3718.1 H 10232 V 13122"
            id="path18" />
          <path transform="matrix(0.13333,0,0,-0.13333,0,6327.1)"
            d="m 34723,16840 v -3718.1 c 0,-306.7 243,-549.5 550,-549.5 h 1445.2 c 306.9,0 562.7,242.8 562.7,549.5 V 16840 H 34723"
            id="path19" />
        </g>
        <path d="m 1364.2326,4231.6857 h 341.0314 v -149.9162 h -341.0314 v 149.9162" fill-opacity="0.10465" id="path20"
          style="stroke-width:0.13333" />
        <path d="m 4629.6176,4081.8228 v 149.9163 h 341.0448 v -149.9163 h -341.0448" fill-opacity="0.15788" id="path21"
          style="stroke-width:0.13333" />
      </g>
      <g id="one" class="book">
        <path transform="matrix(.13333 0 0 -.13333 0 6327.1)"
          d="m11050 19523h3593.8v14566c0 268.3-204.6 472.8-473.2 472.8h-2647.4c-255.8 0-473.2-204.5-473.2-472.8v-14566"
          id="path22" fill="#268404"/>
        <g fill="#636363" fill-opacity=".39763" id="g25">
          <path transform="matrix(.13333 0 0 -.13333 0 6327.1)" d="m11050 30831h3593.8v817.8h-3593.8v-817.8"
            style="mix-blend-mode:color-dodge" id="path23" />
          <path transform="matrix(.13333 0 0 -.13333 0 6327.1)" d="m11050 21171h3593.8v817.6h-3593.8v-817.6"
            style="mix-blend-mode:color-dodge" id="path24" />
          <path transform="matrix(.13333 0 0 -.13333 0 6327.1)" d="m11050 33258v-830.6h3593.8v830.6h-3593.8"
            style="mix-blend-mode:color-dodge" id="path25" />
        </g>
      </g>
      <g id="two" class="book">
        <path transform="matrix(.13333 0 0 -.13333 0 6327.1)"
          d="m14938 19523h3593.8v14566c0 268.3-204.7 472.8-473.2 472.8h-2647.4c-268.6 0-473.2-204.5-473.2-472.8v-14566"
          fill="#3224f8" fill-rule="evenodd" id="path26" />
        <g fill="#afafaf" fill-opacity=".6526" id="g29">
          <path transform="matrix(.13333 0 0 -.13333 0 6327.1)" d="m14938 21171h3593.8v817.6h-3593.8v-817.6"
            id="path27" />
          <path transform="matrix(.13333 0 0 -.13333 0 6327.1)" d="m14938 30831h3593.8v817.8h-3593.8v-817.8"
            id="path28" />
          <path transform="matrix(.13333 0 0 -.13333 0 6327.1)" d="m14938 33258v-830.6h3593.8v830.6h-3593.8"
            id="path29" />
        </g>
      </g>
      <g id="three" class="book">
        <path transform="matrix(.13333 0 0 -.13333 0 6327.1)"
          d="m18826 19523h3593.8v14566c0 268.3-217.4 472.8-473.2 472.8h-2647.4c-268.6 0-473.2-204.5-473.2-472.8v-14566"
          fill="#f88224" fill-rule="evenodd" id="path30" />
        <g fill="#767676" fill-opacity=".4374" id="g33">
          <path transform="matrix(.13333 0 0 -.13333 0 6327.1)" d="m18826 21171h3593.8v817.6h-3593.8v-817.6"
            style="mix-blend-mode:color-burn" id="path31" />
          <path transform="matrix(.13333 0 0 -.13333 0 6327.1)" d="m18826 33258v-830.6h3593.8v830.6h-3593.8"
            style="mix-blend-mode:color-burn" id="path32" />
          <path transform="matrix(.13333 0 0 -.13333 0 6327.1)" d="m18826 30831h3593.8v817.8h-3593.8v-817.8"
            style="mix-blend-mode:color-burn" id="path33" />
        </g>
      </g>
      <g id="four" class="book">
        <path
          d="m22701 19523h3606.6v14566c0 268.3-217.4 472.8-473.3 472.8h-2647.4c-268.5 0-485.9-204.5-485.9-472.8v-14566"
          fill="#f89b24" fill-rule="evenodd" id="path34" transform="matrix(.13333 0 0 -.13333 0 6327.1)" />
        <g fill="#e0701a" id="g37">
          <path transform="matrix(.13333 0 0 -.13333 0 6327.1)" d="m22701 21171h3606.6v817.6h-3606.6v-817.6"
            id="path35" />
          <path transform="matrix(.13333 0 0 -.13333 0 6327.1)" d="m22701 33258v-830.6h3606.6v830.6h-3606.6"
            id="path36" />
          <path transform="matrix(.13333 0 0 -.13333 0 6327.1)" d="m22701 30831h3606.6v817.8h-3606.6v-817.8"
            id="path37" />
        </g>
      </g>
      <g id="five" class="book">
        <path transform="matrix(.13333 0 0 -.13333 0 6327.1)"
          d="m26589 19523h3606.7v14566c0 268.3-217.4 472.8-473.2 472.8h-2647.4c-268.6 0-486.1-204.5-486.1-472.8v-14566"
          fill="#f82474" fill-rule="evenodd" id="path38" />
        <g fill="#8e8e8e" id="g41">
          <path transform="matrix(.13333 0 0 -.13333 0 6327.1)" d="m26589 21171h3606.7v817.6h-3606.7v-817.6"
            style="mix-blend-mode:color-dodge" id="path39" />
          <path transform="matrix(.13333 0 0 -.13333 0 6327.1)" d="m26589 30831h3606.7v817.8h-3606.7v-817.8"
            style="mix-blend-mode:color-dodge" id="path40" />
          <path transform="matrix(.13333 0 0 -.13333 0 6327.1)" d="m26589 33258v-830.6h3606.7v830.6h-3606.7"
            style="mix-blend-mode:color-dodge" id="path41" />
        </g>
      </g>
      <g id="six" class="book">
        <path transform="matrix(.13333 0 0 -.13333 0 6327.1)"
          d="m32907 19523 3555.5 613.3-2468.4 14348c-51.1 268.3-294.1 434.4-549.9 396.1l-2621.9-447.2c-255.8-51.1-422-293.9-383.7-549.4l2468.4-14361"
          fill="#24f8c4" fill-rule="evenodd" id="path42" />
        <g fill-opacity=".35126" id="g45">
          <path transform="matrix(.13333 0 0 -.13333 0 6327.1)"
            d="m34404 32083-3555.5-613.3 140.7-804.9 3555.5 613.3-140.7 804.9" style="mix-blend-mode:luminosity"
            id="path43" />
          <path transform="matrix(.13333 0 0 -.13333 0 6327.1)"
            d="m34135 33667-3555.4-613.3 140.6-804.9 3555.5 600.4-140.7 817.8" style="mix-blend-mode:luminosity"
            id="path44" />
          <path transform="matrix(.13333 0 0 -.13333 0 6327.1)"
            d="m36041 22564-3555.5-613.3 140.6-804.9 3555.5 613.3-140.6 804.9" style="mix-blend-mode:luminosity"
            id="path45" />
        </g>
      </g>
    </g>
  </g>
  <text x="50%" y="85%">dAcademy</text>
</svg>`;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(Fn,Mn){return this.cache.has(Fn)?this.cache.get(Fn):(this.cache.set(Fn,Mn),Mn)}};const components=[{title:"MetaGame",href:"/org/metagame",description:"MetaGame's OG Playbook Collection."},{title:"Add your Org's Bookshelf",href:"/org/",description:"Upload some playbooks!"}],curatedComponents=[{title:"Community Collections",href:"/curation",description:"Community curated bookshelves"},{title:"ReFi Shelf",href:"/curation",description:"Curated ReFi collection"},{title:"Feature Coming Soon...",href:"/curation",description:"Create a curation!"}],ListItem=React.forwardRef(({className:Fn,href:Mn,title:io,children:fo,icon:mo,...$o},Ao)=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs(Link$2,{to:Mn,ref:Ao,className:cn("block select-none space-y-1 rounded-md p-3 leading-none no-underline outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",Fn),...$o,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[mo&&jsxRuntimeExports.jsx("span",{className:"mr-2",children:mo}),io&&jsxRuntimeExports.jsx("span",{className:"text-sm font-medium leading-none",children:io})]}),fo&&jsxRuntimeExports.jsx("p",{className:"line-clamp-2 text-sm leading-snug text-muted-foreground",children:fo})]})}));ListItem.displayName="ListItem";const Navbar=()=>{const[Fn,Mn]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"z-50 p-2 flex justify-center gap-2 dark:bg-slate-800 dark:text-white pt-2 relative",children:[jsxRuntimeExports.jsxs(NavigationMenu,{children:[jsxRuntimeExports.jsx("button",{className:"md:hidden",onClick:()=>Mn(!Fn),children:Fn?jsxRuntimeExports.jsx(X,{}):jsxRuntimeExports.jsx(Menu,{})}),jsxRuntimeExports.jsxs(NavigationMenuList,{className:"md:flex justify-center space-x-4 items-center",children:[jsxRuntimeExports.jsx(NavigationMenuItem,{children:jsxRuntimeExports.jsx(Link$2,{to:"/",className:"md:block hidden",children:jsxRuntimeExports.jsx(House,{size:16,className:"hover:text-accent-foreground"})})}),jsxRuntimeExports.jsxs(NavigationMenuItem,{children:[jsxRuntimeExports.jsx(NavigationMenuTrigger,{className:"md:block hidden",children:"About dAcademy"}),jsxRuntimeExports.jsx(NavigationMenuContent,{children:jsxRuntimeExports.jsxs("ul",{className:"grid gap-3 p-4 md:w-[400px] lg:w-[500px] lg:grid-cols-[.75fr_1fr]",children:[jsxRuntimeExports.jsx("li",{className:"row-span-3",children:jsxRuntimeExports.jsx(NavigationMenuLink,{children:jsxRuntimeExports.jsxs(Link$2,{className:"flex h-full w-full select-none flex-col justify-end rounded-md bg-gradient-to-b from-muted/50 to-muted p-6 no-underline outline-none focus:shadow-md",to:"/",children:[jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:Logo},className:"mb-2 mt-4 text-lg font-medium"}),jsxRuntimeExports.jsx("p",{className:"text-sm leading-tight text-muted-foreground",children:"Decentralized Education Protocol"})]})})}),jsxRuntimeExports.jsx(ListItem,{href:"https://docs.dacade.my/",title:"Docs",icon:jsxRuntimeExports.jsx(BookOpen,{size:16}),children:"Learn how you can use dAcademy, what it's built with, and how it works."}),jsxRuntimeExports.jsx(ListItem,{href:"https://github.com/MetaFam/dAcademy",title:"GitHub",icon:jsxRuntimeExports.jsx(Github,{size:16}),children:"dAcademy is open-source and on GitHub.  See a bug? Like the build?"})]})})]}),jsxRuntimeExports.jsxs(NavigationMenuItem,{children:[jsxRuntimeExports.jsx(NavigationMenuTrigger,{className:"md:block hidden",children:"Bookshelves"}),jsxRuntimeExports.jsx(NavigationMenuContent,{children:jsxRuntimeExports.jsx("ul",{className:"grid w-[400px] gap-3 p-4 md:w-[500px] md:grid-cols-2 lg:w-[600px]",children:components.map(({title:io,href:fo,description:mo})=>jsxRuntimeExports.jsx(ListItem,{title:io,href:fo,children:mo},io))})})]}),jsxRuntimeExports.jsxs(NavigationMenuItem,{children:[jsxRuntimeExports.jsx(NavigationMenuTrigger,{className:"md:block hidden",children:"Curated"}),jsxRuntimeExports.jsx(NavigationMenuContent,{children:jsxRuntimeExports.jsx("ul",{className:"grid w-[400px] gap-3 p-4 md:w-[500px] md:grid-cols-2 lg:w-[600px]",children:curatedComponents.map(io=>jsxRuntimeExports.jsx(ListItem,{title:io.title,href:io.href,children:io.description},io.title))})})]}),jsxRuntimeExports.jsx(NavigationMenuItem,{children:jsxRuntimeExports.jsx(Link$2,{to:"/user",className:cn(navigationMenuTriggerStyle(),"md:block hidden"),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(User,{className:"mr-2 h-4 w-4"}),"Profile"]})})})]})]}),Fn&&jsxRuntimeExports.jsx(NavigationMenu,{className:"md:hidden absolute top-16 left-0 right-0 bg-slate-800 dark:bg-slate-800 dark:text-white p-4 z-50",children:jsxRuntimeExports.jsxs(NavigationMenuList,{className:"flex flex-col space-y-4",children:[jsxRuntimeExports.jsx(NavigationMenuItem,{children:jsxRuntimeExports.jsx(Link$2,{to:"/",className:"flex items-center",children:jsxRuntimeExports.jsx(House,{size:16,className:"hover:text-accent-foreground"})})}),jsxRuntimeExports.jsxs(NavigationMenuItem,{children:[jsxRuntimeExports.jsx(NavigationMenuTrigger,{children:"About dAcademy"}),jsxRuntimeExports.jsx(NavigationMenuContent,{children:jsxRuntimeExports.jsxs("ul",{className:"pl-4",children:[jsxRuntimeExports.jsx(ListItem,{href:"https://docs.dacade.my/",title:"Docs",icon:jsxRuntimeExports.jsx(BookOpen,{size:16}),children:"Learn how you can use dAcademy, what it's built with, and how it works."}),jsxRuntimeExports.jsx(ListItem,{href:"https://github.com/MetaFam/dAcademy",title:"GitHub",icon:jsxRuntimeExports.jsx(Github,{size:16}),children:"dAcademy is open-source and on GitHub.  See a bug? Like the build?"})]})})]}),jsxRuntimeExports.jsxs(NavigationMenuItem,{children:[jsxRuntimeExports.jsx(NavigationMenuTrigger,{children:"Bookshelves"}),jsxRuntimeExports.jsx(NavigationMenuContent,{children:jsxRuntimeExports.jsx("ul",{className:"pl-4",children:components.map(io=>jsxRuntimeExports.jsx(ListItem,{title:io.title,href:io.href,children:io.description},io.title))})})]}),jsxRuntimeExports.jsxs(NavigationMenuItem,{children:[jsxRuntimeExports.jsx(NavigationMenuTrigger,{children:"Curated"}),jsxRuntimeExports.jsx(NavigationMenuContent,{children:jsxRuntimeExports.jsx("ul",{className:"pl-4",children:curatedComponents.map(io=>jsxRuntimeExports.jsx(ListItem,{title:io.title,href:io.href,children:io.description},io.title))})})]}),jsxRuntimeExports.jsx(NavigationMenuItem,{children:jsxRuntimeExports.jsx(Link$2,{to:"/user",className:navigationMenuTriggerStyle(),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(User,{className:"mr-2 h-4 w-4"}),"Profile"]})})})]})}),jsxRuntimeExports.jsx("w3m-button",{size:"sm",balance:"hide"})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(Fn,Mn){return this.cache.has(Fn)?this.cache.get(Fn):(this.cache.set(Fn,Mn),Mn)}};const Route=createRootRoute({component:()=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("hr",{className:"dark:border-slate-700"}),jsxRuntimeExports.jsx(Outlet,{})]})});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(Fn,Mn){return this.cache.has(Fn)?this.cache.get(Fn):(this.cache.set(Fn,Mn),Mn)}};const IndexLazyImport=createFileRoute("/")(),UserIndexLazyImport=createFileRoute("/user/")(),UploadIndexLazyImport=createFileRoute("/upload/")(),OrgIndexLazyImport=createFileRoute("/org/")(),CurationIndexLazyImport=createFileRoute("/curation/")(),UserUserLazyImport=createFileRoute("/user/$user")(),OrgIdLazyImport=createFileRoute("/org/$id")(),BookSlugIndexLazyImport=createFileRoute("/book/$slug/")(),BookSlugChapterIndexLazyImport=createFileRoute("/book/$slug/$chapter/")(),IndexLazyRoute=IndexLazyImport.update({id:"/",path:"/",getParentRoute:()=>Route}).lazy(()=>__vitePreload(()=>import("./index.lazy-Wh4_wIZF.js"),__vite__mapDeps([6,7,8,9,10,11,12,13,14,5,15,16,17,18])).then(Fn=>Fn.Route)),UserIndexLazyRoute=UserIndexLazyImport.update({id:"/user/",path:"/user/",getParentRoute:()=>Route}).lazy(()=>__vitePreload(()=>import("./index.lazy-BxnGBo98.js"),__vite__mapDeps([19,7,20,21])).then(Fn=>Fn.Route)),UploadIndexLazyRoute=UploadIndexLazyImport.update({id:"/upload/",path:"/upload/",getParentRoute:()=>Route}).lazy(()=>__vitePreload(()=>import("./index.lazy-DTOdq7D4.js"),__vite__mapDeps([22,23,7,20,24,13,14,5,25,1,26,27,21,11,17,12,28,9,16,8,29,30,31,32])).then(Fn=>Fn.Route)),OrgIndexLazyRoute=OrgIndexLazyImport.update({id:"/org/",path:"/org/",getParentRoute:()=>Route}).lazy(()=>__vitePreload(()=>import("./index.lazy-C0dBNFpY.js"),__vite__mapDeps([33,7,8,9,15,12,13,14,5,10,11])).then(Fn=>Fn.Route)),CurationIndexLazyRoute=CurationIndexLazyImport.update({id:"/curation/",path:"/curation/",getParentRoute:()=>Route}).lazy(()=>__vitePreload(()=>import("./index.lazy-BVYyAVot.js"),__vite__mapDeps([34,8,12,13,14,5,28,7,17,18])).then(Fn=>Fn.Route)),UserUserLazyRoute=UserUserLazyImport.update({id:"/user/$user",path:"/user/$user",getParentRoute:()=>Route}).lazy(()=>__vitePreload(()=>import("./_user.lazy-CKh0m5F6.js"),__vite__mapDeps([35,23,7,20,24,13,14,5,25,1,26,27,21,11,17,12,28,9,8,36,37,38,10])).then(Fn=>Fn.Route)),OrgIdLazyRoute=OrgIdLazyImport.update({id:"/org/$id",path:"/org/$id",getParentRoute:()=>Route}).lazy(()=>__vitePreload(()=>import("./_id.lazy-BbDSj5wQ.js"),__vite__mapDeps([39,27,37,8,38,7])).then(Fn=>Fn.Route)),BookSlugIndexLazyRoute=BookSlugIndexLazyImport.update({id:"/book/$slug/",path:"/book/$slug/",getParentRoute:()=>Route}).lazy(()=>__vitePreload(()=>import("./index.lazy-Cpn6Hn25.js"),[]).then(Fn=>Fn.Route)),BookSlugChapterIndexLazyRoute=BookSlugChapterIndexLazyImport.update({id:"/book/$slug/$chapter/",path:"/book/$slug/$chapter/",getParentRoute:()=>Route}).lazy(()=>__vitePreload(()=>import("./index.lazy-CnmOQA3y.js"),__vite__mapDeps([40,36,27,25,1,26,21,11,14,37,30,31,41])).then(Fn=>Fn.Route)),rootRouteChildren={IndexLazyRoute,OrgIdLazyRoute,UserUserLazyRoute,CurationIndexLazyRoute,OrgIndexLazyRoute,UploadIndexLazyRoute,UserIndexLazyRoute,BookSlugIndexLazyRoute,BookSlugChapterIndexLazyRoute},routeTree=Route._addFileChildren(rootRouteChildren)._addFileTypes(),__vite_import_meta_env__$1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APPKIT_PROJECT_ID:"e68f5aaf8852a7276013760c5323852a",VITE_THE_GRAPH_QUEST_CHAINS_URL:"https://api.studio.thegraph.com/query/71457/quest-chains-optimism/version/latest",VITE_UCAN_DELEGATOR:"https://ucan.dacade.my/ucan"};let keyCount=0;function atom(Fn,Mn){const io=`atom${++keyCount}`,fo={toString(){return(__vite_import_meta_env__$1?"production":void 0)!=="production"&&this.debugLabel?io+":"+this.debugLabel:io}};return typeof Fn=="function"?fo.read=Fn:(fo.init=Fn,fo.read=defaultRead,fo.write=defaultWrite),Mn&&(fo.write=Mn),fo}function defaultRead(Fn){return Fn(this)}function defaultWrite(Fn,Mn,io){return Mn(this,typeof io=="function"?io(Fn(this)):io)}const isSelfAtom=(Fn,Mn)=>Fn.unstable_is?Fn.unstable_is(Mn):Mn===Fn,hasInitialValue=Fn=>"init"in Fn,isActuallyWritableAtom=Fn=>!!Fn.write,cancelablePromiseMap=new WeakMap,isPendingPromise=Fn=>{var Mn;return isPromiseLike$1(Fn)&&!((Mn=cancelablePromiseMap.get(Fn))!=null&&Mn[1])},cancelPromise=(Fn,Mn)=>{const io=cancelablePromiseMap.get(Fn);if(io)io[1]=!0,io[0].forEach(fo=>fo(Mn));else if((__vite_import_meta_env__$1?"production":void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},patchPromiseForCancelability=Fn=>{if(cancelablePromiseMap.has(Fn))return;const Mn=[new Set,!1];cancelablePromiseMap.set(Fn,Mn);const io=()=>{Mn[1]=!0};Fn.then(io,io),Fn.onCancel=fo=>{Mn[0].add(fo)}},isPromiseLike$1=Fn=>typeof(Fn==null?void 0:Fn.then)=="function",isAtomStateInitialized=Fn=>"v"in Fn||"e"in Fn,returnAtomValue=Fn=>{if("e"in Fn)throw Fn.e;if((__vite_import_meta_env__$1?"production":void 0)!=="production"&&!("v"in Fn))throw new Error("[Bug] atom state is not initialized");return Fn.v},addPendingPromiseToDependency=(Fn,Mn,io)=>{io.p.has(Fn)||(io.p.add(Fn),Mn.then(()=>{io.p.delete(Fn)},()=>{io.p.delete(Fn)}))},addDependency=(Fn,Mn,io,fo,mo)=>{var $o;if((__vite_import_meta_env__$1?"production":void 0)!=="production"&&fo===Mn)throw new Error("[Bug] atom cannot depend on itself");io.d.set(fo,mo.n),isPendingPromise(io.v)&&addPendingPromiseToDependency(Mn,io.v,mo),($o=mo.m)==null||$o.t.add(Mn),Fn&&addPendingDependent(Fn,fo,Mn)},createPending=()=>[new Map,new Map,new Set],addPendingAtom=(Fn,Mn,io)=>{Fn[0].has(Mn)||Fn[0].set(Mn,new Set),Fn[1].set(Mn,io)},addPendingDependent=(Fn,Mn,io)=>{const fo=Fn[0].get(Mn);fo&&fo.add(io)},getPendingDependents=(Fn,Mn)=>Fn[0].get(Mn),addPendingFunction=(Fn,Mn)=>{Fn[2].add(Mn)},flushPending=Fn=>{let Mn,io=!1;const fo=mo=>{try{mo()}catch($o){io||(Mn=$o,io=!0)}};for(;Fn[1].size||Fn[2].size;){Fn[0].clear();const mo=new Set(Fn[1].values());Fn[1].clear();const $o=new Set(Fn[2]);Fn[2].clear(),mo.forEach(Ao=>{var Lo;return(Lo=Ao.m)==null?void 0:Lo.l.forEach(fo)}),$o.forEach(fo)}if(io)throw Mn},buildStore=(...[Fn,Mn,io,fo])=>{let mo;(__vite_import_meta_env__$1?"production":void 0)!=="production"&&(mo=new Set);const $o=(_c,$l,Al)=>{const Il="v"in $l,us=$l.v,ps=isPendingPromise($l.v)?$l.v:null;if(isPromiseLike$1(Al)){patchPromiseForCancelability(Al);for(const Rl of $l.d.keys())addPendingPromiseToDependency(_c,Al,Fn(Rl));$l.v=Al,delete $l.e}else $l.v=Al,delete $l.e;(!Il||!Object.is(us,$l.v))&&(++$l.n,ps&&cancelPromise(ps,Al))},Ao=(_c,$l,Al)=>{var Il;const us=Fn($l);if(isAtomStateInitialized(us)&&(us.m&&!(Al!=null&&Al.has($l))||Array.from(us.d).every(([Xo,rs])=>Ao(_c,Xo,Al).n===rs)))return us;us.d.clear();let ps=!0;const Rl=Xo=>{if(isSelfAtom($l,Xo)){const as=Fn(Xo);if(!isAtomStateInitialized(as))if(hasInitialValue(Xo))$o(Xo,as,Xo.init);else throw new Error("no atom init");return returnAtomValue(as)}const rs=Ao(_c,Xo,Al);try{return returnAtomValue(rs)}finally{if(ps)addDependency(_c,$l,us,Xo,rs);else{const as=createPending();addDependency(as,$l,us,Xo,rs),Jo(as,$l,us),flushPending(as)}}};let Wl,Nl;const wl={get signal(){return Wl||(Wl=new AbortController),Wl.signal},get setSelf(){return(__vite_import_meta_env__$1?"production":void 0)!=="production"&&!isActuallyWritableAtom($l)&&console.warn("setSelf function cannot be used with read-only atom"),!Nl&&isActuallyWritableAtom($l)&&(Nl=(...Xo)=>{if((__vite_import_meta_env__$1?"production":void 0)!=="production"&&ps&&console.warn("setSelf function cannot be called in sync"),!ps)return Go($l,...Xo)}),Nl}};try{const Xo=Mn($l,Rl,wl);if($o($l,us,Xo),isPromiseLike$1(Xo)){(Il=Xo.onCancel)==null||Il.call(Xo,()=>Wl==null?void 0:Wl.abort());const rs=()=>{if(us.m){const as=createPending();Jo(as,$l,us),flushPending(as)}};Xo.then(rs,rs)}return us}catch(Xo){return delete us.v,us.e=Xo,++us.n,us}finally{ps=!1}},Lo=_c=>returnAtomValue(Ao(void 0,_c)),Wo=(_c,$l,Al)=>{var Il,us;const ps=new Map;for(const Rl of((Il=Al.m)==null?void 0:Il.t)||[])ps.set(Rl,Fn(Rl));for(const Rl of Al.p)ps.set(Rl,Fn(Rl));return(us=getPendingDependents(_c,$l))==null||us.forEach(Rl=>{ps.set(Rl,Fn(Rl))}),ps};function jo(_c,$l,Al){const Il=[],us=new Set,ps=new Set,Rl=[[$l,Al]];for(;Rl.length>0;){const[Wl,Nl]=Rl[Rl.length-1];if(ps.has(Wl)){Rl.pop();continue}if(us.has(Wl)){Il.push([Wl,Nl,Nl.n]),ps.add(Wl),Rl.pop();continue}us.add(Wl);for(const[wl,Xo]of Wo(_c,Wl,Nl))Wl!==wl&&!us.has(wl)&&Rl.push([wl,Xo])}return[Il,ps]}const zo=(_c,$l,Al)=>{const[Il,us]=jo(_c,$l,Al),ps=new Set([$l]);for(let Rl=Il.length-1;Rl>=0;--Rl){const[Wl,Nl,wl]=Il[Rl];let Xo=!1;for(const rs of Nl.d.keys())if(rs!==Wl&&ps.has(rs)){Xo=!0;break}Xo&&(Ao(_c,Wl,us),Jo(_c,Wl,Nl),wl!==Nl.n&&(addPendingAtom(_c,Wl,Nl),ps.add(Wl))),us.delete(Wl)}},Vo=(_c,$l,...Al)=>{let Il=!0;const us=Rl=>returnAtomValue(Ao(_c,Rl)),ps=(Rl,...Wl)=>{const Nl=Fn(Rl);try{if(isSelfAtom($l,Rl)){if(!hasInitialValue(Rl))throw new Error("atom not writable");const wl=Nl.n,Xo=Wl[0];$o(Rl,Nl,Xo),Jo(_c,Rl,Nl),wl!==Nl.n&&(addPendingAtom(_c,Rl,Nl),zo(_c,Rl,Nl));return}else return Vo(_c,Rl,...Wl)}finally{Il||flushPending(_c)}};try{return io($l,us,ps,...Al)}finally{Il=!1}},Go=(_c,...$l)=>{const Al=createPending();try{return Vo(Al,_c,...$l)}finally{flushPending(Al)}},Jo=(_c,$l,Al)=>{if(Al.m&&!isPendingPromise(Al.v)){for(const Il of Al.d.keys())Al.m.d.has(Il)||(Qo(_c,Il,Fn(Il)).t.add($l),Al.m.d.add(Il));for(const Il of Al.m.d||[])if(!Al.d.has(Il)){Al.m.d.delete(Il);const us=os(_c,Il,Fn(Il));us==null||us.t.delete($l)}}},Qo=(_c,$l,Al)=>{if(!Al.m){Ao(_c,$l);for(const Il of Al.d.keys())Qo(_c,Il,Fn(Il)).t.add($l);if(Al.m={l:new Set,d:new Set(Al.d.keys()),t:new Set},(__vite_import_meta_env__$1?"production":void 0)!=="production"&&mo.add($l),isActuallyWritableAtom($l)){const Il=Al.m;let us;const ps=(Rl,Wl)=>{let Nl=!0;us=(...wl)=>{try{return Vo(Rl,$l,...wl)}finally{Nl||flushPending(Rl)}};try{return Wl()}finally{Nl=!1}};addPendingFunction(_c,()=>{const Rl=ps(_c,()=>fo($l,(...Wl)=>us(...Wl)));Rl&&(Il.u=Wl=>ps(Wl,Rl))})}}return Al.m},os=(_c,$l,Al)=>{if(Al.m&&!Al.m.l.size&&!Array.from(Al.m.t).some(Il=>{var us;return(us=Fn(Il).m)==null?void 0:us.d.has($l)})){const Il=Al.m.u;Il&&addPendingFunction(_c,()=>Il(_c)),delete Al.m,(__vite_import_meta_env__$1?"production":void 0)!=="production"&&mo.delete($l);for(const us of Al.d.keys()){const ps=os(_c,us,Fn(us));ps==null||ps.t.delete($l)}return}return Al.m},ds={get:Lo,set:Go,sub:(_c,$l)=>{const Al=createPending(),Il=Fn(_c),ps=Qo(Al,_c,Il).l;return ps.add($l),flushPending(Al),()=>{ps.delete($l);const Rl=createPending();os(Rl,_c,Il),flushPending(Rl)}},unstable_derive:_c=>buildStore(..._c(Fn,Mn,io,fo))};return(__vite_import_meta_env__$1?"production":void 0)!=="production"&&Object.assign(ds,{dev4_get_internal_weak_map:()=>({get:$l=>{const Al=Fn($l);if(Al.n!==0)return Al}}),dev4_get_mounted_atoms:()=>mo,dev4_restore_atoms:$l=>{const Al=createPending();for(const[Il,us]of $l)if(hasInitialValue(Il)){const ps=Fn(Il),Rl=ps.n;$o(Il,ps,us),Jo(Al,Il,ps),Rl!==ps.n&&(addPendingAtom(Al,Il,ps),zo(Al,Il,ps))}flushPending(Al)}}),ds},createStore=()=>{const Fn=new WeakMap;return buildStore(io=>{if((__vite_import_meta_env__$1?"production":void 0)!=="production"&&!io)throw new Error("Atom is undefined or null");let fo=Fn.get(io);return fo||(fo={d:new Map,p:new Set,n:0},Fn.set(io,fo)),fo},(io,...fo)=>io.read(...fo),(io,...fo)=>io.write(...fo),(io,...fo)=>{var mo;return(mo=io.onMount)==null?void 0:mo.call(io,...fo)})};let defaultStore;const getDefaultStore=()=>(defaultStore||(defaultStore=createStore(),(__vite_import_meta_env__$1?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=defaultStore),globalThis.__JOTAI_DEFAULT_STORE__!==defaultStore&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),defaultStore),__vite_import_meta_env__={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APPKIT_PROJECT_ID:"e68f5aaf8852a7276013760c5323852a",VITE_THE_GRAPH_QUEST_CHAINS_URL:"https://api.studio.thegraph.com/query/71457/quest-chains-optimism/version/latest",VITE_UCAN_DELEGATOR:"https://ucan.dacade.my/ucan"},StoreContext=reactExports.createContext(void 0),useStore=Fn=>reactExports.useContext(StoreContext)||getDefaultStore(),Provider=({children:Fn,store:Mn})=>{const io=reactExports.useRef();return!Mn&&!io.current&&(io.current=createStore()),reactExports.createElement(StoreContext.Provider,{value:Mn||io.current},Fn)},isPromiseLike=Fn=>typeof(Fn==null?void 0:Fn.then)=="function",attachPromiseMeta=Fn=>{Fn.status="pending",Fn.then(Mn=>{Fn.status="fulfilled",Fn.value=Mn},Mn=>{Fn.status="rejected",Fn.reason=Mn})},use=React.use||(Fn=>{if(Fn.status==="pending")throw Fn;if(Fn.status==="fulfilled")return Fn.value;throw Fn.status==="rejected"?Fn.reason:(attachPromiseMeta(Fn),Fn)}),continuablePromiseMap=new WeakMap,createContinuablePromise=Fn=>{let Mn=continuablePromiseMap.get(Fn);return Mn||(Mn=new Promise((io,fo)=>{let mo=Fn;const $o=Wo=>jo=>{mo===Wo&&io(jo)},Ao=Wo=>jo=>{mo===Wo&&fo(jo)},Lo=Wo=>{"onCancel"in Wo&&typeof Wo.onCancel=="function"&&Wo.onCancel(jo=>{if((__vite_import_meta_env__?"production":void 0)!=="production"&&jo===Wo)throw new Error("[Bug] p is not updated even after cancelation");isPromiseLike(jo)?(continuablePromiseMap.set(jo,Mn),mo=jo,jo.then($o(jo),Ao(jo)),Lo(jo)):io(jo)})};Fn.then($o(Fn),Ao(Fn)),Lo(Fn)}),continuablePromiseMap.set(Fn,Mn)),Mn};function useAtomValue(Fn,Mn){const io=useStore(),[[fo,mo,$o],Ao]=reactExports.useReducer(jo=>{const zo=io.get(Fn);return Object.is(jo[0],zo)&&jo[1]===io&&jo[2]===Fn?jo:[zo,io,Fn]},void 0,()=>[io.get(Fn),io,Fn]);let Lo=fo;if((mo!==io||$o!==Fn)&&(Ao(),Lo=io.get(Fn)),reactExports.useEffect(()=>{const jo=io.sub(Fn,()=>{Ao()});return Ao(),jo},[io,Fn,void 0]),reactExports.useDebugValue(Lo),isPromiseLike(Lo)){const jo=createContinuablePromise(Lo);return use(jo)}return Lo}function useSetAtom(Fn,Mn){const io=useStore();return reactExports.useCallback((...mo)=>{if((__vite_import_meta_env__?"production":void 0)!=="production"&&!("write"in Fn))throw new Error("not writable atom");return io.set(Fn,...mo)},[io,Fn])}function useAtom(Fn,Mn){return[useAtomValue(Fn),useSetAtom(Fn)]}var DevTools=()=>null;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(Fn,Mn){return this.cache.has(Fn)?this.cache.get(Fn):(this.cache.set(Fn,Mn),Mn)}};const params=new URLSearchParams(window.location.search);params.get("debug");const hashHistory=createHashHistory(),router=createRouter({routeTree,history:hashHistory}),queryClient=new QueryClient,projectId="e68f5aaf8852a7276013760c5323852a",metadata={name:"dAcademy",description:"dAcademy",url:"https://dacade.my",icons:["https://dacade.my/octopus%20icon.svg"]},networks=[mainnet,optimism],wagmiAdapter=new WagmiAdapter({networks,projectId});createAppKit({adapters:[wagmiAdapter],networks:[mainnet,optimism],metadata,projectId,showWallets:!0,features:{analytics:!0,email:!1,socials:["x","farcaster","discord"]}});const AppKitProvider=({children:Fn})=>jsxRuntimeExports.jsx(WagmiProvider,{config:wagmiAdapter.wagmiConfig,children:jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:Fn})}),root=document.getElementById("root");root.innerHTML||createRoot(root).render(jsxRuntimeExports.jsxs(reactExports.StrictMode,{children:[jsxRuntimeExports.jsx(Be,{position:"bottom-center"}),jsxRuntimeExports.jsx(Ie,{position:"bottom-center"}),jsxRuntimeExports.jsx(AppKitProvider,{children:jsxRuntimeExports.jsxs(Provider,{children:[jsxRuntimeExports.jsx(RouterProvider,{router}),jsxRuntimeExports.jsx(DevTools,{})]})})]}));export{writeContract as $,useAtomValue as A,upload as B,ChevronDown as C,toHTTP as D,toSlug as E,BookOpen as F,Github as G,House as H,truncateHash as I,getEnsAvatar as J,getEnsName as K,Logo as L,DismissableLayer as M,useCallbackRef as N,useRouterState as O,Primitive as P,waitForTransactionReceipt as Q,React as R,Slot as S,__vitePreload as T,Subscribable as U,shallowEqualObjects as V,hashKey as W,X,getDefaultState as Y,notifyManager as Z,_t as _,createLazyFileRoute as a,getEnsText as a$,useQueryClient as a0,commonjsGlobal as a1,getDefaultExportFromCjs as a2,BaseError as a3,getAbiItem as a4,AbiEventNotFoundError as a5,formatAbiItem as a6,toEventSelector as a7,keccak256 as a8,toBytes$4 as a9,packetToBytes as aA,hexToNumber as aB,concat$2 as aC,isAddress as aD,InvalidAddressError as aE,BytesSizeMismatchError as aF,stringToHex as aG,bytesToHex$2 as aH,sliceHex as aI,concatHex as aJ,hexToBytes$1 as aK,getTransaction as aL,hexToBigInt as aM,isHex as aN,universalSignatureValidatorAbi as aO,encodeDeployData as aP,universalSignatureValidatorByteCode as aQ,hexToBool as aR,getAddress as aS,recoverAddress as aT,CallExecutionError as aU,getBlock as aV,getBalance$1 as aW,getChainId as aX,getEnsAddress$1 as aY,getEnsAvatar$1 as aZ,getEnsName$1 as a_,encodeAbiParameters as aa,numberToHex as ab,encodeFunctionData as ac,getAction$1 as ad,estimateGas$1 as ae,parseAccount as af,getContractError as ag,AbiEventSignatureEmptyTopicsError as ah,AbiEventSignatureNotFoundError as ai,DecodeLogTopicsMismatch as aj,decodeAbiParameters as ak,AbiDecodingDataSizeTooSmallError as al,PositionOutOfBoundsError as am,DecodeLogDataMismatch as an,size$6 as ao,formatLog as ap,call as aq,decodeFunctionResult as ar,stringify as as,observe as at,poll$1 as au,getBlockNumber as av,InvalidInputRpcError as aw,readContract$1 as ax,getChainContractAddress as ay,toHex as az,Link$2 as b,WuiLoadingSpinner as b$,estimateFeesPerGas as b0,getGasPrice as b1,estimateMaxPriorityFeePerGas as b2,getTransactionCount as b3,getTransactionReceipt as b4,multicall$1 as b5,prepareTransactionRequest$1 as b6,sendRawTransaction as b7,waitForTransactionReceipt$1 as b8,watchBlockNumber as b9,Jf as bA,OptionsController as bB,AccountController as bC,customElement as bD,EventsController as bE,ChainController as bF,W3mFrameRpcConstants as bG,SnackController as bH,ConnectionController as bI,ModalController as bJ,RouterController as bK,NetworkUtil as bL,CoreHelperUtil as bM,Wf as bN,Yi as bO,Vi as bP,b$2 as bQ,MathUtil as bR,initializeTheming as bS,setColorTheme as bT,setThemeVariables as bU,UiHelperUtil as bV,TransactionUtil as bW,WuiCard as bX,WuiIcon as bY,WuiImage as bZ,WuiLoadingHexagon as b_,createClient as ba,Slottable as bb,Root as bc,BaseError$1 as bd,WagmiContext as be,deepEqual$1 as bf,getAccount as bg,watchAccount as bh,reactDomExports as bi,ReactDOM as bj,pendingThenable as bk,resolveEnabled as bl,resolveStaleTime as bm,noop$2 as bn,isServer as bo,isValidTimeout as bp,timeUntilStale as bq,focusManager as br,fetchState as bs,replaceData as bt,proxy as bu,subscribeKey as bv,subscribe as bw,ref as bx,SIWXUtil as by,Qf as bz,createLucideIcon as c,WuiIconButton as c$,WuiLoadingThumbnail as c0,WuiShimmer as c1,WuiText as c2,WuiVisual as c3,WuiAccountButton as c4,WuiAllWalletsImage as c5,WuiAvatar as c6,WuiButton as c7,WuiCardSelectLoader as c8,WuiCardSelect as c9,WuiAlertBar as cA,WuiTabs as cB,WuiTokenButton as cC,WuiTag as cD,WuiTooltip as cE,WuiTokenListItem as cF,WuiTransactionVisual as cG,WuiVisualThumbnail as cH,WuiWalletImage as cI,WuiNoticeCard as cJ,WuiListAccordion as cK,WuiListContent as cL,WuiListNetwork as cM,WuiListWalletTransaction as cN,WuiPromo as cO,WuiBalance as cP,WuiProfileButton as cQ,WuiProfileButtonV2 as cR,WuiChipButton as cS,WuiCompatibleNetwork as cT,WuiBanner as cU,WuiBannerImg as cV,WuiListToken as cW,WuiListDescription as cX,WuiInputAmount as cY,WuiPreviewItem as cZ,WuiListAccount as c_,WuiChip as ca,WuiConnectButton as cb,WuiCtaButton as cc,WuiDetailsGroup as cd,WuiDetailsGroupItem as ce,WuiDropdownMenu as cf,WuiEmailInput as cg,WuiEnsInput as ch,WuiIconBox as ci,WuiIconLink as cj,WuiInputElement as ck,WuiInputNumeric as cl,WuiInputText as cm,WuiLink as cn,WuiListItem as co,WuiTransactionListItem as cp,WuiTransactionListItemLoader as cq,WuiListWallet as cr,WuiLogoSelect as cs,WuiLogo as ct,WuiNetworkButton as cu,WuiNetworkImage as cv,WuiOtp as cw,WuiQrCode as cx,WuiSearchBar as cy,WuiSnackbar as cz,useNavigate as d,WuiListButton as d0,WuiListSocial as d1,WuiSelect as d2,WuiCheckBox as d3,WuiSwitch as d4,WuiCertifiedSwitch as d5,WuiFlex as d6,WuiGrid as d7,WuiSeparator as d8,i$5 as d9,usePrevious as dA,VisuallyHidden as dB,r$7 as da,ApiController as db,x as dc,r$5 as dd,ThemeController as de,getAugmentedNamespace as df,sha3 as dg,bytesToHex$1 as dh,sha256$6 as di,EventEmitter$1 as dj,require$$3 as dk,buffer$3 as dl,inherits_browserExports as dm,eventsExports as dn,getUrl as dp,decodeErrorResult as dq,HttpRequestError as dr,Hash as ds,hash$1 as dt,toBytes$3 as du,exists as dv,bytes$1 as dw,concatBytes$2 as dx,randomBytes as dy,createContext2 as dz,atom as e,clsx as f,cn as g,http as h,maybeENS as i,jsxRuntimeExports as j,cva as k,useSetAtom as l,mainnet as m,n,createContextScope$1 as o,useControllableState as p,useId as q,reactExports as r,composeEventHandlers as s,toDataURL as t,useAtom as u,Presence as v,useComposedRefs as w,useLayoutEffect2 as x,createCollection as y,useDirection as z};

import{c as L,j as r,b as te,H as Je,r as w,R as g,e as P,u as O,f as Qe,g as W,h as je,i as ie,k as Ae,P as U,l as Ne,m as Ze,n as De,o as et,p as tt,q as ot,C as at,s as it,t as rt,a as nt,v as I,w as ge,x as xe}from"./index-HiPsjHpj.js";import{u as st,S as ct,a as lt,b as ht,c as dt,d as pt,e as mt,f as we,g as fe,h as ut,i as gt,j as xt}from"./useWalletInfo-Btt0RuKO.js";import{A as wt,a as ft,b as Ct}from"./avatar-Dde7bbDU.js";import{B as vt}from"./book-open-check-BvQf-7wu.js";import{C as _,a as E,b as H,d as $}from"./card-BelHed8A.js";import{B as oe}from"./button-D4IHqrYB.js";import{a as X}from"./isGridVisibleAtom-l1kRRlfy.js";import{M as bt}from"./MarkdownEditor-uzKaPnTs.js";/* empty css                        */import{I as yt}from"./input-C-rIW4y-.js";import"./index-Bfpr8wOl.js";import"./index-DEHHTLm9.js";import"./index-Bo12_iYY.js";import"./tslib.es6-B2dMZmZB.js";import"./index-hTfwLQYs.js";import"./useQuery-C6SRKt8v.js";import"./useAccount-BVoleJlg.js";import"./index-BXoqLDm7.js";import"./use-media-query-B-zgT1HJ.js";import"./dialog-C0HC3Ojn.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=L("BookKey",[["path",{d:"m19 3 1 1",key:"ze14oc"}],["path",{d:"m20 2-4.5 4.5",key:"1sppr8"}],["path",{d:"M20 8v13a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"1ocbpn"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H14",key:"1gfsgw"}],["circle",{cx:"14",cy:"8",r:"2",key:"u49eql"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=L("BookText",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=L("BookType",[["path",{d:"M10 13h4",key:"ytezjc"}],["path",{d:"M12 6v7",key:"1f6ttz"}],["path",{d:"M16 8V6H8v2",key:"x8j6u4"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=L("ImageUp",[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19.5 3-3 3 3",key:"9vmjn0"}],["path",{d:"M17 22v-5.5",key:"1aa6fl"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=L("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(o,e){return this.cache.has(o)?this.cache.get(o):(this.cache.set(o,e),e)}};const z=[{title:"Cover",url:"#upload-cover",value:"item-1",icon:Dt},{title:"Book Title",url:"#book-title",value:"item-2",icon:Nt},{title:"Book Introduction",url:"#book-intro",value:"item-3",icon:vt}],Ce=[{title:"Chapters",url:"#chapters",value:"item-4",icon:At},{title:"Completion NFT",url:"#completion",value:"item-5",icon:kt},{title:"Owner Permissions",url:"#permissions",value:"item-6",icon:jt}];function ve(o){return o?`${o.slice(0,5)}…${o.slice(-5)}`:""}function Rt({onAccordionChange:o}){const{address:e,ensName:t,ensAvatar:n}=st(),a=t||ve(e||""),i=s=>{const d=z.find(l=>l.url===s)||Ce.find(l=>l.url===s);if(d){o(d.value);const l=document.querySelector(s);l&&setTimeout(()=>{l.scrollIntoView({behavior:"smooth",block:"start"})},300)}};return r.jsx(ct,{children:r.jsxs(lt,{children:[r.jsxs(ht,{children:[r.jsx(dt,{children:"Upload Hub"}),r.jsx(pt,{children:r.jsxs(mt,{className:"mt-8",children:[z.map(s=>r.jsx(we,{children:r.jsx(fe,{asChild:!0,children:r.jsxs(te,{to:s.url,className:"flex items-center gap-2",onClick:()=>i(s.url),children:[r.jsx(s.icon,{className:"h-4 w-4"}),r.jsx("span",{children:s.title})]})})},s.title)),Ce.map(s=>r.jsx(we,{children:r.jsx(fe,{asChild:!0,children:r.jsxs(te,{to:s.url,className:"flex items-center gap-2",onClick:()=>i(s.url),children:[r.jsx(s.icon,{className:"h-4 w-4"}),r.jsx("span",{children:s.title})]})})},s.title))]})})]}),r.jsxs("div",{className:"mt-auto flex items-center justify-between gap-2 p-4",children:[a?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(wt,{children:[r.jsx(ft,{src:n||"https://example.com/avatar.jpg",alt:"Avatar"}),r.jsx(Ct,{children:t?t.slice(0,2).toUpperCase():ve(e||"").slice(0,2).toUpperCase()})]}),r.jsx("div",{children:r.jsx("p",{className:"text-sm font-medium",children:a})})]}):r.jsx("div",{className:"mx-auto",children:r.jsx("w3m-button",{size:"sm"})}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ut,{}),r.jsx(te,{to:"/",className:"flex items-center",children:r.jsx(Je,{className:"h-4 w-4"})})]})]})]})})}const F={x:0,y:0,width:0,height:0,unit:"px"},S=(o,e,t)=>Math.min(Math.max(o,e),t),Mt=(...o)=>o.filter(e=>e&&typeof e=="string").join(" "),be=(o,e)=>o===e||o.width===e.width&&o.height===e.height&&o.x===e.x&&o.y===e.y&&o.unit===e.unit;function It(o,e,t,n){const a=j(o,t,n);return o.width&&(a.height=a.width/e),o.height&&(a.width=a.height*e),a.y+a.height>n&&(a.height=n-a.y,a.width=a.height*e),a.x+a.width>t&&(a.width=t-a.x,a.height=a.width/e),o.unit==="%"?k(a,t,n):a}function St(o,e,t){const n=j(o,e,t);return n.x=(e-n.width)/2,n.y=(t-n.height)/2,o.unit==="%"?k(n,e,t):n}function k(o,e,t){return o.unit==="%"?{...F,...o,unit:"%"}:{unit:"%",x:o.x?o.x/e*100:0,y:o.y?o.y/t*100:0,width:o.width?o.width/e*100:0,height:o.height?o.height/t*100:0}}function j(o,e,t){return o.unit?o.unit==="px"?{...F,...o,unit:"px"}:{unit:"px",x:o.x?o.x*e/100:0,y:o.y?o.y*t/100:0,width:o.width?o.width*e/100:0,height:o.height?o.height*t/100:0}:{...F,...o,unit:"px"}}function ye(o,e,t,n,a,i=0,s=0,d=n,l=a){const c={...o};let p=Math.min(i,n),u=Math.min(s,a),m=Math.min(d,n),h=Math.min(l,a);e&&(e>1?(p=s?s*e:p,u=p/e,m=d*e):(u=i?i/e:u,p=u*e,h=l/e)),c.y<0&&(c.height=Math.max(c.height+c.y,u),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,p),c.x=0);const x=n-(c.x+c.width);x<0&&(c.x=Math.min(c.x,n-p),c.width+=x);const f=a-(c.y+c.height);if(f<0&&(c.y=Math.min(c.y,a-u),c.height+=f),c.width<p&&((t==="sw"||t=="nw")&&(c.x-=p-c.width),c.width=p),c.height<u&&((t==="nw"||t=="ne")&&(c.y-=u-c.height),c.height=u),c.width>m&&((t==="sw"||t=="nw")&&(c.x-=m-c.width),c.width=m),c.height>h&&((t==="nw"||t=="ne")&&(c.y-=h-c.height),c.height=h),e){const v=c.width/c.height;if(v<e){const b=Math.max(c.width/e,u);(t==="nw"||t=="ne")&&(c.y-=b-c.height),c.height=b}else if(v>e){const b=Math.max(c.height*e,p);(t==="sw"||t=="nw")&&(c.x-=b-c.width),c.width=b}}return c}function Tt(o,e,t,n){const a={...o};return e==="ArrowLeft"?n==="nw"?(a.x-=t,a.y-=t,a.width+=t,a.height+=t):n==="w"?(a.x-=t,a.width+=t):n==="sw"?(a.x-=t,a.width+=t,a.height+=t):n==="ne"?(a.y+=t,a.width-=t,a.height-=t):n==="e"?a.width-=t:n==="se"&&(a.width-=t,a.height-=t):e==="ArrowRight"&&(n==="nw"?(a.x+=t,a.y+=t,a.width-=t,a.height-=t):n==="w"?(a.x+=t,a.width-=t):n==="sw"?(a.x+=t,a.width-=t,a.height-=t):n==="ne"?(a.y-=t,a.width+=t,a.height+=t):n==="e"?a.width+=t:n==="se"&&(a.width+=t,a.height+=t)),e==="ArrowUp"?n==="nw"?(a.x-=t,a.y-=t,a.width+=t,a.height+=t):n==="n"?(a.y-=t,a.height+=t):n==="ne"?(a.y-=t,a.width+=t,a.height+=t):n==="sw"?(a.x+=t,a.width-=t,a.height-=t):n==="s"?a.height-=t:n==="se"&&(a.width-=t,a.height-=t):e==="ArrowDown"&&(n==="nw"?(a.x+=t,a.y+=t,a.width-=t,a.height-=t):n==="n"?(a.y+=t,a.height-=t):n==="ne"?(a.y+=t,a.width-=t,a.height-=t):n==="sw"?(a.x-=t,a.width+=t,a.height+=t):n==="s"?a.height+=t:n==="se"&&(a.width+=t,a.height+=t)),a}const T={capture:!0,passive:!1};let Pt=0;const D=class y extends w.PureComponent{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=w.createRef(),this.mediaRef=w.createRef(),this.initChangeCalled=!1,this.instanceId=`rc-${Pt++}`,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{const{crop:t,disabled:n}=this.props,a=this.getBox();if(!t)return;const i=j(t,a.width,a.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const s=e.target.dataset.ord,d=!!s;let l=e.clientX,c=e.clientY,p=i.x,u=i.y;if(s){const m=e.clientX-a.x,h=e.clientY-a.y;let x=0,f=0;s==="ne"||s=="e"?(x=m-(i.x+i.width),f=h-i.y,p=i.x,u=i.y+i.height):s==="se"||s==="s"?(x=m-(i.x+i.width),f=h-(i.y+i.height),p=i.x,u=i.y):s==="sw"||s=="w"?(x=m-i.x,f=h-(i.y+i.height),p=i.x+i.width,u=i.y):(s==="nw"||s=="n")&&(x=m-i.x,f=h-i.y,p=i.x+i.width,u=i.y+i.height),l=p+a.x+x,c=u+a.y+f}this.evData={startClientX:l,startClientY:c,startCropX:p,startCropY:u,clientX:e.clientX,clientY:e.clientY,isResize:d,ord:s},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{const{crop:t,disabled:n,locked:a,keepSelection:i,onChange:s}=this.props,d=this.getBox();if(n||a||i&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const l=e.clientX-d.x,c=e.clientY-d.y,p={unit:"px",x:l,y:c,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:l,startCropY:c,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,s(j(p,d.width,d.height),k(p,d.width,d.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{const{crop:t,disabled:n,onChange:a,onDragStart:i}=this.props,s=this.getBox();if(n||!t||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,i&&i(e));const{evData:d}=this;d.clientX=e.clientX,d.clientY=e.clientY;let l;d.isResize?l=this.resizeCrop():l=this.dragCrop(),be(t,l)||a(j(l,s.width,s.height),k(l,s.width,s.height))},this.onComponentKeyDown=e=>{const{crop:t,disabled:n,onChange:a,onComplete:i}=this.props;if(n)return;const s=e.key;let d=!1;if(!t)return;const l=this.getBox(),c=this.makePixelCrop(l),p=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?y.nudgeStepLarge:e.shiftKey?y.nudgeStepMedium:y.nudgeStep;if(s==="ArrowLeft"?(c.x-=p,d=!0):s==="ArrowRight"?(c.x+=p,d=!0):s==="ArrowUp"?(c.y-=p,d=!0):s==="ArrowDown"&&(c.y+=p,d=!0),d){e.cancelable&&e.preventDefault(),c.x=S(c.x,0,l.width-c.width),c.y=S(c.y,0,l.height-c.height);const u=j(c,l.width,l.height),m=k(c,l.width,l.height);a(u,m),i&&i(u,m)}},this.onHandlerKeyDown=(e,t)=>{const{aspect:n=0,crop:a,disabled:i,minWidth:s=0,minHeight:d=0,maxWidth:l,maxHeight:c,onChange:p,onComplete:u}=this.props,m=this.getBox();if(i||!a)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const h=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?y.nudgeStepLarge:e.shiftKey?y.nudgeStepMedium:y.nudgeStep,x=j(a,m.width,m.height),f=Tt(x,e.key,h,t),v=ye(f,n,t,m.width,m.height,s,d,l,c);if(!be(a,v)){const b=k(v,m.width,m.height);p(v,b),u&&u(v,b)}},this.onDocPointerDone=e=>{const{crop:t,disabled:n,onComplete:a,onDragEnd:i}=this.props,s=this.getBox();this.unbindDocMove(),!(n||!t)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,i&&i(e),a&&a(j(t,s.width,s.height),k(t,s.width,s.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)}}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:t,y:n,width:a,height:i}=e.getBoundingClientRect();return{x:t,y:n,width:a,height:i}}componentDidUpdate(e){const{crop:t,onComplete:n}=this.props;if(n&&!e.crop&&t){const{width:a,height:i}=this.getBox();a&&i&&n(j(t,a,i),k(t,a,i))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,T),this.document.addEventListener("pointerup",this.onDocPointerDone,T),this.document.addEventListener("pointercancel",this.onDocPointerDone,T),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,T),this.document.removeEventListener("pointerup",this.onDocPointerDone,T),this.document.removeEventListener("pointercancel",this.onDocPointerDone,T),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,t=this.getBox(),n=this.makePixelCrop(t),a=e.clientX-e.startClientX,i=e.clientY-e.startClientY;return n.x=S(e.startCropX+a,0,t.width-n.width),n.y=S(e.startCropY+i,0,t.height-n.height),n}getPointRegion(e,t,n,a){const{evData:i}=this,s=i.clientX-e.x,d=i.clientY-e.y;let l;a&&t?l=t==="nw"||t==="n"||t==="ne":l=d<i.startCropY;let c;return n&&t?c=t==="nw"||t==="w"||t==="sw":c=s<i.startCropX,c?l?"nw":"sw":l?"ne":"se"}resolveMinDimensions(e,t,n=0,a=0){const i=Math.min(n,e.width),s=Math.min(a,e.height);return!t||!i&&!s?[i,s]:t>1?i?[i,i/t]:[s*t,s]:s?[s*t,s]:[i,i/t]}resizeCrop(){const{evData:e}=this,{aspect:t=0,maxWidth:n,maxHeight:a}=this.props,i=this.getBox(),[s,d]=this.resolveMinDimensions(i,t,this.props.minWidth,this.props.minHeight);let l=this.makePixelCrop(i);const c=this.getPointRegion(i,e.ord,s,d),p=e.ord||c;let u=e.clientX-e.startClientX,m=e.clientY-e.startClientY;(s&&p==="nw"||p==="w"||p==="sw")&&(u=Math.min(u,-s)),(d&&p==="nw"||p==="n"||p==="ne")&&(m=Math.min(m,-d));const h={unit:"px",x:0,y:0,width:0,height:0};c==="ne"?(h.x=e.startCropX,h.width=u,t?(h.height=h.width/t,h.y=e.startCropY-h.height):(h.height=Math.abs(m),h.y=e.startCropY-h.height)):c==="se"?(h.x=e.startCropX,h.y=e.startCropY,h.width=u,t?h.height=h.width/t:h.height=m):c==="sw"?(h.x=e.startCropX+u,h.y=e.startCropY,h.width=Math.abs(u),t?h.height=h.width/t:h.height=m):c==="nw"&&(h.x=e.startCropX+u,h.width=Math.abs(u),t?(h.height=h.width/t,h.y=e.startCropY-h.height):(h.height=Math.abs(m),h.y=e.startCropY+m));const x=ye(h,t,c,i.width,i.height,s,d,n,a);return t||y.xyOrds.indexOf(p)>-1?l=x:y.xOrds.indexOf(p)>-1?(l.x=x.x,l.width=x.width):y.yOrds.indexOf(p)>-1&&(l.y=x.y,l.height=x.height),l.x=S(l.x,0,i.width-l.width),l.y=S(l.y,0,i.height-l.height),l}renderCropSelection(){const{ariaLabels:e=y.defaultProps.ariaLabels,disabled:t,locked:n,renderSelectionAddon:a,ruleOfThirds:i,crop:s}=this.props,d=this.getCropStyle();if(s)return g.createElement("div",{style:d,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!t&&!n&&g.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},g.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),g.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),g.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),g.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),g.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"nw"),role:"button"}),g.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"n"),role:"button"}),g.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"ne"),role:"button"}),g.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"e"),role:"button"}),g.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"se"),role:"button"}),g.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"s"),role:"button"}),g.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"sw"),role:"button"}),g.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"w"),role:"button"})),a&&g.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:l=>l.stopPropagation()},a(this.state)),i&&g.createElement(g.Fragment,null,g.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),g.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const t={...F,...this.props.crop||{}};return j(t,e.width,e.height)}render(){const{aspect:e,children:t,circularCrop:n,className:a,crop:i,disabled:s,locked:d,style:l,ruleOfThirds:c}=this.props,{cropIsActive:p,newCropIsBeingDrawn:u}=this.state,m=i?this.renderCropSelection():null,h=Mt("ReactCrop",a,p&&"ReactCrop--active",s&&"ReactCrop--disabled",d&&"ReactCrop--locked",u&&"ReactCrop--new-crop",i&&e&&"ReactCrop--fixed-aspect",i&&n&&"ReactCrop--circular-crop",i&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return g.createElement("div",{ref:this.componentRef,className:h,style:l},g.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},t),i?g.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},g.createElement("defs",null,g.createElement("mask",{id:`hole-${this.instanceId}`},g.createElement("rect",{width:"100%",height:"100%",fill:"white"}),n?g.createElement("ellipse",{cx:`${i.x+i.width/2}${i.unit}`,cy:`${i.y+i.height/2}${i.unit}`,rx:`${i.width/2}${i.unit}`,ry:`${i.height/2}${i.unit}`,fill:"black"}):g.createElement("rect",{x:`${i.x}${i.unit}`,y:`${i.y}${i.unit}`,width:`${i.width}${i.unit}`,height:`${i.height}${i.unit}`,fill:"black"}))),g.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,m)}};D.xOrds=["e","w"],D.yOrds=["n","s"],D.xyOrds=["nw","ne","se","sw"],D.nudgeStep=1,D.nudgeStepMedium=10,D.nudgeStepLarge=100,D.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};let _t=D;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(o,e){return this.cache.has(o)?this.cache.get(o):(this.cache.set(o,e),e)}};const R=globalThis.jotaiAtomCache.get("/home/yepyep/dac/dacademy2/src/atoms/frontMatterAtom.ts/frontMatterAtom",X("frontMatter",{}));R.debugLabel="frontMatterAtom";const ke=globalThis.jotaiAtomCache.get("/home/yepyep/dac/dacademy2/src/atoms/frontMatterAtom.ts/coverAtom",P(o=>{var e;return(e=o(R))==null?void 0:e.cover},(o,e,t)=>e(R,n=>({...n,cover:t}))));ke.debugLabel="coverAtom";const Re=globalThis.jotaiAtomCache.get("/home/yepyep/dac/dacademy2/src/atoms/frontMatterAtom.ts/titleAtom",P(o=>{var e;return(e=o(R))==null?void 0:e.title},(o,e,t)=>e(R,n=>({...n,title:t}))));Re.debugLabel="titleAtom";const Me=globalThis.jotaiAtomCache.get("/home/yepyep/dac/dacademy2/src/atoms/frontMatterAtom.ts/introAtom",P(o=>{var e;return(e=o(R))==null?void 0:e.introduction},(o,e,t)=>e(R,n=>({...n,introduction:t}))));Me.debugLabel="introAtom";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(o,e){return this.cache.has(o)?this.cache.get(o):(this.cache.set(o,e),e)}};const Et=(o,e,t)=>St(It({unit:"%",width:100},t,o,e),o,e),Ht=({image:o})=>{const[e,t]=w.useState(o),n=w.useRef(null),[a,i]=w.useState(),s={width:320,height:480},[d,l]=O(ke);function c(m){if(m.target.files&&m.target.files.length>0){l(null),i(void 0);const h=new FileReader;h.addEventListener("load",()=>{var x;return t(((x=h.result)==null?void 0:x.toString())||"")}),h.readAsDataURL(m.target.files[0])}}function p(m){if(s){const{width:h,height:x}=m.currentTarget;i(Et(h,x,s.width/s.height))}}async function u(){const m=n.current;if(!m||!a)throw new Error("Crop canvas does not exist.");const h=document.createElement("canvas");h.width=s.width,h.height=s.height;const x=h.getContext("2d");if(!x)throw new Error("No 2d context");a.unit==="px"&&(a.x=a.x/m.width*100,a.y=a.y/m.height*100,a.width=a.width/m.width*100,a.height=a.height/m.height*100),x.imageSmoothingQuality="high";const f={x:m.naturalWidth*(a.x/100),y:m.naturalHeight*(a.y/100)};x.drawImage(m,f.x,f.y,m.naturalWidth*(a.width/100),m.naturalHeight*(a.height/100),0,0,h.width,h.height);const v=h.toDataURL("image/jpeg");localStorage.setItem("cover",v),l(v)}return r.jsxs("div",{className:"",children:[r.jsx("div",{className:"Crop-Controls",children:r.jsxs("label",{className:"flex justify-center mt-4",children:[d&&r.jsx("img",{src:d,alt:"Crop Preview",className:"max-h-[50vh]"}),!o&&r.jsx("input",{type:"file",accept:"image/*",onChange:c,className:Qe(!!d&&"hidden","file-input file-input-bordered w-full max-w-xs")})]})}),!!e&&!d&&r.jsx(_t,{crop:a,onChange:m=>i(m),aspect:s.width/s.height,minHeight:100,className:"max-h-[50vh]",children:r.jsx("img",{ref:n,alt:"Crop me",src:e,onLoad:p})}),!!a&&!d&&r.jsx("div",{children:r.jsx(oe,{className:"rounded-md my-4",onClick:u,children:"Crop"})})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(o,e){return this.cache.has(o)?this.cache.get(o):(this.cache.set(o,e),e)}};const $t=()=>r.jsx(Ht,{});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(o,e){return this.cache.has(o)?this.cache.get(o):(this.cache.set(o,e),e)}};function Lt(){return r.jsxs(_,{className:"w-full",children:[r.jsx(E,{children:r.jsx(H,{className:"text-center text-xl",children:"Upload Cover"})}),r.jsx($,{className:"text-center",children:r.jsx($t,{})})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(o,e){return this.cache.has(o)?this.cache.get(o):(this.cache.set(o,e),e)}};const Ie=w.forwardRef(({className:o,...e},t)=>r.jsx("textarea",{className:W("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",o),ref:t,...e}));Ie.displayName="Textarea";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(o,e){return this.cache.has(o)?this.cache.get(o):(this.cache.set(o,e),e)}};function Ot(){const[o,e]=O(Me);return r.jsxs(_,{className:"w-full",children:[r.jsx(E,{children:r.jsx(H,{className:"text-center text-xl",children:"Book Introduction"})}),r.jsx($,{className:"text-center",children:r.jsx(Ie,{value:o??"",onChange:({target:{value:t}})=>e(t)})})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(o,e){return this.cache.has(o)?this.cache.get(o):(this.cache.set(o,e),e)}};const Ut=({index:o,header:e,contentHeader:t,onDelete:n,atom:a})=>{const i=g.useRef(null),[s,d]=O(a);return r.jsxs(_,{className:"w-full",children:[r.jsx(E,{children:r.jsx(H,{className:"text-center text-xl",children:"Book Chapters"})}),r.jsx($,{className:"text-center",children:r.jsxs("fieldset",{className:"relative border border-secondary p-4 w-full",children:[r.jsx("legend",{className:"text-left",children:e??`Chapter ${o}`}),!!n&&r.jsx("button",{className:"absolute top-8 right-8",onClick:()=>n(o),children:"🗑️"}),r.jsxs("div",{id:`chapter-${o}-title`,className:"mb-4 bg-secondary/25 scroll-m-24",children:[r.jsx("h2",{children:"Title"}),r.jsx("input",{onChange:({target:{value:l}})=>{d(c=>({...c,title:l}))},value:s.title??"",id:"title",placeholder:"Title",className:"input input-bordered text-black w-full max-w-xs my-2"})]}),r.jsx("div",{id:`chapter-${o}-content`,className:"mt-4 mb-4 bg-secondary/25 scroll-m-24",children:r.jsx("h2",{className:"mt-2",children:t??`Chapter ${o} Content`})}),r.jsx("div",{className:"flex justify-center",children:r.jsx(bt,{editorRef:i,markdown:s.content??"",className:"dark-theme dark-editor content",onChange:()=>{d(l=>{var c;return{...l,content:((c=i.current)==null?void 0:c.getMarkdown())??""}})}})})]})})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(o,e){return this.cache.has(o)?this.cache.get(o):(this.cache.set(o,e),e)}};function Bt(){return r.jsxs(_,{className:"w-full",children:[r.jsx(E,{children:r.jsx(H,{className:"text-center text-xl",children:"Owner Permissions"})}),r.jsx($,{className:"text-center",children:r.jsx("p",{children:"Owner Permissions"})})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(o,e){return this.cache.has(o)?this.cache.get(o):(this.cache.set(o,e),e)}};function Kt(){const[o,e]=O(Re);return r.jsxs(_,{className:"w-full",children:[r.jsx(E,{children:r.jsx(H,{className:"text-center text-xl",children:"Book Title"})}),r.jsx($,{className:"text-center",children:r.jsx("div",{className:"flex w-full max-w-sm items-center space-x-2 mx-auto",children:r.jsx(yt,{value:o??"",onChange:({target:{value:t}})=>e(t),placeholder:"Book Title"})})})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(o,e){return this.cache.has(o)?this.cache.get(o):(this.cache.set(o,e),e)}};function Yt(){return r.jsxs(_,{className:"w-full",children:[r.jsx(E,{children:r.jsx(H,{className:"text-center text-xl",children:"Upload Completion NFT"})}),r.jsx($,{className:"text-center"})]})}var re="Collapsible",[Xt,Se]=je(re),[zt,ne]=Xt(re),Te=w.forwardRef((o,e)=>{const{__scopeCollapsible:t,open:n,defaultOpen:a,disabled:i,onOpenChange:s,...d}=o,[l=!1,c]=ie({prop:n,defaultProp:a,onChange:s});return r.jsx(zt,{scope:t,disabled:i,contentId:Ae(),open:l,onOpenToggle:w.useCallback(()=>c(p=>!p),[c]),children:r.jsx(U.div,{"data-state":ce(l),"data-disabled":i?"":void 0,...d,ref:e})})});Te.displayName=re;var Pe="CollapsibleTrigger",_e=w.forwardRef((o,e)=>{const{__scopeCollapsible:t,...n}=o,a=ne(Pe,t);return r.jsx(U.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":ce(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:e,onClick:Ne(o.onClick,a.onOpenToggle)})});_e.displayName=Pe;var se="CollapsibleContent",Ee=w.forwardRef((o,e)=>{const{forceMount:t,...n}=o,a=ne(se,o.__scopeCollapsible);return r.jsx(Ze,{present:t||a.open,children:({present:i})=>r.jsx(Ft,{...n,ref:e,present:i})})});Ee.displayName=se;var Ft=w.forwardRef((o,e)=>{const{__scopeCollapsible:t,present:n,children:a,...i}=o,s=ne(se,t),[d,l]=w.useState(n),c=w.useRef(null),p=De(e,c),u=w.useRef(0),m=u.current,h=w.useRef(0),x=h.current,f=s.open||d,v=w.useRef(f),b=w.useRef();return w.useEffect(()=>{const C=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(C)},[]),et(()=>{const C=c.current;if(C){b.current=b.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const N=C.getBoundingClientRect();u.current=N.height,h.current=N.width,v.current||(C.style.transitionDuration=b.current.transitionDuration,C.style.animationName=b.current.animationName),l(n)}},[s.open,n]),r.jsx(U.div,{"data-state":ce(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!f,...i,ref:p,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...o.style},children:f&&a})});function ce(o){return o?"open":"closed"}var Vt=Te,qt=_e,Wt=Ee,A="Accordion",Gt=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[le,Jt,Qt]=tt(A),[G,To]=je(A,[Qt,Se]),he=Se(),He=g.forwardRef((o,e)=>{const{type:t,...n}=o,a=n,i=n;return r.jsx(le.Provider,{scope:o.__scopeAccordion,children:t==="multiple"?r.jsx(oo,{...i,ref:e}):r.jsx(to,{...a,ref:e})})});He.displayName=A;var[$e,Zt]=G(A),[Le,eo]=G(A,{collapsible:!1}),to=g.forwardRef((o,e)=>{const{value:t,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...s}=o,[d,l]=ie({prop:t,defaultProp:n,onChange:a});return r.jsx($e,{scope:o.__scopeAccordion,value:d?[d]:[],onItemOpen:l,onItemClose:g.useCallback(()=>i&&l(""),[i,l]),children:r.jsx(Le,{scope:o.__scopeAccordion,collapsible:i,children:r.jsx(Oe,{...s,ref:e})})})}),oo=g.forwardRef((o,e)=>{const{value:t,defaultValue:n,onValueChange:a=()=>{},...i}=o,[s=[],d]=ie({prop:t,defaultProp:n,onChange:a}),l=g.useCallback(p=>d((u=[])=>[...u,p]),[d]),c=g.useCallback(p=>d((u=[])=>u.filter(m=>m!==p)),[d]);return r.jsx($e,{scope:o.__scopeAccordion,value:s,onItemOpen:l,onItemClose:c,children:r.jsx(Le,{scope:o.__scopeAccordion,collapsible:!0,children:r.jsx(Oe,{...i,ref:e})})})}),[ao,J]=G(A),Oe=g.forwardRef((o,e)=>{const{__scopeAccordion:t,disabled:n,dir:a,orientation:i="vertical",...s}=o,d=g.useRef(null),l=De(d,e),c=Jt(t),u=ot(a)==="ltr",m=Ne(o.onKeyDown,h=>{var me;if(!Gt.includes(h.key))return;const x=h.target,f=c().filter(ee=>{var ue;return!((ue=ee.ref.current)!=null&&ue.disabled)}),v=f.findIndex(ee=>ee.ref.current===x),b=f.length;if(v===-1)return;h.preventDefault();let C=v;const N=0,M=b-1,Q=()=>{C=v+1,C>M&&(C=N)},Z=()=>{C=v-1,C<N&&(C=M)};switch(h.key){case"Home":C=N;break;case"End":C=M;break;case"ArrowRight":i==="horizontal"&&(u?Q():Z());break;case"ArrowDown":i==="vertical"&&Q();break;case"ArrowLeft":i==="horizontal"&&(u?Z():Q());break;case"ArrowUp":i==="vertical"&&Z();break}const Ge=C%b;(me=f[Ge].ref.current)==null||me.focus()});return r.jsx(ao,{scope:t,disabled:n,direction:a,orientation:i,children:r.jsx(le.Slot,{scope:t,children:r.jsx(U.div,{...s,"data-orientation":i,ref:l,onKeyDown:n?void 0:m})})})}),V="AccordionItem",[io,de]=G(V),Ue=g.forwardRef((o,e)=>{const{__scopeAccordion:t,value:n,...a}=o,i=J(V,t),s=Zt(V,t),d=he(t),l=Ae(),c=n&&s.value.includes(n)||!1,p=i.disabled||o.disabled;return r.jsx(io,{scope:t,open:c,disabled:p,triggerId:l,children:r.jsx(Vt,{"data-orientation":i.orientation,"data-state":Fe(c),...d,...a,ref:e,disabled:p,open:c,onOpenChange:u=>{u?s.onItemOpen(n):s.onItemClose(n)}})})});Ue.displayName=V;var Be="AccordionHeader",Ke=g.forwardRef((o,e)=>{const{__scopeAccordion:t,...n}=o,a=J(A,t),i=de(Be,t);return r.jsx(U.h3,{"data-orientation":a.orientation,"data-state":Fe(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:e})});Ke.displayName=Be;var ae="AccordionTrigger",Ye=g.forwardRef((o,e)=>{const{__scopeAccordion:t,...n}=o,a=J(A,t),i=de(ae,t),s=eo(ae,t),d=he(t);return r.jsx(le.ItemSlot,{scope:t,children:r.jsx(qt,{"aria-disabled":i.open&&!s.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...d,...n,ref:e})})});Ye.displayName=ae;var Xe="AccordionContent",ze=g.forwardRef((o,e)=>{const{__scopeAccordion:t,...n}=o,a=J(A,t),i=de(Xe,t),s=he(t);return r.jsx(Wt,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...s,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...o.style}})});ze.displayName=Xe;function Fe(o){return o?"open":"closed"}var ro=He,no=Ue,so=Ke,Ve=Ye,qe=ze;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(o,e){return this.cache.has(o)?this.cache.get(o):(this.cache.set(o,e),e)}};const co=ro,B=w.forwardRef(({className:o,...e},t)=>r.jsx(no,{ref:t,className:W("border-b",o),...e}));B.displayName="AccordionItem";const K=w.forwardRef(({className:o,children:e,...t},n)=>r.jsx(so,{className:"flex",children:r.jsxs(Ve,{ref:n,className:W("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",o),...t,children:[e,r.jsx(at,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));K.displayName=Ve.displayName;const Y=w.forwardRef(({className:o,children:e,...t},n)=>r.jsx(qe,{ref:n,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...t,children:r.jsx("div",{className:W("pb-4 pt-0",o),children:e})}));Y.displayName=qe.displayName;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(o,e){return this.cache.has(o)?this.cache.get(o):(this.cache.set(o,e),e)}};const q=globalThis.jotaiAtomCache.get("/home/yepyep/dac/dacademy2/src/atoms/chapterAtom.ts/chapterIdsAtom",X("chapterIds",[],void 0,{getOnInit:!0}));q.debugLabel="chapterIdsAtom";const pe=globalThis.jotaiAtomCache.get("/home/yepyep/dac/dacademy2/src/atoms/chapterAtom.ts/chaptersAtomsAtom",P(o=>o(q).map(e=>X(`chapter-${e}`,{},void 0,{getOnInit:!0})),(o,e,t)=>{const n=crypto.randomUUID(),a=X(`chapter-${n}`,t);a.debugLabel="chapterAtom",a.debugLabel="chapterAtom",e(a,t),e(q,i=>[...i,n])}));pe.debugLabel="chaptersAtomsAtom";const We=globalThis.jotaiAtomCache.get("/home/yepyep/dac/dacademy2/src/atoms/chapterAtom.ts/removeChapterAtom",P(null,(o,e,t)=>{e(q,n=>n.toSpliced(t,1))}));We.debugLabel="removeChapterAtom";const lo=globalThis.jotaiAtomCache.get("/home/yepyep/dac/dacademy2/src/atoms/chapterAtom.ts/chaptersAtom",P(o=>o(pe).map(e=>o(e))));lo.debugLabel="chaptersAtom";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(o,e){return this.cache.has(o)?this.cache.get(o):(this.cache.set(o,e),e)}};const ho=()=>{const[o,e]=w.useState(!1),[t,n]=w.useState("item-1"),[a,i]=O(pe),s=it(R),d=rt(We),l=async()=>{e(!0);try{if(!s.title)throw new Error("Missing title");if(!s.introduction)throw new Error("Missing introduction");if(!s.cover)throw new Error("missing cover");const p=I.loading("Uploading cover to IPFS."),u=await fetch(s.cover).then(M=>M.blob()).then(M=>ge([new File([M],"cover.jpg")]));I.dismiss(p);const m=`ipfs://${u}/cover.jpg`,h=`ipfs://${u.substring(0,3)}…${u.slice(-3)}/cover.jpg`;I.success(r.jsxs("p",{children:["Saved to ",r.jsx("a",{target:"_blank",href:xe(m),children:h}),"."]}),{duration:1e4});const x=I.loading("Uploading metadata to IPFS."),f={title:s.title,introduction:s.introduction,cover:m},v=`metadata.${new Date().toISOString()}.json`,b=await ge([new File([JSON.stringify(f,null,2)],v)]);I.dismiss(x);const C=`ipfs://${b}/${v}`,N=`ipfs://${b.substring(0,3)}…${b.slice(-3)}/${v}`;I.success(r.jsxs("p",{children:["Saved to ",r.jsx("a",{target:"_blank",href:xe(C),children:N}),"."]}),{duration:1e4}),console.log({metadataCID:b,metadataURL:C})}catch(p){I.error(p.message)}finally{e(!1)}};w.useEffect(()=>{window.scrollTo(0,0)},[]);const c=p=>{d(p-1)};return w.useEffect(()=>{var u;const p=(u=z.find(m=>m.value===t))==null?void 0:u.url;if(p){const m=document.querySelector(p);m&&setTimeout(()=>{m.scrollIntoView({behavior:"smooth",block:"start"})},300)}},[t,z]),r.jsxs(gt,{children:[r.jsx(Rt,{onAccordionChange:n}),r.jsx(xt,{}),r.jsx("main",{className:"flex-1 mt-12 w-screen mb-8",children:r.jsxs("div",{className:"space-y-4 mx-auto w-2/3",children:[r.jsxs(co,{type:"single",collapsible:!0,className:"w-full",value:t,onValueChange:n,children:[r.jsxs(B,{value:"item-1",children:[r.jsx(K,{children:"Upload Cover"}),r.jsx(Y,{children:r.jsx("div",{id:"upload-cover",className:"pt-8 scroll-mt-12",children:r.jsx(Lt,{})})})]}),r.jsxs(B,{value:"item-2",children:[r.jsx(K,{children:"Upload Title"}),r.jsx(Y,{children:r.jsx("div",{id:"book-title",className:"pt-8 scroll-mt-12",children:r.jsx(Kt,{})})})]}),r.jsxs(B,{value:"item-3",children:[r.jsx(K,{children:"Upload Intro"}),r.jsx(Y,{children:r.jsx("div",{id:"book-intro",className:"pt-8 scroll-mt-12",children:r.jsx(Ot,{})})})]})]}),r.jsx(oe,{disabled:o,onClick:l,className:"block mx-auto",type:"button",children:o?"Submitting":"Submit"}),r.jsxs("div",{id:"chapters",className:"pt-8 scroll-mt-12",children:[a.map((p,u)=>r.jsx(Ut,{atom:p,onDelete:c,index:u+1},u)),r.jsx("div",{className:"flex justify-center mt-4",children:r.jsx(oe,{onClick:()=>i({}),className:"items-center rounded-md",children:"Add Chapter"})})]}),r.jsx("div",{id:"completion",className:"pt-8 scroll-mt-12",children:r.jsx(Yt,{})}),r.jsx("div",{id:"permissions",className:"pt-8 scroll-mt-12",children:r.jsx(Bt,{})})]})})]})},Po=nt("/upload/")({component:ho});export{Po as Route,ho as Upload};

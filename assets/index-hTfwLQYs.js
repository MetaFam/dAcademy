import{u as ne}from"./useQuery-C6SRKt8v.js";import{r as _,h as te,n as dt,j as V,P as ee,l as kn,m as xt,J as re,ba as ie,bb as ue,k as ae,i as le,g as oe}from"./index-HiPsjHpj.js";import{a as se}from"./useAccount-BVoleJlg.js";import{c as kt,A as ce,C as he,a as pe,R as fe}from"./index-BXoqLDm7.js";import{P as me}from"./index-Bo12_iYY.js";function Zn(n){return n.state.chainId}function ge(n,e){const{onChange:t}=e;return n.subscribe(r=>r.chainId,t)}function de(n){return JSON.stringify(n,(e,t)=>xe(t)?Object.keys(t).sort().reduce((r,u)=>(r[u]=t[u],r),{}):typeof t=="bigint"?t.toString():t)}function xe(n){if(!nt(n))return!1;const e=n.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!nt(t)||!t.hasOwnProperty("isPrototypeOf"))}function nt(n){return Object.prototype.toString.call(n)==="[object Object]"}function lu(n){const{_defaulted:e,behavior:t,gcTime:r,initialData:u,initialDataUpdatedAt:i,maxPages:a,meta:l,networkMode:p,queryFn:h,queryHash:f,queryKey:m,queryKeyHashFn:g,retry:o,retryDelay:S,structuralSharing:I,getPreviousPageParam:z,getNextPageParam:k,initialPageParam:A,_optimisticResults:b,enabled:B,notifyOnChangeProps:D,placeholderData:x,refetchInterval:L,refetchIntervalInBackground:q,refetchOnMount:M,refetchOnReconnect:N,refetchOnWindowFocus:w,retryOnMount:C,select:j,staleTime:v,suspense:P,throwOnError:$,config:Q,connector:J,query:rn,...s}=n;return s}function ou(n){const e=ne({...n,queryKeyHashFn:de});return e.queryKey=n.queryKey,e}function su(n={}){const e=se(n);return _.useSyncExternalStore(t=>ge(e,{onChange:t}),()=>Zn(e),()=>Zn(e))}var[Fn,cu]=te("Tooltip",[kt]),Pn=kt(),yt="TooltipProvider",ke=700,On="tooltip.open",[ye,Vn]=Fn(yt),bt=n=>{const{__scopeTooltip:e,delayDuration:t=ke,skipDelayDuration:r=300,disableHoverableContent:u=!1,children:i}=n,[a,l]=_.useState(!0),p=_.useRef(!1),h=_.useRef(0);return _.useEffect(()=>{const f=h.current;return()=>window.clearTimeout(f)},[]),V.jsx(ye,{scope:e,isOpenDelayed:a,delayDuration:t,onOpen:_.useCallback(()=>{window.clearTimeout(h.current),l(!1)},[]),onClose:_.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:p,onPointerInTransitChange:_.useCallback(f=>{p.current=f},[]),disableHoverableContent:u,children:i})};bt.displayName=yt;var Ln="Tooltip",[be,zn]=Fn(Ln),St=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:u=!1,onOpenChange:i,disableHoverableContent:a,delayDuration:l}=n,p=Vn(Ln,n.__scopeTooltip),h=Pn(e),[f,m]=_.useState(null),g=ae(),o=_.useRef(0),S=a??p.disableHoverableContent,I=l??p.delayDuration,z=_.useRef(!1),[k=!1,A]=le({prop:r,defaultProp:u,onChange:L=>{L?(p.onOpen(),document.dispatchEvent(new CustomEvent(On))):p.onClose(),i==null||i(L)}}),b=_.useMemo(()=>k?z.current?"delayed-open":"instant-open":"closed",[k]),B=_.useCallback(()=>{window.clearTimeout(o.current),o.current=0,z.current=!1,A(!0)},[A]),D=_.useCallback(()=>{window.clearTimeout(o.current),o.current=0,A(!1)},[A]),x=_.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(()=>{z.current=!0,A(!0),o.current=0},I)},[I,A]);return _.useEffect(()=>()=>{o.current&&(window.clearTimeout(o.current),o.current=0)},[]),V.jsx(fe,{...h,children:V.jsx(be,{scope:e,contentId:g,open:k,stateAttribute:b,trigger:f,onTriggerChange:m,onTriggerEnter:_.useCallback(()=>{p.isOpenDelayed?x():B()},[p.isOpenDelayed,x,B]),onTriggerLeave:_.useCallback(()=>{S?D():(window.clearTimeout(o.current),o.current=0)},[D,S]),onOpen:B,onClose:D,disableHoverableContent:S,children:t})})};St.displayName=Ln;var Nn="TooltipTrigger",Ct=_.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,u=zn(Nn,t),i=Vn(Nn,t),a=Pn(t),l=_.useRef(null),p=dt(e,l,u.onTriggerChange),h=_.useRef(!1),f=_.useRef(!1),m=_.useCallback(()=>h.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),V.jsx(ce,{asChild:!0,...a,children:V.jsx(ee.button,{"aria-describedby":u.open?u.contentId:void 0,"data-state":u.stateAttribute,...r,ref:p,onPointerMove:kn(n.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(u.onTriggerEnter(),f.current=!0)}),onPointerLeave:kn(n.onPointerLeave,()=>{u.onTriggerLeave(),f.current=!1}),onPointerDown:kn(n.onPointerDown,()=>{h.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:kn(n.onFocus,()=>{h.current||u.onOpen()}),onBlur:kn(n.onBlur,u.onClose),onClick:kn(n.onClick,u.onClose)})})});Ct.displayName=Nn;var Qn="TooltipPortal",[Se,Ce]=Fn(Qn,{forceMount:void 0}),wt=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:u}=n,i=zn(Qn,e);return V.jsx(Se,{scope:e,forceMount:t,children:V.jsx(xt,{present:t||i.open,children:V.jsx(me,{asChild:!0,container:u,children:r})})})};wt.displayName=Qn;var bn="TooltipContent",It=_.forwardRef((n,e)=>{const t=Ce(bn,n.__scopeTooltip),{forceMount:r=t.forceMount,side:u="top",...i}=n,a=zn(bn,n.__scopeTooltip);return V.jsx(xt,{present:r||a.open,children:a.disableHoverableContent?V.jsx(Tt,{side:u,...i,ref:e}):V.jsx(we,{side:u,...i,ref:e})})}),we=_.forwardRef((n,e)=>{const t=zn(bn,n.__scopeTooltip),r=Vn(bn,n.__scopeTooltip),u=_.useRef(null),i=dt(e,u),[a,l]=_.useState(null),{trigger:p,onClose:h}=t,f=u.current,{onPointerInTransitChange:m}=r,g=_.useCallback(()=>{l(null),m(!1)},[m]),o=_.useCallback((S,I)=>{const z=S.currentTarget,k={x:S.clientX,y:S.clientY},A=Ee(k,z.getBoundingClientRect()),b=ze(k,A),B=_e(I.getBoundingClientRect()),D=Fe([...b,...B]);l(D),m(!0)},[m]);return _.useEffect(()=>()=>g(),[g]),_.useEffect(()=>{if(p&&f){const S=z=>o(z,f),I=z=>o(z,p);return p.addEventListener("pointerleave",S),f.addEventListener("pointerleave",I),()=>{p.removeEventListener("pointerleave",S),f.removeEventListener("pointerleave",I)}}},[p,f,o,g]),_.useEffect(()=>{if(a){const S=I=>{const z=I.target,k={x:I.clientX,y:I.clientY},A=(p==null?void 0:p.contains(z))||(f==null?void 0:f.contains(z)),b=!Ae(k,a);A?g():b&&(g(),h())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[p,f,a,h,g]),V.jsx(Tt,{...n,ref:i})}),[Ie,Te]=Fn(Ln,{isInside:!1}),Tt=_.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":u,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=n,p=zn(bn,t),h=Pn(t),{onClose:f}=p;return _.useEffect(()=>(document.addEventListener(On,f),()=>document.removeEventListener(On,f)),[f]),_.useEffect(()=>{if(p.trigger){const m=g=>{const o=g.target;o!=null&&o.contains(p.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[p.trigger,f]),V.jsx(re,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:V.jsxs(he,{"data-state":p.stateAttribute,...h,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[V.jsx(ie,{children:r}),V.jsx(Ie,{scope:t,isInside:!0,children:V.jsx(ue,{id:p.contentId,role:"tooltip",children:u||r})})]})})});It.displayName=bn;var Et="TooltipArrow",zt=_.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,u=Pn(t);return Te(Et,t).isInside?null:V.jsx(pe,{...u,...r,ref:e})});zt.displayName=Et;function Ee(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),u=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,r,u,i)){case i:return"left";case u:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ze(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function _e(n){const{top:e,right:t,bottom:r,left:u}=n;return[{x:u,y:e},{x:t,y:e},{x:t,y:r},{x:u,y:r}]}function Ae(n,e){const{x:t,y:r}=n;let u=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i].x,p=e[i].y,h=e[a].x,f=e[a].y;p>r!=f>r&&t<(h-l)*(r-p)/(f-p)+l&&(u=!u)}return u}function Fe(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),Pe(e)}function Pe(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const u=n[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(u.y-a.y)>=(i.y-a.y)*(u.x-a.x))e.pop();else break}e.push(u)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const u=n[r];for(;t.length>=2;){const i=t[t.length-1],a=t[t.length-2];if((i.x-a.x)*(u.y-a.y)>=(i.y-a.y)*(u.x-a.x))t.pop();else break}t.push(u)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var Le=bt,Be=St,Re=Ct,De=wt,_t=It,Me=zt;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(n,e){return this.cache.has(n)?this.cache.get(n):(this.cache.set(n,e),e)}};const hu=Le,pu=Be,fu=Re,mu=Me,Oe=_.forwardRef(({className:n,sideOffset:e=4,...t},r)=>V.jsx(De,{children:V.jsx(_t,{ref:r,sideOffset:e,className:oe("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));Oe.displayName=_t.displayName;function an(n,e,t,r){const u=n.length;let i=0,a;if(e<0?e=-e>u?0:u+e:e=e>u?u:e,t=t>0?t:0,r.length<1e4)a=Array.from(r),a.unshift(e,t),n.splice(...a);else for(t&&n.splice(e,t);i<r.length;)a=r.slice(i,i+1e4),a.unshift(e,0),n.splice(...a),i+=1e4,e+=1e4}function X(n,e){return n.length>0?(an(n,n.length,0,e),n):e}const un=pn(/[A-Za-z]/),en=pn(/[\dA-Za-z]/),Ne=pn(/[#-'*+\--9=?A-Z^-~]/);function Hn(n){return n!==null&&(n<32||n===127)}const jn=pn(/\d/),He=pn(/[\dA-Fa-f]/),je=pn(/[!-/:-@[-`{-~]/);function T(n){return n!==null&&n<-2}function Y(n){return n!==null&&(n<0||n===32)}function R(n){return n===-2||n===-1||n===32}const qe=pn(new RegExp("\\p{P}|\\p{S}","u")),ve=pn(/\s/);function pn(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function tt(n){if(n===null||Y(n)||ve(n))return 1;if(qe(n))return 2}function $n(n,e,t){const r=[];let u=-1;for(;++u<n.length;){const i=n[u].resolveAll;i&&!r.includes(i)&&(e=i(e,t),r.push(i))}return e}function gu(){}function du(){}const et=document.createElement("i");function Un(n){const e="&"+n+";";et.innerHTML=e;const t=et.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function Tn(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?rt(n.position):"start"in n||"end"in n?rt(n):"line"in n||"column"in n?qn(n):""}function qn(n){return it(n&&n.line)+":"+it(n&&n.column)}function rt(n){return qn(n&&n.start)+"-"+qn(n&&n.end)}function it(n){return n&&typeof n=="number"?n:1}class K extends Error{constructor(e,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let u="",i={},a=!1;if(t&&("line"in t&&"column"in t?i={place:t}:"start"in t&&"end"in t?i={place:t}:"type"in t?i={ancestors:[t],place:t.position}:i={...t}),typeof e=="string"?u=e:!i.cause&&e&&(a=!0,u=e.message,i.cause=e),!i.ruleId&&!i.source&&typeof r=="string"){const p=r.indexOf(":");p===-1?i.ruleId=r:(i.source=r.slice(0,p),i.ruleId=r.slice(p+1))}if(!i.place&&i.ancestors&&i.ancestors){const p=i.ancestors[i.ancestors.length-1];p&&(i.place=p.position)}const l=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=u,this.line=l?l.line:void 0,this.name=Tn(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}K.prototype.file="";K.prototype.name="";K.prototype.reason="";K.prototype.message="";K.prototype.stack="";K.prototype.column=void 0;K.prototype.line=void 0;K.prototype.ancestors=void 0;K.prototype.cause=void 0;K.prototype.fatal=void 0;K.prototype.place=void 0;K.prototype.ruleId=void 0;K.prototype.source=void 0;const Ve=/[$_\p{ID_Start}]/u,Qe=/[$_\u{200C}\u{200D}\p{ID_Continue}]/u,$e=/[-$_\u{200C}\u{200D}\p{ID_Continue}]/u,Ue=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,We=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,At={};function xu(n){return n?Ve.test(String.fromCodePoint(n)):!1}function ku(n,e){const r=(e||At).jsx?$e:Qe;return n?r.test(String.fromCodePoint(n)):!1}function yu(n,e){return(At.jsx?We:Ue).test(n)}function H(n,e,t,r){const u=r?r-1:Number.POSITIVE_INFINITY;let i=0;return a;function a(p){return R(p)?(n.enter(t),l(p)):e(p)}function l(p){return R(p)&&i++<u?(n.consume(p),l):(n.exit(t),e(p))}}const Ft=function(n){if(n==null)return Je;if(typeof n=="function")return Bn(n);if(typeof n=="object")return Array.isArray(n)?Ye(n):Ge(n);if(typeof n=="string")return Ke(n);throw new Error("Expected function, string, or object as test")};function Ye(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=Ft(n[t]);return Bn(r);function r(...u){let i=-1;for(;++i<e.length;)if(e[i].apply(this,u))return!0;return!1}}function Ge(n){const e=n;return Bn(t);function t(r){const u=r;let i;for(i in n)if(u[i]!==e[i])return!1;return!0}}function Ke(n){return Bn(e);function e(t){return t&&t.type===n}}function Bn(n){return e;function e(t,r,u){return!!(Xe(t)&&n.call(this,t,typeof r=="number"?r:void 0,u||void 0))}}function Je(){return!0}function Xe(n){return n!==null&&typeof n=="object"&&"type"in n}const Pt=[],Ze=!0,ut=!1,nr="skip";function tr(n,e,t,r){let u;typeof e=="function"&&typeof t!="function"?(r=t,t=e):u=e;const i=Ft(u),a=r?-1:1;l(n,void 0,[])();function l(p,h,f){const m=p&&typeof p=="object"?p:{};if(typeof m.type=="string"){const o=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(p.type+(o?"<"+o+">":""))+")"})}return g;function g(){let o=Pt,S,I,z;if((!e||i(p,h,f[f.length-1]||void 0))&&(o=er(t(p,f)),o[0]===ut))return o;if("children"in p&&p.children){const k=p;if(k.children&&o[0]!==nr)for(I=(r?k.children.length:-1)+a,z=f.concat(k);I>-1&&I<k.children.length;){const A=k.children[I];if(S=l(A,I,z)(),S[0]===ut)return S;I=typeof S[1]=="number"?S[1]:I+a}}return o}}}function er(n){return Array.isArray(n)?n:typeof n=="number"?[Ze,n]:n==null?Pt:[n]}function bu(n,e,t,r){let u,i,a;typeof e=="function"&&typeof t!="function"?(i=void 0,a=e,u=t):(i=e,a=t,u=r),tr(n,i,l,u);function l(p,h){const f=h[h.length-1],m=f?f.children.indexOf(p):void 0;return a(p,m,f)}}const rr={};function ir(n,e){const t=rr,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,u=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return Lt(n,r,u)}function Lt(n,e,t){if(ur(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return at(n.children,e,t)}return Array.isArray(n)?at(n,e,t):""}function at(n,e,t){const r=[];let u=-1;for(;++u<n.length;)r[u]=Lt(n[u],e,t);return r.join("")}function ur(n){return!!(n&&typeof n=="object")}function Bt(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"�":String.fromCodePoint(t)}const ar=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function lr(n){return n.replace(ar,or)}function or(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const u=t.charCodeAt(1),i=u===120||u===88;return Bt(t.slice(i?2:1),i?16:10)}return Un(t)||n}const lt={}.hasOwnProperty;function sr(n){const e={};let t=-1;for(;++t<n.length;)cr(e,n[t]);return e}function cr(n,e){let t;for(t in e){const u=(lt.call(n,t)?n[t]:void 0)||(n[t]={}),i=e[t];let a;if(i)for(a in i){lt.call(u,a)||(u[a]=[]);const l=i[a];hr(u[a],Array.isArray(l)?l:l?[l]:[])}}}function hr(n,e){let t=-1;const r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);an(n,0,0,r)}function yn(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const pr={tokenize:fr};function fr(n){const e=n.attempt(this.parser.constructs.contentInitial,r,u);let t;return e;function r(l){if(l===null){n.consume(l);return}return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),H(n,e,"linePrefix")}function u(l){return n.enter("paragraph"),i(l)}function i(l){const p=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=p),t=p,a(l)}function a(l){if(l===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(l);return}return T(l)?(n.consume(l),n.exit("chunkText"),i):(n.consume(l),a)}}const mr={tokenize:gr},ot={tokenize:dr};function gr(n){const e=this,t=[];let r=0,u,i,a;return l;function l(b){if(r<t.length){const B=t[r];return e.containerState=B[1],n.attempt(B[0].continuation,p,h)(b)}return h(b)}function p(b){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,u&&A();const B=e.events.length;let D=B,x;for(;D--;)if(e.events[D][0]==="exit"&&e.events[D][1].type==="chunkFlow"){x=e.events[D][1].end;break}k(r);let L=B;for(;L<e.events.length;)e.events[L][1].end={...x},L++;return an(e.events,D+1,0,e.events.slice(B)),e.events.length=L,h(b)}return l(b)}function h(b){if(r===t.length){if(!u)return g(b);if(u.currentConstruct&&u.currentConstruct.concrete)return S(b);e.interrupt=!!(u.currentConstruct&&!u._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(ot,f,m)(b)}function f(b){return u&&A(),k(r),g(b)}function m(b){return e.parser.lazy[e.now().line]=r!==t.length,a=e.now().offset,S(b)}function g(b){return e.containerState={},n.attempt(ot,o,S)(b)}function o(b){return r++,t.push([e.currentConstruct,e.containerState]),g(b)}function S(b){if(b===null){u&&A(),k(0),n.consume(b);return}return u=u||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:u,contentType:"flow",previous:i}),I(b)}function I(b){if(b===null){z(n.exit("chunkFlow"),!0),k(0),n.consume(b);return}return T(b)?(n.consume(b),z(n.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(n.consume(b),I)}function z(b,B){const D=e.sliceStream(b);if(B&&D.push(null),b.previous=i,i&&(i.next=b),i=b,u.defineSkip(b.start),u.write(D),e.parser.lazy[b.start.line]){let x=u.events.length;for(;x--;)if(u.events[x][1].start.offset<a&&(!u.events[x][1].end||u.events[x][1].end.offset>a))return;const L=e.events.length;let q=L,M,N;for(;q--;)if(e.events[q][0]==="exit"&&e.events[q][1].type==="chunkFlow"){if(M){N=e.events[q][1].end;break}M=!0}for(k(r),x=L;x<e.events.length;)e.events[x][1].end={...N},x++;an(e.events,q+1,0,e.events.slice(L)),e.events.length=x}}function k(b){let B=t.length;for(;B-- >b;){const D=t[B];e.containerState=D[1],D[0].exit.call(e,n)}t.length=b}function A(){u.write([null]),i=void 0,u=void 0,e.containerState._closeFlow=void 0}}function dr(n,e,t){return H(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const vn={name:"attention",resolveAll:xr,tokenize:kr};function xr(n,e){let t=-1,r,u,i,a,l,p,h,f;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;p=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const m={...n[r][1].end},g={...n[t][1].start};st(m,-p),st(g,p),a={type:p>1?"strongSequence":"emphasisSequence",start:m,end:{...n[r][1].end}},l={type:p>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:g},i={type:p>1?"strongText":"emphasisText",start:{...n[r][1].end},end:{...n[t][1].start}},u={type:p>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},n[r][1].end={...a.start},n[t][1].start={...l.end},h=[],n[r][1].end.offset-n[r][1].start.offset&&(h=X(h,[["enter",n[r][1],e],["exit",n[r][1],e]])),h=X(h,[["enter",u,e],["enter",a,e],["exit",a,e],["enter",i,e]]),h=X(h,$n(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),h=X(h,[["exit",i,e],["enter",l,e],["exit",l,e],["exit",u,e]]),n[t][1].end.offset-n[t][1].start.offset?(f=2,h=X(h,[["enter",n[t][1],e],["exit",n[t][1],e]])):f=0,an(n,r-1,t-r+3,h),t=r+h.length-f-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function kr(n,e){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,u=tt(r);let i;return a;function a(p){return i=p,n.enter("attentionSequence"),l(p)}function l(p){if(p===i)return n.consume(p),l;const h=n.exit("attentionSequence"),f=tt(p),m=!f||f===2&&u||t.includes(p),g=!u||u===2&&f||t.includes(r);return h._open=!!(i===42?m:m&&(u||!g)),h._close=!!(i===42?g:g&&(f||!m)),e(p)}}function st(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const yr={name:"autolink",tokenize:br};function br(n,e,t){let r=0;return u;function u(o){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(o),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),i}function i(o){return un(o)?(n.consume(o),a):o===64?t(o):h(o)}function a(o){return o===43||o===45||o===46||en(o)?(r=1,l(o)):h(o)}function l(o){return o===58?(n.consume(o),r=0,p):(o===43||o===45||o===46||en(o))&&r++<32?(n.consume(o),l):(r=0,h(o))}function p(o){return o===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(o),n.exit("autolinkMarker"),n.exit("autolink"),e):o===null||o===32||o===60||Hn(o)?t(o):(n.consume(o),p)}function h(o){return o===64?(n.consume(o),f):Ne(o)?(n.consume(o),h):t(o)}function f(o){return en(o)?m(o):t(o)}function m(o){return o===46?(n.consume(o),r=0,f):o===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(o),n.exit("autolinkMarker"),n.exit("autolink"),e):g(o)}function g(o){if((o===45||en(o))&&r++<63){const S=o===45?g:m;return n.consume(o),S}return t(o)}}const Rn={partial:!0,tokenize:Sr};function Sr(n,e,t){return r;function r(i){return R(i)?H(n,u,"linePrefix")(i):u(i)}function u(i){return i===null||T(i)?e(i):t(i)}}const Rt={continuation:{tokenize:wr},exit:Ir,name:"blockQuote",tokenize:Cr};function Cr(n,e,t){const r=this;return u;function u(a){if(a===62){const l=r.containerState;return l.open||(n.enter("blockQuote",{_container:!0}),l.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(a),n.exit("blockQuoteMarker"),i}return t(a)}function i(a){return R(a)?(n.enter("blockQuotePrefixWhitespace"),n.consume(a),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(a))}}function wr(n,e,t){const r=this;return u;function u(a){return R(a)?H(n,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):i(a)}function i(a){return n.attempt(Rt,e,t)(a)}}function Ir(n){n.exit("blockQuote")}const Dt={name:"characterEscape",tokenize:Tr};function Tr(n,e,t){return r;function r(i){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(i),n.exit("escapeMarker"),u}function u(i){return je(i)?(n.enter("characterEscapeValue"),n.consume(i),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(i)}}const Mt={name:"characterReference",tokenize:Er};function Er(n,e,t){const r=this;let u=0,i,a;return l;function l(m){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(m),n.exit("characterReferenceMarker"),p}function p(m){return m===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(m),n.exit("characterReferenceMarkerNumeric"),h):(n.enter("characterReferenceValue"),i=31,a=en,f(m))}function h(m){return m===88||m===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(m),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),i=6,a=He,f):(n.enter("characterReferenceValue"),i=7,a=jn,f(m))}function f(m){if(m===59&&u){const g=n.exit("characterReferenceValue");return a===en&&!Un(r.sliceSerialize(g))?t(m):(n.enter("characterReferenceMarker"),n.consume(m),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return a(m)&&u++<i?(n.consume(m),f):t(m)}}const ct={partial:!0,tokenize:_r},ht={concrete:!0,name:"codeFenced",tokenize:zr};function zr(n,e,t){const r=this,u={partial:!0,tokenize:D};let i=0,a=0,l;return p;function p(x){return h(x)}function h(x){const L=r.events[r.events.length-1];return i=L&&L[1].type==="linePrefix"?L[2].sliceSerialize(L[1],!0).length:0,l=x,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),f(x)}function f(x){return x===l?(a++,n.consume(x),f):a<3?t(x):(n.exit("codeFencedFenceSequence"),R(x)?H(n,m,"whitespace")(x):m(x))}function m(x){return x===null||T(x)?(n.exit("codeFencedFence"),r.interrupt?e(x):n.check(ct,I,B)(x)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===null||T(x)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),m(x)):R(x)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),H(n,o,"whitespace")(x)):x===96&&x===l?t(x):(n.consume(x),g)}function o(x){return x===null||T(x)?m(x):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),S(x))}function S(x){return x===null||T(x)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),m(x)):x===96&&x===l?t(x):(n.consume(x),S)}function I(x){return n.attempt(u,B,z)(x)}function z(x){return n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),k}function k(x){return i>0&&R(x)?H(n,A,"linePrefix",i+1)(x):A(x)}function A(x){return x===null||T(x)?n.check(ct,I,B)(x):(n.enter("codeFlowValue"),b(x))}function b(x){return x===null||T(x)?(n.exit("codeFlowValue"),A(x)):(n.consume(x),b)}function B(x){return n.exit("codeFenced"),e(x)}function D(x,L,q){let M=0;return N;function N(P){return x.enter("lineEnding"),x.consume(P),x.exit("lineEnding"),w}function w(P){return x.enter("codeFencedFence"),R(P)?H(x,C,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):C(P)}function C(P){return P===l?(x.enter("codeFencedFenceSequence"),j(P)):q(P)}function j(P){return P===l?(M++,x.consume(P),j):M>=a?(x.exit("codeFencedFenceSequence"),R(P)?H(x,v,"whitespace")(P):v(P)):q(P)}function v(P){return P===null||T(P)?(x.exit("codeFencedFence"),L(P)):q(P)}}}function _r(n,e,t){const r=this;return u;function u(a){return a===null?t(a):(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),i)}function i(a){return r.parser.lazy[r.now().line]?t(a):e(a)}}const Dn={name:"codeIndented",tokenize:Fr},Ar={partial:!0,tokenize:Pr};function Fr(n,e,t){const r=this;return u;function u(h){return n.enter("codeIndented"),H(n,i,"linePrefix",5)(h)}function i(h){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?a(h):t(h)}function a(h){return h===null?p(h):T(h)?n.attempt(Ar,a,p)(h):(n.enter("codeFlowValue"),l(h))}function l(h){return h===null||T(h)?(n.exit("codeFlowValue"),a(h)):(n.consume(h),l)}function p(h){return n.exit("codeIndented"),e(h)}}function Pr(n,e,t){const r=this;return u;function u(a){return r.parser.lazy[r.now().line]?t(a):T(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),u):H(n,i,"linePrefix",5)(a)}function i(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):T(a)?u(a):t(a)}}const Lr={name:"codeText",previous:Rr,resolve:Br,tokenize:Dr};function Br(n){let e=n.length-4,t=3,r,u;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)u===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(u=r):(r===e||n[r][1].type==="lineEnding")&&(n[u][1].type="codeTextData",r!==u+2&&(n[u][1].end=n[r-1][1].end,n.splice(u+2,r-u-2),e-=r-u-2,r=u+2),u=void 0);return n}function Rr(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Dr(n,e,t){let r=0,u,i;return a;function a(m){return n.enter("codeText"),n.enter("codeTextSequence"),l(m)}function l(m){return m===96?(n.consume(m),r++,l):(n.exit("codeTextSequence"),p(m))}function p(m){return m===null?t(m):m===32?(n.enter("space"),n.consume(m),n.exit("space"),p):m===96?(i=n.enter("codeTextSequence"),u=0,f(m)):T(m)?(n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),p):(n.enter("codeTextData"),h(m))}function h(m){return m===null||m===32||m===96||T(m)?(n.exit("codeTextData"),p(m)):(n.consume(m),h)}function f(m){return m===96?(n.consume(m),u++,f):u===r?(n.exit("codeTextSequence"),n.exit("codeText"),e(m)):(i.type="codeTextData",h(m))}}class Mr{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const r=t??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,t,r){const u=t||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-u,Number.POSITIVE_INFINITY);return r&&In(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),In(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),In(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);In(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);In(this.left,t.reverse())}}}function In(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function Ot(n){const e={};let t=-1,r,u,i,a,l,p,h;const f=new Mr(n);for(;++t<f.length;){for(;t in e;)t=e[t];if(r=f.get(t),t&&r[1].type==="chunkFlow"&&f.get(t-1)[1].type==="listItemPrefix"&&(p=r[1]._tokenizer.events,i=0,i<p.length&&p[i][1].type==="lineEndingBlank"&&(i+=2),i<p.length&&p[i][1].type==="content"))for(;++i<p.length&&p[i][1].type!=="content";)p[i][1].type==="chunkText"&&(p[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Or(f,t)),t=e[t],h=!0);else if(r[1]._container){for(i=t,u=void 0;i--&&(a=f.get(i),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(u&&(f.get(u)[1].type="lineEndingBlank"),a[1].type="lineEnding",u=i);u&&(r[1].end={...f.get(u)[1].start},l=f.slice(u,t),l.unshift(r),f.splice(u,t-u+1,l))}}return an(n,0,Number.POSITIVE_INFINITY,f.slice(0)),!h}function Or(n,e){const t=n.get(e)[1],r=n.get(e)[2];let u=e-1;const i=[],a=t._tokenizer||r.parser[t.contentType](t.start),l=a.events,p=[],h={};let f,m,g=-1,o=t,S=0,I=0;const z=[I];for(;o;){for(;n.get(++u)[1]!==o;);i.push(u),o._tokenizer||(f=r.sliceStream(o),o.next||f.push(null),m&&a.defineSkip(o.start),o._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(f),o._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),m=o,o=o.next}for(o=t;++g<l.length;)l[g][0]==="exit"&&l[g-1][0]==="enter"&&l[g][1].type===l[g-1][1].type&&l[g][1].start.line!==l[g][1].end.line&&(I=g+1,z.push(I),o._tokenizer=void 0,o.previous=void 0,o=o.next);for(a.events=[],o?(o._tokenizer=void 0,o.previous=void 0):z.pop(),g=z.length;g--;){const k=l.slice(z[g],z[g+1]),A=i.pop();p.push([A,A+k.length-1]),n.splice(A,2,k)}for(p.reverse(),g=-1;++g<p.length;)h[S+p[g][0]]=S+p[g][1],S+=p[g][1]-p[g][0]-1;return h}const Nr={resolve:jr,tokenize:qr},Hr={partial:!0,tokenize:vr};function jr(n){return Ot(n),n}function qr(n,e){let t;return r;function r(l){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),u(l)}function u(l){return l===null?i(l):T(l)?n.check(Hr,a,i)(l):(n.consume(l),u)}function i(l){return n.exit("chunkContent"),n.exit("content"),e(l)}function a(l){return n.consume(l),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,u}}function vr(n,e,t){const r=this;return u;function u(a){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),H(n,i,"linePrefix")}function i(a){if(a===null||T(a))return t(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):n.interrupt(r.parser.constructs.flow,t,e)(a)}}function Nt(n,e,t,r,u,i,a,l,p){const h=p||Number.POSITIVE_INFINITY;let f=0;return m;function m(k){return k===60?(n.enter(r),n.enter(u),n.enter(i),n.consume(k),n.exit(i),g):k===null||k===32||k===41||Hn(k)?t(k):(n.enter(r),n.enter(a),n.enter(l),n.enter("chunkString",{contentType:"string"}),I(k))}function g(k){return k===62?(n.enter(i),n.consume(k),n.exit(i),n.exit(u),n.exit(r),e):(n.enter(l),n.enter("chunkString",{contentType:"string"}),o(k))}function o(k){return k===62?(n.exit("chunkString"),n.exit(l),g(k)):k===null||k===60||T(k)?t(k):(n.consume(k),k===92?S:o)}function S(k){return k===60||k===62||k===92?(n.consume(k),o):o(k)}function I(k){return!f&&(k===null||k===41||Y(k))?(n.exit("chunkString"),n.exit(l),n.exit(a),n.exit(r),e(k)):f<h&&k===40?(n.consume(k),f++,I):k===41?(n.consume(k),f--,I):k===null||k===32||k===40||Hn(k)?t(k):(n.consume(k),k===92?z:I)}function z(k){return k===40||k===41||k===92?(n.consume(k),I):I(k)}}function Ht(n,e,t,r,u,i){const a=this;let l=0,p;return h;function h(o){return n.enter(r),n.enter(u),n.consume(o),n.exit(u),n.enter(i),f}function f(o){return l>999||o===null||o===91||o===93&&!p||o===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?t(o):o===93?(n.exit(i),n.enter(u),n.consume(o),n.exit(u),n.exit(r),e):T(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),f):(n.enter("chunkString",{contentType:"string"}),m(o))}function m(o){return o===null||o===91||o===93||T(o)||l++>999?(n.exit("chunkString"),f(o)):(n.consume(o),p||(p=!R(o)),o===92?g:m)}function g(o){return o===91||o===92||o===93?(n.consume(o),l++,m):m(o)}}function jt(n,e,t,r,u,i){let a;return l;function l(g){return g===34||g===39||g===40?(n.enter(r),n.enter(u),n.consume(g),n.exit(u),a=g===40?41:g,p):t(g)}function p(g){return g===a?(n.enter(u),n.consume(g),n.exit(u),n.exit(r),e):(n.enter(i),h(g))}function h(g){return g===a?(n.exit(i),p(a)):g===null?t(g):T(g)?(n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),H(n,h,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===a||g===null||T(g)?(n.exit("chunkString"),h(g)):(n.consume(g),g===92?m:f)}function m(g){return g===a||g===92?(n.consume(g),f):f(g)}}function En(n,e){let t;return r;function r(u){return T(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),t=!0,r):R(u)?H(n,r,t?"linePrefix":"lineSuffix")(u):e(u)}}const Vr={name:"definition",tokenize:$r},Qr={partial:!0,tokenize:Ur};function $r(n,e,t){const r=this;let u;return i;function i(o){return n.enter("definition"),a(o)}function a(o){return Ht.call(r,n,l,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(o)}function l(o){return u=yn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),o===58?(n.enter("definitionMarker"),n.consume(o),n.exit("definitionMarker"),p):t(o)}function p(o){return Y(o)?En(n,h)(o):h(o)}function h(o){return Nt(n,f,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(o)}function f(o){return n.attempt(Qr,m,m)(o)}function m(o){return R(o)?H(n,g,"whitespace")(o):g(o)}function g(o){return o===null||T(o)?(n.exit("definition"),r.parser.defined.push(u),e(o)):t(o)}}function Ur(n,e,t){return r;function r(l){return Y(l)?En(n,u)(l):t(l)}function u(l){return jt(n,i,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function i(l){return R(l)?H(n,a,"whitespace")(l):a(l)}function a(l){return l===null||T(l)?e(l):t(l)}}const Wr={name:"hardBreakEscape",tokenize:Yr};function Yr(n,e,t){return r;function r(i){return n.enter("hardBreakEscape"),n.consume(i),u}function u(i){return T(i)?(n.exit("hardBreakEscape"),e(i)):t(i)}}const Gr={name:"headingAtx",resolve:Kr,tokenize:Jr};function Kr(n,e){let t=n.length-2,r=3,u,i;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(u={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},i={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},an(n,r,t-r+1,[["enter",u,e],["enter",i,e],["exit",i,e],["exit",u,e]])),n}function Jr(n,e,t){let r=0;return u;function u(f){return n.enter("atxHeading"),i(f)}function i(f){return n.enter("atxHeadingSequence"),a(f)}function a(f){return f===35&&r++<6?(n.consume(f),a):f===null||Y(f)?(n.exit("atxHeadingSequence"),l(f)):t(f)}function l(f){return f===35?(n.enter("atxHeadingSequence"),p(f)):f===null||T(f)?(n.exit("atxHeading"),e(f)):R(f)?H(n,l,"whitespace")(f):(n.enter("atxHeadingText"),h(f))}function p(f){return f===35?(n.consume(f),p):(n.exit("atxHeadingSequence"),l(f))}function h(f){return f===null||f===35||Y(f)?(n.exit("atxHeadingText"),l(f)):(n.consume(f),h)}}const Xr=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],pt=["pre","script","style","textarea"],Zr={concrete:!0,name:"htmlFlow",resolveTo:ei,tokenize:ri},ni={partial:!0,tokenize:ui},ti={partial:!0,tokenize:ii};function ei(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function ri(n,e,t){const r=this;let u,i,a,l,p;return h;function h(c){return f(c)}function f(c){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(c),m}function m(c){return c===33?(n.consume(c),g):c===47?(n.consume(c),i=!0,I):c===63?(n.consume(c),u=3,r.interrupt?e:s):un(c)?(n.consume(c),a=String.fromCharCode(c),z):t(c)}function g(c){return c===45?(n.consume(c),u=2,o):c===91?(n.consume(c),u=5,l=0,S):un(c)?(n.consume(c),u=4,r.interrupt?e:s):t(c)}function o(c){return c===45?(n.consume(c),r.interrupt?e:s):t(c)}function S(c){const nn="CDATA[";return c===nn.charCodeAt(l++)?(n.consume(c),l===nn.length?r.interrupt?e:C:S):t(c)}function I(c){return un(c)?(n.consume(c),a=String.fromCharCode(c),z):t(c)}function z(c){if(c===null||c===47||c===62||Y(c)){const nn=c===47,fn=a.toLowerCase();return!nn&&!i&&pt.includes(fn)?(u=1,r.interrupt?e(c):C(c)):Xr.includes(a.toLowerCase())?(u=6,nn?(n.consume(c),k):r.interrupt?e(c):C(c)):(u=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(c):i?A(c):b(c))}return c===45||en(c)?(n.consume(c),a+=String.fromCharCode(c),z):t(c)}function k(c){return c===62?(n.consume(c),r.interrupt?e:C):t(c)}function A(c){return R(c)?(n.consume(c),A):N(c)}function b(c){return c===47?(n.consume(c),N):c===58||c===95||un(c)?(n.consume(c),B):R(c)?(n.consume(c),b):N(c)}function B(c){return c===45||c===46||c===58||c===95||en(c)?(n.consume(c),B):D(c)}function D(c){return c===61?(n.consume(c),x):R(c)?(n.consume(c),D):b(c)}function x(c){return c===null||c===60||c===61||c===62||c===96?t(c):c===34||c===39?(n.consume(c),p=c,L):R(c)?(n.consume(c),x):q(c)}function L(c){return c===p?(n.consume(c),p=null,M):c===null||T(c)?t(c):(n.consume(c),L)}function q(c){return c===null||c===34||c===39||c===47||c===60||c===61||c===62||c===96||Y(c)?D(c):(n.consume(c),q)}function M(c){return c===47||c===62||R(c)?b(c):t(c)}function N(c){return c===62?(n.consume(c),w):t(c)}function w(c){return c===null||T(c)?C(c):R(c)?(n.consume(c),w):t(c)}function C(c){return c===45&&u===2?(n.consume(c),$):c===60&&u===1?(n.consume(c),Q):c===62&&u===4?(n.consume(c),Z):c===63&&u===3?(n.consume(c),s):c===93&&u===5?(n.consume(c),rn):T(c)&&(u===6||u===7)?(n.exit("htmlFlowData"),n.check(ni,ln,j)(c)):c===null||T(c)?(n.exit("htmlFlowData"),j(c)):(n.consume(c),C)}function j(c){return n.check(ti,v,ln)(c)}function v(c){return n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),P}function P(c){return c===null||T(c)?j(c):(n.enter("htmlFlowData"),C(c))}function $(c){return c===45?(n.consume(c),s):C(c)}function Q(c){return c===47?(n.consume(c),a="",J):C(c)}function J(c){if(c===62){const nn=a.toLowerCase();return pt.includes(nn)?(n.consume(c),Z):C(c)}return un(c)&&a.length<8?(n.consume(c),a+=String.fromCharCode(c),J):C(c)}function rn(c){return c===93?(n.consume(c),s):C(c)}function s(c){return c===62?(n.consume(c),Z):c===45&&u===2?(n.consume(c),s):C(c)}function Z(c){return c===null||T(c)?(n.exit("htmlFlowData"),ln(c)):(n.consume(c),Z)}function ln(c){return n.exit("htmlFlow"),e(c)}}function ii(n,e,t){const r=this;return u;function u(a){return T(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),i):t(a)}function i(a){return r.parser.lazy[r.now().line]?t(a):e(a)}}function ui(n,e,t){return r;function r(u){return n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),n.attempt(Rn,e,t)}}const ai={name:"htmlText",tokenize:li};function li(n,e,t){const r=this;let u,i,a;return l;function l(s){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(s),p}function p(s){return s===33?(n.consume(s),h):s===47?(n.consume(s),D):s===63?(n.consume(s),b):un(s)?(n.consume(s),q):t(s)}function h(s){return s===45?(n.consume(s),f):s===91?(n.consume(s),i=0,S):un(s)?(n.consume(s),A):t(s)}function f(s){return s===45?(n.consume(s),o):t(s)}function m(s){return s===null?t(s):s===45?(n.consume(s),g):T(s)?(a=m,Q(s)):(n.consume(s),m)}function g(s){return s===45?(n.consume(s),o):m(s)}function o(s){return s===62?$(s):s===45?g(s):m(s)}function S(s){const Z="CDATA[";return s===Z.charCodeAt(i++)?(n.consume(s),i===Z.length?I:S):t(s)}function I(s){return s===null?t(s):s===93?(n.consume(s),z):T(s)?(a=I,Q(s)):(n.consume(s),I)}function z(s){return s===93?(n.consume(s),k):I(s)}function k(s){return s===62?$(s):s===93?(n.consume(s),k):I(s)}function A(s){return s===null||s===62?$(s):T(s)?(a=A,Q(s)):(n.consume(s),A)}function b(s){return s===null?t(s):s===63?(n.consume(s),B):T(s)?(a=b,Q(s)):(n.consume(s),b)}function B(s){return s===62?$(s):b(s)}function D(s){return un(s)?(n.consume(s),x):t(s)}function x(s){return s===45||en(s)?(n.consume(s),x):L(s)}function L(s){return T(s)?(a=L,Q(s)):R(s)?(n.consume(s),L):$(s)}function q(s){return s===45||en(s)?(n.consume(s),q):s===47||s===62||Y(s)?M(s):t(s)}function M(s){return s===47?(n.consume(s),$):s===58||s===95||un(s)?(n.consume(s),N):T(s)?(a=M,Q(s)):R(s)?(n.consume(s),M):$(s)}function N(s){return s===45||s===46||s===58||s===95||en(s)?(n.consume(s),N):w(s)}function w(s){return s===61?(n.consume(s),C):T(s)?(a=w,Q(s)):R(s)?(n.consume(s),w):M(s)}function C(s){return s===null||s===60||s===61||s===62||s===96?t(s):s===34||s===39?(n.consume(s),u=s,j):T(s)?(a=C,Q(s)):R(s)?(n.consume(s),C):(n.consume(s),v)}function j(s){return s===u?(n.consume(s),u=void 0,P):s===null?t(s):T(s)?(a=j,Q(s)):(n.consume(s),j)}function v(s){return s===null||s===34||s===39||s===60||s===61||s===96?t(s):s===47||s===62||Y(s)?M(s):(n.consume(s),v)}function P(s){return s===47||s===62||Y(s)?M(s):t(s)}function $(s){return s===62?(n.consume(s),n.exit("htmlTextData"),n.exit("htmlText"),e):t(s)}function Q(s){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),J}function J(s){return R(s)?H(n,rn,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):rn(s)}function rn(s){return n.enter("htmlTextData"),a(s)}}const Wn={name:"labelEnd",resolveAll:hi,resolveTo:pi,tokenize:fi},oi={tokenize:mi},si={tokenize:gi},ci={tokenize:di};function hi(n){let e=-1;const t=[];for(;++e<n.length;){const r=n[e][1];if(t.push(n[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const u=r.type==="labelImage"?4:2;r.type="data",e+=u}}return n.length!==t.length&&an(n,0,n.length,t),n}function pi(n,e){let t=n.length,r=0,u,i,a,l;for(;t--;)if(u=n[t][1],i){if(u.type==="link"||u.type==="labelLink"&&u._inactive)break;n[t][0]==="enter"&&u.type==="labelLink"&&(u._inactive=!0)}else if(a){if(n[t][0]==="enter"&&(u.type==="labelImage"||u.type==="labelLink")&&!u._balanced&&(i=t,u.type!=="labelLink")){r=2;break}}else u.type==="labelEnd"&&(a=t);const p={type:n[i][1].type==="labelLink"?"link":"image",start:{...n[i][1].start},end:{...n[n.length-1][1].end}},h={type:"label",start:{...n[i][1].start},end:{...n[a][1].end}},f={type:"labelText",start:{...n[i+r+2][1].end},end:{...n[a-2][1].start}};return l=[["enter",p,e],["enter",h,e]],l=X(l,n.slice(i+1,i+r+3)),l=X(l,[["enter",f,e]]),l=X(l,$n(e.parser.constructs.insideSpan.null,n.slice(i+r+4,a-3),e)),l=X(l,[["exit",f,e],n[a-2],n[a-1],["exit",h,e]]),l=X(l,n.slice(a+1)),l=X(l,[["exit",p,e]]),an(n,i,n.length,l),n}function fi(n,e,t){const r=this;let u=r.events.length,i,a;for(;u--;)if((r.events[u][1].type==="labelImage"||r.events[u][1].type==="labelLink")&&!r.events[u][1]._balanced){i=r.events[u][1];break}return l;function l(g){return i?i._inactive?m(g):(a=r.parser.defined.includes(yn(r.sliceSerialize({start:i.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(g),n.exit("labelMarker"),n.exit("labelEnd"),p):t(g)}function p(g){return g===40?n.attempt(oi,f,a?f:m)(g):g===91?n.attempt(si,f,a?h:m)(g):a?f(g):m(g)}function h(g){return n.attempt(ci,f,m)(g)}function f(g){return e(g)}function m(g){return i._balanced=!0,t(g)}}function mi(n,e,t){return r;function r(m){return n.enter("resource"),n.enter("resourceMarker"),n.consume(m),n.exit("resourceMarker"),u}function u(m){return Y(m)?En(n,i)(m):i(m)}function i(m){return m===41?f(m):Nt(n,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function a(m){return Y(m)?En(n,p)(m):f(m)}function l(m){return t(m)}function p(m){return m===34||m===39||m===40?jt(n,h,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):f(m)}function h(m){return Y(m)?En(n,f)(m):f(m)}function f(m){return m===41?(n.enter("resourceMarker"),n.consume(m),n.exit("resourceMarker"),n.exit("resource"),e):t(m)}}function gi(n,e,t){const r=this;return u;function u(l){return Ht.call(r,n,i,a,"reference","referenceMarker","referenceString")(l)}function i(l){return r.parser.defined.includes(yn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):t(l)}function a(l){return t(l)}}function di(n,e,t){return r;function r(i){return n.enter("reference"),n.enter("referenceMarker"),n.consume(i),n.exit("referenceMarker"),u}function u(i){return i===93?(n.enter("referenceMarker"),n.consume(i),n.exit("referenceMarker"),n.exit("reference"),e):t(i)}}const xi={name:"labelStartImage",resolveAll:Wn.resolveAll,tokenize:ki};function ki(n,e,t){const r=this;return u;function u(l){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(l),n.exit("labelImageMarker"),i}function i(l){return l===91?(n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelImage"),a):t(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):e(l)}}const yi={name:"labelStartLink",resolveAll:Wn.resolveAll,tokenize:bi};function bi(n,e,t){const r=this;return u;function u(a){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelLink"),i}function i(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):e(a)}}const Mn={name:"lineEnding",tokenize:Si};function Si(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),H(n,e,"linePrefix")}}const An={name:"thematicBreak",tokenize:Ci};function Ci(n,e,t){let r=0,u;return i;function i(h){return n.enter("thematicBreak"),a(h)}function a(h){return u=h,l(h)}function l(h){return h===u?(n.enter("thematicBreakSequence"),p(h)):r>=3&&(h===null||T(h))?(n.exit("thematicBreak"),e(h)):t(h)}function p(h){return h===u?(n.consume(h),r++,p):(n.exit("thematicBreakSequence"),R(h)?H(n,l,"whitespace")(h):l(h))}}const W={continuation:{tokenize:Ei},exit:_i,name:"list",tokenize:Ti},wi={partial:!0,tokenize:Ai},Ii={partial:!0,tokenize:zi};function Ti(n,e,t){const r=this,u=r.events[r.events.length-1];let i=u&&u[1].type==="linePrefix"?u[2].sliceSerialize(u[1],!0).length:0,a=0;return l;function l(o){const S=r.containerState.type||(o===42||o===43||o===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!r.containerState.marker||o===r.containerState.marker:jn(o)){if(r.containerState.type||(r.containerState.type=S,n.enter(S,{_container:!0})),S==="listUnordered")return n.enter("listItemPrefix"),o===42||o===45?n.check(An,t,h)(o):h(o);if(!r.interrupt||o===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),p(o)}return t(o)}function p(o){return jn(o)&&++a<10?(n.consume(o),p):(!r.interrupt||a<2)&&(r.containerState.marker?o===r.containerState.marker:o===41||o===46)?(n.exit("listItemValue"),h(o)):t(o)}function h(o){return n.enter("listItemMarker"),n.consume(o),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||o,n.check(Rn,r.interrupt?t:f,n.attempt(wi,g,m))}function f(o){return r.containerState.initialBlankLine=!0,i++,g(o)}function m(o){return R(o)?(n.enter("listItemPrefixWhitespace"),n.consume(o),n.exit("listItemPrefixWhitespace"),g):t(o)}function g(o){return r.containerState.size=i+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(o)}}function Ei(n,e,t){const r=this;return r.containerState._closeFlow=void 0,n.check(Rn,u,i);function u(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,H(n,e,"listItemIndent",r.containerState.size+1)(l)}function i(l){return r.containerState.furtherBlankLines||!R(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(Ii,e,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,H(n,n.attempt(W,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function zi(n,e,t){const r=this;return H(n,u,"listItemIndent",r.containerState.size+1);function u(i){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(i):t(i)}}function _i(n){n.exit(this.containerState.type)}function Ai(n,e,t){const r=this;return H(n,u,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function u(i){const a=r.events[r.events.length-1];return!R(i)&&a&&a[1].type==="listItemPrefixWhitespace"?e(i):t(i)}}const ft={name:"setextUnderline",resolveTo:Fi,tokenize:Pi};function Fi(n,e){let t=n.length,r,u,i;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(u=t)}else n[t][1].type==="content"&&n.splice(t,1),!i&&n[t][1].type==="definition"&&(i=t);const a={type:"setextHeading",start:{...n[u][1].start},end:{...n[n.length-1][1].end}};return n[u][1].type="setextHeadingText",i?(n.splice(u,0,["enter",a,e]),n.splice(i+1,0,["exit",n[r][1],e]),n[r][1].end={...n[i][1].end}):n[r][1]=a,n.push(["exit",a,e]),n}function Pi(n,e,t){const r=this;let u;return i;function i(h){let f=r.events.length,m;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){m=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(n.enter("setextHeadingLine"),u=h,a(h)):t(h)}function a(h){return n.enter("setextHeadingLineSequence"),l(h)}function l(h){return h===u?(n.consume(h),l):(n.exit("setextHeadingLineSequence"),R(h)?H(n,p,"lineSuffix")(h):p(h))}function p(h){return h===null||T(h)?(n.exit("setextHeadingLine"),e(h)):t(h)}}const Li={tokenize:Bi};function Bi(n){const e=this,t=n.attempt(Rn,r,n.attempt(this.parser.constructs.flowInitial,u,H(n,n.attempt(this.parser.constructs.flow,u,n.attempt(Nr,u)),"linePrefix")));return t;function r(i){if(i===null){n.consume(i);return}return n.enter("lineEndingBlank"),n.consume(i),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function u(i){if(i===null){n.consume(i);return}return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const Ri={resolveAll:vt()},Di=qt("string"),Mi=qt("text");function qt(n){return{resolveAll:vt(n==="text"?Oi:void 0),tokenize:e};function e(t){const r=this,u=this.parser.constructs[n],i=t.attempt(u,a,l);return a;function a(f){return h(f)?i(f):l(f)}function l(f){if(f===null){t.consume(f);return}return t.enter("data"),t.consume(f),p}function p(f){return h(f)?(t.exit("data"),i(f)):(t.consume(f),p)}function h(f){if(f===null)return!0;const m=u[f];let g=-1;if(m)for(;++g<m.length;){const o=m[g];if(!o.previous||o.previous.call(r,r.previous))return!0}return!1}}}function vt(n){return e;function e(t,r){let u=-1,i;for(;++u<=t.length;)i===void 0?t[u]&&t[u][1].type==="data"&&(i=u,u++):(!t[u]||t[u][1].type!=="data")&&(u!==i+2&&(t[i][1].end=t[u-1][1].end,t.splice(i+2,u-i-2),u=i+2),i=void 0);return n?n(t,r):t}}function Oi(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const r=n[t-1][1],u=e.sliceStream(r);let i=u.length,a=-1,l=0,p;for(;i--;){const h=u[i];if(typeof h=="string"){for(a=h.length;h.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(h===-2)p=!0,l++;else if(h!==-1){i++;break}}if(l){const h={type:t===n.length||p||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?a:r.start._bufferIndex+a,_index:r.start._index+i,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...h.start},r.start.offset===r.end.offset?Object.assign(r,h):(n.splice(t,0,["enter",h,e],["exit",h,e]),t+=2)}t++}return n}const Ni={42:W,43:W,45:W,48:W,49:W,50:W,51:W,52:W,53:W,54:W,55:W,56:W,57:W,62:Rt},Hi={91:Vr},ji={[-2]:Dn,[-1]:Dn,32:Dn},qi={35:Gr,42:An,45:[ft,An],60:Zr,61:ft,95:An,96:ht,126:ht},vi={38:Mt,92:Dt},Vi={[-5]:Mn,[-4]:Mn,[-3]:Mn,33:xi,38:Mt,42:vn,60:[yr,ai],91:yi,92:[Wr,Dt],93:Wn,95:vn,96:Lr},Qi={null:[vn,Ri]},$i={null:[42,95]},Ui={null:[]},Wi=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:$i,contentInitial:Hi,disable:Ui,document:Ni,flow:qi,flowInitial:ji,insideSpan:Qi,string:vi,text:Vi},Symbol.toStringTag,{value:"Module"}));function Yi(n,e,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const u={},i=[];let a=[],l=[];const p={attempt:L(D),check:L(x),consume:A,enter:b,exit:B,interrupt:L(x,{interrupt:!0})},h={code:null,containerState:{},defineSkip:I,events:[],now:S,parser:n,previous:null,sliceSerialize:g,sliceStream:o,write:m};let f=e.tokenize.call(h,p);return e.resolveAll&&i.push(e),h;function m(w){return a=X(a,w),z(),a[a.length-1]!==null?[]:(q(e,0),h.events=$n(i,h.events,h),h.events)}function g(w,C){return Ki(o(w),C)}function o(w){return Gi(a,w)}function S(){const{_bufferIndex:w,_index:C,line:j,column:v,offset:P}=r;return{_bufferIndex:w,_index:C,line:j,column:v,offset:P}}function I(w){u[w.line]=w.column,N()}function z(){let w;for(;r._index<a.length;){const C=a[r._index];if(typeof C=="string")for(w=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===w&&r._bufferIndex<C.length;)k(C.charCodeAt(r._bufferIndex));else k(C)}}function k(w){f=f(w)}function A(w){T(w)?(r.line++,r.column=1,r.offset+=w===-3?2:1,N()):w!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),h.previous=w}function b(w,C){const j=C||{};return j.type=w,j.start=S(),h.events.push(["enter",j,h]),l.push(j),j}function B(w){const C=l.pop();return C.end=S(),h.events.push(["exit",C,h]),C}function D(w,C){q(w,C.from)}function x(w,C){C.restore()}function L(w,C){return j;function j(v,P,$){let Q,J,rn,s;return Array.isArray(v)?ln(v):"tokenize"in v?ln([v]):Z(v);function Z(U){return Sn;function Sn(cn){const gn=cn!==null&&U[cn],dn=cn!==null&&U.null,_n=[...Array.isArray(gn)?gn:gn?[gn]:[],...Array.isArray(dn)?dn:dn?[dn]:[]];return ln(_n)(cn)}}function ln(U){return Q=U,J=0,U.length===0?$:c(U[J])}function c(U){return Sn;function Sn(cn){return s=M(),rn=U,U.partial||(h.currentConstruct=U),U.name&&h.parser.constructs.disable.null.includes(U.name)?fn():U.tokenize.call(C?Object.assign(Object.create(h),C):h,p,nn,fn)(cn)}}function nn(U){return w(rn,s),P}function fn(U){return s.restore(),++J<Q.length?c(Q[J]):$}}}function q(w,C){w.resolveAll&&!i.includes(w)&&i.push(w),w.resolve&&an(h.events,C,h.events.length-C,w.resolve(h.events.slice(C),h)),w.resolveTo&&(h.events=w.resolveTo(h.events,h))}function M(){const w=S(),C=h.previous,j=h.currentConstruct,v=h.events.length,P=Array.from(l);return{from:v,restore:$};function $(){r=w,h.previous=C,h.currentConstruct=j,h.events.length=v,l=P,N()}}function N(){r.line in u&&r.column<2&&(r.column=u[r.line],r.offset+=u[r.line]-1)}}function Gi(n,e){const t=e.start._index,r=e.start._bufferIndex,u=e.end._index,i=e.end._bufferIndex;let a;if(t===u)a=[n[t].slice(r,i)];else{if(a=n.slice(t,u),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}i>0&&a.push(n[u].slice(0,i))}return a}function Ki(n,e){let t=-1;const r=[];let u;for(;++t<n.length;){const i=n[t];let a;if(typeof i=="string")a=i;else switch(i){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&u)continue;a=" ";break}default:a=String.fromCharCode(i)}u=i===-2,r.push(a)}return r.join("")}function Ji(n){const r={constructs:sr([Wi,...(n||{}).extensions||[]]),content:u(pr),defined:[],document:u(mr),flow:u(Li),lazy:{},string:u(Di),text:u(Mi)};return r;function u(i){return a;function a(l){return Yi(r,i,l)}}}function Xi(n){for(;!Ot(n););return n}const mt=/[\0\t\n\r]/g;function Zi(){let n=1,e="",t=!0,r;return u;function u(i,a,l){const p=[];let h,f,m,g,o;for(i=e+(typeof i=="string"?i.toString():new TextDecoder(a||void 0).decode(i)),m=0,e="",t&&(i.charCodeAt(0)===65279&&m++,t=void 0);m<i.length;){if(mt.lastIndex=m,h=mt.exec(i),g=h&&h.index!==void 0?h.index:i.length,o=i.charCodeAt(g),!h){e=i.slice(m);break}if(o===10&&m===g&&r)p.push(-3),r=void 0;else switch(r&&(p.push(-5),r=void 0),m<g&&(p.push(i.slice(m,g)),n+=g-m),o){case 0:{p.push(65533),n++;break}case 9:{for(f=Math.ceil(n/4)*4,p.push(-2);n++<f;)p.push(-1);break}case 10:{p.push(-4),n=1;break}default:r=!0,n=1}m=g+1}return l&&(r&&p.push(-5),e&&p.push(e),p.push(null)),p}}const Vt={}.hasOwnProperty;function Su(n,e,t){return typeof e!="string"&&(t=e,e=void 0),nu(t)(Xi(Ji(t).document().write(Zi()(n,e,!0))))}function nu(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Jn),autolinkProtocol:M,autolinkEmail:M,atxHeading:i(Yn),blockQuote:i(dn),characterEscape:M,characterReference:M,codeFenced:i(_n),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:i(_n,a),codeText:i($t,a),codeTextData:M,data:M,codeFlowValue:M,definition:i(Ut),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:i(Wt),hardBreakEscape:i(Gn),hardBreakTrailing:i(Gn),htmlFlow:i(Kn,a),htmlFlowData:M,htmlText:i(Kn,a),htmlTextData:M,image:i(Yt),label:a,link:i(Jn),listItem:i(Gt),listItemValue:g,listOrdered:i(Xn,m),listUnordered:i(Xn),paragraph:i(Kt),reference:c,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:i(Yn),strong:i(Jt),thematicBreak:i(Zt)},exit:{atxHeading:p(),atxHeadingSequence:D,autolink:p(),autolinkEmail:gn,autolinkProtocol:cn,blockQuote:p(),characterEscapeValue:N,characterReferenceMarkerHexadecimal:fn,characterReferenceMarkerNumeric:fn,characterReferenceValue:U,characterReference:Sn,codeFenced:p(z),codeFencedFence:I,codeFencedFenceInfo:o,codeFencedFenceMeta:S,codeFlowValue:N,codeIndented:p(k),codeText:p(P),codeTextData:N,data:N,definition:p(),definitionDestinationString:B,definitionLabelString:A,definitionTitleString:b,emphasis:p(),hardBreakEscape:p(C),hardBreakTrailing:p(C),htmlFlow:p(j),htmlFlowData:N,htmlText:p(v),htmlTextData:N,image:p(Q),label:rn,labelText:J,lineEnding:w,link:p($),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:nn,resourceDestinationString:s,resourceTitleString:Z,resource:ln,setextHeading:p(q),setextHeadingLineSequence:L,setextHeadingText:x,strong:p(),thematicBreak:p()}};Qt(e,(n||{}).mdastExtensions||[]);const t={};return r;function r(d){let y={type:"root",children:[]};const E={stack:[y],tokenStack:[],config:e,enter:l,exit:h,buffer:a,resume:f,data:t},F=[];let O=-1;for(;++O<d.length;)if(d[O][1].type==="listOrdered"||d[O][1].type==="listUnordered")if(d[O][0]==="enter")F.push(O);else{const tn=F.pop();O=u(d,tn,O)}for(O=-1;++O<d.length;){const tn=e[d[O][0]];Vt.call(tn,d[O][1].type)&&tn[d[O][1].type].call(Object.assign({sliceSerialize:d[O][2].sliceSerialize},E),d[O][1])}if(E.tokenStack.length>0){const tn=E.tokenStack[E.tokenStack.length-1];(tn[1]||gt).call(E,void 0,tn[0])}for(y.position={start:hn(d.length>0?d[0][1].start:{line:1,column:1,offset:0}),end:hn(d.length>0?d[d.length-2][1].end:{line:1,column:1,offset:0})},O=-1;++O<e.transforms.length;)y=e.transforms[O](y)||y;return y}function u(d,y,E){let F=y-1,O=-1,tn=!1,mn,on,Cn,wn;for(;++F<=E;){const G=d[F];switch(G[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{G[0]==="enter"?O++:O--,wn=void 0;break}case"lineEndingBlank":{G[0]==="enter"&&(mn&&!wn&&!O&&!Cn&&(Cn=F),wn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:wn=void 0}if(!O&&G[0]==="enter"&&G[1].type==="listItemPrefix"||O===-1&&G[0]==="exit"&&(G[1].type==="listUnordered"||G[1].type==="listOrdered")){if(mn){let xn=F;for(on=void 0;xn--;){const sn=d[xn];if(sn[1].type==="lineEnding"||sn[1].type==="lineEndingBlank"){if(sn[0]==="exit")continue;on&&(d[on][1].type="lineEndingBlank",tn=!0),sn[1].type="lineEnding",on=xn}else if(!(sn[1].type==="linePrefix"||sn[1].type==="blockQuotePrefix"||sn[1].type==="blockQuotePrefixWhitespace"||sn[1].type==="blockQuoteMarker"||sn[1].type==="listItemIndent"))break}Cn&&(!on||Cn<on)&&(mn._spread=!0),mn.end=Object.assign({},on?d[on][1].start:G[1].end),d.splice(on||F,0,["exit",mn,G[2]]),F++,E++}if(G[1].type==="listItemPrefix"){const xn={type:"listItem",_spread:!1,start:Object.assign({},G[1].start),end:void 0};mn=xn,d.splice(F,0,["enter",xn,G[2]]),F++,E++,Cn=void 0,wn=!0}}}return d[y][1]._spread=tn,E}function i(d,y){return E;function E(F){l.call(this,d(F),F),y&&y.call(this,F)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(d,y,E){this.stack[this.stack.length-1].children.push(d),this.stack.push(d),this.tokenStack.push([y,E||void 0]),d.position={start:hn(y.start),end:void 0}}function p(d){return y;function y(E){d&&d.call(this,E),h.call(this,E)}}function h(d,y){const E=this.stack.pop(),F=this.tokenStack.pop();if(F)F[0].type!==d.type&&(y?y.call(this,d,F[0]):(F[1]||gt).call(this,d,F[0]));else throw new Error("Cannot close `"+d.type+"` ("+Tn({start:d.start,end:d.end})+"): it’s not open");E.position.end=hn(d.end)}function f(){return ir(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function g(d){if(this.data.expectingFirstListItemValue){const y=this.stack[this.stack.length-2];y.start=Number.parseInt(this.sliceSerialize(d),10),this.data.expectingFirstListItemValue=void 0}}function o(){const d=this.resume(),y=this.stack[this.stack.length-1];y.lang=d}function S(){const d=this.resume(),y=this.stack[this.stack.length-1];y.meta=d}function I(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function z(){const d=this.resume(),y=this.stack[this.stack.length-1];y.value=d.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const d=this.resume(),y=this.stack[this.stack.length-1];y.value=d.replace(/(\r?\n|\r)$/g,"")}function A(d){const y=this.resume(),E=this.stack[this.stack.length-1];E.label=y,E.identifier=yn(this.sliceSerialize(d)).toLowerCase()}function b(){const d=this.resume(),y=this.stack[this.stack.length-1];y.title=d}function B(){const d=this.resume(),y=this.stack[this.stack.length-1];y.url=d}function D(d){const y=this.stack[this.stack.length-1];if(!y.depth){const E=this.sliceSerialize(d).length;y.depth=E}}function x(){this.data.setextHeadingSlurpLineEnding=!0}function L(d){const y=this.stack[this.stack.length-1];y.depth=this.sliceSerialize(d).codePointAt(0)===61?1:2}function q(){this.data.setextHeadingSlurpLineEnding=void 0}function M(d){const E=this.stack[this.stack.length-1].children;let F=E[E.length-1];(!F||F.type!=="text")&&(F=Xt(),F.position={start:hn(d.start),end:void 0},E.push(F)),this.stack.push(F)}function N(d){const y=this.stack.pop();y.value+=this.sliceSerialize(d),y.position.end=hn(d.end)}function w(d){const y=this.stack[this.stack.length-1];if(this.data.atHardBreak){const E=y.children[y.children.length-1];E.position.end=hn(d.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(y.type)&&(M.call(this,d),N.call(this,d))}function C(){this.data.atHardBreak=!0}function j(){const d=this.resume(),y=this.stack[this.stack.length-1];y.value=d}function v(){const d=this.resume(),y=this.stack[this.stack.length-1];y.value=d}function P(){const d=this.resume(),y=this.stack[this.stack.length-1];y.value=d}function $(){const d=this.stack[this.stack.length-1];if(this.data.inReference){const y=this.data.referenceType||"shortcut";d.type+="Reference",d.referenceType=y,delete d.url,delete d.title}else delete d.identifier,delete d.label;this.data.referenceType=void 0}function Q(){const d=this.stack[this.stack.length-1];if(this.data.inReference){const y=this.data.referenceType||"shortcut";d.type+="Reference",d.referenceType=y,delete d.url,delete d.title}else delete d.identifier,delete d.label;this.data.referenceType=void 0}function J(d){const y=this.sliceSerialize(d),E=this.stack[this.stack.length-2];E.label=lr(y),E.identifier=yn(y).toLowerCase()}function rn(){const d=this.stack[this.stack.length-1],y=this.resume(),E=this.stack[this.stack.length-1];if(this.data.inReference=!0,E.type==="link"){const F=d.children;E.children=F}else E.alt=y}function s(){const d=this.resume(),y=this.stack[this.stack.length-1];y.url=d}function Z(){const d=this.resume(),y=this.stack[this.stack.length-1];y.title=d}function ln(){this.data.inReference=void 0}function c(){this.data.referenceType="collapsed"}function nn(d){const y=this.resume(),E=this.stack[this.stack.length-1];E.label=y,E.identifier=yn(this.sliceSerialize(d)).toLowerCase(),this.data.referenceType="full"}function fn(d){this.data.characterReferenceType=d.type}function U(d){const y=this.sliceSerialize(d),E=this.data.characterReferenceType;let F;E?(F=Bt(y,E==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):F=Un(y);const O=this.stack[this.stack.length-1];O.value+=F}function Sn(d){const y=this.stack.pop();y.position.end=hn(d.end)}function cn(d){N.call(this,d);const y=this.stack[this.stack.length-1];y.url=this.sliceSerialize(d)}function gn(d){N.call(this,d);const y=this.stack[this.stack.length-1];y.url="mailto:"+this.sliceSerialize(d)}function dn(){return{type:"blockquote",children:[]}}function _n(){return{type:"code",lang:null,meta:null,value:""}}function $t(){return{type:"inlineCode",value:""}}function Ut(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Wt(){return{type:"emphasis",children:[]}}function Yn(){return{type:"heading",depth:0,children:[]}}function Gn(){return{type:"break"}}function Kn(){return{type:"html",value:""}}function Yt(){return{type:"image",title:null,url:"",alt:null}}function Jn(){return{type:"link",title:null,url:"",children:[]}}function Xn(d){return{type:"list",ordered:d.type==="listOrdered",start:null,spread:d._spread,children:[]}}function Gt(d){return{type:"listItem",spread:d._spread,checked:null,children:[]}}function Kt(){return{type:"paragraph",children:[]}}function Jt(){return{type:"strong",children:[]}}function Xt(){return{type:"text",value:""}}function Zt(){return{type:"thematicBreak"}}}function hn(n){return{line:n.line,column:n.column,offset:n.offset}}function Qt(n,e){let t=-1;for(;++t<e.length;){const r=e[t];Array.isArray(r)?Qt(n,r):tu(n,r)}}function tu(n,e){let t;for(t in e)if(Vt.call(e,t))switch(t){case"canContainEols":{const r=e[t];r&&n[t].push(...r);break}case"transforms":{const r=e[t];r&&n[t].push(...r);break}case"enter":case"exit":{const r=e[t];r&&Object.assign(n[t],r);break}}}function gt(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+Tn({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+Tn({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Tn({start:e.start,end:e.end})+") is still open")}export{ir as A,Ft as B,lr as C,Re as D,ut as E,De as F,_t as G,Me as H,Le as P,Be as R,hu as T,K as V,ou as a,pu as b,fu as c,Oe as d,mu as e,lu as f,en as g,Su as h,du as i,tt as j,Un as k,Tn as l,T as m,yu as n,gu as o,R as p,H as q,$n as r,an as s,Y as t,su as u,bu as v,ge as w,ve as x,xu as y,ku as z};

import{a3 as Nt,a4 as Ke,a5 as Ee,a6 as Je,a7 as se,a8 as ut,a9 as Xe,aa as Ot,ab as K,ac as ue,ad as j,ae as tn,af as en,ag as nn,ah as sr,ai as rn,aj as Ht,ak as an,al as ur,am as or,an as _t,ao as qt,ap as yt,aq as oe,ar as lr,as as St,at as Bt,au as jt,av as Vt,aw as sn,ax as le,ay as cr,az as ce,aA as fr,aB as un,aC as on,aD as hr,aE as pr,aF as dr,aG as Ae,aH as ln,aI as mr,aJ as gr,aK as cn,aL as fn,aM as Fe,aN as yr,aO as Pe,aP as xr,aQ as br,aR as kr,aS as wr,aT as Cr,aU as Sr,aV as Pt,aW as Ir,aX as Tr,aY as Er,aZ as Ar,a_ as Fr,a$ as Pr,b0 as vr,b1 as zr,b2 as _r,b3 as Br,b4 as Nr,b5 as Dr,b6 as Lr,b7 as Rr,b8 as Mr,b9 as qr,ba as Or,r as N,o as Hr,w as hn,j as $,P as jr,s as wt,v as pn,M as Vr,bb as $r,bc as Ur,q as Qr,p as Gr,g as Wr}from"./index-njPWUeu0.js";import{i as fe}from"./isAddressEqual-wxI-f8LD.js";import{secp256k1 as Yr}from"./secp256k1-FgJ0brOx.js";import{u as Zr}from"./useQuery-Bk9H9nyS.js";import{a as Kr}from"./useAccount-B-fxn6Ea.js";import{c as dn,A as Jr,C as Xr,a as ti,R as ei}from"./index-CwtAhLPf.js";import{P as ni}from"./index-mOVHbD_D.js";class ri extends Nt{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const ve="/docs/contract/encodeEventTopics";function Dt(t){var o;const{abi:e,eventName:n,args:r}=t;let a=e[0];if(n){const l=Ke({abi:e,name:n});if(!l)throw new Ee(n,{docsPath:ve});a=l}if(a.type!=="event")throw new Ee(void 0,{docsPath:ve});const i=Je(a),s=se(i);let u=[];if(r&&"inputs"in a){const l=(o=a.inputs)==null?void 0:o.filter(f=>"indexed"in f&&f.indexed),c=Array.isArray(r)?r:Object.values(r).length>0?(l==null?void 0:l.map(f=>r[f.name]))??[]:[];c.length>0&&(u=(l==null?void 0:l.map((f,m)=>Array.isArray(c[m])?c[m].map((h,w)=>ze({param:f,value:c[m][w]})):c[m]?ze({param:f,value:c[m]}):null))??[])}return[s,...u]}function ze({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return ut(Xe(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new ri(t.type);return Ot([t],[e])}function $t(t,{method:e}){var r,a;const n={};return t.transport.type==="fallback"&&((a=(r=t.transport).onResponse)==null||a.call(r,({method:i,response:s,status:u,transport:o})=>{u==="success"&&e===i&&(n[s]=o.request)})),i=>n[i]||t.request}async function mn(t,e){const{address:n,abi:r,args:a,eventName:i,fromBlock:s,strict:u,toBlock:o}=e,l=$t(t,{method:"eth_newFilter"}),c=i?Dt({abi:r,args:a,eventName:i}):void 0,f=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof s=="bigint"?K(s):s,toBlock:typeof o=="bigint"?K(o):o,topics:c}]});return{abi:r,args:a,eventName:i,id:f,request:l(f),strict:!!u,type:"event"}}async function ii(t,e){const{abi:n,address:r,args:a,functionName:i,...s}=e,u=ue({abi:n,args:a,functionName:i});try{return await j(t,tn,"estimateGas")({data:u,to:r,...s})}catch(o){const l=s.account?en(s.account):void 0;throw nn(o,{abi:n,address:r,args:a,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:l==null?void 0:l.address})}}const _e="/docs/contract/decodeEventLog";function he(t){const{abi:e,data:n,strict:r,topics:a}=t,i=r??!0,[s,...u]=a;if(!s)throw new sr({docsPath:_e});const o=e.length===1?e[0]:e.find(b=>b.type==="event"&&s===se(Je(b)));if(!(o&&"name"in o)||o.type!=="event")throw new rn(s,{docsPath:_e});const{name:l,inputs:c}=o,f=c==null?void 0:c.some(b=>!("name"in b&&b.name));let m=f?[]:{};const h=c.filter(b=>"indexed"in b&&b.indexed);for(let b=0;b<h.length;b++){const S=h[b],g=u[b];if(!g)throw new Ht({abiItem:o,param:S});m[f?b:S.name||b]=ai({param:S,value:g})}const w=c.filter(b=>!("indexed"in b&&b.indexed));if(w.length>0){if(n&&n!=="0x")try{const b=an(w,n);if(b)if(f)m=[...m,...b];else for(let S=0;S<w.length;S++)m[w[S].name]=b[S]}catch(b){if(i)throw b instanceof ur||b instanceof or?new _t({abiItem:o,data:n,params:w,size:qt(n)}):b}else if(i)throw new _t({abiItem:o,data:"0x",params:w,size:0})}return{eventName:l,args:Object.values(m).length>0?m:void 0}}function ai({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(an([t],e)||[])[0]}function pe(t){const{abi:e,args:n,logs:r,strict:a=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(s=>{var u;try{const o=e.find(c=>c.type==="event"&&s.topics[0]===se(c));if(!o)return null;const l=he({...s,abi:[o],strict:a});return i&&!i.includes(l.eventName)||!si({args:l.args,inputs:o.inputs,matchArgs:n})?null:{...l,...s}}catch(o){let l,c;if(o instanceof rn)return null;if(o instanceof _t||o instanceof Ht){if(a)return null;l=o.abiItem.name,c=(u=o.abiItem.inputs)==null?void 0:u.some(f=>!("name"in f&&f.name))}return{...s,args:c?[]:{},eventName:l}}}).filter(Boolean)}function si(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function a(i,s,u){try{return i.type==="address"?fe(s,u):i.type==="string"||i.type==="bytes"?ut(Xe(s))===u:s===u}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,s)=>{if(i==null)return!0;const u=n[s];return u?(Array.isArray(i)?i:[i]).some(l=>a(u,l,e[s])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,s])=>{if(s==null)return!0;const u=n.find(l=>l.name===i);return u?(Array.isArray(s)?s:[s]).some(l=>a(u,l,e[i])):!1}):!1}async function de(t,{address:e,blockHash:n,fromBlock:r,toBlock:a,event:i,events:s,args:u,strict:o}={}){const l=o??!1,c=s??(i?[i]:void 0);let f=[];c&&(f=[c.flatMap(b=>Dt({abi:[b],eventName:b.name,args:s?void 0:u}))],i&&(f=f[0]));let m;n?m=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,blockHash:n}]}):m=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,fromBlock:typeof r=="bigint"?K(r):r,toBlock:typeof a=="bigint"?K(a):a}]});const h=m.map(w=>yt(w));return c?pe({abi:c,args:u,logs:h,strict:l}):h}async function gn(t,e){const{abi:n,address:r,args:a,blockHash:i,eventName:s,fromBlock:u,toBlock:o,strict:l}=e,c=s?Ke({abi:n,name:s}):void 0,f=c?void 0:n.filter(m=>m.type==="event");return j(t,de,"getLogs")({address:r,args:a,blockHash:i,event:c,events:f,fromBlock:u,toBlock:o,strict:l})}async function ui(t,e){const{abi:n,address:r,args:a,dataSuffix:i,functionName:s,...u}=e,o=u.account?en(u.account):t.account,l=ue({abi:n,args:a,functionName:s});try{const{data:c}=await j(t,oe,"call")({batch:!1,data:`${l}${i?i.replace("0x",""):""}`,to:r,...u,account:o}),f=lr({abi:n,args:a,functionName:s,data:c||"0x"}),m=n.filter(h=>"name"in h&&h.name===e.functionName);return{result:f,request:{abi:m,address:r,args:a,dataSuffix:i,functionName:s,...u,account:o}}}catch(c){throw nn(c,{abi:n,address:r,args:a,docsPath:"/docs/contract/simulateContract",functionName:s,sender:o==null?void 0:o.address})}}async function Ut(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const a=r.map(i=>yt(i));return!("abi"in e)||!e.abi?a:pe({abi:e.abi,logs:a,strict:n})}async function Qt(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function oi(t,e){const{abi:n,address:r,args:a,batch:i=!0,eventName:s,fromBlock:u,onError:o,onLogs:l,poll:c,pollingInterval:f=t.pollingInterval,strict:m}=e;return(typeof c<"u"?c:typeof u=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"))?(()=>{const S=m??!1,g=St(["watchContractEvent",r,a,i,t.uid,s,f,S,u]);return Bt(g,{onLogs:l,onError:o},I=>{let k;u!==void 0&&(k=u-1n);let A,B=!1;const x=jt(async()=>{var F;if(!B){try{A=await j(t,mn,"createContractEventFilter")({abi:n,address:r,args:a,eventName:s,strict:S,fromBlock:u})}catch{}B=!0;return}try{let v;if(A)v=await j(t,Ut,"getFilterChanges")({filter:A});else{const P=await j(t,Vt,"getBlockNumber")({});k&&k<P?v=await j(t,gn,"getContractEvents")({abi:n,address:r,args:a,eventName:s,fromBlock:k+1n,toBlock:P,strict:S}):v=[],k=P}if(v.length===0)return;if(i)I.onLogs(v);else for(const P of v)I.onLogs([P])}catch(v){A&&v instanceof sn&&(B=!1),(F=I.onError)==null||F.call(I,v)}},{emitOnBegin:!0,interval:f});return async()=>{A&&await j(t,Qt,"uninstallFilter")({filter:A}),x()}})})():(()=>{const S=m??!1,g=St(["watchContractEvent",r,a,i,t.uid,s,f,S]);let I=!0,k=()=>I=!1;return Bt(g,{onLogs:l,onError:o},A=>((async()=>{try{const B=(()=>{if(t.transport.type==="fallback"){const v=t.transport.transports.find(P=>P.config.type==="webSocket");return v?v.value:t.transport}return t.transport})(),x=s?Dt({abi:n,eventName:s,args:a}):[],{unsubscribe:F}=await B.subscribe({params:["logs",{address:r,topics:x}],onData(v){var R;if(!I)return;const P=v.result;try{const{eventName:T,args:E}=he({abi:n,data:P.data,topics:P.topics,strict:m}),M=yt(P,{args:E,eventName:T});A.onLogs([M])}catch(T){let E,M;if(T instanceof _t||T instanceof Ht){if(m)return;E=T.abiItem.name,M=(R=T.abiItem.inputs)==null?void 0:R.some(D=>!("name"in D&&D.name))}const V=yt(P,{args:M?[]:{},eventName:E});A.onLogs([V])}},onError(v){var P;(P=A.onError)==null||P.call(A,v)}});k=F,I||k()}catch(B){o==null||o(B)}})(),()=>k()))})()}class li extends Nt{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function ci(t,e){const{address:n,factory:r,factoryData:a}=e;try{const[i,s,u,o,l,c,f]=await j(t,le,"readContract")({abi:fi,address:n,functionName:"eip712Domain",factory:r,factoryData:a});return{domain:{name:s,version:u,chainId:Number(o),verifyingContract:l,salt:c},extensions:f,fields:i}}catch(i){const s=i;throw s.name==="ContractFunctionExecutionError"&&s.cause.name==="ContractFunctionZeroDataError"?new li({address:n}):s}}const fi=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function hi(t,{blockNumber:e,blockTag:n,name:r,universalResolverAddress:a}){let i=a;if(!i){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=cr({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const[s]=await j(t,le,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ce(fr(r))],blockNumber:e,blockTag:n});return s}async function pi(t){const e=$t(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function yn(t,{address:e,args:n,event:r,events:a,fromBlock:i,strict:s,toBlock:u}={}){const o=a??(r?[r]:void 0),l=$t(t,{method:"eth_newFilter"});let c=[];o&&(c=[o.flatMap(h=>Dt({abi:[h],eventName:h.name,args:n}))],r&&(c=c[0]));const f=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof i=="bigint"?K(i):i,toBlock:typeof u=="bigint"?K(u):u,...c.length?{topics:c}:{}}]});return{abi:o,args:n,eventName:r?r.name:void 0,fromBlock:i,id:f,request:l(f),strict:!!s,toBlock:u,type:"event"}}async function xn(t){const e=$t(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function di(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function mi(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const a=n!==void 0?K(n):void 0;let i;return e?i=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):i=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[a||r]},{dedupe:!!a}),un(i)}async function Be(t,{address:e,blockNumber:n,blockTag:r="latest"}){const a=n!==void 0?K(n):void 0,i=await t.request({method:"eth_getCode",params:[e,a||r]},{dedupe:!!a});if(i!=="0x")return i}function gi(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function yi(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:a}){const i=n?K(n):void 0,s=await t.request({method:"eth_feeHistory",params:[K(e),i||r,a]},{dedupe:!!i});return gi(s)}async function xi(t,{filter:e}){const n=e.strict??!1,a=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(i=>yt(i));return e.abi?pe({abi:e.abi,logs:a,strict:n}):a}const bi=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ki=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;class wi extends Nt{constructor({domain:e}){super(`Invalid domain "${St(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Ci extends Nt{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Si extends Nt{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Ii(t){const{domain:e={},message:n,primaryType:r}=t,a={EIP712Domain:Pi({domain:e}),...t.types};Fi({domain:e,message:n,primaryType:r,types:a});const i=["0x1901"];return e&&i.push(Ti({domain:e,types:a})),r!=="EIP712Domain"&&i.push(bn({data:n,primaryType:r,types:a})),ut(on(i))}function Ti({domain:t,types:e}){return bn({data:t,primaryType:"EIP712Domain",types:e})}function bn({data:t,primaryType:e,types:n}){const r=kn({data:t,primaryType:e,types:n});return ut(r)}function kn({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],a=[Ei({primaryType:e,types:n})];for(const i of n[e]){const[s,u]=Cn({types:n,name:i.name,type:i.type,value:t[i.name]});r.push(s),a.push(u)}return Ot(r,a)}function Ei({primaryType:t,types:e}){const n=ce(Ai({primaryType:t,types:e}));return ut(n)}function Ai({primaryType:t,types:e}){let n="";const r=wn({primaryType:t,types:e});r.delete(t);const a=[t,...Array.from(r).sort()];for(const i of a)n+=`${i}(${e[i].map(({name:s,type:u})=>`${u} ${s}`).join(",")})`;return n}function wn({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u),a=r==null?void 0:r[0];if(n.has(a)||e[a]===void 0)return n;n.add(a);for(const i of e[a])wn({primaryType:i.type,types:e},n);return n}function Cn({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},ut(kn({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},ut(r)];if(n==="string")return[{type:"bytes32"},ut(ce(r))];if(n.lastIndexOf("]")===n.length-1){const a=n.slice(0,n.lastIndexOf("[")),i=r.map(s=>Cn({name:e,type:a,types:t,value:s}));return[{type:"bytes32"},ut(Ot(i.map(([s])=>s),i.map(([,s])=>s)))]}return[{type:n},r]}function Fi(t){const{domain:e,message:n,primaryType:r,types:a}=t,i=(s,u)=>{for(const o of s){const{name:l,type:c}=o,f=u[l],m=c.match(ki);if(m&&(typeof f=="number"||typeof f=="bigint")){const[b,S,g]=m;K(f,{signed:S==="int",size:Number.parseInt(g)/8})}if(c==="address"&&typeof f=="string"&&!hr(f))throw new pr({address:f});const h=c.match(bi);if(h){const[b,S]=h;if(S&&qt(f)!==Number.parseInt(S))throw new dr({expectedSize:Number.parseInt(S),givenSize:qt(f)})}const w=a[c];w&&(vi(c),i(w,f))}};if(a.EIP712Domain&&e){if(typeof e!="object")throw new wi({domain:e});i(a.EIP712Domain,e)}if(r!=="EIP712Domain")if(a[r])i(a[r],n);else throw new Ci({primaryType:r,types:a})}function Pi({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},typeof(t==null?void 0:t.chainId)=="number"&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function vi(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new Si({type:t})}const zi=`Ethereum Signed Message:
`;function _i(t){const e=typeof t=="string"?Ae(t):typeof t.raw=="string"?t.raw:ln(t.raw),n=Ae(`${zi}${qt(e)}`);return on([n,e])}function Sn(t,e){return ut(_i(t),e)}const In="0x6492649264926492649264926492649264926492649264926492649264926492";function Bi(t){return mr(t,-32)===In}function Ni(t){const{address:e,data:n,signature:r,to:a="hex"}=t,i=gr([Ot([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,r]),In]);return a==="hex"?i:cn(i)}function Di(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function Li(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?un(t.nonce):void 0,storageProof:t.storageProof?Di(t.storageProof):void 0}}async function Ri(t,{address:e,blockNumber:n,blockTag:r,storageKeys:a}){const i=r??"latest",s=n!==void 0?K(n):void 0,u=await t.request({method:"eth_getProof",params:[e,a,s||i]});return Li(u)}async function Mi(t,{address:e,blockNumber:n,blockTag:r="latest",slot:a}){const i=n!==void 0?K(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,a,i||r]})}async function qi(t,{hash:e,transactionReceipt:n}){const[r,a]=await Promise.all([j(t,Vt,"getBlockNumber")({}),e?j(t,fn,"getTransaction")({hash:e}):void 0]),i=(n==null?void 0:n.blockNumber)||(a==null?void 0:a.blockNumber);return i?r-i+1n:0n}function Oi({r:t,s:e,to:n="hex",v:r,yParity:a}){const i=(()=>{if(a===0||a===1)return a;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),s=`0x${new Yr.Signature(Fe(t),Fe(e)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?s:cn(s)}async function me(t,e){var f,m,h;const{address:n,factory:r,factoryData:a,hash:i,signature:s,universalSignatureVerifierAddress:u=(h=(m=(f=t.chain)==null?void 0:f.contracts)==null?void 0:m.universalSignatureVerifier)==null?void 0:h.address,...o}=e,l=yr(s)?s:typeof s=="object"&&"r"in s&&"s"in s?Oi(s):ln(s),c=await(async()=>!r&&!a||Bi(l)?l:Ni({address:r,data:a,signature:l}))();try{const w=u?{to:u,data:ue({abi:Pe,functionName:"isValidSig",args:[n,i,c]}),...o}:{data:xr({abi:Pe,args:[n,i,c],bytecode:br}),...o},{data:b}=await j(t,oe,"call")(w);return kr(b??"0x0")}catch(w){try{if(fe(wr(n),await Cr({hash:i,signature:s})))return!0}catch{}if(w instanceof Sr)return!1;throw w}}async function Hi(t,{address:e,message:n,factory:r,factoryData:a,signature:i,...s}){const u=Sn(n);return me(t,{address:e,factory:r,factoryData:a,hash:u,signature:i,...s})}async function ji(t,e){const{address:n,factory:r,factoryData:a,signature:i,message:s,primaryType:u,types:o,domain:l,...c}=e,f=Ii({message:s,primaryType:u,types:o,domain:l});return me(t,{address:n,factory:r,factoryData:a,hash:f,signature:i,...c})}function Vi(t,{blockTag:e="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:a,onError:i,includeTransactions:s,poll:u,pollingInterval:o=t.pollingInterval}){const l=typeof u<"u"?u:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),c=s??!1;let f;return l?(()=>{const w=St(["watchBlocks",t.uid,e,n,r,c,o]);return Bt(w,{onBlock:a,onError:i},b=>jt(async()=>{var S;try{const g=await j(t,Pt,"getBlock")({blockTag:e,includeTransactions:c});if(g.number&&(f!=null&&f.number)){if(g.number===f.number)return;if(g.number-f.number>1&&n)for(let I=(f==null?void 0:f.number)+1n;I<g.number;I++){const k=await j(t,Pt,"getBlock")({blockNumber:I,includeTransactions:c});b.onBlock(k,f),f=k}}(!(f!=null&&f.number)||e==="pending"&&!(g!=null&&g.number)||g.number&&g.number>f.number)&&(b.onBlock(g,f),f=g)}catch(g){(S=b.onError)==null||S.call(b,g)}},{emitOnBegin:r,interval:o}))})():(()=>{let w=!0,b=!0,S=()=>w=!1;return(async()=>{try{r&&j(t,Pt,"getBlock")({blockTag:e,includeTransactions:c}).then(k=>{w&&b&&(a(k,void 0),b=!1)});const g=(()=>{if(t.transport.type==="fallback"){const k=t.transport.transports.find(A=>A.config.type==="webSocket");return k?k.value:t.transport}return t.transport})(),{unsubscribe:I}=await g.subscribe({params:["newHeads"],async onData(k){if(!w)return;const A=await j(t,Pt,"getBlock")({blockNumber:k.blockNumber,includeTransactions:c}).catch(()=>{});w&&(a(A,f),b=!1,f=A)},onError(k){i==null||i(k)}});S=I,w||S()}catch(g){i==null||i(g)}})(),()=>S()})()}function $i(t,{address:e,args:n,batch:r=!0,event:a,events:i,fromBlock:s,onError:u,onLogs:o,poll:l,pollingInterval:c=t.pollingInterval,strict:f}){const m=typeof l<"u"?l:typeof s=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),h=f??!1;return m?(()=>{const S=St(["watchEvent",e,n,r,t.uid,a,c,s]);return Bt(S,{onLogs:o,onError:u},g=>{let I;s!==void 0&&(I=s-1n);let k,A=!1;const B=jt(async()=>{var x;if(!A){try{k=await j(t,yn,"createEventFilter")({address:e,args:n,event:a,events:i,strict:h,fromBlock:s})}catch{}A=!0;return}try{let F;if(k)F=await j(t,Ut,"getFilterChanges")({filter:k});else{const v=await j(t,Vt,"getBlockNumber")({});I&&I!==v?F=await j(t,de,"getLogs")({address:e,args:n,event:a,events:i,fromBlock:I+1n,toBlock:v}):F=[],I=v}if(F.length===0)return;if(r)g.onLogs(F);else for(const v of F)g.onLogs([v])}catch(F){k&&F instanceof sn&&(A=!1),(x=g.onError)==null||x.call(g,F)}},{emitOnBegin:!0,interval:c});return async()=>{k&&await j(t,Qt,"uninstallFilter")({filter:k}),B()}})})():(()=>{let S=!0,g=()=>S=!1;return(async()=>{try{const I=(()=>{if(t.transport.type==="fallback"){const x=t.transport.transports.find(F=>F.config.type==="webSocket");return x?x.value:t.transport}return t.transport})(),k=i??(a?[a]:void 0);let A=[];k&&(A=[k.flatMap(F=>Dt({abi:[F],eventName:F.name,args:n}))],a&&(A=A[0]));const{unsubscribe:B}=await I.subscribe({params:["logs",{address:e,topics:A}],onData(x){var v;if(!S)return;const F=x.result;try{const{eventName:P,args:R}=he({abi:k??[],data:F.data,topics:F.topics,strict:h}),T=yt(F,{args:R,eventName:P});o([T])}catch(P){let R,T;if(P instanceof _t||P instanceof Ht){if(f)return;R=P.abiItem.name,T=(v=P.abiItem.inputs)==null?void 0:v.some(M=>!("name"in M&&M.name))}const E=yt(F,{args:T?[]:{},eventName:R});o([E])}},onError(x){u==null||u(x)}});g=B,S||g()}catch(I){u==null||u(I)}})(),()=>g()})()}function Ui(t,{batch:e=!0,onError:n,onTransactions:r,poll:a,pollingInterval:i=t.pollingInterval}){return(typeof a<"u"?a:t.transport.type!=="webSocket")?(()=>{const l=St(["watchPendingTransactions",t.uid,e,i]);return Bt(l,{onTransactions:r,onError:n},c=>{let f;const m=jt(async()=>{var h;try{if(!f)try{f=await j(t,xn,"createPendingTransactionFilter")({});return}catch(b){throw m(),b}const w=await j(t,Ut,"getFilterChanges")({filter:f});if(w.length===0)return;if(e)c.onTransactions(w);else for(const b of w)c.onTransactions([b])}catch(w){(h=c.onError)==null||h.call(c,w)}},{emitOnBegin:!0,interval:i});return async()=>{f&&await j(t,Qt,"uninstallFilter")({filter:f}),m()}})})():(()=>{let l=!0,c=()=>l=!1;return(async()=>{try{const{unsubscribe:f}=await t.transport.subscribe({params:["newPendingTransactions"],onData(m){if(!l)return;const h=m.result;r([h])},onError(m){n==null||n(m)}});c=f,l||c()}catch(f){n==null||n(f)}})(),()=>c()})()}function Qi(t){var f,m,h;const{scheme:e,statement:n,...r}=((f=t.match(Gi))==null?void 0:f.groups)??{},{chainId:a,expirationTime:i,issuedAt:s,notBefore:u,requestId:o,...l}=((m=t.match(Wi))==null?void 0:m.groups)??{},c=(h=t.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...l,...a?{chainId:Number(a)}:{},...i?{expirationTime:new Date(i)}:{},...s?{issuedAt:new Date(s)}:{},...u?{notBefore:new Date(u)}:{},...o?{requestId:o}:{},...c?{resources:c}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const Gi=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Wi=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Yi(t){const{address:e,domain:n,message:r,nonce:a,scheme:i,time:s=new Date}=t;if(n&&r.domain!==n||a&&r.nonce!==a||i&&r.scheme!==i||r.expirationTime&&s>=r.expirationTime||r.notBefore&&s<r.notBefore)return!1;try{if(!r.address||e&&!fe(r.address,e))return!1}catch{return!1}return!0}async function Zi(t,e){const{address:n,domain:r,message:a,nonce:i,scheme:s,signature:u,time:o=new Date,...l}=e,c=Qi(a);if(!c.address||!Yi({address:n,domain:r,message:c,nonce:i,scheme:s,time:o}))return!1;const m=Sn(a);return me(t,{address:c.address,hash:m,signature:u,...l})}function Ki(t){return{call:e=>oe(t,e),createBlockFilter:()=>pi(t),createContractEventFilter:e=>mn(t,e),createEventFilter:e=>yn(t,e),createPendingTransactionFilter:()=>xn(t),estimateContractGas:e=>ii(t,e),estimateGas:e=>tn(t,e),getBalance:e=>Ir(t,e),getBlobBaseFee:()=>di(t),getBlock:e=>Pt(t,e),getBlockNumber:e=>Vt(t,e),getBlockTransactionCount:e=>mi(t,e),getBytecode:e=>Be(t,e),getChainId:()=>Tr(t),getCode:e=>Be(t,e),getContractEvents:e=>gn(t,e),getEip712Domain:e=>ci(t,e),getEnsAddress:e=>Er(t,e),getEnsAvatar:e=>Ar(t,e),getEnsName:e=>Fr(t,e),getEnsResolver:e=>hi(t,e),getEnsText:e=>Pr(t,e),getFeeHistory:e=>yi(t,e),estimateFeesPerGas:e=>vr(t,e),getFilterChanges:e=>Ut(t,e),getFilterLogs:e=>xi(t,e),getGasPrice:()=>zr(t),getLogs:e=>de(t,e),getProof:e=>Ri(t,e),estimateMaxPriorityFeePerGas:e=>_r(t,e),getStorageAt:e=>Mi(t,e),getTransaction:e=>fn(t,e),getTransactionConfirmations:e=>qi(t,e),getTransactionCount:e=>Br(t,e),getTransactionReceipt:e=>Nr(t,e),multicall:e=>Dr(t,e),prepareTransactionRequest:e=>Lr(t,e),readContract:e=>le(t,e),sendRawTransaction:e=>Rr(t,e),simulateContract:e=>ui(t,e),verifyMessage:e=>Hi(t,e),verifySiweMessage:e=>Zi(t,e),verifyTypedData:e=>ji(t,e),uninstallFilter:e=>Qt(t,e),waitForTransactionReceipt:e=>Mr(t,e),watchBlocks:e=>Vi(t,e),watchBlockNumber:e=>qr(t,e),watchContractEvent:e=>oi(t,e),watchEvent:e=>$i(t,e),watchPendingTransactions:e=>Ui(t,e)}}function Qu(t){const{key:e="public",name:n="Public Client"}=t;return Or({...t,key:e,name:n,type:"publicClient"}).extend(Ki)}function Ne(t){return t.state.chainId}function Ji(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function Xi(t){return JSON.stringify(t,(e,n)=>ta(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):typeof n=="bigint"?n.toString():n)}function ta(t){if(!De(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!De(n)||!n.hasOwnProperty("isPrototypeOf"))}function De(t){return Object.prototype.toString.call(t)==="[object Object]"}function Gu(t){const{_defaulted:e,behavior:n,gcTime:r,initialData:a,initialDataUpdatedAt:i,maxPages:s,meta:u,networkMode:o,queryFn:l,queryHash:c,queryKey:f,queryKeyHashFn:m,retry:h,retryDelay:w,structuralSharing:b,getPreviousPageParam:S,getNextPageParam:g,initialPageParam:I,_optimisticResults:k,enabled:A,notifyOnChangeProps:B,placeholderData:x,refetchInterval:F,refetchIntervalInBackground:v,refetchOnMount:P,refetchOnReconnect:R,refetchOnWindowFocus:T,retryOnMount:E,select:M,staleTime:V,suspense:D,throwOnError:Q,config:U,connector:X,query:at,...p}=t;return p}function Wu(t){const e=Zr({...t,queryKeyHashFn:Xi});return e.queryKey=t.queryKey,e}function Yu(t={}){const e=Kr(t);return N.useSyncExternalStore(n=>Ji(e,{onChange:n}),()=>Ne(e),()=>Ne(e))}var[Gt,Zu]=Hr("Tooltip",[dn]),Wt=dn(),Tn="TooltipProvider",ea=700,te="tooltip.open",[na,ge]=Gt(Tn),En=t=>{const{__scopeTooltip:e,delayDuration:n=ea,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=t,[s,u]=N.useState(!0),o=N.useRef(!1),l=N.useRef(0);return N.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),$.jsx(na,{scope:e,isOpenDelayed:s,delayDuration:n,onOpen:N.useCallback(()=>{window.clearTimeout(l.current),u(!1)},[]),onClose:N.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>u(!0),r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:N.useCallback(c=>{o.current=c},[]),disableHoverableContent:a,children:i})};En.displayName=Tn;var Yt="Tooltip",[ra,Lt]=Gt(Yt),An=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:s,delayDuration:u}=t,o=ge(Yt,t.__scopeTooltip),l=Wt(e),[c,f]=N.useState(null),m=Qr(),h=N.useRef(0),w=s??o.disableHoverableContent,b=u??o.delayDuration,S=N.useRef(!1),[g=!1,I]=Gr({prop:r,defaultProp:a,onChange:F=>{F?(o.onOpen(),document.dispatchEvent(new CustomEvent(te))):o.onClose(),i==null||i(F)}}),k=N.useMemo(()=>g?S.current?"delayed-open":"instant-open":"closed",[g]),A=N.useCallback(()=>{window.clearTimeout(h.current),h.current=0,S.current=!1,I(!0)},[I]),B=N.useCallback(()=>{window.clearTimeout(h.current),h.current=0,I(!1)},[I]),x=N.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{S.current=!0,I(!0),h.current=0},b)},[b,I]);return N.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),$.jsx(ei,{...l,children:$.jsx(ra,{scope:e,contentId:m,open:g,stateAttribute:k,trigger:c,onTriggerChange:f,onTriggerEnter:N.useCallback(()=>{o.isOpenDelayed?x():A()},[o.isOpenDelayed,x,A]),onTriggerLeave:N.useCallback(()=>{w?B():(window.clearTimeout(h.current),h.current=0)},[B,w]),onOpen:A,onClose:B,disableHoverableContent:w,children:n})})};An.displayName=Yt;var ee="TooltipTrigger",Fn=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,a=Lt(ee,n),i=ge(ee,n),s=Wt(n),u=N.useRef(null),o=hn(e,u,a.onTriggerChange),l=N.useRef(!1),c=N.useRef(!1),f=N.useCallback(()=>l.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),$.jsx(Jr,{asChild:!0,...s,children:$.jsx(jr.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:o,onPointerMove:wt(t.onPointerMove,m=>{m.pointerType!=="touch"&&!c.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),c.current=!0)}),onPointerLeave:wt(t.onPointerLeave,()=>{a.onTriggerLeave(),c.current=!1}),onPointerDown:wt(t.onPointerDown,()=>{l.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:wt(t.onFocus,()=>{l.current||a.onOpen()}),onBlur:wt(t.onBlur,a.onClose),onClick:wt(t.onClick,a.onClose)})})});Fn.displayName=ee;var ye="TooltipPortal",[ia,aa]=Gt(ye,{forceMount:void 0}),Pn=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:a}=t,i=Lt(ye,e);return $.jsx(ia,{scope:e,forceMount:n,children:$.jsx(pn,{present:n||i.open,children:$.jsx(ni,{asChild:!0,container:a,children:r})})})};Pn.displayName=ye;var It="TooltipContent",vn=N.forwardRef((t,e)=>{const n=aa(It,t.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=t,s=Lt(It,t.__scopeTooltip);return $.jsx(pn,{present:r||s.open,children:s.disableHoverableContent?$.jsx(zn,{side:a,...i,ref:e}):$.jsx(sa,{side:a,...i,ref:e})})}),sa=N.forwardRef((t,e)=>{const n=Lt(It,t.__scopeTooltip),r=ge(It,t.__scopeTooltip),a=N.useRef(null),i=hn(e,a),[s,u]=N.useState(null),{trigger:o,onClose:l}=n,c=a.current,{onPointerInTransitChange:f}=r,m=N.useCallback(()=>{u(null),f(!1)},[f]),h=N.useCallback((w,b)=>{const S=w.currentTarget,g={x:w.clientX,y:w.clientY},I=la(g,S.getBoundingClientRect()),k=ca(g,I),A=fa(b.getBoundingClientRect()),B=pa([...k,...A]);u(B),f(!0)},[f]);return N.useEffect(()=>()=>m(),[m]),N.useEffect(()=>{if(o&&c){const w=S=>h(S,c),b=S=>h(S,o);return o.addEventListener("pointerleave",w),c.addEventListener("pointerleave",b),()=>{o.removeEventListener("pointerleave",w),c.removeEventListener("pointerleave",b)}}},[o,c,h,m]),N.useEffect(()=>{if(s){const w=b=>{const S=b.target,g={x:b.clientX,y:b.clientY},I=(o==null?void 0:o.contains(S))||(c==null?void 0:c.contains(S)),k=!ha(g,s);I?m():k&&(m(),l())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[o,c,s,l,m]),$.jsx(zn,{...t,ref:i})}),[ua,oa]=Gt(Yt,{isInside:!1}),zn=N.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:s,...u}=t,o=Lt(It,n),l=Wt(n),{onClose:c}=o;return N.useEffect(()=>(document.addEventListener(te,c),()=>document.removeEventListener(te,c)),[c]),N.useEffect(()=>{if(o.trigger){const f=m=>{const h=m.target;h!=null&&h.contains(o.trigger)&&c()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[o.trigger,c]),$.jsx(Vr,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:c,children:$.jsxs(Xr,{"data-state":o.stateAttribute,...l,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[$.jsx($r,{children:r}),$.jsx(ua,{scope:n,isInside:!0,children:$.jsx(Ur,{id:o.contentId,role:"tooltip",children:a||r})})]})})});vn.displayName=It;var _n="TooltipArrow",Bn=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,a=Wt(n);return oa(_n,n).isInside?null:$.jsx(ti,{...a,...r,ref:e})});Bn.displayName=_n;function la(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ca(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function fa(t){const{top:e,right:n,bottom:r,left:a}=t;return[{x:a,y:e},{x:n,y:e},{x:n,y:r},{x:a,y:r}]}function ha(t,e){const{x:n,y:r}=t;let a=!1;for(let i=0,s=e.length-1;i<e.length;s=i++){const u=e[i].x,o=e[i].y,l=e[s].x,c=e[s].y;o>r!=c>r&&n<(l-u)*(r-o)/(c-o)+u&&(a=!a)}return a}function pa(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),da(e)}function da(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const a=t[r];for(;e.length>=2;){const i=e[e.length-1],s=e[e.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))e.pop();else break}e.push(a)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const a=t[r];for(;n.length>=2;){const i=n[n.length-1],s=n[n.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))n.pop();else break}n.push(a)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var ma=En,ga=An,ya=Fn,xa=Pn,Nn=vn,ba=Bn;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const Ku=ma,Ju=ga,Xu=ya,to=ba,ka=N.forwardRef(({className:t,sideOffset:e=4,...n},r)=>$.jsx(xa,{children:$.jsx(Nn,{ref:r,sideOffset:e,className:Wr("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));ka.displayName=Nn.displayName;function ot(t,e,n,r){const a=t.length;let i=0,s;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);i<r.length;)s=r.slice(i,i+1e4),s.unshift(e,0),t.splice(...s),i+=1e4,e+=1e4}function tt(t,e){return t.length>0?(ot(t,t.length,0,e),t):e}const st=dt(/[A-Za-z]/),it=dt(/[\dA-Za-z]/),wa=dt(/[#-'*+\--9=?A-Z^-~]/);function ne(t){return t!==null&&(t<32||t===127)}const re=dt(/\d/),Ca=dt(/[\dA-Fa-f]/),Sa=dt(/[!-/:-@[-`{-~]/);function z(t){return t!==null&&t<-2}function Y(t){return t!==null&&(t<0||t===32)}function q(t){return t===-2||t===-1||t===32}const Ia=dt(new RegExp("\\p{P}|\\p{S}","u")),Ta=dt(/\s/);function dt(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Le(t){if(t===null||Y(t)||Ta(t))return 1;if(Ia(t))return 2}function xe(t,e,n){const r=[];let a=-1;for(;++a<t.length;){const i=t[a].resolveAll;i&&!r.includes(i)&&(e=i(e,n),r.push(i))}return e}function eo(){}function no(){}const Re=document.createElement("i");function be(t){const e="&"+t+";";Re.innerHTML=e;const n=Re.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function vt(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Me(t.position):"start"in t||"end"in t?Me(t):"line"in t||"column"in t?ie(t):""}function ie(t){return qe(t&&t.line)+":"+qe(t&&t.column)}function Me(t){return ie(t&&t.start)+"-"+ie(t&&t.end)}function qe(t){return t&&typeof t=="number"?t:1}class J extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},s=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof e=="string"?a=e:!i.cause&&e&&(s=!0,a=e.message,i.cause=e),!i.ruleId&&!i.source&&typeof r=="string"){const o=r.indexOf(":");o===-1?i.ruleId=r:(i.source=r.slice(0,o),i.ruleId=r.slice(o+1))}if(!i.place&&i.ancestors&&i.ancestors){const o=i.ancestors[i.ancestors.length-1];o&&(i.place=o.position)}const u=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=u?u.line:void 0,this.name=vt(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=s&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}J.prototype.file="";J.prototype.name="";J.prototype.reason="";J.prototype.message="";J.prototype.stack="";J.prototype.column=void 0;J.prototype.line=void 0;J.prototype.ancestors=void 0;J.prototype.cause=void 0;J.prototype.fatal=void 0;J.prototype.place=void 0;J.prototype.ruleId=void 0;J.prototype.source=void 0;const Ea=/[$_\p{ID_Start}]/u,Aa=/[$_\u{200C}\u{200D}\p{ID_Continue}]/u,Fa=/[-$_\u{200C}\u{200D}\p{ID_Continue}]/u,Pa=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,va=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Dn={};function ro(t){return t?Ea.test(String.fromCodePoint(t)):!1}function io(t,e){const r=(e||Dn).jsx?Fa:Aa;return t?r.test(String.fromCodePoint(t)):!1}function ao(t,e){return(Dn.jsx?va:Pa).test(t)}function H(t,e,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return s;function s(o){return q(o)?(t.enter(n),u(o)):e(o)}function u(o){return q(o)&&i++<a?(t.consume(o),u):(t.exit(n),e(o))}}const Ln=function(t){if(t==null)return Na;if(typeof t=="function")return Zt(t);if(typeof t=="object")return Array.isArray(t)?za(t):_a(t);if(typeof t=="string")return Ba(t);throw new Error("Expected function, string, or object as test")};function za(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Ln(t[n]);return Zt(r);function r(...a){let i=-1;for(;++i<e.length;)if(e[i].apply(this,a))return!0;return!1}}function _a(t){const e=t;return Zt(n);function n(r){const a=r;let i;for(i in t)if(a[i]!==e[i])return!1;return!0}}function Ba(t){return Zt(e);function e(n){return n&&n.type===t}}function Zt(t){return e;function e(n,r,a){return!!(Da(n)&&t.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function Na(){return!0}function Da(t){return t!==null&&typeof t=="object"&&"type"in t}const Rn=[],La=!0,Oe=!1,Ra="skip";function Ma(t,e,n,r){let a;typeof e=="function"&&typeof n!="function"?(r=n,n=e):a=e;const i=Ln(a),s=r?-1:1;u(t,void 0,[])();function u(o,l,c){const f=o&&typeof o=="object"?o:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(o.type+(h?"<"+h+">":""))+")"})}return m;function m(){let h=Rn,w,b,S;if((!e||i(o,l,c[c.length-1]||void 0))&&(h=qa(n(o,c)),h[0]===Oe))return h;if("children"in o&&o.children){const g=o;if(g.children&&h[0]!==Ra)for(b=(r?g.children.length:-1)+s,S=c.concat(g);b>-1&&b<g.children.length;){const I=g.children[b];if(w=u(I,b,S)(),w[0]===Oe)return w;b=typeof w[1]=="number"?w[1]:b+s}}return h}}}function qa(t){return Array.isArray(t)?t:typeof t=="number"?[La,t]:t==null?Rn:[t]}function so(t,e,n,r){let a,i,s;typeof e=="function"&&typeof n!="function"?(i=void 0,s=e,a=n):(i=e,s=n,a=r),Ma(t,i,u,a);function u(o,l){const c=l[l.length-1],f=c?c.children.indexOf(o):void 0;return s(o,f,c)}}const Oa={};function Ha(t,e){const n=Oa,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Mn(t,r,a)}function Mn(t,e,n){if(ja(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return He(t.children,e,n)}return Array.isArray(t)?He(t,e,n):""}function He(t,e,n){const r=[];let a=-1;for(;++a<t.length;)r[a]=Mn(t[a],e,n);return r.join("")}function ja(t){return!!(t&&typeof t=="object")}function qn(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCodePoint(n)}const Va=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function $a(t){return t.replace(Va,Ua)}function Ua(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),i=a===120||a===88;return qn(n.slice(i?2:1),i?16:10)}return be(n)||t}const je={}.hasOwnProperty;function Qa(t){const e={};let n=-1;for(;++n<t.length;)Ga(e,t[n]);return e}function Ga(t,e){let n;for(n in e){const a=(je.call(t,n)?t[n]:void 0)||(t[n]={}),i=e[n];let s;if(i)for(s in i){je.call(a,s)||(a[s]=[]);const u=i[s];Wa(a[s],Array.isArray(u)?u:u?[u]:[])}}}function Wa(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ot(t,0,0,r)}function Ct(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ya={tokenize:Za};function Za(t){const e=t.attempt(this.parser.constructs.contentInitial,r,a);let n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),H(t,e,"linePrefix")}function a(u){return t.enter("paragraph"),i(u)}function i(u){const o=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=o),n=o,s(u)}function s(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return z(u)?(t.consume(u),t.exit("chunkText"),i):(t.consume(u),s)}}const Ka={tokenize:Ja},Ve={tokenize:Xa};function Ja(t){const e=this,n=[];let r=0,a,i,s;return u;function u(k){if(r<n.length){const A=n[r];return e.containerState=A[1],t.attempt(A[0].continuation,o,l)(k)}return l(k)}function o(k){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&I();const A=e.events.length;let B=A,x;for(;B--;)if(e.events[B][0]==="exit"&&e.events[B][1].type==="chunkFlow"){x=e.events[B][1].end;break}g(r);let F=A;for(;F<e.events.length;)e.events[F][1].end={...x},F++;return ot(e.events,B+1,0,e.events.slice(A)),e.events.length=F,l(k)}return u(k)}function l(k){if(r===n.length){if(!a)return m(k);if(a.currentConstruct&&a.currentConstruct.concrete)return w(k);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Ve,c,f)(k)}function c(k){return a&&I(),g(r),m(k)}function f(k){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,w(k)}function m(k){return e.containerState={},t.attempt(Ve,h,w)(k)}function h(k){return r++,n.push([e.currentConstruct,e.containerState]),m(k)}function w(k){if(k===null){a&&I(),g(0),t.consume(k);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),b(k)}function b(k){if(k===null){S(t.exit("chunkFlow"),!0),g(0),t.consume(k);return}return z(k)?(t.consume(k),S(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(k),b)}function S(k,A){const B=e.sliceStream(k);if(A&&B.push(null),k.previous=i,i&&(i.next=k),i=k,a.defineSkip(k.start),a.write(B),e.parser.lazy[k.start.line]){let x=a.events.length;for(;x--;)if(a.events[x][1].start.offset<s&&(!a.events[x][1].end||a.events[x][1].end.offset>s))return;const F=e.events.length;let v=F,P,R;for(;v--;)if(e.events[v][0]==="exit"&&e.events[v][1].type==="chunkFlow"){if(P){R=e.events[v][1].end;break}P=!0}for(g(r),x=F;x<e.events.length;)e.events[x][1].end={...R},x++;ot(e.events,v+1,0,e.events.slice(F)),e.events.length=x}}function g(k){let A=n.length;for(;A-- >k;){const B=n[A];e.containerState=B[1],B[0].exit.call(e,t)}n.length=k}function I(){a.write([null]),i=void 0,a=void 0,e.containerState._closeFlow=void 0}}function Xa(t,e,n){return H(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const ae={name:"attention",resolveAll:ts,tokenize:es};function ts(t,e){let n=-1,r,a,i,s,u,o,l,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;o=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},m={...t[n][1].start};$e(f,-o),$e(m,o),s={type:o>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},u={type:o>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:m},i={type:o>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},a={type:o>1?"strong":"emphasis",start:{...s.start},end:{...u.end}},t[r][1].end={...s.start},t[n][1].start={...u.end},l=[],t[r][1].end.offset-t[r][1].start.offset&&(l=tt(l,[["enter",t[r][1],e],["exit",t[r][1],e]])),l=tt(l,[["enter",a,e],["enter",s,e],["exit",s,e],["enter",i,e]]),l=tt(l,xe(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),l=tt(l,[["exit",i,e],["enter",u,e],["exit",u,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,l=tt(l,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,ot(t,r-1,n-r+3,l),n=r+l.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function es(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Le(r);let i;return s;function s(o){return i=o,t.enter("attentionSequence"),u(o)}function u(o){if(o===i)return t.consume(o),u;const l=t.exit("attentionSequence"),c=Le(o),f=!c||c===2&&a||n.includes(o),m=!a||a===2&&c||n.includes(r);return l._open=!!(i===42?f:f&&(a||!m)),l._close=!!(i===42?m:m&&(c||!f)),e(o)}}function $e(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const ns={name:"autolink",tokenize:rs};function rs(t,e,n){let r=0;return a;function a(h){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),i}function i(h){return st(h)?(t.consume(h),s):h===64?n(h):l(h)}function s(h){return h===43||h===45||h===46||it(h)?(r=1,u(h)):l(h)}function u(h){return h===58?(t.consume(h),r=0,o):(h===43||h===45||h===46||it(h))&&r++<32?(t.consume(h),u):(r=0,l(h))}function o(h){return h===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):h===null||h===32||h===60||ne(h)?n(h):(t.consume(h),o)}function l(h){return h===64?(t.consume(h),c):wa(h)?(t.consume(h),l):n(h)}function c(h){return it(h)?f(h):n(h)}function f(h){return h===46?(t.consume(h),r=0,c):h===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):m(h)}function m(h){if((h===45||it(h))&&r++<63){const w=h===45?m:f;return t.consume(h),w}return n(h)}}const Kt={partial:!0,tokenize:is};function is(t,e,n){return r;function r(i){return q(i)?H(t,a,"linePrefix")(i):a(i)}function a(i){return i===null||z(i)?e(i):n(i)}}const On={continuation:{tokenize:ss},exit:us,name:"blockQuote",tokenize:as};function as(t,e,n){const r=this;return a;function a(s){if(s===62){const u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),i}return n(s)}function i(s){return q(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function ss(t,e,n){const r=this;return a;function a(s){return q(s)?H(t,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):i(s)}function i(s){return t.attempt(On,e,n)(s)}}function us(t){t.exit("blockQuote")}const Hn={name:"characterEscape",tokenize:os};function os(t,e,n){return r;function r(i){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(i),t.exit("escapeMarker"),a}function a(i){return Sa(i)?(t.enter("characterEscapeValue"),t.consume(i),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(i)}}const jn={name:"characterReference",tokenize:ls};function ls(t,e,n){const r=this;let a=0,i,s;return u;function u(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),o}function o(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),l):(t.enter("characterReferenceValue"),i=31,s=it,c(f))}function l(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),i=6,s=Ca,c):(t.enter("characterReferenceValue"),i=7,s=re,c(f))}function c(f){if(f===59&&a){const m=t.exit("characterReferenceValue");return s===it&&!be(r.sliceSerialize(m))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(f)&&a++<i?(t.consume(f),c):n(f)}}const Ue={partial:!0,tokenize:fs},Qe={concrete:!0,name:"codeFenced",tokenize:cs};function cs(t,e,n){const r=this,a={partial:!0,tokenize:B};let i=0,s=0,u;return o;function o(x){return l(x)}function l(x){const F=r.events[r.events.length-1];return i=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,u=x,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(x)}function c(x){return x===u?(s++,t.consume(x),c):s<3?n(x):(t.exit("codeFencedFenceSequence"),q(x)?H(t,f,"whitespace")(x):f(x))}function f(x){return x===null||z(x)?(t.exit("codeFencedFence"),r.interrupt?e(x):t.check(Ue,b,A)(x)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===null||z(x)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(x)):q(x)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),H(t,h,"whitespace")(x)):x===96&&x===u?n(x):(t.consume(x),m)}function h(x){return x===null||z(x)?f(x):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),w(x))}function w(x){return x===null||z(x)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(x)):x===96&&x===u?n(x):(t.consume(x),w)}function b(x){return t.attempt(a,A,S)(x)}function S(x){return t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),g}function g(x){return i>0&&q(x)?H(t,I,"linePrefix",i+1)(x):I(x)}function I(x){return x===null||z(x)?t.check(Ue,b,A)(x):(t.enter("codeFlowValue"),k(x))}function k(x){return x===null||z(x)?(t.exit("codeFlowValue"),I(x)):(t.consume(x),k)}function A(x){return t.exit("codeFenced"),e(x)}function B(x,F,v){let P=0;return R;function R(D){return x.enter("lineEnding"),x.consume(D),x.exit("lineEnding"),T}function T(D){return x.enter("codeFencedFence"),q(D)?H(x,E,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):E(D)}function E(D){return D===u?(x.enter("codeFencedFenceSequence"),M(D)):v(D)}function M(D){return D===u?(P++,x.consume(D),M):P>=s?(x.exit("codeFencedFenceSequence"),q(D)?H(x,V,"whitespace")(D):V(D)):v(D)}function V(D){return D===null||z(D)?(x.exit("codeFencedFence"),F(D)):v(D)}}}function fs(t,e,n){const r=this;return a;function a(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i)}function i(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const Jt={name:"codeIndented",tokenize:ps},hs={partial:!0,tokenize:ds};function ps(t,e,n){const r=this;return a;function a(l){return t.enter("codeIndented"),H(t,i,"linePrefix",5)(l)}function i(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(l):n(l)}function s(l){return l===null?o(l):z(l)?t.attempt(hs,s,o)(l):(t.enter("codeFlowValue"),u(l))}function u(l){return l===null||z(l)?(t.exit("codeFlowValue"),s(l)):(t.consume(l),u)}function o(l){return t.exit("codeIndented"),e(l)}}function ds(t,e,n){const r=this;return a;function a(s){return r.parser.lazy[r.now().line]?n(s):z(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):H(t,i,"linePrefix",5)(s)}function i(s){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(s):z(s)?a(s):n(s)}}const ms={name:"codeText",previous:ys,resolve:gs,tokenize:xs};function gs(t){let e=t.length-4,n=3,r,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)a===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(a=r):(r===e||t[r][1].type==="lineEnding")&&(t[a][1].type="codeTextData",r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),e-=r-a-2,r=a+2),a=void 0);return t}function ys(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function xs(t,e,n){let r=0,a,i;return s;function s(f){return t.enter("codeText"),t.enter("codeTextSequence"),u(f)}function u(f){return f===96?(t.consume(f),r++,u):(t.exit("codeTextSequence"),o(f))}function o(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),o):f===96?(i=t.enter("codeTextSequence"),a=0,c(f)):z(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),o):(t.enter("codeTextData"),l(f))}function l(f){return f===null||f===32||f===96||z(f)?(t.exit("codeTextData"),o(f)):(t.consume(f),l)}function c(f){return f===96?(t.consume(f),a++,c):a===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(i.type="codeTextData",l(f))}}class bs{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const a=n||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Ft(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ft(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ft(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Ft(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ft(this.left,n.reverse())}}}function Ft(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Vn(t){const e={};let n=-1,r,a,i,s,u,o,l;const c=new bs(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(o=r[1]._tokenizer.events,i=0,i<o.length&&o[i][1].type==="lineEndingBlank"&&(i+=2),i<o.length&&o[i][1].type==="content"))for(;++i<o.length&&o[i][1].type!=="content";)o[i][1].type==="chunkText"&&(o[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,ks(c,n)),n=e[n],l=!0);else if(r[1]._container){for(i=n,a=void 0;i--&&(s=c.get(i),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(a&&(c.get(a)[1].type="lineEndingBlank"),s[1].type="lineEnding",a=i);a&&(r[1].end={...c.get(a)[1].start},u=c.slice(a,n),u.unshift(r),c.splice(a,n-a+1,u))}}return ot(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!l}function ks(t,e){const n=t.get(e)[1],r=t.get(e)[2];let a=e-1;const i=[],s=n._tokenizer||r.parser[n.contentType](n.start),u=s.events,o=[],l={};let c,f,m=-1,h=n,w=0,b=0;const S=[b];for(;h;){for(;t.get(++a)[1]!==h;);i.push(a),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),f&&s.defineSkip(h.start),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),h._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++m<u.length;)u[m][0]==="exit"&&u[m-1][0]==="enter"&&u[m][1].type===u[m-1][1].type&&u[m][1].start.line!==u[m][1].end.line&&(b=m+1,S.push(b),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(s.events=[],h?(h._tokenizer=void 0,h.previous=void 0):S.pop(),m=S.length;m--;){const g=u.slice(S[m],S[m+1]),I=i.pop();o.push([I,I+g.length-1]),t.splice(I,2,g)}for(o.reverse(),m=-1;++m<o.length;)l[w+o[m][0]]=w+o[m][1],w+=o[m][1]-o[m][0]-1;return l}const ws={resolve:Ss,tokenize:Is},Cs={partial:!0,tokenize:Ts};function Ss(t){return Vn(t),t}function Is(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(u)}function a(u){return u===null?i(u):z(u)?t.check(Cs,s,i)(u):(t.consume(u),a)}function i(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function s(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function Ts(t,e,n){const r=this;return a;function a(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),H(t,i,"linePrefix")}function i(s){if(s===null||z(s))return n(s);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function $n(t,e,n,r,a,i,s,u,o){const l=o||Number.POSITIVE_INFINITY;let c=0;return f;function f(g){return g===60?(t.enter(r),t.enter(a),t.enter(i),t.consume(g),t.exit(i),m):g===null||g===32||g===41||ne(g)?n(g):(t.enter(r),t.enter(s),t.enter(u),t.enter("chunkString",{contentType:"string"}),b(g))}function m(g){return g===62?(t.enter(i),t.consume(g),t.exit(i),t.exit(a),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===62?(t.exit("chunkString"),t.exit(u),m(g)):g===null||g===60||z(g)?n(g):(t.consume(g),g===92?w:h)}function w(g){return g===60||g===62||g===92?(t.consume(g),h):h(g)}function b(g){return!c&&(g===null||g===41||Y(g))?(t.exit("chunkString"),t.exit(u),t.exit(s),t.exit(r),e(g)):c<l&&g===40?(t.consume(g),c++,b):g===41?(t.consume(g),c--,b):g===null||g===32||g===40||ne(g)?n(g):(t.consume(g),g===92?S:b)}function S(g){return g===40||g===41||g===92?(t.consume(g),b):b(g)}}function Un(t,e,n,r,a,i){const s=this;let u=0,o;return l;function l(h){return t.enter(r),t.enter(a),t.consume(h),t.exit(a),t.enter(i),c}function c(h){return u>999||h===null||h===91||h===93&&!o||h===94&&!u&&"_hiddenFootnoteSupport"in s.parser.constructs?n(h):h===93?(t.exit(i),t.enter(a),t.consume(h),t.exit(a),t.exit(r),e):z(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||z(h)||u++>999?(t.exit("chunkString"),c(h)):(t.consume(h),o||(o=!q(h)),h===92?m:f)}function m(h){return h===91||h===92||h===93?(t.consume(h),u++,f):f(h)}}function Qn(t,e,n,r,a,i){let s;return u;function u(m){return m===34||m===39||m===40?(t.enter(r),t.enter(a),t.consume(m),t.exit(a),s=m===40?41:m,o):n(m)}function o(m){return m===s?(t.enter(a),t.consume(m),t.exit(a),t.exit(r),e):(t.enter(i),l(m))}function l(m){return m===s?(t.exit(i),o(s)):m===null?n(m):z(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),H(t,l,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(m))}function c(m){return m===s||m===null||z(m)?(t.exit("chunkString"),l(m)):(t.consume(m),m===92?f:c)}function f(m){return m===s||m===92?(t.consume(m),c):c(m)}}function zt(t,e){let n;return r;function r(a){return z(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,r):q(a)?H(t,r,n?"linePrefix":"lineSuffix")(a):e(a)}}const Es={name:"definition",tokenize:Fs},As={partial:!0,tokenize:Ps};function Fs(t,e,n){const r=this;let a;return i;function i(h){return t.enter("definition"),s(h)}function s(h){return Un.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function u(h){return a=Ct(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(t.enter("definitionMarker"),t.consume(h),t.exit("definitionMarker"),o):n(h)}function o(h){return Y(h)?zt(t,l)(h):l(h)}function l(h){return $n(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function c(h){return t.attempt(As,f,f)(h)}function f(h){return q(h)?H(t,m,"whitespace")(h):m(h)}function m(h){return h===null||z(h)?(t.exit("definition"),r.parser.defined.push(a),e(h)):n(h)}}function Ps(t,e,n){return r;function r(u){return Y(u)?zt(t,a)(u):n(u)}function a(u){return Qn(t,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function i(u){return q(u)?H(t,s,"whitespace")(u):s(u)}function s(u){return u===null||z(u)?e(u):n(u)}}const vs={name:"hardBreakEscape",tokenize:zs};function zs(t,e,n){return r;function r(i){return t.enter("hardBreakEscape"),t.consume(i),a}function a(i){return z(i)?(t.exit("hardBreakEscape"),e(i)):n(i)}}const _s={name:"headingAtx",resolve:Bs,tokenize:Ns};function Bs(t,e){let n=t.length-2,r=3,a,i;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},i={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ot(t,r,n-r+1,[["enter",a,e],["enter",i,e],["exit",i,e],["exit",a,e]])),t}function Ns(t,e,n){let r=0;return a;function a(c){return t.enter("atxHeading"),i(c)}function i(c){return t.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(t.consume(c),s):c===null||Y(c)?(t.exit("atxHeadingSequence"),u(c)):n(c)}function u(c){return c===35?(t.enter("atxHeadingSequence"),o(c)):c===null||z(c)?(t.exit("atxHeading"),e(c)):q(c)?H(t,u,"whitespace")(c):(t.enter("atxHeadingText"),l(c))}function o(c){return c===35?(t.consume(c),o):(t.exit("atxHeadingSequence"),u(c))}function l(c){return c===null||c===35||Y(c)?(t.exit("atxHeadingText"),u(c)):(t.consume(c),l)}}const Ds=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ge=["pre","script","style","textarea"],Ls={concrete:!0,name:"htmlFlow",resolveTo:qs,tokenize:Os},Rs={partial:!0,tokenize:js},Ms={partial:!0,tokenize:Hs};function qs(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Os(t,e,n){const r=this;let a,i,s,u,o;return l;function l(d){return c(d)}function c(d){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(d),f}function f(d){return d===33?(t.consume(d),m):d===47?(t.consume(d),i=!0,b):d===63?(t.consume(d),a=3,r.interrupt?e:p):st(d)?(t.consume(d),s=String.fromCharCode(d),S):n(d)}function m(d){return d===45?(t.consume(d),a=2,h):d===91?(t.consume(d),a=5,u=0,w):st(d)?(t.consume(d),a=4,r.interrupt?e:p):n(d)}function h(d){return d===45?(t.consume(d),r.interrupt?e:p):n(d)}function w(d){const nt="CDATA[";return d===nt.charCodeAt(u++)?(t.consume(d),u===nt.length?r.interrupt?e:E:w):n(d)}function b(d){return st(d)?(t.consume(d),s=String.fromCharCode(d),S):n(d)}function S(d){if(d===null||d===47||d===62||Y(d)){const nt=d===47,mt=s.toLowerCase();return!nt&&!i&&Ge.includes(mt)?(a=1,r.interrupt?e(d):E(d)):Ds.includes(s.toLowerCase())?(a=6,nt?(t.consume(d),g):r.interrupt?e(d):E(d)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(d):i?I(d):k(d))}return d===45||it(d)?(t.consume(d),s+=String.fromCharCode(d),S):n(d)}function g(d){return d===62?(t.consume(d),r.interrupt?e:E):n(d)}function I(d){return q(d)?(t.consume(d),I):R(d)}function k(d){return d===47?(t.consume(d),R):d===58||d===95||st(d)?(t.consume(d),A):q(d)?(t.consume(d),k):R(d)}function A(d){return d===45||d===46||d===58||d===95||it(d)?(t.consume(d),A):B(d)}function B(d){return d===61?(t.consume(d),x):q(d)?(t.consume(d),B):k(d)}function x(d){return d===null||d===60||d===61||d===62||d===96?n(d):d===34||d===39?(t.consume(d),o=d,F):q(d)?(t.consume(d),x):v(d)}function F(d){return d===o?(t.consume(d),o=null,P):d===null||z(d)?n(d):(t.consume(d),F)}function v(d){return d===null||d===34||d===39||d===47||d===60||d===61||d===62||d===96||Y(d)?B(d):(t.consume(d),v)}function P(d){return d===47||d===62||q(d)?k(d):n(d)}function R(d){return d===62?(t.consume(d),T):n(d)}function T(d){return d===null||z(d)?E(d):q(d)?(t.consume(d),T):n(d)}function E(d){return d===45&&a===2?(t.consume(d),Q):d===60&&a===1?(t.consume(d),U):d===62&&a===4?(t.consume(d),et):d===63&&a===3?(t.consume(d),p):d===93&&a===5?(t.consume(d),at):z(d)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(Rs,lt,M)(d)):d===null||z(d)?(t.exit("htmlFlowData"),M(d)):(t.consume(d),E)}function M(d){return t.check(Ms,V,lt)(d)}function V(d){return t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),D}function D(d){return d===null||z(d)?M(d):(t.enter("htmlFlowData"),E(d))}function Q(d){return d===45?(t.consume(d),p):E(d)}function U(d){return d===47?(t.consume(d),s="",X):E(d)}function X(d){if(d===62){const nt=s.toLowerCase();return Ge.includes(nt)?(t.consume(d),et):E(d)}return st(d)&&s.length<8?(t.consume(d),s+=String.fromCharCode(d),X):E(d)}function at(d){return d===93?(t.consume(d),p):E(d)}function p(d){return d===62?(t.consume(d),et):d===45&&a===2?(t.consume(d),p):E(d)}function et(d){return d===null||z(d)?(t.exit("htmlFlowData"),lt(d)):(t.consume(d),et)}function lt(d){return t.exit("htmlFlow"),e(d)}}function Hs(t,e,n){const r=this;return a;function a(s){return z(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):n(s)}function i(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function js(t,e,n){return r;function r(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(Kt,e,n)}}const Vs={name:"htmlText",tokenize:$s};function $s(t,e,n){const r=this;let a,i,s;return u;function u(p){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(p),o}function o(p){return p===33?(t.consume(p),l):p===47?(t.consume(p),B):p===63?(t.consume(p),k):st(p)?(t.consume(p),v):n(p)}function l(p){return p===45?(t.consume(p),c):p===91?(t.consume(p),i=0,w):st(p)?(t.consume(p),I):n(p)}function c(p){return p===45?(t.consume(p),h):n(p)}function f(p){return p===null?n(p):p===45?(t.consume(p),m):z(p)?(s=f,U(p)):(t.consume(p),f)}function m(p){return p===45?(t.consume(p),h):f(p)}function h(p){return p===62?Q(p):p===45?m(p):f(p)}function w(p){const et="CDATA[";return p===et.charCodeAt(i++)?(t.consume(p),i===et.length?b:w):n(p)}function b(p){return p===null?n(p):p===93?(t.consume(p),S):z(p)?(s=b,U(p)):(t.consume(p),b)}function S(p){return p===93?(t.consume(p),g):b(p)}function g(p){return p===62?Q(p):p===93?(t.consume(p),g):b(p)}function I(p){return p===null||p===62?Q(p):z(p)?(s=I,U(p)):(t.consume(p),I)}function k(p){return p===null?n(p):p===63?(t.consume(p),A):z(p)?(s=k,U(p)):(t.consume(p),k)}function A(p){return p===62?Q(p):k(p)}function B(p){return st(p)?(t.consume(p),x):n(p)}function x(p){return p===45||it(p)?(t.consume(p),x):F(p)}function F(p){return z(p)?(s=F,U(p)):q(p)?(t.consume(p),F):Q(p)}function v(p){return p===45||it(p)?(t.consume(p),v):p===47||p===62||Y(p)?P(p):n(p)}function P(p){return p===47?(t.consume(p),Q):p===58||p===95||st(p)?(t.consume(p),R):z(p)?(s=P,U(p)):q(p)?(t.consume(p),P):Q(p)}function R(p){return p===45||p===46||p===58||p===95||it(p)?(t.consume(p),R):T(p)}function T(p){return p===61?(t.consume(p),E):z(p)?(s=T,U(p)):q(p)?(t.consume(p),T):P(p)}function E(p){return p===null||p===60||p===61||p===62||p===96?n(p):p===34||p===39?(t.consume(p),a=p,M):z(p)?(s=E,U(p)):q(p)?(t.consume(p),E):(t.consume(p),V)}function M(p){return p===a?(t.consume(p),a=void 0,D):p===null?n(p):z(p)?(s=M,U(p)):(t.consume(p),M)}function V(p){return p===null||p===34||p===39||p===60||p===61||p===96?n(p):p===47||p===62||Y(p)?P(p):(t.consume(p),V)}function D(p){return p===47||p===62||Y(p)?P(p):n(p)}function Q(p){return p===62?(t.consume(p),t.exit("htmlTextData"),t.exit("htmlText"),e):n(p)}function U(p){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),X}function X(p){return q(p)?H(t,at,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(p):at(p)}function at(p){return t.enter("htmlTextData"),s(p)}}const ke={name:"labelEnd",resolveAll:Ws,resolveTo:Ys,tokenize:Zs},Us={tokenize:Ks},Qs={tokenize:Js},Gs={tokenize:Xs};function Ws(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",e+=a}}return t.length!==n.length&&ot(t,0,t.length,n),t}function Ys(t,e){let n=t.length,r=0,a,i,s,u;for(;n--;)if(a=t[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(s=n);const o={type:t[i][1].type==="labelLink"?"link":"image",start:{...t[i][1].start},end:{...t[t.length-1][1].end}},l={type:"label",start:{...t[i][1].start},end:{...t[s][1].end}},c={type:"labelText",start:{...t[i+r+2][1].end},end:{...t[s-2][1].start}};return u=[["enter",o,e],["enter",l,e]],u=tt(u,t.slice(i+1,i+r+3)),u=tt(u,[["enter",c,e]]),u=tt(u,xe(e.parser.constructs.insideSpan.null,t.slice(i+r+4,s-3),e)),u=tt(u,[["exit",c,e],t[s-2],t[s-1],["exit",l,e]]),u=tt(u,t.slice(s+1)),u=tt(u,[["exit",o,e]]),ot(t,i,t.length,u),t}function Zs(t,e,n){const r=this;let a=r.events.length,i,s;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return u;function u(m){return i?i._inactive?f(m):(s=r.parser.defined.includes(Ct(r.sliceSerialize({start:i.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),o):n(m)}function o(m){return m===40?t.attempt(Us,c,s?c:f)(m):m===91?t.attempt(Qs,c,s?l:f)(m):s?c(m):f(m)}function l(m){return t.attempt(Gs,c,f)(m)}function c(m){return e(m)}function f(m){return i._balanced=!0,n(m)}}function Ks(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),a}function a(f){return Y(f)?zt(t,i)(f):i(f)}function i(f){return f===41?c(f):$n(t,s,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Y(f)?zt(t,o)(f):c(f)}function u(f){return n(f)}function o(f){return f===34||f===39||f===40?Qn(t,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function l(f){return Y(f)?zt(t,c)(f):c(f)}function c(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function Js(t,e,n){const r=this;return a;function a(u){return Un.call(r,t,i,s,"reference","referenceMarker","referenceString")(u)}function i(u){return r.parser.defined.includes(Ct(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function s(u){return n(u)}}function Xs(t,e,n){return r;function r(i){return t.enter("reference"),t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),a}function a(i){return i===93?(t.enter("referenceMarker"),t.consume(i),t.exit("referenceMarker"),t.exit("reference"),e):n(i)}}const tu={name:"labelStartImage",resolveAll:ke.resolveAll,tokenize:eu};function eu(t,e,n){const r=this;return a;function a(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),i}function i(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),s):n(u)}function s(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const nu={name:"labelStartLink",resolveAll:ke.resolveAll,tokenize:ru};function ru(t,e,n){const r=this;return a;function a(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),i}function i(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const Xt={name:"lineEnding",tokenize:iu};function iu(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),H(t,e,"linePrefix")}}const Mt={name:"thematicBreak",tokenize:au};function au(t,e,n){let r=0,a;return i;function i(l){return t.enter("thematicBreak"),s(l)}function s(l){return a=l,u(l)}function u(l){return l===a?(t.enter("thematicBreakSequence"),o(l)):r>=3&&(l===null||z(l))?(t.exit("thematicBreak"),e(l)):n(l)}function o(l){return l===a?(t.consume(l),r++,o):(t.exit("thematicBreakSequence"),q(l)?H(t,u,"whitespace")(l):u(l))}}const W={continuation:{tokenize:lu},exit:fu,name:"list",tokenize:ou},su={partial:!0,tokenize:hu},uu={partial:!0,tokenize:cu};function ou(t,e,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,s=0;return u;function u(h){const w=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:re(h)){if(r.containerState.type||(r.containerState.type=w,t.enter(w,{_container:!0})),w==="listUnordered")return t.enter("listItemPrefix"),h===42||h===45?t.check(Mt,n,l)(h):l(h);if(!r.interrupt||h===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),o(h)}return n(h)}function o(h){return re(h)&&++s<10?(t.consume(h),o):(!r.interrupt||s<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(t.exit("listItemValue"),l(h)):n(h)}function l(h){return t.enter("listItemMarker"),t.consume(h),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,t.check(Kt,r.interrupt?n:c,t.attempt(su,m,f))}function c(h){return r.containerState.initialBlankLine=!0,i++,m(h)}function f(h){return q(h)?(t.enter("listItemPrefixWhitespace"),t.consume(h),t.exit("listItemPrefixWhitespace"),m):n(h)}function m(h){return r.containerState.size=i+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(h)}}function lu(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Kt,a,i);function a(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,H(t,e,"listItemIndent",r.containerState.size+1)(u)}function i(u){return r.containerState.furtherBlankLines||!q(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(uu,e,s)(u))}function s(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,H(t,t.attempt(W,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function cu(t,e,n){const r=this;return H(t,a,"listItemIndent",r.containerState.size+1);function a(i){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(i):n(i)}}function fu(t){t.exit(this.containerState.type)}function hu(t,e,n){const r=this;return H(t,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const s=r.events[r.events.length-1];return!q(i)&&s&&s[1].type==="listItemPrefixWhitespace"?e(i):n(i)}}const We={name:"setextUnderline",resolveTo:pu,tokenize:du};function pu(t,e){let n=t.length,r,a,i;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!i&&t[n][1].type==="definition"&&(i=n);const s={type:"setextHeading",start:{...t[a][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",i?(t.splice(a,0,["enter",s,e]),t.splice(i+1,0,["exit",t[r][1],e]),t[r][1].end={...t[i][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function du(t,e,n){const r=this;let a;return i;function i(l){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),a=l,s(l)):n(l)}function s(l){return t.enter("setextHeadingLineSequence"),u(l)}function u(l){return l===a?(t.consume(l),u):(t.exit("setextHeadingLineSequence"),q(l)?H(t,o,"lineSuffix")(l):o(l))}function o(l){return l===null||z(l)?(t.exit("setextHeadingLine"),e(l)):n(l)}}const mu={tokenize:gu};function gu(t){const e=this,n=t.attempt(Kt,r,t.attempt(this.parser.constructs.flowInitial,a,H(t,t.attempt(this.parser.constructs.flow,a,t.attempt(ws,a)),"linePrefix")));return n;function r(i){if(i===null){t.consume(i);return}return t.enter("lineEndingBlank"),t.consume(i),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(i){if(i===null){t.consume(i);return}return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const yu={resolveAll:Wn()},xu=Gn("string"),bu=Gn("text");function Gn(t){return{resolveAll:Wn(t==="text"?ku:void 0),tokenize:e};function e(n){const r=this,a=this.parser.constructs[t],i=n.attempt(a,s,u);return s;function s(c){return l(c)?i(c):u(c)}function u(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),o}function o(c){return l(c)?(n.exit("data"),i(c)):(n.consume(c),o)}function l(c){if(c===null)return!0;const f=a[c];let m=-1;if(f)for(;++m<f.length;){const h=f[m];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function Wn(t){return e;function e(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return t?t(n,r):n}}function ku(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],a=e.sliceStream(r);let i=a.length,s=-1,u=0,o;for(;i--;){const l=a[i];if(typeof l=="string"){for(s=l.length;l.charCodeAt(s-1)===32;)u++,s--;if(s)break;s=-1}else if(l===-2)o=!0,u++;else if(l!==-1){i++;break}}if(u){const l={type:n===t.length||o||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?s:r.start._bufferIndex+s,_index:r.start._index+i,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...l.start},r.start.offset===r.end.offset?Object.assign(r,l):(t.splice(n,0,["enter",l,e],["exit",l,e]),n+=2)}n++}return t}const wu={42:W,43:W,45:W,48:W,49:W,50:W,51:W,52:W,53:W,54:W,55:W,56:W,57:W,62:On},Cu={91:Es},Su={[-2]:Jt,[-1]:Jt,32:Jt},Iu={35:_s,42:Mt,45:[We,Mt],60:Ls,61:We,95:Mt,96:Qe,126:Qe},Tu={38:jn,92:Hn},Eu={[-5]:Xt,[-4]:Xt,[-3]:Xt,33:tu,38:jn,42:ae,60:[ns,Vs],91:nu,92:[vs,Hn],93:ke,95:ae,96:ms},Au={null:[ae,yu]},Fu={null:[42,95]},Pu={null:[]},vu=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Fu,contentInitial:Cu,disable:Pu,document:wu,flow:Iu,flowInitial:Su,insideSpan:Au,string:Tu,text:Eu},Symbol.toStringTag,{value:"Module"}));function zu(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let s=[],u=[];const o={attempt:F(B),check:F(x),consume:I,enter:k,exit:A,interrupt:F(x,{interrupt:!0})},l={code:null,containerState:{},defineSkip:b,events:[],now:w,parser:t,previous:null,sliceSerialize:m,sliceStream:h,write:f};let c=e.tokenize.call(l,o);return e.resolveAll&&i.push(e),l;function f(T){return s=tt(s,T),S(),s[s.length-1]!==null?[]:(v(e,0),l.events=xe(i,l.events,l),l.events)}function m(T,E){return Bu(h(T),E)}function h(T){return _u(s,T)}function w(){const{_bufferIndex:T,_index:E,line:M,column:V,offset:D}=r;return{_bufferIndex:T,_index:E,line:M,column:V,offset:D}}function b(T){a[T.line]=T.column,R()}function S(){let T;for(;r._index<s.length;){const E=s[r._index];if(typeof E=="string")for(T=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===T&&r._bufferIndex<E.length;)g(E.charCodeAt(r._bufferIndex));else g(E)}}function g(T){c=c(T)}function I(T){z(T)?(r.line++,r.column=1,r.offset+=T===-3?2:1,R()):T!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=T}function k(T,E){const M=E||{};return M.type=T,M.start=w(),l.events.push(["enter",M,l]),u.push(M),M}function A(T){const E=u.pop();return E.end=w(),l.events.push(["exit",E,l]),E}function B(T,E){v(T,E.from)}function x(T,E){E.restore()}function F(T,E){return M;function M(V,D,Q){let U,X,at,p;return Array.isArray(V)?lt(V):"tokenize"in V?lt([V]):et(V);function et(G){return Tt;function Tt(ht){const xt=ht!==null&&G[ht],bt=ht!==null&&G.null,Rt=[...Array.isArray(xt)?xt:xt?[xt]:[],...Array.isArray(bt)?bt:bt?[bt]:[]];return lt(Rt)(ht)}}function lt(G){return U=G,X=0,G.length===0?Q:d(G[X])}function d(G){return Tt;function Tt(ht){return p=P(),at=G,G.partial||(l.currentConstruct=G),G.name&&l.parser.constructs.disable.null.includes(G.name)?mt():G.tokenize.call(E?Object.assign(Object.create(l),E):l,o,nt,mt)(ht)}}function nt(G){return T(at,p),D}function mt(G){return p.restore(),++X<U.length?d(U[X]):Q}}}function v(T,E){T.resolveAll&&!i.includes(T)&&i.push(T),T.resolve&&ot(l.events,E,l.events.length-E,T.resolve(l.events.slice(E),l)),T.resolveTo&&(l.events=T.resolveTo(l.events,l))}function P(){const T=w(),E=l.previous,M=l.currentConstruct,V=l.events.length,D=Array.from(u);return{from:V,restore:Q};function Q(){r=T,l.previous=E,l.currentConstruct=M,l.events.length=V,u=D,R()}}function R(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function _u(t,e){const n=e.start._index,r=e.start._bufferIndex,a=e.end._index,i=e.end._bufferIndex;let s;if(n===a)s=[t[n].slice(r,i)];else{if(s=t.slice(n,a),r>-1){const u=s[0];typeof u=="string"?s[0]=u.slice(r):s.shift()}i>0&&s.push(t[a].slice(0,i))}return s}function Bu(t,e){let n=-1;const r=[];let a;for(;++n<t.length;){const i=t[n];let s;if(typeof i=="string")s=i;else switch(i){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&a)continue;s=" ";break}default:s=String.fromCharCode(i)}a=i===-2,r.push(s)}return r.join("")}function Nu(t){const r={constructs:Qa([vu,...(t||{}).extensions||[]]),content:a(Ya),defined:[],document:a(Ka),flow:a(mu),lazy:{},string:a(xu),text:a(bu)};return r;function a(i){return s;function s(u){return zu(r,i,u)}}}function Du(t){for(;!Vn(t););return t}const Ye=/[\0\t\n\r]/g;function Lu(){let t=1,e="",n=!0,r;return a;function a(i,s,u){const o=[];let l,c,f,m,h;for(i=e+(typeof i=="string"?i.toString():new TextDecoder(s||void 0).decode(i)),f=0,e="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(Ye.lastIndex=f,l=Ye.exec(i),m=l&&l.index!==void 0?l.index:i.length,h=i.charCodeAt(m),!l){e=i.slice(f);break}if(h===10&&f===m&&r)o.push(-3),r=void 0;else switch(r&&(o.push(-5),r=void 0),f<m&&(o.push(i.slice(f,m)),t+=m-f),h){case 0:{o.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,o.push(-2);t++<c;)o.push(-1);break}case 10:{o.push(-4),t=1;break}default:r=!0,t=1}f=m+1}return u&&(r&&o.push(-5),e&&o.push(e),o.push(null)),o}}const Yn={}.hasOwnProperty;function uo(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Ru(n)(Du(Nu(n).document().write(Lu()(t,e,!0))))}function Ru(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Ie),autolinkProtocol:P,autolinkEmail:P,atxHeading:i(we),blockQuote:i(bt),characterEscape:P,characterReference:P,codeFenced:i(Rt),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:i(Rt,s),codeText:i(Kn,s),codeTextData:P,data:P,codeFlowValue:P,definition:i(Jn),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:i(Xn),hardBreakEscape:i(Ce),hardBreakTrailing:i(Ce),htmlFlow:i(Se,s),htmlFlowData:P,htmlText:i(Se,s),htmlTextData:P,image:i(tr),label:s,link:i(Ie),listItem:i(er),listItemValue:m,listOrdered:i(Te,f),listUnordered:i(Te),paragraph:i(nr),reference:d,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:i(we),strong:i(rr),thematicBreak:i(ar)},exit:{atxHeading:o(),atxHeadingSequence:B,autolink:o(),autolinkEmail:xt,autolinkProtocol:ht,blockQuote:o(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:mt,characterReferenceMarkerNumeric:mt,characterReferenceValue:G,characterReference:Tt,codeFenced:o(S),codeFencedFence:b,codeFencedFenceInfo:h,codeFencedFenceMeta:w,codeFlowValue:R,codeIndented:o(g),codeText:o(D),codeTextData:R,data:R,definition:o(),definitionDestinationString:A,definitionLabelString:I,definitionTitleString:k,emphasis:o(),hardBreakEscape:o(E),hardBreakTrailing:o(E),htmlFlow:o(M),htmlFlowData:R,htmlText:o(V),htmlTextData:R,image:o(U),label:at,labelText:X,lineEnding:T,link:o(Q),listItem:o(),listOrdered:o(),listUnordered:o(),paragraph:o(),referenceString:nt,resourceDestinationString:p,resourceTitleString:et,resource:lt,setextHeading:o(v),setextHeadingLineSequence:F,setextHeadingText:x,strong:o(),thematicBreak:o()}};Zn(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(y){let C={type:"root",children:[]};const _={stack:[C],tokenStack:[],config:e,enter:u,exit:l,buffer:s,resume:c,data:n},L=[];let O=-1;for(;++O<y.length;)if(y[O][1].type==="listOrdered"||y[O][1].type==="listUnordered")if(y[O][0]==="enter")L.push(O);else{const rt=L.pop();O=a(y,rt,O)}for(O=-1;++O<y.length;){const rt=e[y[O][0]];Yn.call(rt,y[O][1].type)&&rt[y[O][1].type].call(Object.assign({sliceSerialize:y[O][2].sliceSerialize},_),y[O][1])}if(_.tokenStack.length>0){const rt=_.tokenStack[_.tokenStack.length-1];(rt[1]||Ze).call(_,void 0,rt[0])}for(C.position={start:pt(y.length>0?y[0][1].start:{line:1,column:1,offset:0}),end:pt(y.length>0?y[y.length-2][1].end:{line:1,column:1,offset:0})},O=-1;++O<e.transforms.length;)C=e.transforms[O](C)||C;return C}function a(y,C,_){let L=C-1,O=-1,rt=!1,gt,ct,Et,At;for(;++L<=_;){const Z=y[L];switch(Z[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Z[0]==="enter"?O++:O--,At=void 0;break}case"lineEndingBlank":{Z[0]==="enter"&&(gt&&!At&&!O&&!Et&&(Et=L),At=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:At=void 0}if(!O&&Z[0]==="enter"&&Z[1].type==="listItemPrefix"||O===-1&&Z[0]==="exit"&&(Z[1].type==="listUnordered"||Z[1].type==="listOrdered")){if(gt){let kt=L;for(ct=void 0;kt--;){const ft=y[kt];if(ft[1].type==="lineEnding"||ft[1].type==="lineEndingBlank"){if(ft[0]==="exit")continue;ct&&(y[ct][1].type="lineEndingBlank",rt=!0),ft[1].type="lineEnding",ct=kt}else if(!(ft[1].type==="linePrefix"||ft[1].type==="blockQuotePrefix"||ft[1].type==="blockQuotePrefixWhitespace"||ft[1].type==="blockQuoteMarker"||ft[1].type==="listItemIndent"))break}Et&&(!ct||Et<ct)&&(gt._spread=!0),gt.end=Object.assign({},ct?y[ct][1].start:Z[1].end),y.splice(ct||L,0,["exit",gt,Z[2]]),L++,_++}if(Z[1].type==="listItemPrefix"){const kt={type:"listItem",_spread:!1,start:Object.assign({},Z[1].start),end:void 0};gt=kt,y.splice(L,0,["enter",kt,Z[2]]),L++,_++,Et=void 0,At=!0}}}return y[C][1]._spread=rt,_}function i(y,C){return _;function _(L){u.call(this,y(L),L),C&&C.call(this,L)}}function s(){this.stack.push({type:"fragment",children:[]})}function u(y,C,_){this.stack[this.stack.length-1].children.push(y),this.stack.push(y),this.tokenStack.push([C,_||void 0]),y.position={start:pt(C.start),end:void 0}}function o(y){return C;function C(_){y&&y.call(this,_),l.call(this,_)}}function l(y,C){const _=this.stack.pop(),L=this.tokenStack.pop();if(L)L[0].type!==y.type&&(C?C.call(this,y,L[0]):(L[1]||Ze).call(this,y,L[0]));else throw new Error("Cannot close `"+y.type+"` ("+vt({start:y.start,end:y.end})+"): itâs not open");_.position.end=pt(y.end)}function c(){return Ha(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m(y){if(this.data.expectingFirstListItemValue){const C=this.stack[this.stack.length-2];C.start=Number.parseInt(this.sliceSerialize(y),10),this.data.expectingFirstListItemValue=void 0}}function h(){const y=this.resume(),C=this.stack[this.stack.length-1];C.lang=y}function w(){const y=this.resume(),C=this.stack[this.stack.length-1];C.meta=y}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const y=this.resume(),C=this.stack[this.stack.length-1];C.value=y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const y=this.resume(),C=this.stack[this.stack.length-1];C.value=y.replace(/(\r?\n|\r)$/g,"")}function I(y){const C=this.resume(),_=this.stack[this.stack.length-1];_.label=C,_.identifier=Ct(this.sliceSerialize(y)).toLowerCase()}function k(){const y=this.resume(),C=this.stack[this.stack.length-1];C.title=y}function A(){const y=this.resume(),C=this.stack[this.stack.length-1];C.url=y}function B(y){const C=this.stack[this.stack.length-1];if(!C.depth){const _=this.sliceSerialize(y).length;C.depth=_}}function x(){this.data.setextHeadingSlurpLineEnding=!0}function F(y){const C=this.stack[this.stack.length-1];C.depth=this.sliceSerialize(y).codePointAt(0)===61?1:2}function v(){this.data.setextHeadingSlurpLineEnding=void 0}function P(y){const _=this.stack[this.stack.length-1].children;let L=_[_.length-1];(!L||L.type!=="text")&&(L=ir(),L.position={start:pt(y.start),end:void 0},_.push(L)),this.stack.push(L)}function R(y){const C=this.stack.pop();C.value+=this.sliceSerialize(y),C.position.end=pt(y.end)}function T(y){const C=this.stack[this.stack.length-1];if(this.data.atHardBreak){const _=C.children[C.children.length-1];_.position.end=pt(y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(C.type)&&(P.call(this,y),R.call(this,y))}function E(){this.data.atHardBreak=!0}function M(){const y=this.resume(),C=this.stack[this.stack.length-1];C.value=y}function V(){const y=this.resume(),C=this.stack[this.stack.length-1];C.value=y}function D(){const y=this.resume(),C=this.stack[this.stack.length-1];C.value=y}function Q(){const y=this.stack[this.stack.length-1];if(this.data.inReference){const C=this.data.referenceType||"shortcut";y.type+="Reference",y.referenceType=C,delete y.url,delete y.title}else delete y.identifier,delete y.label;this.data.referenceType=void 0}function U(){const y=this.stack[this.stack.length-1];if(this.data.inReference){const C=this.data.referenceType||"shortcut";y.type+="Reference",y.referenceType=C,delete y.url,delete y.title}else delete y.identifier,delete y.label;this.data.referenceType=void 0}function X(y){const C=this.sliceSerialize(y),_=this.stack[this.stack.length-2];_.label=$a(C),_.identifier=Ct(C).toLowerCase()}function at(){const y=this.stack[this.stack.length-1],C=this.resume(),_=this.stack[this.stack.length-1];if(this.data.inReference=!0,_.type==="link"){const L=y.children;_.children=L}else _.alt=C}function p(){const y=this.resume(),C=this.stack[this.stack.length-1];C.url=y}function et(){const y=this.resume(),C=this.stack[this.stack.length-1];C.title=y}function lt(){this.data.inReference=void 0}function d(){this.data.referenceType="collapsed"}function nt(y){const C=this.resume(),_=this.stack[this.stack.length-1];_.label=C,_.identifier=Ct(this.sliceSerialize(y)).toLowerCase(),this.data.referenceType="full"}function mt(y){this.data.characterReferenceType=y.type}function G(y){const C=this.sliceSerialize(y),_=this.data.characterReferenceType;let L;_?(L=qn(C,_==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):L=be(C);const O=this.stack[this.stack.length-1];O.value+=L}function Tt(y){const C=this.stack.pop();C.position.end=pt(y.end)}function ht(y){R.call(this,y);const C=this.stack[this.stack.length-1];C.url=this.sliceSerialize(y)}function xt(y){R.call(this,y);const C=this.stack[this.stack.length-1];C.url="mailto:"+this.sliceSerialize(y)}function bt(){return{type:"blockquote",children:[]}}function Rt(){return{type:"code",lang:null,meta:null,value:""}}function Kn(){return{type:"inlineCode",value:""}}function Jn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Xn(){return{type:"emphasis",children:[]}}function we(){return{type:"heading",depth:0,children:[]}}function Ce(){return{type:"break"}}function Se(){return{type:"html",value:""}}function tr(){return{type:"image",title:null,url:"",alt:null}}function Ie(){return{type:"link",title:null,url:"",children:[]}}function Te(y){return{type:"list",ordered:y.type==="listOrdered",start:null,spread:y._spread,children:[]}}function er(y){return{type:"listItem",spread:y._spread,checked:null,children:[]}}function nr(){return{type:"paragraph",children:[]}}function rr(){return{type:"strong",children:[]}}function ir(){return{type:"text",value:""}}function ar(){return{type:"thematicBreak"}}}function pt(t){return{line:t.line,column:t.column,offset:t.offset}}function Zn(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?Zn(t,r):Mu(t,r)}}function Mu(t,e){let n;for(n in e)if(Yn.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function Ze(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+vt({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+vt({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+vt({start:e.start,end:e.end})+") is still open")}export{io as A,Ha as B,Ln as C,$a as D,Oe as E,ya as F,xa as G,Nn as H,ba as I,ma as P,ga as R,Ku as T,J as V,Wu as a,Ju as b,Qu as c,Xu as d,ka as e,Gu as f,to as g,it as h,uo as i,no as j,Le as k,be as l,vt as m,ao as n,eo as o,z as p,q,xe as r,ot as s,H as t,Yu as u,so as v,Ji as w,Y as x,Ta as y,ro as z};
